globals
//globals from Alloc:
constant boolean LIBRARY_Alloc=true
//endglobals from Alloc
//globals from ArrowKeyEvent:
constant boolean LIBRARY_ArrowKeyEvent=true
        //-------------------------------------------------------------------
        // Yo dawg, I herd you like constant variables so I gave you some new
        // constant variables so you can have some constant variables to go
        // with Blizzard's constant variables.
        //
constant integer ARROW_KEY_LEFT= bj_KEYEVENTKEY_LEFT
constant integer ARROW_KEY_RIGHT= bj_KEYEVENTKEY_RIGHT
constant integer ARROW_KEY_DOWN= bj_KEYEVENTKEY_DOWN
constant integer ARROW_KEY_UP= bj_KEYEVENTKEY_UP
//endglobals from ArrowKeyEvent
//globals from BoundSentinel:
constant boolean LIBRARY_BoundSentinel=true
constant boolean BoundSentinel___ALLOW_OUTSIDE_PLAYABLE_MAP_AREA= false
real BoundSentinel___maxx
real BoundSentinel___maxy
real BoundSentinel___minx
real BoundSentinel___miny
//endglobals from BoundSentinel
//globals from Event:
constant boolean LIBRARY_Event=true
real Event___q=0
//endglobals from Event
//globals from GetZ:
constant boolean LIBRARY_GetZ=true
location GetZ___loc= Location(0, 0)
//endglobals from GetZ
//globals from ItemTable:
constant boolean LIBRARY_ItemTable=true
constant integer SANBI_SKIN= 'I02U'
constant integer BAULK_OF_KAWARIMI= 'I086'
constant integer MEDICAL_SPHERE= 'I088'
constant integer YATA_MIRROR= 'I082'
constant integer ANBU_BADGE= 'I04Q'
constant integer ANBU_MASK= 'I06Q'
constant integer AKATSUKI_RING= 'I081'
constant integer BLINK_STONE= 'I05T'
constant integer BUNSHIN_STONE= 'I05O'
constant integer CHAKRA_STONE= 'I05V'
constant integer JADE_OF_INVISIBILITY= 'I05N'
constant integer JADE_OF_SUSANOO= 'I04S'
constant integer MIRROR_OF_THE_HEAVEN= 'I05K'
constant integer NINJA_BANDANA= 'I05M'
constant integer SHIELD_OF_THE_SUN= 'I084'
constant integer STONE_OF_THE_HEAVEN= 'I05U'
constant integer SOULABSORB_STONE= 'I085'
constant integer SPIRIT_OF_WATER= 'I05W'
constant integer SPIRIT_OF_DARK= 'I05Y'
constant integer SPIRIT_OF_EARTH= 'I05X'
constant integer SPIRIT_OF_FIRE= 'I05Z'
constant integer SPIRIT_OF_THUNDER= 'I07L'
constant integer SPIRIT_OF_WIND= 'I036'
constant integer SPIRIT_OF_LIGHT= 'I061'
constant integer BIG_MOON_SWORD= 'I083'
constant integer HEAVEN_SWORD= 'I030'
constant integer KYUUBI_LOST_SPEAR= 'I03W'
constant integer RAIKAGE_SPEAR= 'I02J'
constant integer NIDAIME_STAFF= 'I031'
constant integer YONDAIME_CROSSBOW= 'I04O'
constant integer ANBU_ARMOR= 'I01U'
constant integer AKATSUKI_CLOTH= 'I00V'
constant integer CHUNNIN_CLOTH= 'I005'
constant integer GENIN_CLOTH= 'I004'
constant integer JOUNIN_CLOTH= 'I003'
constant integer SANNIN_CLOTH= 'I01V'
constant integer KAGE_ROBE= 'I038'
constant integer BODY_REPLACING_DOLL= 'I033'
constant integer SMOKE_BOMB= 'I00W'
constant integer TENSEI_BOOK= 'I02F'
constant integer GENJUTSU_TRAINING_BOOK= 'I00U'
constant integer NINJUTSU_TRAINING_BOOK= 'I00T'
constant integer TAIJUTSU_TRAINING_BOOK= 'I00S'
constant integer MISSION_HANDBOOK= 'I00G'
constant integer BLINK_BOOTS= 'I03F'
constant integer BOOTS_OF_INVISIBILITY= 'I03E'
constant integer CLOGS= 'I00D'
constant integer CLONING_BOOTS= 'I03G'
constant integer EIGHT_HEAVENS_MIRROR= 'I006'
constant integer FAST_BOOTS= 'I00B'
constant integer KAGE_HAT= 'I037'
constant integer LIFE_STONE= 'I00R'
constant integer NINJA_BOOTS= 'I00C'
constant integer BOMB= 'I02R'
constant integer EXPLOSIVE_KUNAI= 'I011'
constant integer EXPLOSIVE_TAGS_PACKAGE= 'I013'
constant integer FUUMA_SHURIKEN= 'I012'
constant integer OIL= 'I020'
constant integer POISONOUS_PILLS= 'I00X'
constant integer SENBONS_DANCE= 'I001'
constant integer TIMED_EXPLOSIVE_TAG= 'I02Q'
constant integer KUNAI_1= 'I00Y'
constant integer KUNAI_2= 'I00Z'
constant integer KUNAI_3= 'I014'
constant integer KUNAI_4= 'I015'
constant integer KUNAI_5= 'I016'
constant integer KUNAI_6= 'I017'
constant integer KUNAI_7= 'I018'
constant integer KUNAI_8= 'I019'
constant integer KUNAI_9= 'I01A'
constant integer KUNAI_10= 'I01B'
constant integer SHURIKEN_1= 'I01L'
constant integer SHURIKEN_2= 'I01C'
constant integer SHURIKEN_3= 'I01D'
constant integer SHURIKEN_4= 'I01E'
constant integer SHURIKEN_5= 'I01F'
constant integer SHURIKEN_6= 'I01G'
constant integer SHURIKEN_7= 'I01H'
constant integer SHURIKEN_8= 'I01I'
constant integer SHURIKEN_9= 'I01J'
constant integer SHURIKEN_10= 'I01K'
constant integer SENBONS_1= 'I00J'
constant integer SENBONS_2= 'I00K'
constant integer SENBONS_3= 'I01M'
constant integer SENBONS_4= 'I01N'
constant integer SENBONS_5= 'I01O'
constant integer SENBONS_6= 'I01P'
constant integer SENBONS_7= 'I01Q'
constant integer SENBONS_8= 'I01R'
constant integer SENBONS_9= 'I01S'
constant integer SENBONS_10= 'I01T'
constant integer KUSANAGI_SWORD= 'I007'
constant integer WIND_KUNAI= 'I03A'
constant integer WIND_SENBONS= 'I03C'
constant integer WIND_SHURIKEN= 'I03B'
constant integer WIND_KUSANAGI= 'I07S'
constant integer CHILLING_TOTSUKA= 'I02Y'
constant integer WATER_KUSANAGI= 'I02H'
constant integer WATER_KUNAI= 'I01Y'
constant integer WATER_SENBONS= 'I02A'
constant integer WATER_SHURIKEN= 'I024'
constant integer DARK_KUNAI= 'I023'
constant integer DARK_SENBONS= 'I02C'
constant integer DARK_SHURIKEN= 'I026'
constant integer DARK_TOTSUKA= 'I032'
constant integer DARK_KUSANAGI= 'I059'
constant integer EARTH_KUSANAGI= 'I07R'
constant integer EARTH_KUNAI= 'I022'
constant integer EARTH_SENBONS= 'I02B'
constant integer EARTH_SHURIKEN= 'I025'
constant integer FIRE_KUNAI= 'I01Z'
constant integer FIRE_KUSANAGI= 'I00E'
constant integer FIRE_SENBONS= 'I02D'
constant integer FIRE_SHURIKEN= 'I028'
constant integer INFERNAL_TOTSUKA= 'I02W'
constant integer SWORD_OF_TOTSUKA= 'I00L'
constant integer THUNDER_KUNAI= 'I021'
constant integer THUNDER_KUSANAGI= 'I02G'
constant integer THUNDER_SENBONS= 'I029'
constant integer THUNDER_SHURIKEN= 'I027'
constant integer THUNDERING_TOTSUKA= 'I058'
constant integer LIGHT_KUSANAGI= 'I02T'
constant integer LIGHT_KUNAI= 'I065'
constant integer LIGHT_SHURIKEN= 'I066'
constant integer LIGHT_SENBONS= 'I067'
constant integer HOKAGE_ROBE= 'I03K'
constant integer MIZUKAGE_ROBE= 'I03L'
constant integer TSUCHIKAGE_ROBE= 'I03M'
constant integer KAZEKAGE_ROBE= 'I03O'
constant integer RAIKAGE_ROBE= 'I03N'
constant integer OTOKAGE_ROBE= 'I03P'
constant integer MEDICAL_NINJA_SET= 'I05I'
constant integer MEDICAL_NINJA_CLOTH= 'I05H'
constant integer MEDICAL_SCALPEL= 'I05G'
constant integer KUMOGAKURE_CHAKRA_BLADES= 'I07U'
constant integer KONOHAGAKURE_CHAKRA_BLADES= 'I07T'
constant integer IWAGAKURE_CHAKRA_BLADES= 'I07Z'
constant integer KIRIGAKURE_CHAKRA_BLADES= 'I07Y'
constant integer OTOGAKURE_CHAKRA_BLADES= 'I07V'
constant integer SUNAGAKURE_CHAKRA_BLADES= 'I07X'
constant integer SAGE_CHAKRA_BLADES= 'I07W'
constant integer CHAKRA_BLADES= 'I06N'
//endglobals from ItemTable
//globals from ItemUtils:
constant boolean LIBRARY_ItemUtils=true
//endglobals from ItemUtils
//globals from PlayerUtils:
constant boolean LIBRARY_PlayerUtils=true
        // automatically change unit colors when changing player color
constant boolean PlayerUtils___AUTO_COLOR_UNITS= true
   
        // use an array for name / color lookups (instead of function calls)
constant boolean PlayerUtils___ARRAY_LOOKUP= false
   
        // this only applies if ARRAY_LOOKUP is true
constant boolean PlayerUtils___HOOK_SAFETY= false
   
constant force FORCE_PLAYING= CreateForce()
   
string array PlayerUtils___Name
string array PlayerUtils___Hex
string array PlayerUtils___OriginalHex
playercolor array PlayerUtils___CurrentColor
//endglobals from PlayerUtils
//globals from PowerupSentinel:
constant boolean LIBRARY_PowerupSentinel=true
//endglobals from PowerupSentinel
//globals from PreventSave:
constant boolean LIBRARY_PreventSave=true
boolean GameAllowSave= false
dialog PreventSave___Dialog= DialogCreate()
timer PreventSave___Timer= CreateTimer()
player PreventSave___localplayer
//endglobals from PreventSave
//globals from Table:
constant boolean LIBRARY_Table=true
integer Table___less= 0
integer Table___more= 8190
    //Configure it if you use more than 8190 "key" variables in your map (this will never happen though).
    
hashtable Table___ht= InitHashtable()
constant integer Table___sizeK=6
constant integer Table___listK=8
//endglobals from Table
//globals from TimerUtils:
constant boolean LIBRARY_TimerUtils=true
        //How to tweak timer utils:
        // USE_HASH_TABLE = true  (new blue)
        //  * SAFEST
        //  * SLOWEST (though hash tables are kind of fast)
        //
        // USE_HASH_TABLE = false, USE_FLEXIBLE_OFFSET = true  (orange)
        //  * kinda safe (except there is a limit in the number of timers)
        //  * ALMOST FAST
        //
        // USE_HASH_TABLE = false, USE_FLEXIBLE_OFFSET = false (red)
        //  * THE FASTEST (though is only  faster than the previous method
        //                  after using the optimizer on the map)
        //  * THE LEAST SAFE ( you may have to tweak OFSSET manually for it to
        //                     work)
        //
constant boolean TimerUtils___USE_HASH_TABLE= true
constant boolean TimerUtils___USE_FLEXIBLE_OFFSET= false

constant integer TimerUtils___OFFSET= 0x100000
integer TimerUtils___VOFFSET= TimerUtils___OFFSET
              
        //Timers to preload at map init:
constant integer TimerUtils___QUANTITY= 256
        
        //Changing this  to something big will allow you to keep recycling
        // timers even when there are already AN INCREDIBLE AMOUNT of timers in
        // the stack. But it will make things far slower so that's probably a bad idea...
constant integer TimerUtils___ARRAY_SIZE= 8190
// processed:         string array runningTimersString[TimerUtils___ARRAY_SIZE]
integer runningTimers
// processed:         integer array TimerUtils___data[TimerUtils___ARRAY_SIZE]
hashtable TimerUtils___ht
// processed:         timer array TimerUtils___tT[TimerUtils___ARRAY_SIZE]
integer TimerUtils___tN= 0
constant integer TimerUtils___HELD=0x28829022
        //use a totally random number here, the more improbable someone uses it, the better.
        
boolean TimerUtils___didinit= false
//endglobals from TimerUtils
//globals from UIMath:
constant boolean LIBRARY_UIMath=true
//endglobals from UIMath
//globals from WorldBounds:
constant boolean LIBRARY_WorldBounds=true
//endglobals from WorldBounds
//globals from xebasic:
constant boolean LIBRARY_xebasic=true
constant integer XE_DUMMY_UNITID= 'e007'
constant integer XE_HEIGHT_ENABLER= 'Amrf'
constant integer XE_TREE_RECOGNITION= 'Aeat'
constant real XE_ANIMATION_PERIOD=  0.025
constant real XE_MAX_COLLISION_SIZE=  197.0
// processed:    integer array assisted[8190][12]
//endglobals from xebasic
//globals from AutoBuyS:
constant boolean LIBRARY_AutoBuyS=true
// processed: boolean array AutoBuyS__autobuy[12]
// processed: boolean array AutoBuyS__firstUse[12] 
// processed: integer array AutoBuyS__buildId[14]
// processed:     ItemList array AutoBuyS__lists[12] 
//endglobals from AutoBuyS
//globals from Camera:
constant boolean LIBRARY_Camera=true
        // configuration   
        
        // location on the map where the terrain is the default level
constant real CHECK_DELTAZ_X= 4280
constant real CHECK_DELTAZ_Y= - 9079
        
        //constant real SCREEN_WIDTH  = I2R(BlzGetLocalClientWidth())
        //constant real SCREEN_HEIGHT = I2R(BlzGetLocalClientHeight())
		
constant real SCREEN_WIDTH= 0.544
constant real SCREEN_HEIGHT= I2R(BlzGetLocalClientHeight()) / I2R(BlzGetLocalClientWidth()) * 0.544
        
        //constant real SCREEN_ASPECT_RATIO = I2R(BlzGetLocalClientWidth())/I2R(BlzGetLocalClientHeight())
		
constant real SCREEN_ASPECT_RATIO= SCREEN_WIDTH / SCREEN_HEIGHT
        
constant integer CAMERA_DUMMY_TYPE= 'e007'
constant player CAMERA_DUMMY_PLAYER= Player(bj_PLAYER_NEUTRAL_EXTRA)
        // endconfig
        
unit array Camera_DummyUnit
real Camera___DeltaZ= 0
real Camera___TempX= 0
real Camera___TempY= 0
//endglobals from Camera
//globals from Dialog:
constant boolean LIBRARY_Dialog=true
constant integer KEY_SPACEBAR= 32
        
        
constant integer KEY_NUMPAD_0= 257
constant integer KEY_NUMPAD_1= 258
constant integer KEY_NUMPAD_2= 259
constant integer KEY_NUMPAD_3= 260
constant integer KEY_NUMPAD_4= 261
constant integer KEY_NUMPAD_5= 262
constant integer KEY_NUMPAD_6= 263
constant integer KEY_NUMPAD_7= 264
constant integer KEY_NUMPAD_8= 265
constant integer KEY_NUMPAD_9= 266
constant integer KEY_NUMPAD_PLUS= 267
constant integer KEY_NUMPAD_MINUS= 268
constant integer KEY_NUMPAD_ASTERISK= 269
constant integer KEY_NUMPAD_SLASH= 270
constant integer KEY_NUMPAD_PERIOD= 271
        
constant integer KEY_EQUALS= 272
constant integer KEY_MINUS= 273
constant integer KEY_LEFT_BRACKET= 274
constant integer KEY_RIGHT_BRACKET= 275
constant integer KEY_BACKSLASH= 276
constant integer KEY_SEMICOLON= 277
constant integer KEY_APOSTROPHE= 278
constant integer KEY_COMMA= 279
constant integer KEY_PERIOD= 280
constant integer KEY_SLASH= 281
constant integer KEY_ESCAPE= 512
constant integer KEY_BACKSPACE= 514
        
        
constant integer KEY_LEFT_ARROW= 516
constant integer KEY_UP_ARROW= 517
constant integer KEY_RIGHT_ARROW= 518
constant integer KEY_DOWN_ARROW= 519
        
constant integer KEY_INSERT= 520
constant integer KEY_DELETE= 521
constant integer KEY_HOME= 522
constant integer KEY_END= 523
constant integer KEY_PAGE_UP= 524
constant integer KEY_PAGE_DOWN= 525
constant integer KEY_CAPS_LOCK= 526
constant integer KEY_NUM_LOCK= 527
constant integer KEY_SCROLL_LOCK= 528
constant integer KEY_PAUSE= 529
        
        
constant integer KEY_F1= 768
constant integer KEY_F2= 769
constant integer KEY_F3= 770
constant integer KEY_F4= 771
constant integer KEY_F5= 772
constant integer KEY_F6= 773
constant integer KEY_F7= 774
constant integer KEY_F8= 775
constant integer KEY_F9= 776
constant integer KEY_F10= 777
constant integer KEY_F11= 778
constant integer KEY_F12= 779
integer Dialog___instance= 0
//endglobals from Dialog
//globals from GeometryLibBase:
constant boolean LIBRARY_GeometryLibBase=true
real GeometryLibBase___SPACE_X
real GeometryLibBase___SPACE_Y
real GeometryLibBase___SPACE_ANGLE
real GeometryLibBase___SPACE_MAX_ANGLE
real GeometryLibBase___SPACE_OFFSET
real GeometryLibBase___SPACE_OFFSET_2
integer GeometryLibBase___GEOMETRY
//endglobals from GeometryLibBase
//globals from Lightning:
constant boolean LIBRARY_Lightning=true
constant real Lightning___TIMEOUT= 0.03125
    
    //* Do not edit below here
    
    //Lightning type constants
constant string LIGHTNING_AERIAL_SHACKLES= "LEAS"
constant string LIGHTNING_CHAIN_LIGHTNING_PRIMARY= "CLPB"
constant string LIGHTNING_CHAIN_LIGHTNING_SECONDARY= "CLSB"
constant string LIGHTNING_DRAIN_LIFE= "DRAL"
constant string LIGHTNING_DRAIN_LIFE_AND_MANA= "DRAB"
constant string LIGHTNING_DRAIN_MANA= "DRAM"
constant string LIGHTNING_FINGER_OF_DEATH= "AFOD"
constant string LIGHTNING_FORKED_LIGHTNING= "FORK"
constant string LIGHTNING_HEALING_WAVE_PRIMARY= "HWPB"
constant string LIGHTNING_HEALING_WAVE_SECONDARY= "HWSB"
constant string LIGHTNING_LIGHTNING_ATTACK= "CHIM"
constant string LIGHTNING_MANA_BURN= "MBUR"
constant string LIGHTNING_MANA_FLARE= "MFPB"
constant string LIGHTNING_SPIRIT_LINK= "SPLK"
constant boolean LIGHTNING_START= true
constant boolean LIGHTNING_END= false
    
location Lightning___Loc= Location(0., 0.)
integer array Lightning___Array
integer Lightning___Index= 0
timer Lightning___Timer= CreateTimer()
//endglobals from Lightning
//globals from TableBC:
constant boolean LIBRARY_TableBC=true
//endglobals from TableBC
//globals from UnitDex:
constant boolean LIBRARY_UnitDex=true
        // Event types
constant integer EVENT_UNIT_INDEX= 0
constant integer EVENT_UNIT_DEINDEX= 1
        
        // System variables
trigger array UnitDex___IndexTrig
integer UnitDex___Index= 0
real UnitDex___E=- 1
boolexpr UnitDex___FilterEnter
//endglobals from UnitDex
//globals from xepreload:
constant boolean LIBRARY_xepreload=true
unit xepreload___dum=null
//endglobals from xepreload
//globals from EffectUtils:
constant boolean LIBRARY_EffectUtils=true
//endglobals from EffectUtils
//globals from RegisterPlayerUnitEvent:
constant boolean LIBRARY_RegisterPlayerUnitEvent=true
trigger array RegisterPlayerUnitEvent___t
// processed: 	integer array RegisterPlayerUnitEvent___leave_ids[300]
integer RegisterPlayerUnitEvent___leave_ids_count= 0
// processed: 	boolexpr array RegisterPlayerUnitEvent___death_events[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___death_events_b[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___death_events_count[300]
// processed: 	boolexpr array RegisterPlayerUnitEvent___attack_events[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___attack_events_b[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___attack_events_count[300]
// processed: 	boolexpr array RegisterPlayerUnitEvent___spell_events[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___spell_events_id[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___spell_events_b[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___spell_events_count[300]
// processed: 	trigger array RegisterPlayerUnitEvent___trigger_events[300][30]
// processed: 	integer array RegisterPlayerUnitEvent___trigger_events_count[300]
trigger RegisterPlayerUnitEvent___leave_trigger= CreateTrigger()
//endglobals from RegisterPlayerUnitEvent
//globals from UnitRecycler2:
constant boolean LIBRARY_UnitRecycler2=true
group UnitRecycler2___toRecycle
//endglobals from UnitRecycler2
//globals from UnitUtils:
constant boolean LIBRARY_UnitUtils=true
unit GLOBAL_DUMMY
integer UnitUtils___bars
// processed: 	group array UnitUtils___dummies[12]
// processed:     string array UnitUtils___ASCII_TABLE[91] 
// processed:     integer array UnitUtils___PLAYER_ARRAY[9] 
//endglobals from UnitUtils
    // User-defined
group udg_group01= null
unit udg_unit04= null
group udg_group02= null
real udg_real01= 0
integer udg_integer01= 0
effect udg_effect01= null
integer udg_integer02= 0
real udg_real02= 0
integer udg_integer03= 0
effect udg_effect02= null
unit udg_unit10= null
dialog udg_dialog01= null
button array udg_buttons01
boolean array udg_booleans01
integer array udg_integers01
integer array udg_integers02
dialog udg_dialog02= null
boolean udg_boolean01= false
dialog udg_dialog03= null
boolean udg_boolean02= false
timer udg_timer01= null
integer udg_integer04= 0
unit array udg_units02
unit array udg_units03
integer udg_integer05= 0
unit udg_unit11= null
unit array udg_units04
unit array udg_units05
unit array udg_units06
unit array udg_units07
unit array udg_units08
integer udg_integer06= 0
unit array udg_units09
real udg_real03= 0
unit array udg_units10
unit array udg_units11
group array udg_groups01
boolean udg_boolean03= false
unit udg_unit12= null
unit array udg_units13
unit array udg_units14
real array udg_reals01
effect array udg_effects02
unit array udg_units15
integer array udg_integers03
location array udg_locations01
group array udg_groups02
integer array udg_integers04
unit array udg_units16
unit array udg_units18
unit array udg_units19
unit array udg_units20
unit array udg_units21
lightning array udg_lightnings01
real udg_real04= 0
unit array udg_units22
integer array udg_integers05
unit udg_unit13= null
force array udg_forces01
unit array udg_units23
unit array udg_units24
unit array udg_units25
location udg_location03= null
destructable array udg_destructables01
destructable array udg_destructables02
destructable array udg_destructables03
destructable array udg_destructables04
location udg_location04= null
real udg_real05= 0
effect array udg_effects03
boolean udg_boolean04= false
destructable array udg_destructables05
real udg_real06= 0
unit array udg_units26
unit array udg_units27
real udg_real07= 0
unit array udg_units28
real udg_real08= 0
group udg_group03= null
integer udg_integer07= 0
real udg_real09= 0
unit udg_unit14= null
integer udg_integer08= 0
real udg_real10= 0
timer udg_timer02= null
integer array udg_integers06
real udg_real11= 0
integer array udg_integers07
integer array udg_integers08
integer array udg_integers09
integer udg_integer09= 0
integer udg_integer10= 0
itemtype udg_itemtype01= null
integer array udg_integers10
unit array udg_units29
real udg_real12= 0
boolean udg_boolean05= false
lightning array udg_lightnings02
dialog udg_dialog04= null
location array udg_locations02
location udg_location05= null
location udg_location06= null
unit array udg_units30
unit udg_unit15= null
unit udg_unit16= null
unit array udg_units31
integer array udg_integers11
location array udg_locations03
integer udg_integer11= 0
group udg_group04= null
integer udg_integer12= 0
timer array udg_timers01
timerdialog array udg_timerdialogs01
unit array udg_units32
integer array udg_integers12
unit array udg_units33
unit array udg_units34
group array udg_groups03
group array udg_groups04
location array udg_locations06
boolean array udg_booleans02
texttag udg_texttag01= null
group array udg_groups05
unit array udg_units35
sound array udg_sounds01
boolean array udg_booleans03
boolean array udg_booleans04
dialog udg_dialog05= null
location array udg_locations07
real array udg_reals02
group udg_group05= null
group array udg_groups06
integer array udg_integers13
integer array udg_integers14
player array udg_players01
multiboard udg_multiboard01= null
unit array udg_units37
real array udg_reals03
real array udg_reals04
location array udg_locations08
group array udg_groups07
unit array udg_units38
unit array udg_units39
group array udg_groups08
integer array udg_integers15
integer array udg_integers16
location array udg_locations09
location array udg_locations10
real array udg_reals05
unit array udg_units40
integer array udg_integers17
group udg_group06= null
group udg_group07= null
location array udg_locations14
timer udg_timer03= null
integer udg_integer13= 0
real udg_real13= 0
real array udg_reals06
real array udg_reals07
real array udg_reals08
integer udg_integer14= 0
group udg_group08= null
real array udg_reals09
integer array udg_integers18
group udg_group09= null
integer udg_integer15= 0
real udg_real14= 0
timer udg_timer04= null
group udg_group10= null
unit array udg_units45
unit udg_unit20= null
timer udg_timer05= null
group array udg_groups09
location array udg_locations17
unit udg_unit22= null
unit udg_unit23= null
unit udg_unit24= null
timer udg_timer06= null
location array udg_locations18
unit udg_unit25= null
unit udg_unit26= null
location array udg_locations19
timer udg_timer07= null
integer udg_integer16= 0
location udg_location08= null
location udg_location09= null
real udg_real15= 0
real array udg_reals10
real array udg_reals11
integer udg_integer17= 0
unit array udg_units46
real udg_real16= 0
timer udg_timer08= null
timer udg_timer09= null
unit array udg_units47
group udg_group11= null
location udg_location10= null
location array udg_locations20
unit udg_unit27= null
location array udg_locations21
group udg_group12= null
unit array udg_units48
unit array udg_units49
integer udg_integer18= 0
boolean array udg_booleans05
integer udg_integer19= 0
unit udg_unit28= null
group udg_group13= null
location array udg_locations22
unit udg_unit29= null
unit udg_unit30= null
integer array udg_integers19
unit udg_unit31= null
timer udg_timer10= null
timer udg_timer11= null
location array udg_locations23
group array udg_groups10
real array udg_reals12
unit udg_unit32= null
unit udg_unit33= null
string array udg_strings01
string array udg_strings02
integer udg_integer20= 0
boolean udg_boolean06= false
rect udg_rect02= null
rect udg_rect03= null
rect udg_rect04= null
rect udg_rect05= null
rect udg_rect06= null
rect udg_rect07= null
rect udg_rect08= null
rect udg_rect09= null
rect udg_rect10= null
rect udg_rect11= null
rect udg_rect12= null
rect udg_rect13= null
rect udg_rect14= null
rect udg_rect15= null
rect udg_rect16= null
rect udg_rect17= null
rect udg_rect18= null
rect udg_rect19= null
rect udg_rect20= null
rect udg_rect21= null
rect udg_rect22= null
rect udg_rect23= null
rect udg_rect24= null
rect udg_rect25= null
rect udg_rect26= null
rect udg_rect27= null
rect udg_rect28= null
rect udg_rect29= null
rect udg_rect30= null
rect udg_rect31= null
rect udg_rect32= null
rect udg_rect33= null
rect udg_rect34= null
rect udg_rect35= null
rect udg_rect36= null
rect udg_rect37= null
rect udg_rect38= null
rect udg_rect39= null
rect udg_rect40= null
rect udg_rect41= null
rect udg_rect42= null
rect udg_rect43= null
camerasetup udg_camerasetup01= null
camerasetup udg_camerasetup02= null
camerasetup udg_camerasetup03= null
sound udg_sound01= null
string udg_string01
sound udg_sound02= null
sound udg_sound03= null
trigger udg_trigger01= null
trigger udg_trigger02= null
trigger udg_trigger03= null
trigger udg_trigger04= null
trigger udg_trigger05= null
trigger udg_trigger07= null
trigger udg_trigger08= null
trigger udg_trigger09= null
trigger udg_trigger17= null
trigger udg_trigger37= null
trigger udg_trigger38= null
trigger udg_trigger39= null
trigger udg_trigger40= null
trigger udg_trigger41= null
trigger udg_trigger42= null
trigger udg_trigger43= null
trigger udg_trigger44= null
trigger udg_trigger45= null
trigger udg_trigger47= null
trigger udg_trigger53= null
trigger udg_trigger56= null
trigger udg_trigger57= null
trigger udg_trigger58= null
trigger udg_trigger62= null
trigger udg_trigger63= null
trigger udg_trigger66= null
trigger udg_trigger76= null
trigger udg_trigger77= null
trigger udg_trigger78= null
trigger udg_trigger79= null
trigger udg_trigger80= null
trigger udg_trigger84= null
trigger udg_trigger85= null
trigger udg_trigger86= null
trigger udg_trigger89= null
trigger udg_trigger91= null
trigger udg_trigger92= null
trigger udg_trigger93= null
trigger udg_trigger95= null
trigger udg_trigger96= null
trigger udg_trigger97= null
trigger udg_trigger101= null
trigger udg_trigger102= null
trigger udg_trigger103= null
trigger udg_trigger104= null
trigger udg_trigger105= null
trigger udg_trigger106= null
trigger udg_trigger108= null
trigger udg_trigger109= null
trigger udg_trigger110= null
trigger udg_trigger116= null
trigger udg_trigger117= null
trigger udg_trigger118= null
trigger udg_trigger120= null
trigger udg_trigger121= null
trigger udg_trigger125= null
trigger udg_trigger126= null
trigger udg_trigger127= null
trigger udg_trigger130= null
trigger udg_trigger131= null
trigger udg_trigger132= null
trigger udg_trigger133= null
trigger udg_trigger137= null
trigger udg_trigger138= null
trigger udg_trigger139= null
trigger udg_trigger141= null
trigger udg_trigger142= null
trigger udg_trigger143= null
trigger udg_trigger144= null
trigger udg_trigger148= null
trigger udg_trigger149= null
trigger udg_trigger150= null
trigger udg_trigger151= null
trigger udg_trigger152= null
trigger udg_trigger153= null
trigger udg_trigger154= null
trigger udg_trigger159= null
trigger udg_trigger160= null
trigger udg_trigger163= null
trigger udg_trigger164= null
trigger udg_trigger165= null
trigger udg_trigger166= null
trigger udg_trigger167= null
trigger udg_trigger176= null
trigger udg_trigger177= null
trigger udg_trigger183= null
trigger udg_trigger187= null
trigger udg_trigger194= null
trigger udg_trigger195= null
trigger udg_trigger196= null
trigger udg_trigger197= null
trigger udg_trigger201= null
trigger udg_trigger212= null
trigger udg_trigger213= null
trigger udg_trigger220= null
trigger udg_trigger230= null
trigger udg_trigger231= null
trigger udg_trigger232= null
trigger udg_trigger233= null
trigger udg_trigger234= null
trigger udg_trigger237= null
trigger udg_trigger238= null
trigger udg_trigger239= null
trigger udg_trigger240= null
trigger udg_trigger241= null
trigger udg_trigger242= null
trigger udg_trigger243= null
trigger udg_trigger244= null
trigger udg_trigger245= null
trigger udg_trigger274= null
trigger udg_trigger275= null
trigger udg_trigger277= null
trigger udg_trigger279= null
trigger udg_trigger280= null
trigger udg_trigger284= null
trigger udg_trigger285= null
trigger udg_trigger286= null
trigger udg_trigger287= null
trigger udg_trigger288= null
trigger udg_trigger289= null
trigger udg_trigger290= null
trigger udg_trigger291= null
trigger udg_trigger292= null
trigger udg_trigger293= null
trigger udg_trigger296= null
trigger udg_trigger297= null
trigger udg_trigger298= null
trigger udg_trigger299= null
trigger udg_trigger300= null
trigger udg_trigger301= null
trigger udg_trigger304= null
trigger udg_trigger308= null
trigger udg_trigger309= null
trigger udg_trigger310= null
trigger udg_trigger311= null
trigger udg_trigger318= null
trigger udg_trigger323= null
trigger udg_trigger329= null
trigger udg_trigger330= null
trigger udg_trigger333= null
trigger udg_trigger334= null
trigger udg_trigger335= null
trigger udg_trigger336= null
trigger udg_trigger337= null
trigger udg_trigger338= null
trigger udg_trigger342= null
trigger udg_trigger343= null
trigger udg_trigger344= null
trigger udg_trigger349= null
trigger udg_trigger350= null
trigger udg_trigger361= null
trigger udg_trigger362= null
trigger udg_trigger366= null
trigger udg_trigger367= null
trigger udg_trigger368= null
trigger udg_trigger371= null
trigger udg_trigger372= null
trigger udg_trigger373= null
trigger udg_trigger374= null
trigger udg_trigger375= null
trigger udg_trigger378= null
trigger udg_trigger379= null
trigger udg_trigger381= null
trigger udg_trigger382= null
trigger udg_trigger385= null
trigger udg_trigger386= null
trigger udg_trigger390= null
trigger udg_trigger391= null
trigger udg_trigger392= null
trigger udg_trigger393= null
trigger udg_trigger394= null
trigger udg_trigger406= null
trigger udg_trigger407= null
trigger udg_trigger408= null
trigger udg_trigger412= null
trigger udg_trigger413= null
trigger udg_trigger414= null
trigger udg_trigger429= null
trigger udg_trigger430= null
trigger udg_trigger452= null
trigger udg_trigger475= null
trigger udg_trigger476= null
trigger udg_trigger477= null
trigger udg_trigger478= null
trigger udg_trigger479= null
trigger udg_trigger480= null
trigger udg_trigger481= null
trigger udg_trigger482= null
trigger udg_trigger483= null
trigger udg_trigger484= null
trigger udg_trigger485= null
trigger udg_trigger486= null
trigger udg_trigger487= null
trigger udg_trigger488= null
trigger udg_trigger489= null
trigger udg_trigger490= null
trigger udg_trigger491= null
trigger udg_trigger492= null
trigger udg_trigger493= null
trigger udg_trigger494= null
trigger udg_trigger495= null
trigger udg_trigger496= null
trigger udg_trigger497= null
trigger udg_trigger498= null
unit udg_unit34= null
unit udg_unit35= null
unit udg_unit36= null
unit udg_unit37= null
unit udg_unit38= null
unit udg_unit39= null
unit udg_unit40= null
unit udg_unit41= null
unit udg_unit42= null
unit udg_unit43= null
unit udg_unit44= null
unit udg_unit45= null
unit udg_unit47= null
unit udg_unit48= null
unit udg_unit50= null
unit udg_unit51= null
unit udg_unit52= null
unit udg_unit53= null
unit udg_unit54= null
unit udg_unit55= null
unit udg_unit56= null
unit udg_unit57= null
unit udg_unit58= null
unit udg_unit59= null
unit udg_unit60= null
unit udg_unit61= null
unit udg_unit62= null
unit udg_unit64= null
unit udg_unit66= null
unit udg_unit67= null
unit udg_unit68= null
unit udg_unit69= null
unit udg_unit71= null
unit udg_unit72= null
unit udg_unit73= null
unit udg_unit75= null
unit udg_unit77= null
unit udg_unit78= null
unit udg_unit79= null
unit udg_unit80= null
unit udg_unit81= null
unit udg_unit82= null
unit udg_unit83= null
unit udg_unit84= null
unit udg_unit85= null
unit udg_unit86= null
destructable udg_destructable03= null
unit udg_MD_Caster= null
unit udg_MD_Target= null
location array udg_MD_Point
unit udg_MD_Dummy= null
group udg_MD_Group= null
unit udg_FP_Caster= null
real udg_FP_HP= 0
integer udg_FP_Integer= 0
real udg_FP_Reduc= 0
unit udg_Rasen_Caster= null
unit udg_Rasen_Target= null
effect array udg_Rasen_Effect
location udg_Rasen_Point= null
unit udg_Rasen_Dummy= null
location udg_Rasen_Point2= null
location udg_Rasen_Point3= null
group udg_Rasen_Group= null
group udg_Rasen_DamagedUnits= null
location udg_Rasen_Point4= null
unit udg_IL_Caster= null
unit udg_IL_Target= null
location array udg_IL_Point
unit udg_IL_Dummy= null
unit udg_Hira_Caster= null
unit udg_Hira_Target= null
location array udg_Hira_Point
unit udg_Hirashin_Kunai= null
location udg_Hirashin_KunaiPoint= null
location array udg_Rasengan_SpecialPoints
boolean udg_Instant_Bool= false
integer udg_IL_Int= 0
location udg_RasenBall= null
unit udg_RasenBall_Dummy= null
unit udg_MKF_Caster= null
location udg_MKF_TargetPoint= null
location array udg_MKF_Point
unit array udg_MKF_KunaiDummies
unit array udg_MKF_Minatos
integer udg_MKF_Int= 0
group udg_MKF_Group= null
integer udg_IL_NoBug= 0
integer udg_Mange_Random= 0
unit udg_Mange_Attacking= null
location array udg_Mange_Point
unit udg_Mange_Caster= null
unit udg_Mange_Dummy= null
unit udg_Amat_Caster= null
location array udg_Amat_Point
unit array udg_Amat_Dummies
group udg_Amat_Group= null
integer udg_Amat_Count= 0
group udg_Amat_Group2= null
group udg_Amat_Group3= null
effect udg_Amat_Special= null
unit udg_Kirin_Caster= null
location array udg_Kirin_Point
unit udg_Kirin_Dummy= null
unit udg_Kirin_Effect= null
weathereffect udg_Kirin_Rain= null
effect udg_Kirin_Hand= null
group udg_Kirin_Group= null
real udg_Amat_Distance= 0
unit udg_HakkeAura= null
group udg_Tracking_Group= null
unit udg_Tracking_Caster= null
location array udg_Tracking_Point
unit udg_Spray_Caster= null
group udg_Spray_Group= null
location array udg_Spray_Point
unit array udg_MFK_MinatoDummies2
unit udg_DaBomb_Caster= null
unit udg_DaBomb_Target= null
location udg_DaBomb_Point= null
integer udg_DaBomb_Count= 0
effect udg_DaBomb_Special= null
location udg_Mange_Pointp= null
player udg_Duel_Inviter= null
player udg_Duel_Receiver= null
unit udg_Nagashi_Caster= null
location array udg_Nagashi_Point
unit array udg_Nagashi_Dummies
unit array udg_Nagashi_Dummies2
group udg_Nagashi_Group= null
group udg_Nagashi_DamagedGroup= null
rect array udg_Nagashi_Rect
real udg_Nagashi_Damage= 0
real udg_MD_Damage= 0
rect udg_MD_Rect= null
unit udg_DP_Caster= null
location array udg_DP_Point
unit udg_DP_Dummy= null
integer udg_DP_int= 0
rect udg_DP_Rect= null
group udg_DP_Group= null
group udg_DP_DamagedGroup= null
unit udg_PQP_FUDEU_CASTER1= null
unit udg_Kamui_Caster= null
group udg_Kamui_Group= null
location array udg_Kamui_Point
unit udg_Kamui_Dummy= null
group udg_Kamui_Group2= null
effect array udg_Universe_Effects
unit udg_Universe_Caster= null
unit udg_Universe_Target= null
integer udg_Universe_Integer= 0
unit udg_Universe_Dummy= null
group udg_Universe_DamageGroup= null
group udg_Universe_Damaged= null
real udg_Universe_DamageValue= 0
group udg_Hooka_Group= null
unit udg_Hooka_Caster= null
player udg_Hooka_Player= null
group udg_Infinite_InviGroup= null
unit array udg_DFEC_Trees
location array udg_DFEC_Point
unit udg_DFEC_Caster= null
group udg_DEFC_Group= null
group udg_DFEC_Damaged= null
group udg_DFEC_GroupCollision= null
unit udg_SU10_Caster= null
location array udg_SU10_Point
effect udg_SU10_Effect= null
unit udg_SU35_Caster= null
unit udg_SU35_Target= null
location array udg_SU35_Point
integer udg_SU35_Integer= 0
group udg_SU10_Group= null
group udg_SU35_Group= null
unit array udg_SU35_Dummies
integer array udg_SUS35_Integer_Dummy
unit udg_ITA_AMATE_Caster= null
location array udg_ITA_AMATE_Point
unit udg_ITA_AMATE_DUMMY_1= null
group array udg_ITA_AMATE_GROUP
real udg_ITA_AMATE_TIMER= 0
unit udg_RASHO_CASTER= null
boolean udg_SENBONS_SWIFT= false
group udg_SENBONS_GROUP= null
integer udg_DEBUG_INT= 0
real udg_ITA_SUS_LIFE= 0
boolean udg_CHEAT_MOMMYSWITCH= false
dialog udg_DialogMenu_VoteKick= null
dialog udg_Dialog_Kicked= null
string array udg_Colours
playercolor array udg_Colour_Array
boolean array udg_Viewing_VoteKick
integer array udg_Player_Colour
integer array udg_Votes_Against
button array udg_DialogMenu_VoteKick_Button
location udg_Barrier_Point= null
unit udg_Barrier_Dummy= null
unit udg_Barrier_Caster= null
force udg_VoteKick_Bug= null
unit udg_C3_Caster= null
location array udg_C3_Point
unit udg_C3_Dummy= null
group udg_C3_Group= null
unit udg_SAMEODORI_Caster= null
unit udg_SAMEODORI_Dummy= null
location array udg_SAMEODORI_Point
group udg_SAMEODORI_Group= null
unit udg_SHADANCE_Caster= null
real udg_SHADANCE_Angle= 0
location array udg_SHADANCE_Point
group udg_SHADANCE_Group1= null
group udg_SHADANCE_Group2= null
unit udg_GSD_Caster= null
unit array udg_GSD_Dummies
group udg_GSD_Group= null
location array udg_GSD_Point
integer udg_GSD_Count= 0
integer udg_SHADANCE_Count= 0
location array udg_SameFU_Point
unit udg_SameFU_Caster= null
multiboard udg_Survival_Multiboard= null
boolean udg_Survival_Bool= false
integer udg_Survival_Limit= 0
location array udg_Butterfly_Point
timer udg_Votekick_Timer= null
timerdialog udg_Votekick_TimerDialog= null
player udg_Votekick_KickedPlayer= null
dialog udg_Votekick_AFK_Dialog= null
button udg_Votekick_AFK_DialogButton= null
unit udg_Yasaka_Caster= null
unit udg_Newest_Hachimon_Caster= null
location array udg_Enma_Point
unit udg_Enma_Caster= null
location array udg_San_Shiki_Point
unit udg_San_Shiki_Dummy= null
lightning udg_San_Shiki_Lightning= null
unit udg_San_Shiki_Target= null
effect udg_San_Shiki_Effect= null
unit udg_San_Shiki_Ghost= null
unit udg_Kimimaro= null
boolean array udg_Hidan_morph
unit udg_Ritual_Hidan_target= null
integer udg_Get_blood_timer= 0
unit udg_Danzo_Q_Caster= null
location array udg_Danzo_Q_Point
group udg_Danzo_Q_Group= null
unit udg_Mud_Target= null
location array udg_Mud_Point
group udg_Mud_Group= null
integer udg_Mud_Int= 0
group udg_Mud_Group2= null
terraindeformation udg_Mud_Terrain= null
group udg_Mud_Group3= null
unit udg_AsumaFIre_Caster= null
location array udg_AsumaFire_Point
group udg_AsumaFire_Group= null
location udg_Mid_Game= null
boolean array udg_Repick_Bool
location udg_Tsumoji_Point= null
location udg_KiriKiri_Point= null
string array udg_Repick_Names
location array udg_Gaara_Sotaiso_Point
unit udg_Gaara_Sotaiso_Caster= null
integer udg_Gaara_Sotaiso_Count= 0
unit udg_Gaara_Sotaiso_Dummy= null
unit array udg_F_U
location array udg_F_P
real array udg_F_R
integer udg_F_I= 0
timer array udg_F_T
group udg_F_G= null
unit udg_Kankuro_Fire_Caster= null
location array udg_Asuma_Point
real udg_Asuma_Real= 0
location array udg_Kankuro_Fire_Point
location array udg_Sasori_Point
real udg_Sasori_Real= 0
boolean udg_Duel_ON= false
force udg_Duel_Players= null
dialog udg_Duel_Dialog1= null
button array udg_Duel_Dialog1Buttons
boolean udg_Victory_On= false
dialog udg_Duel_Dialog2= null
group udg_Duel2_Group= null
group udg_Duel2_Group2= null
boolean udg_Duel_TRUE_ON= false
integer udg_Duel_Random= 0
location array udg_Duel2_Point
rect udg_Duel_Area= null
location array udg_Duels_Point
player udg_Duel_Winner= null
group udg_Duel_Heroes= null
location array udg_Kiba_Point
real udg_Kiba_Real= 0
boolean udg_DUEL_ALLY_ON= false
integer udg_BANNED_NAME= 0
timer udg_DUEL_TIMER= null
timerdialog udg_DUEL_TIMERDIALLOG= null
unit udg_Zabuza_Kirigakure_Caster= null
location array udg_Zabuza_Kirigakure_Point
integer udg_Zabuza_Kirigakure_Count= 0
unit array udg_Zabuza_Kirigakure_Dummies
unit udg_Guren_W_Caster= null
location array udg_Guren_W_Point
integer udg_Guren_W_Count= 0
group udg_Guren_W_Group= null
location array udg_Guren_Q_Point
unit udg_Guren_T_Caster= null
location array udg_Guren_T_Point
real udg_Guren_T_Angle= 0
unit udg_Guren_T_Dummy= null
integer udg_Guren_T_Count= 0
integer udg_Guren_T_Count2= 0
unit udg_Guren_T_Target= null
boolean udg_Guren_T_Bool= false
item udg_SmartBank_Item= null
unit udg_SmartBank_Hero= null
unit udg_SmartBank_Bank= null
unit udg_Storage_Hero= null
location udg_Storage_Position= null
boolean udg_SmartBank_Active= false
location udg_Duel_Point= null
unit udg_InoMental= null
boolean udg_CanSelectModes= false
player udg_Host= null
dialog udg_Host_Dialog= null
button array udg_Host_Dialog_Buttons
player udg_Host_New= null
timer udg_Host_Timer= null
timerdialog udg_Host_Timer_Window= null
unit udg_Ghost_Caster= null
boolean udg_PointMode= false
boolean udg_BattleRoyal= false
boolean udg_FFA= false
integer array udg_assists
real array udg_zoom_v
boolean udg_Is_Rival= false
integer udg_Team10= 0
boolean udg_ZombieCombo= false
boolean udg_DominationMode= false
string array udg_Tips
integer array udg_Bounty
integer udg_TIME_ELAPSED_SEC= 0
integer array udg_Farm
integer array udg_Farm_previous
boolean udg_IsKakashi= false
unit udg_Naruto= null
unit udg_Kakashi= null
unit udg_Tsunade= null
unit udg_Tsunade_Target= null
unit udg_RaigaBurialTarget= null
integer udg_RaigaBurialCounter= 0
integer udg_Avalanche_Max= 0
integer udg_RaigaBurialCounterMax= 0
integer udg_HidanPreviousStr= 0
integer udg_GaiElephant= 0
unit udg_KankuroKarasu= null
unit udg_KankuroKuroari= null
unit udg_KankuroScorpion= null
boolean udg_KankuroIsScorpion= false
boolean udg_KankuroIsKuroari= false
boolean udg_KankuroHasCrow= false
real udg_ShinraChanneling= 0
destructable udg_YamatoTree= null
unit udg_TobiramaHiraishin= null
integer udg_AvalancheCount= 0
string array udg_TrueName
boolean udg_Switch= false
boolean udg_Switch2= false
boolean udg_FiveMinutes= false
boolean udg_DraftPick= false
button udg_DraftPickButton= null
real udg_DanzoAngle= 0
boolean array udg_PlayerWin
boolean array udg_PlayerDefeat
boolean array udg_PlayerLeave
boolean array udg_PlayerDraw
unit udg_GamaBunta= null
integer udg_KankuroCount= 0
boolean udg_FirstBlood= false
integer array udg_Streak
integer array udg_StreakTime
boolean udg_ChoujiCasting= false
real udg_HanAngle= 0
real udg_JuugoDamage= 0
unit udg_komat_caster= null
location udg_komat_location= null
unit array udg_komat_dummy
effect array udg_komat_thn
integer udg_shushadow_direct= 0
integer udg_Minutes= 0
boolean udg_Mode30Min= false
boolean udg_Mode45Min= false
boolean udg_SwitchDisabled= false
unit udg_KonohamaruFIre_Caster= null
location array udg_KonohamaruFire_Point
group udg_KonohamaruFire_Group= null
dialog udg_Team_Duel_Mode_Dialog= null
button array udg_Team_Duel_Mode_Buttons
timer udg_TeamDuelTimer= null
boolean udg_TeamDuelOn= false
force udg_TeamDuelPlayers= null
timer udg_TeamDuelExpirationTimer= null
timerdialog udg_TeamDuelExpirationTimerWindow= null
boolean array udg_DisableSwap
boolean array udg_UsedSwap
boolean udg_TeamDuelStarted= false
boolean array udg_HeroDied
boolean udg_TeamDuelEnabled= false
group udg_KakuzuKatonGroup= null
group udg_KakuzuFuutonGroup= null
boolean udg_KakuzuFuutonFire= false
boolean array udg_MissionBRankTeams
boolean udg_MissionBRankActive= false
unit udg_MissionBUnit= null
integer udg_MissionBCount= 0
boolean udg_MissionARankActive= false
boolean array udg_MissionARankTeams
unit udg_MissionAUnit= null
integer udg_MissionACount= 0
boolean udg_MissionSRankActive= false
boolean array udg_MissionSRankTeams
unit udg_MissionSUnit= null
real udg_Amat_Window= 0
boolean udg_Amat_Controlling= false
unit udg_MuClone= null
boolean udg_SusanooShoot= false
boolean udg_YamatoRemoved= false
unit udg_YamatoCage= null
unit udg_Yamato= null
group udg_GreaterMedicalSphereGroup= null
real udg_ItachiSusanooHp= 0
boolean udg_NarutoCooldown= false
boolean udg_Yasaka= false
unit udg_KillerBee= null
integer udg_MinatoRasenganCount= 0
unit array udg_SK_U
location array udg_SK_P
unit array udg_PTK_U
real array udg_SK_R
integer array udg_SK_I
timer array udg_SK_T
group array udg_SK_G
group udg_SasoriSpearGroup= null
unit array udg_NS_U
location array udg_NS_P
real array udg_NS_R
integer array udg_NS_I
timer array udg_PTK_T
group array udg_NS_G
timer array udg_NS_T
boolean udg_MifuneCooldown= false
boolean array udg_UsedRepick
boolean array udg_UnitUsed
boolean udg_SusanooKamui= false
integer udg_TemariAttack= 0
unit udg_KimimaroKiller= null
boolean udg_KimimaroCooldown= false
unit udg_ChoujiBall= null
group udg_ShikaSmoke= null
dialog udg_Base_Safe_Mode_Dialog= null
button array udg_Base_Safe_Mode_Buttons
integer udg_Barrier_Count= 0
integer array udg_DonatorHeroes
boolean array udg_DonatorHeroesEnabled
boolean udg_GengetsuCooldown= false
dialog udg_Missions_Mode_Dialog= null
button array udg_Missions_Mode_Buttons
boolean udg_MissionsEnabled= false
unit udg_KimimaroUnit= null
integer udg_Winning_Team= 0
button udg_DraftPickButtonAR= null
boolean udg_DraftPickAR= false
group udg_TemariWGroup= null
dialog udg_Totsuka_Mode_Dialog= null
button array udg_Totsuka_Mode_Buttons
group udg_YamatoCageUnits= null
timer udg_YamatoCageTimer= null
integer udg_San_Shiki_Count= 0
real udg_Tessenka_Window= 0
unit udg_San_Shiki_Caster= null
integer udg_Kakuzu_Semi_Count= 0
group udg_Gengetsus= null
boolean array udg_GengetsuCooldowns
unit array udg_MuClones
integer array udg_PeinPaths
real array udg_udg_ShinraChannelings
real array udg_ShinraChannelings
real array udg_JuugoDamages
unit array udg_DonatorBase
boolean udg_ItemClassification= false
dialog udg_Classification_Mode_Dialog= null
button array udg_Classification_Mode_Buttons
unit udg_Duel_Img= null
string udg_ModeS
real udg_Kakuzu_Window= 0
boolean array udg_MifuneCooldowns
unit udg_ObitoRode= null
integer udg_TobiLvlQ= 0
integer udg_TobiLvlW= 0
integer udg_TobiLvlE= 0
leaderboard udg_Leaderbox= null
integer udg_LeaderboxMode= 0
dialog udg_Point_Mode_Dialog= null
button array udg_Point_Mode_Buttons
boolean udg_PointModeEnabled= false
integer udg_PointModeLimit= 0
boolean udg_KillModeEnabled= false
integer udg_KillModeLimit= 0
dialog udg_Kill_Mode_Dialog= null
button array udg_Kill_Mode_Buttons
integer array udg_HeroPointValue
boolean udg_GameOver= false
group udg_NarutoCage= null
unit udg_GedoMazo_Caster= null
unit udg_GedoMazo_GedoMazo= null
location array udg_GedoMazo_Point
boolean udg_FexterChidori= false
texttag udg_JuugoFT= null
unit array udg_Execution
real udg_SakuraTime= 0
real array udg_DamageDealt
boolean udg_ObitoDisable= false
boolean udg_SpawnCreeps= false
group udg_komat_group= null
string array udg_PlayerName
real udg_Chouji_Angle= 0
group udg_Suigetsu_Damage= null
unit udg_ItachiDummy= null
integer udg_GaiKills= 0
boolean udg_C3_Eternal= false
integer udg_TemariCount= 0
integer udg_Guren_T_Count3= 0
integer udg_HasangekiCount= 0
unit udg_HasangekiUnit= null
unit udg_HasangekiCaster= null
unit udg_Muu= null
unit udg_MuuClone= null
group udg_RashimonGroup= null
unit udg_Zetsu= null
boolean array udg_FallenSky
boolean array udg_EarthFinish
boolean array udg_FallenSky2
unit array udg_ANBUTarget
integer udg_Streak2= 0
integer array udg_SpellCast
integer udg_Tip_Count= 0
boolean array udg_quickcast
effect udg_KibaSpin= null
integer udg_KibaSpinCount= 0
boolean array udg_MissionBRankTeamCompleted
boolean array udg_MissionARankTeamCompleted
boolean array udg_MissionSRankTeamCompleted
group udg_Bomb_Damaged= null
unit udg_Kakuzu= null
leaderboard udg_Leaderboard= null
boolean udg_Mode60Min= false
unit udg_Ino= null
group udg_DamageHeroes= null
group udg_AssistHeroes= null
string array udg_DonatorNames
real array udg_HeroWindow
unit udg_Deidara= null
boolean udg_Eagle= false
boolean udg_Shikigami= false
boolean array udg_LeftBase
unit udg_NarutoFexter= null
group udg_BloodMist= null
unit udg_Yagura= null
real udg_ItachiSusanooDuration= 0
group udg_DeidaraDamaged= null
unit udg_HakkeAura2= null
integer udg_DaruiKills= 0
integer array udg_BaseHeroes
unit udg_InoMindControl= null
unit udg_InoMindControlTarget= null
group udg_MissionComplete= null
unit udg_KisameR= null
integer udg_GaiCount= 0
effect udg_SuigetsuWave= null
group udg_Shichiseiken= null
unit udg_Kiba= null
unit udg_SasukeChidori= null
unit udg_Raikage= null
unit udg_Jirobo= null
integer array udg_BountyKills
unit array udg_Onoki
timer udg_OnokiQTimer= null
boolean array udg_OnokiisOff
unit udg_YataMirror= null
unit udg_Mitsuki= null
boolean array udg_RockLeeCooldowns
group udg_Danzosus= null
unit udg_MitsukiBuff= null
unit udg_ItachiR= null
boolean udg_SusanooDrill= false
unit udg_MeiLava= null
unit udg_ShisuiE= null
unit udg_AnimalPath= null
unit udg_YaguraBodyswap= null
unit udg_WoodUser= null
unit udg_HayateClone= null
unit udg_HidanCircle= null

    // Generated
rect gg_rct_AKATSUKI= null
rect gg_rct_ArenaInvulArea= null
rect gg_rct_Camera1= null
rect gg_rct_Camera2= null
rect gg_rct_Cave= null
rect gg_rct_DeathForest= null
rect gg_rct_DeathForestT1Spot= null
rect gg_rct_DeathForestT2Spot= null
rect gg_rct_DeathForestT3Spot= null
rect gg_rct_duel_area= null
rect gg_rct_DuelArena2= null
rect gg_rct_Dummy= null
rect gg_rct_EVIL= null
rect gg_rct_fonte= null
rect gg_rct_fonte_akt= null
rect gg_rct_fonte_akt_start= null
rect gg_rct_fonte_evil= null
rect gg_rct_fonte_konoha= null
rect gg_rct_game_middle= null
rect gg_rct_HokageStone= null
rect gg_rct_JiroboPrison= null
rect gg_rct_Jungle1= null
rect gg_rct_Jungle2= null
rect gg_rct_Jungle3= null
rect gg_rct_Jungle4= null
rect gg_rct_Jungle5= null
rect gg_rct_Jungle6= null
rect gg_rct_Jungle7= null
rect gg_rct_Jungle8= null
rect gg_rct_Jungle9= null
rect gg_rct_KaguyaLavaDimension= null
rect gg_rct_KONOHA= null
rect gg_rct_lane_1= null
rect gg_rct_lane_2= null
rect gg_rct_lane_3= null
rect gg_rct_MeiKirigakure= null
rect gg_rct_MissionA= null
rect gg_rct_MissionAEntry= null
rect gg_rct_MissionAExit= null
rect gg_rct_MissionB= null
rect gg_rct_MissionBEntry= null
rect gg_rct_MissionBExit= null
rect gg_rct_MissionS= null
rect gg_rct_MissionSEntry= null
rect gg_rct_MissionSExit= null
rect gg_rct_NewSelection= null
rect gg_rct_NinpouArea= null
rect gg_rct_nowheretogo= null
rect gg_rct_Rect_040= null
rect gg_rct_Region_007= null
rect gg_rct_Region_007_Copy= null
rect gg_rct_Region_009= null
rect gg_rct_Region_079= null
rect gg_rct_Region_088= null
rect gg_rct_Region_089= null
rect gg_rct_Region_090= null
rect gg_rct_removeheroes= null
rect gg_rct_SairAkatsuki= null
rect gg_rct_SairEvil= null
rect gg_rct_SairKonoha= null
rect gg_rct_TestArea= null
rect gg_rct_TobiDimension= null
rect gg_rct_TobiDimension2= null
rect gg_rct_Undergound1= null
rect gg_rct_Underground2= null
rect gg_rct_Underground3= null
rect gg_rct_UndergroundEnter1= null
rect gg_rct_UndergroundEnter2= null
rect gg_rct_UndergroundEnter3= null
rect gg_rct_UndergroundExit1= null
rect gg_rct_UndergroundExit2= null
rect gg_rct_UndergroundExit3= null
rect gg_rct_waterfall= null
camerasetup gg_cam_Camera_001= null
sound gg_snd_Ajisai_Animal_Path_R= null
sound gg_snd_Ajisai_Animal_Path_T= null
sound gg_snd_Anbu_Kakashi_Kill= null
sound gg_snd_Anko_Kill= null
sound gg_snd_Anko_R= null
sound gg_snd_Anko_T= null
sound gg_snd_Asuma_Kill= null
sound gg_snd_BattleRoar= null
sound gg_snd_Bee_Kill= null
sound gg_snd_BigButtonClick= null
sound gg_snd_Boruto_E= null
sound gg_snd_Boruto_Kill= null
sound gg_snd_Boruto_T= null
sound gg_snd_Byakugan= null
sound gg_snd_Chiyo_Kill= null
sound gg_snd_Chiyo_R= null
sound gg_snd_Chiyo_T= null
sound gg_snd_Chouji_Kill= null
sound gg_snd_Chouji_R= null
sound gg_snd_Chouji_T= null
sound gg_snd_Curse_Sasuke_Kill= null
sound gg_snd_Danzo_Kill= null
sound gg_snd_Danzo_R= null
sound gg_snd_Danzo_T= null
sound gg_snd_Darui_Kill= null
sound gg_snd_Darui_R= null
sound gg_snd_Darui_T= null
sound gg_snd_Deidara_D= null
sound gg_snd_Deidara_Kill= null
sound gg_snd_Deidara_R= null
sound gg_snd_Dosu_R= null
sound gg_snd_Dosu_T= null
sound gg_snd_Duel_Accept= null
sound gg_snd_EntanglingRootsTarget1= null
sound gg_snd_Error= null
sound gg_snd_FrostArrowHit1= null
sound gg_snd_Fuu_Kill= null
sound gg_snd_Fuu_R= null
sound gg_snd_Fuu_T= null
sound gg_snd_Gaara_D= null
sound gg_snd_Gaara_Kill= null
sound gg_snd_Gaara_T2_Shukaku= null
sound gg_snd_Gaara_T_Sabaku= null
sound gg_snd_Gai_E_Sekizo= null
sound gg_snd_Gai_Kill= null
sound gg_snd_Gai_Q= null
sound gg_snd_Gai_Q_Yagai= null
sound gg_snd_Gai_R= null
sound gg_snd_Gai_R1= null
sound gg_snd_Gai_T= null
sound gg_snd_Gengetsu_Kill= null
sound gg_snd_Gengetsu_R= null
sound gg_snd_Gengetsu_T= null
sound gg_snd_Ginkaku_Q= null
sound gg_snd_Guren_R= null
sound gg_snd_Guren_T= null
sound gg_snd_Haku_Kill= null
sound gg_snd_Haku_R= null
sound gg_snd_Haku_T= null
sound gg_snd_Han_Kill= null
sound gg_snd_Han_R= null
sound gg_snd_Han_T= null
sound gg_snd_Hanabi_Kill= null
sound gg_snd_Hanabi_R= null
sound gg_snd_Hanabi_T= null
sound gg_snd_Hanzo_Kill= null
sound gg_snd_Hanzo_R= null
sound gg_snd_Hanzo_T_Ibuse= null
sound gg_snd_Hashirama_Kill= null
sound gg_snd_Hashirama_T2_Mokuton= null
sound gg_snd_Hashirama_T_Senpou= null
sound gg_snd_Hayate_R= null
sound gg_snd_Hayate_T= null
sound gg_snd_HeroDemonMissileLaunch2= null
sound gg_snd_Hidan_Kill= null
sound gg_snd_Hidan_R= null
sound gg_snd_Hidan_T= null
sound gg_snd_Hinata_Kill= null
sound gg_snd_Hinata_R= null
sound gg_snd_Hinata_T2_Kuuten= null
sound gg_snd_Hinata_T_Juuho= null
sound gg_snd_Hiruzen_Kill= null
sound gg_snd_Hiruzen_R2_Enma= null
sound gg_snd_Hiruzen_R_Kongo= null
sound gg_snd_Hiruzen_T2_Shiki= null
sound gg_snd_Hiruzen_T_Goton= null
sound gg_snd_Hokage_Minato_Kill= null
sound gg_snd_Ichigo_Kill= null
sound gg_snd_Ichigo_Q= null
sound gg_snd_Ichigo_R= null
sound gg_snd_Ichigo_R_Active= null
sound gg_snd_Ichigo_R_Transform= null
sound gg_snd_Ichigo_T= null
sound gg_snd_Ichigo_Vasto_Lorde= null
sound gg_snd_Ino_Kill= null
sound gg_snd_Ino_R= null
sound gg_snd_Ino_T2_Mind_Control= null
sound gg_snd_Ino_T_Cho_Shinka= null
sound gg_snd_Iruka_Kill= null
sound gg_snd_Itachi_Kill= null
sound gg_snd_Itachi_Q= null
sound gg_snd_Itachi_R= null
sound gg_snd_Itachi_Susanoo_E= null
sound gg_snd_Itachi_T2_Susanoo= null
sound gg_snd_Itachi_T_Amaterasu= null
sound gg_snd_Itachi_Yasaka_Q= null
sound gg_snd_Jiraiya_Kill= null
sound gg_snd_Jiraiya_Q= null
sound gg_snd_Jiraiya_R= null
sound gg_snd_Jiraiya_T= null
sound gg_snd_Jirobo_D= null
sound gg_snd_Jirobo_Kill= null
sound gg_snd_Jirobo_R= null
sound gg_snd_Jirobo_T= null
sound gg_snd_Jounin_Kakashi_Kill= null
sound gg_snd_Jounin_Minato_Kill= null
sound gg_snd_Juugo_Kill= null
sound gg_snd_Juugo_T= null
sound gg_snd_Kabuto_R= null
sound gg_snd_Kabuto_Sage_R= null
sound gg_snd_Kabuto_Sage_W= null
sound gg_snd_Kabuto_T_Transform= null
sound gg_snd_Kabuto_Young_R= null
sound gg_snd_Kabuto_Young_T= null
sound gg_snd_Kaguya_Kill= null
sound gg_snd_Kaguya_T_Gudoudama= null
sound gg_snd_Kakashi_Anbu_R= null
sound gg_snd_Kakashi_Anbu_T= null
sound gg_snd_Kakashi_Jounin_Dimension_D= null
sound gg_snd_Kakashi_Jounin_Kamui_Raikiri_Q= null
sound gg_snd_Kakashi_Jounin_R= null
sound gg_snd_Kakashi_Jounin_T= null
sound gg_snd_Kakuzu_Kill= null
sound gg_snd_Kakuzu_R= null
sound gg_snd_Kakuzu_T_Hearts= null
sound gg_snd_Kakuzu_T_Zukokku= null
sound gg_snd_Kankuro_Kill= null
sound gg_snd_Kankuro_R= null
sound gg_snd_Kankuro_T= null
sound gg_snd_Karin_Kill= null
sound gg_snd_Karin_R_Activation= null
sound gg_snd_Karin_R_When_Hitting_An_Enemy= null
sound gg_snd_Karin_R_When_Hitting_Sasuke= null
sound gg_snd_Karin_T= null
sound gg_snd_Kiba_Kill= null
sound gg_snd_Kiba_R= null
sound gg_snd_Kiba_T= null
sound gg_snd_Kidomaru_D= null
sound gg_snd_Kidomaru_Kill= null
sound gg_snd_Kidomaru_T= null
sound gg_snd_Killer_Bee_R= null
sound gg_snd_Killer_Bee_T= null
sound gg_snd_Killer_Bee_Transform= null
sound gg_snd_Killer_Bee_Transform_Q= null
sound gg_snd_Killer_Bee_Transformed_R= null
sound gg_snd_Kimimaro_D= null
sound gg_snd_Kimimaro_D_Resurrect= null
sound gg_snd_Kimimaro_Kill= null
sound gg_snd_Kimimaro_R= null
sound gg_snd_Kimimaro_T= null
sound gg_snd_Kinkaku_Q= null
sound gg_snd_Kisame_D_Daikoudan= null
sound gg_snd_Kisame_Kill= null
sound gg_snd_Kisame_R= null
sound gg_snd_Kisame_T= null
sound gg_snd_Kisame_T_Muugen= null
sound gg_snd_Konan_D= null
sound gg_snd_Konan_Kill= null
sound gg_snd_Konan_T_Aoe= null
sound gg_snd_Konohamaru_Kill= null
sound gg_snd_Konohamaru_R= null
sound gg_snd_Konohamaru_T= null
sound gg_snd_Kurenai_R= null
sound gg_snd_Kurenai_T= null
sound gg_snd_Lee_Kill= null
sound gg_snd_Madara_Kill= null
sound gg_snd_Madara_R= null
sound gg_snd_Madara_T2_Susanoo= null
sound gg_snd_Madara_T_Tengai= null
sound gg_snd_Madara_T_Transform_Juubi= null
sound gg_snd_Madara_T_Tsukuyomi= null
sound gg_snd_Masked_Man_W_Space_Time= null
sound gg_snd_Mecha_Naruto_Kill= null
sound gg_snd_Mecha_Naruto_T= null
sound gg_snd_Mei_Kill= null
sound gg_snd_Mei_T= null
sound gg_snd_Mifune_D_Reset= null
sound gg_snd_Mifune_Kill= null
sound gg_snd_Mifune_R= null
sound gg_snd_Mifune_T= null
sound gg_snd_Minato_Hokage_D= null
sound gg_snd_Minato_Hokage_R= null
sound gg_snd_Minato_Hokage_T_Shiki= null
sound gg_snd_Minato_Jounin_T= null
sound gg_snd_Mitsuki_Kill= null
sound gg_snd_Mitsuki_Sage_Mode_W= null
sound gg_snd_Mitsuki_W= null
sound gg_snd_MouseClick1= null
string gg_snd_Music01BeautifulWildGreenBeast
string gg_snd_Music01Fang
string gg_snd_Music01RisingDragon
string gg_snd_Music01Shippuden
string gg_snd_Music01Suspicion
string gg_snd_Music02CriticalPoint
string gg_snd_Music02FlyingLight
string gg_snd_Music02HeavenShakingEvent
string gg_snd_Music03Confrontment
string gg_snd_Music03Crushing
string gg_snd_Music03Fake
string gg_snd_Music03Invasion
string gg_snd_Music03NightAttack
string gg_snd_Music03Suddenly
string gg_snd_Music04ACrisisAfterAnother
string gg_snd_Music04ChojuGiga
string gg_snd_Music04Evil
string gg_snd_Music04Houzukijo
string gg_snd_Music05LightningSpeed
string gg_snd_Music05Orochi
string gg_snd_Music05Rogue
string gg_snd_Music05TheProphet
string gg_snd_Music06Dance
string gg_snd_Music06Hidan
string gg_snd_Music07Kakuzu
string gg_snd_Music07TheRisingFightingSpirit
string gg_snd_Music07UltimateSecrets
string gg_snd_Music08CrimsonFlames
string gg_snd_Music08DeparturetotheFrontLines
string gg_snd_Music08Howl
string gg_snd_Music08Hummingbird
string gg_snd_Music09Anger
string gg_snd_Music09Silhouette
string gg_snd_Music09UnkemptHair
string gg_snd_Music10Akatsuki
string gg_snd_Music10Avenger
string gg_snd_Music10Rage
string gg_snd_Music11HeavyViolence
string gg_snd_Music12Blaze
string gg_snd_Music12DestructionJutsu
string gg_snd_Music12GoldbrocadedDamask
string gg_snd_Music12Jinchuuriki
string gg_snd_Music12Sarutobi
string gg_snd_Music12WindsandClouds
string gg_snd_Music13Impregnable
string gg_snd_Music13OrochimarusTheme
string gg_snd_Music13WaterAboveCut
string gg_snd_Music14Avenger
string gg_snd_Music14ForebodingSkies
string gg_snd_Music14ViolentFluctuation
string gg_snd_Music15HiddenWilltoFight
string gg_snd_Music15Jiraiya
string gg_snd_Music15OrochimarusFight
string gg_snd_Music15Trial
string gg_snd_Music16Mukade
string gg_snd_Music16NeedtoBeStrong
string gg_snd_Music16NightStroll
string gg_snd_Music16Raikiri
string gg_snd_Music16Ripple
string gg_snd_Music16Shennong
string gg_snd_Music17Game
string gg_snd_Music17SasukesDestiny
string gg_snd_Music17VeritablePandemonium
string gg_snd_Music18BigandSuddenChange
string gg_snd_Music18BlackSpot
string gg_snd_Music18Bunta
string gg_snd_Music18EmergenceofTalents
string gg_snd_Music18GAMA
string gg_snd_Music18SceneofViolence
string gg_snd_Music18StrongandStrike
string gg_snd_Music18VergeofDeath
string gg_snd_Music19BeastofPrey
string gg_snd_Music19FlyingDragon
string gg_snd_Music19MiddleAgeAttack
string gg_snd_Music19TheMagicFlute
string gg_snd_Music19TheScarletLetter
string gg_snd_Music20Courtesy
string gg_snd_Music20SneakingNightmare
string gg_snd_Music20Supremacy
string gg_snd_Music20Thunderstorm
string gg_snd_Music21NARUTOMainTheme
string gg_snd_Music21RedRose
string gg_snd_Music21Stalemate
string gg_snd_Music22ArabesqueChaos
string gg_snd_Music22Hero
string gg_snd_Music22Tragic
string gg_snd_Music22Vicissitude
string gg_snd_Music22WarParticipation
string gg_snd_Music23Confronting
string gg_snd_Music23ManyNights
string gg_snd_Music23PhosphorescentLight
string gg_snd_Music24MuddyStream
string gg_snd_Music24Strangeness
string gg_snd_Music25DecisiveBattle
string gg_snd_Music25Infinite
string gg_snd_Music25RiskingitAll
string gg_snd_Music25ROADTONINJA
string gg_snd_Music25Thunder
string gg_snd_Music25Warrior
string gg_snd_Music26BurnedDown
string gg_snd_Music26Flight
string gg_snd_Music26IWish
string gg_snd_Music26JetBlack
string gg_snd_Music26ReverseSituation
string gg_snd_Music27AllKindsofSpiritsandGoblins
string gg_snd_Music27AntiHeaven
string gg_snd_Music27TheCryingGod
string gg_snd_Music28Breakdown
string gg_snd_Music29BreezefromtheFlappingofWings
string gg_snd_Music31BlindAnimal
string gg_snd_Music32GodofWar
string gg_snd_Music32HeavenshakingEvent
string gg_snd_Music32MADARAvsNARUTO
string gg_snd_Music33Flames
string gg_snd_Music33MyName
sound gg_snd_Muu_Kill= null
sound gg_snd_Muu_R= null
sound gg_snd_Muu_T_Bunretsu= null
sound gg_snd_Nagato_Kill= null
sound gg_snd_Nagato_Q= null
sound gg_snd_Nagato_T_Chibaku= null
sound gg_snd_Nagato_T_Shinra= null
sound gg_snd_Naruto_Rikudou_R= null
sound gg_snd_Naruto_Rikudou_T= null
sound gg_snd_Naruto_Sage_R= null
sound gg_snd_Naruto_Sage_T= null
sound gg_snd_Neji_Kill= null
sound gg_snd_Neji_R= null
sound gg_snd_Neji_T= null
sound gg_snd_Neji_T2_Hakke_Hyaku= null
sound gg_snd_Neji_W= null
sound gg_snd_Obito_Dimension_D= null
sound gg_snd_Obito_Kill= null
sound gg_snd_Obito_R= null
sound gg_snd_Obito_T2_Transform= null
sound gg_snd_Obito_T_Muugen= null
sound gg_snd_Ohnoki_Kill= null
sound gg_snd_Onooki_R= null
sound gg_snd_Onooki_T= null
sound gg_snd_Orochimaru_Kill= null
sound gg_snd_Orochimaru_R= null
sound gg_snd_Orochimaru_T2_Edo= null
sound gg_snd_Orochimaru_T_Yamata= null
sound gg_snd_Orochimaru_W= null
sound gg_snd_Raikage_Kill= null
sound gg_snd_Raikage_R= null
sound gg_snd_Raikage_T= null
sound gg_snd_Rikudou_Naruto_Kill= null
sound gg_snd_Rikudou_Sasuke_Kill= null
sound gg_snd_Ringo_Kill= null
sound gg_snd_Ringo_R= null
sound gg_snd_Rock_Lee_R= null
sound gg_snd_Rock_Lee_T= null
sound gg_snd_Roshi_Kill= null
sound gg_snd_Roshi_R= null
sound gg_snd_Roshi_T= null
sound gg_snd_Sage_Kabuto_Kill= null
sound gg_snd_Sage_Naruto_Kill= null
sound gg_snd_Sai_Kill= null
sound gg_snd_Sai_R= null
sound gg_snd_Sai_T= null
sound gg_snd_Sakura_Kill= null
sound gg_snd_Sakura_T= null
sound gg_snd_Sasori_Kill= null
sound gg_snd_Sasori_R_Puppets= null
sound gg_snd_Sasuke_Hebi_R= null
sound gg_snd_Sasuke_Hebi_T= null
sound gg_snd_Sasuke_Q= null
sound gg_snd_Sasuke_R_Amaterasu= null
sound gg_snd_Sasuke_Rikudou_T2_Susanoo= null
sound gg_snd_Sasuke_Rikudou_T_Chibaku= null
sound gg_snd_Shikamaru_Kill= null
sound gg_snd_Shikamaru_Q= null
sound gg_snd_Shikamaru_R= null
sound gg_snd_Shikamaru_T2_Emnaku= null
sound gg_snd_Shikamaru_T_Kagemane= null
sound gg_snd_Shino_Kill= null
sound gg_snd_Shino_R= null
sound gg_snd_Shino_T_Mushikui= null
sound gg_snd_Shisui_Kill= null
sound gg_snd_Shisui_R= null
sound gg_snd_Shisui_T= null
sound gg_snd_Shizune_R= null
sound gg_snd_Shizune_T= null
sound gg_snd_StrongDrinkMissile1= null
sound gg_snd_Suigetsu_Kill= null
sound gg_snd_Suigetsu_R= null
sound gg_snd_Suigetsu_T2_Bubble= null
sound gg_snd_Suigetsu_T_Wave= null
sound gg_snd_Temari_Kill= null
sound gg_snd_Temari_R= null
sound gg_snd_Temari_T= null
sound gg_snd_Tenten_Kill= null
sound gg_snd_Tenten_T= null
sound gg_snd_Tobi_Kill= null
sound gg_snd_Tobi_R= null
sound gg_snd_Tobirama_Kill= null
sound gg_snd_Tobirama_R= null
sound gg_snd_Tobirama_T2_Suiton= null
sound gg_snd_Tobirama_T_Gojou= null
sound gg_snd_Torune_R= null
sound gg_snd_Torune_T= null
sound gg_snd_Tsunade_Kill= null
sound gg_snd_Tsunade_R= null
sound gg_snd_Tsunade_T= null
sound gg_snd_Utakata_Kill= null
sound gg_snd_Utakata_R= null
sound gg_snd_Utakata_T= null
sound gg_snd_Yagura_Kill= null
sound gg_snd_Yagura_R= null
sound gg_snd_Yagura_T= null
sound gg_snd_Yamato_D= null
sound gg_snd_Yamato_Kill= null
sound gg_snd_Yamato_T= null
sound gg_snd_Young_Kabuto_Kill= null
sound gg_snd_Yugito_Kill= null
sound gg_snd_Yugito_T= null
sound gg_snd_Zabuza_Kill= null
sound gg_snd_Zabuza_R= null
sound gg_snd_Zabuza_T= null
sound gg_snd_Asuma_R= null
sound gg_snd_Asuma_T_Hien= null
sound gg_snd_Asuma_T2_Katon= null
trigger gg_trg_xebasic= null
trigger gg_trg_xepreload= null
trigger gg_trg_Alloc= null
trigger gg_trg_Table= null
trigger gg_trg_TableCompatibility= null
trigger gg_trg_WorldBounds= null
trigger gg_trg_Event= null
trigger gg_trg_RegisterPlayerUnitEvent= null
trigger gg_trg_TimerUtils= null
trigger gg_trg_UnitDex= null
trigger gg_trg_Math= null
trigger gg_trg_PlayerUtils= null
trigger gg_trg_Camera= null
trigger gg_trg_UnitRecyclerDummy= null
trigger gg_trg_ArrowKeyEvent= null
trigger gg_trg_PreventSave= null
trigger gg_trg_Powerup_Sentinel= null
trigger gg_trg_BoundSentinel= null
trigger gg_trg_GetZ= null
trigger gg_trg_EffectUtils= null
trigger gg_trg_UnitUtils= null
trigger gg_trg_SetPlayerName= null
trigger gg_trg_ItemUtils= null
trigger gg_trg_Dialog= null
trigger gg_trg_Lightning= null
trigger gg_trg_GeometryLibBase= null
trigger gg_trg_String= null
trigger gg_trg_Recipe= null
trigger gg_trg_UltimateChoiceTemplate= null
trigger gg_trg_HideHeroes= null
trigger gg_trg_ItemsWithSpellbook= null
trigger gg_trg_ItemTable= null
trigger gg_trg_Recipes= null
trigger gg_trg_AkatsukiRings= null
trigger gg_trg_ElementalMask= null
trigger gg_trg_JuubiSkin= null
trigger gg_trg_ChakraBlades= null
trigger gg_trg_UltimateWeapon= null
trigger gg_trg_FixUltraBoots= null
trigger gg_trg_RecipeTreasures= null
trigger gg_trg_ANBUBadgePassive= null
trigger gg_trg_JadeOfSusanooPassive= null
trigger gg_trg_SpiritOrbs= null
trigger gg_trg_SuperBootsSpeedBuff= null
trigger gg_trg_PreventTeleportShoes= null
trigger gg_trg_SanbiSkinKillBunshin= null
trigger gg_trg_RikuudouNecklacePassive= null
trigger gg_trg_EightHeadSwordCritical= null
trigger gg_trg_ThunderKusanagiCritical= null
trigger gg_trg_EarthKusanagiCritical= null
trigger gg_trg_HeavenSwordCritical= null
trigger gg_trg_LightKusanagiCritical= null
trigger gg_trg_WindKusanagiCritical= null
trigger gg_trg_DarkKusanagiCritical= null
trigger gg_trg_FireKusanagiCritical= null
trigger gg_trg_IceKusanagiCritical= null
trigger gg_trg_BookCritical= null
trigger gg_trg_MedicalNinjaCloth= null
trigger gg_trg_SamehadaMana= null
trigger gg_trg_KyuubiImmolation= null
trigger gg_trg_AntiEnergyStones= null
trigger gg_trg_HokageRobeAura= null
trigger gg_trg_KazekageRobeAura= null
trigger gg_trg_ItachiRing= null
trigger gg_trg_KisameRing= null
trigger gg_trg_SasoriRingGold= null
trigger gg_trg_RepairBase= null
trigger gg_trg_Fireworks= null
trigger gg_trg_Firecrackers= null
trigger gg_trg_BijuuEssence= null
trigger gg_trg_WireStrings= null
trigger gg_trg_MedicalSphere= null
trigger gg_trg_WoodOfSubstitution= null
trigger gg_trg_SmokeBomb= null
trigger gg_trg_FlashBomb= null
trigger gg_trg_Body_Replacing_Doll= null
trigger gg_trg_YataMirror= null
trigger gg_trg_Oil= null
trigger gg_trg_PoisonPills= null
trigger gg_trg_Bomb= null
trigger gg_trg_NewChain= null
trigger gg_trg_BlastingSphere= null
trigger gg_trg_DragonBlast= null
trigger gg_trg_FuumaShuriken= null
trigger gg_trg_ExplosiveKunai= null
trigger gg_trg_SenbonsDance= null
trigger gg_trg_ExplosiveTagSkill= null
trigger gg_trg_TimedExplosiveTag= null
trigger gg_trg_ExplosiveTagExplosion= null
trigger gg_trg_NewKohakuNoJohei= null
trigger gg_trg_HiraishinKunai= null
trigger gg_trg_Bashosen= null
trigger gg_trg_Makibishi= null
trigger gg_trg_NinjaNet= null
trigger gg_trg_SanbiSkin= null
trigger gg_trg_AkatsukiCloth= null
trigger gg_trg_NewAkatsukiSet= null
trigger gg_trg_GreaterMedicalNinjaSphere= null
trigger gg_trg_ReverseOfAllCreation= null
trigger gg_trg_SubjugationOfEarth= null
trigger gg_trg_SubjugationOfHeaven= null
trigger gg_trg_ElementalANBUMask= null
trigger gg_trg_HeavenStone= null
trigger gg_trg_HealingShoes= null
trigger gg_trg_InvisibilityShoes= null
trigger gg_trg_ScrollOfTeleport= null
trigger gg_trg_BunshinStoneNew= null
trigger gg_trg_ItemShikiFuujin= null
trigger gg_trg_SuddenIceStorm= null
trigger gg_trg_HeavenSwordActive= null
trigger gg_trg_AdamantineStaffActive= null
trigger gg_trg_ExecutionBladeBuff= null
trigger gg_trg_ThunderingTotsuka= null
trigger gg_trg_NewKusanagiStrike= null
trigger gg_trg_LightKusanagi= null
trigger gg_trg_FireKusanagi= null
trigger gg_trg_IceKusanagi= null
trigger gg_trg_EarthKusanagi= null
trigger gg_trg_DarkKusanagi= null
trigger gg_trg_WindKusa= null
trigger gg_trg_Shichiseiken= null
trigger gg_trg_NewHidanScythe= null
trigger gg_trg_ZetsuRing= null
trigger gg_trg_ItachiRingActive= null
trigger gg_trg_TobiramaItemLegendary= null
trigger gg_trg_NarutoItemLegendary= null
trigger gg_trg_KillerBeeItem= null
trigger gg_trg_UniqueYataMirror= null
trigger gg_trg_UniqueMedicalNinjaSet= null
trigger gg_trg_RestrictANBUMaskToOne= null
trigger gg_trg_AnkoQ= null
trigger gg_trg_AnkoW= null
trigger gg_trg_AnkoE= null
trigger gg_trg_AnkoR= null
trigger gg_trg_AnkoT= null
trigger gg_trg_AnkoD= null
trigger gg_trg_Ox= null
trigger gg_trg_Dog= null
trigger gg_trg_Chamelon= null
trigger gg_trg_Crab= null
trigger gg_trg_Bird= null
trigger gg_trg_Panda= null
trigger gg_trg_AsumaChakraBlades= null
trigger gg_trg_AsumaAssault= null
trigger gg_trg_AsumaShadowStrike= null
trigger gg_trg_AsumaWind= null
trigger gg_trg_AsumaFireR= null
trigger gg_trg_AsumaHien= null
trigger gg_trg_AsumaKatonHaisenkisho= null
trigger gg_trg_AsumaUltimateChoice= null
trigger gg_trg_AsumaChakraBladesPassive= null
trigger gg_trg_AsumaLevel= null
trigger gg_trg_Boruto_Stream= null
trigger gg_trg_BorutoFarm= null
trigger gg_trg_BorutoClone= null
trigger gg_trg_BorutoRasengan= null
trigger gg_trg_Oyako_Rasengan= null
trigger gg_trg_ChiyoTrap= null
trigger gg_trg_ChiyoFlyingKunais= null
trigger gg_trg_ChiyoAssaultBlade= null
trigger gg_trg_ChiyoNewSemi= null
trigger gg_trg_ChiyoNewUltimate= null
trigger gg_trg_ChiyoChakraThreads= null
trigger gg_trg_ChoujiNewNikudanSensha= null
trigger gg_trg_ChoujiBaika= null
trigger gg_trg_ChoujiChoharite= null
trigger gg_trg_ChoujiSemi= null
trigger gg_trg_ChoujiNewUlt= null
trigger gg_trg_ChoujiYummy= null
trigger gg_trg_DanzoMokuton= null
trigger gg_trg_DanzoFuuton= null
trigger gg_trg_DanzoShuriken= null
trigger gg_trg_DanzoNewSemi= null
trigger gg_trg_DanzoNewNewIzanagi= null
trigger gg_trg_DanzoIzanagiModel= null
trigger gg_trg_DanzoSuicide= null
trigger gg_trg_DaruiRaiton= null
trigger gg_trg_DaruiNewSuiton= null
trigger gg_trg_DaruiLightningStrike= null
trigger gg_trg_DaruiLaserCircus= null
trigger gg_trg_DaruiNewBlackPanther= null
trigger gg_trg_DaruiBlackLightning= null
trigger gg_trg_DeidaraC0= null
trigger gg_trg_DeidaraBeautyOfDestruction= null
trigger gg_trg_DeidaraArtOfCreation= null
trigger gg_trg_DeidaraFocusedAttack= null
trigger gg_trg_DeidaraEagle= null
trigger gg_trg_DeidaraClayBird= null
trigger gg_trg_DeidaraC3= null
trigger gg_trg_DeidaraC3LOOP= null
trigger gg_trg_DeidaraEternalExplosion= null
trigger gg_trg_DosuSoundWave= null
trigger gg_trg_DosuSoundPunch= null
trigger gg_trg_DosuSoundBarrier= null
trigger gg_trg_DosuVibrations= null
trigger gg_trg_DosuWavesOfDestruction= null
trigger gg_trg_DosuEchoChamber= null
trigger gg_trg_FuuCocoon= null
trigger gg_trg_FuuNet= null
trigger gg_trg_FuuGrab= null
trigger gg_trg_FuuAssault= null
trigger gg_trg_FuuPowder= null
trigger gg_trg_FuuUltimate= null
trigger gg_trg_GaaraSandShield= null
trigger gg_trg_GaaraNewQ= null
trigger gg_trg_GaaraSabakuKyuTrue= null
trigger gg_trg_GaaraGokusa= null
trigger gg_trg_GaaraPassive= null
trigger gg_trg_GaaraFly= null
trigger gg_trg_GaaraNewSemi= null
trigger gg_trg_Sabaku_Sotaiso_INIT= null
trigger gg_trg_Sabaku_Sotaiso_LOOP= null
trigger gg_trg_Sabaku_Sotaiso_Stop_Camera= null
trigger gg_trg_Sabaku_Sotaiso_Dies= null
trigger gg_trg_GaaraShukakuSpearGlobal= null
trigger gg_trg_GaaraUltimateChoice= null
trigger gg_trg_GaiDynamicEntry= null
trigger gg_trg_GaiOtomoteRenge= null
trigger gg_trg_GaiYouth= null
trigger gg_trg_Hachimon_Actions= null
trigger gg_trg_Hachimon_Life_Drain= null
trigger gg_trg_GaiAsaKujaku= null
trigger gg_trg_GaiSemiAttack= null
trigger gg_trg_GaiEightGates= null
trigger gg_trg_GaiEveningElephant= null
trigger gg_trg_GaiNightGuy= null
trigger gg_trg_GaiMoveSuperHighSpeed= null
trigger gg_trg_NidaimeMizukageMirage= null
trigger gg_trg_NidaimeMizukageWaterPistol= null
trigger gg_trg_NidaimeMizukageBubbles= null
trigger gg_trg_NidaimeMizukageSuikaNoJutsu= null
trigger gg_trg_NidaimeMizukageClamDrop= null
trigger gg_trg_NidaimeMizukageGenjutsu= null
trigger gg_trg_NidaimeMizukageJokiBoi= null
trigger gg_trg_GurenSuishoRo= null
trigger gg_trg_GurenSuishoHibari= null
trigger gg_trg_GurenSuishoHibariLOOP= null
trigger gg_trg_GurenNewSemi= null
trigger gg_trg_GurenHasho= null
trigger gg_trg_GurenHashoLOOP= null
trigger gg_trg_GurenBash= null
trigger gg_trg_GurenCrystalLabyrinth= null
trigger gg_trg_HakuNewD= null
trigger gg_trg_HakuNewBackslash= null
trigger gg_trg_HakuHissatsu= null
trigger gg_trg_HakuNewE= null
trigger gg_trg_HakuNewSemi= null
trigger gg_trg_HakuNewUltimate= null
trigger gg_trg_HanFugokyaku= null
trigger gg_trg_HanFunseiken= null
trigger gg_trg_HanJokiNoYoroi= null
trigger gg_trg_HanSemi= null
trigger gg_trg_HanNewUltimate= null
trigger gg_trg_HanTarget= null
trigger gg_trg_HanInhumanStrength= null
trigger gg_trg_HanabiD= null
trigger gg_trg_HanabiQ= null
trigger gg_trg_HanabiW= null
trigger gg_trg_HanabiE= null
trigger gg_trg_HanabiR= null
trigger gg_trg_HanabiT= null
trigger gg_trg_HanzoReveal= null
trigger gg_trg_HanzoThrowScythe= null
trigger gg_trg_HanzoPoisonFog= null
trigger gg_trg_HanzoUppercut= null
trigger gg_trg_HanzoSemi= null
trigger gg_trg_HanzoMist= null
trigger gg_trg_HanzoIbuse= null
trigger gg_trg_HanzoUltimateChoice= null
trigger gg_trg_HashiramaWoodDragon= null
trigger gg_trg_HashiramaGate= null
trigger gg_trg_HashiramaWoodHuman= null
trigger gg_trg_HashiramaAdamantinePunch= null
trigger gg_trg_HashiramaAdamantinePunchLOOP1= null
trigger gg_trg_HashiramaAdamantinePunchLOOP2= null
trigger gg_trg_HashiramaAdamantinePunchACTIONS= null
trigger gg_trg_HashiramaStatue= null
trigger gg_trg_HashiramaNewKoutan= null
trigger gg_trg_HashiramaUltimateChoice= null
trigger gg_trg_HashiramaFlowers= null
trigger gg_trg_HashiramaFireWill= null
trigger gg_trg_HashiramaFireWillLOOP= null
trigger gg_trg_HashiramaEdoGate= null
trigger gg_trg_EdoTenseiHashiramaStatue= null
trigger gg_trg_HayateSwordStrike= null
trigger gg_trg_HayateExplosiveKunai= null
trigger gg_trg_HayateNewSemi= null
trigger gg_trg_HayateUltimate= null
trigger gg_trg_HayateKageBunshin= null
trigger gg_trg_HayateKageBunshinSwap= null
trigger gg_trg_HidanPassive= null
trigger gg_trg_Get_Blood= null
trigger gg_trg_HidanTakeBlood= null
trigger gg_trg_HidanNewW= null
trigger gg_trg_HidanThrowScythe= null
trigger gg_trg_HidanNewR= null
trigger gg_trg_HidanNewT= null
trigger gg_trg_HinataShotei= null
trigger gg_trg_HinataFarm= null
trigger gg_trg_HinataNewSemi= null
trigger gg_trg_HinataNewShoshiken= null
trigger gg_trg_HinataKuutenNew= null
trigger gg_trg_HinataUltimateChoice= null
trigger gg_trg_HiruzenEnma= null
trigger gg_trg_HiruzenCageNew= null
trigger gg_trg_EnmaGiveGold= null
trigger gg_trg_HiruzenQ= null
trigger gg_trg_HiruzenShuriken= null
trigger gg_trg_HiruzenE= null
trigger gg_trg_HiruzenKongoRohekiNew= null
trigger gg_trg_HiruzenSemiChoice= null
trigger gg_trg_HiruzenLevel= null
trigger gg_trg_HiruzenShikiFuujinINIT= null
trigger gg_trg_HiruzenShikiFuujinLOOP= null
trigger gg_trg_HiruzenNewUltimate= null
trigger gg_trg_HiruzenUltimateChoice= null
trigger gg_trg_IchigoQ= null
trigger gg_trg_IchigoDies= null
trigger gg_trg_IchigoW= null
trigger gg_trg_IchigoCero= null
trigger gg_trg_IchigoVastoLord= null
trigger gg_trg_IchigoE= null
trigger gg_trg_IchigoBankai= null
trigger gg_trg_IchigoMugetsu= null
trigger gg_trg_IchigoUnleash= null
trigger gg_trg_IchigoTLevel= null
trigger gg_trg_IchigoD= null
trigger gg_trg_IchigoSlash= null
trigger gg_trg_IchigoAttacks= null
trigger gg_trg_IchigoAbillities= null
trigger gg_trg_Kekka_Giji= null
trigger gg_trg_InoNewChouShinka= null
trigger gg_trg_InoNewD= null
trigger gg_trg_InoUltimateChoice= null
trigger gg_trg_InoDistractionPassive= null
trigger gg_trg_InoMindControl= null
trigger gg_trg_IrukaMakibishi= null
trigger gg_trg_IrukaChakraJump= null
trigger gg_trg_IrukaFuumaShuriken= null
trigger gg_trg_IrukaNinjaNet= null
trigger gg_trg_IrukaTrap= null
trigger gg_trg_IrukaKaton= null
trigger gg_trg_IrukaFocusedShot= null
trigger gg_trg_IrukaUpgrade= null
trigger gg_trg_Itachi_Amaterasu_INIT= null
trigger gg_trg_Itachi_Amaterasu_LOOP= null
trigger gg_trg_ItachiNewSusanoo= null
trigger gg_trg_Susano_Yasaka_Spell= null
trigger gg_trg_ItachiTotsuka= null
trigger gg_trg_ItachiYataMirror= null
trigger gg_trg_ItachiBonesPassive= null
trigger gg_trg_ItachiIzanami= null
trigger gg_trg_KatonGoukakyuu= null
trigger gg_trg_ItachiBunshinDaibakuha= null
trigger gg_trg_ItachiCrow= null
trigger gg_trg_ItachiTsukuyomi= null
trigger gg_trg_ItachiHideUnit= null
trigger gg_trg_ItachiUltimateChoice= null
trigger gg_trg_ItachiRevanSlashNew= null
trigger gg_trg_ItachiRevanNewKaton= null
trigger gg_trg_ItachiRevanCrow= null
trigger gg_trg_RevanCrowRNew= null
trigger gg_trg_ItachiRevanCrowClone= null
trigger gg_trg_JiraiyaHariJizo= null
trigger gg_trg_JiraiyaDoton= null
trigger gg_trg_JiraiyaRasengan= null
trigger gg_trg_JiraiyaGamayu= null
trigger gg_trg_JiraiyaFrogCart= null
trigger gg_trg_JiraiyaSenninMode= null
trigger gg_trg_JiraiyaGoemon= null
trigger gg_trg_JirayaOodamaRasengan= null
trigger gg_trg_JiraiyaBarrier= null
trigger gg_trg_JiraiyaKebari= null
trigger gg_trg_JiraiyaGamaRinsho= null
trigger gg_trg_JiraiyaGamaBunta= null
trigger gg_trg_JiraiyaDies= null
trigger gg_trg_JiroboBoulder= null
trigger gg_trg_JiroboEarthquake= null
trigger gg_trg_JiroboHeadbutt= null
trigger gg_trg_JiroboCursedSeal= null
trigger gg_trg_JiroboPrison= null
trigger gg_trg_JiroboGolem= null
trigger gg_trg_JiroboGolemBoulder= null
trigger gg_trg_JuugoCursedSeal= null
trigger gg_trg_JuugoCursedSealAbilities= null
trigger gg_trg_JuugoChain= null
trigger gg_trg_JuugoCellular= null
trigger gg_trg_JuugoAbsorption= null
trigger gg_trg_JuugoNewUltimate= null
trigger gg_trg_JuugoNewJump= null
trigger gg_trg_JuugoAxeFist= null
trigger gg_trg_JuugoNewPistolFist= null
trigger gg_trg_JuugoNewFury= null
trigger gg_trg_KabutoPoison= null
trigger gg_trg_KabutoEdoTensei= null
trigger gg_trg_KabutoSennin= null
trigger gg_trg_KabutoNewD= null
trigger gg_trg_KabutoPull= null
trigger gg_trg_KabutoSawarabi= null
trigger gg_trg_KabutoMukiTensei= null
trigger gg_trg_KabutoDoton= null
trigger gg_trg_KabutoHakugeki= null
trigger gg_trg_KabutoNervous= null
trigger gg_trg_KabutoNet= null
trigger gg_trg_KaguyaLavaDimension= null
trigger gg_trg_KaguyaTeleport= null
trigger gg_trg_KaguyaLava= null
trigger gg_trg_KaguyaPunch= null
trigger gg_trg_KaguyaSemi= null
trigger gg_trg_KaguyaUltimate= null
trigger gg_trg_KaguyaNewT= null
trigger gg_trg_KaguyaUltimateChoice= null
trigger gg_trg_KakashiLightningClone= null
trigger gg_trg_KakashiNewRaikiri= null
trigger gg_trg_KakashiDogs= null
trigger gg_trg_KakashiKamuiDimension= null
trigger gg_trg_Kamui_INIT= null
trigger gg_trg_Kamui_LOOP= null
trigger gg_trg_Kamui_OFF= null
trigger gg_trg_KakashiDisableKamui= null
trigger gg_trg_KakashiRaiden= null
trigger gg_trg_KakashiDoton= null
trigger gg_trg_KakashiUltimateChoice= null
trigger gg_trg_KakashiNewSusanoo= null
trigger gg_trg_KakashiKamuiShuriken= null
trigger gg_trg_KakashiTrackDog= null
trigger gg_trg_KakashiAnbuRaikiri= null
trigger gg_trg_KakashiUnderground= null
trigger gg_trg_KakashiDoryuHeki= null
trigger gg_trg_KakashiSharingan= null
trigger gg_trg_KakashiRaijuu_GaiHirudora= null
trigger gg_trg_KakashiDoubleRaikiri= null
trigger gg_trg_KakuzuDomu= null
trigger gg_trg_KakuzuNewGrab= null
trigger gg_trg_KakuzuNewW= null
trigger gg_trg_KankuroStrangulation= null
trigger gg_trg_KakuzuReleaseMaskE= null
trigger gg_trg_KakuzuTakeHeart= null
trigger gg_trg_KakuzuMasks= null
trigger gg_trg_KakuzuRaiton= null
trigger gg_trg_KakuzuFuutonAtsugai= null
trigger gg_trg_KakuzuKaton= null
trigger gg_trg_KakuzuCombinedAttack= null
trigger gg_trg_KakuzuUltimateChoice= null
trigger gg_trg_KakuzuRess= null
trigger gg_trg_KankuroSalamander= null
trigger gg_trg_KankuroCrow= null
trigger gg_trg_KankuroPoisonNew= null
trigger gg_trg_KankuroSemi= null
trigger gg_trg_KankuroFlamethrower= null
trigger gg_trg_KankuroFlamethrower_LOOP= null
trigger gg_trg_KankuroFlamethrower_LOOP2= null
trigger gg_trg_KankuroSummonKarasu= null
trigger gg_trg_KankuroSummonKuroari= null
trigger gg_trg_KankuroSummonScorpion= null
trigger gg_trg_KankuroRecallReleasePuppets= null
trigger gg_trg_KarinNewHealBite= null
trigger gg_trg_KarinPerfumeSpray= null
trigger gg_trg_KarinKaguraShingan= null
trigger gg_trg_KarinLesserChakraChain= null
trigger gg_trg_KarinExplosiveNoteINIT= null
trigger gg_trg_KarinExplosiveNoteLOOP= null
trigger gg_trg_KarinChakraChains= null
trigger gg_trg_KibaBunshin= null
trigger gg_trg_KibaCriticalStrike= null
trigger gg_trg_KibaTsuuga= null
trigger gg_trg_KibaClawsCombo= null
trigger gg_trg_KibaSemi= null
trigger gg_trg_KibaGatsuuga= null
trigger gg_trg_KidomaruArmor= null
trigger gg_trg_KidomaruFarming= null
trigger gg_trg_KidomaruWebPrison= null
trigger gg_trg_KidomaruNet= null
trigger gg_trg_KidomaruCursedSeal= null
trigger gg_trg_KidomaruKuchiyose= null
trigger gg_trg_KidomaruUltimate= null
trigger gg_trg_GaaraKidPerfectShield= null
trigger gg_trg_GaaraKidFrenzyMode= null
trigger gg_trg_GaaraKidSandDrizzle= null
trigger gg_trg_GaaraKidShukakuHand= null
trigger gg_trg_GaaraKidSabakuKyu= null
trigger gg_trg_GaaraKidBijuuMode= null
trigger gg_trg_GaaraKidShukakuSandstorm= null
trigger gg_trg_GaaraKidShukakuSuck= null
trigger gg_trg_GaaraKidShukakuClaws= null
trigger gg_trg_GaaraKidShukakuAirBullet= null
trigger gg_trg_GaaraKidShukakuBijuuDama= null
trigger gg_trg_KillerBeeSevenSwordsDance= null
trigger gg_trg_KillerBeeAcrobaticSwords= null
trigger gg_trg_KillerBeeHachibi= null
trigger gg_trg_KillerBeeNewR= null
trigger gg_trg_KillerBeeThrowInk= null
trigger gg_trg_KillerBeeMorph= null
trigger gg_trg_KillerBeeTransformation= null
trigger gg_trg_KillerBeeHachimaki= null
trigger gg_trg_KillerBeePunch= null
trigger gg_trg_KillerBeeLariat= null
trigger gg_trg_KillerBeeBijuuDama= null
trigger gg_trg_BrotherBashosen= null
trigger gg_trg_Farm= null
trigger gg_trg_GinkakuPot= null
trigger gg_trg_ShichiseikenSlash= null
trigger gg_trg_KinkakuRopeNew= null
trigger gg_trg_Combination= null
trigger gg_trg_UltimateRoar= null
trigger gg_trg_KinkakuSwitch= null
trigger gg_trg_KinkakuAbilities= null
trigger gg_trg_KimimaroNewD= null
trigger gg_trg_KimimaroYanagi= null
trigger gg_trg_KimimaroKaramatsu= null
trigger gg_trg_KimimaroCursedSealAbilities= null
trigger gg_trg_KimimaroTessenka= null
trigger gg_trg_KimimaroTessenkaTsuru= null
trigger gg_trg_KimimaroTessenkaHana= null
trigger gg_trg_KimimaroSawarabiNoMai= null
trigger gg_trg_KimimaroBoneSpear= null
trigger gg_trg_KimimaroHideBones= null
trigger gg_trg_KisameSuikodan= null
trigger gg_trg_KisameNewWaterPrison= null
trigger gg_trg_KisameNewFarm= null
trigger gg_trg_KisameNewNewSemi= null
trigger gg_trg_KisameNewD= null
trigger gg_trg_KisameMugensame= null
trigger gg_trg_KisameSameodoriLOOP= null
trigger gg_trg_KisameSameodoriDMG= null
trigger gg_trg_KisameSamehadaFusion= null
trigger gg_trg_KisameSamehadaFusionDisable= null
trigger gg_trg_KisameSamehadaFusionFINISH= null
trigger gg_trg_KisameSharkDance= null
trigger gg_trg_KisameSharkDanceLOOP= null
trigger gg_trg_KisameGreatSharkDance= null
trigger gg_trg_KisameGreatSharkDanceLOOP= null
trigger gg_trg_KisameDaikoudan= null
trigger gg_trg_KisameUltimateChoice= null
trigger gg_trg_KisameCloneSwap= null
trigger gg_trg_KonanTeleport= null
trigger gg_trg_KonanNewQ= null
trigger gg_trg_KonanNewShuriken= null
trigger gg_trg_KonanKamiBunshin= null
trigger gg_trg_KonanSemi= null
trigger gg_trg_KonanShikigamiNoMai= null
trigger gg_trg_KonanUltimateChoice= null
trigger gg_trg_KonanSeaPaper= null
trigger gg_trg_KonanNewUltimate= null
trigger gg_trg_CloneSwap= null
trigger gg_trg_NarutoRasenganSelf= null
trigger gg_trg_KonohamaruSpeedLoop= null
trigger gg_trg_KonohamaruHarem= null
trigger gg_trg_KonohamaruShuriken= null
trigger gg_trg_KonohamaruKatonHaisekisho= null
trigger gg_trg_KonohamaruOodamaRasengan= null
trigger gg_trg_KonohamaruGamakichi= null
trigger gg_trg_KurenaiPassiveNew= null
trigger gg_trg_KurenaiFlowerEscape= null
trigger gg_trg_KurenaiFarming= null
trigger gg_trg_KurenaiInvisibility= null
trigger gg_trg_KurenaiSemi= null
trigger gg_trg_KurenaiUltimate= null
trigger gg_trg_MadaraMokuton= null
trigger gg_trg_MadaraKaton= null
trigger gg_trg_PeinRemoveSoul= null
trigger gg_trg_MadaraAnnihilation= null
trigger gg_trg_MadaraNewSusanoo= null
trigger gg_trg_MadaraYasaka= null
trigger gg_trg_MeteoriteTechnique_Copy= null
trigger gg_trg_MadaraSusanooSlash= null
trigger gg_trg_MadaraRikuudou= null
trigger gg_trg_MadaraIntonRaiha= null
trigger gg_trg_MadaraRantonKouga= null
trigger gg_trg_MadaraTengaiGiga= null
trigger gg_trg_MadaraTengaiGigaMeteor= null
trigger gg_trg_MadaraUltimateChoice= null
trigger gg_trg_MadaraBonesPassive= null
trigger gg_trg_MadaraMugenTsukuyomi= null
trigger gg_trg_MadaraGudoudamaDefense= null
trigger gg_trg_FexterIntonRaiha= null
trigger gg_trg_FexterGhostForm= null
trigger gg_trg_FexterSemiChoice= null
trigger gg_trg_FexterNewAshes= null
trigger gg_trg_FexterLimbo= null
trigger gg_trg_FexterHengai= null
trigger gg_trg_FexterMadaraUltimateChoice= null
trigger gg_trg_FexterRess= null
trigger gg_trg_FexterTsukuyomi= null
trigger gg_trg_MechaNarutoMissile= null
trigger gg_trg_MechaNarutoArms= null
trigger gg_trg_MechaNarutoNewBeam= null
trigger gg_trg_MechaNarutoImmolation= null
trigger gg_trg_MechaNarutoBomb= null
trigger gg_trg_MechaNarutoChakraBomb= null
trigger gg_trg_MechaNarutoFlyMode= null
trigger gg_trg_MeiCharm= null
trigger gg_trg_MeiYoukai= null
trigger gg_trg_MeiKirigakure= null
trigger gg_trg_MeiCriticalStrike= null
trigger gg_trg_MeiSuiryuudan= null
trigger gg_trg_MeiNewKomu= null
trigger gg_trg_MeiLavaPit= null
trigger gg_trg_MifuneD= null
trigger gg_trg_MifuneQ= null
trigger gg_trg_MifuneNewW= null
trigger gg_trg_MifuneKenjutsuFlash= null
trigger gg_trg_MifuneR= null
trigger gg_trg_MifuneT= null
trigger gg_trg_MifuneCooldown= null
trigger gg_trg_MinatoUltimateChoice= null
trigger gg_trg_MinatoRasengan= null
trigger gg_trg_MinatoInstantLight= null
trigger gg_trg_MinatoFarmSpell= null
trigger gg_trg_MinatoKCM= null
trigger gg_trg_MinatoKCMRasengan= null
trigger gg_trg_MinatoOldSemi= null
trigger gg_trg_MinatoSemi= null
trigger gg_trg_MinatoSpaceTimeJutsu= null
trigger gg_trg_MinatoNarutoTeleport= null
trigger gg_trg_MinatoKyuubiChakraEnableSpell= null
trigger gg_trg_MinatoKunaiD= null
trigger gg_trg_MinatoJouninD= null
trigger gg_trg_MinatoJouninRasengan= null
trigger gg_trg_MinatoJouninHiraishin= null
trigger gg_trg_MinatoJouninNewShunshin= null
trigger gg_trg_MinatoJouninRenNoDan= null
trigger gg_trg_MinatoJouninYellowFlash= null
trigger gg_trg_MinatoFexterE= null
trigger gg_trg_MinatoFexterNewE= null
trigger gg_trg_MinatoFexterYellowFlash= null
trigger gg_trg_MinatoFexterSenninMode= null
trigger gg_trg_MinatoFexterSemiChoice= null
trigger gg_trg_MinatoFexterGamabunta= null
trigger gg_trg_MinatoFexterUltimateChoice= null
trigger gg_trg_MinatoFexrerUltimate= null
trigger gg_trg_Mitsuki_Rorentsugan= null
trigger gg_trg_Mitsuki_Senei_Taijashu= null
trigger gg_trg_Mitsuki_Raiton_Hebi_Ikazuchi= null
trigger gg_trg_Mitsuki_String_Light_Formation= null
trigger gg_trg_MitsukiSemi= null
trigger gg_trg_Mitsuki_Sage_Mode= null
trigger gg_trg_MitsukiDragon= null
trigger gg_trg_MitsukiDash= null
trigger gg_trg_MitsukiLighting= null
trigger gg_trg_MitsukiWind= null
trigger gg_trg_MitsukiSnake= null
trigger gg_trg_Mitsuki_Doton= null
trigger gg_trg_MuNormalJinton= null
trigger gg_trg_MuTracking= null
trigger gg_trg_MuSlam= null
trigger gg_trg_MuCylindricalJinton= null
trigger gg_trg_MuInvisibility= null
trigger gg_trg_MuNewT= null
trigger gg_trg_MuBunretsu= null
trigger gg_trg_MuClonePoints= null
trigger gg_trg_MuShoot= null
trigger gg_trg_NagatoSixPaths= null
trigger gg_trg_NagatoShinraTenseiCHANNEL= null
trigger gg_trg_NagatoDevaTarget= null
trigger gg_trg_NagatoDevaArea= null
trigger gg_trg_NagatoAsuraTarget= null
trigger gg_trg_NagatoAsuraArea= null
trigger gg_trg_NagatoAnimalTarget= null
trigger gg_trg_NagatoAnimalArea= null
trigger gg_trg_NagatoHumanTarget= null
trigger gg_trg_NagatoHumanArea= null
trigger gg_trg_NagatoPretaTarget= null
trigger gg_trg_NagatoPretaArea= null
trigger gg_trg_NagatoNarakaTarget= null
trigger gg_trg_NagatoNarakaArea= null
trigger gg_trg_NagatoShuradou= null
trigger gg_trg_NagatoUltimateChoice= null
trigger gg_trg_NagatoShinraGigaTensei= null
trigger gg_trg_NagatoNewChibakuTensei= null
trigger gg_trg_NagatoNewRinnegan= null
trigger gg_trg_NarutoFexterHealing_CopyW= null
trigger gg_trg_NarutoTruthBall= null
trigger gg_trg_NarutoEvilSensing= null
trigger gg_trg_NarutoLevel= null
trigger gg_trg_NarutoSemiChoice= null
trigger gg_trg_NarutoGuoudama= null
trigger gg_trg_Naruto_MinirasenshurikenNew= null
trigger gg_trg_NarutoBijuuRasenshuriken= null
trigger gg_trg_NarutoBijuuDama= null
trigger gg_trg_NarutoNewD= null
trigger gg_trg_NarutoRasengan= null
trigger gg_trg_NarutoFrogDrop= null
trigger gg_trg_NarutoFrogKata= null
trigger gg_trg_NarutoMorph= null
trigger gg_trg_NarutoSixTails= null
trigger gg_trg_NarutoRoar= null
trigger gg_trg_NarutoShockwave= null
trigger gg_trg_NarutoChakraBlast= null
trigger gg_trg_NarutoSenninUltimateChoice= null
trigger gg_trg_NarutoFuutonRasenshuriken= null
trigger gg_trg_NarutoYotonRasenshurikenNew= null
trigger gg_trg_SetNarutoVariable= null
trigger gg_trg_NarutoFexterTruthBall= null
trigger gg_trg_NarutoFexterYellowFlash= null
trigger gg_trg_NarutoFexterHealing= null
trigger gg_trg_NarutoFexterRasenshuriken= null
trigger gg_trg_NarutoFexterBijuuDama= null
trigger gg_trg_NarutoFexterBijuuMode= null
trigger gg_trg_NarutoFexterSemiChoice= null
trigger gg_trg_NarutoFexterGuoudama= null
trigger gg_trg_NarutoFexterBlackChidori= null
trigger gg_trg_NejiNewQ= null
trigger gg_trg_NejiNewW= null
trigger gg_trg_NejiNewSemi= null
trigger gg_trg_NejiByakuganActive= null
trigger gg_trg_NejiByakuganPassive= null
trigger gg_trg_ByakuganHit= null
trigger gg_trg_Byakugan_Sound= null
trigger gg_trg_NejiHasangeki= null
trigger gg_trg_NejiUltimateChoice= null
trigger gg_trg_NejiCounterattack= null
trigger gg_trg_NejiNewUltimate= null
trigger gg_trg_ObitoNewSemi= null
trigger gg_trg_ObitoKamuiDimension= null
trigger gg_trg_ObitoNewQ= null
trigger gg_trg_ObitoNewW= null
trigger gg_trg_ObitoTsukuyomi= null
trigger gg_trg_ObitoUltimateChoice= null
trigger gg_trg_ObitoJinchuuriki= null
trigger gg_trg_ObitoBakufuRambu= null
trigger gg_trg_ObitoGudoudamaArm= null
trigger gg_trg_ObitoGudoudamaBlade= null
trigger gg_trg_ObitoGudoudamaDefense= null
trigger gg_trg_ObitoGuoudamaNew= null
trigger gg_trg_ObitoMokutonKajukai= null
trigger gg_trg_ObitoGudoudamaRush= null
trigger gg_trg_ObitoYang= null
trigger gg_trg_ObitoMetalGhostForm= null
trigger gg_trg_ObitoMetalTeleportAlly= null
trigger gg_trg_ObitoMetalGlobalTeleport= null
trigger gg_trg_ObitoLightningRoar= null
trigger gg_trg_ObitoKaton= null
trigger gg_trg_ObitoChakraChains= null
trigger gg_trg_ObitoSwitchModes= null
trigger gg_trg_ObitoRinnegan= null
trigger gg_trg_ObitoMaskedManNewR= null
trigger gg_trg_ObitoGunbai= null
trigger gg_trg_GedoMazo_Start_Effect= null
trigger gg_trg_GedoMazoBorn= null
trigger gg_trg_GedoMazoRoar= null
trigger gg_trg_GedoMazoChains= null
trigger gg_trg_OnokiQTimer= null
trigger gg_trg_OnokiMovespeedLoop= null
trigger gg_trg_OhnokiKeijuugan= null
trigger gg_trg_OhnokiGoremu= null
trigger gg_trg_OhnokiThrowRock= null
trigger gg_trg_OhnokiGenkaiHakuri= null
trigger gg_trg_OhnokiNewUltimate= null
trigger gg_trg_OrochimaruNewD= null
trigger gg_trg_OrochimaruSenei= null
trigger gg_trg_Rashimon_INIT= null
trigger gg_trg_Rashimon_Dies= null
trigger gg_trg_OrochmaruKusanagi= null
trigger gg_trg_OrochimaruSemi= null
trigger gg_trg_OrochimaruUltimateChoice= null
trigger gg_trg_OrochimaryYamataNoJutsu= null
trigger gg_trg_OrochimaruEdoTensei= null
trigger gg_trg_OrochimaruEdoTenseiPoints= null
trigger gg_trg_RaikageMovespeedLoop= null
trigger gg_trg_RaikageElbow= null
trigger gg_trg_RaikageGuillotine= null
trigger gg_trg_RaikageArmor= null
trigger gg_trg_RaikageBomb= null
trigger gg_trg_RaikageStraight= null
trigger gg_trg_RaikageShunshin= null
trigger gg_trg_RingoStacks= null
trigger gg_trg_StaticField= null
trigger gg_trg_RingoRakurai= null
trigger gg_trg_RingoLightningBall= null
trigger gg_trg_RingoSilentKilling= null
trigger gg_trg_RingoNewSemi= null
trigger gg_trg_RingoLightningDragon= null
trigger gg_trg_RockLeeDrunkenFist= null
trigger gg_trg_RockLeeOmoteRenge= null
trigger gg_trg_RockLeeKonohaSenpu= null
trigger gg_trg_RockLeeFuruPawa= null
trigger gg_trg_RockLeeUraRenge= null
trigger gg_trg_GaiHachimon= null
trigger gg_trg_RoshiLavaArmor= null
trigger gg_trg_RoshiGeyser= null
trigger gg_trg_RoshiFarming= null
trigger gg_trg_RoshiPunch= null
trigger gg_trg_RoshiKakazan= null
trigger gg_trg_RoshiGreenFlame= null
trigger gg_trg_SaiAssassinMark= null
trigger gg_trg_SaiLions= null
trigger gg_trg_SaiSnake= null
trigger gg_trg_SaiNewE= null
trigger gg_trg_SaiNewSemi= null
trigger gg_trg_SaiDragon= null
trigger gg_trg_SaiUltimateChoice= null
trigger gg_trg_SaiSemiChoice= null
trigger gg_trg_SaiLevel= null
trigger gg_trg_SaiInkDie= null
trigger gg_trg_SaiBirdForm= null
trigger gg_trg_SakuraEnhancedStrength= null
trigger gg_trg_SakuraGetLost= null
trigger gg_trg_SakuraNewFarm= null
trigger gg_trg_SakuraNewSemi= null
trigger gg_trg_SakuraOkasho= null
trigger gg_trg_SakuraUltimateChoice= null
trigger gg_trg_SakuraEnhancedStrengthPassive= null
trigger gg_trg_SakuraByakugou= null
trigger gg_trg_SasoriSkills= null
trigger gg_trg_SasoriTailStrike= null
trigger gg_trg_SasoriBomb= null
trigger gg_trg_SasoriSenbons= null
trigger gg_trg_SasoriUltimate= null
trigger gg_trg_SasoriFlamethrower= null
trigger gg_trg_SasoriNewBlade= null
trigger gg_trg_Sasori1000Puppets= null
trigger gg_trg_SasoriPuppet= null
trigger gg_trg_SasoriAssault= null
trigger gg_trg_SasoriSemi= null
trigger gg_trg__Satetsu_Kesshu= null
trigger gg_trg_SK_loop= null
trigger gg_trg_SK_loop_2= null
trigger gg_trg_Needle_Sphere= null
trigger gg_trg_NS_move= null
trigger gg_trg_SasoriIronShield= null
trigger gg_trg_SasoriPoison= null
trigger gg_trg_SasoriHideUnits= null
trigger gg_trg_SasukePassiveAmaterasu= null
trigger gg_trg_SasukeGenjutsu= null
trigger gg_trg_SasukeAmenotejikara= null
trigger gg_trg_SasukeChidori= null
trigger gg_trg_ChidoriFix_loop= null
trigger gg_trg_SasukeChidoriEiso= null
trigger gg_trg_SasukeKagutsuchi= null
trigger gg_trg_SasukeAmaterasu= null
trigger gg_trg_SasukeUltimateChoice= null
trigger gg_trg_SasukeChibakuTensei= null
trigger gg_trg_SasukeNewSusanoo= null
trigger gg_trg_Sasuke_Indra_Arrow= null
trigger gg_trg_SasukeJabeiJubaku= null
trigger gg_trg_SasukeHideSnakes= null
trigger gg_trg_SasukeChidoriTarget= null
trigger gg_trg_ChidoriNagashiINIT= null
trigger gg_trg_ChidoriNagashiLOOP= null
trigger gg_trg_SasukeChidoriSenbons= null
trigger gg_trg_SasukeDragonFlame= null
trigger gg_trg_SasukeCursedSeal= null
trigger gg_trg_SasukeCursedSealAbilities= null
trigger gg_trg_SasukeKusanagiBackstab= null
trigger gg_trg_Kirin_INIT= null
trigger gg_trg_Kirin_Loop= null
trigger gg_trg_Sasuke_Kusanagi_Effect_ON= null
trigger gg_trg_Sasuke_Kusanagi_Effect_OFF= null
trigger gg_trg_SasukeAdultRinnegan= null
trigger gg_trg_SasukeBlackChidori= null
trigger gg_trg_SasukeFlameJutsu= null
trigger gg_trg_SasukeKiritoSharingan= null
trigger gg_trg_SasukeBonesPassive= null
trigger gg_trg_ShikamaruKagemaneNew= null
trigger gg_trg_ShikamaruKagemaneExplosion= null
trigger gg_trg_ShikamaruKageNui= null
trigger gg_trg_ShikamaruKageNuiExplosion= null
trigger gg_trg_ShikamaruNewUltimate= null
trigger gg_trg_ShikamaruTrueKagemane= null
trigger gg_trg_ShikamaruBreakNeck= null
trigger gg_trg_ShinoD= null
trigger gg_trg_ShinoQ= null
trigger gg_trg_ShinoW= null
trigger gg_trg_ShinoE= null
trigger gg_trg_ShinoR= null
trigger gg_trg_ShinoArare= null
trigger gg_trg_ShinoMushikyu= null
trigger gg_trg_ShinoUltimateChoice= null
trigger gg_trg_ShinoPassive= null
trigger gg_trg_ShisuiSilentKill= null
trigger gg_trg_ShisuiHosenka= null
trigger gg_trg_ShisuiGenjutsu= null
trigger gg_trg_Kotoamatsukami= null
trigger gg_trg_Kamat_Loop= null
trigger gg_trg_Kamat_Loop_death_sentence= null
trigger gg_trg_Kamat_loop_2_Copy= null
trigger gg_trg_ShisuiSusanoo= null
trigger gg_trg_ShisuiNewSusanoo= null
trigger gg_trg_ShisuiUltimateChoice= null
trigger gg_trg_ShisuiSusanooFlame= null
trigger gg_trg_ShisuiSusanooDrill= null
trigger gg_trg_ShisuiSusanooSpear= null
trigger gg_trg_ShizuneManaTransfer= null
trigger gg_trg_ShizuneSenbons= null
trigger gg_trg_ShizuneTonton= null
trigger gg_trg_ShizuneShield= null
trigger gg_trg_ShizuneNewSemi= null
trigger gg_trg_ShizuneNewUltimate= null
trigger gg_trg_SuigetsuSuiryuudan= null
trigger gg_trg_SuigetsuDrowning= null
trigger gg_trg_SuigetsuSuika= null
trigger gg_trg_SuigetsuGohsuiwan= null
trigger gg_trg_SuigetsuDemonFish= null
trigger gg_trg_SuigetsuNewWave= null
trigger gg_trg_SuigetsuUltimateChoice= null
trigger gg_trg_SuigetsuAssassinPassive= null
trigger gg_trg_TentenNewD= null
trigger gg_trg_TentenDanceOfChains= null
trigger gg_trg_TentenSoshoryu= null
trigger gg_trg_TentenNewBomb= null
trigger gg_trg_TentenNewSemi= null
trigger gg_trg_TentenTensasai= null
trigger gg_trg_TentenBashosen= null
trigger gg_trg_TentenUltimateChoice= null
trigger gg_trg_TemariIronFan= null
trigger gg_trg_TemariPassive= null
trigger gg_trg_TemariStormWallNew= null
trigger gg_trg_TemariKamaitachi= null
trigger gg_trg_TemariSemi= null
trigger gg_trg_TemariKiriKiriMai= null
trigger gg_trg_SetTemariVariable= null
trigger gg_trg_TobiramaNewQ= null
trigger gg_trg_TobiramaNewW= null
trigger gg_trg_TobiramaNewE= null
trigger gg_trg_TobiramaNewR= null
trigger gg_trg_TobiramaHiraishingiri= null
trigger gg_trg_TobiramaHiraishin= null
trigger gg_trg_EdoTenseiInvul= null
trigger gg_trg_TobiramaUltimateChoice= null
trigger gg_trg_TobiramaKibakuFuda= null
trigger gg_trg_EdoTobiramaKibakuFuda= null
trigger gg_trg_TobiramaDragon= null
trigger gg_trg_TobiramaWaveUlt= null
trigger gg_trg_TobiramaArmor= null
trigger gg_trg_TobiramaFlash= null
trigger gg_trg_TobiramaAssault= null
trigger gg_trg_TobiramaNewWave= null
trigger gg_trg_TobiramaNewUltimate= null
trigger gg_trg_TobiramaNewHiraishin= null
trigger gg_trg_ToruneDome= null
trigger gg_trg_ToruneTornado= null
trigger gg_trg_ToruneAssassination= null
trigger gg_trg_ToruneSemi= null
trigger gg_trg_ToruneUltimate= null
trigger gg_trg_ToruneNewQ= null
trigger gg_trg_ToruneNewMode= null
trigger gg_trg_ToruneShield= null
trigger gg_trg_TsunadeDeadlyPunch= null
trigger gg_trg_TsunadeGroundSmack= null
trigger gg_trg_TsunadeShosen= null
trigger gg_trg_TsunadeTsuutenkyaku= null
trigger gg_trg_TsunadeByakugou= null
trigger gg_trg_TsunadeNetwork= null
trigger gg_trg_TsunadeUltimateChoice= null
trigger gg_trg_TsunadeHealingByakugou= null
trigger gg_trg_TsunadeAoEHeal= null
trigger gg_trg_TsunadeKatsuyuAcid= null
trigger gg_trg_UtakataD= null
trigger gg_trg_UtakataDrowning= null
trigger gg_trg_UtakataExplosiveBubbles= null
trigger gg_trg_UtakataDrift= null
trigger gg_trg_UtakataSemi= null
trigger gg_trg_UtakataUltimate= null
trigger gg_trg_YamanakaSlashes= null
trigger gg_trg_YamanakaShield= null
trigger gg_trg_YamankaAssassinationTechnique= null
trigger gg_trg_YamanaBindingPuppet= null
trigger gg_trg_YamanakaBinding= null
trigger gg_trg_YamanaControl= null
trigger gg_trg_YamanakaLevel= null
trigger gg_trg_YamanakaSemiChoice= null
trigger gg_trg_YamanakaPuppet= null
trigger gg_trg_YamatoNewD= null
trigger gg_trg_YamatoCage= null
trigger gg_trg_YamatoReleaseCage= null
trigger gg_trg_YamatoNewW= null
trigger gg_trg_YamatoSealing= null
trigger gg_trg_YamatoNewSemi= null
trigger gg_trg_YamatoUltimate= null
trigger gg_trg_YaguraBloodMist= null
trigger gg_trg_YaguraWaterMirror= null
trigger gg_trg_YaguraCoralWave= null
trigger gg_trg_YaguraFuuton= null
trigger gg_trg_YaguraSemi= null
trigger gg_trg_YaguraUltimate= null
trigger gg_trg_YaguraUltimate_Choice= null
trigger gg_trg_ChakraBlast= null
trigger gg_trg_Sleep= null
trigger gg_trg_KabutoSleep= null
trigger gg_trg_KabutoR= null
trigger gg_trg_KaubtoD= null
trigger gg_trg_YugitoBasicAttack= null
trigger gg_trg_YugitoJump= null
trigger gg_trg_YugitoClawStorm= null
trigger gg_trg_YugitoClawCombo= null
trigger gg_trg_YugitoClawsStrike= null
trigger gg_trg_YugitoT= null
trigger gg_trg_ZabuzaAssassinPassive= null
trigger gg_trg_ZabuzaDemonSlash= null
trigger gg_trg_ZabuzaKirigakureFarm= null
trigger gg_trg_ZabuzaKirigakureLOOP= null
trigger gg_trg_ZabuzaVortexNewest= null
trigger gg_trg_ZabuzaNewWaterDragon= null
trigger gg_trg_ZabuzaNewUltimate= null
trigger gg_trg_ZetsuDevour= null
trigger gg_trg_ZetsuTrap= null
trigger gg_trg_ZetsuMokutonSashiki= null
trigger gg_trg_ZetsuSpore= null
trigger gg_trg_ZetsuNewMayfly= null
trigger gg_trg_ZetsuUltimate= null
trigger gg_trg_AntiHostAFK= null
trigger gg_trg_DisplayModes= null
trigger gg_trg_DraftPickExpires= null
trigger gg_trg_DraftPickRemove= null
trigger gg_trg_IncreaseBounty= null
trigger gg_trg_BasesInvulMode= null
trigger gg_trg_BasesInvulModeClicked= null
trigger gg_trg_BaseSafeModeActions= null
trigger gg_trg_PointMode= null
trigger gg_trg_PointModeClicked= null
trigger gg_trg_TeamDuelMode= null
trigger gg_trg_TeamDuelModeClicked= null
trigger gg_trg_TeamDuelTimerExpired= null
trigger gg_trg_TeamDuelDontLeaveArena= null
trigger gg_trg_DeathForestName= null
trigger gg_trg_FixTeamDuelLocations= null
trigger gg_trg_KillMode= null
trigger gg_trg_KillModeClicked= null
trigger gg_trg_MissionsMode= null
trigger gg_trg_MissionsModeClicked= null
trigger gg_trg_MissionBRank= null
trigger gg_trg_MissionBRankExit= null
trigger gg_trg_MissionARank= null
trigger gg_trg_MissionARankExit= null
trigger gg_trg_MissionARankReward= null
trigger gg_trg_MissionSRank= null
trigger gg_trg_MissionSRankExit= null
trigger gg_trg_BanTotsukaMode= null
trigger gg_trg_BanTotsukaModeClicked= null
trigger gg_trg_RemoveClassificationMode= null
trigger gg_trg_RemoveClassificationModeClicked= null
trigger gg_trg_Duel_invite_actions= null
trigger gg_trg_Duel_inviter_chose= null
trigger gg_trg_Duel_invite_timer_expires= null
trigger gg_trg_Duel_receiver_answer_Copy= null
trigger gg_trg_Duel_winner= null
trigger gg_trg_Enter_duel= null
trigger gg_trg_Left_duel= null
trigger gg_trg_TeamDuel= null
trigger gg_trg_Smart_Bank_Add= null
trigger gg_trg_CircleCreation= null
trigger gg_trg_CircleStoraging= null
trigger gg_trg_Colour_String= null
trigger gg_trg_Show_VoteKick_Menu= null
trigger gg_trg_VoteKick_System= null
trigger gg_trg_Votekick_Cancel= null
trigger gg_trg_Votekick_Kicked= null
trigger gg_trg_VoteKick_Menu= null
trigger gg_trg_Colour_Refresh= null
trigger gg_trg_CleanMessages= null
trigger gg_trg_ZoomSystem= null
trigger gg_trg_QuickCast= null
trigger gg_trg_SendGoldCrystal= null
trigger gg_trg_BuyAttributes= null
trigger gg_trg_KillMe= null
trigger gg_trg_Tips= null
trigger gg_trg_Ms= null
trigger gg_trg_ResetMs= null
trigger gg_trg_Window= null
trigger gg_trg_Range= null
trigger gg_trg_Switch= null
trigger gg_trg_LockCamera= null
trigger gg_trg_NewAutoBuy= null
trigger gg_trg_StreamCommand= null
trigger gg_trg_CodeCommand= null
trigger gg_trg_ShowTimers= null
trigger gg_trg_ForceRankedINIT= null
trigger gg_trg_ForceRankedACTIONS= null
trigger gg_trg_CreateMultiboard= null
trigger gg_trg_MultiboardPlayerLeave= null
trigger gg_trg_GPMMultiboard= null
trigger gg_trg_TeamPointLeaderbox= null
trigger gg_trg_Fire= null
trigger gg_trg_UndergroundEnter1= null
trigger gg_trg_UndergroundExit1= null
trigger gg_trg_UndergroundEnter2= null
trigger gg_trg_UndergroundExit2= null
trigger gg_trg_UndergroundEnter3= null
trigger gg_trg_UndergroundExit3= null
trigger gg_trg_UndergroundDrainMana= null
trigger gg_trg_CustomizedColors= null
trigger gg_trg_EnableDonatorHeroes= null
trigger gg_trg_TestCommand= null
trigger gg_trg_Music= null
trigger gg_trg_UI= null
trigger gg_trg_PickScreen= null
trigger gg_trg_RemoveTrashyIcon= null
trigger gg_trg_TowerDestructionEffect= null
trigger gg_trg_HideUnitsDeathAnimation= null
trigger gg_trg_TipMessage= null
trigger gg_trg_Credits= null
trigger gg_trg_RepickName= null
trigger gg_trg_RandomizedHeroAttributes= null
trigger gg_trg_NewRepick= null
trigger gg_trg_NewSwap= null
trigger gg_trg_HeroDeath= null
trigger gg_trg_HeroSpellText= null
trigger gg_trg_HeroLevelRestriction= null
trigger gg_trg_ChakraJump= null
trigger gg_trg_FixTransformations= null
trigger gg_trg_RivalsSystem= null
trigger gg_trg_SetUnitVariables= null
trigger gg_trg_AkatsukiArtistsGenjutsuBonus= null
trigger gg_trg_TeamMatching= null
trigger gg_trg_ShowUI= null
trigger gg_trg_Cheats_Actions_001= null
trigger gg_trg_Cheats_Actions_002= null
trigger gg_trg_Cheats_Actions_List= null
trigger gg_trg_Cheats_Actions_CD= null
trigger gg_trg_Cheats_Actions_Mommy= null
trigger gg_trg_Cheats_Actions_DisableCD= null
trigger gg_trg_Cheats_Actions_Level= null
trigger gg_trg_Cheats_Actions_Items= null
trigger gg_trg_Cheats_Actions_Stats= null
trigger gg_trg_Cheats_Actions_Test= null
trigger gg_trg_Cheats_Actions_Mission_B= null
trigger gg_trg_Cheats_Actions_Mission_A= null
trigger gg_trg_Cheats_Actions_Mission_S= null
trigger gg_trg_Cheats_Actions_Pick= null
trigger gg_trg_Cheats_Press_ESCAPE= null
trigger gg_trg_PickHeroByName= null
trigger gg_trg_PointSystem= null
trigger gg_trg_AssistSystemAndDamageReduction= null
trigger gg_trg_BaseDestruction= null
trigger gg_trg_BaseRemoveItems= null
trigger gg_trg_SpawnBijuus= null
trigger gg_trg_PlayerLeave= null
trigger gg_trg_Spectators= null
trigger gg_trg_PreventDeny= null
trigger gg_trg_PeriodicActions= null
trigger gg_trg_Load_Variables= null
trigger gg_trg_Main_Source= null
unit gg_unit_U00Q_0078= null
unit gg_unit_ncop_0025= null
unit gg_unit_ncop_0017= null
unit gg_unit_ncop_0018= null
unit gg_unit_ncop_0019= null
unit gg_unit_ncop_0020= null
unit gg_unit_ncop_0021= null
unit gg_unit_ncop_0022= null
unit gg_unit_ncop_0023= null
unit gg_unit_ncop_0024= null
unit gg_unit_U00R_0077= null
unit gg_unit_H09A_0076= null
unit gg_unit_H0A9_0068= null
unit gg_unit_n008_0031= null
unit gg_unit_N01R_0081= null
unit gg_unit_N01Q_0080= null
unit gg_unit_U00S_0079= null
unit gg_unit_htow_0126= null
unit gg_unit_h02M_0124= null
unit gg_unit_h02L_0123= null
unit gg_unit_h02M_0125= null
unit gg_unit_htow_0127= null
unit gg_unit_h02L_0122= null
unit gg_unit_uabo_0113= null
unit gg_unit_uabo_0115= null
unit gg_unit_uabo_0114= null
unit gg_unit_uabo_0116= null
unit gg_unit_uabo_0117= null
unit gg_unit_uabo_0118= null
unit gg_unit_uabo_0119= null
unit gg_unit_uabo_0120= null
unit gg_unit_uabo_0121= null
unit gg_unit_hgra_0166= null
unit gg_unit_hgra_0167= null
unit gg_unit_hgra_0168= null
unit gg_unit_hbla_0169= null
unit gg_unit_hbla_0170= null
unit gg_unit_hbla_0171= null
unit gg_unit_hcas_0193= null
unit gg_unit_h00E_0194= null
unit gg_unit_h00F_0195= null
unit gg_unit_hspt_0202= null
trigger gg_trg_InoPetals= null
trigger gg_trg_InoHealingPetals= null
trigger gg_trg_InoMindDistraction= null
trigger gg_trg_NewNarutoFrogKata= null
group hideheroes
group HideHeroesSystem___hidedummy
// processed:     boolean array HideHeroesSystem___numbers[11]
// processed:     real array herosize[8190]
// processed:     integer array HideHeroesSystem___herored[8190]
// processed:     integer array HideHeroesSystem___heroblue[8190]
// processed:     integer array HideHeroesSystem___herogreen[8190]
// processed:     integer array HideHeroesSystem___heroalpha[8190] 
// processed:     real array heroscalex[8190]
// processed:     real array heroscaley[8190]
// processed:     real array heroscalez[8190]
// processed:     boolean array HideHeroesSystem___ishidden[12][8190]
// processed:         unit array ItemKunai__heroes[12]
// processed:         unit array Bashosen__dummies[1][1]
// processed:     unit array ScrollOfTeleportScope__anbus[1][1] 
// processed:     unit array AsumaFireR__firewall[1][1]
// processed:     unit array chiyo_kunais[1][6] 
// processed:     integer array DanzoNewSemiS__instances[8190]
// processed:     unit array DanzoNewIzanagiSM__sharingans[1][1] 
// processed:         unit array DaruiLaserCircus__lasers[1][1]
// processed:         effect array DaruiLaserCircus__effects[1][1] 
trigger GaiYagai___t1
trigger GaiYagai___t2
integer GaiYagai___count= 0
unit GaiYagai___dragon
real GaiYagai___angle
// processed:         unit array NidaimeMizukageGenjutsu___mirages[1][1] 
// processed:     unit array HakuNewSemiS___needles[1][1] 
// processed:         destructable array HashiramaGate___blocks[1][1]
// processed:         destructable array EdoHashiramaGate___blocks[1][1]
// processed:     destructable array HiruzenCageNew___blocks[1][1]
// processed:     unit array HiruzenE___mud[1][1]
// processed: dialog array SendGoldAndCystal__gd[12]
// processed: button array SendGoldAndCystal__gb[12][12] 
// processed: dialog array SendGoldAndCystal__cd[12]
// processed: button array SendGoldAndCystal__cb[12][12] 
// processed: integer array SendGoldAndCystal__g[12] 
// processed: integer array SendGoldAndCystal__c[12] 
// processed: integer array SendGoldAndCystal__given[12]
// processed:         boolean array AssistSystem__sai[8190]

trigger l__library_init

//JASSHelper struct globals:
constant integer si__ArrowKey=26
integer s__ArrowKey_eventKey= 0
boolean s__ArrowKey_eventKeyPressed= false
integer s__ArrowKey_eventPlayerId= 0
trigger s__ArrowKey_trig= CreateTrigger()
boolean array s__ArrowKey_press
constant integer si__Event=27
integer s__Event_w=0
trigger array s__Event_e
constant integer si__User=28
constant integer s__User_NULL= 15
player array s__User_handle
integer array s__User_id
integer array s__User_next
integer array s__User_prev
string array s__User_originalName
boolean array s__User_isPlaying
integer s__User_first
integer s__User_last
player s__User_Local
integer s__User_LocalId
integer s__User_AmountPlaying= 0
playercolor array s__User_Color
group s__User_ENUM_GROUP= CreateGroup()
integer array s__User_PlayingPlayer
integer array s__User_PlayingPlayerIndex
constant integer si__Table___dex=29
constant integer si__Table___handles=30
constant integer si__Table___agents=31
constant integer si__Table___reals=32
constant integer si__Table___booleans=33
constant integer si__Table___strings=34
constant integer si__Table___integers=35
constant integer si__Table___players=36
constant integer si__Table___widgets=37
constant integer si__Table___destructables=38
constant integer si__Table___items=39
constant integer si__Table___units=40
constant integer si__Table___abilitys=41
constant integer si__Table___timers=42
constant integer si__Table___triggers=43
constant integer si__Table___triggerconditions=44
constant integer si__Table___triggeractions=45
constant integer si__Table___events=46
constant integer si__Table___forces=47
constant integer si__Table___groups=48
constant integer si__Table___locations=49
constant integer si__Table___rects=50
constant integer si__Table___boolexprs=51
constant integer si__Table___sounds=52
constant integer si__Table___effects=53
constant integer si__Table___unitpools=54
constant integer si__Table___itempools=55
constant integer si__Table___quests=56
constant integer si__Table___questitems=57
constant integer si__Table___defeatconditions=58
constant integer si__Table___timerdialogs=59
constant integer si__Table___leaderboards=60
constant integer si__Table___multiboards=61
constant integer si__Table___multiboarditems=62
constant integer si__Table___trackables=63
constant integer si__Table___dialogs=64
constant integer si__Table___buttons=65
constant integer si__Table___texttags=66
constant integer si__Table___lightnings=67
constant integer si__Table___images=68
constant integer si__Table___ubersplats=69
constant integer si__Table___regions=70
constant integer si__Table___fogstates=71
constant integer si__Table___fogmodifiers=72
constant integer si__Table___hashtables=73
constant integer si__Table=74
constant integer si__HandleTable=75
constant integer si__StringTable=76
constant integer si__TableArray=77
integer s__TableArray_tempTable
integer s__TableArray_tempEnd
constant integer si__HashTable=78
constant integer si__VECTOR3=79
integer si__VECTOR3_F=0
integer si__VECTOR3_I=0
integer array si__VECTOR3_V
integer s__VECTOR3_Zero
integer s__VECTOR3_oneX
integer s__VECTOR3_oneY
integer s__VECTOR3_oneZ
real array s__VECTOR3_x
real array s__VECTOR3_y
real array s__VECTOR3_z
constant integer si__MATRIX3=80
integer si__MATRIX3_F=0
integer si__MATRIX3_I=0
integer array si__MATRIX3_V
integer s__MATRIX3_Zero
integer s__MATRIX3_E
real array s__MATRIX3_m11
real array s__MATRIX3_m12
real array s__MATRIX3_m13
real array s__MATRIX3_m21
real array s__MATRIX3_m22
real array s__MATRIX3_m23
real array s__MATRIX3_m31
real array s__MATRIX3_m32
real array s__MATRIX3_m33
constant integer si__MATRIX4=81
integer si__MATRIX4_F=0
integer si__MATRIX4_I=0
integer array si__MATRIX4_V
integer s__MATRIX4_Zero
integer s__MATRIX4_E
real array s__MATRIX4_m11
real array s__MATRIX4_m12
real array s__MATRIX4_m13
real array s__MATRIX4_m14
real array s__MATRIX4_m21
real array s__MATRIX4_m22
real array s__MATRIX4_m23
real array s__MATRIX4_m24
real array s__MATRIX4_m31
real array s__MATRIX4_m32
real array s__MATRIX4_m33
real array s__MATRIX4_m34
real array s__MATRIX4_m41
real array s__MATRIX4_m42
real array s__MATRIX4_m43
real array s__MATRIX4_m44
constant integer si__WorldBounds=82
integer s__WorldBounds_maxX
integer s__WorldBounds_maxY
integer s__WorldBounds_minX
integer s__WorldBounds_minY
integer s__WorldBounds_centerX
integer s__WorldBounds_centerY
rect s__WorldBounds_world
region s__WorldBounds_worldRegion
constant integer si__ItemList=83
integer s__ItemList_Alloc__instanceCount= 0
integer array s__ItemList_Alloc__recycle
integer array s__ItemList_items
integer array s__ItemList_itemsFrom
integer array s__ItemList_prices
integer array s__ItemList_actions
integer array s__ItemList_maxCount
integer array s__ItemList_count
integer array s__ItemList_id
constant integer si__Camera=84
integer si__Camera_F=0
integer si__Camera_I=0
integer array si__Camera_V
integer array s__Camera_eye
integer array s__Camera_at
unit array s__Camera_target
real array s__Camera_distance
real array s__Camera_yaw
real array s__Camera_pitch
real array s__Camera_roll
integer array s__Camera_axisX
integer array s__Camera_axisY
integer array s__Camera_axisZ
integer array s__Camera_view
integer array s__Camera_projection
boolean array s__Camera_change
integer array s__Camera_customValue
constant integer si__Camera___CamInit=85
integer si__Camera___CamInit_F=0
integer si__Camera___CamInit_I=0
integer array si__Camera___CamInit_V
constant integer si__Dialog=86
integer si__Dialog_F=0
integer si__Dialog_I=0
integer array si__Dialog_V
dialog array s__Dialog_dg
trigger array s__Dialog_click
string array s__Dialog_msg
constant integer si__Lightning=87
integer si__Lightning_F=0
integer si__Lightning_I=0
integer array si__Lightning_V
lightning array s__Lightning_lightning
boolean array s__Lightning_checkVisibility
boolean array s__Lightning_updatePosition
boolean array s__Lightning_released
boolean array s__Lightning_canSee
boolean array s__Lightning_startSet
boolean array s__Lightning_endSet
unit array s__Lightning_startUnit
unit array s__Lightning_endUnit
real array s__Lightning_startX
real array s__Lightning_startY
real array s__Lightning_startZ
real array s__Lightning_startZOffset
real array s__Lightning_endX
real array s__Lightning_endY
real array s__Lightning_endZ
real array s__Lightning_endZOffset
real array s__Lightning_redColour
real array s__Lightning_greenColour
real array s__Lightning_blueColour
real array s__Lightning_alphaColour
real array s__Lightning_fadingAlpha
real array s__Lightning_fadingAlphaInc
real array s__Lightning_releaseDelay
constant integer si__UnitDex=88
boolean s__UnitDex_Enabled= true
integer s__UnitDex_LastIndex
boolean s__UnitDex_Initialized=false
group s__UnitDex_Group=CreateGroup()
unit array s__UnitDex_Unit
integer s__UnitDex_Count= 0
integer array s__UnitDex_List
constant integer s__UnitDex_DETECT_LEAVE_ABILITY= 'uDex'
constant boolean s__UnitDex_ALLOW_DEBUGGING= true
integer s__UnitDex_Counter= 0
constant integer si__xepreload___init=89
constant integer si__EffectUtils___EffectTimer=90
integer si__EffectUtils___EffectTimer_F=0
integer si__EffectUtils___EffectTimer_I=0
integer array si__EffectUtils___EffectTimer_V
effect array s__EffectUtils___EffectTimer_e
boolean array s__EffectUtils___EffectTimer_remove
constant integer si__RegisterPlayerUnitEvent___S=91
integer s__RegisterPlayerUnitEvent___S_tb
constant integer si__UnitUtils___ReleaseDummy=92
integer si__UnitUtils___ReleaseDummy_F=0
integer si__UnitUtils___ReleaseDummy_I=0
integer array si__UnitUtils___ReleaseDummy_V
unit array s__UnitUtils___ReleaseDummy_u
integer array s__UnitUtils___ReleaseDummy_i
constant integer si__UnitUtils___InitASCIITable=93
constant integer si__UnitUtils___UpdateMultiboardS=94
constant integer si__PlayerName=95
constant integer si__String=96
integer s__String_Alloc__instanceCount= 0
integer array s__String_Alloc__recycle
string array s__String_s
constant integer si__Tree=97
integer si__Tree_F=0
integer si__Tree_I=0
integer array si__Tree_V
integer array s___Tree_requirements
constant integer s___Tree_requirements_size=10
integer array s__Tree_requirements
integer array s__Tree_count_requirements
integer array s__Tree_reward
string array s__Tree_message
constant integer si__Recipe=99
integer si__Recipe_F=0
integer si__Recipe_I=0
integer array si__Recipe_V
integer array s___Recipe_trees
constant integer s___Recipe_trees_size=50
integer array s__Recipe_trees
integer array s__Recipe_price
integer array s__Recipe_count_trees
constant integer si__HideHeroesSystem___UnitDummy=101
integer si__HideHeroesSystem___UnitDummy_F=0
integer si__HideHeroesSystem___UnitDummy_I=0
integer array si__HideHeroesSystem___UnitDummy_V
unit array s__HideHeroesSystem___UnitDummy_u
constant integer si__HealthAboveHero=102
integer si__HealthAboveHero_F=0
integer si__HealthAboveHero_I=0
integer array si__HealthAboveHero_V
integer s__HealthAboveHero_count= 0
constant integer si__HokageArmor=103
constant integer s__HokageArmor_ITEM_ID= 'I03K'
constant integer si__MizukageArmor=104
constant integer s__MizukageArmor_ITEM_ID= 'I03L'
constant integer si__TsuchikageArmor=105
constant integer s__TsuchikageArmor_ITEM_ID= 'I03M'
constant integer si__RaikageArmor=106
constant integer s__RaikageArmor_ITEM_ID= 'I03N'
constant integer si__KazekageArmor=107
constant integer s__KazekageArmor_ITEM_ID= 'I03O'
constant integer si__OtokageArmor=108
constant integer s__OtokageArmor_ITEM_ID= 'I03P'
constant integer si__SageArmor=109
constant integer s__SageArmor_ITEM_ID= 'I02Z'
constant integer si__DarkKunaiArmor=110
constant integer s__DarkKunaiArmor_ITEM_ID= 'I049'
constant integer si__DarkShurikenArmor=111
constant integer s__DarkShurikenArmor_ITEM_ID= 'I04K'
constant integer si__DarkSenbonsArmor=112
constant integer s__DarkSenbonsArmor_ITEM_ID= 'I04E'
constant integer si__HeavenStoneArmor=113
constant integer s__HeavenStoneArmor_ITEM_ID= 'I05U'
constant integer si__KyuubiSpearArmor=114
constant integer s__KyuubiSpearArmor_ITEM_ID= 'I03W'
constant integer si__HeavenMirrorArmor=115
constant integer s__HeavenMirrorArmor_ITEM_ID= 'I006'
constant integer si__JuubiSkinArmor=116
constant integer s__JuubiSkinArmor_ITEM_ID= 'I05Q'
constant integer si__AdamantineStaffArmor=117
constant integer s__AdamantineStaffArmor_ITEM_ID= 'I06B'
constant integer si__IronFanArmor=118
constant integer s__IronFanArmor_ITEM_ID= 'I06C'
constant integer si__Recipes=119
integer si__Recipes_F=0
integer si__Recipes_I=0
integer array si__Recipes_V
constant string s__Recipes_S_SPIRIT_OF_FIRE= "|cffff0000Spirit of Fire|r"
constant string s__Recipes_S_SPIRIT_OF_WATER= "|cff0000ffSpirit of Water|r"
constant string s__Recipes_S_SPIRIT_OF_DARK= "|cff800080Spirit of Darkness|r"
constant string s__Recipes_S_SPIRIT_OF_EARTH= "|cffa52a2aSpirit of Earth|r"
constant string s__Recipes_S_SPIRIT_OF_THUNDER= "|cffffff00Spirit of Thunder|r"
constant string s__Recipes_S_SPIRIT_OF_WIND= "Spirit of Wind"
constant string s__Recipes_S_SPIRIT_OF_LIGHT= "|cffFFFFE0Spirit of Light|r"
integer s__Recipes_count_recipes
constant integer si__RecipeBashosen=120
constant integer si__BadgeOfAnbu=121
boolean s__BadgeOfAnbu_b= false
constant integer si__JadePassive__Item=122
boolean s__JadePassive__Item_b= false
constant integer si__SpiritOrbs=123
boolean s__SpiritOrbs_b= false
constant integer si__SanbiSkinKillBunshin=124
boolean s__SanbiSkinKillBunshin_b= false
constant integer si__RikuudouNecklacePassive=125
constant integer si__EightHeadSwordCritical=126
boolean s__EightHeadSwordCritical_b= false
constant integer si__ThunderKusanagiCritical=127
integer s__ThunderKusanagiCritical_Alloc__instanceCount= 0
integer array s__ThunderKusanagiCritical_Alloc__recycle
unit array s__ThunderKusanagiCritical_caster
unit array s__ThunderKusanagiCritical_target
integer array s__ThunderKusanagiCritical_count
boolean s__ThunderKusanagiCritical_b= false
constant integer si__EarthKusanagiCritical=128
boolean s__EarthKusanagiCritical_b= false
constant integer si__HeavenSwordCritical=129
boolean s__HeavenSwordCritical_b= false
constant integer si__LightKusanagiCritical=130
boolean s__LightKusanagiCritical_b= false
constant integer si__WindKusanagiCritical=131
boolean s__WindKusanagiCritical_b= false
constant integer si__DarkKusanagiCritical=132
boolean s__DarkKusanagiCritical_b= false
constant integer si__FireKusanagiCritical=133
boolean s__FireKusanagiCritical_b= false
constant integer si__IceKusanagiCritical=134
boolean s__IceKusanagiCritical_b= false
constant integer si__BookCritical=135
boolean s__BookCritical_b= false
constant integer si__MedicalNinjaCloth=136
integer si__MedicalNinjaCloth_F=0
integer si__MedicalNinjaCloth_I=0
integer array si__MedicalNinjaCloth_V
constant integer si__SamehadaMana=137
boolean s__SamehadaMana_b= false
constant integer si__KyuubiImmolation=138
integer si__KyuubiImmolation_F=0
integer si__KyuubiImmolation_I=0
integer array si__KyuubiImmolation_V
constant integer si__AntiEnergyStones=139
integer s__AntiEnergyStones_Alloc__instanceCount= 0
integer array s__AntiEnergyStones_Alloc__recycle
unit array s__AntiEnergyStones_u
integer array s__AntiEnergyStones_id
integer array s__AntiEnergyStones_hps
integer array s__AntiEnergyStones_mps
group array s__AntiEnergyStones_yang_units
group array s__AntiEnergyStones_yin_units
constant integer si__HokageRobeAura=140
group s__HokageRobeAura_casters
constant integer si__KazekageRobeAura=141
group s__KazekageRobeAura_casters
constant integer si__ItachiRing=142
integer s__ItachiRing_Alloc__instanceCount= 0
integer array s__ItachiRing_Alloc__recycle
constant integer si__KisameRing=143
integer si__KisameRing_F=0
integer si__KisameRing_I=0
integer array si__KisameRing_V
constant integer si__SasoriRingGold=144
boolean s__SasoriRingGold_b= false
constant integer si__Fireworks=145
integer s__Fireworks_Alloc__instanceCount= 0
integer array s__Fireworks_Alloc__recycle
constant integer s__Fireworks_SPELL_ID= 'A0JJ'
unit array s__Fireworks_caster
real array s__Fireworks_target_x
real array s__Fireworks_target_y
integer array s__Fireworks_count
constant integer si__BijuuEssence=146
constant integer s__BijuuEssence_SPELL_ID= 'A0ZD'
constant integer si__WireStrings=147
integer s__WireStrings_Alloc__instanceCount= 0
integer array s__WireStrings_Alloc__recycle
constant integer s__WireStrings_SPELL_ID= 'A1EH'
unit array s__WireStrings_caster
unit array s__WireStrings_target
real array s__WireStrings_x
real array s__WireStrings_y
real array s__WireStrings_count
constant integer si__MedicalSphere=148
integer s__MedicalSphere_Alloc__instanceCount= 0
integer array s__MedicalSphere_Alloc__recycle
constant integer s__MedicalSphere_SPELL_ID= 'A09G'
unit array s__MedicalSphere_caster
real array s__MedicalSphere_target_x
real array s__MedicalSphere_target_y
integer array s__MedicalSphere_count
constant integer si__WoodOfSubstitution=149
integer s__WoodOfSubstitution_Alloc__instanceCount= 0
integer array s__WoodOfSubstitution_Alloc__recycle
unit array s__WoodOfSubstitution_caster
unit array s__WoodOfSubstitution_dummy
constant integer s__WoodOfSubstitution_SPELL_ID= 'AOmi'
constant integer si__SmokeBomb=150
integer s__SmokeBomb_Alloc__instanceCount= 0
integer array s__SmokeBomb_Alloc__recycle
unit array s__SmokeBomb_caster
constant integer si__YataMirror=151
integer s__YataMirror_Alloc__instanceCount= 0
integer array s__YataMirror_Alloc__recycle
unit array s__YataMirror_target
effect array s__YataMirror_e
real array s__YataMirror_speed
constant integer si__Oil=152
integer s__Oil_Alloc__instanceCount= 0
integer array s__Oil_Alloc__recycle
constant integer s__Oil_SPELL_ID= 'A07U'
unit array s__Oil_caster
unit array s__Oil_projectile
real array s__Oil_target_x
real array s__Oil_target_y
unit s__Oil_dummy_oil
integer array s__Oil_count
real array s__Oil_dist_caster
constant integer si__PoisonPill=153
integer s__PoisonPill_Alloc__instanceCount= 0
integer array s__PoisonPill_Alloc__recycle
constant integer s__PoisonPill_SPELL_ID= 'A04H'
unit array s__PoisonPill_caster
integer array s__PoisonPill_count
integer array s__PoisonPill_count2
group array s__PoisonPill_damaged
unit array s__PoisonPill_target
unit array s__PoisonPill_projectile
real array s__PoisonPill_dist_caster
real array s__PoisonPill_target_x
real array s__PoisonPill_target_y
constant integer si__Bomb=154
constant integer si__NewChain=155
integer si__NewChain_F=0
integer si__NewChain_I=0
integer array si__NewChain_V
constant integer s__NewChain_SPELL_ID= 'A1E8'
unit array s__NewChain_caster
unit array s__NewChain_target
unit array s__NewChain_dummy
real array s__NewChain_target_x
real array s__NewChain_target_y
real array s__NewChain_angle
integer array s__NewChain_count
effect array s___NewChain_chains
constant integer s___NewChain_chains_size=8190
integer array s__NewChain_chains
real array s___NewChain_chains_x
constant integer s___NewChain_chains_x_size=8190
integer array s__NewChain_chains_x
real array s___NewChain_chains_y
constant integer s___NewChain_chains_y_size=8190
integer array s__NewChain_chains_y
effect array s__NewChain_bondage
constant integer si__BlastingSphere=159
integer si__BlastingSphere_F=0
integer si__BlastingSphere_I=0
integer array si__BlastingSphere_V
constant integer s__BlastingSphere_SPELL_ID= 'A098'
unit array s__BlastingSphere_caster
unit array s__BlastingSphere_target
unit array s__BlastingSphere_dummy
real array s__BlastingSphere_target_x
real array s__BlastingSphere_target_y
real array s__BlastingSphere_angle
integer array s__BlastingSphere_count
constant integer si__DragonBlast=160
integer s__DragonBlast_Alloc__instanceCount= 0
integer array s__DragonBlast_Alloc__recycle
constant integer s__DragonBlast_SPELL_ID= 'A08Y'
unit array s__DragonBlast_caster
unit array s__DragonBlast_dummy
group array s__DragonBlast_damaged
real array s__DragonBlast_angle
integer array s__DragonBlast_count
constant integer si__ItemFuumaShuriken=161
integer s__ItemFuumaShuriken_Alloc__instanceCount= 0
integer array s__ItemFuumaShuriken_Alloc__recycle
constant integer s__ItemFuumaShuriken_SPELL_ID= 'A0GK'
group array s__ItemFuumaShuriken_damaged
unit array s__ItemFuumaShuriken_shuriken
unit array s__ItemFuumaShuriken_caster
real array s__ItemFuumaShuriken_angle
integer array s__ItemFuumaShuriken_count
boolean array s__ItemFuumaShuriken_building
effect array s__ItemFuumaShuriken_e
constant integer si__ItemExplosiveKunai=162
constant integer s__ItemExplosiveKunai_SPELL_ID= 'A0GL'
constant integer s__ItemExplosiveKunai_DUMMY_ID= 'n00N'
constant integer si__SenbonsDance=163
constant integer si__TimedExplosiveTag=164
integer s__TimedExplosiveTag_Alloc__instanceCount= 0
integer array s__TimedExplosiveTag_Alloc__recycle
unit array s__TimedExplosiveTag_caster
unit array s__TimedExplosiveTag_note
integer array s__TimedExplosiveTag_count
constant integer si__ExplosiveTagExplosion=165
constant integer si__KohakuNoJohei=166
integer s__KohakuNoJohei_Alloc__instanceCount= 0
integer array s__KohakuNoJohei_Alloc__recycle
constant integer s__KohakuNoJohei_SPELL_ID= 'A0JU'
unit array s__KohakuNoJohei_caster
integer array s__KohakuNoJohei_count
group array s__KohakuNoJohei_damaged
group array s__KohakuNoJohei_winds
constant integer si__HiraishinKunai=167
constant integer si__Bashosen__Item=168
integer s__Bashosen__Item_Alloc__instanceCount= 0
integer array s__Bashosen__Item_Alloc__recycle
constant integer s__Bashosen__Item_SPELL_ID= 'A0JH'
group array s__Bashosen__Item_damaged
unit array s__Bashosen__Item_caster
integer array s__Bashosen__Item_count
integer array s__Bashosen__Item_element
constant integer si__Makibishi=169
integer s__Makibishi_Alloc__instanceCount= 0
integer array s__Makibishi_Alloc__recycle
unit array s__Makibishi_caster
real array s__Makibishi_x
real array s__Makibishi_y
integer array s__Makibishi_count
group array s__Makibishi_damaged
constant integer si__NinjaNet=170
integer s__NinjaNet_Alloc__instanceCount= 0
integer array s__NinjaNet_Alloc__recycle
constant integer s__NinjaNet_SPELL_ID= 'A08T'
unit array s__NinjaNet_caster
unit array s__NinjaNet_projectile
unit array s__NinjaNet_target
constant integer si__SanbiProtection=171
integer s__SanbiProtection_Alloc__instanceCount= 0
integer array s__SanbiProtection_Alloc__recycle
unit array s__SanbiProtection_caster
constant integer si__AkatukiSet=172
group s__AkatukiSet_cooldown
group s__AkatukiSet_invisibilityGroup
integer s__AkatukiSet_secondsElapsed
integer s__AkatukiSet_stats
constant integer si__GreaterMedicalSphere=173
integer s__GreaterMedicalSphere_Alloc__instanceCount= 0
integer array s__GreaterMedicalSphere_Alloc__recycle
constant integer s__GreaterMedicalSphere_SPELL_ID= 'A0UB'
unit array s__GreaterMedicalSphere_caster
real array s__GreaterMedicalSphere_target_x
real array s__GreaterMedicalSphere_target_y
integer array s__GreaterMedicalSphere_count
constant integer si__ReverseOfAllCreation=174
integer s__ReverseOfAllCreation_Alloc__instanceCount= 0
integer array s__ReverseOfAllCreation_Alloc__recycle
constant integer s__ReverseOfAllCreation_SPELL_ID= 'A08P'
constant integer si__SubjugationOfEarth=175
integer s__SubjugationOfEarth_Alloc__instanceCount= 0
integer array s__SubjugationOfEarth_Alloc__recycle
constant integer s__SubjugationOfEarth_SPELL_ID= 'A08U'
unit array s__SubjugationOfEarth_caster
unit array s__SubjugationOfEarth_target
integer array s__SubjugationOfEarth_diff
constant integer si__SubjugationOfHeaven=176
integer s__SubjugationOfHeaven_Alloc__instanceCount= 0
integer array s__SubjugationOfHeaven_Alloc__recycle
constant integer s__SubjugationOfHeaven_SPELL_ID= 'A08K'
unit array s__SubjugationOfHeaven_caster
group array s__SubjugationOfHeaven_damaged
constant integer si__ElementalANBUMask=177
constant integer si__HeavenStone=178
constant integer s__HeavenStone_SPELL_ID= 'ACpu'
constant integer si__HealingShoes=179
integer s__HealingShoes_Alloc__instanceCount= 0
integer array s__HealingShoes_Alloc__recycle
unit array s__HealingShoes_caster
real array s__HealingShoes_percent
integer array s__HealingShoes_count
constant integer si__InvisibilityShoes=180
constant integer si__ScrollOfTeleport=181
constant integer s__ScrollOfTeleport_SPELL_ID= 'A16S'
constant integer si__BunshinStoneNew=182
constant integer si__ItemShikiFuujin=183
integer s__ItemShikiFuujin_Alloc__instanceCount= 0
integer array s__ItemShikiFuujin_Alloc__recycle
constant integer s__ItemShikiFuujin_SPELL_ID= 'A15X'
constant integer si__HeavenSwordActive=184
constant integer si__AdamantineStaffActive__Spell=185
integer s__AdamantineStaffActive__Spell_Alloc__instanceCount= 0
integer array s__AdamantineStaffActive__Spell_Alloc__recycle
constant integer s__AdamantineStaffActive__Spell_SPELL_ID= 'A04Z'
group array s__AdamantineStaffActive__Spell_g
unit array s__AdamantineStaffActive__Spell_caster
unit array s__AdamantineStaffActive__Spell_target
unit array s__AdamantineStaffActive__Spell_sphere
unit array s__AdamantineStaffActive__Spell_jirobo
real array s__AdamantineStaffActive__Spell_target_x
real array s__AdamantineStaffActive__Spell_target_y
constant integer si__ExecutionBlade=186
integer s__ExecutionBlade_Alloc__instanceCount= 0
integer array s__ExecutionBlade_Alloc__recycle
unit array s__ExecutionBlade_target
real array s__ExecutionBlade_hp
real array s__ExecutionBlade_count
boolean array s__ExecutionBlade_duel
constant integer si__ThunderKusanagi=187
integer s__ThunderKusanagi_Alloc__instanceCount= 0
integer array s__ThunderKusanagi_Alloc__recycle
unit array s__ThunderKusanagi_caster
unit array s__ThunderKusanagi_target
integer array s__ThunderKusanagi_count
constant integer si__NewKusanagiStrike=188
integer s__NewKusanagiStrike_Alloc__instanceCount= 0
integer array s__NewKusanagiStrike_Alloc__recycle
constant integer s__NewKusanagiStrike_SPELL_ID= 'A138'
unit array s__NewKusanagiStrike_caster
unit array s__NewKusanagiStrike_kusanagi
integer array s__NewKusanagiStrike_count
real array s__NewKusanagiStrike_angle
constant integer si__LightKusanagi=189
integer s__LightKusanagi_Alloc__instanceCount= 0
integer array s__LightKusanagi_Alloc__recycle
constant integer s__LightKusanagi_SPELL_ID= 'A1DZ'
constant integer si__FireKusanagi=190
constant integer si__IceKusanagi=191
constant integer si__EarthPierce=192
integer s__EarthPierce_Alloc__instanceCount= 0
integer array s__EarthPierce_Alloc__recycle
constant integer s__EarthPierce_SPELL_ID= 'A16V'
group array s__EarthPierce_damaged
unit array s__EarthPierce_caster
real array s__EarthPierce_angle
integer array s__EarthPierce_count
boolean array s__EarthPierce_building
effect array s__EarthPierce_e
unit array s__EarthPierce_rock
constant integer si__DarkKusanagi=193
constant integer si__WindKusa=194
integer s__WindKusa_Alloc__instanceCount= 0
integer array s__WindKusa_Alloc__recycle
constant integer s__WindKusa_SPELL_ID= 'A1BP'
unit array s__WindKusa_caster
integer array s__WindKusa_count
group array s__WindKusa_damaged
group array s__WindKusa_winds
constant integer si__Shichiseiken=195
integer s__Shichiseiken_Alloc__instanceCount= 0
integer array s__Shichiseiken_Alloc__recycle
constant integer si__NewHidanScythe=196
integer s__NewHidanScythe_Alloc__instanceCount= 0
integer array s__NewHidanScythe_Alloc__recycle
constant integer s__NewHidanScythe_SPELL_ID= 'A139'
unit array s__NewHidanScythe_caster
unit array s__NewHidanScythe_scythe
unit array s__NewHidanScythe_target
integer array s__NewHidanScythe_count
real array s__NewHidanScythe_angle
integer array s__NewHidanScythe_l
constant integer si__ZetsuRing=197
integer s__ZetsuRing_Alloc__instanceCount= 0
integer array s__ZetsuRing_Alloc__recycle
constant integer s__ZetsuRing_SPELL_ID= 'A1CX'
integer s__ZetsuRing_instance
constant integer si__ItachiRingActive=198
integer s__ItachiRingActive_Alloc__instanceCount= 0
integer array s__ItachiRingActive_Alloc__recycle
constant integer s__ItachiRingActive_SPELL_ID= 'A1CT'
unit array s__ItachiRingActive_caster
unit array s__ItachiRingActive_target
unit array s__ItachiRingActive_dummy
constant integer si__AnkoQ=199
integer s__AnkoQ_Alloc__instanceCount= 0
integer array s__AnkoQ_Alloc__recycle
constant integer s__AnkoQ_SPELL_ID= 'A07J'
group s__AnkoQ_damaged
integer s__AnkoQ_count_snakes
unit s__AnkoQ_caster
real s__AnkoQ_x
real s__AnkoQ_y
real s__AnkoQ_angle
unit array s__AnkoQ_snake
integer array s__AnkoQ_count
constant integer si__AnkoW=200
integer s__AnkoW_Alloc__instanceCount= 0
integer array s__AnkoW_Alloc__recycle
constant integer s__AnkoW_SPELL_ID= 'A07H'
unit array s__AnkoW_caster
group array s__AnkoW_katon
group array s__AnkoW_damaged
integer array s__AnkoW_count
unit array s__AnkoW_dummy
unit array s__AnkoW_dummy1
unit array s__AnkoW_dummy2
unit array s__AnkoW_dummy3
unit array s__AnkoW_dummy4
unit array s__AnkoW_dummy5
real array s__AnkoW_angle
constant integer si__AnkoE=201
integer s__AnkoE_Alloc__instanceCount= 0
integer array s__AnkoE_Alloc__recycle
constant integer s__AnkoE_SPELL_ID= 'A14Y'
unit s__AnkoE_anko
unit array s__AnkoE_caster
real array s__AnkoE_target_x
real array s__AnkoE_target_y
real array s__AnkoE_previous_x
real array s__AnkoE_previous_y
integer array s__AnkoE_count
boolean array s__AnkoE_positive
constant integer si__AnkoR=202
integer s__AnkoR_Alloc__instanceCount= 0
integer array s__AnkoR_Alloc__recycle
constant integer s__AnkoR_SPELL_ID= 'A157'
unit array s__AnkoR_caster
real array s__AnkoR_angle
real array s__AnkoR_window
integer array s__AnkoR_count
group array s__AnkoR_damaged
unit array s__AnkoR_dummy
boolean array s__AnkoR_found
constant integer si__AnkoT=203
integer s__AnkoT_Alloc__instanceCount= 0
integer array s__AnkoT_Alloc__recycle
constant integer s__AnkoT_SPELL_ID= 'A159'
integer s__AnkoT_instance
unit array s__AnkoT_caster
unit array s__AnkoT_target
group array s__AnkoT_snakes
integer array s__AnkoT_count
constant integer si__AnkoD=204
constant integer s__AnkoD_SPELL_ID= 'A158'
constant integer si__Ox__Spell=205
integer s__Ox__Spell_Alloc__instanceCount= 0
integer array s__Ox__Spell_Alloc__recycle
constant integer s__Ox__Spell_SPELL_ID= 'A19H'
unit array s__Ox__Spell_caster
unit array s__Ox__Spell_target
unit array s__Ox__Spell_ox
real array s__Ox__Spell_angle
group array s__Ox__Spell_damaged
integer array s__Ox__Spell_count
constant integer si__Dog=206
integer s__Dog_Alloc__instanceCount= 0
integer array s__Dog_Alloc__recycle
constant integer s__Dog_SPELL_ID= 'A150'
integer s__Dog_instance
unit array s__Dog_caster
real array s__Dog_caster_x
real array s__Dog_caster_y
real array s__Dog_target_x
real array s__Dog_target_y
integer array s__Dog_count
real array s__Dog_dist
group array s__Dog_damaged
constant integer si__Cloak=207
constant integer si__Crab__Spell=208
integer s__Crab__Spell_Alloc__instanceCount= 0
integer array s__Crab__Spell_Alloc__recycle
constant integer s__Crab__Spell_SPELL_ID= 'A19P'
unit array s__Crab__Spell_caster
unit array s__Crab__Spell_crab
real array s__Crab__Spell_target_x
real array s__Crab__Spell_target_y
integer array s__Crab__Spell_count
constant integer si__Bird=209
integer s__Bird_Alloc__instanceCount= 0
integer array s__Bird_Alloc__recycle
constant integer s__Bird_SPELL_ID= 'A1CS'
unit array s__Bird_caster
unit array s__Bird_bombs
unit array s__Bird_bird
real array s__Bird_target_x
real array s__Bird_target_y
integer array s__Bird_count
constant integer si__Panda=210
integer s__Panda_Alloc__instanceCount= 0
integer array s__Panda_Alloc__recycle
constant integer s__Panda_SPELL_ID= 'A19I'
integer s__Panda_instance
unit array s__Panda_caster
constant integer si__AsumaChakraBlades=211
integer s__AsumaChakraBlades_Alloc__instanceCount= 0
integer array s__AsumaChakraBlades_Alloc__recycle
constant integer s__AsumaChakraBlades_SPELL_ID= 'A0M4'
constant integer si__AsumaWind=212
integer s__AsumaWind_Alloc__instanceCount= 0
integer array s__AsumaWind_Alloc__recycle
constant integer s__AsumaWind_SPELL_ID= 'A16R'
integer s__AsumaWind_instance
unit array s__AsumaWind_caster
group array s__AsumaWind_damaged
unit array s__AsumaWind_wind
integer array s__AsumaWind_count
real array s__AsumaWind_angle
real array s__AsumaWind_target_x
real array s__AsumaWind_target_y
boolean array s__AsumaWind_hitoil
boolean array s__AsumaWind_hitfire
constant integer si__AsumaFireR=213
integer s__AsumaFireR_Alloc__instanceCount= 0
integer array s__AsumaFireR_Alloc__recycle
constant integer s__AsumaFireR_SPELL_ID= 'A05N'
unit array s__AsumaFireR_caster
unit array s__AsumaFireR_projectile
integer array s__AsumaFireR_count
integer array s__AsumaFireR_count2
unit array s__AsumaFireR_target
unit s__AsumaFireR_dummy_firewall
group array s__AsumaFireR_damaged
real array s__AsumaFireR_target_x
real array s__AsumaFireR_target_y
constant integer si__AsumaUltimateChoice=214
integer s__AsumaUltimateChoice_Alloc__instanceCount= 0
integer array s__AsumaUltimateChoice_Alloc__recycle
constant integer s__AsumaUltimateChoice_HIEN= 'A0WB'
constant integer s__AsumaUltimateChoice_KATON= 'A0GH'
player s__AsumaUltimateChoice_p
integer s__AsumaUltimateChoice_d
boolexpr s__AsumaUltimateChoice_pick
unit s__AsumaUltimateChoice_u
unit array s__AsumaUltimateChoice_caster
player array s__AsumaUltimateChoice_pp
constant integer si__AsumaChakraBladesPassive=215
constant integer si__AsumaLevel=216
integer si__AsumaLevel_F=0
integer si__AsumaLevel_I=0
integer array si__AsumaLevel_V
unit s__AsumaLevel_asuma
constant integer si__BorutoStream=217
integer s__BorutoStream_Alloc__instanceCount= 0
integer array s__BorutoStream_Alloc__recycle
constant integer s__BorutoStream_SPELL_ID= 'A1BQ'
unit array s__BorutoStream_caster
unit array s__BorutoStream_dummy
integer array s__BorutoStream_count
real array s__BorutoStream_angle
real array s__BorutoStream_p1x
real array s__BorutoStream_p1y
real array s__BorutoStream_p2x
real array s__BorutoStream_p2y
real array s__BorutoStream_p3x
real array s__BorutoStream_p3y
real array s__BorutoStream_p4x
real array s__BorutoStream_p4y
real array s__BorutoStream_cx
real array s__BorutoStream_cy
integer array s__BorutoStream_waves
group array s__BorutoStream_damaged
constant integer si__BorutoFarm=218
integer s__BorutoFarm_Alloc__instanceCount= 0
integer array s__BorutoFarm_Alloc__recycle
constant integer s__BorutoFarm_SPELL_ID= 'A1BT'
unit array s__BorutoFarm_caster
unit array s__BorutoFarm_lightning
unit array s__BorutoFarm_target
unit array s__BorutoFarm_shuriken
constant integer si__BorutoClone=219
integer si__BorutoClone_F=0
integer si__BorutoClone_I=0
integer array si__BorutoClone_V
constant integer s__BorutoClone_SPELL_ID= 'A1CU'
integer s__BorutoClone_instance
unit array s__BorutoClone_caster
unit array s__BorutoClone_target
unit array s__BorutoClone_clone
unit array s__BorutoClone_dummy
real array s__BorutoClone_target_x
real array s__BorutoClone_target_y
real array s__BorutoClone_angle
integer array s__BorutoClone_count
constant integer si__BorutoRasengan=220
integer si__BorutoRasengan_F=0
integer si__BorutoRasengan_I=0
integer array si__BorutoRasengan_V
constant integer s__BorutoRasengan_SPELL_ID= 'A1BS'
integer s__BorutoRasengan_instance
unit array s__BorutoRasengan_caster
unit array s__BorutoRasengan_target
unit array s__BorutoRasengan_spike
unit array s__BorutoRasengan_dummy
real array s__BorutoRasengan_target_x
real array s__BorutoRasengan_target_y
real array s__BorutoRasengan_angle
integer array s__BorutoRasengan_count
constant integer si__BorutoOyakoRasengan__Spell=221
integer s__BorutoOyakoRasengan__Spell_Alloc__instanceCount= 0
integer array s__BorutoOyakoRasengan__Spell_Alloc__recycle
constant integer s__BorutoOyakoRasengan__Spell_SPELL_ID= 'A1EE'
integer s__BorutoOyakoRasengan__Spell_instance
unit array s__BorutoOyakoRasengan__Spell_caster
unit array s__BorutoOyakoRasengan__Spell_stunUnit
effect array s__BorutoOyakoRasengan__Spell_rasengan
real array s__BorutoOyakoRasengan__Spell_target_x
real array s__BorutoOyakoRasengan__Spell_target_y
real array s__BorutoOyakoRasengan__Spell_distance
integer array s__BorutoOyakoRasengan__Spell_count
constant integer si__ChiyoTrap=222
integer s__ChiyoTrap_Alloc__instanceCount= 0
integer array s__ChiyoTrap_Alloc__recycle
constant integer s__ChiyoTrap_SPELL_ID= 'A1DX'
integer s__ChiyoTrap_instance
unit array s__ChiyoTrap_caster
unit array s__ChiyoTrap_trap
group array s__ChiyoTrap_damaged
integer array s__ChiyoTrap_c
constant integer si__ChiyoFlyingKunais=223
integer si__ChiyoFlyingKunais_F=0
integer si__ChiyoFlyingKunais_I=0
integer array si__ChiyoFlyingKunais_V
constant integer s__ChiyoFlyingKunais_SPELL_ID= 'A0N2'
unit array s__ChiyoFlyingKunais_caster
integer array s__ChiyoFlyingKunais_count
group array s__ChiyoFlyingKunais_damaged
constant integer si__ChiyoAssaultBlade=224
integer s__ChiyoAssaultBlade_Alloc__instanceCount= 0
integer array s__ChiyoAssaultBlade_Alloc__recycle
constant integer s__ChiyoAssaultBlade_SPELL_ID= 'A0N3'
unit array s__ChiyoAssaultBlade_caster
unit array s__ChiyoAssaultBlade_target
constant integer si__ChiyoChakraThreads=225
integer si__ChiyoChakraThreads_F=0
integer si__ChiyoChakraThreads_I=0
integer array si__ChiyoChakraThreads_V
constant integer si__ChiyoNewSemi=228
integer s__ChiyoNewSemi_Alloc__instanceCount= 0
integer array s__ChiyoNewSemi_Alloc__recycle
constant integer s__ChiyoNewSemi_SPELL_ID= 'A0N4'
unit array s__ChiyoNewSemi_caster
unit array s__ChiyoNewSemi_missile
unit s__ChiyoNewSemi_mother
unit s__ChiyoNewSemi_father
real array s__ChiyoNewSemi_angle
real array s__ChiyoNewSemi_target_x
real array s__ChiyoNewSemi_target_y
integer array s__ChiyoNewSemi_count
group array s__ChiyoNewSemi_damaged
real array s__ChiyoNewSemi_mother_step
real array s__ChiyoNewSemi_father_step
constant integer si__ChiyoNewUltimate=229
integer s__ChiyoNewUltimate_Alloc__instanceCount= 0
integer array s__ChiyoNewUltimate_Alloc__recycle
constant integer s__ChiyoNewUltimate_SPELL_ID= 'A0V9'
unit array s__ChiyoNewUltimate_caster
effect array s__ChiyoNewUltimate_tornado
real array s__ChiyoNewUltimate_angle
real array s__ChiyoNewUltimate_origin_x
real array s__ChiyoNewUltimate_origin_y
unit array s__ChiyoNewUltimate_puppet1
unit array s__ChiyoNewUltimate_puppet2
unit array s__ChiyoNewUltimate_puppet3
unit array s__ChiyoNewUltimate_dummy
integer array s__ChiyoNewUltimate_count
constant integer si__ChoujiNewNikudanSensha=230
integer s__ChoujiNewNikudanSensha_Alloc__instanceCount= 0
integer array s__ChoujiNewNikudanSensha_Alloc__recycle
constant integer s__ChoujiNewNikudanSensha_SPELL_ID= 'A07L'
boolean array s__ChoujiNewNikudanSensha_big
unit array s__ChoujiNewNikudanSensha_caster
integer array s__ChoujiNewNikudanSensha_count
real array s__ChoujiNewNikudanSensha_angle
group array s__ChoujiNewNikudanSensha_damaged
constant integer si__ChoujiChoharite=231
integer s__ChoujiChoharite_Alloc__instanceCount= 0
integer array s__ChoujiChoharite_Alloc__recycle
constant integer s__ChoujiChoharite_SPELL_ID= 'A0WD'
unit array s__ChoujiChoharite_caster
unit array s__ChoujiChoharite_target
real array s__ChoujiChoharite_angle
integer array s__ChoujiChoharite_count
group array s__ChoujiChoharite_damaged
constant integer si__ChoujiNewUlt=232
integer s__ChoujiNewUlt_Alloc__instanceCount= 0
integer array s__ChoujiNewUlt_Alloc__recycle
constant integer s__ChoujiNewUlt_SPELL_ID= 'A085'
real array s__ChoujiNewUlt_target_x
real array s__ChoujiNewUlt_target_y
unit array s__ChoujiNewUlt_caster
unit array s__ChoujiNewUlt_ball
timer array s__ChoujiNewUlt_spin
integer array s__ChoujiNewUlt_count
constant integer si__DanzoShuriken=233
integer s__DanzoShuriken_Alloc__instanceCount= 0
integer array s__DanzoShuriken_Alloc__recycle
constant integer s__DanzoShuriken_SPELL_ID= 'A0GF'
unit array s__DanzoShuriken_caster
unit array s__DanzoShuriken_shuriken
group array s__DanzoShuriken_damaged
real array s__DanzoShuriken_angle
integer array s__DanzoShuriken_count
constant integer si__DanzoNewSemi=234
integer s__DanzoNewSemi_Alloc__instanceCount= 0
integer array s__DanzoNewSemi_Alloc__recycle
constant integer s__DanzoNewSemi_SPELL_ID= 'A0GA'
constant integer s__DanzoNewSemi_MISSILE_ID= 'A0QD'
unit array s__DanzoNewSemi_caster
unit array s__DanzoNewSemi_baku
unit array s__DanzoNewSemi_wind
real array s__DanzoNewSemi_target_x
real array s__DanzoNewSemi_target_y
integer array s__DanzoNewSemi_count
constant integer si__DanzoMissile=235
integer s__DanzoMissile_Alloc__instanceCount= 0
integer array s__DanzoMissile_Alloc__recycle
constant integer s__DanzoMissile_SPELL_ID= 'A0QD'
integer s__DanzoMissile_instance
unit array s__DanzoMissile_caster
unit array s__DanzoMissile_ball
real array s__DanzoMissile_angle
integer array s__DanzoMissile_count
constant integer si__DanzoNewIzanagiSM__DanzoNewNewIzanagi=236
integer s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__instanceCount= 0
integer array s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle
constant integer s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_SPELL_ID= 'A0G6'
unit array s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster
integer array s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count
effect array s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_e
constant integer si__DanzoSuicide=237
integer s__DanzoSuicide_Alloc__instanceCount= 0
integer array s__DanzoSuicide_Alloc__recycle
constant integer s__DanzoSuicide_SPELL_ID= 'A0O8'
integer s__DanzoSuicide_instance
unit array s__DanzoSuicide_caster
unit array s__DanzoSuicide_sphere
constant integer si__DaruiRaiton=238
constant integer s__DaruiRaiton_SPELL_ID= 'A1A9'
constant integer si__DaruiNewSuiton=239
integer s__DaruiNewSuiton_Alloc__instanceCount= 0
integer array s__DaruiNewSuiton_Alloc__recycle
constant integer s__DaruiNewSuiton_SPELL_ID= 'A0XK'
unit array s__DaruiNewSuiton_caster
unit array s__DaruiNewSuiton_dummy
real array s__DaruiNewSuiton_target_x
real array s__DaruiNewSuiton_target_y
real array s__DaruiNewSuiton_caster_x
real array s__DaruiNewSuiton_caster_y
group array s__DaruiNewSuiton_damaged
integer array s__DaruiNewSuiton_count
real array s__DaruiNewSuiton_window
constant integer si__DaruiLightningStrike=240
integer s__DaruiLightningStrike_Alloc__instanceCount= 0
integer array s__DaruiLightningStrike_Alloc__recycle
constant integer s__DaruiLightningStrike_SPELL_ID= 'A1EF'
constant integer si__DaruiLaserCircus__Spell=241
integer s__DaruiLaserCircus__Spell_Alloc__instanceCount= 0
integer array s__DaruiLaserCircus__Spell_Alloc__recycle
constant integer s__DaruiLaserCircus__Spell_SPELL_ID= 'A01Y'
integer s__DaruiLaserCircus__Spell_instance
unit array s__DaruiLaserCircus__Spell_caster
unit array s__DaruiLaserCircus__Spell_dummy
real array s__DaruiLaserCircus__Spell_target_x
real array s__DaruiLaserCircus__Spell_target_y
real array s__DaruiLaserCircus__Spell_speed
real array s__DaruiLaserCircus__Spell_distance
integer array s__DaruiLaserCircus__Spell_count
integer array s__DaruiLaserCircus__Spell_effects_count
constant integer si__DaruiBlackPanther=242
integer s__DaruiBlackPanther_Alloc__instanceCount= 0
integer array s__DaruiBlackPanther_Alloc__recycle
constant integer s__DaruiBlackPanther_SPELL_ID= 'A0WK'
integer s__DaruiBlackPanther_instance
unit array s__DaruiBlackPanther_caster
unit array s__DaruiBlackPanther_dummy
unit array s__DaruiBlackPanther_panther1
unit array s__DaruiBlackPanther_panther2
real array s__DaruiBlackPanther_target_x
real array s__DaruiBlackPanther_target_y
real array s__DaruiBlackPanther_distance
real array s__DaruiBlackPanther_previous_panther1_x
real array s__DaruiBlackPanther_previous_panther1_y
real array s__DaruiBlackPanther_previous_panther2_x
real array s__DaruiBlackPanther_previous_panther2_y
integer array s__DaruiBlackPanther_count
real array s__DaruiBlackPanther_step
real array s__DaruiBlackPanther_angle
constant integer si__DaruiBlackLightning=243
integer s__DaruiBlackLightning_Alloc__instanceCount= 0
integer array s__DaruiBlackLightning_Alloc__recycle
constant integer s__DaruiBlackLightning_SPELL_ID= 'A1AC'
constant integer si__DeidaraBeautyOfDestruction=244
integer s__DeidaraBeautyOfDestruction_Alloc__instanceCount= 0
integer array s__DeidaraBeautyOfDestruction_Alloc__recycle
group s__DeidaraBeautyOfDestruction_damaged
integer s__DeidaraBeautyOfDestruction_instance
unit array s__DeidaraBeautyOfDestruction_caster
real array s__DeidaraBeautyOfDestruction_target_x
real array s__DeidaraBeautyOfDestruction_target_y
unit array s__DeidaraBeautyOfDestruction_bird
real array s__DeidaraBeautyOfDestruction_angle
constant integer si__DeidaraEternalExplosion=245
integer s__DeidaraEternalExplosion_Alloc__instanceCount= 0
integer array s__DeidaraEternalExplosion_Alloc__recycle
constant integer s__DeidaraEternalExplosion_SPELL_ID= 'A020'
unit s__DeidaraEternalExplosion_deidara
group array s__DeidaraEternalExplosion_damaged
unit array s__DeidaraEternalExplosion_c4
integer array s__DeidaraEternalExplosion_count
constant integer si__DosuQ=246
integer s__DosuQ_Alloc__instanceCount= 0
integer array s__DosuQ_Alloc__recycle
constant integer s__DosuQ_SPELL_ID= 'A16Y'
unit array s__DosuQ_caster
unit array s__DosuQ_missile
group array s__DosuQ_damaged
integer array s__DosuQ_count
real array s__DosuQ_angle
integer array s__DosuQ_bounce
constant integer si__DosuSoundPunch=247
integer s__DosuSoundPunch_Alloc__instanceCount= 0
integer array s__DosuSoundPunch_Alloc__recycle
constant integer s__DosuSoundPunch_SPELL_ID= 'A17V'
unit array s__DosuSoundPunch_caster
unit array s__DosuSoundPunch_target
integer array s__DosuSoundPunch_count
constant integer si__DosuSoundBarrier=248
integer s__DosuSoundBarrier_Alloc__instanceCount= 0
integer array s__DosuSoundBarrier_Alloc__recycle
constant integer s__DosuSoundBarrier_SPELL_ID= 'A185'
unit s__DosuSoundBarrier_barrier
unit array s__DosuSoundBarrier_caster
integer array s__DosuSoundBarrier_count
constant integer si__DosuVibrations=249
integer s__DosuVibrations_Alloc__instanceCount= 0
integer array s__DosuVibrations_Alloc__recycle
constant integer s__DosuVibrations_SPELL_ID= 'A186'
unit array s__DosuVibrations_caster
integer array s__DosuVibrations_count
constant integer si__DosuWavesOfDestruction=250
integer s__DosuWavesOfDestruction_Alloc__instanceCount= 0
integer array s__DosuWavesOfDestruction_Alloc__recycle
constant integer s__DosuWavesOfDestruction_SPELL_ID= 'A1BL'
unit array s__DosuWavesOfDestruction_caster
unit array s__DosuWavesOfDestruction_missile
group array s__DosuWavesOfDestruction_damaged
integer array s__DosuWavesOfDestruction_count
real array s__DosuWavesOfDestruction_angle
integer array s__DosuWavesOfDestruction_bounce
real array s__DosuWavesOfDestruction_damage
constant integer si__DosuEchoChamber=251
integer s__DosuEchoChamber_Alloc__instanceCount= 0
integer array s__DosuEchoChamber_Alloc__recycle
constant integer s__DosuEchoChamber_SPELL_ID= 'A16Z'
unit s__DosuEchoChamber_dome
constant integer si__FuuCocoon=252
integer s__FuuCocoon_Alloc__instanceCount= 0
integer array s__FuuCocoon_Alloc__recycle
constant integer s__FuuCocoon_SPELL_ID= 'A0XP'
unit array s__FuuCocoon_caster
constant integer si__FuuNet=253
integer s__FuuNet_Alloc__instanceCount= 0
integer array s__FuuNet_Alloc__recycle
constant integer s__FuuNet_SPELL_ID= 'A0XQ'
integer s__FuuNet_instance
unit array s__FuuNet_caster
unit array s__FuuNet_missile
real array s__FuuNet_target_x
real array s__FuuNet_target_y
real array s__FuuNet_distance
constant integer si__FuuGrab=254
integer s__FuuGrab_Alloc__instanceCount= 0
integer array s__FuuGrab_Alloc__recycle
constant integer s__FuuGrab_SPELL_ID= 'A0XW'
unit array s__FuuGrab_caster
unit array s__FuuGrab_target
real array s__FuuGrab_caster_x
real array s__FuuGrab_caster_y
real array s__FuuGrab_distance
real array s__FuuGrab_window
constant integer si__FuuAssault=255
integer s__FuuAssault_Alloc__instanceCount= 0
integer array s__FuuAssault_Alloc__recycle
constant integer s__FuuAssault_SPELL_ID= 'A0XV'
unit array s__FuuAssault_caster
real array s__FuuAssault_angle
integer array s__FuuAssault_count
group array s__FuuAssault_damaged
constant integer si__FuuPowder=256
integer s__FuuPowder_Alloc__instanceCount= 0
integer array s__FuuPowder_Alloc__recycle
constant integer s__FuuPowder_SPELL_ID= 'A0XR'
unit array s__FuuPowder_caster
real array s__FuuPowder_caster_x
real array s__FuuPowder_caster_y
integer array s__FuuPowder_count
group array s__FuuPowder_damaged
constant integer si__FuuUltimate=257
integer s__FuuUltimate_Alloc__instanceCount= 0
integer array s__FuuUltimate_Alloc__recycle
constant integer s__FuuUltimate_SPELL_ID= 'A0Y2'
real array s__FuuUltimate_target_x
real array s__FuuUltimate_target_y
unit array s__FuuUltimate_caster
unit array s__FuuUltimate_bijuu
timer array s__FuuUltimate_spin
integer array s__FuuUltimate_count
constant integer si__GaaraSandShield___Spell=258
integer s__GaaraSandShield___Spell_Alloc__instanceCount= 0
integer array s__GaaraSandShield___Spell_Alloc__recycle
constant integer s__GaaraSandShield___Spell_SPELL_ID= 'A0KE'
unit array s__GaaraSandShield___Spell_caster
unit array s__GaaraSandShield___Spell_target
unit array s__GaaraSandShield___Spell_shield
constant integer si__GaaraNewQ=259
integer si__GaaraNewQ_F=0
integer si__GaaraNewQ_I=0
integer array si__GaaraNewQ_V
constant integer s__GaaraNewQ_SPELL_ID= 'A0WR'
unit array s__GaaraNewQ_caster
unit array s__GaaraNewQ_target
unit array s__GaaraNewQ_dummy
real array s__GaaraNewQ_target_x
real array s__GaaraNewQ_target_y
real array s__GaaraNewQ_angle
integer array s__GaaraNewQ_count
constant integer si__GaaraFly=260
integer s__GaaraFly_Alloc__instanceCount= 0
integer array s__GaaraFly_Alloc__recycle
unit s__GaaraFly_gaara
unit array s__GaaraFly_caster
constant integer si__GaaraNewSemi=261
integer s__GaaraNewSemi_Alloc__instanceCount= 0
integer array s__GaaraNewSemi_Alloc__recycle
constant integer s__GaaraNewSemi_SPELL_ID= 'ANbf'
unit array s__GaaraNewSemi_caster
real array s__GaaraNewSemi_angle
group array s__GaaraNewSemi_dummies
group array s__GaaraNewSemi_damaged
integer array s__GaaraNewSemi_count
constant integer si__SabakuSotaisonDie=262
constant integer si__GaaraUltimate=263
integer s__GaaraUltimate_Alloc__instanceCount= 0
integer array s__GaaraUltimate_Alloc__recycle
constant integer s__GaaraUltimate_SPELL_ID= 'A16Q'
unit array s__GaaraUltimate_caster
unit array s__GaaraUltimate_arrow
unit array s__GaaraUltimate_cloud
integer array s__GaaraUltimate_count
real array s__GaaraUltimate_angle
real array s__GaaraUltimate_distance
constant integer si__GaaraUltimateChoice=264
integer s__GaaraUltimateChoice_Alloc__instanceCount= 0
integer array s__GaaraUltimateChoice_Alloc__recycle
constant integer s__GaaraUltimateChoice_SHUKAKU_SPEAR= 'A16Q'
constant integer s__GaaraUltimateChoice_SABAKU_SOTAISO= 'A0AW'
player s__GaaraUltimateChoice_p
integer s__GaaraUltimateChoice_d
boolexpr s__GaaraUltimateChoice_pick
unit s__GaaraUltimateChoice_u
unit array s__GaaraUltimateChoice_caster
player array s__GaaraUltimateChoice_pp
constant integer si__GaiOmoteRenge___Spell=265
integer s__GaiOmoteRenge___Spell_Alloc__instanceCount= 0
integer array s__GaiOmoteRenge___Spell_Alloc__recycle
constant integer s__GaiOmoteRenge___Spell_SPELL_ID= 'A0WO'
constant integer s__GaiOmoteRenge___Spell_DUMMY_ID= 'hwat'
integer s__GaiOmoteRenge___Spell_instance
unit array s__GaiOmoteRenge___Spell_caster
real array s__GaiOmoteRenge___Spell_target_x
real array s__GaiOmoteRenge___Spell_target_y
constant integer si__HachimonLifeDrain=266
unit s__HachimonLifeDrain_gai
constant integer si__GaiEighthGates=267
integer s__GaiEighthGates_Alloc__instanceCount= 0
integer array s__GaiEighthGates_Alloc__recycle
unit array s__GaiEighthGates_caster
constant integer si__GaiEveningElephant=268
integer s__GaiEveningElephant_Alloc__instanceCount= 0
integer array s__GaiEveningElephant_Alloc__recycle
unit array s__GaiEveningElephant_caster
unit array s__GaiEveningElephant_target
unit array s__GaiEveningElephant_missile
integer array s__GaiEveningElephant_count
constant integer si__NidaimeMizukageWaterPistol___Spell=269
integer s__NidaimeMizukageWaterPistol___Spell_Alloc__instanceCount= 0
integer array s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle
constant integer s__NidaimeMizukageWaterPistol___Spell_SPELL_ID= 'A0VV'
integer s__NidaimeMizukageWaterPistol___Spell_instance
group array s__NidaimeMizukageWaterPistol___Spell_damaged
unit array s__NidaimeMizukageWaterPistol___Spell_caster
unit array s__NidaimeMizukageWaterPistol___Spell_pistol
unit array s__NidaimeMizukageWaterPistol___Spell_mirage
real array s__NidaimeMizukageWaterPistol___Spell_angle
integer array s__NidaimeMizukageWaterPistol___Spell_count
boolean array s__NidaimeMizukageWaterPistol___Spell_hithero
constant integer si__NidaimeMizukageBubbles___Spell=270
integer s__NidaimeMizukageBubbles___Spell_Alloc__instanceCount= 0
integer array s__NidaimeMizukageBubbles___Spell_Alloc__recycle
constant integer s__NidaimeMizukageBubbles___Spell_SPELL_ID= 'A0MA'
group array s__NidaimeMizukageBubbles___Spell_damaged
unit array s__NidaimeMizukageBubbles___Spell_caster
unit array s__NidaimeMizukageBubbles___Spell_dummy
real array s__NidaimeMizukageBubbles___Spell_angle
integer array s__NidaimeMizukageBubbles___Spell_count
constant integer si__NidaimeMizukageSuikaNoJutsu___Spell=271
integer s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__instanceCount= 0
integer array s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle
constant integer s__NidaimeMizukageSuikaNoJutsu___Spell_SPELL_ID= 'A0I6'
integer s__NidaimeMizukageSuikaNoJutsu___Spell_instance
unit array s__NidaimeMizukageSuikaNoJutsu___Spell_caster
real array s__NidaimeMizukageSuikaNoJutsu___Spell_target_x
real array s__NidaimeMizukageSuikaNoJutsu___Spell_target_y
unit array s__NidaimeMizukageSuikaNoJutsu___Spell_mirage
integer array s__NidaimeMizukageSuikaNoJutsu___Spell_count
constant integer si__NidaimeMIzukageClamDrop=272
integer s__NidaimeMIzukageClamDrop_Alloc__instanceCount= 0
integer array s__NidaimeMIzukageClamDrop_Alloc__recycle
constant integer s__NidaimeMIzukageClamDrop_SPELL_ID= 'A0I7'
unit s__NidaimeMIzukageClamDrop_clam
integer s__NidaimeMIzukageClamDrop_instance
unit array s__NidaimeMIzukageClamDrop_caster
unit array s__NidaimeMIzukageClamDrop_gamahiro
real array s__NidaimeMIzukageClamDrop_target_x
real array s__NidaimeMIzukageClamDrop_target_y
real array s__NidaimeMIzukageClamDrop_angle
constant integer si__NidaimeMizukageGenjutsu___Spell=273
integer s__NidaimeMizukageGenjutsu___Spell_Alloc__instanceCount= 0
integer array s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle
constant integer s__NidaimeMizukageGenjutsu___Spell_SPELL_ID= 'A17M'
unit array s__NidaimeMizukageGenjutsu___Spell_caster
unit array s__NidaimeMizukageGenjutsu___Spell_clam
real array s__NidaimeMizukageGenjutsu___Spell_target_x
real array s__NidaimeMizukageGenjutsu___Spell_target_y
integer array s__NidaimeMizukageGenjutsu___Spell_count
constant integer si__NidaimeMizukageJokiBoi___Spell=274
integer s__NidaimeMizukageJokiBoi___Spell_Alloc__instanceCount= 0
integer array s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle
constant integer s__NidaimeMizukageJokiBoi___Spell_SPELL_ID= 'A0I8'
integer s__NidaimeMizukageJokiBoi___Spell_instance
unit array s__NidaimeMizukageJokiBoi___Spell_caster
unit array s__NidaimeMizukageJokiBoi___Spell_jokiBoi
real array s__NidaimeMizukageJokiBoi___Spell_size
constant integer si__GureNewQ=275
integer s__GureNewQ_Alloc__instanceCount= 0
integer array s__GureNewQ_Alloc__recycle
constant integer s__GureNewQ_SPELL_ID= 'A0HH'
integer s__GureNewQ_instance
unit array s__GureNewQ_caster
group array s__GureNewQ_allies
constant integer si__GurenNewSemi=276
integer s__GurenNewSemi_Alloc__instanceCount= 0
integer array s__GurenNewSemi_Alloc__recycle
constant integer s__GurenNewSemi_SPELL_ID= 'A0HK'
unit array s__GurenNewSemi_caster
unit array s__GurenNewSemi_crystal
integer array s__GurenNewSemi_count
real array s__GurenNewSemi_dist
group array s__GurenNewSemi_damaged
group array s__GurenNewSemi_missiles
constant integer si__GurenBash=277
integer s__GurenBash_Alloc__instanceCount= 0
integer array s__GurenBash_Alloc__recycle
constant integer s__GurenBash_SPELL_ID= 'A0HJ'
unit array s__GurenBash_target
constant integer si__GurenCrystalLabyrinth=278
integer s__GurenCrystalLabyrinth_Alloc__instanceCount= 0
integer array s__GurenCrystalLabyrinth_Alloc__recycle
constant integer s__GurenCrystalLabyrinth_SPELL_ID= 'A0PK'
unit array s__GurenCrystalLabyrinth_caster
group array s__GurenCrystalLabyrinth_units
constant integer si__HakuDomo=279
integer s__HakuDomo_Alloc__instanceCount= 0
integer array s__HakuDomo_Alloc__recycle
constant integer s__HakuDomo_SPELL_ID= 'A0PU'
unit array s__HakuDomo_caster
unit array s__HakuDomo_domo
group array s__HakuDomo_damaged
integer array s__HakuDomo_count
constant integer si__HakuNewBackslash=281
integer s__HakuNewBackslash_Alloc__instanceCount= 0
integer array s__HakuNewBackslash_Alloc__recycle
constant integer s__HakuNewBackslash_SPELL_ID= 'A0K3'
integer s__HakuNewBackslash_instance
unit array s__HakuNewBackslash_caster
unit array s__HakuNewBackslash_light
unit array s__HakuNewBackslash_mirror
real array s__HakuNewBackslash_target_x
real array s__HakuNewBackslash_target_y
integer array s__HakuNewBackslash_count
constant integer si__HakuHissatsu=282
integer s__HakuHissatsu_Alloc__instanceCount= 0
integer array s__HakuHissatsu_Alloc__recycle
unit array s__HakuHissatsu_caster
group array s__HakuHissatsu_damaged
integer array s__HakuHissatsu_needles
integer array s__HakuHissatsu_count
real array s__HakuHissatsu_angle
unit array s__HakuHissatsu_missile
real array s__HakuHissatsu_target_x
real array s__HakuHissatsu_target_y
real array s__HakuHissatsu_distance
constant integer si__HakuNewE=283
integer s__HakuNewE_Alloc__instanceCount= 0
integer array s__HakuNewE_Alloc__recycle
constant integer s__HakuNewE_SPELL_ID= 'A102'
constant integer si__HakuNewSemi=284
integer s__HakuNewSemi_Alloc__instanceCount= 0
integer array s__HakuNewSemi_Alloc__recycle
constant integer s__HakuNewSemi_SPELL_ID= 'A0K6'
integer s__HakuNewSemi_instance
unit array s__HakuNewSemi_caster
real array s__HakuNewSemi_target_x
real array s__HakuNewSemi_target_y
integer array s__HakuNewSemi_count
integer array s__HakuNewSemi_waveBegin
integer array s__HakuNewSemi_waveMax
integer array s__HakuNewSemi_waveCount
real array s__HakuNewSemi_waveDamage
constant integer si__HakuNewUltimate=285
integer s__HakuNewUltimate_Alloc__instanceCount= 0
integer array s__HakuNewUltimate_Alloc__recycle
constant integer s__HakuNewUltimate_SPELL_ID= 'A0K8'
unit array s__HakuNewUltimate_caster
real array s__HakuNewUltimate_caster_x
real array s__HakuNewUltimate_caster_y
integer array s__HakuNewUltimate_count_mirror
group array s__HakuNewUltimate_damaged
integer array s__HakuNewUltimate_count
integer array s__HakuNewUltimate_alpha
unit array s__HakuNewUltimate_dummy
constant integer si__HanFugokyaku=290
integer s__HanFugokyaku_Alloc__instanceCount= 0
integer array s__HanFugokyaku_Alloc__recycle
constant integer s__HanFugokyaku_SPELL_ID= 'A0QH'
constant integer s__HanFugokyaku_SPELL_ID2= 'A0QI'
unit array s__HanFugokyaku_caster
group array s__HanFugokyaku_damaged
real array s__HanFugokyaku_damage
integer array s__HanFugokyaku_count
real array s__HanFugokyaku_angle
boolean array s__HanFugokyaku_second
real array s__HanFugokyaku_target_x
real array s__HanFugokyaku_target_y
constant integer si__HanFunseiken___Spell=291
integer s__HanFunseiken___Spell_Alloc__instanceCount= 0
integer array s__HanFunseiken___Spell_Alloc__recycle
constant integer s__HanFunseiken___Spell_SPELL_ID= 'A0VZ'
group array s__HanFunseiken___Spell_damaged
unit array s__HanFunseiken___Spell_caster
unit array s__HanFunseiken___Spell_target
real array s__HanFunseiken___Spell_angle
integer array s__HanFunseiken___Spell_count
constant integer si__HanJokiNoyoroi=292
integer si__HanJokiNoyoroi_F=0
integer si__HanJokiNoyoroi_I=0
integer array si__HanJokiNoyoroi_V
constant integer s__HanJokiNoyoroi_SPELL_ID= 'A0QK'
unit array s___HanJokiNoyoroi_orbs
constant integer s___HanJokiNoyoroi_orbs_size=12
integer array s__HanJokiNoyoroi_orbs
unit array s__HanJokiNoyoroi_caster
real array s__HanJokiNoyoroi_x
real array s__HanJokiNoyoroi_y
integer array s__HanJokiNoyoroi_count
group array s__HanJokiNoyoroi_damaged
constant integer si__HanSemi=294
integer s__HanSemi_Alloc__instanceCount= 0
integer array s__HanSemi_Alloc__recycle
constant integer s__HanSemi_SPELL_ID= 'A184'
unit array s__HanSemi_caster
unit array s__HanSemi_target
integer array s__HanSemi_count
constant integer si__HanNewUltimate=295
integer s__HanNewUltimate_Alloc__instanceCount= 0
integer array s__HanNewUltimate_Alloc__recycle
constant integer s__HanNewUltimate_SPELL_ID= 'A00C'
integer s__HanNewUltimate_instance
unit array s__HanNewUltimate_caster
unit array s__HanNewUltimate_dummy
real array s__HanNewUltimate_target_x
real array s__HanNewUltimate_target_y
real array s__HanNewUltimate_range
integer array s__HanNewUltimate_count
constant integer si__HanMoveSpeed=296
integer s__HanMoveSpeed_Alloc__instanceCount= 0
integer array s__HanMoveSpeed_Alloc__recycle
boolean s__HanMoveSpeed_active
unit array s__HanMoveSpeed_caster
real array s__HanMoveSpeed_angle
integer array s__HanMoveSpeed_count
constant integer si__HanabiD=297
integer s__HanabiD_hanabi_kills
constant integer s__HanabiD_SPELL_ID= 'A1EN'
constant integer si__HanabiQ=298
integer s__HanabiQ_Alloc__instanceCount= 0
integer array s__HanabiQ_Alloc__recycle
constant integer s__HanabiQ_SPELL_ID= 'A04W'
unit array s__HanabiQ_caster
unit array s__HanabiQ_target
integer array s__HanabiQ_count
real array s__HanabiQ_angle
constant integer si__HanabiW=299
integer s__HanabiW_Alloc__instanceCount= 0
integer array s__HanabiW_Alloc__recycle
constant integer s__HanabiW_SPELL_ID= 'A023'
unit array s__HanabiW_caster
unit array s__HanabiW_dummy
group array s__HanabiW_damaged
group array s__HanabiW_stun
real array s__HanabiW_angle
integer array s__HanabiW_count
constant integer si__Counter=300
integer s__Counter_Alloc__instanceCount= 0
integer array s__Counter_Alloc__recycle
trigger s__Counter_t
constant integer si__HanabiR=301
integer s__HanabiR_Alloc__instanceCount= 0
integer array s__HanabiR_Alloc__recycle
constant integer s__HanabiR_SPELL_ID= 'A1EQ'
unit array s__HanabiR_caster
unit array s__HanabiR_kaiten
unit array s__HanabiR_dust
integer array s__HanabiR_count
constant integer si__HanabiT=302
integer s__HanabiT_Alloc__instanceCount= 0
integer array s__HanabiT_Alloc__recycle
constant integer s__HanabiT_SPELL_ID= 'A1ER'
unit array s__HanabiT_caster
unit array s__HanabiT_domo
unit array s__HanabiT_domo2
integer array s__HanabiT_count
real array s__HanabiT_target_x
real array s__HanabiT_target_y
real array s__HanabiT_angle
integer array s__HanabiT_count2
constant integer si__HanzoReveal=303
constant integer s__HanzoReveal_SPELL_ID= 'A18C'
constant integer si__HanzoThrowScythe=304
integer s__HanzoThrowScythe_Alloc__instanceCount= 0
integer array s__HanzoThrowScythe_Alloc__recycle
constant integer s__HanzoThrowScythe_SPELL_ID= 'A188'
constant integer s__HanzoThrowScythe_SPELL_ID_2= 'A189'
integer s__HanzoThrowScythe_instance
unit array s__HanzoThrowScythe_caster
unit array s__HanzoThrowScythe_target
unit array s__HanzoThrowScythe_scythe
integer array s__HanzoThrowScythe_chain
real array s__HanzoThrowScythe_angle
integer array s__HanzoThrowScythe_count
real array s__HanzoThrowScythe_target_x
real array s__HanzoThrowScythe_target_y
constant integer si__HanzoPoisonFog=308
integer s__HanzoPoisonFog_Alloc__instanceCount= 0
integer array s__HanzoPoisonFog_Alloc__recycle
constant integer s__HanzoPoisonFog_SPELL_ID= 'A18A'
unit array s__HanzoPoisonFog_caster
unit array s__HanzoPoisonFog_dummy
real array s__HanzoPoisonFog_angle
integer array s__HanzoPoisonFog_count
group array s__HanzoPoisonFog_damaged
constant integer si__HanzoUppercut=309
integer s__HanzoUppercut_Alloc__instanceCount= 0
integer array s__HanzoUppercut_Alloc__recycle
constant integer s__HanzoUppercut_SPELL_ID= 'A18B'
unit array s__HanzoUppercut_caster
unit array s__HanzoUppercut_target
integer array s__HanzoUppercut_count
real array s__HanzoUppercut_angle
constant integer si__HanzoSemi=310
integer s__HanzoSemi_Alloc__instanceCount= 0
integer array s__HanzoSemi_Alloc__recycle
constant integer s__HanzoSemi_SPELL_ID= 'A18S'
unit array s__HanzoSemi_caster
unit array s__HanzoSemi_target
unit array s__HanzoSemi_scythe
real array s__HanzoSemi_distance
integer array s__HanzoSemi_count
real array s__HanzoSemi_height
constant integer si__HanzoMist=314
integer s__HanzoMist_Alloc__instanceCount= 0
integer array s__HanzoMist_Alloc__recycle
constant integer s__HanzoMist_SPELL_ID= 'A10W'
unit array s__HanzoMist_caster
unit array s__HanzoMist_cloud
integer array s__HanzoMist_count
constant integer si__HanzoIbsue=315
integer s__HanzoIbsue_Alloc__instanceCount= 0
integer array s__HanzoIbsue_Alloc__recycle
constant integer s__HanzoIbsue_SPELL_ID= 'A18W'
unit array s__HanzoIbsue_caster
unit array s__HanzoIbsue_ibuse
group array s__HanzoIbsue_damaged
integer array s__HanzoIbsue_count
real array s__HanzoIbsue_target_x
real array s__HanzoIbsue_target_y
constant integer si__HanzoUltimateChoice=316
integer s__HanzoUltimateChoice_Alloc__instanceCount= 0
integer array s__HanzoUltimateChoice_Alloc__recycle
constant integer s__HanzoUltimateChoice_DOKUGIRI= 'A10W'
constant integer s__HanzoUltimateChoice_IBUSE= 'A18W'
player s__HanzoUltimateChoice_p
integer s__HanzoUltimateChoice_d
boolexpr s__HanzoUltimateChoice_pick
unit s__HanzoUltimateChoice_u
unit array s__HanzoUltimateChoice_caster
player array s__HanzoUltimateChoice_pp
constant integer si__HashiramaWoodDragon___Spell=317
integer s__HashiramaWoodDragon___Spell_Alloc__instanceCount= 0
integer array s__HashiramaWoodDragon___Spell_Alloc__recycle
constant integer s__HashiramaWoodDragon___Spell_SPELL_ID= 'A0C8'
unit array s__HashiramaWoodDragon___Spell_caster
unit array s__HashiramaWoodDragon___Spell_target
unit array s__HashiramaWoodDragon___Spell_dragon
real s__HashiramaWoodDragon___Spell_stolen
constant integer si__HashiramaGate___Spell=318
integer s__HashiramaGate___Spell_Alloc__instanceCount= 0
integer array s__HashiramaGate___Spell_Alloc__recycle
constant integer s__HashiramaGate___Spell_SPELL_ID= 'A0LY'
boolean s__HashiramaGate___Spell_finishSpell
unit array s__HashiramaGate___Spell_caster
real array s__HashiramaGate___Spell_target_x
real array s__HashiramaGate___Spell_target_y
unit array s__HashiramaGate___Spell_gates
integer array s__HashiramaGate___Spell_count
group array s__HashiramaGate___Spell_damaged
timer array s__HashiramaGate___Spell_catch
constant integer si__HashiramaWoodHuman=319
integer s__HashiramaWoodHuman_Alloc__instanceCount= 0
integer array s__HashiramaWoodHuman_Alloc__recycle
constant integer s__HashiramaWoodHuman_SPELL_ID= 'A0CA'
integer s__HashiramaWoodHuman_instance
unit array s__HashiramaWoodHuman_caster
unit array s__HashiramaWoodHuman_human
constant integer si__HashiramaStatue___Spell=320
integer s__HashiramaStatue___Spell_Alloc__instanceCount= 0
integer array s__HashiramaStatue___Spell_Alloc__recycle
constant integer s__HashiramaStatue___Spell_SPELL_ID= 'A0TK'
unit array s__HashiramaStatue___Spell_caster
unit array s__HashiramaStatue___Spell_statue
unit array s__HashiramaStatue___Spell_statue_hands
unit array s__HashiramaStatue___Spell_statue_hands_dmg
real array s__HashiramaStatue___Spell_target_x
real array s__HashiramaStatue___Spell_target_y
integer array s__HashiramaStatue___Spell_count
constant integer si__HashiramaNewKoutan=321
integer s__HashiramaNewKoutan_Alloc__instanceCount= 0
integer array s__HashiramaNewKoutan_Alloc__recycle
constant integer s__HashiramaNewKoutan_SPELL_ID= 'A0S6'
integer s__HashiramaNewKoutan_instance
unit array s__HashiramaNewKoutan_caster
real array s__HashiramaNewKoutan_caster_x
real array s__HashiramaNewKoutan_caster_y
integer array s__HashiramaNewKoutan_count
group array s__HashiramaNewKoutan_trees
constant integer si__HashiramaUltimateChoice=322
integer s__HashiramaUltimateChoice_Alloc__instanceCount= 0
integer array s__HashiramaUltimateChoice_Alloc__recycle
constant integer s__HashiramaUltimateChoice_SHIN_SUSENJU= 'A0TK'
constant integer s__HashiramaUltimateChoice_KOUTAN= 'A0S6'
player s__HashiramaUltimateChoice_p
integer s__HashiramaUltimateChoice_d
boolexpr s__HashiramaUltimateChoice_pick
unit s__HashiramaUltimateChoice_u
unit array s__HashiramaUltimateChoice_caster
player array s__HashiramaUltimateChoice_pp
constant integer si__HashiramaFlowers=323
integer s__HashiramaFlowers_Alloc__instanceCount= 0
integer array s__HashiramaFlowers_Alloc__recycle
constant integer s__HashiramaFlowers_SPELL_ID= 'A0UM'
integer s__HashiramaFlowers_instance
real array s__HashiramaFlowers_x
real array s__HashiramaFlowers_y
unit array s__HashiramaFlowers_caster
constant integer si__EdoHashiramaGate___Spell=324
integer s__EdoHashiramaGate___Spell_Alloc__instanceCount= 0
integer array s__EdoHashiramaGate___Spell_Alloc__recycle
constant integer s__EdoHashiramaGate___Spell_SPELL_ID= 'A1BZ'
boolean s__EdoHashiramaGate___Spell_finishSpell
unit array s__EdoHashiramaGate___Spell_caster
real array s__EdoHashiramaGate___Spell_target_x
real array s__EdoHashiramaGate___Spell_target_y
unit array s__EdoHashiramaGate___Spell_gates
integer array s__EdoHashiramaGate___Spell_count
group array s__EdoHashiramaGate___Spell_damaged
timer array s__EdoHashiramaGate___Spell_catch
constant integer si__EdoTenseiHashiramaStatue___Spell=325
integer s__EdoTenseiHashiramaStatue___Spell_Alloc__instanceCount= 0
integer array s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle
constant integer s__EdoTenseiHashiramaStatue___Spell_SPELL_ID= 'A10U'
unit array s__EdoTenseiHashiramaStatue___Spell_caster
unit array s__EdoTenseiHashiramaStatue___Spell_statue
unit array s__EdoTenseiHashiramaStatue___Spell_statue_hands
unit array s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg
real array s__EdoTenseiHashiramaStatue___Spell_target_x
real array s__EdoTenseiHashiramaStatue___Spell_target_y
integer array s__EdoTenseiHashiramaStatue___Spell_count
constant integer si__HayateSwordStrike___Spell=326
integer s__HayateSwordStrike___Spell_Alloc__instanceCount= 0
integer array s__HayateSwordStrike___Spell_Alloc__recycle
constant integer s__HayateSwordStrike___Spell_SPELL_ID= 'A0TO'
unit array s__HayateSwordStrike___Spell_caster
unit array s__HayateSwordStrike___Spell_target
real array s__HayateSwordStrike___Spell_angle
real array s__HayateSwordStrike___Spell_distance
integer array s__HayateSwordStrike___Spell_count
constant integer si__HayateExplosiveKunai=327
integer s__HayateExplosiveKunai_Alloc__instanceCount= 0
integer array s__HayateExplosiveKunai_Alloc__recycle
constant integer s__HayateExplosiveKunai_SPELL_ID= 'A0U3'
integer s__HayateExplosiveKunai_instance
unit array s__HayateExplosiveKunai_caster
unit array s__HayateExplosiveKunai_kunai
integer array s__HayateExplosiveKunai_count
real array s__HayateExplosiveKunai_angle
group array s__HayateExplosiveKunai_damaged
boolean array s__HayateExplosiveKunai_explode
constant integer si__HayateNewSemi=328
integer s__HayateNewSemi_Alloc__instanceCount= 0
integer array s__HayateNewSemi_Alloc__recycle
constant integer s__HayateNewSemi_SPELL_ID= 'A0TI'
unit array s__HayateNewSemi_caster
unit array s__HayateNewSemi_dummy
integer array s__HayateNewSemi_count
real array s__HayateNewSemi_angle
real array s__HayateNewSemi_p1x
real array s__HayateNewSemi_p1y
real array s__HayateNewSemi_p2x
real array s__HayateNewSemi_p2y
real array s__HayateNewSemi_p3x
real array s__HayateNewSemi_p3y
real array s__HayateNewSemi_p4x
real array s__HayateNewSemi_p4y
real array s__HayateNewSemi_cx
real array s__HayateNewSemi_cy
integer array s__HayateNewSemi_waves
group array s__HayateNewSemi_damaged
constant integer si__HayateUltimate=329
integer s__HayateUltimate_Alloc__instanceCount= 0
integer array s__HayateUltimate_Alloc__recycle
constant integer s__HayateUltimate_SPELL_ID= 'A0TE'
unit array s__HayateUltimate_caster
unit array s__HayateUltimate_clone1
unit array s__HayateUltimate_clone2
group array s__HayateUltimate_damaged_caster
group array s__HayateUltimate_damaged_clone1
group array s__HayateUltimate_damaged_clone2
real array s__HayateUltimate_target_x
real array s__HayateUltimate_target_y
real array s__HayateUltimate_dist_caster
real array s__HayateUltimate_dist_clone_1
real array s__HayateUltimate_dist_clone_2
boolean array s__HayateUltimate_caster_freed
boolean array s__HayateUltimate_clone1_freed
boolean array s__HayateUltimate_clone2_freed
real array s__HayateUltimate_previous_clone1_x
real array s__HayateUltimate_previous_clone1_y
real array s__HayateUltimate_previous_clone2_x
real array s__HayateUltimate_previous_clone2_y
boolean array s__HayateUltimate_hit
constant integer si__HayateKageBunshin=330
integer s__HayateKageBunshin_Alloc__instanceCount= 0
integer array s__HayateKageBunshin_Alloc__recycle
integer s__HayateKageBunshin_instance
constant integer s__HayateKageBunshin_SPELL_ID= 'A0UG'
unit array s__HayateKageBunshin_clone
constant integer si__HayateKageBunshinSwap=331
integer s__HayateKageBunshinSwap_Alloc__instanceCount= 0
integer array s__HayateKageBunshinSwap_Alloc__recycle
integer s__HayateKageBunshinSwap_instance
constant integer s__HayateKageBunshinSwap_SPELL_ID= 'A1DD'
constant integer si__HidanNewQ=332
integer s__HidanNewQ_Alloc__instanceCount= 0
integer array s__HidanNewQ_Alloc__recycle
constant integer s__HidanNewQ_SPELL_ID= 'A0X3'
unit array s__HidanNewQ_caster
real array s__HidanNewQ_angle
integer array s__HidanNewQ_count
constant integer si__HidanFlyingScythe=333
integer s__HidanFlyingScythe_Alloc__instanceCount= 0
integer array s__HidanFlyingScythe_Alloc__recycle
constant integer s__HidanFlyingScythe_SPELL_ID= 'A0X3'
unit array s__HidanFlyingScythe_caster
unit array s__HidanFlyingScythe_target
integer array s__HidanFlyingScythe_count
real array s__HidanFlyingScythe_angle
constant integer si__HidanNewW=334
integer s__HidanNewW_Alloc__instanceCount= 0
integer array s__HidanNewW_Alloc__recycle
constant integer s__HidanNewW_SPELL_ID= 'A1EA'
unit array s__HidanNewW_caster
integer array s__HidanNewW_count
group array s__HidanNewW_tornadoes
effect array s__HidanNewW_e1
constant integer si__HidanThrowScythe=335
integer s__HidanThrowScythe_Alloc__instanceCount= 0
integer array s__HidanThrowScythe_Alloc__recycle
constant integer s__HidanThrowScythe_SPELL_ID= 'A0G1'
integer s__HidanThrowScythe_instance
unit array s__HidanThrowScythe_caster
effect array s__HidanThrowScythe_scythe
unit array s__HidanThrowScythe_effect
group array s__HidanThrowScythe_damaged
real array s__HidanThrowScythe_angle
integer array s__HidanThrowScythe_count
constant integer si__HidanNewR=336
integer s__HidanNewR_Alloc__instanceCount= 0
integer array s__HidanNewR_Alloc__recycle
constant integer s__HidanNewR_SPELL_ID= 'A05D'
unit array s__HidanNewR_caster
unit array s__HidanNewR_circle
real array s__HidanNewR_caster_hp
real array s__HidanNewR_target_hp
real array s__HidanNewR_count
constant integer si__HidanNewT=337
integer s__HidanNewT_Alloc__instanceCount= 0
integer array s__HidanNewT_Alloc__recycle
constant integer s__HidanNewT_SPELL_ID= 'A05F'
unit array s__HidanNewT_caster
unit array s__HidanNewT_target
constant integer si__HinataNewSemi=338
integer s__HinataNewSemi_Alloc__instanceCount= 0
integer array s__HinataNewSemi_Alloc__recycle
constant integer s__HinataNewSemi_SPELL_ID= 'A0SN'
unit array s__HinataNewSemi_caster
unit array s__HinataNewSemi_target
unit array s__HinataNewSemi_domo
unit array s__HinataNewSemi_domo2
integer array s__HinataNewSemi_count
constant integer si__HinataNewShoshiken=339
integer s__HinataNewShoshiken_Alloc__instanceCount= 0
integer array s__HinataNewShoshiken_Alloc__recycle
constant integer s__HinataNewShoshiken_SPELL_ID= 'A0VQ'
unit array s__HinataNewShoshiken_caster
unit array s__HinataNewShoshiken_target
real array s__HinataNewShoshiken_angle
integer array s__HinataNewShoshiken_count
effect array s__HinataNewShoshiken_e1
effect array s__HinataNewShoshiken_e2
constant integer si__HinataKuutenNew=340
integer s__HinataKuutenNew_Alloc__instanceCount= 0
integer array s__HinataKuutenNew_Alloc__recycle
constant integer s__HinataKuutenNew_SPELL_ID= 'A02P'
unit array s__HinataKuutenNew_caster
unit array s__HinataKuutenNew_kaiten
integer array s__HinataKuutenNew_count
group array s__HinataKuutenNew_damaged
constant integer si__HinataUltimateChoice=341
integer s__HinataUltimateChoice_Alloc__instanceCount= 0
integer array s__HinataUltimateChoice_Alloc__recycle
constant integer s__HinataUltimateChoice_SOSHIKEN= 'A0VQ'
constant integer s__HinataUltimateChoice_KUUTEN= 'A02P'
player s__HinataUltimateChoice_p
integer s__HinataUltimateChoice_d
boolexpr s__HinataUltimateChoice_pick
unit s__HinataUltimateChoice_u
unit array s__HinataUltimateChoice_caster
player array s__HinataUltimateChoice_pp
constant integer si__HiruzenSummonEnma=342
integer s__HiruzenSummonEnma_Alloc__instanceCount= 0
integer array s__HiruzenSummonEnma_Alloc__recycle
constant integer s__HiruzenSummonEnma_SPELL_ID= 'A0F2'
constant integer s__HiruzenSummonEnma_HENGE_SPELL_ID= 'A0FD'
constant integer s__HiruzenSummonEnma_BACK_SPELL_ID= 'A0FE'
unit s__HiruzenSummonEnma_hiruzen
unit s__HiruzenSummonEnma_enma
constant integer si__HiruzenCageNew___Spell=343
integer s__HiruzenCageNew___Spell_Alloc__instanceCount= 0
integer array s__HiruzenCageNew___Spell_Alloc__recycle
constant integer s__HiruzenCageNew___Spell_SPELL_ID= 'A1E3'
unit array s__HiruzenCageNew___Spell_caster
unit array s__HiruzenCageNew___Spell_target
unit array s__HiruzenCageNew___Spell_box
real array s__HiruzenCageNew___Spell_target_x
real array s__HiruzenCageNew___Spell_target_y
constant integer si__HiruzenQ=344
integer s__HiruzenQ_Alloc__instanceCount= 0
integer array s__HiruzenQ_Alloc__recycle
constant integer s__HiruzenQ_SPELL_ID= 'ANst'
integer s__HiruzenQ_move
unit array s__HiruzenQ_caster
real array s__HiruzenQ_target_x
real array s__HiruzenQ_target_y
integer array s__HiruzenQ_count
unit s__HiruzenQ_dummy_mud
constant integer si__HiruzenShuriken=345
integer s__HiruzenShuriken_Alloc__instanceCount= 0
integer array s__HiruzenShuriken_Alloc__recycle
constant integer s__HiruzenShuriken_SPELL_ID= 'A0M3'
integer s__HiruzenShuriken_instance
unit array s__HiruzenShuriken_caster
unit array s__HiruzenShuriken_target
unit array s__HiruzenShuriken_missile
constant integer si__HiruzenE=346
integer s__HiruzenE_Alloc__instanceCount= 0
integer array s__HiruzenE_Alloc__recycle
integer s__HiruzenE_instance
constant integer s__HiruzenE_SPELL_ID= 'A0GE'
integer array s__HiruzenE_effect
group array s__HiruzenE_damaged
unit array s__HiruzenE_caster
unit array s__HiruzenE_dummy
real array s__HiruzenE_target_x
real array s__HiruzenE_target_y
integer array s__HiruzenE_count
boolean array s__HiruzenE_hitmud
constant integer si__HiruzenKongoRoheki=347
integer s__HiruzenKongoRoheki_Alloc__instanceCount= 0
integer array s__HiruzenKongoRoheki_Alloc__recycle
constant integer s__HiruzenKongoRoheki_SPELL_ID= 'A1A7'
unit array s__HiruzenKongoRoheki_caster
unit array s__HiruzenKongoRoheki_target
unit array s__HiruzenKongoRoheki_cage
constant integer si__HiruzenSemiUltimateChoice=348
integer s__HiruzenSemiUltimateChoice_Alloc__instanceCount= 0
integer array s__HiruzenSemiUltimateChoice_Alloc__recycle
constant integer s__HiruzenSemiUltimateChoice_ENMA= 'A0F2'
constant integer s__HiruzenSemiUltimateChoice_ROHEKI= 'A1A7'
player s__HiruzenSemiUltimateChoice_p
integer s__HiruzenSemiUltimateChoice_d
boolexpr s__HiruzenSemiUltimateChoice_pick
unit s__HiruzenSemiUltimateChoice_u
unit array s__HiruzenSemiUltimateChoice_caster
player array s__HiruzenSemiUltimateChoice_pp
constant integer si__HiruzenLevel=349
integer si__HiruzenLevel_F=0
integer si__HiruzenLevel_I=0
integer array si__HiruzenLevel_V
unit s__HiruzenLevel_hiruzen
constant integer si__HiruzenNewUltimate=350
integer s__HiruzenNewUltimate_Alloc__instanceCount= 0
integer array s__HiruzenNewUltimate_Alloc__recycle
constant integer s__HiruzenNewUltimate_SPELL_ID= 'A0UH'
integer s__HiruzenNewUltimate_instance
unit array s__HiruzenNewUltimate_caster
real array s__HiruzenNewUltimate_target_x
real array s__HiruzenNewUltimate_target_y
unit array s__HiruzenNewUltimate_clone1
unit array s__HiruzenNewUltimate_clone2
unit array s__HiruzenNewUltimate_clone3
unit array s__HiruzenNewUltimate_clone4
unit array s__HiruzenNewUltimate_missle1
unit array s__HiruzenNewUltimate_missle2
unit array s__HiruzenNewUltimate_missle3
unit array s__HiruzenNewUltimate_missle4
unit array s__HiruzenNewUltimate_missle5
constant integer si__HiruzenUltimateChoice=351
integer s__HiruzenUltimateChoice_Alloc__instanceCount= 0
integer array s__HiruzenUltimateChoice_Alloc__recycle
constant integer s__HiruzenUltimateChoice_SHIKI_FUUJIN= 'A0FF'
constant integer s__HiruzenUltimateChoice_GOTON= 'A0UH'
player s__HiruzenUltimateChoice_p
integer s__HiruzenUltimateChoice_d
boolexpr s__HiruzenUltimateChoice_pick
unit s__HiruzenUltimateChoice_u
unit array s__HiruzenUltimateChoice_caster
player array s__HiruzenUltimateChoice_pp
constant integer si__IchigoQ=352
integer s__IchigoQ_Alloc__instanceCount= 0
integer array s__IchigoQ_Alloc__recycle
constant integer s__IchigoQ_SPELL_ID= 'A1D3'
unit array s__IchigoQ_caster
unit array s__IchigoQ_slash
group array s__IchigoQ_damaged
integer array s__IchigoQ_count
constant integer si__IchigoDies=353
constant integer si__IchigoW=354
integer s__IchigoW_Alloc__instanceCount= 0
integer array s__IchigoW_Alloc__recycle
constant integer s__IchigoW_SPELL_ID= 'A1DN'
unit array s__IchigoW_caster
unit array s__IchigoW_dummy
integer array s__IchigoW_count
real array s__IchigoW_angle
real array s__IchigoW_p1x
real array s__IchigoW_p1y
real array s__IchigoW_p2x
real array s__IchigoW_p2y
real array s__IchigoW_p3x
real array s__IchigoW_p3y
real array s__IchigoW_p4x
real array s__IchigoW_p4y
real array s__IchigoW_cx
real array s__IchigoW_cy
integer array s__IchigoW_waves
group array s__IchigoW_damaged
integer array s__IchigoW_count2
constant integer si__IchigoCero___Spell=355
integer s__IchigoCero___Spell_Alloc__instanceCount= 0
integer array s__IchigoCero___Spell_Alloc__recycle
constant integer s__IchigoCero___Spell_SPELL_ID= 'A08M'
integer s__IchigoCero___Spell_instance
unit array s__IchigoCero___Spell_caster
unit array s__IchigoCero___Spell_arrow
real array s__IchigoCero___Spell_angle
integer array s__IchigoCero___Spell_count
constant integer si__IchigoE=356
integer s__IchigoE_Alloc__instanceCount= 0
integer array s__IchigoE_Alloc__recycle
constant integer s__IchigoE_SPELL_ID= 'A1DQ'
boolean s__IchigoE_active
integer s__IchigoE_charges
unit array s__IchigoE_caster
integer array s__IchigoE_count
real s__IchigoE_duration
real array s__IchigoE_x
real array s__IchigoE_y
unit array s__IchigoE_dummy
group array s__IchigoE_mists
constant integer si__IchigoUnleash=357
constant integer s__IchigoUnleash_SPELL_ID= 'A092'
constant integer si__IchigoTLevel=358
constant integer si__IchigoD=359
constant integer si__IchigoSlash=360
integer s__IchigoSlash_Alloc__instanceCount= 0
integer array s__IchigoSlash_Alloc__recycle
constant integer s__IchigoSlash_SPELL_ID= 'A1DU'
unit array s__IchigoSlash_caster
unit array s__IchigoSlash_slash
group array s__IchigoSlash_damaged
integer array s__IchigoSlash_count
constant integer si__IchigoAttacks=361
integer s__IchigoAttacks_Alloc__instanceCount= 0
integer array s__IchigoAttacks_Alloc__recycle
constant integer si__IchigoAbiltiies___Spell=362
integer s__IchigoAbiltiies___Spell_Alloc__instanceCount= 0
integer array s__IchigoAbiltiies___Spell_Alloc__recycle
constant integer s__IchigoAbiltiies___Spell_SPELL_ID= 'A1DT'
unit array s__IchigoAbiltiies___Spell_caster
constant integer si__InoMindDistraction=363
integer s__InoMindDistraction_Alloc__instanceCount= 0
integer array s__InoMindDistraction_Alloc__recycle
constant integer s__InoMindDistraction_SPELL_ID= 'A09O'
unit array s__InoMindDistraction_caster
unit array s__InoMindDistraction_target
real array s__InoMindDistraction_angle
unit array s__InoMindDistraction_bomb
constant integer si__InoPetals=364
integer s__InoPetals_Alloc__instanceCount= 0
integer array s__InoPetals_Alloc__recycle
constant integer s__InoPetals_SPELL_ID= 'A0AL'
unit array s__InoPetals_caster
group array s__InoPetals_damaged
unit array s__InoPetals_flowers
real array s__InoPetals_angle
integer array s__InoPetals_count
constant integer si__InoHealingPetals=365
integer s__InoHealingPetals_Alloc__instanceCount= 0
integer array s__InoHealingPetals_Alloc__recycle
constant integer s__InoHealingPetals_SPELL_ID= 'A09N'
integer s__InoHealingPetals_FlowerLevel
unit array s__InoHealingPetals_caster
integer array s__InoHealingPetals_count
constant integer si__InoNewSemi=366
integer s__InoNewSemi_Alloc__instanceCount= 0
integer array s__InoNewSemi_Alloc__recycle
constant integer s__InoNewSemi_SPELL_ID= 'A0WL'
integer s__InoNewSemi_instance
unit array s__InoNewSemi_caster
real array s__InoNewSemi_x
real array s__InoNewSemi_y
integer array s__InoNewSemi_count
effect array s__InoNewSemi_e
real array s__InoNewSemi_dist
constant integer si__InoNewChouShinka=368
integer s__InoNewChouShinka_Alloc__instanceCount= 0
integer array s__InoNewChouShinka_Alloc__recycle
constant integer s__InoNewChouShinka_SPELL_ID= 'A09K'
integer s__InoNewChouShinka_instance
unit array s__InoNewChouShinka_caster
integer array s__InoNewChouShinka_count
real array s__InoNewChouShinka_dist
real array s__InoNewChouShinka_angle
real array s__InoNewChouShinka_target_x
real array s__InoNewChouShinka_target_y
constant integer si__InoNewD=370
integer s__InoNewD_Alloc__instanceCount= 0
integer array s__InoNewD_Alloc__recycle
unit array s__InoNewD_dummy
unit array s__InoNewD_target
constant integer si__IrukaMakibishi=371
integer s__IrukaMakibishi_Alloc__instanceCount= 0
integer array s__IrukaMakibishi_Alloc__recycle
unit array s__IrukaMakibishi_caster
real array s__IrukaMakibishi_x
real array s__IrukaMakibishi_y
integer array s__IrukaMakibishi_count
group array s__IrukaMakibishi_damaged
constant integer si__IrukaFuumaShuriken=372
integer s__IrukaFuumaShuriken_Alloc__instanceCount= 0
integer array s__IrukaFuumaShuriken_Alloc__recycle
constant integer s__IrukaFuumaShuriken_SPELL_ID= 'A0O6'
real s__IrukaFuumaShuriken_x
real s__IrukaFuumaShuriken_y
unit s__IrukaFuumaShuriken_u
real s__IrukaFuumaShuriken_caster_x
real s__IrukaFuumaShuriken_caster_y
group array s__IrukaFuumaShuriken_damaged
unit array s__IrukaFuumaShuriken_shuriken
real array s__IrukaFuumaShuriken_angle
integer array s__IrukaFuumaShuriken_count
boolean array s__IrukaFuumaShuriken_building
effect array s__IrukaFuumaShuriken_e
boolean s__IrukaFuumaShuriken_first
constant integer si__IrukaTrap=373
integer s__IrukaTrap_Alloc__instanceCount= 0
integer array s__IrukaTrap_Alloc__recycle
constant integer s__IrukaTrap_SPELL_ID= 'A0SP'
integer s__IrukaTrap_instance
unit array s__IrukaTrap_caster
unit array s__IrukaTrap_trap
group array s__IrukaTrap_damaged
integer array s__IrukaTrap_c
constant integer si__SasukeAmaterasu=374
integer s__SasukeAmaterasu_Alloc__instanceCount= 0
integer array s__SasukeAmaterasu_Alloc__recycle
constant integer s__SasukeAmaterasu_SPELL_ID= 'A0A8'
boolean s__SasukeAmaterasu_controlling
unit array s__SasukeAmaterasu_caster
real array s__SasukeAmaterasu_target_x
real array s__SasukeAmaterasu_target_y
integer array s__SasukeAmaterasu_count
group array s__SasukeAmaterasu_damaged
constant integer si__AntiAFK=375
integer si__AntiAFK_F=0
integer si__AntiAFK_I=0
integer array si__AntiAFK_V
constant integer si__ModeMinutesGold=376
constant integer si__FixTeamDuelLocations=377
constant integer si__MissionARankReward=378
integer s__MissionARankReward_Alloc__instanceCount= 0
integer array s__MissionARankReward_Alloc__recycle
unit s__MissionARankReward_u
integer s__MissionARankReward_d
button s__MissionARankReward_buttonSanninCloth
button s__MissionARankReward_buttonWeapon
constant integer si__TeamDuel=379
integer si__TeamDuel_F=0
integer si__TeamDuel_I=0
integer array si__TeamDuel_V
timer s__TeamDuel_DUEL_INVITE_TIMER
timerdialog s__TeamDuel_DUEL_INVITE_TIMER_DIALOG
timer s__TeamDuel_DUEL_TIMER
timerdialog s__TeamDuel_DUEL_TIMER_DIALOG
boolean s__TeamDuel_ENABLED
boolean s__TeamDuel_STARTED
constant integer si__SendGoldAndCystal__Command=380
integer si__SendGoldAndCystal__Command_F=0
integer si__SendGoldAndCystal__Command_I=0
integer array si__SendGoldAndCystal__Command_V
constant integer si__BuyAttributes=381
integer si__BuyAttributes_F=0
integer si__BuyAttributes_I=0
integer array si__BuyAttributes_V
constant integer si__Killme=382
integer s__Killme_Alloc__instanceCount= 0
integer array s__Killme_Alloc__recycle
integer array s__Killme_id
integer array s__Killme_count
constant integer si__MoveSpeedBug=383
constant integer si__WindowCommand=384
constant integer si__RangeCommand=385
integer si__RangeCommand_F=0
integer si__RangeCommand_I=0
integer array si__RangeCommand_V
constant integer si__SwitchCommand=387
integer si__SwitchCommand_F=0
integer si__SwitchCommand_I=0
integer array si__SwitchCommand_V
dialog s__SwitchCommand_pick
integer s__SwitchCommand_count
integer s__SwitchCommand_total
player s__SwitchCommand_inviter
integer s__SwitchCommand_slot
timer s__SwitchCommand_timer1
timer s__SwitchCommand_timer2
timerdialog s__SwitchCommand_timerwindow1
timerdialog s__SwitchCommand_timerwindow2
constant integer si__LockCamera=388
integer si__LockCamera_F=0
integer si__LockCamera_I=0
integer array si__LockCamera_V
constant integer si__StreamCommand=389
integer si__StreamCommand_F=0
integer si__StreamCommand_I=0
integer array si__StreamCommand_V
constant integer si__ShowTimers=390
integer si__ShowTimers_F=0
integer si__ShowTimers_I=0
integer array si__ShowTimers_V
integer s__ShowTimers_begin
constant integer si__CreateMultiboard=391
constant integer si__GPMMultiboard=392
constant integer si__UndergroundDrainMana=393
constant integer si__MusicS=394
integer s__MusicS_offset
constant integer si__HeroIcon=395
integer s__HeroIcon_Alloc__instanceCount= 0
integer array s__HeroIcon_Alloc__recycle
framehandle array s__HeroIcon_mainbutton
framehandle array s__HeroIcon_imgFrame
unit array s__HeroIcon_caster
integer array s__HeroIcon_count
integer array s__HeroIcon_index
string array s__HeroIcon_icon
real array s__HeroIcon_scale
real array s__HeroIcon_x
real array s__HeroIcon_y
real array s__HeroIcon_original_x
real array s__HeroIcon_original_y
boolean array s__HeroIcon_fade
constant integer si__HeroMessage=396
integer s__HeroMessage_Alloc__instanceCount= 0
integer array s__HeroMessage_Alloc__recycle
framehandle array s__HeroMessage_imgFrame
unit array s__HeroMessage_caster
integer array s__HeroMessage_count
string array s__HeroMessage_icon
real array s__HeroMessage_x
real array s__HeroMessage_y
real array s__HeroMessage_original_x
real array s__HeroMessage_original_y
constant integer si__HeroUIMessage=397
integer s__HeroUIMessage_Alloc__instanceCount= 0
integer array s__HeroUIMessage_Alloc__recycle
boolean s__HeroUIMessage_enabled
integer s__HeroUIMessage_instance
integer array s__HeroUIMessage_message
integer array s__HeroUIMessage_iconKiller
integer array s__HeroUIMessage_iconDeath
integer array s__HeroUIMessage_iconAssist1
integer array s__HeroUIMessage_iconAssist2
unit array s__HeroUIMessage_killer
unit array s__HeroUIMessage_death
unit array s__HeroUIMessage_assist1
unit array s__HeroUIMessage_assist2
constant integer si__ShopButton=398
integer si__ShopButton_F=0
integer si__ShopButton_I=0
integer array si__ShopButton_V
framehandle array s__ShopButton_mainbutton
framehandle array s__ShopButton_imgFrame
framehandle array s__ShopButton_tooltipBox
framehandle array s__ShopButton_tooltip
integer array s__ShopButton_index
constant integer si__NinpouItem=399
integer si__NinpouItem_F=0
integer si__NinpouItem_I=0
integer array si__NinpouItem_V
boolean array s___NinpouItem_enabled
constant integer s___NinpouItem_enabled_size=24
integer array s__NinpouItem_enabled
integer array s__NinpouItem_id
string array s__NinpouItem_shop
string array s__NinpouItem_name
string array s__NinpouItem_description
string array s__NinpouItem_path
string array s__NinpouItem_disabledpath
integer array s__NinpouItem_gold
integer array s__NinpouItem_lumber
boolean array s__NinpouItem_unique
integer array s__NinpouItem_research
integer array s__NinpouItem_level
constant integer si__NinpouShop=401
integer si__NinpouShop_F=0
integer si__NinpouShop_I=0
integer array si__NinpouShop_V
string s__NinpouShop_SHOP_SCROLLS= "Scrolls - [|cffffcc001|r]"
string s__NinpouShop_SHOP_NINJA_TOOLS= "Ninja Tools - [|cffffcc002|r]"
string s__NinpouShop_SHOP_NINJA_WEAPONS= "Ninja Weapons - [|cffffcc003|r]"
string s__NinpouShop_SHOP_BASIC_EQUIPMENT= "Basic Equipment - [|cffffcc004|r]"
string s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT= "Legendary Equipment - [|cffffcc005|r]"
string s__NinpouShop_SHOP_SOUL= "Spirits - [|cffffcc006|r]"
string s__NinpouShop_SHOP_UPGRADES= "Upgrades - [|cffffcc007|r]"
string s__NinpouShop_SHOP_LOW_LEVEL_COMBINE= "Low Level Recipes - [|cffffcc008|r]"
string s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE= "High Level Recipes - [|cffffcc009|r]"
integer s__NinpouShop_count_items
boolean array s__NinpouShop_visible
boolean array s__NinpouShop_enabled
integer array s__NinpouShop_id
unit array s__NinpouShop_u
framehandle array s__NinpouShop_box
framehandle array s__NinpouShop_search
framehandle array s__NinpouShop_shop1
framehandle array s__NinpouShop_shop2
framehandle array s__NinpouShop_shop3
framehandle array s__NinpouShop_shop4
framehandle array s__NinpouShop_shop5
framehandle array s__NinpouShop_shop6
framehandle array s__NinpouShop_shop7
framehandle array s__NinpouShop_shop8
framehandle array s__NinpouShop_shop9
framehandle array s___NinpouShop_shop_items
constant integer s___NinpouShop_shop_items_size=12
integer array s__NinpouShop_shop_items
integer array s___NinpouShop_shop_buttons
constant integer s___NinpouShop_shop_buttons_size=12
integer array s__NinpouShop_shop_buttons
framehandle array s___NinpouShop_buy_items
constant integer s___NinpouShop_buy_items_size=12
integer array s__NinpouShop_buy_items
integer array s___NinpouShop_buy_buttons
constant integer s___NinpouShop_buy_buttons_size=12
integer array s__NinpouShop_buy_buttons
integer array s___NinpouShop_selected_shop_items
constant integer s___NinpouShop_selected_shop_items_size=12
integer array s__NinpouShop_selected_shop_items
integer array s__NinpouShop_count_selected_items
integer array s___NinpouShop_bought_shop_items
constant integer s___NinpouShop_bought_shop_items_size=12
integer array s__NinpouShop_bought_shop_items
integer array s__NinpouShop_count_bough_items
framehandle array s__NinpouShop_item_price
framehandle array s__NinpouShop_item_price_gold
framehandle array s__NinpouShop_item_price_lumber
integer array s__NinpouShop_total_gold
integer array s__NinpouShop_total_lumber
boolean array s__NinpouShop_autobuy
constant integer si__NinpouUI=408
integer si__NinpouUI_F=0
integer si__NinpouUI_I=0
integer array si__NinpouUI_V
framehandle s__NinpouUI_tile1
framehandle s__NinpouUI_tile2
framehandle s__NinpouUI_tile3
framehandle s__NinpouUI_tile4
framehandle s__NinpouUI_tile5
framehandle s__NinpouUI_shop_button
framehandle s__NinpouUI_move_items_button
framehandle s__NinpouUI_move_bank_button
framehandle s__NinpouUI_unit_attack
framehandle s__NinpouUI_unit_armor
framehandle s__NinpouUI_unit_food
framehandle s__NinpouUI_hero_attributes
framehandle s__NinpouUI_hero_level_bar
framehandle s__NinpouUI_hero_progress_indicator
framehandle s__NinpouUI_hero_name
framehandle s__NinpouUI_stats_panel
framehandle s__NinpouUI_resource_lumber
framehandle s__NinpouUI_resource_gold
framehandle s__NinpouUI_resource_food
framehandle s__NinpouUI_menu_button
framehandle s__NinpouUI_allies_button
framehandle s__NinpouUI_quest_button
framehandle s__NinpouUI_chat_button
framehandle s__NinpouUI_hide_stats_button
framehandle s__NinpouUI_new_ui_button
framehandle s__NinpouUI_hotkey_button
framehandle s__NinpouUI_hotkey_button_text
framehandle s__NinpouUI_autobuy_button
framehandle s__NinpouUI_autobuy_button_text
boolean s__NinpouUI_initialized
integer s__NinpouUI_cam
constant integer si__AHSS_Configurations=411
integer si__AHSS_Configurations_F=0
integer si__AHSS_Configurations_I=0
integer array si__AHSS_Configurations_V
constant integer s__AHSS_Configurations_DUMMY_ID= 'e00M'
constant integer s__AHSS_Configurations_MAX_SLOTS= 90
rect array s__AHSS_Configurations_INITIAL_AREA
camerasetup array s__AHSS_Configurations_CAMERA
integer s__AHSS_Configurations_HERO_BY_ID
integer s__AHSS_Configurations_teams
integer s__AHSS_Configurations_heroes
integer s__AHSS_Configurations_options
integer s__AHSS_Configurations_paths
integer s__AHSS_Configurations_graphics
constant integer si__AHSS__Team=412
integer si__AHSS__Team_F=0
integer si__AHSS__Team_I=0
integer array si__AHSS__Team_V
string array s__AHSS__Team_name
integer array s___AHSS__Team_players
constant integer s___AHSS__Team_players_size=12
integer array s__AHSS__Team_players
integer array s__AHSS__Team_count
rect array s__AHSS__Team_spawningSpot
constant integer si__AHSS_Teams=414
integer si__AHSS_Teams_F=0
integer si__AHSS_Teams_I=0
integer array si__AHSS_Teams_V
integer array s___AHSS_Teams_teams
constant integer s___AHSS_Teams_teams_size=12
integer array s__AHSS_Teams_teams
integer array s__AHSS_Teams_count
constant integer si__AHSS__Hero=416
integer si__AHSS__Hero_F=0
integer si__AHSS__Hero_I=0
integer array si__AHSS__Hero_V
string array s__AHSS__Hero_name
real array s__AHSS__Hero_strength
real array s__AHSS__Hero_strengthLvl
real array s__AHSS__Hero_agility
real array s__AHSS__Hero_agilityLvl
real array s__AHSS__Hero_intelligence
real array s__AHSS__Hero_intelligenceLvl
string array s__AHSS__Hero_description
integer array s__AHSS__Hero_heroid
string array s__AHSS__Hero_modelPath
boolean array s__AHSS__Hero_modelAlternate
real array s__AHSS__Hero_modelScale
integer array s__AHSS__Hero_icon
string array s__AHSS__Hero_iconPath
constant integer si__AHSS_Heroes=417
integer si__AHSS_Heroes_F=0
integer si__AHSS_Heroes_I=0
integer array si__AHSS_Heroes_V
integer array s___AHSS_Heroes_heroes
constant integer s___AHSS_Heroes_heroes_size=90
integer array s__AHSS_Heroes_heroes
integer array s__AHSS_Heroes_count
constant integer si__AHSS_Options=419
integer si__AHSS_Options_F=0
integer si__AHSS_Options_I=0
integer array si__AHSS_Options_V
boolean array s__AHSS_Options_timeLimit_actived
real array s__AHSS_Options_timeLimit_time
real array s__AHSS_Options_iconScale
integer array s__AHSS_Options_iconsByLine
sound array s__AHSS_Options_click
sound array s__AHSS_Options_error
sound array s__AHSS_Options_ok
boolean array s__AHSS_Options_bots
constant integer si__AHSS_Paths=420
integer si__AHSS_Paths_F=0
integer si__AHSS_Paths_I=0
integer array si__AHSS_Paths_V
string array s__AHSS_Paths_background
integer array s__AHSS_Paths_logo
integer array s__AHSS_Paths_emptyIcon
integer array s__AHSS_Paths_randomIcon
integer array s__AHSS_Paths_selection
integer array s__AHSS_Paths_strength
integer array s__AHSS_Paths_agility
integer array s__AHSS_Paths_intelligence
constant integer si__AHSS__TeamIcon=421
integer si__AHSS__TeamIcon_F=0
integer si__AHSS__TeamIcon_I=0
integer array si__AHSS__TeamIcon_V
destructable array s___AHSS__TeamIcon_icons
constant integer s___AHSS__TeamIcon_icons_size=12
integer array s__AHSS__TeamIcon_icons
integer array s___AHSS__TeamIcon_iconsId
constant integer s___AHSS__TeamIcon_iconsId_size=12
integer array s__AHSS__TeamIcon_iconsId
constant integer si__AHSS__PlayerSelection=424
integer si__AHSS__PlayerSelection_F=0
integer si__AHSS__PlayerSelection_I=0
integer array si__AHSS__PlayerSelection_V
integer array s__AHSS__PlayerSelection_whichPlayer
unit array s__AHSS__PlayerSelection_selectionBox
integer array s__AHSS__PlayerSelection_row
integer array s__AHSS__PlayerSelection_column
constant integer si__AHSS_Graphics=425
integer si__AHSS_Graphics_F=0
integer si__AHSS_Graphics_I=0
integer array si__AHSS_Graphics_V
constant integer s__AHSS_Graphics_ICON_SIZE= 64
force s__AHSS_Graphics_cameraForce
timer array s__AHSS_Graphics_cameraTimer
integer array s__AHSS_Graphics_teams
integer array s__AHSS_Graphics_heroes
integer array s__AHSS_Graphics_options
integer array s__AHSS_Graphics_paths
unit array s__AHSS_Graphics_dummy
image array s__AHSS_Graphics_backgroundImg
destructable array s__AHSS_Graphics_versus1
destructable array s__AHSS_Graphics_versus2
destructable array s__AHSS_Graphics_logoImg
destructable array s___AHSS_Graphics_emptyIcon
constant integer s___AHSS_Graphics_emptyIcon_size=90
integer array s__AHSS_Graphics_emptyIcon
destructable array s__AHSS_Graphics_randomIcon
integer array s___AHSS_Graphics_selections
constant integer s___AHSS_Graphics_selections_size=12
integer array s__AHSS_Graphics_selections
integer array s___AHSS_Graphics_teamsIcon
constant integer s___AHSS_Graphics_teamsIcon_size=12
integer array s__AHSS_Graphics_teamsIcon
texttag array s___AHSS_Graphics_teamsText
constant integer s___AHSS_Graphics_teamsText_size=12
integer array s__AHSS_Graphics_teamsText
effect array s___AHSS_Graphics_heroesModels
constant integer s___AHSS_Graphics_heroesModels_size=12
integer array s__AHSS_Graphics_heroesModels
texttag array s___AHSS_Graphics_heroesName
constant integer s___AHSS_Graphics_heroesName_size=12
integer array s__AHSS_Graphics_heroesName
destructable array s___AHSS_Graphics_heroesIcon
constant integer s___AHSS_Graphics_heroesIcon_size=90
integer array s__AHSS_Graphics_heroesIcon
destructable array s___AHSS_Graphics_bannedEmptyIcons
constant integer s___AHSS_Graphics_bannedEmptyIcons_size=9
integer array s__AHSS_Graphics_bannedEmptyIcons
destructable array s___AHSS_Graphics_bannedHeroIcons
constant integer s___AHSS_Graphics_bannedHeroIcons_size=9
integer array s__AHSS_Graphics_bannedHeroIcons
integer array s__AHSS_Graphics_countBanned
texttag array s__AHSS_Graphics_bannedText
destructable array s___AHSS_Graphics_strIcon
constant integer s___AHSS_Graphics_strIcon_size=12
integer array s__AHSS_Graphics_strIcon
texttag array s___AHSS_Graphics_strText
constant integer s___AHSS_Graphics_strText_size=12
integer array s__AHSS_Graphics_strText
destructable array s___AHSS_Graphics_agiIcon
constant integer s___AHSS_Graphics_agiIcon_size=12
integer array s__AHSS_Graphics_agiIcon
texttag array s___AHSS_Graphics_agiText
constant integer s___AHSS_Graphics_agiText_size=12
integer array s__AHSS_Graphics_agiText
destructable array s___AHSS_Graphics_intIcon
constant integer s___AHSS_Graphics_intIcon_size=12
integer array s__AHSS_Graphics_intIcon
texttag array s___AHSS_Graphics_intText
constant integer s___AHSS_Graphics_intText_size=12
integer array s__AHSS_Graphics_intText
texttag array s___AHSS_Graphics_descriptionText
constant integer s___AHSS_Graphics_descriptionText_size=12
integer array s__AHSS_Graphics_descriptionText
boolean array s___AHSS_Graphics_selectionUsed
constant integer s___AHSS_Graphics_selectionUsed_size=12
integer array s__AHSS_Graphics_selectionUsed
boolean array s___AHSS_Graphics_draftUsed
constant integer s___AHSS_Graphics_draftUsed_size=12
integer array s__AHSS_Graphics_draftUsed
boolean array s___AHSS_Graphics_isHidden
constant integer s___AHSS_Graphics_isHidden_size=12
integer array s__AHSS_Graphics_isHidden
texttag array s__AHSS_Graphics_pressEscText
boolean array s__AHSS_Graphics_gameStarted
timer array s__AHSS_Graphics_gameStartedTimer
timerdialog array s__AHSS_Graphics_gameStartedTimerDialog
fogmodifier array s___AHSS_Graphics_modifier
constant integer s___AHSS_Graphics_modifier_size=12
integer array s__AHSS_Graphics_modifier
timer array s__AHSS_Graphics_timeLimitTimer
timerdialog array s__AHSS_Graphics_timeLimitTimerDialog
timer array s__AHSS_Graphics_draftTimer
timerdialog array s__AHSS_Graphics_draftTimerDialog
boolean array s__AHSS_Graphics_draftPick
boolean array s__AHSS_Graphics_allowPick
boolean array s__AHSS_Graphics_allowRandom
boolean array s__AHSS_Graphics_iconsCreated
constant integer si__TowerDestruction=446
constant integer si__NewRepick=447
constant integer si__NewSwap=448
integer si__NewSwap_F=0
integer si__NewSwap_I=0
integer array si__NewSwap_V
constant integer si__ChakraJump=450
constant integer si__FixTransformations=451
integer s__FixTransformations_Alloc__instanceCount= 0
integer array s__FixTransformations_Alloc__recycle
unit array s__FixTransformations_caster
constant integer si__SetUnitVariables=452
constant integer si__AssistSystem__System=453
integer si__AssistSystem__System_F=0
integer si__AssistSystem__System_I=0
integer array si__AssistSystem__System_V
trigger s__AssistSystem__System_assist_trigger
integer s__AssistSystem__System_count_active
constant integer si__BaseRemoveItems=454
constant integer si__SpawnBijuus=455
integer s__SpawnBijuus_Alloc__instanceCount= 0
integer array s__SpawnBijuus_Alloc__recycle
constant integer s__SpawnBijuus_SHUKAKU= 'u01D'
constant integer s__SpawnBijuus_MATATABI= 'u011'
constant integer s__SpawnBijuus_ISOBU= 'u015'
constant integer s__SpawnBijuus_SON_GOKU= 'u01F'
constant integer s__SpawnBijuus_KOKUO= 'u01E'
constant integer s__SpawnBijuus_SAIKEN= 'u01C'
constant integer s__SpawnBijuus_CHOMEI= 'u01B'
constant integer s__SpawnBijuus_GYUUKI= 'u016'
constant integer s__SpawnBijuus_KURAMA= 'u014'
constant integer s__SpawnBijuus_ANBU= 'u013'
constant integer s__SpawnBijuus_FORESTANBU= 'uabo'
constant integer s__SpawnBijuus_SHUKAKU_SPELL= 'A0GT'
constant integer s__SpawnBijuus_MATATABI_SPELL= 'A0H5'
constant integer s__SpawnBijuus_ISOBU_SPELL= 'A113'
constant integer s__SpawnBijuus_SON_GOKU_SPELL= 'A0H9'
constant integer s__SpawnBijuus_KOKUO_SPELL= 'A0HC'
constant integer s__SpawnBijuus_SAIKEN_SPELL= 'A0IF'
constant integer s__SpawnBijuus_CHOMEI_SPELL= 'A0IW'
constant integer s__SpawnBijuus_GYUUKI_SPELL= 'A115'
constant integer s__SpawnBijuus_KURAMA_SPELL= 'A117'
integer s__SpawnBijuus_ROTATION_KONOHA
integer s__SpawnBijuus_ROTATION_OTO
integer s__SpawnBijuus_ROTATION_AKATSUKI
unit s__SpawnBijuus_KONOHA_BIJUU
integer s__SpawnBijuus_KONOHA_BIJUU_ID
integer s__SpawnBijuus_KONOHA_BIJUU_HP= 4000
integer s__SpawnBijuus_KONOHA_BIJUU_ATTACK= 350
unit s__SpawnBijuus_OTO_BIJUU
integer s__SpawnBijuus_OTO_BIJUU_ID
integer s__SpawnBijuus_OTO_BIJUU_HP= 4000
integer s__SpawnBijuus_OTO_BIJUU_ATTACK= 350
unit s__SpawnBijuus_AKATSUKI_BIJUU
integer s__SpawnBijuus_AKATSUKI_BIJUU_ID
integer s__SpawnBijuus_AKATSUKI_BIJUU_HP= 4000
integer s__SpawnBijuus_AKATSUKI_BIJUU_ATTACK= 350
unit array s__SpawnBijuus_u
integer array s__SpawnBijuus_spell
integer array s__SpawnBijuus_count
constant integer si__Spectator=456
integer si__Spectator_F=0
integer si__Spectator_I=0
integer array si__Spectator_V
constant integer si__PeriodicActions=457
string array s__runningTimersString
integer array s__TimerUtils___data
timer array s__TimerUtils___tT
integer array s__assisted
integer array s__2assisted
integer array s__3assisted
integer array s__4assisted
integer array s__5assisted
integer array s__6assisted
integer array s__7assisted
integer array s__8assisted
integer array s__9assisted
integer array s__10assisted
integer array s__11assisted
integer array s__12assisted
boolean array s__AutoBuyS__autobuy
boolean array s__AutoBuyS__firstUse
integer array s__AutoBuyS__buildId
integer array s__AutoBuyS__lists
integer array s__RegisterPlayerUnitEvent___leave_ids
boolexpr array s__RegisterPlayerUnitEvent___death_events
boolexpr array s__2RegisterPlayerUnitEvent___death_events
integer array s__RegisterPlayerUnitEvent___death_events_b
integer array s__2RegisterPlayerUnitEvent___death_events_b
integer array s__RegisterPlayerUnitEvent___death_events_count
boolexpr array s__RegisterPlayerUnitEvent___attack_events
boolexpr array s__2RegisterPlayerUnitEvent___attack_events
integer array s__RegisterPlayerUnitEvent___attack_events_b
integer array s__2RegisterPlayerUnitEvent___attack_events_b
integer array s__RegisterPlayerUnitEvent___attack_events_count
boolexpr array s__RegisterPlayerUnitEvent___spell_events
boolexpr array s__2RegisterPlayerUnitEvent___spell_events
integer array s__RegisterPlayerUnitEvent___spell_events_id
integer array s__2RegisterPlayerUnitEvent___spell_events_id
integer array s__RegisterPlayerUnitEvent___spell_events_b
integer array s__2RegisterPlayerUnitEvent___spell_events_b
integer array s__RegisterPlayerUnitEvent___spell_events_count
trigger array s__RegisterPlayerUnitEvent___trigger_events
trigger array s__2RegisterPlayerUnitEvent___trigger_events
integer array s__RegisterPlayerUnitEvent___trigger_events_count
group array s__UnitUtils___dummies
string array s__UnitUtils___ASCII_TABLE
integer array s__UnitUtils___PLAYER_ARRAY
boolean array s__HideHeroesSystem___numbers
real array s__herosize
integer array s__HideHeroesSystem___herored
integer array s__HideHeroesSystem___heroblue
integer array s__HideHeroesSystem___herogreen
integer array s__HideHeroesSystem___heroalpha
real array s__heroscalex
real array s__heroscaley
real array s__heroscalez
boolean array s__HideHeroesSystem___ishidden
boolean array s__2HideHeroesSystem___ishidden
boolean array s__3HideHeroesSystem___ishidden
boolean array s__4HideHeroesSystem___ishidden
boolean array s__5HideHeroesSystem___ishidden
boolean array s__6HideHeroesSystem___ishidden
boolean array s__7HideHeroesSystem___ishidden
boolean array s__8HideHeroesSystem___ishidden
boolean array s__9HideHeroesSystem___ishidden
boolean array s__10HideHeroesSystem___ishidden
boolean array s__11HideHeroesSystem___ishidden
boolean array s__12HideHeroesSystem___ishidden
unit array s__ItemKunai__heroes
unit array s__Bashosen__dummies
unit array s__ScrollOfTeleportScope__anbus
unit array s__AsumaFireR__firewall
unit array s__chiyo_kunais
integer array s__DanzoNewSemiS__instances
unit array s__DanzoNewIzanagiSM__sharingans
unit array s__DaruiLaserCircus__lasers
effect array s__DaruiLaserCircus__effects
unit array s__NidaimeMizukageGenjutsu___mirages
unit array s__HakuNewSemiS___needles
destructable array s__HashiramaGate___blocks
destructable array s__EdoHashiramaGate___blocks
destructable array s__HiruzenCageNew___blocks
unit array s__HiruzenE___mud
dialog array s__SendGoldAndCystal__gd
button array s__SendGoldAndCystal__gb
dialog array s__SendGoldAndCystal__cd
button array s__SendGoldAndCystal__cb
integer array s__SendGoldAndCystal__g
integer array s__SendGoldAndCystal__c
integer array s__SendGoldAndCystal__given
boolean array s__AssistSystem__sai
integer array s__s__Recipes_recipes
integer array s__s__Recipes_items
integer array s__s__BadgeOfAnbu_icon
integer array s__s__BadgeOfAnbu_icon2
timer array s__s__RikuudouNecklacePassive_t
boolean array s__s__RikuudouNecklacePassive_cooldown
real array s__s__MedicalNinjaCloth_hps
timer array s__s__MedicalNinjaCloth_t
timer array s__s__KyuubiImmolation_t
timer array s__s__AntiEnergyStones_t
group array s__s__HokageRobeAura_affected
group array s__s__KazekageRobeAura_affected
timer array s__s__KisameRing_t
integer array s__s__KohakuNoJohei_counts
boolean array s__s__HiraishinKunai_first_activation
unit array s__s__HiraishinKunai_kunai
timer array s__s__AkatukiSet_t
integer array s__s__SubjugationOfHeaven_mps
real array s__s__ElementalANBUMask_mana
integer array s__s__HeavenSwordActive_spells
integer array s__s__ExecutionBlade_stats
integer array s__s__WindKusa_counts
integer array s__s__Shichiseiken_stats
unit array s__s__Shichiseiken_casters
unit array s__s__Shichiseiken_targets
real array s__s__Shichiseiken_timers
effect array s__s__Shichiseiken_effect
unit array s__s__AnkoR_snakes
button array s__s__AsumaUltimateChoice_b
unit array s__s__ChiyoChakraThreads_casters
unit array s__s__ChiyoChakraThreads_targets
effect array s__s__ChiyoChakraThreads_e1
effect array s__s__ChiyoChakraThreads_e2
timer array s__s__ChiyoChakraThreads_t
button array s__s__GaaraUltimateChoice_b
boolean array s__s__NidaimeMizukageJokiBoi___Spell_suicide
integer array s__s__GurenNewSemi_lights
destructable array s__s__HakuDomo_blocks
effect array s__s__HakuNewUltimate_mirrors
real array s__s__HakuNewUltimate_mirrors_x
real array s__s__HakuNewUltimate_mirrors_y
real array s__s__HakuNewUltimate_mirrors_z
effect array s__s__HanzoThrowScythe_chains
real array s__s__HanzoThrowScythe_chains_x
real array s__s__HanzoThrowScythe_chains_y
effect array s__s__HanzoSemi_chains
real array s__s__HanzoSemi_chains_x
real array s__s__HanzoSemi_chains_y
button array s__s__HanzoUltimateChoice_b
button array s__s__HashiramaUltimateChoice_b
button array s__s__HinataUltimateChoice_b
button array s__s__HiruzenSemiUltimateChoice_b
button array s__s__HiruzenUltimateChoice_b
effect array s__s__InoNewSemi_petals
effect array s__s__InoNewChouShinka_petals
unit array s__s__SasukeAmaterasu_amaterasu
integer array s__s__TeamDuel_PLAYER_STATE
boolean array s__s__TeamDuel_PLAYER_ACCEPTED
boolean array s__s__TeamDuel_PLAYER_DEATH
integer array s__s__Killme_uses
real array s__s__MoveSpeedBug_ms
timer array s__s__RangeCommand_tt
unit array s__s__RangeCommand_uu
unit array s__s__RangeCommand_glow
real array s__s__RangeCommand_rr
button array s__s__SwitchCommand_pickbutton
boolean array s__s__SwitchCommand_elegible
boolean array s__s__SwitchCommand_blocked
timer array s__s__LockCamera_t
unit array s__s__LockCamera_targets
unit array s__s__StreamCommand_targets
boolean array s__s__StreamCommand_enabled
integer array s__s__MusicS_count
integer array s__s__MusicS_intervals
boolean array s__s__MusicS_previous
integer array s__s__NinpouShop_shops
integer array s__s__NinpouShop_all_items
unit array s__s__NinpouShop_dummy_bank
framehandle array s__s__NinpouShop_autobuy_box
framehandle array s__s__NinpouUI_hpbar
framehandle array s__s__NinpouUI_manabar
framehandle array s__s__NinpouUI_cmd1
framehandle array s__s__NinpouUI_cmd2
framehandle array s__s__NinpouUI_move_cmd_buttons
framehandle array s__s__NinpouUI_indicators
framehandle array s__s__NinpouUI_indicator_items
framehandle array s__s__NinpouUI_bank_buttons
framehandle array s__s__NinpouUI_indicator_bank_buttons
integer array s__s__NinpouUI_autobuy_dialogs
boolean array s__s__NinpouUI_new_ui_enabled
boolean array s__s__NinpouUI_hotkeys_enabled
boolean array s__s__NinpouUI_autobuy_enabled
boolean array s__s__NinpouUI_stats_hidden
button array s__s__NinpouUI_autobuy_buttons
real array s__s__NinpouUI_mouse_x
real array s__s__NinpouUI_mouse_y
real array s__s__NinpouUI_mouse_world_x
real array s__s__NinpouUI_mouse_world_y
real array s__s__NinpouUI_prev_mouse_x
real array s__s__NinpouUI_prev_mouse_y
boolean array s__s__NinpouUI_mouse_cmd_down
real array s__s__NinpouUI_cmd_buttons_x
real array s__s__NinpouUI_cmd_buttons_y
boolean array s__s__NinpouUI_mouse_item_down
real array s__s__NinpouUI_items_button_x
real array s__s__NinpouUI_items_button_y
boolean array s__s__NinpouUI_mouse_bank_down
real array s__s__NinpouUI_bank_button_x
real array s__s__NinpouUI_bank_button_y
unit array s__s__NinpouUI_bank_unit
integer array s__s__NinpouUI_autobuy_count
unit array s__s__NinpouUI_selected_unit
boolean array s__s__NinpouUI_command_hero_building
string array s__s__AHSS_Configurations_HERO_NAMES
integer array s__s__AHSS_Configurations_HERO_IDS
string array s__s__AHSS_Configurations_HERO_ICONS
string array s__s__AHSS_Configurations_PLAYER_ICONS
boolean array s__s__AHSS_Graphics_availableHeroes
integer array s__s__AHSS_Graphics_availableHeroesId
integer array s__s__AHSS_Graphics_availableHeroesAttribute
integer array s__s__AHSS_Graphics_playersAttribute
boolean array s__s__NewSwap_usedSwap
boolean array s__s__NewSwap_usingSwap
button array s__s__NewSwap_inviteButtons
integer array s__s__NewSwap_receivePlayers
button array s__s__NewSwap_receiveButtons
integer array s__s__SpawnBijuus_stats1
integer array s__s__SpawnBijuus_stats2
integer array s__s__SpawnBijuus_stats3
trigger st__UnitDex_Remove
trigger st__KyuubiImmolation_periodic
trigger st__KisameRing_periodic
trigger st__AkatukiSet_periodic
trigger st__HanabiT_start
trigger st__HanzoSemi_periodicChains
trigger st__HidanFlyingScythe_actions
trigger st__AntiAFK_timeOut
trigger st__AntiAFK_chooseHost
trigger st__SwitchCommand_finish
trigger st__HeroIcon_start
trigger st__HeroIcon_create
trigger st__NinpouShop_resetFocus
trigger st__NinpouUI_resetElements
trigger st__AHSS_Teams_create
trigger st__AHSS_Teams_createTeam
trigger st__AHSS_Teams_addPlayer
trigger st__AHSS_Teams_setSpawningSpot
trigger st__AHSS_Heroes_create
trigger st__AHSS_Heroes_addHero
trigger st__AHSS_Heroes_setStr
trigger st__AHSS_Heroes_setAgi
trigger st__AHSS_Heroes_setInt
trigger st__AHSS_Heroes_setDescription
trigger st__AHSS_Heroes_setModel
trigger st__AHSS_Heroes_setModelAlternate
trigger st__AHSS_Heroes_setIcon
trigger st__AHSS_Heroes_setIconPath
trigger st__AHSS_Options_timeLimit
trigger st__AHSS_Options_setIconScale
trigger st__AHSS_Options_setIconsByLine
trigger st__AHSS_Options_setSoundClick
trigger st__AHSS_Options_setSoundError
trigger st__AHSS_Options_setSoundOk
trigger st__AHSS_Options_botsPick
trigger st__AHSS_Paths_setBackground
trigger st__AHSS_Paths_setLogo
trigger st__AHSS_Paths_setEmptyIcon
trigger st__AHSS_Paths_setRandomIcon
trigger st__AHSS_Paths_setSelection
trigger st__AHSS_Paths_setStrIcon
trigger st__AHSS_Paths_setAgiIcon
trigger st__AHSS_Paths_setIntIcon
trigger st__AHSS_Graphics_create
trigger st__AHSS_Graphics_selectHeroRandom
trigger st__AHSS_Graphics_pressEscActions
trigger st__AHSS_Graphics_pressEsc
trigger st__AHSS_Graphics_pressKey
trigger st__AHSS_Graphics_updateCursor
trigger st__AHSS_Graphics_moveCursor
trigger st__AHSS_Graphics_showHero
trigger st__AHSS_Graphics_createIcons
trigger st__AHSS_Graphics_createTexts
trigger st__AHSS_Graphics_createSelections
trigger st__AHSS_Graphics_draw
trigger st__AHSS_Graphics_destroy
trigger array st___prototype5
trigger array st___prototype73
trigger array st___prototype85
unit f__arg_unit1
unit f__arg_unit2
boolean f__arg_boolean1
integer f__arg_integer1
integer f__arg_integer2
integer f__arg_integer3
integer f__arg_integer4
string f__arg_string1
real f__arg_real1
real f__arg_real2
real f__arg_real3
real f__arg_real4
rect f__arg_rect1
sound f__arg_sound1
integer f__arg_this
boolean f__result_boolean
player f__result_player
integer f__result_integer

endglobals


function sg__assisted_get takes integer i returns integer
    if(i<8191) then
        return s__assisted[i]
    elseif(i<49146) then
        if(i<16382) then
            return s__2assisted[i-8191]
        elseif(i<32764) then
            if(i<24573) then
                return s__3assisted[i-16382]
            else
                return s__4assisted[i-24573]
            endif
        elseif(i<40955) then
            return s__5assisted[i-32764]
        else
            return s__6assisted[i-40955]
        endif
    elseif(i<57337) then
        return s__7assisted[i-49146]
    elseif(i<73719) then
        if(i<65528) then
            return s__8assisted[i-57337]
        else
            return s__9assisted[i-65528]
        endif
    elseif(i<81910) then
        return s__10assisted[i-73719]
    elseif(i<90101) then
        return s__11assisted[i-81910]
    else
        return s__12assisted[i-90101]
    endif
endfunction

function sg__assisted_set takes integer i,integer v returns nothing
    if(i<8191) then
        set s__assisted[i]=v
    elseif(i<49146) then
        if(i<16382) then
            set s__2assisted[i-8191]=v
        elseif(i<32764) then
            if(i<24573) then
                set s__3assisted[i-16382]=v
            else
                set s__4assisted[i-24573]=v
            endif
        elseif(i<40955) then
            set s__5assisted[i-32764]=v
        else
            set s__6assisted[i-40955]=v
        endif
    elseif(i<57337) then
        set s__7assisted[i-49146]=v
    elseif(i<73719) then
        if(i<65528) then
            set s__8assisted[i-57337]=v
        else
            set s__9assisted[i-65528]=v
        endif
    elseif(i<81910) then
        set s__10assisted[i-73719]=v
    elseif(i<90101) then
        set s__11assisted[i-81910]=v
    else
        set s__12assisted[i-90101]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___death_events_get takes integer i returns boolexpr
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___death_events[i]
    else
        return s__2RegisterPlayerUnitEvent___death_events[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___death_events_set takes integer i,boolexpr v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___death_events[i]=v
    else
        set s__2RegisterPlayerUnitEvent___death_events[i-8191]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___death_events_b_get takes integer i returns integer
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___death_events_b[i]
    else
        return s__2RegisterPlayerUnitEvent___death_events_b[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___death_events_b_set takes integer i,integer v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___death_events_b[i]=v
    else
        set s__2RegisterPlayerUnitEvent___death_events_b[i-8191]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___attack_events_get takes integer i returns boolexpr
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___attack_events[i]
    else
        return s__2RegisterPlayerUnitEvent___attack_events[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___attack_events_set takes integer i,boolexpr v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___attack_events[i]=v
    else
        set s__2RegisterPlayerUnitEvent___attack_events[i-8191]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___attack_events_b_get takes integer i returns integer
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___attack_events_b[i]
    else
        return s__2RegisterPlayerUnitEvent___attack_events_b[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___attack_events_b_set takes integer i,integer v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___attack_events_b[i]=v
    else
        set s__2RegisterPlayerUnitEvent___attack_events_b[i-8191]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___spell_events_get takes integer i returns boolexpr
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___spell_events[i]
    else
        return s__2RegisterPlayerUnitEvent___spell_events[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___spell_events_set takes integer i,boolexpr v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___spell_events[i]=v
    else
        set s__2RegisterPlayerUnitEvent___spell_events[i-8191]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___spell_events_id_get takes integer i returns integer
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___spell_events_id[i]
    else
        return s__2RegisterPlayerUnitEvent___spell_events_id[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___spell_events_id_set takes integer i,integer v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___spell_events_id[i]=v
    else
        set s__2RegisterPlayerUnitEvent___spell_events_id[i-8191]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___spell_events_b_get takes integer i returns integer
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___spell_events_b[i]
    else
        return s__2RegisterPlayerUnitEvent___spell_events_b[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___spell_events_b_set takes integer i,integer v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___spell_events_b[i]=v
    else
        set s__2RegisterPlayerUnitEvent___spell_events_b[i-8191]=v
    endif
endfunction

function sg__RegisterPlayerUnitEvent___trigger_events_get takes integer i returns trigger
    if(i<8191) then
        return s__RegisterPlayerUnitEvent___trigger_events[i]
    else
        return s__2RegisterPlayerUnitEvent___trigger_events[i-8191]
    endif
endfunction

function sg__RegisterPlayerUnitEvent___trigger_events_set takes integer i,trigger v returns nothing
    if(i<8191) then
        set s__RegisterPlayerUnitEvent___trigger_events[i]=v
    else
        set s__2RegisterPlayerUnitEvent___trigger_events[i-8191]=v
    endif
endfunction

function sg__HideHeroesSystem___ishidden_get takes integer i returns boolean
    if(i<8191) then
        return s__HideHeroesSystem___ishidden[i]
    elseif(i<49146) then
        if(i<16382) then
            return s__2HideHeroesSystem___ishidden[i-8191]
        elseif(i<32764) then
            if(i<24573) then
                return s__3HideHeroesSystem___ishidden[i-16382]
            else
                return s__4HideHeroesSystem___ishidden[i-24573]
            endif
        elseif(i<40955) then
            return s__5HideHeroesSystem___ishidden[i-32764]
        else
            return s__6HideHeroesSystem___ishidden[i-40955]
        endif
    elseif(i<57337) then
        return s__7HideHeroesSystem___ishidden[i-49146]
    elseif(i<73719) then
        if(i<65528) then
            return s__8HideHeroesSystem___ishidden[i-57337]
        else
            return s__9HideHeroesSystem___ishidden[i-65528]
        endif
    elseif(i<81910) then
        return s__10HideHeroesSystem___ishidden[i-73719]
    elseif(i<90101) then
        return s__11HideHeroesSystem___ishidden[i-81910]
    else
        return s__12HideHeroesSystem___ishidden[i-90101]
    endif
endfunction

function sg__HideHeroesSystem___ishidden_set takes integer i,boolean v returns nothing
    if(i<8191) then
        set s__HideHeroesSystem___ishidden[i]=v
    elseif(i<49146) then
        if(i<16382) then
            set s__2HideHeroesSystem___ishidden[i-8191]=v
        elseif(i<32764) then
            if(i<24573) then
                set s__3HideHeroesSystem___ishidden[i-16382]=v
            else
                set s__4HideHeroesSystem___ishidden[i-24573]=v
            endif
        elseif(i<40955) then
            set s__5HideHeroesSystem___ishidden[i-32764]=v
        else
            set s__6HideHeroesSystem___ishidden[i-40955]=v
        endif
    elseif(i<57337) then
        set s__7HideHeroesSystem___ishidden[i-49146]=v
    elseif(i<73719) then
        if(i<65528) then
            set s__8HideHeroesSystem___ishidden[i-57337]=v
        else
            set s__9HideHeroesSystem___ishidden[i-65528]=v
        endif
    elseif(i<81910) then
        set s__10HideHeroesSystem___ishidden[i-73719]=v
    elseif(i<90101) then
        set s__11HideHeroesSystem___ishidden[i-81910]=v
    else
        set s__12HideHeroesSystem___ishidden[i-90101]=v
    endif
endfunction

//Generated allocator of Spectator
function s__Spectator__allocate takes nothing returns integer
 local integer this=si__Spectator_F
    if (this!=0) then
        set si__Spectator_F=si__Spectator_V[this]
    else
        set si__Spectator_I=si__Spectator_I+1
        set this=si__Spectator_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__Spectator_V[this]=-1
 return this
endfunction

//Generated destructor of Spectator
function s__Spectator_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Spectator_V[this]!=-1) then
        return
    endif
    set si__Spectator_V[this]=si__Spectator_F
    set si__Spectator_F=this
endfunction

//Generated allocator of AssistSystem__System
function s__AssistSystem__System__allocate takes nothing returns integer
 local integer this=si__AssistSystem__System_F
    if (this!=0) then
        set si__AssistSystem__System_F=si__AssistSystem__System_V[this]
    else
        set si__AssistSystem__System_I=si__AssistSystem__System_I+1
        set this=si__AssistSystem__System_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__AssistSystem__System_V[this]=-1
 return this
endfunction

//Generated destructor of AssistSystem__System
function s__AssistSystem__System_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AssistSystem__System_V[this]!=-1) then
        return
    endif
    set si__AssistSystem__System_V[this]=si__AssistSystem__System_F
    set si__AssistSystem__System_F=this
endfunction

//Generated allocator of NewSwap
function s__NewSwap__allocate takes nothing returns integer
 local integer this=si__NewSwap_F
    if (this!=0) then
        set si__NewSwap_F=si__NewSwap_V[this]
    else
        set si__NewSwap_I=si__NewSwap_I+1
        set this=si__NewSwap_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__NewSwap_V[this]=-1
 return this
endfunction

//Generated destructor of NewSwap
function s__NewSwap_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__NewSwap_V[this]!=-1) then
        return
    endif
    set si__NewSwap_V[this]=si__NewSwap_F
    set si__NewSwap_F=this
endfunction

//Generated method caller for AHSS_Graphics.create
function sc__AHSS_Graphics_create takes integer teams,integer heroes,integer options,integer paths returns integer
    set f__arg_integer1=teams
    set f__arg_integer2=heroes
    set f__arg_integer3=options
    set f__arg_integer4=paths
    call TriggerEvaluate(st__AHSS_Graphics_create)
 return f__result_integer
endfunction

//Generated method caller for AHSS_Graphics.selectHeroRandom
function sc__AHSS_Graphics_selectHeroRandom takes integer this,integer id returns nothing
    set f__arg_integer1=this
    set f__arg_integer2=id
    call TriggerEvaluate(st__AHSS_Graphics_selectHeroRandom)
endfunction

//Generated method caller for AHSS_Graphics.pressEscActions
function sc__AHSS_Graphics_pressEscActions takes integer this,integer id returns boolean
    set f__arg_integer1=this
    set f__arg_integer2=id
    call TriggerEvaluate(st__AHSS_Graphics_pressEscActions)
 return f__result_boolean
endfunction

//Generated method caller for AHSS_Graphics.pressEsc
function sc__AHSS_Graphics_pressEsc takes nothing returns boolean
    call TriggerEvaluate(st__AHSS_Graphics_pressEsc)
 return f__result_boolean
endfunction

//Generated method caller for AHSS_Graphics.pressKey
function sc__AHSS_Graphics_pressKey takes nothing returns nothing
    call TriggerEvaluate(st__AHSS_Graphics_pressKey)
endfunction

//Generated method caller for AHSS_Graphics.updateCursor
function sc__AHSS_Graphics_updateCursor takes integer this,integer playerid returns nothing
    set f__arg_integer1=this
    set f__arg_integer2=playerid
    call TriggerEvaluate(st__AHSS_Graphics_updateCursor)
endfunction

//Generated method caller for AHSS_Graphics.moveCursor
function sc__AHSS_Graphics_moveCursor takes integer this,integer playerid returns nothing
    set f__arg_integer1=this
    set f__arg_integer2=playerid
    call TriggerEvaluate(st__AHSS_Graphics_moveCursor)
endfunction

//Generated method caller for AHSS_Graphics.showHero
function sc__AHSS_Graphics_showHero takes integer this,integer playerid,integer index returns nothing
    set f__arg_integer1=this
    set f__arg_integer2=playerid
    set f__arg_integer3=index
    call TriggerEvaluate(st__AHSS_Graphics_showHero)
endfunction

//Generated method caller for AHSS_Graphics.createIcons
function sc__AHSS_Graphics_createIcons takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__AHSS_Graphics_createIcons)
endfunction

//Generated method caller for AHSS_Graphics.createTexts
function sc__AHSS_Graphics_createTexts takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__AHSS_Graphics_createTexts)
endfunction

//Generated method caller for AHSS_Graphics.createSelections
function sc__AHSS_Graphics_createSelections takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__AHSS_Graphics_createSelections)
endfunction

//Generated method caller for AHSS_Graphics.draw
function sc__AHSS_Graphics_draw takes integer this,boolean allRandom returns nothing
    set f__arg_this=this
    set f__arg_boolean1=allRandom
    call TriggerEvaluate(st__AHSS_Graphics_draw)
endfunction

//Generated method caller for AHSS_Graphics.destroy
function sc__AHSS_Graphics_destroy takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__AHSS_Graphics_destroy)
endfunction

//Generated allocator of AHSS_Graphics
function s__AHSS_Graphics__allocate takes nothing returns integer
 local integer this=si__AHSS_Graphics_F
    if (this!=0) then
        set si__AHSS_Graphics_F=si__AHSS_Graphics_V[this]
    else
        set si__AHSS_Graphics_I=si__AHSS_Graphics_I+1
        set this=si__AHSS_Graphics_I
    endif
    if (this>90) then
        return 0
    endif
    set s__AHSS_Graphics_emptyIcon[this]=(this-1)*90
    set s__AHSS_Graphics_selections[this]=(this-1)*12
    set s__AHSS_Graphics_teamsIcon[this]=(this-1)*12
    set s__AHSS_Graphics_teamsText[this]=(this-1)*12
    set s__AHSS_Graphics_heroesModels[this]=(this-1)*12
    set s__AHSS_Graphics_heroesName[this]=(this-1)*12
    set s__AHSS_Graphics_heroesIcon[this]=(this-1)*90
    set s__AHSS_Graphics_bannedEmptyIcons[this]=(this-1)*9
    set s__AHSS_Graphics_bannedHeroIcons[this]=(this-1)*9
    set s__AHSS_Graphics_strIcon[this]=(this-1)*12
    set s__AHSS_Graphics_strText[this]=(this-1)*12
    set s__AHSS_Graphics_agiIcon[this]=(this-1)*12
    set s__AHSS_Graphics_agiText[this]=(this-1)*12
    set s__AHSS_Graphics_intIcon[this]=(this-1)*12
    set s__AHSS_Graphics_intText[this]=(this-1)*12
    set s__AHSS_Graphics_descriptionText[this]=(this-1)*12
    set s__AHSS_Graphics_selectionUsed[this]=(this-1)*12
    set s__AHSS_Graphics_draftUsed[this]=(this-1)*12
    set s__AHSS_Graphics_isHidden[this]=(this-1)*12
    set s__AHSS_Graphics_modifier[this]=(this-1)*12
    set si__AHSS_Graphics_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS_Graphics
function s__AHSS_Graphics_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS_Graphics_V[this]!=-1) then
        return
    endif
    set si__AHSS_Graphics_V[this]=si__AHSS_Graphics_F
    set si__AHSS_Graphics_F=this
endfunction

//Generated allocator of AHSS__PlayerSelection
function s__AHSS__PlayerSelection__allocate takes nothing returns integer
 local integer this=si__AHSS__PlayerSelection_F
    if (this!=0) then
        set si__AHSS__PlayerSelection_F=si__AHSS__PlayerSelection_V[this]
    else
        set si__AHSS__PlayerSelection_I=si__AHSS__PlayerSelection_I+1
        set this=si__AHSS__PlayerSelection_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__AHSS__PlayerSelection_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS__PlayerSelection
function s__AHSS__PlayerSelection_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS__PlayerSelection_V[this]!=-1) then
        return
    endif
    set si__AHSS__PlayerSelection_V[this]=si__AHSS__PlayerSelection_F
    set si__AHSS__PlayerSelection_F=this
endfunction

//Generated allocator of AHSS__TeamIcon
function s__AHSS__TeamIcon__allocate takes nothing returns integer
 local integer this=si__AHSS__TeamIcon_F
    if (this!=0) then
        set si__AHSS__TeamIcon_F=si__AHSS__TeamIcon_V[this]
    else
        set si__AHSS__TeamIcon_I=si__AHSS__TeamIcon_I+1
        set this=si__AHSS__TeamIcon_I
    endif
    if (this>681) then
        return 0
    endif
    set s__AHSS__TeamIcon_icons[this]=(this-1)*12
    set s__AHSS__TeamIcon_iconsId[this]=(this-1)*12
    set si__AHSS__TeamIcon_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS__TeamIcon
function s__AHSS__TeamIcon_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS__TeamIcon_V[this]!=-1) then
        return
    endif
    set si__AHSS__TeamIcon_V[this]=si__AHSS__TeamIcon_F
    set si__AHSS__TeamIcon_F=this
endfunction

//Generated method caller for AHSS_Paths.setBackground
function sc__AHSS_Paths_setBackground takes integer this,string whichPath returns nothing
            set s__AHSS_Paths_background[this]=whichPath
endfunction

//Generated method caller for AHSS_Paths.setLogo
function sc__AHSS_Paths_setLogo takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_logo[this]=whichid
endfunction

//Generated method caller for AHSS_Paths.setEmptyIcon
function sc__AHSS_Paths_setEmptyIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_emptyIcon[this]=whichid
endfunction

//Generated method caller for AHSS_Paths.setRandomIcon
function sc__AHSS_Paths_setRandomIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_randomIcon[this]=whichid
endfunction

//Generated method caller for AHSS_Paths.setSelection
function sc__AHSS_Paths_setSelection takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_selection[this]=whichid
endfunction

//Generated method caller for AHSS_Paths.setStrIcon
function sc__AHSS_Paths_setStrIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_strength[this]=whichid
endfunction

//Generated method caller for AHSS_Paths.setAgiIcon
function sc__AHSS_Paths_setAgiIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_agility[this]=whichid
endfunction

//Generated method caller for AHSS_Paths.setIntIcon
function sc__AHSS_Paths_setIntIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_intelligence[this]=whichid
endfunction

//Generated allocator of AHSS_Paths
function s__AHSS_Paths__allocate takes nothing returns integer
 local integer this=si__AHSS_Paths_F
    if (this!=0) then
        set si__AHSS_Paths_F=si__AHSS_Paths_V[this]
    else
        set si__AHSS_Paths_I=si__AHSS_Paths_I+1
        set this=si__AHSS_Paths_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__AHSS_Paths_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS_Paths
function s__AHSS_Paths_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS_Paths_V[this]!=-1) then
        return
    endif
    set si__AHSS_Paths_V[this]=si__AHSS_Paths_F
    set si__AHSS_Paths_F=this
endfunction

//Generated method caller for AHSS_Options.timeLimit
function sc__AHSS_Options_timeLimit takes integer this,boolean timeLimitActived,real whichTime returns nothing
            set s__AHSS_Options_timeLimit_actived[this]=timeLimitActived
            set s__AHSS_Options_timeLimit_time[this]=whichTime
endfunction

//Generated method caller for AHSS_Options.setIconScale
function sc__AHSS_Options_setIconScale takes integer this,real whichScale returns nothing
            set s__AHSS_Options_iconScale[this]=whichScale
endfunction

//Generated method caller for AHSS_Options.setIconsByLine
function sc__AHSS_Options_setIconsByLine takes integer this,integer howMany returns nothing
            set s__AHSS_Options_iconsByLine[this]=howMany
endfunction

//Generated method caller for AHSS_Options.setSoundClick
function sc__AHSS_Options_setSoundClick takes integer this,sound whichSound returns nothing
            set s__AHSS_Options_click[this]=whichSound
endfunction

//Generated method caller for AHSS_Options.setSoundError
function sc__AHSS_Options_setSoundError takes integer this,sound whichSound returns nothing
            set s__AHSS_Options_error[this]=whichSound
endfunction

//Generated method caller for AHSS_Options.setSoundOk
function sc__AHSS_Options_setSoundOk takes integer this,sound whichSound returns nothing
            set s__AHSS_Options_ok[this]=whichSound
endfunction

//Generated method caller for AHSS_Options.botsPick
function sc__AHSS_Options_botsPick takes integer this,boolean b returns nothing
            set s__AHSS_Options_bots[this]=b
endfunction

//Generated allocator of AHSS_Options
function s__AHSS_Options__allocate takes nothing returns integer
 local integer this=si__AHSS_Options_F
    if (this!=0) then
        set si__AHSS_Options_F=si__AHSS_Options_V[this]
    else
        set si__AHSS_Options_I=si__AHSS_Options_I+1
        set this=si__AHSS_Options_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__AHSS_Options_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS_Options
function s__AHSS_Options_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS_Options_V[this]!=-1) then
        return
    endif
    set si__AHSS_Options_V[this]=si__AHSS_Options_F
    set si__AHSS_Options_F=this
endfunction

//Generated method caller for AHSS_Heroes.create
function sc__AHSS_Heroes_create takes nothing returns integer
    call TriggerEvaluate(st__AHSS_Heroes_create)
 return f__result_integer
endfunction

//Generated method caller for AHSS_Heroes.addHero
function sc__AHSS_Heroes_addHero takes integer this,string name,integer id returns nothing
    set f__arg_this=this
    set f__arg_string1=name
    set f__arg_integer1=id
    call TriggerEvaluate(st__AHSS_Heroes_addHero)
endfunction

//Generated method caller for AHSS_Heroes.setStr
function sc__AHSS_Heroes_setStr takes integer this,real initial,real lvl returns nothing
    set f__arg_this=this
    set f__arg_real1=initial
    set f__arg_real2=lvl
    call TriggerEvaluate(st__AHSS_Heroes_setStr)
endfunction

//Generated method caller for AHSS_Heroes.setAgi
function sc__AHSS_Heroes_setAgi takes integer this,real initial,real lvl returns nothing
    set f__arg_this=this
    set f__arg_real1=initial
    set f__arg_real2=lvl
    call TriggerEvaluate(st__AHSS_Heroes_setAgi)
endfunction

//Generated method caller for AHSS_Heroes.setInt
function sc__AHSS_Heroes_setInt takes integer this,real initial,real lvl returns nothing
    set f__arg_this=this
    set f__arg_real1=initial
    set f__arg_real2=lvl
    call TriggerEvaluate(st__AHSS_Heroes_setInt)
endfunction

//Generated method caller for AHSS_Heroes.setDescription
function sc__AHSS_Heroes_setDescription takes integer this,string whichDescription returns nothing
    set f__arg_this=this
    set f__arg_string1=whichDescription
    call TriggerEvaluate(st__AHSS_Heroes_setDescription)
endfunction

//Generated method caller for AHSS_Heroes.setModel
function sc__AHSS_Heroes_setModel takes integer this,string path,real scale returns nothing
    set f__arg_this=this
    set f__arg_string1=path
    set f__arg_real1=scale
    call TriggerEvaluate(st__AHSS_Heroes_setModel)
endfunction

//Generated method caller for AHSS_Heroes.setModelAlternate
function sc__AHSS_Heroes_setModelAlternate takes integer this,boolean b returns nothing
    set f__arg_this=this
    set f__arg_boolean1=b
    call TriggerEvaluate(st__AHSS_Heroes_setModelAlternate)
endfunction

//Generated method caller for AHSS_Heroes.setIcon
function sc__AHSS_Heroes_setIcon takes integer this,integer whichIcon returns nothing
    set f__arg_this=this
    set f__arg_integer1=whichIcon
    call TriggerEvaluate(st__AHSS_Heroes_setIcon)
endfunction

//Generated method caller for AHSS_Heroes.setIconPath
function sc__AHSS_Heroes_setIconPath takes integer this,string path returns nothing
    set f__arg_this=this
    set f__arg_string1=path
    call TriggerEvaluate(st__AHSS_Heroes_setIconPath)
endfunction

//Generated allocator of AHSS_Heroes
function s__AHSS_Heroes__allocate takes nothing returns integer
 local integer this=si__AHSS_Heroes_F
    if (this!=0) then
        set si__AHSS_Heroes_F=si__AHSS_Heroes_V[this]
    else
        set si__AHSS_Heroes_I=si__AHSS_Heroes_I+1
        set this=si__AHSS_Heroes_I
    endif
    if (this>90) then
        return 0
    endif
    set s__AHSS_Heroes_heroes[this]=(this-1)*90
    set si__AHSS_Heroes_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS_Heroes
function s__AHSS_Heroes_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS_Heroes_V[this]!=-1) then
        return
    endif
    set si__AHSS_Heroes_V[this]=si__AHSS_Heroes_F
    set si__AHSS_Heroes_F=this
endfunction

//Generated allocator of AHSS__Hero
function s__AHSS__Hero__allocate takes nothing returns integer
 local integer this=si__AHSS__Hero_F
    if (this!=0) then
        set si__AHSS__Hero_F=si__AHSS__Hero_V[this]
    else
        set si__AHSS__Hero_I=si__AHSS__Hero_I+1
        set this=si__AHSS__Hero_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__AHSS__Hero_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS__Hero
function s__AHSS__Hero_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS__Hero_V[this]!=-1) then
        return
    endif
    set si__AHSS__Hero_V[this]=si__AHSS__Hero_F
    set si__AHSS__Hero_F=this
endfunction

//Generated method caller for AHSS_Teams.create
function sc__AHSS_Teams_create takes nothing returns integer
    call TriggerEvaluate(st__AHSS_Teams_create)
 return f__result_integer
endfunction

//Generated method caller for AHSS_Teams.createTeam
function sc__AHSS_Teams_createTeam takes integer this,string name returns nothing
    set f__arg_this=this
    set f__arg_string1=name
    call TriggerEvaluate(st__AHSS_Teams_createTeam)
endfunction

//Generated method caller for AHSS_Teams.addPlayer
function sc__AHSS_Teams_addPlayer takes integer this,integer whichPlayer returns nothing
    set f__arg_this=this
    set f__arg_integer1=whichPlayer
    call TriggerEvaluate(st__AHSS_Teams_addPlayer)
endfunction

//Generated method caller for AHSS_Teams.setSpawningSpot
function sc__AHSS_Teams_setSpawningSpot takes integer this,rect whichRect returns nothing
    set f__arg_this=this
    set f__arg_rect1=whichRect
    call TriggerEvaluate(st__AHSS_Teams_setSpawningSpot)
endfunction

//Generated allocator of AHSS_Teams
function s__AHSS_Teams__allocate takes nothing returns integer
 local integer this=si__AHSS_Teams_F
    if (this!=0) then
        set si__AHSS_Teams_F=si__AHSS_Teams_V[this]
    else
        set si__AHSS_Teams_I=si__AHSS_Teams_I+1
        set this=si__AHSS_Teams_I
    endif
    if (this>681) then
        return 0
    endif
    set s__AHSS_Teams_teams[this]=(this-1)*12
    set si__AHSS_Teams_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS_Teams
function s__AHSS_Teams_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS_Teams_V[this]!=-1) then
        return
    endif
    set si__AHSS_Teams_V[this]=si__AHSS_Teams_F
    set si__AHSS_Teams_F=this
endfunction

//Generated allocator of AHSS__Team
function s__AHSS__Team__allocate takes nothing returns integer
 local integer this=si__AHSS__Team_F
    if (this!=0) then
        set si__AHSS__Team_F=si__AHSS__Team_V[this]
    else
        set si__AHSS__Team_I=si__AHSS__Team_I+1
        set this=si__AHSS__Team_I
    endif
    if (this>681) then
        return 0
    endif
    set s__AHSS__Team_players[this]=(this-1)*12
    set si__AHSS__Team_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS__Team
function s__AHSS__Team_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS__Team_V[this]!=-1) then
        return
    endif
    set si__AHSS__Team_V[this]=si__AHSS__Team_F
    set si__AHSS__Team_F=this
endfunction

//Generated allocator of AHSS_Configurations
function s__AHSS_Configurations__allocate takes nothing returns integer
 local integer this=si__AHSS_Configurations_F
    if (this!=0) then
        set si__AHSS_Configurations_F=si__AHSS_Configurations_V[this]
    else
        set si__AHSS_Configurations_I=si__AHSS_Configurations_I+1
        set this=si__AHSS_Configurations_I
    endif
    if (this>8190) then
        return 0
    endif

   set s__AHSS_Configurations_INITIAL_AREA[this]= gg_rct_NewSelection
   set s__AHSS_Configurations_CAMERA[this]= gg_cam_Camera_001
    set si__AHSS_Configurations_V[this]=-1
 return this
endfunction

//Generated destructor of AHSS_Configurations
function s__AHSS_Configurations_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AHSS_Configurations_V[this]!=-1) then
        return
    endif
    set si__AHSS_Configurations_V[this]=si__AHSS_Configurations_F
    set si__AHSS_Configurations_F=this
endfunction

//Generated method caller for NinpouUI.resetElements
function sc__NinpouUI_resetElements takes integer id returns nothing
    set f__arg_integer1=id
    call TriggerEvaluate(st__NinpouUI_resetElements)
endfunction

//Generated allocator of NinpouUI
function s__NinpouUI__allocate takes nothing returns integer
 local integer this=si__NinpouUI_F
    if (this!=0) then
        set si__NinpouUI_F=si__NinpouUI_V[this]
    else
        set si__NinpouUI_I=si__NinpouUI_I+1
        set this=si__NinpouUI_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__NinpouUI_V[this]=-1
 return this
endfunction

//Generated destructor of NinpouUI
function s__NinpouUI_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__NinpouUI_V[this]!=-1) then
        return
    endif
    set si__NinpouUI_V[this]=si__NinpouUI_F
    set si__NinpouUI_F=this
endfunction

//Generated method caller for NinpouShop.resetFocus
function sc__NinpouShop_resetFocus takes integer this returns nothing
                local integer i= 0
                if GetLocalPlayer() == Player(s__NinpouShop_id[this]) then
                    call BlzFrameSetFocus(s__NinpouShop_box[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_search[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop1[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop2[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop3[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop4[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop5[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop6[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop7[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop8[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop9[this], false)
                    loop
                        exitwhen i > 11
                        call BlzFrameSetFocus(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]], false)
                        call BlzFrameSetFocus(s__ShopButton_mainbutton[s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+i]], false)
                        call BlzFrameSetFocus(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i], false)
                        call BlzFrameSetFocus(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i], false)
                        set i=i + 1
                    endloop
                endif
endfunction

//Generated allocator of NinpouShop
function s__NinpouShop__allocate takes nothing returns integer
 local integer this=si__NinpouShop_F
    if (this!=0) then
        set si__NinpouShop_F=si__NinpouShop_V[this]
    else
        set si__NinpouShop_I=si__NinpouShop_I+1
        set this=si__NinpouShop_I
    endif
    if (this>681) then
        return 0
    endif
    set s__NinpouShop_shop_items[this]=(this-1)*12
    set s__NinpouShop_shop_buttons[this]=(this-1)*12
    set s__NinpouShop_buy_items[this]=(this-1)*12
    set s__NinpouShop_buy_buttons[this]=(this-1)*12
    set s__NinpouShop_selected_shop_items[this]=(this-1)*12
    set s__NinpouShop_bought_shop_items[this]=(this-1)*12
    set si__NinpouShop_V[this]=-1
 return this
endfunction

//Generated destructor of NinpouShop
function s__NinpouShop_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__NinpouShop_V[this]!=-1) then
        return
    endif
    set si__NinpouShop_V[this]=si__NinpouShop_F
    set si__NinpouShop_F=this
endfunction

//Generated allocator of NinpouItem
function s__NinpouItem__allocate takes nothing returns integer
 local integer this=si__NinpouItem_F
    if (this!=0) then
        set si__NinpouItem_F=si__NinpouItem_V[this]
    else
        set si__NinpouItem_I=si__NinpouItem_I+1
        set this=si__NinpouItem_I
    endif
    if (this>340) then
        return 0
    endif
    set s__NinpouItem_enabled[this]=(this-1)*24
    set si__NinpouItem_V[this]=-1
 return this
endfunction

//Generated destructor of NinpouItem
function s__NinpouItem_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__NinpouItem_V[this]!=-1) then
        return
    endif
    set si__NinpouItem_V[this]=si__NinpouItem_F
    set si__NinpouItem_F=this
endfunction

//Generated allocator of ShopButton
function s__ShopButton__allocate takes nothing returns integer
 local integer this=si__ShopButton_F
    if (this!=0) then
        set si__ShopButton_F=si__ShopButton_V[this]
    else
        set si__ShopButton_I=si__ShopButton_I+1
        set this=si__ShopButton_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__ShopButton_V[this]=-1
 return this
endfunction

//Generated destructor of ShopButton
function s__ShopButton_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ShopButton_V[this]!=-1) then
        return
    endif
    set si__ShopButton_V[this]=si__ShopButton_F
    set si__ShopButton_F=this
endfunction

//Generated method caller for HeroIcon.start
function sc__HeroIcon_start takes integer this,unit caster,string icon returns nothing
    set f__arg_this=this
    set f__arg_unit1=caster
    set f__arg_string1=icon
    call TriggerEvaluate(st__HeroIcon_start)
endfunction

//Generated method caller for HeroIcon.create
function sc__HeroIcon_create takes real x,real y,real scale,integer index returns integer
    set f__arg_real1=x
    set f__arg_real2=y
    set f__arg_real3=scale
    set f__arg_integer1=index
    call TriggerEvaluate(st__HeroIcon_create)
 return f__result_integer
endfunction

//Generated allocator of ShowTimers
function s__ShowTimers__allocate takes nothing returns integer
 local integer this=si__ShowTimers_F
    if (this!=0) then
        set si__ShowTimers_F=si__ShowTimers_V[this]
    else
        set si__ShowTimers_I=si__ShowTimers_I+1
        set this=si__ShowTimers_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__ShowTimers_V[this]=-1
 return this
endfunction

//Generated destructor of ShowTimers
function s__ShowTimers_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ShowTimers_V[this]!=-1) then
        return
    endif
    set si__ShowTimers_V[this]=si__ShowTimers_F
    set si__ShowTimers_F=this
endfunction

//Generated allocator of StreamCommand
function s__StreamCommand__allocate takes nothing returns integer
 local integer this=si__StreamCommand_F
    if (this!=0) then
        set si__StreamCommand_F=si__StreamCommand_V[this]
    else
        set si__StreamCommand_I=si__StreamCommand_I+1
        set this=si__StreamCommand_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__StreamCommand_V[this]=-1
 return this
endfunction

//Generated destructor of StreamCommand
function s__StreamCommand_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__StreamCommand_V[this]!=-1) then
        return
    endif
    set si__StreamCommand_V[this]=si__StreamCommand_F
    set si__StreamCommand_F=this
endfunction

//Generated allocator of LockCamera
function s__LockCamera__allocate takes nothing returns integer
 local integer this=si__LockCamera_F
    if (this!=0) then
        set si__LockCamera_F=si__LockCamera_V[this]
    else
        set si__LockCamera_I=si__LockCamera_I+1
        set this=si__LockCamera_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__LockCamera_V[this]=-1
 return this
endfunction

//Generated destructor of LockCamera
function s__LockCamera_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__LockCamera_V[this]!=-1) then
        return
    endif
    set si__LockCamera_V[this]=si__LockCamera_F
    set si__LockCamera_F=this
endfunction

//Generated method caller for SwitchCommand.finish
function sc__SwitchCommand_finish takes nothing returns nothing
    call TriggerEvaluate(st__SwitchCommand_finish)
endfunction

//Generated allocator of SwitchCommand
function s__SwitchCommand__allocate takes nothing returns integer
 local integer this=si__SwitchCommand_F
    if (this!=0) then
        set si__SwitchCommand_F=si__SwitchCommand_V[this]
    else
        set si__SwitchCommand_I=si__SwitchCommand_I+1
        set this=si__SwitchCommand_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__SwitchCommand_V[this]=-1
 return this
endfunction

//Generated destructor of SwitchCommand
function s__SwitchCommand_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__SwitchCommand_V[this]!=-1) then
        return
    endif
    set si__SwitchCommand_V[this]=si__SwitchCommand_F
    set si__SwitchCommand_F=this
endfunction

//Generated allocator of RangeCommand
function s__RangeCommand__allocate takes nothing returns integer
 local integer this=si__RangeCommand_F
    if (this!=0) then
        set si__RangeCommand_F=si__RangeCommand_V[this]
    else
        set si__RangeCommand_I=si__RangeCommand_I+1
        set this=si__RangeCommand_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__RangeCommand_V[this]=-1
 return this
endfunction

//Generated destructor of RangeCommand
function s__RangeCommand_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__RangeCommand_V[this]!=-1) then
        return
    endif
    set si__RangeCommand_V[this]=si__RangeCommand_F
    set si__RangeCommand_F=this
endfunction

//Generated allocator of BuyAttributes
function s__BuyAttributes__allocate takes nothing returns integer
 local integer this=si__BuyAttributes_F
    if (this!=0) then
        set si__BuyAttributes_F=si__BuyAttributes_V[this]
    else
        set si__BuyAttributes_I=si__BuyAttributes_I+1
        set this=si__BuyAttributes_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__BuyAttributes_V[this]=-1
 return this
endfunction

//Generated destructor of BuyAttributes
function s__BuyAttributes_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__BuyAttributes_V[this]!=-1) then
        return
    endif
    set si__BuyAttributes_V[this]=si__BuyAttributes_F
    set si__BuyAttributes_F=this
endfunction

//Generated allocator of SendGoldAndCystal__Command
function s__SendGoldAndCystal__Command__allocate takes nothing returns integer
 local integer this=si__SendGoldAndCystal__Command_F
    if (this!=0) then
        set si__SendGoldAndCystal__Command_F=si__SendGoldAndCystal__Command_V[this]
    else
        set si__SendGoldAndCystal__Command_I=si__SendGoldAndCystal__Command_I+1
        set this=si__SendGoldAndCystal__Command_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__SendGoldAndCystal__Command_V[this]=-1
 return this
endfunction

//Generated destructor of SendGoldAndCystal__Command
function s__SendGoldAndCystal__Command_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__SendGoldAndCystal__Command_V[this]!=-1) then
        return
    endif
    set si__SendGoldAndCystal__Command_V[this]=si__SendGoldAndCystal__Command_F
    set si__SendGoldAndCystal__Command_F=this
endfunction

//Generated allocator of TeamDuel
function s__TeamDuel__allocate takes nothing returns integer
 local integer this=si__TeamDuel_F
    if (this!=0) then
        set si__TeamDuel_F=si__TeamDuel_V[this]
    else
        set si__TeamDuel_I=si__TeamDuel_I+1
        set this=si__TeamDuel_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__TeamDuel_V[this]=-1
 return this
endfunction

//Generated destructor of TeamDuel
function s__TeamDuel_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__TeamDuel_V[this]!=-1) then
        return
    endif
    set si__TeamDuel_V[this]=si__TeamDuel_F
    set si__TeamDuel_F=this
endfunction

//Generated method caller for AntiAFK.timeOut
function sc__AntiAFK_timeOut takes nothing returns nothing
    call TriggerEvaluate(st__AntiAFK_timeOut)
endfunction

//Generated method caller for AntiAFK.chooseHost
function sc__AntiAFK_chooseHost takes integer i returns player
        local integer j
        set j=i
        loop
            exitwhen j > 11
            if GetPlayerController(Player(j)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(j)) == PLAYER_SLOT_STATE_PLAYING then
                return Player(j)
            endif
            set j=j + 1
        endloop
        set j=0
        loop
            exitwhen j > 11
            if GetPlayerController(Player(j)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(j)) == PLAYER_SLOT_STATE_PLAYING then
                return Player(j)
            endif
            set j=j + 1
        endloop
        return Player(0)
endfunction

//Generated allocator of AntiAFK
function s__AntiAFK__allocate takes nothing returns integer
 local integer this=si__AntiAFK_F
    if (this!=0) then
        set si__AntiAFK_F=si__AntiAFK_V[this]
    else
        set si__AntiAFK_I=si__AntiAFK_I+1
        set this=si__AntiAFK_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__AntiAFK_V[this]=-1
 return this
endfunction

//Generated destructor of AntiAFK
function s__AntiAFK_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AntiAFK_V[this]!=-1) then
        return
    endif
    set si__AntiAFK_V[this]=si__AntiAFK_F
    set si__AntiAFK_F=this
endfunction

//Generated allocator of HiruzenLevel
function s__HiruzenLevel__allocate takes nothing returns integer
 local integer this=si__HiruzenLevel_F
    if (this!=0) then
        set si__HiruzenLevel_F=si__HiruzenLevel_V[this]
    else
        set si__HiruzenLevel_I=si__HiruzenLevel_I+1
        set this=si__HiruzenLevel_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__HiruzenLevel_V[this]=-1
 return this
endfunction

//Generated destructor of HiruzenLevel
function s__HiruzenLevel_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__HiruzenLevel_V[this]!=-1) then
        return
    endif
    set si__HiruzenLevel_V[this]=si__HiruzenLevel_F
    set si__HiruzenLevel_F=this
endfunction

//Generated method caller for HidanFlyingScythe.actions
function sc__HidanFlyingScythe_actions takes unit caster,unit target returns nothing
    set f__arg_unit1=caster
    set f__arg_unit2=target
    call TriggerEvaluate(st__HidanFlyingScythe_actions)
endfunction

//Generated method caller for HanzoSemi.periodicChains
function sc__HanzoSemi_periodicChains takes nothing returns nothing
    call TriggerEvaluate(st__HanzoSemi_periodicChains)
endfunction

//Generated method caller for HanabiT.start
function sc__HanabiT_start takes integer this returns nothing
    set f__arg_this=this
    call TriggerEvaluate(st__HanabiT_start)
endfunction

//Generated allocator of HanJokiNoyoroi
function s__HanJokiNoyoroi__allocate takes nothing returns integer
 local integer this=si__HanJokiNoyoroi_F
    if (this!=0) then
        set si__HanJokiNoyoroi_F=si__HanJokiNoyoroi_V[this]
    else
        set si__HanJokiNoyoroi_I=si__HanJokiNoyoroi_I+1
        set this=si__HanJokiNoyoroi_I
    endif
    if (this>681) then
        return 0
    endif
    set s__HanJokiNoyoroi_orbs[this]=(this-1)*12
    set si__HanJokiNoyoroi_V[this]=-1
 return this
endfunction

//Generated destructor of HanJokiNoyoroi
function s__HanJokiNoyoroi_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__HanJokiNoyoroi_V[this]!=-1) then
        return
    endif
    set si__HanJokiNoyoroi_V[this]=si__HanJokiNoyoroi_F
    set si__HanJokiNoyoroi_F=this
endfunction

//Generated allocator of GaaraNewQ
function s__GaaraNewQ__allocate takes nothing returns integer
 local integer this=si__GaaraNewQ_F
    if (this!=0) then
        set si__GaaraNewQ_F=si__GaaraNewQ_V[this]
    else
        set si__GaaraNewQ_I=si__GaaraNewQ_I+1
        set this=si__GaaraNewQ_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__GaaraNewQ_V[this]=-1
 return this
endfunction

//Generated destructor of GaaraNewQ
function s__GaaraNewQ_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__GaaraNewQ_V[this]!=-1) then
        return
    endif
    set si__GaaraNewQ_V[this]=si__GaaraNewQ_F
    set si__GaaraNewQ_F=this
endfunction

//Generated allocator of ChiyoChakraThreads
function s__ChiyoChakraThreads__allocate takes nothing returns integer
 local integer this=si__ChiyoChakraThreads_F
    if (this!=0) then
        set si__ChiyoChakraThreads_F=si__ChiyoChakraThreads_V[this]
    else
        set si__ChiyoChakraThreads_I=si__ChiyoChakraThreads_I+1
        set this=si__ChiyoChakraThreads_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__ChiyoChakraThreads_V[this]=-1
 return this
endfunction

//Generated destructor of ChiyoChakraThreads
function s__ChiyoChakraThreads_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ChiyoChakraThreads_V[this]!=-1) then
        return
    endif
    set si__ChiyoChakraThreads_V[this]=si__ChiyoChakraThreads_F
    set si__ChiyoChakraThreads_F=this
endfunction

//Generated allocator of ChiyoFlyingKunais
function s__ChiyoFlyingKunais__allocate takes nothing returns integer
 local integer this=si__ChiyoFlyingKunais_F
    if (this!=0) then
        set si__ChiyoFlyingKunais_F=si__ChiyoFlyingKunais_V[this]
    else
        set si__ChiyoFlyingKunais_I=si__ChiyoFlyingKunais_I+1
        set this=si__ChiyoFlyingKunais_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__ChiyoFlyingKunais_V[this]=-1
 return this
endfunction

//Generated destructor of ChiyoFlyingKunais
function s__ChiyoFlyingKunais_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__ChiyoFlyingKunais_V[this]!=-1) then
        return
    endif
    set si__ChiyoFlyingKunais_V[this]=si__ChiyoFlyingKunais_F
    set si__ChiyoFlyingKunais_F=this
endfunction

//Generated allocator of BorutoRasengan
function s__BorutoRasengan__allocate takes nothing returns integer
 local integer this=si__BorutoRasengan_F
    if (this!=0) then
        set si__BorutoRasengan_F=si__BorutoRasengan_V[this]
    else
        set si__BorutoRasengan_I=si__BorutoRasengan_I+1
        set this=si__BorutoRasengan_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__BorutoRasengan_V[this]=-1
 return this
endfunction

//Generated destructor of BorutoRasengan
function s__BorutoRasengan_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__BorutoRasengan_V[this]!=-1) then
        return
    endif
    set si__BorutoRasengan_V[this]=si__BorutoRasengan_F
    set si__BorutoRasengan_F=this
endfunction

//Generated allocator of BorutoClone
function s__BorutoClone__allocate takes nothing returns integer
 local integer this=si__BorutoClone_F
    if (this!=0) then
        set si__BorutoClone_F=si__BorutoClone_V[this]
    else
        set si__BorutoClone_I=si__BorutoClone_I+1
        set this=si__BorutoClone_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__BorutoClone_V[this]=-1
 return this
endfunction

//Generated destructor of BorutoClone
function s__BorutoClone_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__BorutoClone_V[this]!=-1) then
        return
    endif
    set si__BorutoClone_V[this]=si__BorutoClone_F
    set si__BorutoClone_F=this
endfunction

//Generated allocator of AsumaLevel
function s__AsumaLevel__allocate takes nothing returns integer
 local integer this=si__AsumaLevel_F
    if (this!=0) then
        set si__AsumaLevel_F=si__AsumaLevel_V[this]
    else
        set si__AsumaLevel_I=si__AsumaLevel_I+1
        set this=si__AsumaLevel_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__AsumaLevel_V[this]=-1
 return this
endfunction

//Generated destructor of AsumaLevel
function s__AsumaLevel_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__AsumaLevel_V[this]!=-1) then
        return
    endif
    set si__AsumaLevel_V[this]=si__AsumaLevel_F
    set si__AsumaLevel_F=this
endfunction

//Generated method caller for AkatukiSet.periodic
function sc__AkatukiSet_periodic takes nothing returns nothing
    call TriggerEvaluate(st__AkatukiSet_periodic)
endfunction

//Generated allocator of BlastingSphere
function s__BlastingSphere__allocate takes nothing returns integer
 local integer this=si__BlastingSphere_F
    if (this!=0) then
        set si__BlastingSphere_F=si__BlastingSphere_V[this]
    else
        set si__BlastingSphere_I=si__BlastingSphere_I+1
        set this=si__BlastingSphere_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__BlastingSphere_V[this]=-1
 return this
endfunction

//Generated destructor of BlastingSphere
function s__BlastingSphere_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__BlastingSphere_V[this]!=-1) then
        return
    endif
    set si__BlastingSphere_V[this]=si__BlastingSphere_F
    set si__BlastingSphere_F=this
endfunction

//Generated allocator of NewChain
function s__NewChain__allocate takes nothing returns integer
 local integer this=si__NewChain_F
    if (this!=0) then
        set si__NewChain_F=si__NewChain_V[this]
    else
        set si__NewChain_I=si__NewChain_I+1
        set this=si__NewChain_I
    endif
    if (this>0) then
        return 0
    endif
    set s__NewChain_chains[this]=(this-1)*8190
    set s__NewChain_chains_x[this]=(this-1)*8190
    set s__NewChain_chains_y[this]=(this-1)*8190
    set si__NewChain_V[this]=-1
 return this
endfunction

//Generated destructor of NewChain
function s__NewChain_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__NewChain_V[this]!=-1) then
        return
    endif
    set si__NewChain_V[this]=si__NewChain_F
    set si__NewChain_F=this
endfunction

//Generated method caller for KisameRing.periodic
function sc__KisameRing_periodic takes nothing returns nothing
    call TriggerEvaluate(st__KisameRing_periodic)
endfunction

//Generated allocator of KisameRing
function s__KisameRing__allocate takes nothing returns integer
 local integer this=si__KisameRing_F
    if (this!=0) then
        set si__KisameRing_F=si__KisameRing_V[this]
    else
        set si__KisameRing_I=si__KisameRing_I+1
        set this=si__KisameRing_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__KisameRing_V[this]=-1
 return this
endfunction

//Generated destructor of KisameRing
function s__KisameRing_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__KisameRing_V[this]!=-1) then
        return
    endif
    set si__KisameRing_V[this]=si__KisameRing_F
    set si__KisameRing_F=this
endfunction

//Generated method caller for KyuubiImmolation.periodic
function sc__KyuubiImmolation_periodic takes nothing returns nothing
    call TriggerEvaluate(st__KyuubiImmolation_periodic)
endfunction

//Generated allocator of KyuubiImmolation
function s__KyuubiImmolation__allocate takes nothing returns integer
 local integer this=si__KyuubiImmolation_F
    if (this!=0) then
        set si__KyuubiImmolation_F=si__KyuubiImmolation_V[this]
    else
        set si__KyuubiImmolation_I=si__KyuubiImmolation_I+1
        set this=si__KyuubiImmolation_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__KyuubiImmolation_V[this]=-1
 return this
endfunction

//Generated destructor of KyuubiImmolation
function s__KyuubiImmolation_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__KyuubiImmolation_V[this]!=-1) then
        return
    endif
    set si__KyuubiImmolation_V[this]=si__KyuubiImmolation_F
    set si__KyuubiImmolation_F=this
endfunction

//Generated allocator of MedicalNinjaCloth
function s__MedicalNinjaCloth__allocate takes nothing returns integer
 local integer this=si__MedicalNinjaCloth_F
    if (this!=0) then
        set si__MedicalNinjaCloth_F=si__MedicalNinjaCloth_V[this]
    else
        set si__MedicalNinjaCloth_I=si__MedicalNinjaCloth_I+1
        set this=si__MedicalNinjaCloth_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__MedicalNinjaCloth_V[this]=-1
 return this
endfunction

//Generated destructor of MedicalNinjaCloth
function s__MedicalNinjaCloth_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__MedicalNinjaCloth_V[this]!=-1) then
        return
    endif
    set si__MedicalNinjaCloth_V[this]=si__MedicalNinjaCloth_F
    set si__MedicalNinjaCloth_F=this
endfunction

//Generated allocator of Recipes
function s__Recipes__allocate takes nothing returns integer
 local integer this=si__Recipes_F
    if (this!=0) then
        set si__Recipes_F=si__Recipes_V[this]
    else
        set si__Recipes_I=si__Recipes_I+1
        set this=si__Recipes_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__Recipes_V[this]=-1
 return this
endfunction

//Generated destructor of Recipes
function s__Recipes_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Recipes_V[this]!=-1) then
        return
    endif
    set si__Recipes_V[this]=si__Recipes_F
    set si__Recipes_F=this
endfunction

//Generated allocator of HealthAboveHero
function s__HealthAboveHero__allocate takes nothing returns integer
 local integer this=si__HealthAboveHero_F
    if (this!=0) then
        set si__HealthAboveHero_F=si__HealthAboveHero_V[this]
    else
        set si__HealthAboveHero_I=si__HealthAboveHero_I+1
        set this=si__HealthAboveHero_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__HealthAboveHero_V[this]=-1
 return this
endfunction

//Generated destructor of HealthAboveHero
function s__HealthAboveHero_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__HealthAboveHero_V[this]!=-1) then
        return
    endif
    set si__HealthAboveHero_V[this]=si__HealthAboveHero_F
    set si__HealthAboveHero_F=this
endfunction

//Generated allocator of HideHeroesSystem___UnitDummy
function s__HideHeroesSystem___UnitDummy__allocate takes nothing returns integer
 local integer this=si__HideHeroesSystem___UnitDummy_F
    if (this!=0) then
        set si__HideHeroesSystem___UnitDummy_F=si__HideHeroesSystem___UnitDummy_V[this]
    else
        set si__HideHeroesSystem___UnitDummy_I=si__HideHeroesSystem___UnitDummy_I+1
        set this=si__HideHeroesSystem___UnitDummy_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__HideHeroesSystem___UnitDummy_V[this]=-1
 return this
endfunction

//Generated destructor of HideHeroesSystem___UnitDummy
function s__HideHeroesSystem___UnitDummy_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__HideHeroesSystem___UnitDummy_V[this]!=-1) then
        return
    endif
    set si__HideHeroesSystem___UnitDummy_V[this]=si__HideHeroesSystem___UnitDummy_F
    set si__HideHeroesSystem___UnitDummy_F=this
endfunction

//Generated allocator of Recipe
function s__Recipe__allocate takes nothing returns integer
 local integer this=si__Recipe_F
    if (this!=0) then
        set si__Recipe_F=si__Recipe_V[this]
    else
        set si__Recipe_I=si__Recipe_I+1
        set this=si__Recipe_I
    endif
    if (this>162) then
        return 0
    endif
    set s__Recipe_trees[this]=(this-1)*50
    set si__Recipe_V[this]=-1
 return this
endfunction

//Generated destructor of Recipe
function s__Recipe_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Recipe_V[this]!=-1) then
        return
    endif
    set si__Recipe_V[this]=si__Recipe_F
    set si__Recipe_F=this
endfunction

//Generated allocator of Tree
function s__Tree__allocate takes nothing returns integer
 local integer this=si__Tree_F
    if (this!=0) then
        set si__Tree_F=si__Tree_V[this]
    else
        set si__Tree_I=si__Tree_I+1
        set this=si__Tree_I
    endif
    if (this>818) then
        return 0
    endif
    set s__Tree_requirements[this]=(this-1)*10
    set si__Tree_V[this]=-1
 return this
endfunction

//Generated destructor of Tree
function s__Tree_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Tree_V[this]!=-1) then
        return
    endif
    set si__Tree_V[this]=si__Tree_F
    set si__Tree_F=this
endfunction

//Generated allocator of UnitUtils___ReleaseDummy
function s__UnitUtils___ReleaseDummy__allocate takes nothing returns integer
 local integer this=si__UnitUtils___ReleaseDummy_F
    if (this!=0) then
        set si__UnitUtils___ReleaseDummy_F=si__UnitUtils___ReleaseDummy_V[this]
    else
        set si__UnitUtils___ReleaseDummy_I=si__UnitUtils___ReleaseDummy_I+1
        set this=si__UnitUtils___ReleaseDummy_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__UnitUtils___ReleaseDummy_V[this]=-1
 return this
endfunction

//Generated destructor of UnitUtils___ReleaseDummy
function s__UnitUtils___ReleaseDummy_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__UnitUtils___ReleaseDummy_V[this]!=-1) then
        return
    endif
    set si__UnitUtils___ReleaseDummy_V[this]=si__UnitUtils___ReleaseDummy_F
    set si__UnitUtils___ReleaseDummy_F=this
endfunction

//Generated allocator of EffectUtils___EffectTimer
function s__EffectUtils___EffectTimer__allocate takes nothing returns integer
 local integer this=si__EffectUtils___EffectTimer_F
    if (this!=0) then
        set si__EffectUtils___EffectTimer_F=si__EffectUtils___EffectTimer_V[this]
    else
        set si__EffectUtils___EffectTimer_I=si__EffectUtils___EffectTimer_I+1
        set this=si__EffectUtils___EffectTimer_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__EffectUtils___EffectTimer_V[this]=-1
 return this
endfunction

//Generated destructor of EffectUtils___EffectTimer
function s__EffectUtils___EffectTimer_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__EffectUtils___EffectTimer_V[this]!=-1) then
        return
    endif
    set si__EffectUtils___EffectTimer_V[this]=si__EffectUtils___EffectTimer_F
    set si__EffectUtils___EffectTimer_F=this
endfunction

//Generated method caller for UnitDex.Remove
function sc__UnitDex_Remove takes unit u,boolean runEvents returns boolean
    set f__arg_unit1=u
    set f__arg_boolean1=runEvents
    call TriggerEvaluate(st__UnitDex_Remove)
 return f__result_boolean
endfunction

//Generated allocator of Lightning
function s__Lightning__allocate takes nothing returns integer
 local integer this=si__Lightning_F
    if (this!=0) then
        set si__Lightning_F=si__Lightning_V[this]
    else
        set si__Lightning_I=si__Lightning_I+1
        set this=si__Lightning_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__Lightning_V[this]=-1
 return this
endfunction

//Generated destructor of Lightning
function s__Lightning_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Lightning_V[this]!=-1) then
        return
    endif
    set si__Lightning_V[this]=si__Lightning_F
    set si__Lightning_F=this
endfunction

//Generated allocator of Dialog
function s__Dialog__allocate takes nothing returns integer
 local integer this=si__Dialog_F
    if (this!=0) then
        set si__Dialog_F=si__Dialog_V[this]
    else
        set si__Dialog_I=si__Dialog_I+1
        set this=si__Dialog_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__Dialog_V[this]=-1
 return this
endfunction

//Generated destructor of Dialog
function s__Dialog_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Dialog_V[this]!=-1) then
        return
    endif
    set si__Dialog_V[this]=si__Dialog_F
    set si__Dialog_F=this
endfunction

//Generated allocator of Camera___CamInit
function s__Camera___CamInit__allocate takes nothing returns integer
 local integer this=si__Camera___CamInit_F
    if (this!=0) then
        set si__Camera___CamInit_F=si__Camera___CamInit_V[this]
    else
        set si__Camera___CamInit_I=si__Camera___CamInit_I+1
        set this=si__Camera___CamInit_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__Camera___CamInit_V[this]=-1
 return this
endfunction

//Generated destructor of Camera___CamInit
function s__Camera___CamInit_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Camera___CamInit_V[this]!=-1) then
        return
    endif
    set si__Camera___CamInit_V[this]=si__Camera___CamInit_F
    set si__Camera___CamInit_F=this
endfunction

//Generated allocator of Camera
function s__Camera__allocate takes nothing returns integer
 local integer this=si__Camera_F
    if (this!=0) then
        set si__Camera_F=si__Camera_V[this]
    else
        set si__Camera_I=si__Camera_I+1
        set this=si__Camera_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__Camera_V[this]=-1
 return this
endfunction

//Generated destructor of Camera
function s__Camera_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__Camera_V[this]!=-1) then
        return
    endif
    set si__Camera_V[this]=si__Camera_F
    set si__Camera_F=this
endfunction

//Generated allocator of MATRIX4
function s__MATRIX4__allocate takes nothing returns integer
 local integer this=si__MATRIX4_F
    if (this!=0) then
        set si__MATRIX4_F=si__MATRIX4_V[this]
    else
        set si__MATRIX4_I=si__MATRIX4_I+1
        set this=si__MATRIX4_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__MATRIX4_V[this]=-1
 return this
endfunction

//Generated destructor of MATRIX4
function s__MATRIX4_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__MATRIX4_V[this]!=-1) then
        return
    endif
    set si__MATRIX4_V[this]=si__MATRIX4_F
    set si__MATRIX4_F=this
endfunction

//Generated allocator of MATRIX3
function s__MATRIX3__allocate takes nothing returns integer
 local integer this=si__MATRIX3_F
    if (this!=0) then
        set si__MATRIX3_F=si__MATRIX3_V[this]
    else
        set si__MATRIX3_I=si__MATRIX3_I+1
        set this=si__MATRIX3_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__MATRIX3_V[this]=-1
 return this
endfunction

//Generated destructor of MATRIX3
function s__MATRIX3_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__MATRIX3_V[this]!=-1) then
        return
    endif
    set si__MATRIX3_V[this]=si__MATRIX3_F
    set si__MATRIX3_F=this
endfunction

//Generated allocator of VECTOR3
function s__VECTOR3__allocate takes nothing returns integer
 local integer this=si__VECTOR3_F
    if (this!=0) then
        set si__VECTOR3_F=si__VECTOR3_V[this]
    else
        set si__VECTOR3_I=si__VECTOR3_I+1
        set this=si__VECTOR3_I
    endif
    if (this>8190) then
        return 0
    endif

    set si__VECTOR3_V[this]=-1
 return this
endfunction

//Generated destructor of VECTOR3
function s__VECTOR3_deallocate takes integer this returns nothing
    if this==null then
        return
    elseif (si__VECTOR3_V[this]!=-1) then
        return
    endif
    set si__VECTOR3_V[this]=si__VECTOR3_F
    set si__VECTOR3_F=this
endfunction
function sc___prototype5_execute takes integer i returns nothing

    call TriggerExecute(st___prototype5[i])
endfunction
function sc___prototype5_evaluate takes integer i returns nothing

    call TriggerEvaluate(st___prototype5[i])

endfunction
function sc___prototype73_execute takes integer i,unit a1,real a2,real a3,real a4 returns nothing
    set f__arg_unit1=a1
    set f__arg_real1=a2
    set f__arg_real2=a3
    set f__arg_real3=a4

    call TriggerExecute(st___prototype73[i])
endfunction
function sc___prototype73_evaluate takes integer i,unit a1,real a2,real a3,real a4 returns nothing
    set f__arg_unit1=a1
    set f__arg_real1=a2
    set f__arg_real2=a3
    set f__arg_real3=a4

    call TriggerEvaluate(st___prototype73[i])

endfunction
function sc___prototype85_execute takes integer i,unit a1,real a2,real a3,real a4,real a5 returns nothing
    set f__arg_unit1=a1
    set f__arg_real1=a2
    set f__arg_real2=a3
    set f__arg_real3=a4
    set f__arg_real4=a5

    call TriggerExecute(st___prototype85[i])
endfunction
function sc___prototype85_evaluate takes integer i,unit a1,real a2,real a3,real a4,real a5 returns nothing
    set f__arg_unit1=a1
    set f__arg_real1=a2
    set f__arg_real2=a3
    set f__arg_real3=a4
    set f__arg_real4=a5

    call TriggerEvaluate(st___prototype85[i])

endfunction
function h__SetUnitScalePercent takes unit a0, real a1, real a2, real a3 returns nothing
    //hook: SetUnitScalePercentEx
    call sc___prototype73_evaluate(1,a0,a1,a2,a3)
call SetUnitScalePercent(a0,a1,a2,a3)
endfunction
function h__SetUnitVertexColorBJ takes unit a0, real a1, real a2, real a3, real a4 returns nothing
    //hook: SetUnitVertexColorBJEx
    call sc___prototype85_evaluate(1,a0,a1,a2,a3,a4)
call SetUnitVertexColorBJ(a0,a1,a2,a3,a4)
endfunction

//library Alloc:

//library Alloc ends
//library ArrowKeyEvent:
    //=======================================================================
    //
    // System Code
    //
    //=======================================================================


    //=======================================================================
    // Ugly modules are needed to prevent initialization bugs.
    //

    //=======================================================================
    // A central struct to handle all ArrowKey mechanics. This has its uses,
    // giving you slightly more control over the inner system functionality.
    //

        //-------------------------------------------------------------------
        // Event responses
        //

        //Run if library ArrowKey is found in the map.
//ignored textmacro command: ARROW_KEY_DECLARE_ARRAYS()

        //-------------------------------------------------------------------
        // System variables
        //

        //===================================================================
        // User-friendly typecasting.
        //
        function s__ArrowKey__staticgetindex takes player who returns integer
            return GetPlayerId(who)
        endfunction

        //===================================================================
        // Great for simplifying arrow key events - this function runs when
        // any player presses or releases an arrow key. The code passed is
        // expected to "return false".
        //
        function s__ArrowKey_registerEvent takes code onEvent returns nothing
            call TriggerAddCondition(s__ArrowKey_trig, Filter(onEvent))
            return
        endfunction

        //===================================================================
        // Returns true if the key is pressed, false if it is released.
        //
        function s__ArrowKey_isPressed takes integer this,integer arrow returns boolean
            return s__ArrowKey_press[this + arrow * bj_MAX_PLAYER_SLOTS]
        endfunction

        //Run if library ArrowKey is found in the map.
//ignored textmacro command: ARROW_KEY_AXIS_METHODS()

        //===================================================================
        // If you are running debug tests, this might come in handy.
        //















        //===================================================================
        //
        // Private Components
        //
        //===================================================================

        //===================================================================
        // Key event handler.
        //
        function s__ArrowKey_actions takes nothing returns nothing
            local integer id= GetHandleId(GetTriggerEventId()) - 261
            set s__ArrowKey_eventPlayerId=GetPlayerId(GetTriggerPlayer())

            //If id is an even number, the key was pressed.
            set s__ArrowKey_eventKey=id / 2
            set s__ArrowKey_eventKeyPressed=s__ArrowKey_eventKey * 2 == id
            set s__ArrowKey_press[s__ArrowKey_eventPlayerId + s__ArrowKey_eventKey * bj_MAX_PLAYER_SLOTS]=s__ArrowKey_eventKeyPressed

            //Run if library ArrowKey is found in the map.
//ignored textmacro command: ARROW_KEY_SETUP()
        endfunction

        //Run if library ArrowKey is found in the map.
//ignored textmacro command: INIT_ARROW_KEY_LINK()

        //Initialize the system via module
//Implemented from module ArrowKeyEvent___Init:
        function s__ArrowKey_ArrowKeyEvent___Init__onInit takes nothing returns nothing
            local player p
            local integer i= bj_MAX_PLAYER_SLOTS
            local trigger t= s__ArrowKey_trig
            loop
                set i=i - 1
                set p=Player(i)
                if GetPlayerSlotState(p) == PLAYER_SLOT_STATE_PLAYING and GetPlayerController(p) == MAP_CONTROL_USER then

                    //Register arrow key events for playing players
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_LEFT_DOWN)
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_LEFT_UP)
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_RIGHT_DOWN)
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_RIGHT_UP)
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_DOWN_DOWN)
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_DOWN_UP)
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_UP_DOWN)
                    call TriggerRegisterPlayerEvent(t, p, EVENT_PLAYER_ARROW_UP_UP)

                    //Run if library ArrowKey is found in the map.
//ignored textmacro command: INIT_ARROW_KEY_AA()
                endif
                exitwhen i == 0
            endloop

            //Run if library ArrowKey is found in the map.
//ignored textmacro command: INIT_ARROW_KEY_CALL_LINK()

            call s__ArrowKey_registerEvent(function s__ArrowKey_actions)
            set p=null
            set t=null
        endfunction


    //=======================================================================
    //
    // Event Responses
    //
    //=======================================================================

    //=======================================================================
    function IsArrowKeyPressed takes player whichPlayer,integer arrowKey returns boolean
        return (s__ArrowKey_press[((GetPlayerId((whichPlayer)))) + (arrowKey) * bj_MAX_PLAYER_SLOTS]) // INLINED!!
    endfunction

    //=======================================================================
    function RegisterArrowKeyEvent takes code onEvent returns nothing
        call s__ArrowKey_registerEvent(onEvent)
    endfunction

    //=======================================================================
    function GetEventArrowKeyPlayerId takes nothing returns integer
        return s__ArrowKey_eventPlayerId
    endfunction

    //=======================================================================
    function GetEventArrowKey takes nothing returns integer
        return s__ArrowKey_eventKey
    endfunction

    //=======================================================================
    function IsEventArrowKeyPressed takes nothing returns boolean
        return s__ArrowKey_eventKeyPressed
    endfunction

    //=======================================================================
    // Implementation of this module allows you to make your struct "extend"
    // the ArrowKey struct. As a bonus feature, you can create a method named
    // "onArrowKeyEvent" that is called whenever a key is pressed or released.
    // The method needs "takes integer arrow, boolean pressed", and must be
    // positioned *above* the "implement ArrowKey" statement (this way it is
    // detected by the static if and doesn't compile to a function interface).
    //


//library ArrowKeyEvent ends
//library BoundSentinel:
//*************************************************
//* BoundSentinel
//* -------------
//*  Don't leave your units unsupervised, naughty
//* them may try to get out of the map bounds and
//* crash your game.
//*
//*  To implement, just get a vJass compiler and
//* copy this library/trigger to your map.
//*
//*************************************************

//==================================================

   //=========================================================================================

   //=======================================================================
   function BoundSentinel___dis takes nothing returns boolean
    local unit u=GetTriggerUnit()
    local real x=GetUnitX(u)
    local real y=GetUnitY(u)

       if ( x > BoundSentinel___maxx ) then
           set x=BoundSentinel___maxx
       elseif ( x < BoundSentinel___minx ) then
           set x=BoundSentinel___minx
       endif
       if ( y > BoundSentinel___maxy ) then
           set y=BoundSentinel___maxy
       elseif ( y < BoundSentinel___miny ) then
           set y=BoundSentinel___miny
       endif
       call SetUnitX(u, x)
       call SetUnitY(u, y)
    set u=null
    return false
   endfunction

   function BoundSentinel___init takes nothing returns nothing
    local trigger t= CreateTrigger()
    local region r= CreateRegion()
    local rect map
    local rect rc

       if BoundSentinel___ALLOW_OUTSIDE_PLAYABLE_MAP_AREA then
          set map=GetWorldBounds()
       else
          set map=bj_mapInitialPlayableArea
       endif

       set BoundSentinel___minx=GetRectMinX(map)
       set BoundSentinel___miny=GetRectMinY(map)
       set BoundSentinel___maxx=GetRectMaxX(map)
       set BoundSentinel___maxy=GetRectMaxY(map)
       set rc=Rect(BoundSentinel___minx, BoundSentinel___miny, BoundSentinel___maxx, BoundSentinel___maxy)
       call RegionAddRect(r, rc)
       call RemoveRect(rc)
       if BoundSentinel___ALLOW_OUTSIDE_PLAYABLE_MAP_AREA then
          call RemoveRect(map)
       endif

       call TriggerRegisterLeaveRegion(t, r, null)
       call TriggerAddCondition(t, Condition(function BoundSentinel___dis))

    set rc=null
    set map=null
   endfunction

//library BoundSentinel ends
//library Event:
//2.0.0.1
/////////////////////////////////////////////////////////////////////////
    //function CreateEvent takes nothing returns integer
    //function TriggerRegisterEvent takes trigger t, integer ev returns nothing
    //function RegisterEvent takes boolexpr c, integer ev returns nothing
    //function FireEvent takes integer ev returns nothing
    
    //struct Event extends array
        //static method create takes nothing returns thistype
        //method registerTrigger takes trigger t returns nothing
        //method register takes boolexpr c returns nothing
        //method fire takes nothing returns nothing
/////////////////////////////////////////////////////////////////////////
        function s__Event_create takes nothing returns integer
            set s__Event_w=s__Event_w + 1
            set s__Event_e[s__Event_w]=CreateTrigger()
            return s__Event_w
        endfunction
        function s__Event_registerTrigger takes integer this,trigger t returns nothing
            call TriggerRegisterVariableEvent(t, "Event___q", EQUAL, this)
        endfunction
        function s__Event_register takes integer this,boolexpr c returns nothing
            call TriggerAddCondition(s__Event_e[this], c)
        endfunction
        function s__Event_fire takes integer this returns nothing
            set Event___q=0
            set Event___q=this
            call TriggerEvaluate(s__Event_e[this])
        endfunction
    function CreateEvent takes nothing returns integer
        return s__Event_create()
    endfunction
    function TriggerRegisterEvent takes trigger t,integer ev returns nothing
        call s__Event_registerTrigger(ev,t)
    endfunction
    function RegisterEvent takes boolexpr c,integer ev returns nothing
        call TriggerAddCondition(s__Event_e[(ev)], (c)) // INLINED!!
    endfunction
    function FireEvent takes integer ev returns nothing
        call s__Event_fire(ev)
    endfunction

//library Event ends
//library GetZ:
 
 
    function GetPointZ takes real x,real y returns real
        call MoveLocation(GetZ___loc, x, y)
        return GetLocationZ(GetZ___loc)
    endfunction
 
    function GetUnitZ takes unit u returns real
        call MoveLocation(GetZ___loc, GetUnitX(u), GetUnitY(u))
        return GetLocationZ(GetZ___loc) + GetUnitFlyHeight(u)
    endfunction
 

//library GetZ ends
//library ItemTable:

    
    function ItemTable___init takes nothing returns nothing
    endfunction
    

//library ItemTable ends
//library ItemUtils:

function UnitHasItemEx takes unit whichUnit,integer whichItem returns boolean
    return UnitHasItemOfTypeBJ(whichUnit, whichItem)
endfunction

function UnitRemoveItemEx takes unit whichUnit,integer whichItem returns nothing
    call RemoveItem(GetItemOfTypeFromUnitBJ(whichUnit, whichItem))
endfunction

function UnitAddItemEx takes unit whichUnit,integer whichItem returns nothing
    call UnitAddItemByIdSwapped(whichItem, whichUnit)
endfunction


//library ItemUtils ends
//library PlayerUtils:




     
       

   




   
        // similar to Player(#)
        function s__User_fromIndex takes integer i returns integer
            return (i)
        endfunction
   
        // similar to GetLocalPlayer
        function s__User_fromLocal takes nothing returns integer
            return (s__User_LocalId)
        endfunction
   
        // access active players array
        function s__User_fromPlaying takes integer index returns integer
            return s__User_PlayingPlayer[index]
        endfunction
   
        function s__User__staticgetindex takes player p returns integer
            return (GetPlayerId(p))
        endfunction
   
        function s__User_toPlayer takes integer this returns player
            return s__User_handle[this]
        endfunction
     
        function s__User__get_name takes integer this returns string



                return GetPlayerName(s__User_handle[this])

        endfunction
   
        function s__User__set_name takes integer this,string newName returns nothing
            call SetPlayerName(s__User_handle[this], newName)





        endfunction
   
        function s__User__get_color takes integer this returns playercolor



                return GetPlayerColor(s__User_handle[this])

        endfunction
   
        function s__User__get_hex takes integer this returns string
            return PlayerUtils___OriginalHex[GetHandleId((GetPlayerColor(s__User_handle[(this)])))] // INLINED!!
        endfunction
   
        function s__User__set_color takes integer this,playercolor c returns nothing
            call SetPlayerColor(s__User_handle[this], c)
       








        endfunction
   
        function s__User__get_defaultColor takes integer this returns playercolor
            return s__User_Color[this]
        endfunction
   
        function s__User__get_nameColored takes integer this returns string
            return (PlayerUtils___OriginalHex[GetHandleId((GetPlayerColor(s__User_handle[((this))])))]) + (GetPlayerName(s__User_handle[(this)])) + "|r" // INLINED!!
        endfunction
   
        function s__User_colorUnits takes integer this,playercolor c returns nothing
            local unit u
       
            call GroupEnumUnitsOfPlayer(s__User_ENUM_GROUP, s__User_handle[this], null)
       
            loop
                set u=FirstOfGroup(s__User_ENUM_GROUP)
                exitwhen u == null
                call SetUnitColor(u, c)
                call GroupRemoveUnit(s__User_ENUM_GROUP, u)
            endloop
        endfunction
   
        function s__User_onLeave takes nothing returns boolean
            local integer p= (GetPlayerId((GetTriggerPlayer()))) // INLINED!!
            local integer i= s__User_PlayingPlayerIndex[s__User_id[p]]
       
            // clean up
            call ForceRemovePlayer(FORCE_PLAYING, (s__User_handle[(p)])) // INLINED!!
       
            // recycle index
            set s__User_AmountPlaying=s__User_AmountPlaying - 1
            set s__User_PlayingPlayerIndex[i]=s__User_PlayingPlayerIndex[s__User_AmountPlaying]
            set s__User_PlayingPlayer[i]=s__User_PlayingPlayer[s__User_AmountPlaying]
           
            if ( s__User_AmountPlaying == 1 ) then
                set s__User_next[s__User_prev[p]]=s__User_NULL
                set s__User_prev[s__User_next[p]]=s__User_NULL
            else
                set s__User_next[s__User_prev[p]]=s__User_next[p]
                set s__User_prev[s__User_next[p]]=s__User_prev[p]
            endif

            set s__User_last=s__User_PlayingPlayer[s__User_AmountPlaying]
           
            set s__User_isPlaying[p]=false
       
            return false
        endfunction
   
//Implemented from module PlayerUtils___PlayerUtilsInit:
        function s__User_PlayerUtils___PlayerUtilsInit__onInit takes nothing returns nothing
            local trigger t= CreateTrigger()
            local integer i= 0
            local integer p
       
            set s__User_Local=GetLocalPlayer()
            set s__User_LocalId=GetPlayerId(s__User_Local)
       
            set PlayerUtils___OriginalHex[0]="|cffff0303"
            set PlayerUtils___OriginalHex[1]="|cff0042ff"
            set PlayerUtils___OriginalHex[2]="|cff1ce6b9"
            set PlayerUtils___OriginalHex[3]="|cff540081"
            set PlayerUtils___OriginalHex[4]="|cfffffc01"
            set PlayerUtils___OriginalHex[5]="|cfffe8a0e"
            set PlayerUtils___OriginalHex[6]="|cff20c000"
            set PlayerUtils___OriginalHex[7]="|cffe55bb0"
            set PlayerUtils___OriginalHex[8]="|cff959697"
            set PlayerUtils___OriginalHex[9]="|cff7ebff1"
            set PlayerUtils___OriginalHex[10]="|cff106246"
            set PlayerUtils___OriginalHex[11]="|cff4e2a04"
         
            set s__User_first=s__User_NULL

            loop
                exitwhen i == 12

                set p=(i)
                set s__User_handle[p]=Player(i)
                set s__User_id[p]=i
           
                set s__User_Color[i]=GetPlayerColor(s__User_handle[p])
                set PlayerUtils___CurrentColor[i]=s__User_Color[i]
             
                if ( GetPlayerController(s__User_handle[p]) == MAP_CONTROL_USER and GetPlayerSlotState(s__User_handle[p]) == PLAYER_SLOT_STATE_PLAYING ) then

                    set s__User_PlayingPlayer[s__User_AmountPlaying]=p
                    set s__User_PlayingPlayerIndex[i]=s__User_AmountPlaying
                   
                   set s__User_last=i
                   
                    if ( s__User_first == s__User_NULL ) then
                        set s__User_first=i
                        set s__User_next[(i)]=s__User_NULL
                        set s__User_prev[(i)]=s__User_NULL
                    else
                        set s__User_prev[(i)]=s__User_id[s__User_PlayingPlayer[s__User_AmountPlaying - 1]]
                        set s__User_next[s__User_PlayingPlayer[s__User_AmountPlaying - 1]]=(i)
                        set s__User_next[(i)]=s__User_NULL
                    endif

                    set s__User_isPlaying[p]=true
               
                    call TriggerRegisterPlayerEvent(t, s__User_handle[p], EVENT_PLAYER_LEAVE)
                    call ForceAddPlayer(FORCE_PLAYING, s__User_handle[p])
               
                    set PlayerUtils___Hex[p]=PlayerUtils___OriginalHex[GetHandleId(s__User_Color[i])]
               
                    set s__User_AmountPlaying=s__User_AmountPlaying + 1

                endif
           
                set PlayerUtils___Name[p]=GetPlayerName(s__User_handle[p])
                set s__User_originalName[p]=PlayerUtils___Name[p]
           
                set i=i + 1
            endloop
       
            call TriggerAddCondition(t, Filter(function s__User_onLeave))
        endfunction
   


    //===========================================================================

























//library PlayerUtils ends
//library PowerupSentinel:

        function PowerupSentinel___anon__0 takes nothing returns boolean
            if ( GetWidgetLife(GetManipulatedItem()) == 0 ) then
                call RemoveItem(GetManipulatedItem())
            endif
            return false
        endfunction
    function PowerupSentinel___onInit takes nothing returns nothing
        local trigger t=CreateTrigger()
        call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DROP_ITEM)
        call TriggerAddCondition(t, Condition(function PowerupSentinel___anon__0))
    endfunction

//library PowerupSentinel ends
//library PreventSave:
//====================================
//  by TriggerHappy
//====================================
//
//  This library allows you to enable or disable game saving. 
//  It works by showing a dialog instantly before a game is saved which interrupts it.
//  It does nothing visually to the game that I've noticed.
//
//  You can toggle saving for a specific player with the PreventSave function.
//  Example:
//      call PreventSave(Player(0), true) - disables saving for player 0
//
//  You also can toggle for everybody by setting
//  GameAllowSave to true, or false.
//
//====================================
// Import Instructions
//====================================
//
//  Decide whether you want GUI or vJASS, then copy the triggers or script over to your map.
//  This script requires JassHelper which is included in JassNewGenPack.
//
//====================================
    
    
//====================================
// Do not edit below this line
//====================================
    
    
    function PreventSave takes player p,boolean flag returns nothing
        if ( p == PreventSave___localplayer ) then
            set GameAllowSave=not flag
        endif
    endfunction
    
    function PreventSave___Exit takes nothing returns nothing
        call DialogDisplay(PreventSave___localplayer, PreventSave___Dialog, false)
    endfunction
    
    function PreventSave___StopSave takes nothing returns boolean
        if not GameAllowSave then
            call DialogDisplay(PreventSave___localplayer, PreventSave___Dialog, true)
        endif
        call TimerStart(PreventSave___Timer, 0.00, false, function PreventSave___Exit)
        return false
    endfunction
    
    function PreventSave___onInit takes nothing returns nothing
        local trigger t= CreateTrigger()
        set PreventSave___localplayer=GetLocalPlayer()
        
        call TriggerRegisterGameEvent(t, EVENT_GAME_SAVE)
        call TriggerAddCondition(t, Condition(function PreventSave___StopSave))
    endfunction


//library PreventSave ends
//library Table:
    
    
    function s__Table___dex__get_size takes nothing returns integer
        return Table___sizeK
    endfunction
    function s__Table___dex__get_list takes nothing returns integer
        return Table___listK
    endfunction
    
    function s__Table___handles_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___handles_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
    
    function s__Table___agents__setindex takes integer this,integer key,agent value returns nothing
        call SaveAgentHandle(Table___ht, this, key, value)
    endfunction
    
    
    
//Run these textmacros to include the entire hashtable API as wrappers.
//Don't be intimidated by the number of macros - Vexorian's map optimizer is
//supposed to kill functions which inline (all of these functions inline).
//textmacro instance: NEW_ARRAY_BASIC("Real", "Real", "real")
    function s__Table___reals__getindex takes integer this,integer key returns real
        return LoadReal(Table___ht, this, key)
    endfunction
    function s__Table___reals__setindex takes integer this,integer key,real value returns nothing
        call SaveReal(Table___ht, this, key, value)
    endfunction
    function s__Table___reals_has takes integer this,integer key returns boolean
        return HaveSavedReal(Table___ht, this, key)
    endfunction
    function s__Table___reals_remove takes integer this,integer key returns nothing
        call RemoveSavedReal(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Real", "Real", "real")
//textmacro instance: NEW_ARRAY_BASIC("Boolean", "Boolean", "boolean")
    function s__Table___booleans__getindex takes integer this,integer key returns boolean
        return LoadBoolean(Table___ht, this, key)
    endfunction
    function s__Table___booleans__setindex takes integer this,integer key,boolean value returns nothing
        call SaveBoolean(Table___ht, this, key, value)
    endfunction
    function s__Table___booleans_has takes integer this,integer key returns boolean
        return HaveSavedBoolean(Table___ht, this, key)
    endfunction
    function s__Table___booleans_remove takes integer this,integer key returns nothing
        call RemoveSavedBoolean(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Boolean", "Boolean", "boolean")
//textmacro instance: NEW_ARRAY_BASIC("String", "Str", "string")
    function s__Table___strings__getindex takes integer this,integer key returns string
        return LoadStr(Table___ht, this, key)
    endfunction
    function s__Table___strings__setindex takes integer this,integer key,string value returns nothing
        call SaveStr(Table___ht, this, key, value)
    endfunction
    function s__Table___strings_has takes integer this,integer key returns boolean
        return HaveSavedString(Table___ht, this, key)
    endfunction
    function s__Table___strings_remove takes integer this,integer key returns nothing
        call RemoveSavedString(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("String", "Str", "string")
//New textmacro to allow table.integer[] syntax for compatibility with textmacros that might desire it.
//textmacro instance: NEW_ARRAY_BASIC("Integer", "Integer", "integer")
    function s__Table___integers__getindex takes integer this,integer key returns integer
        return LoadInteger(Table___ht, this, key)
    endfunction
    function s__Table___integers__setindex takes integer this,integer key,integer value returns nothing
        call SaveInteger(Table___ht, this, key, value)
    endfunction
    function s__Table___integers_has takes integer this,integer key returns boolean
        return HaveSavedInteger(Table___ht, this, key)
    endfunction
    function s__Table___integers_remove takes integer this,integer key returns nothing
        call RemoveSavedInteger(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY_BASIC("Integer", "Integer", "integer")
    
//textmacro instance: NEW_ARRAY("Player", "player")
    function s__Table___players__getindex takes integer this,integer key returns player
        return LoadPlayerHandle(Table___ht, this, key)
    endfunction
    function s__Table___players__setindex takes integer this,integer key,player value returns nothing
        call SavePlayerHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___players_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___players_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Player", "player")
//textmacro instance: NEW_ARRAY("Widget", "widget")
    function s__Table___widgets__getindex takes integer this,integer key returns widget
        return LoadWidgetHandle(Table___ht, this, key)
    endfunction
    function s__Table___widgets__setindex takes integer this,integer key,widget value returns nothing
        call SaveWidgetHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___widgets_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___widgets_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Widget", "widget")
//textmacro instance: NEW_ARRAY("Destructable", "destructable")
    function s__Table___destructables__getindex takes integer this,integer key returns destructable
        return LoadDestructableHandle(Table___ht, this, key)
    endfunction
    function s__Table___destructables__setindex takes integer this,integer key,destructable value returns nothing
        call SaveDestructableHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___destructables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___destructables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Destructable", "destructable")
//textmacro instance: NEW_ARRAY("Item", "item")
    function s__Table___items__getindex takes integer this,integer key returns item
        return LoadItemHandle(Table___ht, this, key)
    endfunction
    function s__Table___items__setindex takes integer this,integer key,item value returns nothing
        call SaveItemHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___items_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___items_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Item", "item")
//textmacro instance: NEW_ARRAY("Unit", "unit")
    function s__Table___units__getindex takes integer this,integer key returns unit
        return LoadUnitHandle(Table___ht, this, key)
    endfunction
    function s__Table___units__setindex takes integer this,integer key,unit value returns nothing
        call SaveUnitHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___units_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___units_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Unit", "unit")
//textmacro instance: NEW_ARRAY("Ability", "ability")
    function s__Table___abilitys__getindex takes integer this,integer key returns ability
        return LoadAbilityHandle(Table___ht, this, key)
    endfunction
    function s__Table___abilitys__setindex takes integer this,integer key,ability value returns nothing
        call SaveAbilityHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___abilitys_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___abilitys_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Ability", "ability")
//textmacro instance: NEW_ARRAY("Timer", "timer")
    function s__Table___timers__getindex takes integer this,integer key returns timer
        return LoadTimerHandle(Table___ht, this, key)
    endfunction
    function s__Table___timers__setindex takes integer this,integer key,timer value returns nothing
        call SaveTimerHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___timers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___timers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Timer", "timer")
//textmacro instance: NEW_ARRAY("Trigger", "trigger")
    function s__Table___triggers__getindex takes integer this,integer key returns trigger
        return LoadTriggerHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggers__setindex takes integer this,integer key,trigger value returns nothing
        call SaveTriggerHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___triggers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Trigger", "trigger")
//textmacro instance: NEW_ARRAY("TriggerCondition", "triggercondition")
    function s__Table___triggerconditions__getindex takes integer this,integer key returns triggercondition
        return LoadTriggerConditionHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggerconditions__setindex takes integer this,integer key,triggercondition value returns nothing
        call SaveTriggerConditionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___triggerconditions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggerconditions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerCondition", "triggercondition")
//textmacro instance: NEW_ARRAY("TriggerAction", "triggeraction")
    function s__Table___triggeractions__getindex takes integer this,integer key returns triggeraction
        return LoadTriggerActionHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggeractions__setindex takes integer this,integer key,triggeraction value returns nothing
        call SaveTriggerActionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___triggeractions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___triggeractions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerAction", "triggeraction")
//textmacro instance: NEW_ARRAY("TriggerEvent", "event")
    function s__Table___events__getindex takes integer this,integer key returns event
        return LoadTriggerEventHandle(Table___ht, this, key)
    endfunction
    function s__Table___events__setindex takes integer this,integer key,event value returns nothing
        call SaveTriggerEventHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___events_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___events_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TriggerEvent", "event")
//textmacro instance: NEW_ARRAY("Force", "force")
    function s__Table___forces__getindex takes integer this,integer key returns force
        return LoadForceHandle(Table___ht, this, key)
    endfunction
    function s__Table___forces__setindex takes integer this,integer key,force value returns nothing
        call SaveForceHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___forces_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___forces_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Force", "force")
//textmacro instance: NEW_ARRAY("Group", "group")
    function s__Table___groups__getindex takes integer this,integer key returns group
        return LoadGroupHandle(Table___ht, this, key)
    endfunction
    function s__Table___groups__setindex takes integer this,integer key,group value returns nothing
        call SaveGroupHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___groups_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___groups_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Group", "group")
//textmacro instance: NEW_ARRAY("Location", "location")
    function s__Table___locations__getindex takes integer this,integer key returns location
        return LoadLocationHandle(Table___ht, this, key)
    endfunction
    function s__Table___locations__setindex takes integer this,integer key,location value returns nothing
        call SaveLocationHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___locations_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___locations_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Location", "location")
//textmacro instance: NEW_ARRAY("Rect", "rect")
    function s__Table___rects__getindex takes integer this,integer key returns rect
        return LoadRectHandle(Table___ht, this, key)
    endfunction
    function s__Table___rects__setindex takes integer this,integer key,rect value returns nothing
        call SaveRectHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___rects_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___rects_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Rect", "rect")
//textmacro instance: NEW_ARRAY("BooleanExpr", "boolexpr")
    function s__Table___boolexprs__getindex takes integer this,integer key returns boolexpr
        return LoadBooleanExprHandle(Table___ht, this, key)
    endfunction
    function s__Table___boolexprs__setindex takes integer this,integer key,boolexpr value returns nothing
        call SaveBooleanExprHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___boolexprs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___boolexprs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("BooleanExpr", "boolexpr")
//textmacro instance: NEW_ARRAY("Sound", "sound")
    function s__Table___sounds__getindex takes integer this,integer key returns sound
        return LoadSoundHandle(Table___ht, this, key)
    endfunction
    function s__Table___sounds__setindex takes integer this,integer key,sound value returns nothing
        call SaveSoundHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___sounds_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___sounds_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Sound", "sound")
//textmacro instance: NEW_ARRAY("Effect", "effect")
    function s__Table___effects__getindex takes integer this,integer key returns effect
        return LoadEffectHandle(Table___ht, this, key)
    endfunction
    function s__Table___effects__setindex takes integer this,integer key,effect value returns nothing
        call SaveEffectHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___effects_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___effects_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Effect", "effect")
//textmacro instance: NEW_ARRAY("UnitPool", "unitpool")
    function s__Table___unitpools__getindex takes integer this,integer key returns unitpool
        return LoadUnitPoolHandle(Table___ht, this, key)
    endfunction
    function s__Table___unitpools__setindex takes integer this,integer key,unitpool value returns nothing
        call SaveUnitPoolHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___unitpools_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___unitpools_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("UnitPool", "unitpool")
//textmacro instance: NEW_ARRAY("ItemPool", "itempool")
    function s__Table___itempools__getindex takes integer this,integer key returns itempool
        return LoadItemPoolHandle(Table___ht, this, key)
    endfunction
    function s__Table___itempools__setindex takes integer this,integer key,itempool value returns nothing
        call SaveItemPoolHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___itempools_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___itempools_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("ItemPool", "itempool")
//textmacro instance: NEW_ARRAY("Quest", "quest")
    function s__Table___quests__getindex takes integer this,integer key returns quest
        return LoadQuestHandle(Table___ht, this, key)
    endfunction
    function s__Table___quests__setindex takes integer this,integer key,quest value returns nothing
        call SaveQuestHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___quests_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___quests_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Quest", "quest")
//textmacro instance: NEW_ARRAY("QuestItem", "questitem")
    function s__Table___questitems__getindex takes integer this,integer key returns questitem
        return LoadQuestItemHandle(Table___ht, this, key)
    endfunction
    function s__Table___questitems__setindex takes integer this,integer key,questitem value returns nothing
        call SaveQuestItemHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___questitems_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___questitems_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("QuestItem", "questitem")
//textmacro instance: NEW_ARRAY("DefeatCondition", "defeatcondition")
    function s__Table___defeatconditions__getindex takes integer this,integer key returns defeatcondition
        return LoadDefeatConditionHandle(Table___ht, this, key)
    endfunction
    function s__Table___defeatconditions__setindex takes integer this,integer key,defeatcondition value returns nothing
        call SaveDefeatConditionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___defeatconditions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___defeatconditions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("DefeatCondition", "defeatcondition")
//textmacro instance: NEW_ARRAY("TimerDialog", "timerdialog")
    function s__Table___timerdialogs__getindex takes integer this,integer key returns timerdialog
        return LoadTimerDialogHandle(Table___ht, this, key)
    endfunction
    function s__Table___timerdialogs__setindex takes integer this,integer key,timerdialog value returns nothing
        call SaveTimerDialogHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___timerdialogs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___timerdialogs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TimerDialog", "timerdialog")
//textmacro instance: NEW_ARRAY("Leaderboard", "leaderboard")
    function s__Table___leaderboards__getindex takes integer this,integer key returns leaderboard
        return LoadLeaderboardHandle(Table___ht, this, key)
    endfunction
    function s__Table___leaderboards__setindex takes integer this,integer key,leaderboard value returns nothing
        call SaveLeaderboardHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___leaderboards_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___leaderboards_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Leaderboard", "leaderboard")
//textmacro instance: NEW_ARRAY("Multiboard", "multiboard")
    function s__Table___multiboards__getindex takes integer this,integer key returns multiboard
        return LoadMultiboardHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboards__setindex takes integer this,integer key,multiboard value returns nothing
        call SaveMultiboardHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___multiboards_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboards_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Multiboard", "multiboard")
//textmacro instance: NEW_ARRAY("MultiboardItem", "multiboarditem")
    function s__Table___multiboarditems__getindex takes integer this,integer key returns multiboarditem
        return LoadMultiboardItemHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboarditems__setindex takes integer this,integer key,multiboarditem value returns nothing
        call SaveMultiboardItemHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___multiboarditems_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___multiboarditems_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("MultiboardItem", "multiboarditem")
//textmacro instance: NEW_ARRAY("Trackable", "trackable")
    function s__Table___trackables__getindex takes integer this,integer key returns trackable
        return LoadTrackableHandle(Table___ht, this, key)
    endfunction
    function s__Table___trackables__setindex takes integer this,integer key,trackable value returns nothing
        call SaveTrackableHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___trackables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___trackables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Trackable", "trackable")
//textmacro instance: NEW_ARRAY("Dialog", "dialog")
    function s__Table___dialogs__getindex takes integer this,integer key returns dialog
        return LoadDialogHandle(Table___ht, this, key)
    endfunction
    function s__Table___dialogs__setindex takes integer this,integer key,dialog value returns nothing
        call SaveDialogHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___dialogs_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___dialogs_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Dialog", "dialog")
//textmacro instance: NEW_ARRAY("Button", "button")
    function s__Table___buttons__getindex takes integer this,integer key returns button
        return LoadButtonHandle(Table___ht, this, key)
    endfunction
    function s__Table___buttons__setindex takes integer this,integer key,button value returns nothing
        call SaveButtonHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___buttons_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___buttons_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Button", "button")
//textmacro instance: NEW_ARRAY("TextTag", "texttag")
    function s__Table___texttags__getindex takes integer this,integer key returns texttag
        return LoadTextTagHandle(Table___ht, this, key)
    endfunction
    function s__Table___texttags__setindex takes integer this,integer key,texttag value returns nothing
        call SaveTextTagHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___texttags_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___texttags_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("TextTag", "texttag")
//textmacro instance: NEW_ARRAY("Lightning", "lightning")
    function s__Table___lightnings__getindex takes integer this,integer key returns lightning
        return LoadLightningHandle(Table___ht, this, key)
    endfunction
    function s__Table___lightnings__setindex takes integer this,integer key,lightning value returns nothing
        call SaveLightningHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___lightnings_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___lightnings_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Lightning", "lightning")
//textmacro instance: NEW_ARRAY("Image", "image")
    function s__Table___images__getindex takes integer this,integer key returns image
        return LoadImageHandle(Table___ht, this, key)
    endfunction
    function s__Table___images__setindex takes integer this,integer key,image value returns nothing
        call SaveImageHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___images_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___images_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Image", "image")
//textmacro instance: NEW_ARRAY("Ubersplat", "ubersplat")
    function s__Table___ubersplats__getindex takes integer this,integer key returns ubersplat
        return LoadUbersplatHandle(Table___ht, this, key)
    endfunction
    function s__Table___ubersplats__setindex takes integer this,integer key,ubersplat value returns nothing
        call SaveUbersplatHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___ubersplats_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___ubersplats_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Ubersplat", "ubersplat")
//textmacro instance: NEW_ARRAY("Region", "region")
    function s__Table___regions__getindex takes integer this,integer key returns region
        return LoadRegionHandle(Table___ht, this, key)
    endfunction
    function s__Table___regions__setindex takes integer this,integer key,region value returns nothing
        call SaveRegionHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___regions_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___regions_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Region", "region")
//textmacro instance: NEW_ARRAY("FogState", "fogstate")
    function s__Table___fogstates__getindex takes integer this,integer key returns fogstate
        return LoadFogStateHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogstates__setindex takes integer this,integer key,fogstate value returns nothing
        call SaveFogStateHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___fogstates_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogstates_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("FogState", "fogstate")
//textmacro instance: NEW_ARRAY("FogModifier", "fogmodifier")
    function s__Table___fogmodifiers__getindex takes integer this,integer key returns fogmodifier
        return LoadFogModifierHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogmodifiers__setindex takes integer this,integer key,fogmodifier value returns nothing
        call SaveFogModifierHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___fogmodifiers_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___fogmodifiers_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("FogModifier", "fogmodifier")
//textmacro instance: NEW_ARRAY("Hashtable", "hashtable")
    function s__Table___hashtables__getindex takes integer this,integer key returns hashtable
        return LoadHashtableHandle(Table___ht, this, key)
    endfunction
    function s__Table___hashtables__setindex takes integer this,integer key,hashtable value returns nothing
        call SaveHashtableHandle(Table___ht, this, key, value)
    endfunction
    function s__Table___hashtables_has takes integer this,integer key returns boolean
        return HaveSavedHandle(Table___ht, this, key)
    endfunction
    function s__Table___hashtables_remove takes integer this,integer key returns nothing
        call RemoveSavedHandle(Table___ht, this, key)
    endfunction
//end of: NEW_ARRAY("Hashtable", "hashtable")
    
    
    // Implement modules for intuitive syntax (tb.handle; tb.unit; etc.)
//Implemented from module Table___realm:
    function s__Table__get_real takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___integerm:
    function s__Table__get_integer takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___booleanm:
    function s__Table__get_boolean takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___stringm:
    function s__Table__get_string takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___playerm:
    function s__Table__get_player takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___widgetm:
    function s__Table__get_widget takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___destructablem:
    function s__Table__get_destructable takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___itemm:
    function s__Table__get_item takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___unitm:
    function s__Table__get_unit takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___abilitym:
    function s__Table__get_ability takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___timerm:
    function s__Table__get_timer takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___triggerm:
    function s__Table__get_trigger takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___triggerconditionm:
    function s__Table__get_triggercondition takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___triggeractionm:
    function s__Table__get_triggeraction takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___eventm:
    function s__Table__get_event takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___forcem:
    function s__Table__get_force takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___groupm:
    function s__Table__get_group takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___locationm:
    function s__Table__get_location takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___rectm:
    function s__Table__get_rect takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___boolexprm:
    function s__Table__get_boolexpr takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___soundm:
    function s__Table__get_sound takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___effectm:
    function s__Table__get_effect takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___unitpoolm:
    function s__Table__get_unitpool takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___itempoolm:
    function s__Table__get_itempool takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___questm:
    function s__Table__get_quest takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___questitemm:
    function s__Table__get_questitem takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___defeatconditionm:
    function s__Table__get_defeatcondition takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___timerdialogm:
    function s__Table__get_timerdialog takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___leaderboardm:
    function s__Table__get_leaderboard takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___multiboardm:
    function s__Table__get_multiboard takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___multiboarditemm:
    function s__Table__get_multiboarditem takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___trackablem:
    function s__Table__get_trackable takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___dialogm:
    function s__Table__get_dialog takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___buttonm:
    function s__Table__get_button takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___texttagm:
    function s__Table__get_texttag takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___lightningm:
    function s__Table__get_lightning takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___imagem:
    function s__Table__get_image takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___ubersplatm:
    function s__Table__get_ubersplat takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___regionm:
    function s__Table__get_region takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___fogstatem:
    function s__Table__get_fogstate takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___fogmodifierm:
    function s__Table__get_fogmodifier takes integer this returns integer
        return this
    endfunction
//Implemented from module Table___hashtablem:
    function s__Table__get_hashtable takes integer this returns integer
        return this
    endfunction
    
    function s__Table__get_handle takes integer this returns integer
        return this
    endfunction
    
    function s__Table__get_agent takes integer this returns integer
        return this
    endfunction
    
    //set this = tb[GetSpellAbilityId()]
    function s__Table__getindex takes integer this,integer key returns integer
        return LoadInteger(Table___ht, this, key) //return this.integer[key]
    endfunction
    
    //set tb[389034] = 8192
    function s__Table__setindex takes integer this,integer key,integer tb returns nothing
        call SaveInteger(Table___ht, this, key, tb) //set this.integer[key] = tb
    endfunction
    
    //set b = tb.has(2493223)
    function s__Table_has takes integer this,integer key returns boolean
        return HaveSavedInteger(Table___ht, this, key) //return this.integer.has(key)
    endfunction
    
    //call tb.remove(294080)
    function s__Table_remove takes integer this,integer key returns nothing
        call RemoveSavedInteger(Table___ht, this, key) //call this.integer.remove(key)
    endfunction
    
    //Remove all data from a Table instance
    function s__Table_flush takes integer this returns nothing
        call FlushChildHashtable(Table___ht, this)
    endfunction
    
    //local Table tb = Table.create()
    function s__Table_create takes nothing returns integer
        local integer this= (LoadInteger(Table___ht, ((Table___listK)), (0))) // INLINED!!
        
        if this == 0 then
            set this=Table___more + 1
            set Table___more=this
        else
            call SaveInteger(Table___ht, ((Table___listK)), (0), ( (LoadInteger(Table___ht, ((Table___listK)), (this))))) // INLINED!!
            call RemoveSavedInteger(Table___ht, ((Table___listK)), (this)) //Clear hashed memory // INLINED!!
        endif
        
        return this
    endfunction
    
    // Removes all data from a Table instance and recycles its index.
    //
    //     call tb.destroy()
    //
    function s__Table_destroy takes integer this returns nothing
        
        call FlushChildHashtable(Table___ht, (this)) // INLINED!!
        
        call SaveInteger(Table___ht, ((Table___listK)), (this), ( (LoadInteger(Table___ht, ((Table___listK)), (0))))) // INLINED!!
        call SaveInteger(Table___ht, ((Table___listK)), (0), ( this)) // INLINED!!
    endfunction
    
//textmacro instance: TABLE_BC_METHODS()
    function s__Table_reset takes integer this returns nothing
        call FlushChildHashtable(Table___ht, (this)) // INLINED!!
    endfunction
    function s__Table_exists takes integer this,integer key returns boolean
        return (HaveSavedInteger(Table___ht, (this), (key))) // INLINED!!
    endfunction
    function s__Table__staticgetindex takes string id returns integer
        local integer index= StringHash(id)
        local integer t= (LoadInteger(Table___ht, ((si__Table)), (index))) // INLINED!!
        if t == 0 then
            set t=s__Table_create()
            call SaveInteger(Table___ht, ((si__Table)), (index), ( t)) // INLINED!!
        endif
        return t
    endfunction
    function s__Table_flush2D takes string id returns nothing
        local integer index= StringHash(id)
        local integer t= (LoadInteger(Table___ht, ((si__Table)), (index))) // INLINED!!
        if t != 0 then
            call s__Table_destroy(t)
            call RemoveSavedInteger(Table___ht, ((si__Table)), (index)) // INLINED!!
        endif
    endfunction
//end of: TABLE_BC_METHODS()
    
//textmacro instance: TABLE_BC_STRUCTS()
    function s__HandleTable__staticgetindex takes string index returns integer
        return s__Table__staticgetindex(index)
    endfunction
    function s__HandleTable_flush2D takes string index returns nothing
        call s__Table_flush2D(index)
    endfunction
    function s__HandleTable__getindex takes integer this,handle key returns integer
        return (LoadInteger(Table___ht, ((this)), (GetHandleId(key)))) // INLINED!!
    endfunction
    function s__HandleTable__setindex takes integer this,handle key,integer value returns nothing
        call SaveInteger(Table___ht, ((this)), (GetHandleId(key)), ( value)) // INLINED!!
    endfunction
    function s__HandleTable_flush takes integer this,handle key returns nothing
        call RemoveSavedInteger(Table___ht, ((this)), (GetHandleId(key))) // INLINED!!
    endfunction
    function s__HandleTable_exists takes integer this,handle key returns boolean
        return (HaveSavedInteger(Table___ht, ((this)), (GetHandleId(key)))) // INLINED!!
    endfunction
    function s__HandleTable_reset takes integer this returns nothing
        call FlushChildHashtable(Table___ht, ((this))) // INLINED!!
    endfunction
    function s__HandleTable_destroy takes integer this returns nothing
        call s__Table_destroy((this))
    endfunction
    function s__HandleTable_create takes nothing returns integer
        return s__Table_create()
    endfunction

    function s__StringTable__staticgetindex takes string index returns integer
        return s__Table__staticgetindex(index)
    endfunction
    function s__StringTable_flush2D takes string index returns nothing
        call s__Table_flush2D(index)
    endfunction
    function s__StringTable__getindex takes integer this,string key returns integer
        return (LoadInteger(Table___ht, ((this)), (StringHash(key)))) // INLINED!!
    endfunction
    function s__StringTable__setindex takes integer this,string key,integer value returns nothing
        call SaveInteger(Table___ht, ((this)), (StringHash(key)), ( value)) // INLINED!!
    endfunction
    function s__StringTable_flush takes integer this,string key returns nothing
        call RemoveSavedInteger(Table___ht, ((this)), (StringHash(key))) // INLINED!!
    endfunction
    function s__StringTable_exists takes integer this,string key returns boolean
        return (HaveSavedInteger(Table___ht, ((this)), (StringHash(key)))) // INLINED!!
    endfunction
    function s__StringTable_reset takes integer this returns nothing
        call FlushChildHashtable(Table___ht, ((this))) // INLINED!!
    endfunction
    function s__StringTable_destroy takes integer this returns nothing
        call s__Table_destroy((this))
    endfunction
    function s__StringTable_create takes nothing returns integer
        return s__Table_create()
    endfunction
//end of: TABLE_BC_STRUCTS()
    
    
    //Returns a new TableArray to do your bidding. Simply use:
    //
    //    local TableArray ta = TableArray[array_size]
    //
    function s__TableArray__staticgetindex takes integer array_size returns integer
        local integer tb= (LoadInteger(Table___ht, ((Table___sizeK)), (array_size))) // INLINED!!
        local integer this= (LoadInteger(Table___ht, (tb), (0))) // INLINED!!
        
        
        if this == 0 then
            set this=Table___less - array_size
            set Table___less=this
        else
            call SaveInteger(Table___ht, (tb), (0), ( (LoadInteger(Table___ht, (tb), (this))))) //Set the last destroyed to the last-last destroyed // INLINED!!
            call RemoveSavedInteger(Table___ht, (tb), (this)) //Clear hashed memory // INLINED!!
        endif
        
        call SaveInteger(Table___ht, ((Table___sizeK)), (this), ( array_size)) //This remembers the array size // INLINED!!
        return this
    endfunction
    
    //Returns the size of the TableArray
    function s__TableArray__get_size takes integer this returns integer
        return (LoadInteger(Table___ht, ((Table___sizeK)), (this))) // INLINED!!
    endfunction
    
    //This magic method enables two-dimensional[array][syntax] for Tables,
    //similar to the two-dimensional utility provided by hashtables them-
    //selves.
    //
    //ta[integer a].unit[integer b] = unit u
    //ta[integer a][integer c] = integer d
    //
    //Inline-friendly when not running in debug mode
    //
    function s__TableArray__getindex takes integer this,integer key returns integer










        return this + key
    endfunction
    
    //Destroys a TableArray without flushing it; I assume you call .flush()
    //if you want it flushed too. This is a public method so that you don't
    //have to loop through all TableArray indices to flush them if you don't
    //need to (ie. if you were flushing all child-keys as you used them).
    //
    function s__TableArray_destroy takes integer this returns nothing
        local integer tb= (LoadInteger(Table___ht, ((Table___sizeK)), ((LoadInteger(Table___ht, ((Table___sizeK)), ((this))))))) // INLINED!!
        
        
        if tb == 0 then
            //Create a Table to index recycled instances with their array size
            set tb=s__Table_create()
            call SaveInteger(Table___ht, ((Table___sizeK)), ((LoadInteger(Table___ht, ((Table___sizeK)), ((this))))), ( tb)) // INLINED!!
        endif
        
        call RemoveSavedInteger(Table___ht, ((Table___sizeK)), (this)) //Clear the array size from hash memory // INLINED!!
        
        call SaveInteger(Table___ht, (tb), (this), ( (LoadInteger(Table___ht, (tb), (0))))) // INLINED!!
        call SaveInteger(Table___ht, (tb), (0), ( this)) // INLINED!!
    endfunction
    
    
    //Avoids hitting the op limit
    function s__TableArray_clean takes nothing returns nothing
        local integer tb= s__TableArray_tempTable
        local integer end= tb + 0x1000
        if end < s__TableArray_tempEnd then
            set s__TableArray_tempTable=end
            call ForForce(bj_FORCE_PLAYER[0], function s__TableArray_clean)
        else
            set end=s__TableArray_tempEnd
        endif
        loop
            call FlushChildHashtable(Table___ht, (tb)) // INLINED!!
            set tb=tb + 1
            exitwhen tb == end
        endloop
    endfunction
    
    //Flushes the TableArray and also destroys it. Doesn't get any more
    //similar to the FlushParentHashtable native than this.
    //
    function s__TableArray_flush takes integer this returns nothing
        set s__TableArray_tempTable=this
        set s__TableArray_tempEnd=this + (LoadInteger(Table___ht, ((Table___sizeK)), ((this)))) // INLINED!!
        call ForForce(bj_FORCE_PLAYER[0], function s__TableArray_clean)
        call s__TableArray_destroy(this)
    endfunction
    
    
//NEW: Added in Table 4.0. A fairly simple struct but allows you to do more
//than that which was previously possible.

    //Enables myHash[parentKey][childKey] syntax.
    //Basically, it creates a Table in the place of the parent key if
    //it didn't already get created earlier.
    function s__HashTable__getindex takes integer this,integer index returns integer
        local integer t= (LoadInteger(Table___ht, ((this)), (index))) // INLINED!!
        if t == 0 then
            set t=s__Table_create()
            call SaveInteger(Table___ht, ((this)), (index), ( t)) //whoops! Forgot that line. I'm out of practice! // INLINED!!
        endif
        return t
    endfunction

    //You need to call this on each parent key that you used if you
    //intend to destroy the HashTable or simply no longer need that key.
    function s__HashTable_remove takes integer this,integer index returns nothing
        local integer t= (LoadInteger(Table___ht, ((this)), (index))) // INLINED!!
        if t != 0 then
            call s__Table_destroy(t)
            call RemoveSavedInteger(Table___ht, ((this)), (index)) // INLINED!!
        endif
    endfunction
    
    //Added in version 4.1
    function s__HashTable_has takes integer this,integer index returns boolean
        return (HaveSavedInteger(Table___ht, ((this)), (index))) // INLINED!!
    endfunction
    
    //HashTables are just fancy Table indices.
    function s__HashTable_destroy takes integer this returns nothing
        call s__Table_destroy((this))
    endfunction
    
    //Like I said above...
    function s__HashTable_create takes nothing returns integer
        return s__Table_create()
    endfunction



//library Table ends
//library TimerUtils:
//*********************************************************************
//* TimerUtils (red+blue+orange flavors for 1.24b+) 2.0
//* ----------
//*
//*  To implement it , create a custom text trigger called TimerUtils
//* and paste the contents of this script there.
//*
//*  To copy from a map to another, copy the trigger holding this
//* library to your map.
//*
//* (requires vJass)   More scripts: htt://www.wc3c.net
//*
//* For your timer needs:
//*  * Attaching
//*  * Recycling (with double-free protection)
//*
//* set t=NewTimer()      : Get a timer (alternative to CreateTimer)
//* set t=NewTimerEx(x)   : Get a timer (alternative to CreateTimer), call
//*                            Initialize timer data as x, instead of 0.
//*
//* ReleaseTimer(t)       : Relese a timer (alt to DestroyTimer)
//* SetTimerData(t,2)     : Attach value 2 to timer
//* GetTimerData(t)       : Get the timer's value.
//*                         You can assume a timer's value is 0
//*                         after NewTimer.
//*
//* Multi-flavor:
//*    Set USE_HASH_TABLE to true if you don't want to complicate your life.
//*
//* If you like speed and giberish try learning about the other flavors.
//*
//********************************************************************

//================================================================

    //==================================================================================================
    
    

    //It is dependent on jasshelper's recent inlining optimization in order to perform correctly.
    function SetTimerData takes timer t,integer value returns nothing

            // new blue
            call SaveInteger(TimerUtils___ht, 0, GetHandleId(t), value)
            

















    endfunction

    function GetTimerData takes timer t returns integer

            // new blue
            return LoadInteger(TimerUtils___ht, 0, GetHandleId(t))
            

















    endfunction

    //==========================================================================================

    //==========================================================================================
    // I needed to decide between duplicating code ignoring the "Once and only once" rule
    // and using the ugly textmacros. I guess textmacros won.
    //

    function NewTimerEx takes integer value returns timer
        if ( TimerUtils___tN == 0 ) then
            if ( not TimerUtils___didinit ) then
                //This extra if shouldn't represent a major performance drawback
                //because QUANTITY rule is not supposed to be broken every day. 
                call TriggerEvaluate(st___prototype5[(1)]) // INLINED!!
                set TimerUtils___tN=TimerUtils___tN - 1
            else
                //If this happens then the QUANTITY rule has already been broken, try to fix the
                // issue, else fail.
                set s__TimerUtils___tT[0]= CreateTimer()















            endif
        else
            set TimerUtils___tN=TimerUtils___tN - 1
        endif
        call SaveInteger(TimerUtils___ht, 0, GetHandleId((s__TimerUtils___tT[TimerUtils___tN] )), ( value)) // INLINED!!
     return s__TimerUtils___tT[TimerUtils___tN]
    endfunction
    
    function NewTimer takes nothing returns timer
        return NewTimerEx(0)
    endfunction


    //==========================================================================================
    function ReleaseTimer takes timer t returns nothing
        if ( t == null ) then
            return
        endif
        if ( TimerUtils___tN == TimerUtils___ARRAY_SIZE ) then
            //stack is full, the map already has much more troubles than the chance of bug
            call DestroyTimer(t)
        else
            set s__runningTimersString[(LoadInteger(Table___ht, (runningTimers), (GetHandleId(t))))]= "" // INLINED!!
	    call RemoveSavedInteger(Table___ht, (runningTimers), (GetHandleId(t))) // INLINED!!
            call PauseTimer(t)
            if ( (LoadInteger(TimerUtils___ht, 0, GetHandleId((t)))) == TimerUtils___HELD ) then // INLINED!!
                return
            endif
            call SaveInteger(TimerUtils___ht, 0, GetHandleId((t )), ( TimerUtils___HELD)) // INLINED!!
            set s__TimerUtils___tT[TimerUtils___tN]= t
            set TimerUtils___tN=TimerUtils___tN + 1
        endif
    endfunction

    function TimerStartEx takes timer whichTimer,real timeout,boolean periodic,code handlerFunc,string sHandlerFunc returns nothing
        local integer i= 0
        loop
		exitwhen i >= TimerUtils___ARRAY_SIZE
		if s__runningTimersString[i] == "" then
			call SaveInteger(Table___ht, (runningTimers), (GetHandleId(whichTimer)), ( i)) // INLINED!!
			set s__runningTimersString[i]= R2S(timeout) + ": " + sHandlerFunc
			exitwhen true
		endif
		set i=i + 1
	endloop
	call TimerStart(whichTimer, timeout, periodic, handlerFunc)
    endfunction

    function TimerUtils___init takes nothing returns nothing
     local integer i=0
     local integer o=- 1
     local boolean oops= false
        if ( TimerUtils___didinit ) then
            return
        else
            set TimerUtils___didinit=true
        endif
      
        set i=0
        loop
        	exitwhen i >= TimerUtils___ARRAY_SIZE
		set s__runningTimersString[i]= ""
		set i=i + 1
	endloop
        set i=0
        set runningTimers=s__Table_create()

            set TimerUtils___ht=InitHashtable()
            loop
                exitwhen ( i == TimerUtils___QUANTITY )
                set s__TimerUtils___tT[i]= CreateTimer()
                call SaveInteger(TimerUtils___ht, 0, GetHandleId((s__TimerUtils___tT[i] )), ( TimerUtils___HELD)) // INLINED!!
                set i=i + 1
            endloop
            set TimerUtils___tN=TimerUtils___QUANTITY










































    endfunction


//library TimerUtils ends
//library UIMath:

    function UIMath_R2I_N takes real r returns integer
        local integer i= R2I(r)
        if ( r < I2R(i) + 0.5 ) then
            return i
        else
            return i + 1
        endif
    endfunction

        
        function s__VECTOR3_New_0 takes nothing returns integer
            local integer this= s__VECTOR3__allocate()
            set s__VECTOR3_x[this]=0
            set s__VECTOR3_y[this]=0
            set s__VECTOR3_z[this]=0
            return this
        endfunction
        
        function s__VECTOR3_New_1 takes real x,real y,real z returns integer
            local integer this= s__VECTOR3__allocate()
            set s__VECTOR3_x[this]=x
            set s__VECTOR3_y[this]=y
            set s__VECTOR3_z[this]=z
            return this
        endfunction
        
        function s__VECTOR3_New_2 takes integer v returns integer
            local integer this= s__VECTOR3__allocate()
            set s__VECTOR3_x[this]=s__VECTOR3_x[v]
            set s__VECTOR3_y[this]=s__VECTOR3_y[v]
            set s__VECTOR3_z[this]=s__VECTOR3_z[v]
            return this
        endfunction
        
        function s__VECTOR3_SetValues takes integer this,real x,real y,real z returns integer
            set s__VECTOR3_x[this]=x
            set s__VECTOR3_y[this]=y
            set s__VECTOR3_z[this]=z
            return this
        endfunction
        
        function s__VECTOR3_Length takes integer this returns real
            return SquareRoot(s__VECTOR3_x[this] * s__VECTOR3_x[this] + s__VECTOR3_y[this] * s__VECTOR3_y[this] + s__VECTOR3_z[this] * s__VECTOR3_z[this])
        endfunction
        
        function s__VECTOR3_LengthSq takes integer this returns real
            return s__VECTOR3_x[this] * s__VECTOR3_x[this] + s__VECTOR3_y[this] * s__VECTOR3_y[this] + s__VECTOR3_z[this] * s__VECTOR3_z[this]
        endfunction
        
        function s__VECTOR3_ToString takes integer this returns string
            return "Vector3 id " + I2S(this) + "\nx = " + R2S(s__VECTOR3_x[this]) + "   y = " + R2S(s__VECTOR3_y[this]) + "   z = " + R2S(s__VECTOR3_z[this])
        endfunction
        

    function Vec3Add takes integer Output,integer v1,integer v2 returns integer
        set s__VECTOR3_x[Output]=s__VECTOR3_x[v1] + s__VECTOR3_x[v2]
        set s__VECTOR3_y[Output]=s__VECTOR3_y[v1] + s__VECTOR3_y[v2]
        set s__VECTOR3_z[Output]=s__VECTOR3_z[v1] + s__VECTOR3_z[v2]
        return Output
    endfunction

    function Vec3Subtract takes integer Output,integer v1,integer v2 returns integer
        set s__VECTOR3_x[Output]=s__VECTOR3_x[v1] - s__VECTOR3_x[v2]
        set s__VECTOR3_y[Output]=s__VECTOR3_y[v1] - s__VECTOR3_y[v2]
        set s__VECTOR3_z[Output]=s__VECTOR3_z[v1] - s__VECTOR3_z[v2]
        return Output
    endfunction
        
    function Vec3Scale takes integer Output,integer v,real r returns integer
        set s__VECTOR3_x[Output]=s__VECTOR3_x[v] * r
        set s__VECTOR3_y[Output]=s__VECTOR3_y[v] * r
        set s__VECTOR3_z[Output]=s__VECTOR3_z[v] * r
        return Output
    endfunction
        
    function Vec3Division takes integer Output,integer v,real r returns integer
        set s__VECTOR3_x[Output]=s__VECTOR3_x[v] / r
        set s__VECTOR3_y[Output]=s__VECTOR3_y[v] / r
        set s__VECTOR3_z[Output]=s__VECTOR3_z[v] / r
        return Output
    endfunction

    function Vec3Length takes integer v returns real
        return SquareRoot(s__VECTOR3_x[v] * s__VECTOR3_x[v] + s__VECTOR3_y[v] * s__VECTOR3_y[v] + s__VECTOR3_z[v] * s__VECTOR3_z[v])
    endfunction

    function Vec3LengthSq takes integer v returns real
        return s__VECTOR3_x[v] * s__VECTOR3_x[v] + s__VECTOR3_y[v] * s__VECTOR3_y[v] + s__VECTOR3_z[v] * s__VECTOR3_z[v]
    endfunction

    function Vec3Normalize takes integer Output,integer v returns integer
        local real len= SquareRoot(s__VECTOR3_x[v] * s__VECTOR3_x[v] + s__VECTOR3_y[v] * s__VECTOR3_y[v] + s__VECTOR3_z[v] * s__VECTOR3_z[v])
        set s__VECTOR3_x[Output]=s__VECTOR3_x[v] / len
        set s__VECTOR3_y[Output]=s__VECTOR3_y[v] / len
        set s__VECTOR3_z[Output]=s__VECTOR3_z[v] / len
        return Output
    endfunction

    function Vec3Dot takes integer v1,integer v2 returns real
        return s__VECTOR3_x[v1] * s__VECTOR3_x[v2] + s__VECTOR3_y[v1] * s__VECTOR3_y[v2] + s__VECTOR3_z[v1] * s__VECTOR3_z[v2]
    endfunction

    function Vec3Cross takes integer Output,integer v1,integer v2 returns integer
        local real y= s__VECTOR3_z[v1] * s__VECTOR3_x[v2] - s__VECTOR3_x[v1] * s__VECTOR3_z[v2]
        local real z= s__VECTOR3_x[v1] * s__VECTOR3_y[v2] - s__VECTOR3_y[v1] * s__VECTOR3_x[v2]
        set s__VECTOR3_x[Output]=s__VECTOR3_y[v1] * s__VECTOR3_z[v2] - s__VECTOR3_z[v1] * s__VECTOR3_y[v2]
        set s__VECTOR3_y[Output]=y
        set s__VECTOR3_z[Output]=z
        return Output
    endfunction

    function Vec3Transform_1 takes integer Output,integer v,integer m returns integer
        local real y= s__VECTOR3_x[v] * s__MATRIX3_m12[m] + s__VECTOR3_y[v] * s__MATRIX3_m22[m] + s__VECTOR3_z[v] * s__MATRIX3_m32[m]
        local real z= s__VECTOR3_x[v] * s__MATRIX3_m13[m] + s__VECTOR3_y[v] * s__MATRIX3_m23[m] + s__VECTOR3_z[v] * s__MATRIX3_m33[m]
        set s__VECTOR3_x[Output]=s__VECTOR3_x[v] * s__MATRIX3_m11[m] + s__VECTOR3_y[v] * s__MATRIX3_m21[m] + s__VECTOR3_z[v] * s__MATRIX3_m31[m]
        set s__VECTOR3_y[Output]=y
        set s__VECTOR3_z[Output]=z
        return Output
    endfunction

    function Vec3Transform_2 takes integer Output,integer v,integer m returns integer
        local real y= s__VECTOR3_x[v] * s__MATRIX4_m12[m] + s__VECTOR3_y[v] * s__MATRIX4_m22[m] + s__VECTOR3_z[v] * s__MATRIX4_m32[m] + s__MATRIX4_m42[m]
        local real z= s__VECTOR3_x[v] * s__MATRIX4_m13[m] + s__VECTOR3_y[v] * s__MATRIX4_m23[m] + s__VECTOR3_z[v] * s__MATRIX4_m33[m] + s__MATRIX4_m43[m]
        local real w= s__VECTOR3_x[v] * s__MATRIX4_m14[m] + s__VECTOR3_y[v] * s__MATRIX4_m24[m] + s__VECTOR3_z[v] * s__MATRIX4_m34[m] + s__MATRIX4_m44[m]
        set s__VECTOR3_x[Output]=( s__VECTOR3_x[v] * s__MATRIX4_m11[m] + s__VECTOR3_y[v] * s__MATRIX4_m21[m] + s__VECTOR3_z[v] * s__MATRIX4_m31[m] + s__MATRIX4_m41[m] ) / w
        set s__VECTOR3_y[Output]=y / w
        set s__VECTOR3_z[Output]=z / w
        return Output
    endfunction


        
        function s__MATRIX3_New_0 takes nothing returns integer
            local integer this= s__MATRIX3__allocate()
            set s__MATRIX3_m11[this]=0
            set s__MATRIX3_m12[this]=0
            set s__MATRIX3_m13[this]=0
            set s__MATRIX3_m21[this]=0
            set s__MATRIX3_m22[this]=0
            set s__MATRIX3_m23[this]=0
            set s__MATRIX3_m31[this]=0
            set s__MATRIX3_m32[this]=0
            set s__MATRIX3_m33[this]=0
            return this
        endfunction
        
        function s__MATRIX3_New_1 takes real r11,real r12,real r13,real r21,real r22,real r23,real r31,real r32,real r33 returns integer
            local integer this= s__MATRIX3__allocate()
            set s__MATRIX3_m11[this]=r11
            set s__MATRIX3_m12[this]=r12
            set s__MATRIX3_m13[this]=r13
            set s__MATRIX3_m21[this]=r21
            set s__MATRIX3_m22[this]=r22
            set s__MATRIX3_m23[this]=r23
            set s__MATRIX3_m31[this]=r31
            set s__MATRIX3_m32[this]=r32
            set s__MATRIX3_m33[this]=r33
            return this
        endfunction
        
        function s__MATRIX3_New_2 takes integer m returns integer
            local integer this= s__MATRIX3__allocate()
            set s__MATRIX3_m11[this]=s__MATRIX3_m11[m]
            set s__MATRIX3_m12[this]=s__MATRIX3_m12[m]
            set s__MATRIX3_m13[this]=s__MATRIX3_m13[m]
            set s__MATRIX3_m21[this]=s__MATRIX3_m21[m]
            set s__MATRIX3_m22[this]=s__MATRIX3_m22[m]
            set s__MATRIX3_m23[this]=s__MATRIX3_m23[m]
            set s__MATRIX3_m31[this]=s__MATRIX3_m31[m]
            set s__MATRIX3_m32[this]=s__MATRIX3_m32[m]
            set s__MATRIX3_m33[this]=s__MATRIX3_m33[m]
            return this
        endfunction
        
        function s__MATRIX3_SetValues takes integer this,real r11,real r12,real r13,real r21,real r22,real r23,real r31,real r32,real r33 returns integer
            set s__MATRIX3_m11[this]=r11
            set s__MATRIX3_m12[this]=r12
            set s__MATRIX3_m13[this]=r13
            set s__MATRIX3_m21[this]=r21
            set s__MATRIX3_m22[this]=r22
            set s__MATRIX3_m23[this]=r23
            set s__MATRIX3_m31[this]=r31
            set s__MATRIX3_m32[this]=r32
            set s__MATRIX3_m33[this]=r33
            return this
        endfunction
     
        function s__MATRIX3_ToString takes integer this returns string
            return "Matrux3 id " + I2S(this) + "\n" + R2S(s__MATRIX3_m11[this]) + "  " + R2S(s__MATRIX3_m12[this]) + "  " + R2S(s__MATRIX3_m13[this]) + "\n" + R2S(s__MATRIX3_m21[this]) + "  " + R2S(s__MATRIX3_m22[this]) + "  " + R2S(s__MATRIX3_m23[this]) + "\n" + R2S(s__MATRIX3_m31[this]) + "  " + R2S(s__MATRIX3_m32[this]) + "  " + R2S(s__MATRIX3_m33[this])
        endfunction
        

    function Matrix3Multiply takes integer Output,integer M1,integer M2 returns integer
        return s__MATRIX3_SetValues(Output,s__MATRIX3_m11[M1] * s__MATRIX3_m11[M2] + s__MATRIX3_m21[M1] * s__MATRIX3_m12[M2] + s__MATRIX3_m31[M1] * s__MATRIX3_m13[M2] , s__MATRIX3_m12[M1] * s__MATRIX3_m11[M2] + s__MATRIX3_m22[M1] * s__MATRIX3_m12[M2] + s__MATRIX3_m32[M1] * s__MATRIX3_m13[M2] , s__MATRIX3_m13[M1] * s__MATRIX3_m11[M2] + s__MATRIX3_m23[M1] * s__MATRIX3_m12[M2] + s__MATRIX3_m33[M1] * s__MATRIX3_m13[M2] , s__MATRIX3_m11[M1] * s__MATRIX3_m21[M2] + s__MATRIX3_m21[M1] * s__MATRIX3_m22[M2] + s__MATRIX3_m31[M1] * s__MATRIX3_m23[M2] , s__MATRIX3_m12[M1] * s__MATRIX3_m21[M2] + s__MATRIX3_m22[M1] * s__MATRIX3_m22[M2] + s__MATRIX3_m32[M1] * s__MATRIX3_m23[M2] , s__MATRIX3_m13[M1] * s__MATRIX3_m21[M2] + s__MATRIX3_m23[M1] * s__MATRIX3_m22[M2] + s__MATRIX3_m33[M1] * s__MATRIX3_m23[M2] , s__MATRIX3_m11[M1] * s__MATRIX3_m31[M2] + s__MATRIX3_m21[M1] * s__MATRIX3_m32[M2] + s__MATRIX3_m31[M1] * s__MATRIX3_m33[M2] , s__MATRIX3_m12[M1] * s__MATRIX3_m31[M2] + s__MATRIX3_m22[M1] * s__MATRIX3_m32[M2] + s__MATRIX3_m32[M1] * s__MATRIX3_m33[M2] , s__MATRIX3_m13[M1] * s__MATRIX3_m31[M2] + s__MATRIX3_m23[M1] * s__MATRIX3_m32[M2] + s__MATRIX3_m33[M1] * s__MATRIX3_m33[M2])
    endfunction

    function Matrix3Scaling takes integer Output,real x,real y,real z returns integer
        return s__MATRIX3_SetValues(Output,x , 0 , 0 , 0 , y , 0 , 0 , 0 , z)
    endfunction

    function Matrix3RotationX takes integer Output,real a returns integer
        return s__MATRIX3_SetValues(Output,1 , 0 , 0 , 0 , Cos(a) , - Sin(a) , 0 , Sin(a) , Cos(a))
    endfunction

    function Matrix3RotationY takes integer Output,real a returns integer
        return s__MATRIX3_SetValues(Output,Cos(a) , 0 , Sin(a) , 0 , 1 , 0 , - Sin(a) , 0 , Cos(a))
    endfunction

    function Matrix3RotationZ takes integer Output,real a returns integer
        return s__MATRIX3_SetValues(Output,Cos(a) , - Sin(a) , 0 , Sin(a) , Cos(a) , 0 , 0 , 0 , 1)
    endfunction

    function Matrix3RotationAxis takes integer Output,integer v,real a returns integer
        local real cosa= Cos(a)
        local real sina= Sin(a)
        return s__MATRIX3_SetValues(Output,cosa + ( 1 - cosa ) * s__VECTOR3_x[v] * s__VECTOR3_x[v] , ( 1 - cosa ) * s__VECTOR3_x[v] * s__VECTOR3_y[v] - sina * s__VECTOR3_z[v] , ( 1 - cosa ) * s__VECTOR3_x[v] * s__VECTOR3_z[v] + sina * s__VECTOR3_y[v] , ( 1 - cosa ) * s__VECTOR3_y[v] * s__VECTOR3_x[v] + sina * s__VECTOR3_z[v] , cosa + ( 1 - cosa ) * s__VECTOR3_y[v] * s__VECTOR3_y[v] , ( 1 - cosa ) * s__VECTOR3_y[v] * s__VECTOR3_z[v] - sina * s__VECTOR3_x[v] , ( 1 - cosa ) * s__VECTOR3_z[v] * s__VECTOR3_x[v] - sina * s__VECTOR3_y[v] , ( 1 - cosa ) * s__VECTOR3_z[v] * s__VECTOR3_y[v] + sina * s__VECTOR3_x[v] , cosa + ( 1 - cosa ) * s__VECTOR3_z[v] * s__VECTOR3_z[v])
    endfunction

    function Matrix3RotationYawPitchRoll takes integer Output,real Yaw,real Pitch,real Roll returns integer
        local real cosa= Cos(Yaw)
        local real sina= Sin(Yaw)
        local real cosb= Cos(Pitch)
        local real sinb= Sin(Pitch)
        local real cosy= Cos(Roll)
        local real siny= Sin(Roll)
        return s__MATRIX3_SetValues(Output,cosa * cosb , cosa * sinb * siny - sina * cosy , cosa * sinb * cosy + sina * siny , sina * cosb , sina * sinb * siny + cosa * cosy , sina * sinb * cosy - cosa * siny , - sinb , cosb * siny , cosb * cosy)
    endfunction

        
        function s__MATRIX4_New_0 takes nothing returns integer
            local integer this= s__MATRIX4__allocate()
            set s__MATRIX4_m11[this]=0
            set s__MATRIX4_m12[this]=0
            set s__MATRIX4_m13[this]=0
            set s__MATRIX4_m14[this]=0
            set s__MATRIX4_m21[this]=0
            set s__MATRIX4_m22[this]=0
            set s__MATRIX4_m23[this]=0
            set s__MATRIX4_m24[this]=0
            set s__MATRIX4_m31[this]=0
            set s__MATRIX4_m32[this]=0
            set s__MATRIX4_m33[this]=0
            set s__MATRIX4_m34[this]=0
            set s__MATRIX4_m41[this]=0
            set s__MATRIX4_m42[this]=0
            set s__MATRIX4_m43[this]=0
            set s__MATRIX4_m44[this]=0
            return this
        endfunction
        
        function s__MATRIX4_New_1 takes real r11,real r12,real r13,real r14,real r21,real r22,real r23,real r24,real r31,real r32,real r33,real r34,real r41,real r42,real r43,real r44 returns integer
            local integer this= s__MATRIX4__allocate()
            set s__MATRIX4_m11[this]=r11
            set s__MATRIX4_m12[this]=r12
            set s__MATRIX4_m13[this]=r13
            set s__MATRIX4_m14[this]=r14
            set s__MATRIX4_m21[this]=r21
            set s__MATRIX4_m22[this]=r22
            set s__MATRIX4_m23[this]=r23
            set s__MATRIX4_m24[this]=r24
            set s__MATRIX4_m31[this]=r31
            set s__MATRIX4_m32[this]=r32
            set s__MATRIX4_m33[this]=r33
            set s__MATRIX4_m34[this]=r34
            set s__MATRIX4_m41[this]=r41
            set s__MATRIX4_m42[this]=r42
            set s__MATRIX4_m43[this]=r43
            set s__MATRIX4_m44[this]=r44
            return this
        endfunction
        
        function s__MATRIX4_New_2 takes integer m returns integer
            local integer this= s__MATRIX4__allocate()
            set s__MATRIX4_m11[this]=s__MATRIX4_m11[m]
            set s__MATRIX4_m12[this]=s__MATRIX4_m12[m]
            set s__MATRIX4_m13[this]=s__MATRIX4_m13[m]
            set s__MATRIX4_m14[this]=s__MATRIX4_m14[m]
            set s__MATRIX4_m21[this]=s__MATRIX4_m21[m]
            set s__MATRIX4_m22[this]=s__MATRIX4_m22[m]
            set s__MATRIX4_m23[this]=s__MATRIX4_m23[m]
            set s__MATRIX4_m24[this]=s__MATRIX4_m24[m]
            set s__MATRIX4_m31[this]=s__MATRIX4_m31[m]
            set s__MATRIX4_m32[this]=s__MATRIX4_m32[m]
            set s__MATRIX4_m33[this]=s__MATRIX4_m33[m]
            set s__MATRIX4_m34[this]=s__MATRIX4_m34[m]
            set s__MATRIX4_m41[this]=s__MATRIX4_m41[m]
            set s__MATRIX4_m42[this]=s__MATRIX4_m42[m]
            set s__MATRIX4_m43[this]=s__MATRIX4_m43[m]
            set s__MATRIX4_m44[this]=s__MATRIX4_m44[m]
            return this
        endfunction
        
        function s__MATRIX4_New_3 takes integer m returns integer
            local integer this= s__MATRIX4__allocate()
            set s__MATRIX4_m11[this]=s__MATRIX3_m11[m]
            set s__MATRIX4_m12[this]=s__MATRIX3_m12[m]
            set s__MATRIX4_m13[this]=s__MATRIX3_m13[m]
            set s__MATRIX4_m14[this]=0
            set s__MATRIX4_m21[this]=s__MATRIX3_m21[m]
            set s__MATRIX4_m22[this]=s__MATRIX3_m22[m]
            set s__MATRIX4_m23[this]=s__MATRIX3_m23[m]
            set s__MATRIX4_m24[this]=0
            set s__MATRIX4_m31[this]=s__MATRIX3_m31[m]
            set s__MATRIX4_m32[this]=s__MATRIX3_m32[m]
            set s__MATRIX4_m33[this]=s__MATRIX3_m33[m]
            set s__MATRIX4_m34[this]=0
            set s__MATRIX4_m41[this]=0
            set s__MATRIX4_m42[this]=0
            set s__MATRIX4_m43[this]=0
            set s__MATRIX4_m44[this]=1
            return this
        endfunction
        
        function s__MATRIX4_SetValues takes integer this,real r11,real r12,real r13,real r14,real r21,real r22,real r23,real r24,real r31,real r32,real r33,real r34,real r41,real r42,real r43,real r44 returns integer
            set s__MATRIX4_m11[this]=r11
            set s__MATRIX4_m12[this]=r12
            set s__MATRIX4_m13[this]=r13
            set s__MATRIX4_m14[this]=r14
            set s__MATRIX4_m21[this]=r21
            set s__MATRIX4_m22[this]=r22
            set s__MATRIX4_m23[this]=r23
            set s__MATRIX4_m24[this]=r24
            set s__MATRIX4_m31[this]=r31
            set s__MATRIX4_m32[this]=r32
            set s__MATRIX4_m33[this]=r33
            set s__MATRIX4_m34[this]=r34
            set s__MATRIX4_m41[this]=r41
            set s__MATRIX4_m42[this]=r42
            set s__MATRIX4_m43[this]=r43
            set s__MATRIX4_m44[this]=r44
            return this
        endfunction
     
        function s__MATRIX4_ToString takes integer this returns string
            return "Matrux4 id " + I2S(this) + "\n" + R2S(s__MATRIX4_m11[this]) + "  " + R2S(s__MATRIX4_m12[this]) + "  " + R2S(s__MATRIX4_m13[this]) + "  " + R2S(s__MATRIX4_m14[this]) + "\n" + R2S(s__MATRIX4_m21[this]) + "  " + R2S(s__MATRIX4_m22[this]) + "  " + R2S(s__MATRIX4_m23[this]) + "  " + R2S(s__MATRIX4_m24[this]) + "\n" + R2S(s__MATRIX4_m31[this]) + "  " + R2S(s__MATRIX4_m32[this]) + "  " + R2S(s__MATRIX4_m33[this]) + "  " + R2S(s__MATRIX4_m34[this]) + "\n" + R2S(s__MATRIX4_m41[this]) + "  " + R2S(s__MATRIX4_m42[this]) + "  " + R2S(s__MATRIX4_m43[this]) + "  " + R2S(s__MATRIX4_m44[this])
        endfunction
        

    function Matrix4Multiply takes integer Output,integer M1,integer M2 returns integer
        return s__MATRIX4_SetValues(Output,s__MATRIX4_m11[M1] * s__MATRIX4_m11[M2] + s__MATRIX4_m21[M1] * s__MATRIX4_m12[M2] + s__MATRIX4_m31[M1] * s__MATRIX4_m13[M2] + s__MATRIX4_m41[M1] * s__MATRIX4_m14[M2] , s__MATRIX4_m12[M1] * s__MATRIX4_m11[M2] + s__MATRIX4_m22[M1] * s__MATRIX4_m12[M2] + s__MATRIX4_m32[M1] * s__MATRIX4_m13[M2] + s__MATRIX4_m42[M1] * s__MATRIX4_m14[M2] , s__MATRIX4_m13[M1] * s__MATRIX4_m11[M2] + s__MATRIX4_m23[M1] * s__MATRIX4_m12[M2] + s__MATRIX4_m33[M1] * s__MATRIX4_m13[M2] + s__MATRIX4_m43[M1] * s__MATRIX4_m14[M2] , s__MATRIX4_m14[M1] * s__MATRIX4_m11[M2] + s__MATRIX4_m24[M1] * s__MATRIX4_m12[M2] + s__MATRIX4_m34[M1] * s__MATRIX4_m13[M2] + s__MATRIX4_m44[M1] * s__MATRIX4_m14[M2] , s__MATRIX4_m11[M1] * s__MATRIX4_m21[M2] + s__MATRIX4_m21[M1] * s__MATRIX4_m22[M2] + s__MATRIX4_m31[M1] * s__MATRIX4_m23[M2] + s__MATRIX4_m41[M1] * s__MATRIX4_m24[M2] , s__MATRIX4_m12[M1] * s__MATRIX4_m21[M2] + s__MATRIX4_m22[M1] * s__MATRIX4_m22[M2] + s__MATRIX4_m32[M1] * s__MATRIX4_m23[M2] + s__MATRIX4_m42[M1] * s__MATRIX4_m24[M2] , s__MATRIX4_m13[M1] * s__MATRIX4_m21[M2] + s__MATRIX4_m23[M1] * s__MATRIX4_m22[M2] + s__MATRIX4_m33[M1] * s__MATRIX4_m23[M2] + s__MATRIX4_m43[M1] * s__MATRIX4_m24[M2] , s__MATRIX4_m14[M1] * s__MATRIX4_m21[M2] + s__MATRIX4_m24[M1] * s__MATRIX4_m22[M2] + s__MATRIX4_m34[M1] * s__MATRIX4_m23[M2] + s__MATRIX4_m44[M1] * s__MATRIX4_m24[M2] , s__MATRIX4_m11[M1] * s__MATRIX4_m31[M2] + s__MATRIX4_m21[M1] * s__MATRIX4_m32[M2] + s__MATRIX4_m31[M1] * s__MATRIX4_m33[M2] + s__MATRIX4_m41[M1] * s__MATRIX4_m34[M2] , s__MATRIX4_m12[M1] * s__MATRIX4_m31[M2] + s__MATRIX4_m22[M1] * s__MATRIX4_m32[M2] + s__MATRIX4_m32[M1] * s__MATRIX4_m33[M2] + s__MATRIX4_m42[M1] * s__MATRIX4_m34[M2] , s__MATRIX4_m13[M1] * s__MATRIX4_m31[M2] + s__MATRIX4_m23[M1] * s__MATRIX4_m32[M2] + s__MATRIX4_m33[M1] * s__MATRIX4_m33[M2] + s__MATRIX4_m43[M1] * s__MATRIX4_m34[M2] , s__MATRIX4_m14[M1] * s__MATRIX4_m31[M2] + s__MATRIX4_m24[M1] * s__MATRIX4_m32[M2] + s__MATRIX4_m34[M1] * s__MATRIX4_m33[M2] + s__MATRIX4_m44[M1] * s__MATRIX4_m34[M2] , s__MATRIX4_m11[M1] * s__MATRIX4_m41[M2] + s__MATRIX4_m21[M1] * s__MATRIX4_m42[M2] + s__MATRIX4_m31[M1] * s__MATRIX4_m43[M2] + s__MATRIX4_m41[M1] * s__MATRIX4_m44[M2] , s__MATRIX4_m12[M1] * s__MATRIX4_m41[M2] + s__MATRIX4_m22[M1] * s__MATRIX4_m42[M2] + s__MATRIX4_m32[M1] * s__MATRIX4_m43[M2] + s__MATRIX4_m42[M1] * s__MATRIX4_m44[M2] , s__MATRIX4_m13[M1] * s__MATRIX4_m41[M2] + s__MATRIX4_m23[M1] * s__MATRIX4_m42[M2] + s__MATRIX4_m33[M1] * s__MATRIX4_m43[M2] + s__MATRIX4_m43[M1] * s__MATRIX4_m44[M2] , s__MATRIX4_m14[M1] * s__MATRIX4_m41[M2] + s__MATRIX4_m24[M1] * s__MATRIX4_m42[M2] + s__MATRIX4_m34[M1] * s__MATRIX4_m43[M2] + s__MATRIX4_m44[M1] * s__MATRIX4_m44[M2])
    endfunction

    function UIMath___Init takes nothing returns nothing
       set s__VECTOR3_Zero=s__VECTOR3_New_0()
       set s__VECTOR3_oneX=s__VECTOR3_New_1(1 , 0 , 0)
       set s__VECTOR3_oneY=s__VECTOR3_New_1(0 , 1 , 0)
       set s__VECTOR3_oneZ=s__VECTOR3_New_1(0 , 0 , 1)
       set s__MATRIX3_Zero=s__MATRIX3_New_0()
       set s__MATRIX3_E=s__MATRIX3_New_1(1 , 0 , 0 , 0 , 1 , 0 , 0 , 0 , 1)
       set s__MATRIX4_Zero=s__MATRIX4_New_0()
       set s__MATRIX4_E=s__MATRIX4_New_1(1 , 0 , 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 1)
    endfunction


//library UIMath ends
//library WorldBounds:
    
//Implemented from module WorldBounds___WorldBoundInit:
        function s__WorldBounds_WorldBounds___WorldBoundInit__onInit takes nothing returns nothing
            set s__WorldBounds_world=GetWorldBounds()
            set s__WorldBounds_maxX=R2I(GetRectMaxX(s__WorldBounds_world))
            set s__WorldBounds_maxY=R2I(GetRectMaxY(s__WorldBounds_world))
            set s__WorldBounds_minX=R2I(GetRectMinX(s__WorldBounds_world))
            set s__WorldBounds_minY=R2I(GetRectMinY(s__WorldBounds_world))
            set s__WorldBounds_centerX=R2I(( s__WorldBounds_maxX + s__WorldBounds_minX ) / 2)
            set s__WorldBounds_centerY=R2I(( s__WorldBounds_minY + s__WorldBounds_maxY ) / 2)
            set s__WorldBounds_worldRegion=CreateRegion()
            call RegionAddRect(s__WorldBounds_worldRegion, s__WorldBounds_world)
        endfunction

//library WorldBounds ends
//library xebasic:
//**************************************************************************
// 
// xebasic 0.4
// =======
// XE_DUMMY_UNITID : Rawcode of the dummy unit in your map. It should
//                   use the dummy.mdx model, so remember to import it as
//                   well, just use copy&paste to copy the dummy from the
//                   xe map to yours, then change the rawcode.
//
// XE_HEIGHT_ENABLER: Medivh's raven form ability, you may need to change
//                    this rawcode to another spell that morphs into a flier
//                    in case you modified medivh's spell in your map.
//
// XE_TREE_RECOGNITION: The ancients' Eat tree ability, same as with medivh
//                      raven form, you might have to change it.
//
// XE_ANIMATION_PERIOD: The global period of animation used by whatever
//                      timer that depends on it, if you put a low value
//                      the movement will look good but it may hurt your
//                      performance, if instead you use a high value it
//                      will not lag but will be fast.
//
// XE_MAX_COLLISION_SIZE: The maximum unit collision size in your map, if
//                        you got a unit bigger than 197.0 it would be
//                        a good idea to update this constant, since some
//                        enums will not find it. Likewise, if none of
//                        your units can go bellow X and X is much smaller
//                        than 197.0, it would be a good idea to update
//                        as well, since it will improve the performance
//                        those enums.
//
// Notice you probably don't have to update this library, unless I specify
// there are new constants which would be unlikely. 
//
//**************************************************************************

//===========================================================================


//library xebasic ends
//library AutoBuyS:


//Implemented from module Alloc:
    
        function s__ItemList_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ItemList_Alloc__recycle[(0)] == 0 ) then
                set s__ItemList_Alloc__instanceCount=s__ItemList_Alloc__instanceCount + 1
                set this=s__ItemList_Alloc__instanceCount
            else
                set this=s__ItemList_Alloc__recycle[(0)]
                set s__ItemList_Alloc__recycle[(0)]=s__ItemList_Alloc__recycle[s__ItemList_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ItemList_deallocate takes integer this returns nothing
            set s__ItemList_Alloc__recycle[this]=s__ItemList_Alloc__recycle[(0)]
            set s__ItemList_Alloc__recycle[(0)]=this
        endfunction
    function s__ItemList_create takes integer id returns integer
        local integer this= s__ItemList_allocate()
        set s__ItemList_items[this]=s__Table_create()
        set s__ItemList_itemsFrom[this]=s__Table_create()
        set s__ItemList_prices[this]=s__Table_create()
        set s__ItemList_actions[this]=s__Table_create()
        set s__ItemList_id[this]=id
	set s__ItemList_count[this]=0
        return this
    endfunction 
    function s__ItemList_addAction takes integer this,integer id,integer price,integer action returns nothing
        call SaveInteger(Table___ht, (s__ItemList_items[this]), (s__ItemList_maxCount[this]), ( id)) // INLINED!!
	if s__ItemList_maxCount[this] > 0 then
        	call SaveInteger(Table___ht, (s__ItemList_itemsFrom[this]), (s__ItemList_maxCount[this]), ( (LoadInteger(Table___ht, (s__ItemList_items[this]), (s__ItemList_maxCount[this] - 1))))) // INLINED!!
	endif
        call SaveInteger(Table___ht, (s__ItemList_prices[this]), (s__ItemList_maxCount[this]), ( price)) // INLINED!!
        call SaveInteger(Table___ht, (s__ItemList_actions[this]), (s__ItemList_maxCount[this]), ( action)) // INLINED!!
        set s__ItemList_maxCount[this]=s__ItemList_maxCount[this] + 1
    endfunction 
    function s__ItemList_addActionFrom takes integer this,integer id,integer price,integer from,integer action returns nothing
        call SaveInteger(Table___ht, (s__ItemList_items[this]), (s__ItemList_maxCount[this]), ( id)) // INLINED!!
        call SaveInteger(Table___ht, (s__ItemList_itemsFrom[this]), (s__ItemList_maxCount[this]), ( from)) // INLINED!!
        call SaveInteger(Table___ht, (s__ItemList_prices[this]), (s__ItemList_maxCount[this]), ( price)) // INLINED!!
        call SaveInteger(Table___ht, (s__ItemList_actions[this]), (s__ItemList_maxCount[this]), ( action)) // INLINED!!
        set s__ItemList_maxCount[this]=s__ItemList_maxCount[this] + 1
    endfunction 
    function s__ItemList_buyItem takes integer this,integer id,integer price returns nothing
        call s__ItemList_addAction(this,id , price , 0)
    endfunction 
    function s__ItemList_upgradeItem takes integer this,integer id,integer price returns nothing
        call s__ItemList_addAction(this,id , price , 1)
    endfunction 
    function s__ItemList_upgradeItemFrom takes integer this,integer id,integer price,integer from returns nothing
        call s__ItemList_addActionFrom(this,id , price , from , 1)
    endfunction 
    function s__ItemList_sellItem takes integer this,integer id,integer price returns nothing
        call s__ItemList_addAction(this,id , price , 2)
    endfunction 
    function s__ItemList_doAction takes integer this returns boolean
        local integer id
        local integer id2
        local integer price
        local integer action
        local integer gold= GetPlayerState(Player(s__ItemList_id[this]), PLAYER_STATE_RESOURCE_GOLD)
        local unit u= udg_units33[s__ItemList_id[this] + 1]
        if s__ItemList_count[this] < s__ItemList_maxCount[this] then
            set id=(LoadInteger(Table___ht, (s__ItemList_items[this]), (s__ItemList_count[this]))) // INLINED!!
            set price=(LoadInteger(Table___ht, (s__ItemList_prices[this]), (s__ItemList_count[this]))) // INLINED!!
            set action=(LoadInteger(Table___ht, (s__ItemList_actions[this]), (s__ItemList_count[this]))) // INLINED!!
            if action == 0 then
                if (UnitHasItemOfTypeBJ((u ), ( id))) then // INLINED!!
                    set s__ItemList_count[this]=s__ItemList_count[this] + 1
                    return true
                elseif gold >= price then
		    if ( id == OIL and GetPlayerTechCountSimple('Rhst', GetOwningPlayer(u)) > 0 ) or id != OIL then
                    	call UnitAddItemEx(u , id)
                    	call SetPlayerState(Player(s__ItemList_id[this]), PLAYER_STATE_RESOURCE_GOLD, gold - price)
                    	call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cff87ceebYou bought |r" + GetItemName(GetItemOfTypeFromUnitBJ(u, id)) + " |cff87ceebfor |cffffcc00" + I2S(price) + "|r|cff87ceeb gold.|r")
                    	set s__ItemList_count[this]=s__ItemList_count[this] + 1
                    	return true
		    elseif ( id == OIL and GetPlayerTechCountSimple('Rhst', GetOwningPlayer(u)) == 0 ) then
			call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cffff0000Autobuy: Waiting for oil to become available.|r")
		    endif
                    return false
                endif
            elseif action == 1 then
                 set id2=(LoadInteger(Table___ht, (s__ItemList_itemsFrom[this]), (s__ItemList_count[this]))) // INLINED!!
                 if gold >= price and (UnitHasItemOfTypeBJ((u ), ( id2))) then // INLINED!!
                    call RemoveItem(GetItemOfTypeFromUnitBJ((u ), ( id2))) // INLINED!!
                    call UnitAddItemEx(u , id)
                    call SetPlayerState(Player(s__ItemList_id[this]), PLAYER_STATE_RESOURCE_GOLD, gold - price)
                    call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cff87ceebYou upgraded |r" + GetItemName(GetItemOfTypeFromUnitBJ(u, id)) + " |cff87ceebfor |cffffcc00" + I2S(price) + "|r|cff87ceeb gold.|r")
                    set s__ItemList_count[this]=s__ItemList_count[this] + 1
                    return true
                endif
            elseif action == 2 then
                if (UnitHasItemOfTypeBJ((u ), ( id))) then // INLINED!!
                    call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, "|cff87ceebYou sold |r" + GetItemName(GetItemOfTypeFromUnitBJ(u, id)) + " |cff87ceebfor |cffffcc00" + I2S(price) + "|r|cff87ceeb gold.|r")
                    call RemoveItem(GetItemOfTypeFromUnitBJ((u ), ( id))) // INLINED!!
                    call SetPlayerState(Player(s__ItemList_id[this]), PLAYER_STATE_RESOURCE_GOLD, gold + price)
                endif
                set s__ItemList_count[this]=s__ItemList_count[this] + 1
                return true
            endif
        endif
        return false
    endfunction 


    function AutoBuyS__buyItems takes unit u returns nothing
        local integer id= GetPlayerId(GetOwningPlayer(u))
        loop
            exitwhen not s__ItemList_doAction(s__AutoBuyS__lists[id])
        endloop
    endfunction
    
    function AutoBuyS__enterKonoha takes nothing returns nothing
        if IsUnitAlly(GetEnteringUnit(), Player(3)) and GetEnteringUnit() == udg_units33[GetPlayerId(GetOwningPlayer(GetEnteringUnit())) + 1] and s__AutoBuyS__autobuy[GetPlayerId(GetOwningPlayer(GetEnteringUnit()))] then
		call AutoBuyS__buyItems(GetEnteringUnit())
        endif
    endfunction
    
    function AutoBuyS__enterEvil takes nothing returns nothing
        if IsUnitAlly(GetTriggerUnit(), Player(7)) and GetEnteringUnit() == udg_units33[GetPlayerId(GetOwningPlayer(GetEnteringUnit())) + 1] and s__AutoBuyS__autobuy[GetPlayerId(GetOwningPlayer(GetEnteringUnit()))] then
            call AutoBuyS__buyItems(GetEnteringUnit())
        endif
    endfunction
    
    function AutoBuyS__enterAkt takes nothing returns nothing
        if IsUnitAlly(GetEnteringUnit(), Player(11)) and GetEnteringUnit() == udg_units33[GetPlayerId(GetOwningPlayer(GetEnteringUnit())) + 1] and s__AutoBuyS__autobuy[GetPlayerId(GetOwningPlayer(GetEnteringUnit()))] then
            call AutoBuyS__buyItems(GetEnteringUnit())
        endif
    endfunction
     
    function autoBuyCmdEnable takes boolean enable returns nothing
 local integer id= GetPlayerId(GetTriggerPlayer())
	set s__AutoBuyS__autobuy[id]= enable
    endfunction 

    function autobuyCmdBuild takes integer build returns nothing
  local real str
  local real agi
  local real int
  local boolean tai
  local boolean gen
  local boolean nin
  local integer id= GetPlayerId(GetTriggerPlayer())
		set s__AutoBuyS__autobuy[id]= true
		set s__AutoBuyS__buildId[id]= build
                if s__AutoBuyS__firstUse[id] then
                    set str=GetHeroStr(udg_units33[id + 1], true)
                    set agi=GetHeroAgi(udg_units33[id + 1], true)
                    set int=GetHeroInt(udg_units33[id + 1], true)
                    set tai=str >= agi and str >= int
                    set nin=agi >= str and agi >= int
                    set gen=int >= str and int >= agi
                    set s__AutoBuyS__lists[id]= s__ItemList_create(id)
                    call s__ItemList_addAction((s__AutoBuyS__lists[id]),(CLOGS ) , ( 800) , 0) // INLINED!!
                    call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I00B' ) , ( 900) , 1) // INLINED!!
                    call s__ItemList_addAction((s__AutoBuyS__lists[id]),(NINJA_BOOTS ) , ( 900) , 1) // INLINED!!
                    call s__ItemList_addAction((s__AutoBuyS__lists[id]),(OIL ) , ( 2250) , 0) // INLINED!!
                    if s__AutoBuyS__buildId[id] == 2 then
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebUsing offensive build.|r")
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(ANBU_BADGE ) , ( 2000) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(ANBU_MASK ) , ( 800 + 2500) , 1) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(EXPLOSIVE_KUNAI ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KYUUBI_LOST_SPEAR ) , ( 9000) , 1) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(FUUMA_SHURIKEN ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(YONDAIME_CROSSBOW ) , ( 9000) , 1) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_DANCE ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(NIDAIME_STAFF ) , ( 9000) , 1) // INLINED!!
                        endif
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(BAULK_OF_KAWARIMI ) , ( 2000) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(OIL ) , ( 2250) , 2) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(GENIN_CLOTH ) , ( 3700) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(CHUNNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(JOUNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(ANBU_ARMOR ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SANNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KAGE_ROBE ) , ( 12800) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('fwss' ) , ( 800) , 2) // INLINED!!
			if tai then
                            call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),(HOKAGE_ROBE ) , ( 9500 ) , ( KAGE_ROBE) , 1) // INLINED!!
                        elseif nin then
                            call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),(RAIKAGE_ROBE ) , ( 9500 ) , ( KAGE_ROBE) , 1) // INLINED!!
                        elseif gen then
                            call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),(MIZUKAGE_ROBE ) , ( 9500 ) , ( KAGE_ROBE) , 1) // INLINED!!
                        endif

			if tai then
                            call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('I07A' ) , ( 14000 ) , ( ANBU_MASK) , 1) // INLINED!!
                        elseif nin then
                            call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('I07E' ) , ( 14000 ) , ( ANBU_MASK) , 1) // INLINED!!
                        elseif gen then
                            call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('I07B' ) , ( 14000 ) , ( ANBU_MASK) , 1) // INLINED!!
                        endif
                    elseif s__AutoBuyS__buildId[id] == 3 then
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebUsing anti-stun build.|r")
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('mcou' ) , ( 4000) , 0) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(EXPLOSIVE_KUNAI ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KYUUBI_LOST_SPEAR ) , ( 9000) , 1) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(FUUMA_SHURIKEN ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(YONDAIME_CROSSBOW ) , ( 9000) , 1) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_DANCE ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(NIDAIME_STAFF ) , ( 9000) , 1) // INLINED!!
                        endif
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(BAULK_OF_KAWARIMI ) , ( 2000) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(OIL ) , ( 2250) , 2) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(GENIN_CLOTH ) , ( 3700) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(CHUNNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(JOUNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(ANBU_ARMOR ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SANNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KAGE_ROBE ) , ( 12800) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(OTOKAGE_ROBE ) , ( 9500) , 1) // INLINED!!
                        call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('I006' ) , ( 10300 ) , ( 'mcou') , 1) // INLINED!!
                    elseif s__AutoBuyS__buildId[id] == 4 then
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebUsing anti-debuff build.|r")
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('modt' ) , ( 2000) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(ANBU_MASK ) , ( 800 + 2500) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SANBI_SKIN ) , ( 3300) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I054' ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I055' ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I05Q' ) , ( 5000) , 1) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(EXPLOSIVE_KUNAI ) , ( 3000) , 0) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(FUUMA_SHURIKEN ) , ( 3000) , 0) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_DANCE ) , ( 3000) , 0) // INLINED!!
                        endif
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I033' ) , ( 2250) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(OIL ) , ( 2250) , 2) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KYUUBI_LOST_SPEAR ) , ( 9000) , 1) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(YONDAIME_CROSSBOW ) , ( 9000) , 1) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(NIDAIME_STAFF ) , ( 9000) , 1) // INLINED!!
                        endif
                        call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('I006' ) , ( 9000 ) , ( ANBU_MASK) , 1) // INLINED!!
                    elseif s__AutoBuyS__buildId[id] == 5 then
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebUsing auto-attack build.|r")
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I007' ) , ( 6000) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(AKATSUKI_RING ) , ( 3500) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(JADE_OF_SUSANOO ) , ( 8000) , 1) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(EXPLOSIVE_KUNAI ) , ( 3000) , 0) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(FUUMA_SHURIKEN ) , ( 3000) , 0) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_DANCE ) , ( 3000) , 0) // INLINED!!
                        endif
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I03X' ) , ( 2250) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(OIL ) , ( 2250) , 2) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(GENIN_CLOTH ) , ( 3700) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(CHUNNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(JOUNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(ANBU_ARMOR ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SANNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KAGE_ROBE ) , ( 12800) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KAZEKAGE_ROBE ) , ( 9500) , 1) // INLINED!!
                        call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('rhth' ) , ( 5000 ) , ( JADE_OF_SUSANOO) , 1) // INLINED!!
                    else
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebUsing defensive build.|r")
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I00R' ) , ( 800) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(GENIN_CLOTH ) , ( 3700) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(CHUNNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(JOUNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(ANBU_ARMOR ) , ( 3300) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SANNIN_CLOTH ) , ( 3300) , 1) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(EXPLOSIVE_KUNAI ) , ( 3000) , 0) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(FUUMA_SHURIKEN ) , ( 3000) , 0) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_DANCE ) , ( 3000) , 0) // INLINED!!
                        endif
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(BAULK_OF_KAWARIMI ) , ( 2000) , 0) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),(OIL ) , ( 2250) , 2) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KUNAI_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(KYUUBI_LOST_SPEAR ) , ( 9000) , 1) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SHURIKEN_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(YONDAIME_CROSSBOW ) , ( 9000) , 1) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_1 ) , ( 3000) , 0) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_2 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_3 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_4 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_5 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_6 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_7 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_8 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_9 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(SENBONS_10 ) , ( 2500) , 1) // INLINED!!
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(NIDAIME_STAFF ) , ( 9000) , 1) // INLINED!!
                        endif
                        call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),(KAGE_ROBE ) , ( 12800 ) , ( SANNIN_CLOTH) , 1) // INLINED!!
                        if tai then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(HOKAGE_ROBE ) , ( 9500) , 1) // INLINED!!
                        elseif nin then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(RAIKAGE_ROBE ) , ( 9500) , 1) // INLINED!!
                        elseif gen then
                            call s__ItemList_addAction((s__AutoBuyS__lists[id]),(MIZUKAGE_ROBE ) , ( 9500) , 1) // INLINED!!
                        endif
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I03Y' ) , ( 2700) , 1) // INLINED!!
                        call s__ItemList_addAction((s__AutoBuyS__lists[id]),('I03Z' ) , ( 2700) , 1) // INLINED!!
                        call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('I040' ) , ( 2700 ) , ( 'I03Z') , 1) // INLINED!!
                        call s__ItemList_addActionFrom((s__AutoBuyS__lists[id]),('I04T' ) , ( 9900 ) , ( 'I03Z') , 1) // INLINED!!
                    endif
                endif
                set s__AutoBuyS__firstUse[id]= false
    endfunction

    function AutoBuyS__autobuyCmd takes nothing returns nothing
        local integer id= GetPlayerId(GetTriggerPlayer())
        if udg_units33[id + 1] == null then
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You must have a hero to enable this command.|r")
        else
            if s__AutoBuyS__autobuy[id] then
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebAutobuy disabled.|r")
                set s__AutoBuyS__autobuy[id]= false
            else
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebAutobuy enabled. Type -autobuy again to disable it. |cffff0000DO NOT BUY ANYTHING MANUALLY!|r")
                set s__AutoBuyS__buildId[id]= S2I(SubStringBJ(GetEventPlayerChatString(), 10, 11))
		call autobuyCmdBuild(s__AutoBuyS__buildId[id])
	    endif
        endif
    endfunction
    
    function AutoBuyS__init takes nothing returns nothing
        local trigger t= CreateTrigger()
        local trigger t1= CreateTrigger()
        local trigger t2= CreateTrigger()
        local trigger t3= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 11
            set s__AutoBuyS__autobuy[i]= false
            set s__AutoBuyS__firstUse[i]= true
            call TriggerRegisterPlayerChatEvent(t, Player(i), "-autobuy", false)
            set i=i + 1
        endloop
        call TriggerAddAction(t, function AutoBuyS__autobuyCmd)

        call TriggerRegisterEnterRectSimple(t1, gg_rct_KONOHA)
        call TriggerAddAction(t1, function AutoBuyS__enterKonoha)
        call TriggerRegisterEnterRectSimple(t2, gg_rct_EVIL)
        call TriggerAddAction(t2, function AutoBuyS__enterEvil)
        call TriggerRegisterEnterRectSimple(t3, gg_rct_AKATSUKI)
        call TriggerAddAction(t3, function AutoBuyS__enterAkt)

    endfunction
   


//library AutoBuyS ends
//library Camera:


    function GetCameraDeltaZ takes nothing returns real
        return Camera___DeltaZ
    endfunction
    
    function Camera___Matrix4Perspective1 takes integer Output,real fovy,real Aspect,real zn,real zf returns integer
        return s__MATRIX4_SetValues(Output,2 * zn / fovy , 0 , 0 , 0 , 0 , 2 * zn / Aspect , 0 , 0 , 0 , 0 , zf / ( zf - zn ) , 1 , 0 , 0 , zn * zf / ( zn - zf ) , 0)
    endfunction

    function Camera___Matrix4Perspective2 takes integer Output,real n,real f,real r,real l,real t,real b returns integer
        return s__MATRIX4_SetValues(Output,2 * n / ( r - l ) , 0 , ( r + l ) / ( r - l ) , 0 , 0 , 2 * n / ( t - b ) , ( t + b ) / ( t - b ) , 0 , 0 , 0 , - ( f + n ) / ( f - n ) , - 2 * f * n / ( f - n ) , 0 , 0 , - 1 , 0)
    endfunction

    function Camera___Matrix4Look takes integer Output,integer PosCamera,integer AxisX,integer AxisY,integer AxisZ returns integer
        return s__MATRIX4_SetValues(Output,s__VECTOR3_x[AxisX] , s__VECTOR3_x[AxisY] , s__VECTOR3_x[AxisZ] , 0 , s__VECTOR3_y[AxisX] , s__VECTOR3_y[AxisY] , s__VECTOR3_y[AxisZ] , 0 , s__VECTOR3_z[AxisX] , s__VECTOR3_z[AxisY] , s__VECTOR3_z[AxisZ] , 0 , - Vec3Dot(AxisX , PosCamera) , - Vec3Dot(AxisY , PosCamera) , - Vec3Dot(AxisZ , PosCamera) , 1)
    endfunction

        
        function s__Camera_win2World takes integer this,real X,real Y,real Range returns integer
            local integer Output= s__VECTOR3__allocate()
            set s__VECTOR3_x[Output]=s__VECTOR3_x[s__Camera_eye[this]] + s__VECTOR3_x[s__Camera_axisZ[this]] * Range + X * s__VECTOR3_x[s__Camera_axisX[this]] * SCREEN_WIDTH * Range + Y * s__VECTOR3_x[s__Camera_axisY[this]] * SCREEN_HEIGHT * Range
            set s__VECTOR3_y[Output]=s__VECTOR3_y[s__Camera_eye[this]] + s__VECTOR3_y[s__Camera_axisZ[this]] * Range + X * s__VECTOR3_y[s__Camera_axisX[this]] * SCREEN_WIDTH * Range + Y * s__VECTOR3_y[s__Camera_axisY[this]] * SCREEN_HEIGHT * Range
            set s__VECTOR3_z[Output]=s__VECTOR3_z[s__Camera_eye[this]] + s__VECTOR3_z[s__Camera_axisZ[this]] * Range + X * s__VECTOR3_z[s__Camera_axisX[this]] * SCREEN_WIDTH * Range + Y * s__VECTOR3_z[s__Camera_axisY[this]] * SCREEN_HEIGHT * Range
            return Output
        endfunction

        function s__Camera_world2Win takes integer this,real X,real Y,real Z returns integer
            local integer Pos= s__VECTOR3_New_1(X , Y , Z)
            local boolean b
            call Vec3Transform_2(Pos , Pos , s__Camera_view[this])
            set b=s__VECTOR3_z[Pos] < 0
            call Vec3Transform_2(Pos , Pos , s__Camera_projection[this])
            if b then
                set s__VECTOR3_z[Pos]=- s__VECTOR3_z[Pos]
            endif
            return Pos
        endfunction
        
        function s__Camera_updateDistanceYawPitch takes integer this returns nothing
            local real dx= s__VECTOR3_x[s__Camera_at[this]] - s__VECTOR3_x[s__Camera_eye[this]]
            local real dy= s__VECTOR3_y[s__Camera_at[this]] - s__VECTOR3_y[s__Camera_eye[this]]
            local real dz= s__VECTOR3_z[s__Camera_at[this]] - s__VECTOR3_z[s__Camera_eye[this]]
            local real len2d
            set s__Camera_distance[this]=SquareRoot(dx * dx + dy * dy + dz * dz)
            set s__Camera_yaw[this]=Atan2(dy, dx)
            set len2d=SquareRoot(dx * dx + dy * dy)
            set s__Camera_pitch[this]=Atan2(dz, len2d)
        endfunction
        
        function s__Camera_updateAxisMatrix takes integer this returns nothing
            local integer mat
            call Vec3Normalize(s__Camera_axisZ[this] , Vec3Subtract(s__Camera_axisZ[this] , s__Camera_at[this] , s__Camera_eye[this]))
            set mat=Matrix3RotationAxis(s__MATRIX3__allocate() , s__Camera_axisZ[this] , - s__Camera_roll[this])
            call Vec3Normalize(s__Camera_axisX[this] , Vec3Cross(s__Camera_axisX[this] , s__Camera_axisZ[this] , s__VECTOR3_oneZ))
            call Vec3Transform_1(s__Camera_axisY[this] , Vec3Cross(s__Camera_axisY[this] , s__Camera_axisX[this] , s__Camera_axisZ[this]) , mat)
            call Vec3Transform_1(s__Camera_axisX[this] , s__Camera_axisX[this] , mat)
            call Camera___Matrix4Look(s__Camera_view[this] , s__Camera_eye[this] , s__Camera_axisX[this] , s__Camera_axisY[this] , s__Camera_axisZ[this])
            call s__MATRIX3_deallocate(mat)
        endfunction

        function s__Camera_applyCameraForPlayer takes integer this,player p,boolean ignoreChange returns boolean
            if GetLocalPlayer() == p then
                call SetCameraField(CAMERA_FIELD_ROTATION, s__Camera_yaw[this] * bj_RADTODEG, 0)
                call SetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK, s__Camera_pitch[this] * bj_RADTODEG, 0)
                call SetCameraField(CAMERA_FIELD_ROLL, s__Camera_roll[this] * bj_RADTODEG, 0)
                call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE, s__Camera_distance[this], 0)
                call SetCameraTargetController(Camera_DummyUnit[GetPlayerId(p)], s__VECTOR3_x[s__Camera_at[this]], s__VECTOR3_y[s__Camera_at[this]], false)
                call SetCameraField(CAMERA_FIELD_ZOFFSET, s__VECTOR3_z[s__Camera_at[this]] - Camera___DeltaZ, 0)
            endif
            if s__Camera_change[this] or ignoreChange then
                set s__Camera_change[this]=false
                return true
            endif
            return false
        endfunction

        function s__Camera_setPosition takes integer this,real x,real y,real z returns nothing
            local real dx= x - s__VECTOR3_x[s__Camera_at[this]]
            local real dy= y - s__VECTOR3_y[s__Camera_at[this]]
            local real dz= z - s__VECTOR3_z[s__Camera_at[this]]
            set s__VECTOR3_x[s__Camera_eye[this]]=s__VECTOR3_x[s__Camera_eye[this]] + dx
            set s__VECTOR3_y[s__Camera_eye[this]]=s__VECTOR3_y[s__Camera_eye[this]] + dy
            set s__VECTOR3_z[s__Camera_eye[this]]=s__VECTOR3_z[s__Camera_eye[this]] + dz
            set s__VECTOR3_x[s__Camera_at[this]]=x
            set s__VECTOR3_y[s__Camera_at[this]]=y
            set s__VECTOR3_z[s__Camera_at[this]]=z
            set s__Camera_change[this]=true
        endfunction
        
        function s__Camera_setEyeAndAt takes integer this,real ex,real ey,real ez,real tx,real ty,real tz returns nothing
            set s__VECTOR3_x[s__Camera_eye[this]]=ex
            set s__VECTOR3_y[s__Camera_eye[this]]=ey
            set s__VECTOR3_z[s__Camera_eye[this]]=ez
            set s__VECTOR3_x[s__Camera_at[this]]=tx
            set s__VECTOR3_y[s__Camera_at[this]]=ty
            set s__VECTOR3_z[s__Camera_at[this]]=tz
            call s__Camera_updateDistanceYawPitch(this)
            call s__Camera_updateAxisMatrix(this)
            set s__Camera_change[this]=true
        endfunction
        
        function s__Camera_setYawPitchRoll takes integer this,real yaw,real pitch,real roll,boolean EyeLock returns nothing
            local real Z= s__Camera_distance[this] * Sin(pitch)
            local real XY= s__Camera_distance[this] * Cos(pitch)
            local real X= XY * Cos(yaw)
            local real Y= XY * Sin(yaw)
            set s__Camera_yaw[this]=yaw
            set s__Camera_pitch[this]=pitch
            set s__Camera_roll[this]=roll
            if EyeLock then
                set s__VECTOR3_x[s__Camera_at[this]]=s__VECTOR3_x[s__Camera_eye[this]] + X
                set s__VECTOR3_y[s__Camera_at[this]]=s__VECTOR3_y[s__Camera_eye[this]] + Y
                set s__VECTOR3_z[s__Camera_at[this]]=s__VECTOR3_z[s__Camera_eye[this]] + Z
            else
                set s__VECTOR3_x[s__Camera_eye[this]]=s__VECTOR3_x[s__Camera_at[this]] - X
                set s__VECTOR3_y[s__Camera_eye[this]]=s__VECTOR3_y[s__Camera_at[this]] - Y
                set s__VECTOR3_z[s__Camera_eye[this]]=s__VECTOR3_z[s__Camera_at[this]] - Z
            endif
            call s__Camera_updateAxisMatrix(this)
            set s__Camera_change[this]=true
        endfunction
        
        function s__Camera_create takes nothing returns integer
            local integer this= s__Camera__allocate()
            
            set s__Camera_customValue[this]=0
            set s__Camera_change[this]=true
            set s__Camera_eye[this]=s__VECTOR3_New_1(0.0 , - 922.668 , Camera___DeltaZ + 1367.912)
            set s__Camera_at[this]=s__VECTOR3_New_1(0 , 0 , Camera___DeltaZ)
            set s__Camera_distance[this]=0
            set s__Camera_yaw[this]=0
            set s__Camera_pitch[this]=0
            set s__Camera_roll[this]=0
            set s__Camera_axisX[this]=s__VECTOR3__allocate()
            set s__Camera_axisY[this]=s__VECTOR3__allocate()
            set s__Camera_axisZ[this]=s__VECTOR3__allocate()
            set s__Camera_view[this]=s__MATRIX4__allocate()
            set s__Camera_projection[this]=Camera___Matrix4Perspective2(s__MATRIX4__allocate() , 0.5 , 10000 , - SCREEN_WIDTH / 2 , SCREEN_WIDTH / 2 , - SCREEN_HEIGHT / 2 , SCREEN_HEIGHT / 2)
            call s__Camera_updateDistanceYawPitch(this)
            call s__Camera_updateAxisMatrix(this)
            
            return this
        endfunction
        
        function s__Camera_destroy takes integer this returns nothing
            call s__VECTOR3_deallocate(s__Camera_eye[this])
            call s__VECTOR3_deallocate(s__Camera_at[this])
            call s__VECTOR3_deallocate(s__Camera_axisX[this])
            call s__VECTOR3_deallocate(s__Camera_axisY[this])
            call s__VECTOR3_deallocate(s__Camera_axisZ[this])
            call s__MATRIX4_deallocate(s__Camera_view[this])
            call s__MATRIX4_deallocate(s__Camera_projection[this])
            call s__Camera_destroy(this)
        endfunction
        


    function Camera___InitDeltaZ takes nothing returns nothing
        local timer t= GetExpiredTimer()
        
        set Camera___TempX=GetCameraTargetPositionX()
        set Camera___TempY=GetCameraTargetPositionY()
        call SetCameraPosition(CHECK_DELTAZ_X, CHECK_DELTAZ_Y)
        set Camera___DeltaZ=GetCameraTargetPositionZ()
        call SetCameraPosition(Camera___TempX, Camera___TempY)


            call ReleaseTimer(t)



            
        set t=null
    endfunction
    
    
//Implemented from module Camera___CamInitModule:
        function s__Camera___CamInit_Camera___CamInitModule__onInit takes nothing returns nothing
            local integer i= 0
            local integer user
            
            loop
                exitwhen i == s__User_AmountPlaying
                
                set user=(s__User_PlayingPlayer[(i)]) // INLINED!!
                
                set Camera_DummyUnit[s__User_id[user]]=CreateUnit(CAMERA_DUMMY_PLAYER, CAMERA_DUMMY_TYPE, 0, 0, 0)
                call ShowUnit(Camera_DummyUnit[s__User_id[user]], false)
                call PauseUnit(Camera_DummyUnit[s__User_id[user]], true)
                
                set i=i + 1
            endloop
            
            // init delta z

                call TimerStartEx((NewTimerEx(0)) , 0. , false , function Camera___InitDeltaZ , "InitDeltaZ") // INLINED!!



        endfunction
    

//library Camera ends
//library Dialog:


    

        
        function s__Dialog_getClickedDialog takes nothing returns integer
            return (LoadInteger(Table___ht, (Dialog___instance), (GetHandleId(GetClickedDialog())))) // INLINED!!
        endfunction
        function s__Dialog_getClickedButton takes nothing returns button
            return GetClickedButton()
        endfunction
        function s__Dialog_getPlayer takes nothing returns player
            return GetTriggerPlayer()
        endfunction
        
        function s__Dialog__set_title takes integer this,string text returns nothing
            call DialogSetMessage(s__Dialog_dg[this], text)
            set s__Dialog_msg[this]=text
        endfunction
        
        function s__Dialog_addButton takes integer this,string text,integer hotkey returns button
            return DialogAddButton(s__Dialog_dg[this], text, hotkey)
        endfunction
        
        function s__Dialog_display takes integer this,player p,boolean flag returns nothing
            call DialogDisplay(p, s__Dialog_dg[this], flag)
            call DialogSetMessage(s__Dialog_dg[this], s__Dialog_msg[this])
        endfunction
        function s__Dialog_displayAll takes integer this,boolean flag returns nothing
            call DialogDisplay(GetLocalPlayer(), s__Dialog_dg[this], flag)
            call DialogSetMessage(s__Dialog_dg[this], s__Dialog_msg[this])
        endfunction
        
        function s__Dialog_clear takes integer this returns nothing
            call DialogClear(s__Dialog_dg[this])
            set s__Dialog_msg[this]=""
        endfunction
        
        function s__Dialog_registerClickEvent takes integer this,boolexpr b returns nothing
            if s__Dialog_click[this] == null then
                call SaveInteger(Table___ht, (Dialog___instance), (GetHandleId(s__Dialog_dg[this])), ( this)) // INLINED!!
                set s__Dialog_click[this]=CreateTrigger()
                call TriggerRegisterDialogEvent(s__Dialog_click[this], s__Dialog_dg[this])
            endif
            call TriggerAddCondition(s__Dialog_click[this], b)
        endfunction
        
        function s__Dialog_destroy takes integer this returns nothing
            
            if s__Dialog_click[this] != null then
                call DestroyTrigger(s__Dialog_click[this])
                call RemoveSavedInteger(Table___ht, (Dialog___instance), (GetHandleId(s__Dialog_dg[this]))) // INLINED!!
                set s__Dialog_click[this]=null
            endif
            
            call DialogClear(s__Dialog_dg[this])
            call DialogDestroy(s__Dialog_dg[this])
            set s__Dialog_dg[this]=null
            call s__Dialog_deallocate(this)
        endfunction
    
        function s__Dialog_create takes nothing returns integer
            local integer this= s__Dialog__allocate()
            set s__Dialog_dg[this]=DialogCreate()
            return this
        endfunction
        
//Implemented from module Dialog___DialogInit:
        function s__Dialog_Dialog___DialogInit__onInit takes nothing returns nothing
            set Dialog___instance=s__Table_create()
        endfunction
    

//library Dialog ends
//library GeometryLibBase:

 

//GEOMETRIES
//1: CIRCLE
//2: SQUARE 
//3: RECTANLE 
//4: ARC
//h = maximum height
//d = distance 
//x = actual position between 0 and d

function ParabolaZ takes real h,real d,real x returns real
  return ( 4 * h / d ) * ( d - x ) * ( x / d )
endfunction

function Parabola takes real y0,real y1,real h,real d,real x returns real
    local real A= ( 2 * ( y0 + y1 ) - 4 * h ) / ( d * d )
    local real B= ( y1 - y0 - A * d * d ) / d
    return A * x * x + B * x + y0
endfunction

function Atan3 takes real x1,real y1,real x2,real y2 returns real
    local real a= Atan2(y2 - y1, x2 - x1)
    if a < 0 then
        return 2 * bj_PI + a
    endif
    return a
endfunction
 
function GetAngleUnits takes unit u1,unit u2 returns real
    return Atan3(GetUnitX(u1) , GetUnitY(u1) , GetUnitX(u2) , GetUnitY(u2))
endfunction

function GetDistance takes real x1,real y1,real x2,real y2 returns real
    local real dx= x2 - x1
    local real dy= y2 - y1
    return SquareRoot(dx * dx + dy * dy)
endfunction

function GetDistanceUnits takes unit u1,unit u2 returns real
    return GetDistance(GetUnitX(u1) , GetUnitY(u1) , GetUnitX(u2) , GetUnitY(u2))
endfunction
 
function GetDistanceZ takes real x1,real y1,real x2,real y2 returns real
    local real dx= x2 - x1
    local real dy= y2 - y1
    local real dz= GetPointZ(x2 , y2) - GetPointZ(x1 , y1)
    return SquareRoot(dx * dx + dy * dy + dz * dz)
endfunction
 
function GetZangle takes real x1,real y1,real x2,real y2 returns real
    return Acos(GetDistance(x1 , y1 , x2 , y2) / GetDistanceZ(x1 , y1 , x2 , y2))
endfunction
 
// Returns angle in radians
function GetDeflectionAngle takes unit missile,unit target returns real
    return 2. * Atan3(GetUnitX(missile) , GetUnitY(missile) , GetUnitX(target) , GetUnitY(target)) + bj_PI - GetUnitFacing(missile) * bj_DEGTORAD
endfunction

function GetPolarX takes real x,real radians,real d returns real
    return x + Cos(radians) * d
endfunction
 
function GetPolarY takes real y,real radians,real d returns real
    return y + Sin(radians) * d
endfunction

function GenerateRandomArc takes real x,real y,real maxAngle,real offset returns nothing
    set GeometryLibBase___SPACE_X=x
    set GeometryLibBase___SPACE_Y=y
    set GeometryLibBase___SPACE_OFFSET=offset
    set GeometryLibBase___SPACE_MAX_ANGLE=maxAngle
    set GeometryLibBase___GEOMETRY=4
endfunction

function GenerateRandomCircle takes real x,real y,real offset returns nothing
    call GenerateRandomArc(x , y , 2 * bj_PI , offset)
    set GeometryLibBase___GEOMETRY=1
endfunction

function GenerateRandomRectangle takes real x,real y,real width,real height returns nothing
    set GeometryLibBase___SPACE_X=x
    set GeometryLibBase___SPACE_Y=y
    set GeometryLibBase___SPACE_OFFSET=width
    set GeometryLibBase___SPACE_OFFSET_2=height
    set GeometryLibBase___GEOMETRY=3
endfunction

function GenerateRandomRect takes real x,real y,real offset returns nothing
    call GenerateRandomRectangle(x , y , offset , offset)
    set GeometryLibBase___GEOMETRY=2
endfunction

function GetRandomX takes nothing returns real
    set GeometryLibBase___SPACE_OFFSET=GetRandomReal(0, GeometryLibBase___SPACE_OFFSET)
    if GeometryLibBase___GEOMETRY == 1 or GeometryLibBase___GEOMETRY == 4 then
        set GeometryLibBase___SPACE_ANGLE=GetRandomReal(0, GeometryLibBase___SPACE_MAX_ANGLE)
        return (((GeometryLibBase___SPACE_X )*1.0) + Cos((( GeometryLibBase___SPACE_ANGLE )*1.0)) * (( GeometryLibBase___SPACE_OFFSET)*1.0)) // INLINED!!
    elseif GeometryLibBase___GEOMETRY == 2 or GeometryLibBase___GEOMETRY == 3 then
        return GetRandomReal(GeometryLibBase___SPACE_X - GeometryLibBase___SPACE_OFFSET / 2, GeometryLibBase___SPACE_X + GeometryLibBase___SPACE_OFFSET / 2)
    endif
    return 0.0
endfunction 

function GetRandomY takes nothing returns real
    if GeometryLibBase___GEOMETRY == 1 or GeometryLibBase___GEOMETRY == 4 then
        return (((GeometryLibBase___SPACE_Y )*1.0) + Sin((( GeometryLibBase___SPACE_ANGLE )*1.0)) * (( GeometryLibBase___SPACE_OFFSET)*1.0)) // INLINED!!
    elseif GeometryLibBase___GEOMETRY == 2 or GeometryLibBase___GEOMETRY == 3 then
        set GeometryLibBase___SPACE_OFFSET_2=GetRandomReal(0, GeometryLibBase___SPACE_OFFSET_2)
        return GetRandomReal(GeometryLibBase___SPACE_Y - GeometryLibBase___SPACE_OFFSET_2 / 2, GeometryLibBase___SPACE_Y + GeometryLibBase___SPACE_OFFSET_2 / 2)
    endif
    return 0.0
endfunction 


//library GeometryLibBase ends
//library Lightning:

//******************************************************************************
//* Author: Fledermaus
//* Version: 1.02
//* 
//* This library is intended to replace the native lightning type.
//* It uses a Lightning struct to provide better functionality (and a nicer
//* syntax if you're that way inclined).
//* 
//******************************************************************************
//*
//* Configuration constants that you can alter however you like:
//* 
//*   TIMEOUT is the timer speed for updating the position of lightning and
//*             the alpha for fading in/out.
//* 
//******************************************************************************
//* 
//* List of methods:
//* 
//*   static method create takes string codeName, boolean checkVisibility, real fadeTime returns Lightning
//* 
//* Creates a new Lightning for you to use.
//*   - codeName: Determines what the Lightning looks like. I'm even so nice as
//*     to include a constant list of them in the global constant section for
//*     you!
//*   - checkVisibility: As with normal lightning, this determines if a player
//*     needs to have vision of the Lightning (start or end point/unit) in
//*     order to see it. If set to true, the Lightning becomes invisible when
//*     players lose vision of it.
//*   - fadeTime: Makes the Lightning fade into existence. A value of 0 is an
//*     instant fade in.
//* Note that it wont initially be attached to anything, that's where the next
//* two methods come in:
//* 
//* 
//*   method attachToPoint takes boolean atStart, real x, real y, real z, boolean considerTerrain returns boolean
//*   method attachToUnit takes boolean atStart, unit u, real zOffset returns boolean
//* 
//* They should be pretty self-explanatory, they attach the Lightning to either 
//* the startPoint or startUnit, or the endPoint or endUnit.
//* The two constants LIGHTNING_START and LIGHTNING_END can be used here to
//* help make your code easier to read.
//* Lightning attached to a unit(s) will follow it around.
//* The boolean considerTerrain in attachToPoint determines if the z value is
//* measured from the terrain or an absolute value.
//* If you don't attach to both a start and end point/unit, the Lightning will
//* connect to 0, 0. So you should attach to both as soon as it's created.
//* 
//* 
//*   method recolor takes real r, real g, real b, real a returns boolean
//*   method ARGBrecolor takes ARGB color returns nothing
//*   method operator color= takes ARGB color returns nothing
//* 
//* Used to set the colour of Lightning. Should only use values between 0.00
//* and 1.00.
//* ARGBrecolor and color= will obviously only work if you have ARGB.
//* 
//* 
//*   method operator red takes nothing returns real
//*   method operator green takes nothing returns real
//*   method operator blue takes nothing returns real
//*   method operator alpha takes nothing returns real
//*   method operator color takes nothing returns ARGB
//* 
//* Method operators to get the colour components of the Lightning. Pretty
//* self explanatory.
//* Again, color will only work if you have ARGB.
//* 
//* 
//*   method destroy takes nothing returns nothing
//*   method release takes real fadeTime returns nothing
//*   method releaseDelayed takes real delay, real fadeTime returns nothing
//* 
//* Again, pretty self explanatory. destroy will dispose of a Lightning
//* instantly, while release will fade it out over time. releaseDelayed lets
//* you release it after a delay.
//* 
//******************************************************************************
//*
//* There is the inherent limit that you can only have 8191 Lightning at once.
//* However, if you ever get this high, your map will have worse problems than
//* this system working improperly.
//* 
//******************************************************************************
//*
//* Credits: Thanks to Vexorian for ARGB and vJass. Kueken for the work he
//*          previously did which helped me create this library. Anitarf for
//*          motivating me to update it and helping me with some of the
//*          ideas. Oh and Dusk for being sexy ;)
//* 
//* If you have any further questions regarding Lightning or how to use it,
//* feel free to visit [url]www.wc3c.net[/url] and ask questions there. This library should
//* only ever be released at WC3C and at no other site. Please give credits if
//* this library finds its way into your maps, and otherwise thanks for reading!
//* 




//******************************************************************************

    
    function s__Lightning_Update takes nothing returns nothing
        local integer i= 0
        local real a
        local integer l
        
        loop
          exitwhen i >= Lightning___Index
            set l=Lightning___Array[i]
            
            if s__Lightning_updatePosition[l] then
                //Update the lightning's position if it's attached to a unit
                if s__Lightning_startUnit[l] != null and GetUnitTypeId(s__Lightning_startUnit[l]) != 0 then
                    set s__Lightning_startX[l]=GetUnitX(s__Lightning_startUnit[l])
                    set s__Lightning_startY[l]=GetUnitY(s__Lightning_startUnit[l])
                    call MoveLocation(Lightning___Loc, s__Lightning_startX[l], s__Lightning_startY[l])
                    set s__Lightning_startZ[l]=GetLocationZ(Lightning___Loc) + GetUnitFlyHeight(s__Lightning_startUnit[l]) + s__Lightning_startZOffset[l]
                endif
                if s__Lightning_endUnit[l] != null and GetUnitTypeId(s__Lightning_endUnit[l]) != 0 then
                    set s__Lightning_endX[l]=GetUnitX(s__Lightning_endUnit[l])
                    set s__Lightning_endY[l]=GetUnitY(s__Lightning_endUnit[l])
                    call MoveLocation(Lightning___Loc, s__Lightning_endX[l], s__Lightning_endY[l])
                    set s__Lightning_endZ[l]=GetLocationZ(Lightning___Loc) + GetUnitFlyHeight(s__Lightning_endUnit[l]) + s__Lightning_endZOffset[l]
                endif
                
                //Check if the lightning can be seen (will locally change the variable for each player)
                set s__Lightning_canSee[l]=MoveLightningEx(s__Lightning_lightning[l], s__Lightning_checkVisibility[l], s__Lightning_startX[l], s__Lightning_startY[l], s__Lightning_startZ[l], s__Lightning_endX[l], s__Lightning_endY[l], s__Lightning_endZ[l])
                if s__Lightning_canSee[l] then
                    //If it can be seen, make sure you change the alpha back to l.alpha
                    //because this could have been the first time it's visiable again
                    set a=s__Lightning_alphaColour[l]
                else
                    //Otherwise make the alpha 0 so it's invisiable
                    set a=0.
                endif
                
                //Check if the lightning has been delay released
                if s__Lightning_releaseDelay[l] > 0. and not s__Lightning_released[l] then
                    //Count down the delay
                    set s__Lightning_releaseDelay[l]=s__Lightning_releaseDelay[l] - Lightning___TIMEOUT
                    if s__Lightning_releaseDelay[l] <= 0. then
                        //Time to release it
                        set s__Lightning_released[l]=true
                        if s__Lightning_fadingAlphaInc[l] < 1. then
                            //Increase the fadingAlpha by fadingAlphaInc to account for this cycle
                            set s__Lightning_fadingAlpha[l]=1. + s__Lightning_fadingAlphaInc[l]
                        else
                            //If the fade time from the delayed release was 0., release it instantly
                            set s__Lightning_fadingAlpha[l]=0.
                        endif
                    endif
                endif
                
                if s__Lightning_released[l] then
                    if s__Lightning_fadingAlpha[l] > 0. then
                        //Lightning is still fading out
                        set s__Lightning_fadingAlpha[l]=s__Lightning_fadingAlpha[l] - s__Lightning_fadingAlphaInc[l]
                        if s__Lightning_fadingAlpha[l] < 0. then
                            set s__Lightning_fadingAlpha[l]=0.
                        endif
                        set a=a * s__Lightning_fadingAlpha[l]
                    else
                        //Lightning has finished fading out and should be destroyed
                        call DestroyLightning(s__Lightning_lightning[l])
                        set s__Lightning_lightning[l]=null
                        set s__Lightning_startUnit[l]=null
                        set s__Lightning_endUnit[l]=null
                        call s__Lightning_deallocate(l)
                        
                        set Lightning___Index=Lightning___Index - 1
                        if Lightning___Index > 0 then
                            set Lightning___Array[i]=Lightning___Array[Lightning___Index]
                            set i=i - 1
                        else
                            call PauseTimer(Lightning___Timer)
                        endif
                    endif
                elseif s__Lightning_fadingAlpha[l] < 1. then
                    //Lightning is fading in
                    set s__Lightning_fadingAlpha[l]=s__Lightning_fadingAlpha[l] + s__Lightning_fadingAlphaInc[l]
                    if s__Lightning_fadingAlpha[l] >= 1. then
                        set s__Lightning_fadingAlpha[l]=1.
                        //Check if we need to keep updating the lightning
                        set s__Lightning_updatePosition[l]=s__Lightning_checkVisibility[l] or s__Lightning_startUnit[l] != null or s__Lightning_endUnit[l] != null or s__Lightning_releaseDelay[l] > 0.
                        if not s__Lightning_updatePosition[l] then
                            set Lightning___Index=Lightning___Index - 1
                            if Lightning___Index > 0 then
                                set Lightning___Array[i]=Lightning___Array[Lightning___Index]
                                set i=i - 1
                            else
                                call PauseTimer(Lightning___Timer)
                            endif
                        endif
                    endif
                    
                    set a=a * s__Lightning_fadingAlpha[l]
                endif
                
                //If the lightning still exists, update it's alpha value
                if s__Lightning_lightning[l] != null then
                    call SetLightningColor(s__Lightning_lightning[l], s__Lightning_redColour[l], s__Lightning_greenColour[l], s__Lightning_blueColour[l], a)
                endif
                
                set i=i + 1
            else
                set Lightning___Index=Lightning___Index - 1
                if Lightning___Index > 0 then
                    set Lightning___Array[i]=Lightning___Array[Lightning___Index]
                else
                    call PauseTimer(Lightning___Timer)
                endif
            endif
        endloop
    endfunction
    
    function s__Lightning_create takes string codeName,boolean checkVisibility,real fadeTime returns integer
        local integer this= s__Lightning__allocate()
        
        set s__Lightning_checkVisibility[this]=checkVisibility
        set s__Lightning_updatePosition[this]=checkVisibility or fadeTime > 0.
        set s__Lightning_released[this]=false
        set s__Lightning_canSee[this]=true
        //The lightning needs to first be create so that noone can see it but without checking that players
        //can see it (checkVisibitiy set to false and at (0, 0) (0, 0)) so that it will not be null for
        //players that cannot see it as it's created. It can then be moved to the correct location and have
        //the proper visibility setting.
        set s__Lightning_lightning[this]=AddLightning(codeName, false, 0., 0., 0., 0.)
        set s__Lightning_redColour[this]=GetLightningColorR(s__Lightning_lightning[this])
        set s__Lightning_greenColour[this]=GetLightningColorG(s__Lightning_lightning[this])
        set s__Lightning_blueColour[this]=GetLightningColorB(s__Lightning_lightning[this])
        set s__Lightning_alphaColour[this]=GetLightningColorA(s__Lightning_lightning[this])
        set s__Lightning_startSet[this]=false
        set s__Lightning_endSet[this]=false
        set s__Lightning_releaseDelay[this]=0.
        
        if fadeTime > 0. then
            set s__Lightning_fadingAlpha[this]=0.
            set s__Lightning_fadingAlphaInc[this]=Lightning___TIMEOUT / fadeTime
            call SetLightningColor(s__Lightning_lightning[this], s__Lightning_redColour[this], s__Lightning_greenColour[this], s__Lightning_blueColour[this], 0.)
        else
            set s__Lightning_fadingAlpha[this]=1.
        endif
        
        if s__Lightning_updatePosition[this] then
            if Lightning___Index == 0 then
                call TimerStartEx(Lightning___Timer , Lightning___TIMEOUT , true , function s__Lightning_Update , "Lightning.Update")
            endif
            set Lightning___Array[Lightning___Index]=this
            set Lightning___Index=Lightning___Index + 1
        endif
        
        return this
    endfunction
    
    function s__Lightning_attachToPoint takes integer this,boolean atStart,real x,real y,real z,boolean considerTerrain returns boolean
//textmacro instance: LightningDebugTextmacro("change the attached point of", "false")
    if s__Lightning_released[this] then
        return false
    endif
//end of: LightningDebugTextmacro("change the attached point of", "false")
        
        call MoveLocation(Lightning___Loc, x, y)
        if atStart then
            set s__Lightning_startUnit[this]=null
            set s__Lightning_startX[this]=x
            set s__Lightning_startY[this]=y
            if considerTerrain then
                set s__Lightning_startZ[this]=GetLocationZ(Lightning___Loc) + z
            else
                set s__Lightning_startZ[this]=z
            endif
            set s__Lightning_startSet[this]=true
        else
            set s__Lightning_endUnit[this]=null
            set s__Lightning_endX[this]=x
            set s__Lightning_endY[this]=y
            if considerTerrain then
                set s__Lightning_endZ[this]=GetLocationZ(Lightning___Loc) + z
            else
                set s__Lightning_endZ[this]=z
            endif
            set s__Lightning_endSet[this]=true
        endif
        
        if s__Lightning_startSet[this] and s__Lightning_endSet[this] then
            set s__Lightning_canSee[this]=MoveLightningEx(s__Lightning_lightning[this], s__Lightning_checkVisibility[this], s__Lightning_startX[this], s__Lightning_startY[this], s__Lightning_startZ[this], s__Lightning_endX[this], s__Lightning_endY[this], s__Lightning_endZ[this])
        endif
        
        if s__Lightning_updatePosition[this] and not s__Lightning_checkVisibility[this] and s__Lightning_fadingAlpha[this] == 1. and s__Lightning_startUnit[this] == null and s__Lightning_endUnit[this] == null and s__Lightning_releaseDelay[this] <= 0. then
            set s__Lightning_updatePosition[this]=false
        endif
        
        return true
    endfunction
    
    function s__Lightning_attachToUnit takes integer this,boolean atStart,unit u,real zOffset returns boolean
//textmacro instance: LightningDebugTextmacro("change the attached unit of", "false")
    if s__Lightning_released[this] then
        return false
    endif
//end of: LightningDebugTextmacro("change the attached unit of", "false")
        
        if atStart then
            set s__Lightning_startUnit[this]=u
            set s__Lightning_startZOffset[this]=zOffset
            set s__Lightning_startSet[this]=true
            if u != null then
                set s__Lightning_startX[this]=GetUnitX(u)
                set s__Lightning_startY[this]=GetUnitY(u)
                call MoveLocation(Lightning___Loc, s__Lightning_startX[this], s__Lightning_startY[this])
                set s__Lightning_startZ[this]=GetLocationZ(Lightning___Loc) + GetUnitFlyHeight(u) + zOffset
            endif
        else
            set s__Lightning_endUnit[this]=u
            set s__Lightning_endZOffset[this]=zOffset
            set s__Lightning_endSet[this]=true
            if u != null then
                set s__Lightning_endX[this]=GetUnitX(u)
                set s__Lightning_endY[this]=GetUnitY(u)
                call MoveLocation(Lightning___Loc, s__Lightning_endX[this], s__Lightning_endY[this])
                set s__Lightning_endZ[this]=GetLocationZ(Lightning___Loc) + GetUnitFlyHeight(s__Lightning_endUnit[this]) + zOffset
            endif
        endif
        
        if s__Lightning_startSet[this] and s__Lightning_endSet[this] then
            set s__Lightning_canSee[this]=MoveLightningEx(s__Lightning_lightning[this], s__Lightning_checkVisibility[this], s__Lightning_startX[this], s__Lightning_startY[this], s__Lightning_startZ[this], s__Lightning_endX[this], s__Lightning_endY[this], s__Lightning_endZ[this])
        endif
        
        if s__Lightning_updatePosition[this] == false then
            if Lightning___Index == 0 then
                call TimerStartEx(Lightning___Timer , Lightning___TIMEOUT , true , function s__Lightning_Update , "Lightning.Update")
            endif
            set Lightning___Array[Lightning___Index]=this
            set Lightning___Index=Lightning___Index + 1
            set s__Lightning_updatePosition[this]=true
        endif
        
        return true
    endfunction
    
    function s__Lightning__get_red takes integer this returns real
        return s__Lightning_redColour[this]
    endfunction
    
    function s__Lightning__get_green takes integer this returns real
        return s__Lightning_greenColour[this]
    endfunction
    
    function s__Lightning__get_blue takes integer this returns real
        return s__Lightning_blueColour[this]
    endfunction
    
    function s__Lightning__get_alpha takes integer this returns real
        return s__Lightning_alphaColour[this]
    endfunction
    
    function s__Lightning_recolor takes integer this,real r,real g,real b,real a returns boolean
//textmacro instance: LightningDebugTextmacro("recolor", "false")
    if s__Lightning_released[this] then
        return false
    endif
//end of: LightningDebugTextmacro("recolor", "false")
//textmacro instance: LightningRecolourDebugTextmacro("r", "red")
    if r < 0. then
        set r=0.
    elseif r > 1. then
        set r=1.
    endif
//end of: LightningRecolourDebugTextmacro("r", "red")
//textmacro instance: LightningRecolourDebugTextmacro("g", "green")
    if g < 0. then
        set g=0.
    elseif g > 1. then
        set g=1.
    endif
//end of: LightningRecolourDebugTextmacro("g", "green")
//textmacro instance: LightningRecolourDebugTextmacro("b", "blue")
    if b < 0. then
        set b=0.
    elseif b > 1. then
        set b=1.
    endif
//end of: LightningRecolourDebugTextmacro("b", "blue")
//textmacro instance: LightningRecolourDebugTextmacro("a", "alpha")
    if a < 0. then
        set a=0.
    elseif a > 1. then
        set a=1.
    endif
//end of: LightningRecolourDebugTextmacro("a", "alpha")
    
        set s__Lightning_redColour[this]=r
        set s__Lightning_greenColour[this]=g
        set s__Lightning_blueColour[this]=b
        set s__Lightning_alphaColour[this]=a
        
        if s__Lightning_canSee[this] == false then
            set a=0.
        endif
        
        return SetLightningColor(s__Lightning_lightning[this], r, g, b, a * s__Lightning_fadingAlpha[this])
    endfunction
    













































    
    function s__Lightning_release takes integer this,real fadeTime returns nothing
//textmacro instance: LightningDebugTextmacro("release", "")
    if s__Lightning_released[this] then
        return
    endif
//end of: LightningDebugTextmacro("release", "")
        if fadeTime < 0. then
            set fadeTime=0.
        endif
        
        set s__Lightning_released[this]=true
        if fadeTime > 0. then
            set s__Lightning_fadingAlpha[this]=1.
            set s__Lightning_fadingAlphaInc[this]=Lightning___TIMEOUT / fadeTime
            
            //Add it to the Update Loop if it's not already in there
            if not s__Lightning_updatePosition[this] then
                if Lightning___Index == 0 then
                    call TimerStartEx(Lightning___Timer , Lightning___TIMEOUT , true , function s__Lightning_Update , "Lightning.Update")
                endif
                set Lightning___Array[Lightning___Index]=this
                set Lightning___Index=Lightning___Index + 1
                set s__Lightning_updatePosition[this]=true
            endif
        elseif s__Lightning_updatePosition[this] then
            //It's already updating so just make it invisible now and it'll get cleaned up in the next loop
            set s__Lightning_fadingAlpha[this]=0.
            call SetLightningColor(s__Lightning_lightning[this], s__Lightning_redColour[this], s__Lightning_blueColour[this], s__Lightning_greenColour[this], 0.)
        else
            //It's not updating so it can be cleaned up now
            call DestroyLightning(s__Lightning_lightning[this])
            set s__Lightning_lightning[this]=null
            set s__Lightning_startUnit[this]=null
            set s__Lightning_endUnit[this]=null
            call s__Lightning_deallocate(this)
        endif
    endfunction
    
    function s__Lightning_destroy takes integer this returns nothing
        call s__Lightning_release(this,0.)
    endfunction
    
    function s__Lightning_releaseDelayed takes integer this,real delay,real fadeTime returns nothing
//textmacro instance: LightningDebugTextmacro("delayed release", "")
    if s__Lightning_released[this] then
        return
    endif
//end of: LightningDebugTextmacro("delayed release", "")
        if delay <= 0. then
            set delay=0.01
        endif
        if fadeTime < 0. then
            set fadeTime=0.
        endif
        
        set s__Lightning_releaseDelay[this]=delay
        if fadeTime > 0. then
            set s__Lightning_fadingAlphaInc[this]=Lightning___TIMEOUT / fadeTime
        else
            //Don't want to divide by 0! 
            set s__Lightning_fadingAlphaInc[this]=1.
        endif
        
        //Add it to the Update Loop if it's not already in there
        if not s__Lightning_updatePosition[this] then
            if Lightning___Index == 0 then
                call TimerStartEx(Lightning___Timer , Lightning___TIMEOUT , true , function s__Lightning_Update , "Lightning.Update")
            endif
            set Lightning___Array[Lightning___Index]=this
            set Lightning___Index=Lightning___Index + 1
            set s__Lightning_updatePosition[this]=true
        endif
    endfunction


//library Lightning ends
//library TableBC:





//library TableBC ends
//library UnitDex:

    // external ObjectMerger w3a Adef uDex anam "Detect Leave" ansf "(UnitDex)" aart "" acat "" arac 0 
  

    
    
    function GetUnitId takes unit whichUnit returns integer
        return GetUnitUserData(whichUnit)
    endfunction
    
    function GetUnitById takes integer index returns unit
        return s__UnitDex_Unit[index]
    endfunction
    
    function GetIndexedUnit takes nothing returns unit
        return s__UnitDex_Unit[s__UnitDex_LastIndex]
    endfunction
    
    function GetIndexedUnitId takes nothing returns integer
        return s__UnitDex_LastIndex
    endfunction
    
    function IsUnitIndexed takes unit u returns boolean
        return ( (s__UnitDex_Unit[((GetUnitUserData((u))))]) != null ) // INLINED!!
    endfunction
    
    function UnitDexEnable takes boolean flag returns nothing
        set s__UnitDex_Enabled=flag
    endfunction
    
    function IsIndexingEnabled takes nothing returns boolean
        return s__UnitDex_Enabled
    endfunction
    
    function RegisterUnitIndexEvent takes boolexpr func,integer eventtype returns triggercondition
        return TriggerAddCondition(UnitDex___IndexTrig[eventtype], func)
    endfunction
    
    function RemoveUnitIndexEvent takes triggercondition c,integer eventtype returns nothing
        call TriggerRemoveCondition(UnitDex___IndexTrig[eventtype], c)
    endfunction
    
    function TriggerRegisterUnitIndexEvent takes trigger t,integer eventtype returns nothing
        call TriggerRegisterVariableEvent(t, "UnitDex___E", EQUAL, eventtype)
    endfunction
    
    function OnUnitIndex takes code func returns triggercondition
        return TriggerAddCondition(UnitDex___IndexTrig[EVENT_UNIT_INDEX], Filter(func))
    endfunction

    function OnUnitDeindex takes code func returns triggercondition
        return TriggerAddCondition(UnitDex___IndexTrig[EVENT_UNIT_DEINDEX], Filter(func))
    endfunction
    
    function UnitDexRemove takes unit u,boolean runEvents returns boolean
        return sc__UnitDex_Remove(u , runEvents)
    endfunction
    
    
    
    
        
        
//Implemented from module UnitDex___UnitDexConfig:
    
        // The raw code of the leave detection ability.
        
        // Allow debug messages (debug mode must also be on)
        
        // Uncomment the lines below to define a filter for units being indexed
        
        
        
        
        
//Implemented from module UnitDex___UnitDexCore:
    
        function s__UnitDex_Remove takes unit u,boolean runEvents returns boolean
            local integer i
            
            if ( ((s__UnitDex_Unit[((GetUnitUserData(((u)))))]) != null) ) then // INLINED!!
                set i=(GetUnitUserData((u))) // INLINED!!
                set s__UnitDex_List[i]=UnitDex___Index
                set UnitDex___Index=i
                
                call GroupRemoveUnit(s__UnitDex_Group, u)
                call SetUnitUserData(u, 0)
            
                if ( runEvents ) then
                    set s__UnitDex_LastIndex=i
                    set UnitDex___E=EVENT_UNIT_DEINDEX
                    call TriggerEvaluate(UnitDex___IndexTrig[EVENT_UNIT_DEINDEX])
                    set UnitDex___E=- 1
                endif
                
                set s__UnitDex_Unit[i]=null
                set s__UnitDex_Count=s__UnitDex_Count - 1
                
                return true
            endif
            
            return false
        endfunction
        
        function s__UnitDex_UnitDex___UnitDexCore__onGameStart takes nothing returns nothing
            local integer i= 0

                local group ENUM_GROUP= CreateGroup()

            
            // Index preplaced units
            loop
                call GroupEnumUnitsOfPlayer(ENUM_GROUP, Player(i), UnitDex___FilterEnter)
                
                set i=i + 1
                
                exitwhen i == bj_MAX_PLAYER_SLOTS
            endloop
            

                call DestroyGroup(ENUM_GROUP)
                set ENUM_GROUP=null

            
            // run init triggers
            set i=1
            loop
                exitwhen i > s__UnitDex_Counter
                
                set s__UnitDex_LastIndex=i
                
                call TriggerEvaluate(UnitDex___IndexTrig[EVENT_UNIT_INDEX])
                set UnitDex___E=EVENT_UNIT_INDEX
                set UnitDex___E=- 1
                
                set i=i + 1
            endloop

            set s__UnitDex_LastIndex=s__UnitDex_Counter
            set s__UnitDex_Initialized=true
            set UnitDex___FilterEnter=null
            
            call DestroyTimer(GetExpiredTimer())
        endfunction
        
        function s__UnitDex_UnitDex___UnitDexCore__onEnter takes nothing returns boolean
            local unit u= GetFilterUnit()
            local integer i= (GetUnitUserData((u))) // INLINED!!
            local integer t= UnitDex___Index
            
            if ( i == 0 and s__UnitDex_Enabled ) then
                
                // If a filter was defined pass the unit through it.






                
                // Handle debugging







                
                // Add to group of indexed units
                call GroupAddUnit(s__UnitDex_Group, u)
                
                // Give unit the leave detection ability
                call UnitAddAbility(u, s__UnitDex_DETECT_LEAVE_ABILITY)
                call UnitMakeAbilityPermanent(u, true, s__UnitDex_DETECT_LEAVE_ABILITY)
                
                // Allocate index
                if ( UnitDex___Index != 0 ) then
                    set UnitDex___Index=s__UnitDex_List[t]
                else
                    set s__UnitDex_Counter=s__UnitDex_Counter + 1
                    set t=s__UnitDex_Counter
                endif
                
                set s__UnitDex_List[t]=- 1
                set s__UnitDex_LastIndex=t
                set s__UnitDex_Unit[t]=u
                set s__UnitDex_Count=s__UnitDex_Count + 1
                
                // Store the index
                call SetUnitUserData(u, t)
                
                if ( s__UnitDex_Initialized ) then
                    // Execute custom events registered with RegisterUnitIndexEvent
                    call TriggerEvaluate(UnitDex___IndexTrig[EVENT_UNIT_INDEX])
                    
                    // Handle TriggerRegisterUnitIndexEvent
                    set UnitDex___E=EVENT_UNIT_INDEX

                    // Reset so the event can occur again
                    set UnitDex___E=- 1
                endif
            endif
            
            set u=null
            
            return false
        endfunction

        function s__UnitDex_UnitDex___UnitDexCore__onLeave takes nothing returns boolean
            local unit u
            local integer i
            
            // Check if order is undefend.
            if ( s__UnitDex_Enabled and GetIssuedOrderId() == 852056 ) then
                
                set u=GetTriggerUnit()
                
                // If unit was killed (not removed) then don't continue
                if ( GetUnitAbilityLevel(u, s__UnitDex_DETECT_LEAVE_ABILITY) != 0 ) then
                    set u=null
                    return false
                endif
                
                set i=(GetUnitUserData((u))) // INLINED!!

                // If unit has been indexed then deindex it
                if ( i > 0 and i <= s__UnitDex_Counter and u == (s__UnitDex_Unit[(i)]) ) then // INLINED!!
                    
                    // Recycle the index
                    set s__UnitDex_List[i]=UnitDex___Index
                    set UnitDex___Index=i
                    set s__UnitDex_LastIndex=i
                    
                    // Remove to group of indexed units
                    call GroupRemoveUnit(s__UnitDex_Group, u)
                
                    // Execute custom events without any associated triggers
                    call TriggerEvaluate(UnitDex___IndexTrig[EVENT_UNIT_DEINDEX])
                    
                    // Handle TriggerRegisterUnitIndexEvent
                    set UnitDex___E=EVENT_UNIT_DEINDEX
                    
                    // Remove entry
                    call SetUnitUserData(u, 0)
                    set s__UnitDex_Unit[i]=null
                    
                    // Decrement unit count
                    set s__UnitDex_Count=s__UnitDex_Count - 1
               
                    // Reset so the event can occur again
                    set UnitDex___E=- 1
                endif
                
                set u=null
            endif
            
            return false
        endfunction
        
        function s__UnitDex_UnitDex___UnitDexCore__onInit takes nothing returns nothing
            local trigger t= CreateTrigger()
            local integer i= 0
            local player p
            local unit u
            




            
            set UnitDex___FilterEnter=Filter(function s__UnitDex_UnitDex___UnitDexCore__onEnter)
            
            // Begin to index units when they enter the map

                call TriggerRegisterEnterRegion(CreateTrigger(), s__WorldBounds_worldRegion, UnitDex___FilterEnter)






            
            call TriggerAddCondition(t, Filter(function s__UnitDex_UnitDex___UnitDexCore__onLeave))
            
            set UnitDex___IndexTrig[EVENT_UNIT_INDEX]=CreateTrigger()
            set UnitDex___IndexTrig[EVENT_UNIT_DEINDEX]=CreateTrigger()
            
            loop
                set p=Player(i)
                
                // Detect "undefend"
                call TriggerRegisterPlayerUnitEvent(t, p, EVENT_PLAYER_UNIT_ISSUED_ORDER, null)
                
                // Hide the detect ability from players
                call SetPlayerAbilityAvailable(p, s__UnitDex_DETECT_LEAVE_ABILITY, false)
                
                set i=i + 1
                exitwhen i == bj_MAX_PLAYER_SLOTS
            endloop
            
            call TimerStart(CreateTimer(), 0, false, function s__UnitDex_UnitDex___UnitDexCore__onGameStart)
        endfunction
    
    
    
     
    

//library UnitDex ends
//library xepreload:
//******************************************************************************
// xepreload 0.9
// ---------
// Ah, the joy of preloading abilities, it is such a necessary evil...
// Notice you are not supposed to use this system in places outside map init
//
// This one does the preloading and tries to minimize the hit on loading time
// for example, it only needs one single native call per ability preloaded.
//
//******************************************************************************

//==============================================================================

    //inline friendly (when debug mode is off..)
    function XE_PreloadAbility takes integer abilid returns nothing
        call UnitAddAbility(xepreload___dum, abilid)







    endfunction
    // ................................................................................

    //================================================================================
    // Convert a integer id value into a 4-letter id code.
    // * Taken from cheats.j so I don't have to code it again.
    // * Used only on debug so making a whole library for it seemed silly
    // * Private so people don't begin using xepreload just to call this function....
    // * It will not work correctly if you paste this code in the custom script section
    //   due to the infamous % bug. Then again, if you do that then you probably 
    // deserve it....
    //
    function xepreload___DebugIdInteger2IdString takes integer value returns string
     local string charMap= ".................................!.#$%&'()*+,-./0123456789:;<=>.@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~................................................................................................................................."
     local string result= ""
     local integer remainingValue= value
     local integer charValue
     local integer byteno

     set byteno=0
     loop
         set charValue=ModuloInteger(remainingValue, 256)
         set remainingValue=remainingValue / 256
         set result=SubString(charMap, charValue, charValue + 1) + result
 
         set byteno=byteno + 1
         exitwhen byteno == 4
     endloop
     return result
    endfunction

    //--------------------------------
    function xepreload___kill takes nothing returns nothing
        call RemoveUnit(xepreload___dum)
        set xepreload___dum=null

            call ReleaseTimer(GetExpiredTimer())



    endfunction
    
    function s__xepreload___init_onInit takes nothing returns nothing
     local timer t
        set xepreload___dum=CreateUnit(Player(15), XE_DUMMY_UNITID, 0, 0, 0)
        if ( xepreload___dum == null ) then
        endif

            set t=(NewTimerEx(0)) // INLINED!!



        call TimerStart(t, 0.0, false, function xepreload___kill)
        set t=null
    endfunction


//library xepreload ends
//library EffectUtils:

function IsSafe2 takes real x,real y,real range returns boolean
    local integer i
    local integer j
    local real new_x
    local real new_y
    if IsVisibleToPlayer(x, y, GetLocalPlayer()) then
        return false
    endif
    return true
endfunction

function IsSafe takes real x,real y,real range returns boolean
    local integer i
    local integer j
    local real new_x
    local real new_y
    if IsVisibleToPlayer(x, y, GetLocalPlayer()) then
        return false
    endif
    return true
endfunction

function AddSpecialEffectEx takes string sfx,real x,real y returns nothing
    call DestroyEffect(AddSpecialEffect(sfx, x, y))
endfunction

function AddSpecialEffectLocBJEX takes location l,string sfx returns effect
    return AddSpecialEffectLocBJ(l, sfx)
endfunction

function AddSpecialEffectLocEx takes string sfx,location l returns effect
    return (AddSpecialEffectLocBJ((l ), ( sfx))) // INLINED!!
endfunction

function AddSpecialEffectLocBJEx takes location l,string sfx returns effect
    return (AddSpecialEffectLocBJ((l ), ( sfx))) // INLINED!!
endfunction

function AddSpecialEffectTargetUnitBJEx takes string attachPoint,unit target,string sfx returns effect
    return AddSpecialEffectTargetUnitBJ(attachPoint, target, sfx)
endfunction 

function AddSpecialEffectTargetUnitBJEX takes string attachPoint,unit target,string sfx returns effect
    return (AddSpecialEffectTargetUnitBJ((attachPoint ), ( target ), ( sfx))) // INLINED!!
endfunction 

function AddSpecialEffectTargetEx takes string sfx,unit target,string attachPoint returns effect
    return AddSpecialEffectTarget(sfx, target, attachPoint)
endfunction

function AddSpecialEffectTargetEX takes string sfx,unit target,string attachPoint returns effect
    return (AddSpecialEffectTarget((sfx ), ( target ), ( attachPoint))) // INLINED!!
endfunction



 function s__EffectUtils___EffectTimer_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		if s__EffectUtils___EffectTimer_remove[this] then
			call BlzSetSpecialEffectScale(s__EffectUtils___EffectTimer_e[this], 0)
		endif
		call DestroyEffect(s__EffectUtils___EffectTimer_e[this])
		set s__EffectUtils___EffectTimer_e[this]=null
		call s__EffectUtils___EffectTimer_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__EffectUtils___EffectTimer_create takes effect eff,real duration,boolean r returns integer
  local integer this= s__EffectUtils___EffectTimer__allocate()
		set s__EffectUtils___EffectTimer_e[this]=eff
		set s__EffectUtils___EffectTimer_remove[this]=r
		call TimerStartEx(NewTimerEx(this) , duration , false , function s__EffectUtils___EffectTimer_finish , "EffectUtils_finish")
		return this
 endfunction
		

function DestroyEffectTimed takes effect e,real duration returns nothing
	call s__EffectUtils___EffectTimer_create(e , duration , false)
endfunction

function RemoveEffectTimed takes effect e,real duration returns nothing
	call s__EffectUtils___EffectTimer_create(e , duration , true)
endfunction


//library EffectUtils ends
//library RegisterPlayerUnitEvent:

    function RegisterPlayerUnitEvent2 takes playerunitevent p,boolexpr c returns nothing
        local integer i= GetHandleId(p)
        local integer k= 15
        if RegisterPlayerUnitEvent___t[i] == null then
            set RegisterPlayerUnitEvent___t[i]=CreateTrigger()
            loop
                call TriggerRegisterPlayerUnitEvent(RegisterPlayerUnitEvent___t[i], Player(k), p, null)
                exitwhen k == 0
                set k=k - 1
            endloop
        endif
        call TriggerAddCondition(RegisterPlayerUnitEvent___t[i], c)
    endfunction
    
    function RegisterPlayerUnitEvent takes playerunitevent p,code c returns nothing
        call RegisterPlayerUnitEvent2(p , Filter(c))
    endfunction
    
    function RegisterPlayerUnitEventForPlayer takes playerunitevent p,code c,player pl returns nothing
        local integer i= 16 * GetHandleId(p) + GetPlayerId(pl)
        if RegisterPlayerUnitEvent___t[i] == null then
            set RegisterPlayerUnitEvent___t[i]=CreateTrigger()
            call TriggerRegisterPlayerUnitEvent(RegisterPlayerUnitEvent___t[i], pl, p, null)
        endif
        call TriggerAddCondition(RegisterPlayerUnitEvent___t[i], Filter(c))
    endfunction
    
    function GetPlayerUnitEventTrigger takes playerunitevent p returns trigger
        return RegisterPlayerUnitEvent___t[GetHandleId(p)]
    endfunction

//============================================================================
 
//Implemented from module RegisterPlayerUnitEvent___M:
    




    
    function s__RegisterPlayerUnitEvent___S_onCast takes nothing returns nothing

            call TriggerEvaluate((LoadTriggerHandle(Table___ht, (((s__RegisterPlayerUnitEvent___S_tb))), (GetSpellAbilityId())))) // INLINED!!



    endfunction
 
    function s__RegisterPlayerUnitEvent___S_RegisterPlayerUnitEvent___M__onInit takes nothing returns nothing

            set s__RegisterPlayerUnitEvent___S_tb=s__Table_create()

        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_EFFECT ) , Filter(( function s__RegisterPlayerUnitEvent___S_onCast))) // INLINED!!
    endfunction
 
function RegisterSpellEffectEvent2 takes integer abil,boolexpr b returns nothing

        if not (HaveSavedHandle(Table___ht, (((s__RegisterPlayerUnitEvent___S_tb))), (abil))) then // INLINED!!
            call SaveTriggerHandle(Table___ht, (((s__RegisterPlayerUnitEvent___S_tb))), (abil), ( CreateTrigger())) // INLINED!!
        endif
        call TriggerAddCondition((LoadTriggerHandle(Table___ht, (((s__RegisterPlayerUnitEvent___S_tb))), (abil))), b) // INLINED!!






endfunction

function RegisterSpellEffectEvent takes integer abil,code onCast returns nothing
    call RegisterSpellEffectEvent2(abil , Filter(onCast))
endfunction
//============================================================================

    function RegisterPlayerUnitEventForUnit_actions takes nothing returns nothing
 local integer i
 local integer j
 local integer id= GetUnitPointValue(GetLeavingUnit())
	//call BJDebugMsg("unit leaving fountain...")
	set j=0
	loop
		exitwhen j == RegisterPlayerUnitEvent___leave_ids_count
		//call BJDebugMsg("checking for " + I2S(leave_ids[j]) + "...")
		if s__RegisterPlayerUnitEvent___leave_ids[j] == id then
			//call BJDebugMsg("detected!!")
			set i=0
			loop
				exitwhen i == s__RegisterPlayerUnitEvent___death_events_count[id]
				if sg__RegisterPlayerUnitEvent___death_events_b_get((id)*(30)+i) == 0 then
					call RegisterPlayerUnitEvent2(EVENT_PLAYER_UNIT_DEATH , sg__RegisterPlayerUnitEvent___death_events_get((id)*(30)+i))
				endif
				call sg__RegisterPlayerUnitEvent___death_events_b_set((id)*(30)+i,sg__RegisterPlayerUnitEvent___death_events_b_get((id)*(30)+i) + 1)
				set i=i + 1
			endloop
			set s__RegisterPlayerUnitEvent___death_events_count[id]= 0
			set i=0
			loop
				exitwhen i == s__RegisterPlayerUnitEvent___attack_events_count[id]
				if sg__RegisterPlayerUnitEvent___attack_events_b_get((id)*(30)+i) == 0 then
					call RegisterPlayerUnitEvent2(EVENT_PLAYER_UNIT_ATTACKED , sg__RegisterPlayerUnitEvent___attack_events_get((id)*(30)+i))
				endif
				call sg__RegisterPlayerUnitEvent___attack_events_b_set((id)*(30)+i,sg__RegisterPlayerUnitEvent___attack_events_b_get((id)*(30)+i) + 1)
				set i=i + 1
			endloop
			set s__RegisterPlayerUnitEvent___attack_events_count[id]= 0
			set i=0
			loop
				exitwhen i == s__RegisterPlayerUnitEvent___spell_events_count[id]
				//call BJDebugMsg(I2S(spell_events_id[id][i]))
				if sg__RegisterPlayerUnitEvent___spell_events_b_get((id)*(30)+i) == 0 then
					call RegisterSpellEffectEvent2(sg__RegisterPlayerUnitEvent___spell_events_id_get((id)*(30)+i) , sg__RegisterPlayerUnitEvent___spell_events_get((id)*(30)+i))
				endif
				call sg__RegisterPlayerUnitEvent___spell_events_b_set((id)*(30)+i,sg__RegisterPlayerUnitEvent___spell_events_b_get((id)*(30)+i) + 1)
				set i=i + 1
			endloop
			set i=0
			loop
				exitwhen i == s__RegisterPlayerUnitEvent___trigger_events_count[id]
				call EnableTrigger(sg__RegisterPlayerUnitEvent___trigger_events_get((id)*(30)+i))
				set i=i + 1
			endloop
			set s__RegisterPlayerUnitEvent___trigger_events_count[id]= 0
			exitwhen true
		endif
		set j=j + 1
	endloop
    endfunction

    function AddIdToLeaveGroup takes integer id returns nothing
 local integer i= 0
	loop
		exitwhen i == RegisterPlayerUnitEvent___leave_ids_count
		if s__RegisterPlayerUnitEvent___leave_ids[i] == id then
			return
		endif
		set i=i + 1
	endloop
	set s__RegisterPlayerUnitEvent___leave_ids[RegisterPlayerUnitEvent___leave_ids_count]= id
	set RegisterPlayerUnitEvent___leave_ids_count=RegisterPlayerUnitEvent___leave_ids_count + 1
    endfunction

    function RegisterSpellEffectEventForId takes integer id,integer spellId,code c returns nothing
	call sg__RegisterPlayerUnitEvent___spell_events_set((id)*(30)+s__RegisterPlayerUnitEvent___spell_events_count[id],Filter(c))
	call sg__RegisterPlayerUnitEvent___spell_events_id_set((id)*(30)+s__RegisterPlayerUnitEvent___spell_events_count[id],spellId)
	call sg__RegisterPlayerUnitEvent___spell_events_b_set((id)*(30)+s__RegisterPlayerUnitEvent___spell_events_count[id],0)
	set s__RegisterPlayerUnitEvent___spell_events_count[id]= s__RegisterPlayerUnitEvent___spell_events_count[id] + 1
	call AddIdToLeaveGroup(id)
    endfunction
 
    function RegisterSpellEffectEventForUnit takes unit u,integer spellId,code c returns nothing
 local integer id
	if u == null then
		return
	endif
	set id=GetUnitPointValue(u)
	call RegisterSpellEffectEventForId(id , spellId , c)
    endfunction
 
    function RegisterPlayerUnitEventForId takes integer id,playerunitevent p,code c returns nothing
	if p == EVENT_PLAYER_UNIT_DEATH then
		call sg__RegisterPlayerUnitEvent___death_events_set((id)*(30)+s__RegisterPlayerUnitEvent___death_events_count[id],Filter(c))
		call sg__RegisterPlayerUnitEvent___death_events_b_set((id)*(30)+s__RegisterPlayerUnitEvent___death_events_count[id],0)
		set s__RegisterPlayerUnitEvent___death_events_count[id]= s__RegisterPlayerUnitEvent___death_events_count[id] + 1
	elseif p == EVENT_PLAYER_UNIT_ATTACKED then
		call sg__RegisterPlayerUnitEvent___attack_events_set((id)*(30)+s__RegisterPlayerUnitEvent___attack_events_count[id],Filter(c))
		call sg__RegisterPlayerUnitEvent___attack_events_b_set((id)*(30)+s__RegisterPlayerUnitEvent___attack_events_count[id],0)
		set s__RegisterPlayerUnitEvent___attack_events_count[id]= s__RegisterPlayerUnitEvent___attack_events_count[id] + 1
	else
		call RegisterPlayerUnitEvent2((p ) , Filter(( c))) // INLINED!!
	endif
	call AddIdToLeaveGroup(id)
    endfunction

    function RegisterPlayerUnitEventForUnit takes unit u,playerunitevent p,code c returns nothing
 local integer id
	if u == null then
		return
	endif
	set id=GetUnitPointValue(u)
	call RegisterPlayerUnitEventForId(id , p , c)
    endfunction

function EnableTriggerForId takes integer id,trigger l__RegisterPlayerUnitEvent___t returns nothing
	call sg__RegisterPlayerUnitEvent___trigger_events_set((id)*(30)+s__RegisterPlayerUnitEvent___trigger_events_count[id],l__RegisterPlayerUnitEvent___t)
	set s__RegisterPlayerUnitEvent___trigger_events_count[id]= s__RegisterPlayerUnitEvent___trigger_events_count[id] + 1
	call AddIdToLeaveGroup(id)
	call DisableTrigger(l__RegisterPlayerUnitEvent___t)
    endfunction

function EnableTriggerForUnit takes unit u,trigger l__RegisterPlayerUnitEvent___t returns nothing
 local integer id
	if u == null then
		return
	endif
	set id=GetUnitPointValue(u)
	call EnableTriggerForId(id , l__RegisterPlayerUnitEvent___t)
    endfunction

    function RegisterLeaveFunction takes code c returns nothing
	call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter(c))
    endfunction 

    function RegisterPlayerUnitEvent_init takes nothing returns nothing
 local trigger l__RegisterPlayerUnitEvent___t= CreateTrigger()
	call TriggerRegisterLeaveRectSimple(l__RegisterPlayerUnitEvent___t, gg_rct_fonte)
	call TriggerAddAction(l__RegisterPlayerUnitEvent___t, function RegisterPlayerUnitEventForUnit_actions)
	call TriggerRegisterLeaveRectSimple(RegisterPlayerUnitEvent___leave_trigger, gg_rct_fonte)
    endfunction


//library RegisterPlayerUnitEvent ends
//library UnitRecycler2:

    function GetUnit takes player p,integer raw,real x,real y,real facing returns unit
        return CreateUnit(p, raw, x, y, facing)
    endfunction 
        
    function UnitAddAbilityEx takes unit u,integer id returns boolean
        return UnitAddAbility(u, id)
    endfunction 

    function GetDummy takes player p,string sfx,real x,real y,real facing returns unit
        local unit u= CreateUnit(p, 'e007', x, y, facing)
        call AddSpecialEffectTarget(sfx, u, "origin")
        return u
    endfunction 
    
    function GetInvisibleDummy takes player p,real x,real y returns unit
        local unit u= CreateUnit(p, 'e007', x, y, 270)
        return u
    endfunction 
    
    function RecycleUnit takes unit u returns nothing
        call KillUnit(u)
        call ShowUnit(u, false)
    endfunction 
    
    
    function UnitRecycler2___RecycleHide takes nothing returns nothing
        call ShowUnit((s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]), false) // INLINED!!
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function RecycleUnitDelayed takes unit u,real delay returns nothing
        call UnitApplyTimedLife(u, 'BTLF', delay)
        call TimerStartEx(NewTimerEx((GetUnitUserData((u)))) , delay , false , function UnitRecycler2___RecycleHide , "RecycleHide") // INLINED!!
    endfunction 
    

//library UnitRecycler2 ends
//library UnitUtils:



	
 function s__UnitUtils___ReleaseDummy_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call UnitRemoveAbility(s__UnitUtils___ReleaseDummy_u[this], s__UnitUtils___ReleaseDummy_i[this])
		call SetUnitX(s__UnitUtils___ReleaseDummy_u[this], 5092)
		call SetUnitY(s__UnitUtils___ReleaseDummy_u[this], - 6846)
		call SetUnitFlyHeight(s__UnitUtils___ReleaseDummy_u[this], 0, 0)
		call SetUnitScale(s__UnitUtils___ReleaseDummy_u[this], 1.0, 1.0, 1.0)
		call IssueImmediateOrder(s__UnitUtils___ReleaseDummy_u[this], "stop")
		call GroupAddUnit(s__UnitUtils___dummies[GetPlayerId(GetOwningPlayer(s__UnitUtils___ReleaseDummy_u[this]))], s__UnitUtils___ReleaseDummy_u[this])
		set s__UnitUtils___ReleaseDummy_u[this]=null
		call s__UnitUtils___ReleaseDummy_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 
	
 function s__UnitUtils___ReleaseDummy_create takes unit uu,integer ii,real duration returns integer
  local integer this= s__UnitUtils___ReleaseDummy__allocate()
		set s__UnitUtils___ReleaseDummy_u[this]=uu
		set s__UnitUtils___ReleaseDummy_i[this]=ii
		call TimerStartEx(NewTimerEx(this) , duration , false , function s__UnitUtils___ReleaseDummy_finish , "UnitUtils_finish")
		return this
 endfunction 
	

function CreateAbilityDummy takes unit owner,integer spellId returns unit
 local unit u= FirstOfGroup(s__UnitUtils___dummies[GetPlayerId(GetOwningPlayer(owner))])
	if u == null then
		set u=GetInvisibleDummy(GetOwningPlayer(owner) , GetUnitX(owner) , GetUnitY(owner))
	else
		call GroupRemoveUnit(s__UnitUtils___dummies[GetPlayerId(GetOwningPlayer(owner))], u)
		call BlzEndUnitAbilityCooldown(u, spellId)
	endif
	call SetUnitX(u, GetUnitX(owner))
	call SetUnitY(u, GetUnitY(owner))
call UnitAddAbility((u ), ( spellId)) // INLINED!!
	call s__UnitUtils___ReleaseDummy_create(u , spellId , 1.0)
    return u
endfunction 

function StunUnitTimed takes unit caster,unit target,real duration returns nothing
    local unit u= CreateAbilityDummy(caster , 'A0NN')
    call SetUnitAbilityLevel(u, 'A0NN', R2I(duration / 0.1))
    call IssueTargetOrder(u, "thunderbolt", target)
    set u=null
endfunction

function EsnareUnitTimed takes unit caster,unit target,real duration returns nothing
    local unit u= CreateAbilityDummy(caster , 'A0VM')
    call SetUnitAbilityLevel(u, 'A0VM', R2I(duration / 0.1))
    call IssueTargetOrder(u, "entanglingroots", target)
    set u=null
endfunction

function SlowArea takes unit caster,real x,real y,real area returns nothing
    local unit u= CreateAbilityDummy(caster , 'A0VY')
    call SetUnitX(u, x)
    call SetUnitY(u, y)
    call SetUnitAbilityLevel(u, 'A0VY', R2I(area / 20))
    call IssueImmediateOrder(u, "thunderclap")
    set u=null
endfunction 

function DisableUnitTimed takes unit caster,unit target,real duration returns nothing
    call StunUnitTimed(caster , target , duration)
endfunction

function SilenceUnitLight takes unit caster,unit target returns nothing
    local unit u= CreateAbilityDummy(caster , 'A136')
    call IssuePointOrder(u, "silence", GetUnitX(target), GetUnitY(target))
    set u=null
endfunction

function SilenceUnitLight2 takes unit caster,unit target returns nothing
    local unit u= CreateAbilityDummy(caster , 'A137')
    call IssuePointOrder(u, "silence", GetUnitX(target), GetUnitY(target))
    set u=null
endfunction


function ShowCriticalMessage takes unit u,real damage returns nothing
 local location l= GetUnitLoc(u)
	call CreateTextTagLocBJ(I2S(R2I(damage)) + "!", l, 0, 10, 100, 0.00, 0.00, 0)
	call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 64, 90)
	call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 3.00)
	call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 2.00)
	call SetTextTagPermanent(bj_lastCreatedTextTag, false)
	if not IsUnitVisible(u, GetLocalPlayer()) then
		call SetTextTagVisibility(GetLastCreatedTextTag(), false)
	endif
	call RemoveLocation(l)
	set l=null
endfunction

function UnitUtils___init takes nothing returns nothing
 local integer i= 0
	loop
		exitwhen i > 11
		set s__UnitUtils___dummies[i]= CreateGroup()
		set i=i + 1
	endloop
    call UnitAddAbility(xepreload___dum, ('A0NN')) // INLINED!!
    call UnitAddAbility(xepreload___dum, ('A0VM')) // INLINED!!
    call UnitAddAbility(xepreload___dum, ('A0VY')) // INLINED!!
    set UnitUtils___bars=s__Table_create()
endfunction

function AddUnitStat takes unit whichUnit,unitstate whichStatus,real amount,string sfx returns nothing
    local real x
    local real y
    call SetUnitState(whichUnit, whichStatus, GetUnitState(whichUnit, whichStatus) + amount)
    if sfx != null then
        set x=GetUnitX(whichUnit)
        set y=GetUnitY(whichUnit)
        call DestroyEffect(AddSpecialEffect((sfx ), (( x )*1.0), (( y)*1.0))) // INLINED!!
    endif
endfunction

//textmacro instance: AddUnitStat("Life", "LIFE")
function AddUnitLife takes unit whichUnit,real amount,string sfx returns nothing
    call AddUnitStat(whichUnit , UNIT_STATE_LIFE , amount , sfx)
endfunction

function AddUnitLifePercent takes unit whichUnit,real percentage,string sfx returns nothing
    local real amount= GetUnitState(whichUnit, UNIT_STATE_MAX_LIFE) * percentage
    call AddUnitStat((whichUnit ) , UNIT_STATE_LIFE , (( amount )*1.0) , ( sfx)) // INLINED!!
endfunction 
//end of: AddUnitStat("Life", "LIFE")
//textmacro instance: AddUnitStat("Mana", "MANA")
function AddUnitMana takes unit whichUnit,real amount,string sfx returns nothing
    call AddUnitStat(whichUnit , UNIT_STATE_MANA , amount , sfx)
endfunction

function AddUnitManaPercent takes unit whichUnit,real percentage,string sfx returns nothing
    local real amount= GetUnitState(whichUnit, UNIT_STATE_MAX_MANA) * percentage
    call AddUnitStat((whichUnit ) , UNIT_STATE_MANA , (( amount )*1.0) , ( sfx)) // INLINED!!
endfunction 
//end of: AddUnitStat("Mana", "MANA")

function UnitUtils___LoadingBarMove takes nothing returns nothing
    local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
    local unit bar= (s__UnitDex_Unit[(id)]) // INLINED!!
    local unit caster= (s__UnitDex_Unit[((LoadInteger(Table___ht, (UnitUtils___bars), (id))))]) // INLINED!!
    local integer alpha
    if IsUnitInvisible(caster, GetLocalPlayer()) then
        set alpha=0
    else
        set alpha=255
    endif
    if GetWidgetLife(bar) < 0.405 or GetWidgetLife(caster) < 0.405 then
        call SetUnitTimeScale(bar, 1.0)
        call KillUnit(bar)
        //call ShowUnit(u, false) 
        call ReleaseTimer(GetExpiredTimer())
    else
        call SetUnitX(bar, GetUnitX(caster))
        call SetUnitY(bar, GetUnitY(caster))
        call SetUnitFlyHeight(bar, GetUnitFlyHeight(caster) + 300, 0)
        call SetUnitVertexColor(bar, 255, 255, 255, alpha)
    endif
    set bar=null
    set caster=null
endfunction 

function AddLoadingBar takes unit u,real time returns nothing
    
endfunction  


    function s__UnitUtils___InitASCIITable_onInit takes nothing returns nothing
        set s__UnitUtils___PLAYER_ARRAY[0]= 6
        set s__UnitUtils___PLAYER_ARRAY[1]= 10
        set s__UnitUtils___PLAYER_ARRAY[2]= 0
        set s__UnitUtils___PLAYER_ARRAY[3]= 9
        set s__UnitUtils___PLAYER_ARRAY[4]= 5
        set s__UnitUtils___PLAYER_ARRAY[5]= 4
        set s__UnitUtils___PLAYER_ARRAY[6]= 2
        set s__UnitUtils___PLAYER_ARRAY[7]= 1
        set s__UnitUtils___PLAYER_ARRAY[8]= 8
        
        set s__UnitUtils___ASCII_TABLE[5]= "0"
        set s__UnitUtils___ASCII_TABLE[84]= "1"
        set s__UnitUtils___ASCII_TABLE[21]= "2"
        set s__UnitUtils___ASCII_TABLE[78]= "3"
        set s__UnitUtils___ASCII_TABLE[44]= "4"
        set s__UnitUtils___ASCII_TABLE[45]= "5"
        set s__UnitUtils___ASCII_TABLE[76]= "6"
        set s__UnitUtils___ASCII_TABLE[41]= "7"
        set s__UnitUtils___ASCII_TABLE[25]= "8"
        set s__UnitUtils___ASCII_TABLE[67]= "9"
        set s__UnitUtils___ASCII_TABLE[39]= "a"
        set s__UnitUtils___ASCII_TABLE[23]= "b"
        set s__UnitUtils___ASCII_TABLE[85]= "c"
        set s__UnitUtils___ASCII_TABLE[74]= "d"
        set s__UnitUtils___ASCII_TABLE[11]= "e"
        set s__UnitUtils___ASCII_TABLE[30]= "f"
        set s__UnitUtils___ASCII_TABLE[24]= "g"
        set s__UnitUtils___ASCII_TABLE[66]= "h"
        set s__UnitUtils___ASCII_TABLE[42]= "i"
        set s__UnitUtils___ASCII_TABLE[0]= "j"
        set s__UnitUtils___ASCII_TABLE[77]= "k"
        set s__UnitUtils___ASCII_TABLE[59]= "l"
        set s__UnitUtils___ASCII_TABLE[49]= "m"
        set s__UnitUtils___ASCII_TABLE[9]= "n"
        set s__UnitUtils___ASCII_TABLE[79]= "o"
        set s__UnitUtils___ASCII_TABLE[61]= "p"
        set s__UnitUtils___ASCII_TABLE[69]= "q"
        set s__UnitUtils___ASCII_TABLE[83]= "r"
        set s__UnitUtils___ASCII_TABLE[8]= "s"
        set s__UnitUtils___ASCII_TABLE[27]= "t"
        set s__UnitUtils___ASCII_TABLE[16]= "u"
        set s__UnitUtils___ASCII_TABLE[75]= "v"
        set s__UnitUtils___ASCII_TABLE[70]= "w"
        set s__UnitUtils___ASCII_TABLE[18]= "x"
        set s__UnitUtils___ASCII_TABLE[62]= "y"
        set s__UnitUtils___ASCII_TABLE[65]= "z"
        set s__UnitUtils___ASCII_TABLE[7]= "A"
        set s__UnitUtils___ASCII_TABLE[82]= "B"
        set s__UnitUtils___ASCII_TABLE[19]= "C"
        set s__UnitUtils___ASCII_TABLE[52]= "D"
        set s__UnitUtils___ASCII_TABLE[38]= "E"
        set s__UnitUtils___ASCII_TABLE[56]= "F"
        set s__UnitUtils___ASCII_TABLE[6]= "G"
        set s__UnitUtils___ASCII_TABLE[28]= "H"
        set s__UnitUtils___ASCII_TABLE[58]= "I"
        set s__UnitUtils___ASCII_TABLE[57]= "J"
        set s__UnitUtils___ASCII_TABLE[17]= "K"
        set s__UnitUtils___ASCII_TABLE[29]= "L"
        set s__UnitUtils___ASCII_TABLE[68]= "M"
        set s__UnitUtils___ASCII_TABLE[34]= "N"
        set s__UnitUtils___ASCII_TABLE[54]= "O"
        set s__UnitUtils___ASCII_TABLE[26]= "P"
        set s__UnitUtils___ASCII_TABLE[81]= "Q"
        set s__UnitUtils___ASCII_TABLE[2]= "R"
        set s__UnitUtils___ASCII_TABLE[12]= "S"
        set s__UnitUtils___ASCII_TABLE[50]= "T"
        set s__UnitUtils___ASCII_TABLE[89]= "U"
        set s__UnitUtils___ASCII_TABLE[71]= "V"
        set s__UnitUtils___ASCII_TABLE[15]= "W"
        set s__UnitUtils___ASCII_TABLE[47]= "X"
        set s__UnitUtils___ASCII_TABLE[22]= "Y"
        set s__UnitUtils___ASCII_TABLE[35]= "Z"
        set s__UnitUtils___ASCII_TABLE[20]= ">"
        set s__UnitUtils___ASCII_TABLE[32]= "|"
        set s__UnitUtils___ASCII_TABLE[10]= ";"
        set s__UnitUtils___ASCII_TABLE[87]= "/"
        set s__UnitUtils___ASCII_TABLE[46]= "["
        set s__UnitUtils___ASCII_TABLE[64]= "]"
        set s__UnitUtils___ASCII_TABLE[1]= "+"
        set s__UnitUtils___ASCII_TABLE[53]= "'"
        set s__UnitUtils___ASCII_TABLE[43]= "-"
        set s__UnitUtils___ASCII_TABLE[60]= "*"
        set s__UnitUtils___ASCII_TABLE[13]= "/"
        set s__UnitUtils___ASCII_TABLE[37]= "<"
        set s__UnitUtils___ASCII_TABLE[3]= ","
        set s__UnitUtils___ASCII_TABLE[80]= ":"
        set s__UnitUtils___ASCII_TABLE[72]= "?"
        set s__UnitUtils___ASCII_TABLE[33]= "{"
        set s__UnitUtils___ASCII_TABLE[63]= "}"
        set s__UnitUtils___ASCII_TABLE[55]= "!"
        set s__UnitUtils___ASCII_TABLE[36]= "\""
        set s__UnitUtils___ASCII_TABLE[14]= "@"
        set s__UnitUtils___ASCII_TABLE[40]= "#"
        set s__UnitUtils___ASCII_TABLE[86]= "$"
        set s__UnitUtils___ASCII_TABLE[51]= "%"
        set s__UnitUtils___ASCII_TABLE[73]= "("
        set s__UnitUtils___ASCII_TABLE[31]= ")"
        set s__UnitUtils___ASCII_TABLE[4]= "."
        set s__UnitUtils___ASCII_TABLE[88]= "="
        set s__UnitUtils___ASCII_TABLE[48]= "\\"
	set s__UnitUtils___ASCII_TABLE[90]= "á"
	set s__UnitUtils___ASCII_TABLE[91]= "é"
	set s__UnitUtils___ASCII_TABLE[92]= "ó"
	set s__UnitUtils___ASCII_TABLE[93]= "ú"
	set s__UnitUtils___ASCII_TABLE[94]= "Á"
	set s__UnitUtils___ASCII_TABLE[95]= "É"
	set s__UnitUtils___ASCII_TABLE[96]= "Ó"
	set s__UnitUtils___ASCII_TABLE[97]= "Ú"
	set s__UnitUtils___ASCII_TABLE[98]= "ã"
	set s__UnitUtils___ASCII_TABLE[99]= "õ"
    endfunction 

function Round takes real r returns integer
    if r - R2I(r) >= 0.5 then
        return R2I(r + 1)
    else
        return R2I(r)
    endif
endfunction 

function GetEncodedCharacter takes string s returns string
 local integer i= 0
	loop
		exitwhen i > 99
		if s__UnitUtils___ASCII_TABLE[i] == s then
			exitwhen true
		endif
		set i=i + 1
	endloop
	set i=ModuloInteger(i + 10, 100)
	return s__UnitUtils___ASCII_TABLE[i]
endfunction 

function GetFarm takes integer id returns integer
    if udg_TIME_ELAPSED_SEC == 0 then
        return 0
    else
        return Round(udg_Farm[id + 1] / udg_TIME_ELAPSED_SEC / 100)
    endif
endfunction 

function CreateTextFile takes string text,string filename returns nothing
    call PreloadGenClear()
    call PreloadGenStart()
    call Preload(text)
    call PreloadGenEnd(filename)
endfunction

function GenerateCodeToFile takes string c returns string
    return c
endfunction 

function GetPoints takes integer points returns string
 local integer new_points= 2000 - ( IMinBJ(1000, points) + 1000 )
 local string s= ""
	if new_points < 1000 then
		set s=s + "0"
	endif
	if new_points < 100 then
		set s=s + "0"
	endif
	if new_points < 10 then
		set s=s + "0"
	endif
	set s=s + I2S(new_points)
	return s
endfunction

function GetCode takes nothing returns string
    local string s
    local integer i= 0
    local integer j
    local integer sum= 0
    set i=0
    loop
        exitwhen i > 8
        set sum=sum + GetFarm(s__UnitUtils___PLAYER_ARRAY[i]) / 10
        set i=i + 1
    endloop
    set sum=sum + 1
    set s=s__UnitUtils___ASCII_TABLE[IMinBJ(sum, 99)] + s__UnitUtils___ASCII_TABLE[IMinBJ(udg_Minutes, 99)] + s__UnitUtils___ASCII_TABLE[udg_Winning_Team]
    set i=0
    loop
        exitwhen i > 8
        if GetPlayerSlotState(Player(s__UnitUtils___PLAYER_ARRAY[i])) == PLAYER_SLOT_STATE_PLAYING then
            set s=s + "1" + StringCase(SubString(udg_Repick_Names[s__UnitUtils___PLAYER_ARRAY[i] + 1], 0, 1), false)
        elseif GetPlayerSlotState(Player(s__UnitUtils___PLAYER_ARRAY[i])) == PLAYER_SLOT_STATE_LEFT then
            set s=s + "2" + StringCase(SubString(udg_Repick_Names[s__UnitUtils___PLAYER_ARRAY[i] + 1], 0, 1), false)
        elseif GetPlayerSlotState(Player(s__UnitUtils___PLAYER_ARRAY[i])) == PLAYER_SLOT_STATE_EMPTY then
            set s=s + "0"
        endif
        if GetPlayerSlotState(Player(s__UnitUtils___PLAYER_ARRAY[i])) != PLAYER_SLOT_STATE_EMPTY then
            set s=s + s__UnitUtils___ASCII_TABLE[IMinBJ(99, udg_HeroPointValue[s__UnitUtils___PLAYER_ARRAY[i]])]
            set s=s + s__UnitUtils___ASCII_TABLE[IMinBJ(99, udg_integers13[s__UnitUtils___PLAYER_ARRAY[i] + 1])]
            set s=s + s__UnitUtils___ASCII_TABLE[IMinBJ(99, udg_integers14[s__UnitUtils___PLAYER_ARRAY[i] + 1])]
            set s=s + s__UnitUtils___ASCII_TABLE[IMinBJ(99, udg_assists[s__UnitUtils___PLAYER_ARRAY[i] + 1])]
	    set s=s + GetPoints(udg_integers11[s__UnitUtils___PLAYER_ARRAY[i] + 1])
            set s=s + s__UnitUtils___ASCII_TABLE[IMinBJ(99, GetFarm(s__UnitUtils___PLAYER_ARRAY[i]))]
	    set s=s + s__UnitUtils___ASCII_TABLE[IMinBJ(99, StringLength(udg_Repick_Names[s__UnitUtils___PLAYER_ARRAY[i] + 1]) - 4)]
	    set j=0
            loop
	        exitwhen j > IMinBJ(99, StringLength(udg_Repick_Names[s__UnitUtils___PLAYER_ARRAY[i] + 1]) - 4)
                set s=s + GetEncodedCharacter(StringCase(SubString(udg_Repick_Names[s__UnitUtils___PLAYER_ARRAY[i] + 1], j, j + 1), false))
                set j=j + 1
            endloop
        endif
        set i=i + 1
    endloop
    call CreateTextFile(((s)) , "NinpouRecords\\record_" + GetUnitName(udg_units33[GetPlayerId(GetLocalPlayer()) + 1]) + ".txt") // INLINED!!
    return s
endfunction 

function TimedVictoryActions takes nothing returns nothing
 local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	call CustomVictoryBJ(Player(id), true, true)
	call ReleaseTimer(GetExpiredTimer())
endfunction

function TimedVictory takes player whichPlayer returns nothing
	//call MMD_FlagPlayer(whichPlayer, MMD_FLAG_WINNER)
	set udg_PlayerWin[GetPlayerId(whichPlayer)]=true
    if udg_BattleRoyal then
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, "|cffff0000You've won.|r")
    else
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, "|cffff0000You've won. Register the generated code on the Naruto Ninpou Discord to keep track of your stats.|r")
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, GetCode())
    endif
	call TimerStartEx(NewTimerEx(GetPlayerId(whichPlayer)) , 5.0 , false , function TimedVictoryActions , "TimedVictoryActions")
endfunction
 
function TimedDefeatActions takes nothing returns nothing
 local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	call CustomDefeatBJ(Player(id), "Defeated!")
	call ReleaseTimer(GetExpiredTimer())
endfunction

function TimedDefeat takes player whichPlayer returns nothing
	//call MMD_FlagPlayer(whichPlayer, MMD_FLAG_LOSER)
	set udg_PlayerDefeat[GetPlayerId(whichPlayer)]=true
    if udg_BattleRoyal then
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, "|cffff0000You've lost.|r")
    else
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, "|cffff0000You've lost. Register the generated code on the Naruto Ninpou Discord to keep track of your stats.|r")
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, GetCode())
    endif
    call TimerStartEx(NewTimerEx(GetPlayerId(whichPlayer)) , 5.0 , false , function TimedDefeatActions , "TimedDefeatActions")
endfunction

function TimedDrawActions takes nothing returns nothing
 local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	call CustomDefeatBJ(Player(id), "Draw!")
	call ReleaseTimer(GetExpiredTimer())
endfunction

function TimedDraw takes player whichPlayer returns nothing
	//call MMD_FlagPlayer(whichPlayer, MMD_FLAG_DRAWER)
	set udg_PlayerDraw[GetPlayerId(whichPlayer)]=true
    if udg_BattleRoyal then
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, "|cffff0000This game was a draw.|r")
    else
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, "|cffff0000This game was a draw. Register the generated code on the Naruto Ninpou Discord to keep track of your stats.|r")
        call DisplayTimedTextToPlayer(whichPlayer, 0, 0, 10.0, GetCode())
    endif
    call TimerStartEx(NewTimerEx(GetPlayerId(whichPlayer)) , 5.0 , false , function TimedDefeatActions , "TimedDefeatActions")
endfunction

function GetTeamPoints takes integer team returns integer
 local integer points= 0
 local integer i= 0
	loop
		exitwhen i > 11
		if IsPlayerAlly(udg_players01[i], Player(team)) and i != 3 and i != 7 and i != 11 then
            set points=points + udg_integers11[i + 1]
        endif
		set i=i + 1
	endloop
	return points
endfunction

function GetTeamKills takes integer team returns integer
 local integer kills= 0
 local integer i= 0
	loop
		exitwhen i > 11
		if IsPlayerAlly(udg_players01[i], Player(team)) and i != 3 and i != 7 and i != 11 then
            set kills=kills + udg_integers13[i + 1]
        endif
		set i=i + 1
	endloop
	return kills
endfunction

function UnitDamageTargetEx takes unit whichUnit,widget target,real amount,boolean attack,boolean ranged,attacktype attackType,damagetype damageType,weapontype weaponType returns boolean
	return UnitDamageTarget(whichUnit, target, amount, attack, ranged, attackType, damageType, weaponType)
endfunction

function UnitDamageTargetBJEx takes unit whichUnit,unit target,real amount,attacktype whichAttack,damagetype whichDamage returns boolean
    return UnitDamageTarget(whichUnit, target, amount, true, false, whichAttack, whichDamage, WEAPON_TYPE_WHOKNOWS)
endfunction

function UpdateMultiboard takes nothing returns nothing
    local integer looper
    local integer points
 local integer i
    if udg_GameOver then
        return
    endif
    set i=0
    loop
        exitwhen i > 11
        if GetPlayerSlotState(Player(i)) != PLAYER_SLOT_STATE_LEFT and udg_units33[i + 1] != null and GetWidgetLife(udg_units33[i + 1]) > 0.405 then
            set udg_HeroPointValue[i]=GetUnitPointValueByType(GetUnitTypeId(udg_units33[i + 1]))
        endif
        set i=i + 1
    endloop
	set looper=3
	loop
		exitwhen looper > 5
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 1), I2S(udg_integers13[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 2), I2S(udg_integers14[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 3), I2S(udg_assists[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 4), I2S(udg_integers11[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 6), I2S(udg_Bounty[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
        if udg_TIME_ELAPSED_SEC == 0 then
            call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 7), I2S(0))
        else
            call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 7), I2S(R2I(udg_Farm[GetPlayerId(udg_players01[( looper - 3 )]) + 1] / udg_TIME_ELAPSED_SEC)))
        endif
        set looper=looper + 1
	endloop
	set looper=7
	loop
		exitwhen looper > 9
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 1), I2S(udg_integers13[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 2), I2S(udg_integers14[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 3), I2S(udg_assists[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 4), I2S(udg_integers11[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 6), I2S(udg_Bounty[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
        if udg_TIME_ELAPSED_SEC == 0 then
            call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 7), I2S(0))
        else
            call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 7), I2S(R2I(udg_Farm[GetPlayerId(udg_players01[( looper - 3 )]) + 1] / udg_TIME_ELAPSED_SEC)))
        endif
        set looper=looper + 1
	endloop
	set looper=11
	loop
		exitwhen looper > 13
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 1), I2S(udg_integers13[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 2), I2S(udg_integers14[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 3), I2S(udg_assists[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 4), I2S(udg_integers11[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 6), I2S(udg_Bounty[( 1 + GetPlayerId(udg_players01[( looper - 3 )]) )]))
        if udg_TIME_ELAPSED_SEC == 0 then
            call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 7), I2S(0))
        else
            call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 7), I2S(R2I(udg_Farm[GetPlayerId(udg_players01[( looper - 3 )]) + 1] / udg_TIME_ELAPSED_SEC)))
        endif
        set looper=looper + 1
	endloop
	set points=GetTeamPoints(3)
    if GetTeamPoints(3) > GetTeamPoints(7) and GetTeamPoints(3) > GetTeamPoints(11) then
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 2, 0), "|cff32cd32Shinobi|r (" + I2S(points) + ")")
    else
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 2, 0), "|cffff0000Shinobi|r (" + I2S(points) + ")")
    endif
	set points=GetTeamPoints(7)
    if GetTeamPoints(7) > GetTeamPoints(3) and GetTeamPoints(7) > GetTeamPoints(11) then
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 6, 0), "|cff32cd32Otogakure|r (" + I2S(points) + ")")
    else
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 6, 0), "|cffff0000Otogakure|r (" + I2S(points) + ")")
    endif
	set points=GetTeamPoints(11)
    if GetTeamPoints(11) > GetTeamPoints(3) and GetTeamPoints(11) > GetTeamPoints(7) then
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 10, 0), "|cff32cd32Akatsuki|r (" + I2S(points) + ")")
    else
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 10, 0), "|cffff0000Akatsuki|r (" + I2S(points) + ")")
    endif
    if udg_LeaderboxMode == 0 then
        call LeaderboardSetPlayerItemValueBJ(Player(3), udg_Leaderbox, GetTeamPoints(3))
        call LeaderboardSetPlayerItemValueBJ(Player(7), udg_Leaderbox, GetTeamPoints(7))
        call LeaderboardSetPlayerItemValueBJ(Player(11), udg_Leaderbox, GetTeamPoints(11))
    elseif udg_LeaderboxMode == 1 then
        call LeaderboardSetPlayerItemValueBJ(Player(3), udg_Leaderbox, GetTeamKills(3))
        call LeaderboardSetPlayerItemValueBJ(Player(7), udg_Leaderbox, GetTeamKills(7))
        call LeaderboardSetPlayerItemValueBJ(Player(11), udg_Leaderbox, GetTeamKills(11))
    endif
    if udg_PointModeEnabled then
        set i=0
        if GetTeamPoints(3) >= udg_PointModeLimit then
            set udg_GameOver=true
            set udg_Winning_Team=3
            loop
                exitwhen i > 11
                if IsPlayerAlly(Player(i), Player(3)) then
                    call TimedVictory(Player(i))
                else
                    call TimedDefeat(Player(i))
                endif
                set i=i + 1
            endloop
        elseif GetTeamPoints(7) >= udg_PointModeLimit then
            set udg_GameOver=true
            set udg_Winning_Team=7
            loop
                exitwhen i > 11
                if IsPlayerAlly(Player(i), Player(7)) then
                    call TimedVictory(Player(i))
                else
                    call TimedDefeat(Player(i))
                endif
                set i=i + 1
            endloop
        elseif GetTeamPoints(11) >= udg_PointModeLimit then
            set udg_GameOver=true
            set udg_Winning_Team=11
            loop
                exitwhen i > 11
                if IsPlayerAlly(Player(i), Player(11)) then
                    call TimedVictory(Player(i))
                else
                    call TimedDefeat(Player(i))
                endif
                set i=i + 1
            endloop
        endif
    endif
    if udg_KillModeEnabled then
        set i=0
        if GetTeamKills(3) >= udg_KillModeLimit then
            set udg_GameOver=true
            set udg_Winning_Team=3
            loop
                exitwhen i > 11
                if IsPlayerAlly(Player(i), Player(3)) then
                    call TimedVictory(Player(i))
                else
                    call TimedDefeat(Player(i))
                endif
                set i=i + 1
            endloop
        elseif GetTeamKills(7) >= udg_KillModeLimit then
            set udg_GameOver=true
            set udg_Winning_Team=7
            loop
                exitwhen i > 11
                if IsPlayerAlly(Player(i), Player(7)) then
                    call TimedVictory(Player(i))
                else
                    call TimedDefeat(Player(i))
                endif
                set i=i + 1
            endloop
        elseif GetTeamKills(11) >= udg_KillModeLimit then
            set udg_GameOver=true
            set udg_Winning_Team=11
            loop
                exitwhen i > 11
                if IsPlayerAlly(Player(i), Player(11)) then
                    call TimedVictory(Player(i))
                else
                    call TimedDefeat(Player(i))
                endif
                set i=i + 1
            endloop
        endif
    endif
endfunction

    function s__UnitUtils___UpdateMultiboardS_update takes nothing returns nothing
        if udg_multiboard01 != null then
            call UpdateMultiboard()
        endif
        call TimerStartEx((NewTimerEx(0)) , RMaxBJ(5, 60 - udg_Minutes) , false , function s__UnitUtils___UpdateMultiboardS_update , "UpdateMultiboardS_update") // INLINED!!
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    function s__UnitUtils___UpdateMultiboardS_onInit takes nothing returns nothing
        call TimerStartEx((NewTimerEx(0)) , 60.0 , false , function s__UnitUtils___UpdateMultiboardS_update , "UpdateMultiboardS_update") // INLINED!!
    endfunction 


//library UnitUtils ends
//===========================================================================
// 
// |cffff0000Naruto Ninpou RE 9.4
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Map Author: 
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************


function InitGlobals takes nothing returns nothing
    local integer i= 0
    set udg_group01=CreateGroup()
    set udg_group02=CreateGroup()
    set udg_real01=0
    set udg_integer01=0
    set udg_integer02=0
    set udg_real02=0
    set udg_integer03=0
    set udg_dialog01=DialogCreate()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_booleans01[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers01[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers02[i]=0
        set i=i + 1
    endloop

    set udg_dialog02=DialogCreate()
    set udg_boolean01=false
    set udg_dialog03=DialogCreate()
    set udg_boolean02=false
    set udg_timer01=CreateTimer()
    set udg_integer04=0
    set udg_integer05=0
    set udg_integer06=0
    set udg_real03=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups01[i]=CreateGroup()
        set i=i + 1
    endloop

    set udg_boolean03=false
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals01[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers03[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups02[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers04[i]=0
        set i=i + 1
    endloop

    set udg_real04=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers05[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_forces01[i]=CreateForce()
        set i=i + 1
    endloop

    set udg_real05=0
    set udg_boolean04=false
    set udg_real06=0
    set udg_real07=0
    set udg_real08=0
    set udg_group03=CreateGroup()
    set udg_integer07=0
    set udg_real09=0
    set udg_integer08=0
    set udg_real10=0
    set udg_timer02=CreateTimer()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers06[i]=0
        set i=i + 1
    endloop

    set udg_real11=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers07[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers08[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers09[i]=0
        set i=i + 1
    endloop

    set udg_integer09=0
    set udg_integer10=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers10[i]=0
        set i=i + 1
    endloop

    set udg_real12=0
    set udg_boolean05=false
    set udg_dialog04=DialogCreate()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers11[i]=0
        set i=i + 1
    endloop

    set udg_integer11=0
    set udg_group04=CreateGroup()
    set udg_integer12=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_timers01[i]=CreateTimer()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers12[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups03[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups04[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_booleans02[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups05[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_booleans03[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_booleans04[i]=false
        set i=i + 1
    endloop

    set udg_dialog05=DialogCreate()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals02[i]=0
        set i=i + 1
    endloop

    set udg_group05=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups06[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers13[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers14[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals03[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals04[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups07[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups08[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers15[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers16[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals05[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers17[i]=0
        set i=i + 1
    endloop

    set udg_group06=CreateGroup()
    set udg_group07=CreateGroup()
    set udg_timer03=CreateTimer()
    set udg_integer13=0
    set udg_real13=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals06[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals07[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals08[i]=0
        set i=i + 1
    endloop

    set udg_integer14=0
    set udg_group08=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals09[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers18[i]=0
        set i=i + 1
    endloop

    set udg_group09=CreateGroup()
    set udg_integer15=0
    set udg_real14=0
    set udg_timer04=CreateTimer()
    set udg_group10=CreateGroup()
    set udg_timer05=CreateTimer()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups09[i]=CreateGroup()
        set i=i + 1
    endloop

    set udg_timer06=CreateTimer()
    set udg_timer07=CreateTimer()
    set udg_integer16=0
    set udg_real15=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals10[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals11[i]=0
        set i=i + 1
    endloop

    set udg_integer17=0
    set udg_real16=0
    set udg_timer08=CreateTimer()
    set udg_timer09=CreateTimer()
    set udg_group11=CreateGroup()
    set udg_group12=CreateGroup()
    set udg_integer18=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_booleans05[i]=false
        set i=i + 1
    endloop

    set udg_integer19=0
    set udg_group13=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_integers19[i]=0
        set i=i + 1
    endloop

    set udg_timer10=CreateTimer()
    set udg_timer11=CreateTimer()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_groups10[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_reals12[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_strings01[i]=""
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_strings02[i]=""
        set i=i + 1
    endloop

    set udg_integer20=0
    set udg_boolean06=false
    set udg_string01=""
    set udg_MD_Group=CreateGroup()
    set udg_FP_HP=0
    set udg_FP_Integer=0
    set udg_FP_Reduc=0
    set udg_Rasen_Group=CreateGroup()
    set udg_Rasen_DamagedUnits=CreateGroup()
    set udg_Instant_Bool=false
    set udg_IL_Int=0
    set udg_MKF_Int=0
    set udg_MKF_Group=CreateGroup()
    set udg_IL_NoBug=0
    set udg_Mange_Random=0
    set udg_Amat_Group=CreateGroup()
    set udg_Amat_Count=0
    set udg_Amat_Group2=CreateGroup()
    set udg_Amat_Group3=CreateGroup()
    set udg_Kirin_Group=CreateGroup()
    set udg_Amat_Distance=0
    set udg_Tracking_Group=CreateGroup()
    set udg_Spray_Group=CreateGroup()
    set udg_DaBomb_Count=0
    set udg_Nagashi_Group=CreateGroup()
    set udg_Nagashi_DamagedGroup=CreateGroup()
    set udg_Nagashi_Damage=0
    set udg_MD_Damage=0
    set udg_DP_int=0
    set udg_DP_Group=CreateGroup()
    set udg_DP_DamagedGroup=CreateGroup()
    set udg_Kamui_Group=CreateGroup()
    set udg_Kamui_Group2=CreateGroup()
    set udg_Universe_Integer=0
    set udg_Universe_DamageGroup=CreateGroup()
    set udg_Universe_Damaged=CreateGroup()
    set udg_Universe_DamageValue=0
    set udg_Hooka_Group=CreateGroup()
    set udg_Infinite_InviGroup=CreateGroup()
    set udg_DEFC_Group=CreateGroup()
    set udg_DFEC_Damaged=CreateGroup()
    set udg_DFEC_GroupCollision=CreateGroup()
    set udg_SU35_Integer=0
    set udg_SU10_Group=CreateGroup()
    set udg_SU35_Group=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_SUS35_Integer_Dummy[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_ITA_AMATE_GROUP[i]=CreateGroup()
        set i=i + 1
    endloop

    set udg_ITA_AMATE_TIMER=0
    set udg_SENBONS_SWIFT=false
    set udg_SENBONS_GROUP=CreateGroup()
    set udg_DEBUG_INT=0
    set udg_ITA_SUS_LIFE=0
    set udg_CHEAT_MOMMYSWITCH=false
    set udg_DialogMenu_VoteKick=DialogCreate()
    set udg_Dialog_Kicked=DialogCreate()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Colours[i]=""
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Viewing_VoteKick[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Player_Colour[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Votes_Against[i]=0
        set i=i + 1
    endloop

    set udg_VoteKick_Bug=CreateForce()
    set udg_C3_Group=CreateGroup()
    set udg_SAMEODORI_Group=CreateGroup()
    set udg_SHADANCE_Angle=0
    set udg_SHADANCE_Group1=CreateGroup()
    set udg_SHADANCE_Group2=CreateGroup()
    set udg_GSD_Group=CreateGroup()
    set udg_GSD_Count=0
    set udg_SHADANCE_Count=0
    set udg_Survival_Bool=false
    set udg_Survival_Limit=0
    set udg_Votekick_Timer=CreateTimer()
    set udg_Votekick_AFK_Dialog=DialogCreate()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Hidan_morph[i]=false
        set i=i + 1
    endloop

    set udg_Get_blood_timer=0
    set udg_Danzo_Q_Group=CreateGroup()
    set udg_Mud_Group=CreateGroup()
    set udg_Mud_Int=0
    set udg_Mud_Group2=CreateGroup()
    set udg_Mud_Group3=CreateGroup()
    set udg_AsumaFire_Group=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Repick_Bool[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Repick_Names[i]=""
        set i=i + 1
    endloop

    set udg_Gaara_Sotaiso_Count=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_F_R[i]=0
        set i=i + 1
    endloop

    set udg_F_I=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_F_T[i]=CreateTimer()
        set i=i + 1
    endloop

    set udg_F_G=CreateGroup()
    set udg_Asuma_Real=0
    set udg_Sasori_Real=0
    set udg_Duel_ON=false
    set udg_Duel_Players=CreateForce()
    set udg_Duel_Dialog1=DialogCreate()
    set udg_Victory_On=false
    set udg_Duel_Dialog2=DialogCreate()
    set udg_Duel2_Group=CreateGroup()
    set udg_Duel2_Group2=CreateGroup()
    set udg_Duel_TRUE_ON=false
    set udg_Duel_Random=0
    set udg_Duel_Heroes=CreateGroup()
    set udg_Kiba_Real=0
    set udg_DUEL_ALLY_ON=false
    set udg_BANNED_NAME=0
    set udg_DUEL_TIMER=CreateTimer()
    set udg_Zabuza_Kirigakure_Count=0
    set udg_Guren_W_Count=0
    set udg_Guren_W_Group=CreateGroup()
    set udg_Guren_T_Angle=0
    set udg_Guren_T_Count=0
    set udg_Guren_T_Count2=0
    set udg_Guren_T_Bool=false
    set udg_SmartBank_Active=false
    set udg_CanSelectModes=false
    set udg_Host_Dialog=DialogCreate()
    set udg_Host_Timer=CreateTimer()
    set udg_PointMode=false
    set udg_BattleRoyal=false
    set udg_FFA=false
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_assists[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_zoom_v[i]=0
        set i=i + 1
    endloop

    set udg_Is_Rival=false
    set udg_Team10=0
    set udg_ZombieCombo=false
    set udg_DominationMode=false
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Tips[i]=""
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_Bounty[i]=0
        set i=i + 1
    endloop

    set udg_TIME_ELAPSED_SEC=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Farm[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_Farm_previous[i]=0
        set i=i + 1
    endloop

    set udg_IsKakashi=false
    set udg_RaigaBurialCounter=0
    set udg_Avalanche_Max=0
    set udg_RaigaBurialCounterMax=0
    set udg_HidanPreviousStr=0
    set udg_GaiElephant=0
    set udg_KankuroIsScorpion=false
    set udg_KankuroIsKuroari=false
    set udg_KankuroHasCrow=false
    set udg_ShinraChanneling=0
    set udg_AvalancheCount=0
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_TrueName[i]=""
        set i=i + 1
    endloop

    set udg_Switch=false
    set udg_Switch2=false
    set udg_FiveMinutes=false
    set udg_DraftPick=false
    set udg_DanzoAngle=0
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_PlayerWin[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_PlayerDefeat[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_PlayerLeave[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_PlayerDraw[i]=false
        set i=i + 1
    endloop

    set udg_KankuroCount=0
    set udg_FirstBlood=false
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_Streak[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_StreakTime[i]=0
        set i=i + 1
    endloop

    set udg_ChoujiCasting=false
    set udg_HanAngle=0
    set udg_JuugoDamage=0
    set udg_shushadow_direct=0
    set udg_Minutes=0
    set udg_Mode30Min=false
    set udg_Mode45Min=false
    set udg_SwitchDisabled=false
    set udg_KonohamaruFire_Group=CreateGroup()
    set udg_Team_Duel_Mode_Dialog=DialogCreate()
    set udg_TeamDuelTimer=CreateTimer()
    set udg_TeamDuelOn=false
    set udg_TeamDuelPlayers=CreateForce()
    set udg_TeamDuelExpirationTimer=CreateTimer()
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_DisableSwap[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_UsedSwap[i]=false
        set i=i + 1
    endloop

    set udg_TeamDuelStarted=false
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_HeroDied[i]=false
        set i=i + 1
    endloop

    set udg_TeamDuelEnabled=false
    set udg_KakuzuKatonGroup=CreateGroup()
    set udg_KakuzuFuutonGroup=CreateGroup()
    set udg_KakuzuFuutonFire=false
    set i=0
    loop
        exitwhen ( i > 3 )
        set udg_MissionBRankTeams[i]=false
        set i=i + 1
    endloop

    set udg_MissionBRankActive=false
    set udg_MissionBCount=0
    set udg_MissionARankActive=false
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_MissionARankTeams[i]=false
        set i=i + 1
    endloop

    set udg_MissionACount=0
    set udg_MissionSRankActive=false
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_MissionSRankTeams[i]=false
        set i=i + 1
    endloop

    set udg_Amat_Window=0
    set udg_Amat_Controlling=false
    set udg_SusanooShoot=false
    set udg_YamatoRemoved=false
    set udg_GreaterMedicalSphereGroup=CreateGroup()
    set udg_ItachiSusanooHp=0
    set udg_NarutoCooldown=false
    set udg_Yasaka=false
    set udg_MinatoRasenganCount=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_SK_R[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_SK_I[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_SK_T[i]=CreateTimer()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_SK_G[i]=CreateGroup()
        set i=i + 1
    endloop

    set udg_SasoriSpearGroup=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_NS_R[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_NS_I[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_PTK_T[i]=CreateTimer()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_NS_G[i]=CreateGroup()
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_NS_T[i]=CreateTimer()
        set i=i + 1
    endloop

    set udg_MifuneCooldown=false
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_UsedRepick[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 200 )
        set udg_UnitUsed[i]=false
        set i=i + 1
    endloop

    set udg_SusanooKamui=false
    set udg_TemariAttack=0
    set udg_KimimaroCooldown=false
    set udg_ShikaSmoke=CreateGroup()
    set udg_Base_Safe_Mode_Dialog=DialogCreate()
    set udg_Barrier_Count=0
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_DonatorHeroes[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_DonatorHeroesEnabled[i]=false
        set i=i + 1
    endloop

    set udg_GengetsuCooldown=false
    set udg_Missions_Mode_Dialog=DialogCreate()
    set udg_MissionsEnabled=false
    set udg_Winning_Team=0
    set udg_DraftPickAR=false
    set udg_TemariWGroup=CreateGroup()
    set udg_Totsuka_Mode_Dialog=DialogCreate()
    set udg_YamatoCageUnits=CreateGroup()
    set udg_YamatoCageTimer=CreateTimer()
    set udg_San_Shiki_Count=0
    set udg_Tessenka_Window=0
    set udg_Kakuzu_Semi_Count=0
    set udg_Gengetsus=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_GengetsuCooldowns[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_PeinPaths[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_udg_ShinraChannelings[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_ShinraChannelings[i]=0
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_JuugoDamages[i]=0
        set i=i + 1
    endloop

    set udg_ItemClassification=false
    set udg_Classification_Mode_Dialog=DialogCreate()
    set udg_ModeS=""
    set udg_Kakuzu_Window=0
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_MifuneCooldowns[i]=false
        set i=i + 1
    endloop

    set udg_TobiLvlQ=0
    set udg_TobiLvlW=0
    set udg_TobiLvlE=0
    set udg_LeaderboxMode=0
    set udg_Point_Mode_Dialog=DialogCreate()
    set udg_PointModeEnabled=false
    set udg_PointModeLimit=0
    set udg_KillModeEnabled=false
    set udg_KillModeLimit=0
    set udg_Kill_Mode_Dialog=DialogCreate()
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_HeroPointValue[i]=0
        set i=i + 1
    endloop

    set udg_GameOver=false
    set udg_NarutoCage=CreateGroup()
    set udg_FexterChidori=false
    set udg_SakuraTime=0
    set i=0
    loop
        exitwhen ( i > 16 )
        set udg_DamageDealt[i]=0
        set i=i + 1
    endloop

    set udg_ObitoDisable=false
    set udg_SpawnCreeps=false
    set udg_komat_group=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 15 )
        set udg_PlayerName[i]=""
        set i=i + 1
    endloop

    set udg_Chouji_Angle=0
    set udg_Suigetsu_Damage=CreateGroup()
    set udg_GaiKills=0
    set udg_C3_Eternal=false
    set udg_TemariCount=0
    set udg_Guren_T_Count3=0
    set udg_HasangekiCount=0
    set udg_RashimonGroup=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_FallenSky[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_EarthFinish[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_FallenSky2[i]=false
        set i=i + 1
    endloop

    set udg_Streak2=0
    set i=0
    loop
        exitwhen ( i > 15 )
        set udg_SpellCast[i]=0
        set i=i + 1
    endloop

    set udg_Tip_Count=0
    set i=0
    loop
        exitwhen ( i > 16 )
        set udg_quickcast[i]=false
        set i=i + 1
    endloop

    set udg_KibaSpinCount=0
    set i=0
    loop
        exitwhen ( i > 3 )
        set udg_MissionBRankTeamCompleted[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 3 )
        set udg_MissionARankTeamCompleted[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 3 )
        set udg_MissionSRankTeamCompleted[i]=false
        set i=i + 1
    endloop

    set udg_Bomb_Damaged=CreateGroup()
    set udg_Mode60Min=false
    set udg_DamageHeroes=CreateGroup()
    set udg_AssistHeroes=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_DonatorNames[i]=""
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 100 )
        set udg_HeroWindow[i]=0
        set i=i + 1
    endloop

    set udg_Eagle=false
    set udg_Shikigami=false
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_LeftBase[i]=false
        set i=i + 1
    endloop

    set udg_BloodMist=CreateGroup()
    set udg_ItachiSusanooDuration=0
    set udg_DeidaraDamaged=CreateGroup()
    set udg_DaruiKills=0
    set i=0
    loop
        exitwhen ( i > 13 )
        set udg_BaseHeroes[i]=0
        set i=i + 1
    endloop

    set udg_MissionComplete=CreateGroup()
    set udg_GaiCount=0
    set udg_Shichiseiken=CreateGroup()
    set i=0
    loop
        exitwhen ( i > 12 )
        set udg_BountyKills[i]=0
        set i=i + 1
    endloop

    set udg_OnokiQTimer=CreateTimer()
    set i=0
    loop
        exitwhen ( i > 1 )
        set udg_OnokiisOff[i]=false
        set i=i + 1
    endloop

    set i=0
    loop
        exitwhen ( i > 8090 )
        set udg_RockLeeCooldowns[i]=false
        set i=i + 1
    endloop

    set udg_Danzosus=CreateGroup()
    set udg_SusanooDrill=false
endfunction

//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************

//***************************************************************************
//*
//*  Sound Assets
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_Ajisai_Animal_Path_R=CreateSound("Sounds/Abilities/Ajisai_Animal_Path_R.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ajisai_Animal_Path_R, 1149)
    call SetSoundChannel(gg_snd_Ajisai_Animal_Path_R, 0)
    call SetSoundVolume(gg_snd_Ajisai_Animal_Path_R, 127)
    call SetSoundPitch(gg_snd_Ajisai_Animal_Path_R, 1.0)
    set gg_snd_Ajisai_Animal_Path_T=CreateSound("Sounds/Abilities/Ajisai_Animal_Path_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ajisai_Animal_Path_T, 2037)
    call SetSoundChannel(gg_snd_Ajisai_Animal_Path_T, 0)
    call SetSoundVolume(gg_snd_Ajisai_Animal_Path_T, 127)
    call SetSoundPitch(gg_snd_Ajisai_Animal_Path_T, 1.0)
    set gg_snd_Anbu_Kakashi_Kill=CreateSound("Sounds/Kills/Anbu_Kakashi_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Anbu_Kakashi_Kill, 3631)
    call SetSoundChannel(gg_snd_Anbu_Kakashi_Kill, 0)
    call SetSoundVolume(gg_snd_Anbu_Kakashi_Kill, 127)
    call SetSoundPitch(gg_snd_Anbu_Kakashi_Kill, 1.0)
    set gg_snd_Anko_Kill=CreateSound("Sounds/Kills/Anko_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Anko_Kill, 2037)
    call SetSoundChannel(gg_snd_Anko_Kill, 0)
    call SetSoundVolume(gg_snd_Anko_Kill, 127)
    call SetSoundPitch(gg_snd_Anko_Kill, 1.0)
    set gg_snd_Anko_R=CreateSound("Sounds/Abilities/Anko_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Anko_R, 1280)
    call SetSoundChannel(gg_snd_Anko_R, 0)
    call SetSoundVolume(gg_snd_Anko_R, 127)
    call SetSoundPitch(gg_snd_Anko_R, 1.0)
    set gg_snd_Anko_T=CreateSound("Sounds/Abilities/Anko_T.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Anko_T, 2507)
    call SetSoundChannel(gg_snd_Anko_T, 0)
    call SetSoundVolume(gg_snd_Anko_T, 127)
    call SetSoundPitch(gg_snd_Anko_T, 1.0)
    set gg_snd_Asuma_Kill=CreateSound("Sounds/Kills/Asuma_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Asuma_Kill, 2246)
    call SetSoundChannel(gg_snd_Asuma_Kill, 0)
    call SetSoundVolume(gg_snd_Asuma_Kill, 127)
    call SetSoundPitch(gg_snd_Asuma_Kill, 1.0)
    set gg_snd_BattleRoar=CreateSound("Abilities/Spells/NightElf/BattleRoar/BattleRoar.flac", false, true, true, 0, 0, "SpellsEAX")
    call SetSoundParamsFromLabel(gg_snd_BattleRoar, "BattleRoar")
    call SetSoundDuration(gg_snd_BattleRoar, 1991)
    call SetSoundVolume(gg_snd_BattleRoar, 127)
    set gg_snd_Bee_Kill=CreateSound("Sounds/Kills/Bee_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Bee_Kill, 7026)
    call SetSoundChannel(gg_snd_Bee_Kill, 0)
    call SetSoundVolume(gg_snd_Bee_Kill, 127)
    call SetSoundPitch(gg_snd_Bee_Kill, 1.0)
    set gg_snd_BigButtonClick=CreateSound("Sound/Interface/BigButtonClick.flac", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_BigButtonClick, "GlueScreenClick")
    call SetSoundDuration(gg_snd_BigButtonClick, 390)
    call SetSoundVolume(gg_snd_BigButtonClick, 100)
    set gg_snd_Boruto_E=CreateSound("Sounds/Abilities/Boruto_E.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Boruto_E, 653)
    call SetSoundChannel(gg_snd_Boruto_E, 0)
    call SetSoundVolume(gg_snd_Boruto_E, 127)
    call SetSoundPitch(gg_snd_Boruto_E, 1.0)
    set gg_snd_Boruto_Kill=CreateSound("Sounds/Kills/Boruto_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Boruto_Kill, 3761)
    call SetSoundChannel(gg_snd_Boruto_Kill, 0)
    call SetSoundVolume(gg_snd_Boruto_Kill, 127)
    call SetSoundPitch(gg_snd_Boruto_Kill, 1.0)
    set gg_snd_Boruto_T=CreateSound("Sounds/Abilities/Boruto_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Boruto_T, 1227)
    call SetSoundChannel(gg_snd_Boruto_T, 0)
    call SetSoundVolume(gg_snd_Boruto_T, 127)
    call SetSoundPitch(gg_snd_Boruto_T, 1.0)
    set gg_snd_Byakugan=CreateSound("Sounds/Abilities/Byakugan.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Byakugan, 2160)
    call SetSoundChannel(gg_snd_Byakugan, 0)
    call SetSoundVolume(gg_snd_Byakugan, 127)
    call SetSoundPitch(gg_snd_Byakugan, 1.0)
    set gg_snd_Chiyo_Kill=CreateSound("Sounds/Kills/Chiyo_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Chiyo_Kill, 4702)
    call SetSoundChannel(gg_snd_Chiyo_Kill, 0)
    call SetSoundVolume(gg_snd_Chiyo_Kill, 127)
    call SetSoundPitch(gg_snd_Chiyo_Kill, 1.0)
    set gg_snd_Chiyo_R=CreateSound("Sounds/Abilities/Chiyo_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Chiyo_R, 3239)
    call SetSoundChannel(gg_snd_Chiyo_R, 0)
    call SetSoundVolume(gg_snd_Chiyo_R, 127)
    call SetSoundPitch(gg_snd_Chiyo_R, 1.0)
    set gg_snd_Chiyo_T=CreateSound("Sounds/Abilities/Chiyo_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Chiyo_T, 4571)
    call SetSoundChannel(gg_snd_Chiyo_T, 0)
    call SetSoundVolume(gg_snd_Chiyo_T, 127)
    call SetSoundPitch(gg_snd_Chiyo_T, 1.0)
    set gg_snd_Chouji_Kill=CreateSound("Sounds/Kills/Chouji_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Chouji_Kill, 3761)
    call SetSoundChannel(gg_snd_Chouji_Kill, 0)
    call SetSoundVolume(gg_snd_Chouji_Kill, 127)
    call SetSoundPitch(gg_snd_Chouji_Kill, 1.0)
    set gg_snd_Chouji_R=CreateSound("Sounds/Abilities/Chouji_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Chouji_R, 2298)
    call SetSoundChannel(gg_snd_Chouji_R, 0)
    call SetSoundVolume(gg_snd_Chouji_R, 127)
    call SetSoundPitch(gg_snd_Chouji_R, 1.0)
    set gg_snd_Chouji_T=CreateSound("Sounds/Abilities/Chouji_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Chouji_T, 2560)
    call SetSoundChannel(gg_snd_Chouji_T, 0)
    call SetSoundVolume(gg_snd_Chouji_T, 127)
    call SetSoundPitch(gg_snd_Chouji_T, 1.0)
    set gg_snd_Curse_Sasuke_Kill=CreateSound("Sounds/Kills/Curse_Sasuke_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Curse_Sasuke_Kill, 4101)
    call SetSoundChannel(gg_snd_Curse_Sasuke_Kill, 0)
    call SetSoundVolume(gg_snd_Curse_Sasuke_Kill, 127)
    call SetSoundPitch(gg_snd_Curse_Sasuke_Kill, 1.0)
    set gg_snd_Danzo_Kill=CreateSound("Sounds/Kills/Danzo_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Danzo_Kill, 5929)
    call SetSoundChannel(gg_snd_Danzo_Kill, 0)
    call SetSoundVolume(gg_snd_Danzo_Kill, 127)
    call SetSoundPitch(gg_snd_Danzo_Kill, 1.0)
    set gg_snd_Danzo_R=CreateSound("Sounds/Abilities/Danzo_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Danzo_R, 3108)
    call SetSoundChannel(gg_snd_Danzo_R, 0)
    call SetSoundVolume(gg_snd_Danzo_R, 127)
    call SetSoundPitch(gg_snd_Danzo_R, 1.0)
    set gg_snd_Danzo_T=CreateSound("Sounds/Abilities/Danzo_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Danzo_T, 2899)
    call SetSoundChannel(gg_snd_Danzo_T, 0)
    call SetSoundVolume(gg_snd_Danzo_T, 127)
    call SetSoundPitch(gg_snd_Danzo_T, 1.0)
    set gg_snd_Darui_Kill=CreateSound("Sounds/Kills/Darui_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Darui_Kill, 3683)
    call SetSoundChannel(gg_snd_Darui_Kill, 0)
    call SetSoundVolume(gg_snd_Darui_Kill, 127)
    call SetSoundPitch(gg_snd_Darui_Kill, 1.0)
    set gg_snd_Darui_R=CreateSound("Sounds/Abilities/Darui_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Darui_R, 3108)
    call SetSoundChannel(gg_snd_Darui_R, 0)
    call SetSoundVolume(gg_snd_Darui_R, 127)
    call SetSoundPitch(gg_snd_Darui_R, 1.0)
    set gg_snd_Darui_T=CreateSound("Sounds/Abilities/Darui_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Darui_T, 1149)
    call SetSoundChannel(gg_snd_Darui_T, 0)
    call SetSoundVolume(gg_snd_Darui_T, 127)
    call SetSoundPitch(gg_snd_Darui_T, 1.0)
    set gg_snd_Deidara_D=CreateSound("Sounds/Abilities/Deidara_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Deidara_D, 2377)
    call SetSoundChannel(gg_snd_Deidara_D, 0)
    call SetSoundVolume(gg_snd_Deidara_D, 127)
    call SetSoundPitch(gg_snd_Deidara_D, 1.0)
    set gg_snd_Deidara_Kill=CreateSound("Sounds/Kills/Deidara_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Deidara_Kill, 3474)
    call SetSoundChannel(gg_snd_Deidara_Kill, 0)
    call SetSoundVolume(gg_snd_Deidara_Kill, 127)
    call SetSoundPitch(gg_snd_Deidara_Kill, 1.0)
    set gg_snd_Deidara_R=CreateSound("Sounds/Abilities/Deidara_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Deidara_R, 1619)
    call SetSoundChannel(gg_snd_Deidara_R, 0)
    call SetSoundVolume(gg_snd_Deidara_R, 127)
    call SetSoundPitch(gg_snd_Deidara_R, 1.0)
    set gg_snd_Dosu_R=CreateSound("Sounds/Abilities/Dosu_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Dosu_R, 1671)
    call SetSoundChannel(gg_snd_Dosu_R, 0)
    call SetSoundVolume(gg_snd_Dosu_R, 127)
    call SetSoundPitch(gg_snd_Dosu_R, 1.0)
    set gg_snd_Dosu_T=CreateSound("Sounds/Abilities/Dosu_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Dosu_T, 2586)
    call SetSoundChannel(gg_snd_Dosu_T, 0)
    call SetSoundVolume(gg_snd_Dosu_T, 127)
    call SetSoundPitch(gg_snd_Dosu_T, 1.0)
    set gg_snd_Duel_Accept=CreateSound("Sounds/Duel_Accept.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Duel_Accept, 2037)
    call SetSoundChannel(gg_snd_Duel_Accept, 0)
    call SetSoundVolume(gg_snd_Duel_Accept, 127)
    call SetSoundPitch(gg_snd_Duel_Accept, 1.0)
    set gg_snd_EntanglingRootsTarget1=CreateSound("Abilities/Spells/NightElf/EntanglingRoots/EntanglingRootsTarget1.flac", false, true, true, 0, 0, "SpellsEAX")
    call SetSoundParamsFromLabel(gg_snd_EntanglingRootsTarget1, "EntanglingRoots")
    call SetSoundDuration(gg_snd_EntanglingRootsTarget1, 1625)
    call SetSoundVolume(gg_snd_EntanglingRootsTarget1, 127)
    set gg_snd_Error=CreateSound("Sound/Interface/Error.flac", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_Error, "ErrorMessage")
    call SetSoundDuration(gg_snd_Error, 614)
    call SetSoundVolume(gg_snd_Error, 127)
    set gg_snd_FrostArrowHit1=CreateSound("Abilities/Spells/Other/FrostArrows/FrostArrowHit1.flac", false, true, true, 0, 0, "MissilesEAX")
    call SetSoundParamsFromLabel(gg_snd_FrostArrowHit1, "FrostArrowHit")
    call SetSoundDuration(gg_snd_FrostArrowHit1, 1114)
    call SetSoundVolume(gg_snd_FrostArrowHit1, 127)
    set gg_snd_Fuu_Kill=CreateSound("Sounds/Kills/Fuu_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Fuu_Kill, 3840)
    call SetSoundChannel(gg_snd_Fuu_Kill, 0)
    call SetSoundVolume(gg_snd_Fuu_Kill, 127)
    call SetSoundPitch(gg_snd_Fuu_Kill, 1.0)
    set gg_snd_Fuu_R=CreateSound("Sounds/Abilities/Fuu_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Fuu_R, 2533)
    call SetSoundChannel(gg_snd_Fuu_R, 0)
    call SetSoundVolume(gg_snd_Fuu_R, 127)
    call SetSoundPitch(gg_snd_Fuu_R, 1.0)
    set gg_snd_Fuu_T=CreateSound("Sounds/Abilities/Fuu_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Fuu_T, 2951)
    call SetSoundChannel(gg_snd_Fuu_T, 0)
    call SetSoundVolume(gg_snd_Fuu_T, 127)
    call SetSoundPitch(gg_snd_Fuu_T, 1.0)
    set gg_snd_Gaara_D=CreateSound("Sounds/Abilities/Gaara_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gaara_D, 1541)
    call SetSoundChannel(gg_snd_Gaara_D, 0)
    call SetSoundVolume(gg_snd_Gaara_D, 127)
    call SetSoundPitch(gg_snd_Gaara_D, 1.0)
    set gg_snd_Gaara_Kill=CreateSound("Sounds/Kills/Gaara_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gaara_Kill, 2272)
    call SetSoundChannel(gg_snd_Gaara_Kill, 0)
    call SetSoundVolume(gg_snd_Gaara_Kill, 127)
    call SetSoundPitch(gg_snd_Gaara_Kill, 1.0)
    set gg_snd_Gaara_T2_Shukaku=CreateSound("Sounds/Abilities/Gaara_T2_Shukaku.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gaara_T2_Shukaku, 1071)
    call SetSoundChannel(gg_snd_Gaara_T2_Shukaku, 0)
    call SetSoundVolume(gg_snd_Gaara_T2_Shukaku, 127)
    call SetSoundPitch(gg_snd_Gaara_T2_Shukaku, 1.0)
    set gg_snd_Gaara_T_Sabaku=CreateSound("Sounds/Abilities/Gaara_T_Sabaku.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gaara_T_Sabaku, 1959)
    call SetSoundChannel(gg_snd_Gaara_T_Sabaku, 0)
    call SetSoundVolume(gg_snd_Gaara_T_Sabaku, 127)
    call SetSoundPitch(gg_snd_Gaara_T_Sabaku, 1.0)
    set gg_snd_Gai_E_Sekizo=CreateSound("Sounds/Abilities/Gai_E_Sekizo.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gai_E_Sekizo, 940)
    call SetSoundChannel(gg_snd_Gai_E_Sekizo, 0)
    call SetSoundVolume(gg_snd_Gai_E_Sekizo, 127)
    call SetSoundPitch(gg_snd_Gai_E_Sekizo, 1.0)
    set gg_snd_Gai_Kill=CreateSound("Sounds/Kills/Gai_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gai_Kill, 3657)
    call SetSoundChannel(gg_snd_Gai_Kill, 0)
    call SetSoundVolume(gg_snd_Gai_Kill, 127)
    call SetSoundPitch(gg_snd_Gai_Kill, 1.0)
    set gg_snd_Gai_Q=CreateSound("Sounds/Abilities/Gai_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gai_Q, 3213)
    call SetSoundChannel(gg_snd_Gai_Q, 0)
    call SetSoundVolume(gg_snd_Gai_Q, 127)
    call SetSoundPitch(gg_snd_Gai_Q, 1.0)
    set gg_snd_Gai_Q_Yagai=CreateSound("Sounds/Abilities/Gai_Q_Yagai.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gai_Q_Yagai, 2533)
    call SetSoundChannel(gg_snd_Gai_Q_Yagai, 0)
    call SetSoundVolume(gg_snd_Gai_Q_Yagai, 127)
    call SetSoundPitch(gg_snd_Gai_Q_Yagai, 1.0)
    set gg_snd_Gai_R=CreateSound("Sounds/Abilities/Gai_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gai_R, 1332)
    call SetSoundChannel(gg_snd_Gai_R, 0)
    call SetSoundVolume(gg_snd_Gai_R, 127)
    call SetSoundPitch(gg_snd_Gai_R, 1.0)
    set gg_snd_Gai_R1=CreateSound("Sounds/Abilities/Gai_R1.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gai_R1, 1384)
    call SetSoundChannel(gg_snd_Gai_R1, 0)
    call SetSoundVolume(gg_snd_Gai_R1, 127)
    call SetSoundPitch(gg_snd_Gai_R1, 1.0)
    set gg_snd_Gai_T=CreateSound("Sounds/Abilities/Gai_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gai_T, 1253)
    call SetSoundChannel(gg_snd_Gai_T, 0)
    call SetSoundVolume(gg_snd_Gai_T, 127)
    call SetSoundPitch(gg_snd_Gai_T, 1.0)
    set gg_snd_Gengetsu_Kill=CreateSound("Sounds/Kills/Gengetsu_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gengetsu_Kill, 3395)
    call SetSoundChannel(gg_snd_Gengetsu_Kill, 0)
    call SetSoundVolume(gg_snd_Gengetsu_Kill, 127)
    call SetSoundPitch(gg_snd_Gengetsu_Kill, 1.0)
    set gg_snd_Gengetsu_R=CreateSound("Sounds/Abilities/Gengetsu_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gengetsu_R, 2037)
    call SetSoundChannel(gg_snd_Gengetsu_R, 0)
    call SetSoundVolume(gg_snd_Gengetsu_R, 127)
    call SetSoundPitch(gg_snd_Gengetsu_R, 1.0)
    set gg_snd_Gengetsu_T=CreateSound("Sounds/Abilities/Gengetsu_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Gengetsu_T, 2246)
    call SetSoundChannel(gg_snd_Gengetsu_T, 0)
    call SetSoundVolume(gg_snd_Gengetsu_T, 127)
    call SetSoundPitch(gg_snd_Gengetsu_T, 1.0)
    set gg_snd_Ginkaku_Q=CreateSound("Sounds/Abilities/Ginkaku_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ginkaku_Q, 966)
    call SetSoundChannel(gg_snd_Ginkaku_Q, 0)
    call SetSoundVolume(gg_snd_Ginkaku_Q, 127)
    call SetSoundPitch(gg_snd_Ginkaku_Q, 1.0)
    set gg_snd_Guren_R=CreateSound("Sounds/Abilities/Guren_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Guren_R, 2586)
    call SetSoundChannel(gg_snd_Guren_R, 0)
    call SetSoundVolume(gg_snd_Guren_R, 127)
    call SetSoundPitch(gg_snd_Guren_R, 1.0)
    set gg_snd_Guren_T=CreateSound("Sounds/Abilities/Guren_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Guren_T, 1750)
    call SetSoundChannel(gg_snd_Guren_T, 0)
    call SetSoundVolume(gg_snd_Guren_T, 127)
    call SetSoundPitch(gg_snd_Guren_T, 1.0)
    set gg_snd_Haku_Kill=CreateSound("Sounds/Kills/Haku_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Haku_Kill, 3369)
    call SetSoundChannel(gg_snd_Haku_Kill, 0)
    call SetSoundVolume(gg_snd_Haku_Kill, 127)
    call SetSoundPitch(gg_snd_Haku_Kill, 1.0)
    set gg_snd_Haku_R=CreateSound("Sounds/Abilities/Haku_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Haku_R, 1750)
    call SetSoundChannel(gg_snd_Haku_R, 0)
    call SetSoundVolume(gg_snd_Haku_R, 127)
    call SetSoundPitch(gg_snd_Haku_R, 1.0)
    set gg_snd_Haku_T=CreateSound("Sounds/Abilities/Haku_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Haku_T, 1697)
    call SetSoundChannel(gg_snd_Haku_T, 0)
    call SetSoundVolume(gg_snd_Haku_T, 127)
    call SetSoundPitch(gg_snd_Haku_T, 1.0)
    set gg_snd_Han_Kill=CreateSound("Sounds/Kills/Han_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Han_Kill, 5564)
    call SetSoundChannel(gg_snd_Han_Kill, 0)
    call SetSoundVolume(gg_snd_Han_Kill, 127)
    call SetSoundPitch(gg_snd_Han_Kill, 1.0)
    set gg_snd_Han_R=CreateSound("Sounds/Abilities/Han_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Han_R, 2768)
    call SetSoundChannel(gg_snd_Han_R, 0)
    call SetSoundVolume(gg_snd_Han_R, 127)
    call SetSoundPitch(gg_snd_Han_R, 1.0)
    set gg_snd_Han_T=CreateSound("Sounds/Abilities/Han_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Han_T, 1149)
    call SetSoundChannel(gg_snd_Han_T, 0)
    call SetSoundVolume(gg_snd_Han_T, 127)
    call SetSoundPitch(gg_snd_Han_T, 1.0)
    set gg_snd_Hanabi_Kill=CreateSound("Sounds/Kills/Hanabi_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hanabi_Kill, 4257)
    call SetSoundChannel(gg_snd_Hanabi_Kill, 0)
    call SetSoundVolume(gg_snd_Hanabi_Kill, 127)
    call SetSoundPitch(gg_snd_Hanabi_Kill, 1.0)
    set gg_snd_Hanabi_R=CreateSound("Sounds/Abilities/Hanabi_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hanabi_R, 1959)
    call SetSoundChannel(gg_snd_Hanabi_R, 0)
    call SetSoundVolume(gg_snd_Hanabi_R, 127)
    call SetSoundPitch(gg_snd_Hanabi_R, 1.0)
    set gg_snd_Hanabi_T=CreateSound("Sounds/Abilities/Hanabi_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hanabi_T, 6870)
    call SetSoundChannel(gg_snd_Hanabi_T, 0)
    call SetSoundVolume(gg_snd_Hanabi_T, 127)
    call SetSoundPitch(gg_snd_Hanabi_T, 1.0)
    set gg_snd_Hanzo_Kill=CreateSound("Sounds/Kills/Hanzo_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hanzo_Kill, 5355)
    call SetSoundChannel(gg_snd_Hanzo_Kill, 0)
    call SetSoundVolume(gg_snd_Hanzo_Kill, 127)
    call SetSoundPitch(gg_snd_Hanzo_Kill, 1.0)
    set gg_snd_Hanzo_R=CreateSound("Sounds/Abilities/Hanzo_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hanzo_R, 3056)
    call SetSoundChannel(gg_snd_Hanzo_R, 0)
    call SetSoundVolume(gg_snd_Hanzo_R, 127)
    call SetSoundPitch(gg_snd_Hanzo_R, 1.0)
    set gg_snd_Hanzo_T_Ibuse=CreateSound("Sounds/Abilities/Hanzo_T_Ibuse.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hanzo_T_Ibuse, 1854)
    call SetSoundChannel(gg_snd_Hanzo_T_Ibuse, 0)
    call SetSoundVolume(gg_snd_Hanzo_T_Ibuse, 127)
    call SetSoundPitch(gg_snd_Hanzo_T_Ibuse, 1.0)
    set gg_snd_Hashirama_Kill=CreateSound("Sounds/Kills/Hashirama_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hashirama_Kill, 3996)
    call SetSoundChannel(gg_snd_Hashirama_Kill, 0)
    call SetSoundVolume(gg_snd_Hashirama_Kill, 127)
    call SetSoundPitch(gg_snd_Hashirama_Kill, 1.0)
    set gg_snd_Hashirama_T2_Mokuton=CreateSound("Sounds/Abilities/Hashirama_T2_Mokuton.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hashirama_T2_Mokuton, 4153)
    call SetSoundChannel(gg_snd_Hashirama_T2_Mokuton, 0)
    call SetSoundVolume(gg_snd_Hashirama_T2_Mokuton, 127)
    call SetSoundPitch(gg_snd_Hashirama_T2_Mokuton, 1.0)
    set gg_snd_Hashirama_T_Senpou=CreateSound("Sounds/Abilities/Hashirama_T_Senpou.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hashirama_T_Senpou, 5355)
    call SetSoundChannel(gg_snd_Hashirama_T_Senpou, 0)
    call SetSoundVolume(gg_snd_Hashirama_T_Senpou, 127)
    call SetSoundPitch(gg_snd_Hashirama_T_Senpou, 1.0)
    set gg_snd_Hayate_R=CreateSound("Sounds/Abilities/Hayate_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hayate_R, 1149)
    call SetSoundChannel(gg_snd_Hayate_R, 0)
    call SetSoundVolume(gg_snd_Hayate_R, 127)
    call SetSoundPitch(gg_snd_Hayate_R, 1.0)
    set gg_snd_Hayate_T=CreateSound("Sounds/Abilities/Hayate_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hayate_T, 5381)
    call SetSoundChannel(gg_snd_Hayate_T, 0)
    call SetSoundVolume(gg_snd_Hayate_T, 127)
    call SetSoundPitch(gg_snd_Hayate_T, 1.0)
    set gg_snd_HeroDemonMissileLaunch2=CreateSound("Abilities/Weapons/DemonHunterMissile/HeroDemonMissileLaunch2.flac", false, true, true, 1, 1, "MissilesEAX")
    call SetSoundParamsFromLabel(gg_snd_HeroDemonMissileLaunch2, "DemonHunterMissileLaunch")
    call SetSoundDuration(gg_snd_HeroDemonMissileLaunch2, 1219)
    call SetSoundVolume(gg_snd_HeroDemonMissileLaunch2, 127)
    call SetSoundDistances(gg_snd_HeroDemonMissileLaunch2, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_HeroDemonMissileLaunch2, 2500.0)
    set gg_snd_Hidan_Kill=CreateSound("Sounds/Kills/Hidan_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hidan_Kill, 4153)
    call SetSoundChannel(gg_snd_Hidan_Kill, 0)
    call SetSoundVolume(gg_snd_Hidan_Kill, 127)
    call SetSoundPitch(gg_snd_Hidan_Kill, 1.0)
    set gg_snd_Hidan_R=CreateSound("Sounds/Abilities/Hidan_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hidan_R, 757)
    call SetSoundChannel(gg_snd_Hidan_R, 0)
    call SetSoundVolume(gg_snd_Hidan_R, 127)
    call SetSoundPitch(gg_snd_Hidan_R, 1.0)
    set gg_snd_Hidan_T=CreateSound("Sounds/Abilities/Hidan_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hidan_T, 1280)
    call SetSoundChannel(gg_snd_Hidan_T, 0)
    call SetSoundVolume(gg_snd_Hidan_T, 127)
    call SetSoundPitch(gg_snd_Hidan_T, 1.0)
    set gg_snd_Hinata_Kill=CreateSound("Sounds/Kills/Hinata_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hinata_Kill, 3291)
    call SetSoundChannel(gg_snd_Hinata_Kill, 0)
    call SetSoundVolume(gg_snd_Hinata_Kill, 127)
    call SetSoundPitch(gg_snd_Hinata_Kill, 1.0)
    set gg_snd_Hinata_R=CreateSound("Sounds/Abilities/Hinata_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hinata_R, 4127)
    call SetSoundChannel(gg_snd_Hinata_R, 0)
    call SetSoundVolume(gg_snd_Hinata_R, 127)
    call SetSoundPitch(gg_snd_Hinata_R, 1.0)
    set gg_snd_Hinata_T2_Kuuten=CreateSound("Sounds/Abilities/Hinata_T2_Kuuten.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hinata_T2_Kuuten, 2377)
    call SetSoundChannel(gg_snd_Hinata_T2_Kuuten, 0)
    call SetSoundVolume(gg_snd_Hinata_T2_Kuuten, 127)
    call SetSoundPitch(gg_snd_Hinata_T2_Kuuten, 1.0)
    set gg_snd_Hinata_T_Juuho=CreateSound("Sounds/Abilities/Hinata_T_Juuho.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hinata_T_Juuho, 1384)
    call SetSoundChannel(gg_snd_Hinata_T_Juuho, 0)
    call SetSoundVolume(gg_snd_Hinata_T_Juuho, 127)
    call SetSoundPitch(gg_snd_Hinata_T_Juuho, 1.0)
    set gg_snd_Hiruzen_Kill=CreateSound("Sounds/Kills/Hiruzen_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hiruzen_Kill, 3604)
    call SetSoundChannel(gg_snd_Hiruzen_Kill, 0)
    call SetSoundVolume(gg_snd_Hiruzen_Kill, 127)
    call SetSoundPitch(gg_snd_Hiruzen_Kill, 1.0)
    set gg_snd_Hiruzen_R2_Enma=CreateSound("Sounds/Abilities/Hiruzen_R2_Enma.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hiruzen_R2_Enma, 7105)
    call SetSoundChannel(gg_snd_Hiruzen_R2_Enma, 0)
    call SetSoundVolume(gg_snd_Hiruzen_R2_Enma, 127)
    call SetSoundPitch(gg_snd_Hiruzen_R2_Enma, 1.0)
    set gg_snd_Hiruzen_R_Kongo=CreateSound("Sounds/Abilities/Hiruzen_R_Kongo.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hiruzen_R_Kongo, 2847)
    call SetSoundChannel(gg_snd_Hiruzen_R_Kongo, 0)
    call SetSoundVolume(gg_snd_Hiruzen_R_Kongo, 127)
    call SetSoundPitch(gg_snd_Hiruzen_R_Kongo, 1.0)
    set gg_snd_Hiruzen_T2_Shiki=CreateSound("Sounds/Abilities/Hiruzen_T2_Shiki.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hiruzen_T2_Shiki, 2560)
    call SetSoundChannel(gg_snd_Hiruzen_T2_Shiki, 0)
    call SetSoundVolume(gg_snd_Hiruzen_T2_Shiki, 127)
    call SetSoundPitch(gg_snd_Hiruzen_T2_Shiki, 1.0)
    set gg_snd_Hiruzen_T_Goton=CreateSound("Sounds/Abilities/Hiruzen_T_Goton.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hiruzen_T_Goton, 4284)
    call SetSoundChannel(gg_snd_Hiruzen_T_Goton, 0)
    call SetSoundVolume(gg_snd_Hiruzen_T_Goton, 127)
    call SetSoundPitch(gg_snd_Hiruzen_T_Goton, 1.0)
    set gg_snd_Hokage_Minato_Kill=CreateSound("Sounds/Kills/Hokage_Minato_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Hokage_Minato_Kill, 3604)
    call SetSoundChannel(gg_snd_Hokage_Minato_Kill, 0)
    call SetSoundVolume(gg_snd_Hokage_Minato_Kill, 127)
    call SetSoundPitch(gg_snd_Hokage_Minato_Kill, 1.0)
    set gg_snd_Ichigo_Kill=CreateSound("Sounds/Kills/Ichigo_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ichigo_Kill, 15986)
    call SetSoundChannel(gg_snd_Ichigo_Kill, 0)
    call SetSoundVolume(gg_snd_Ichigo_Kill, 127)
    call SetSoundPitch(gg_snd_Ichigo_Kill, 1.0)
    set gg_snd_Ichigo_Q=CreateSound("Sounds/Abilities/Ichigo_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ichigo_Q, 1750)
    call SetSoundChannel(gg_snd_Ichigo_Q, 0)
    call SetSoundVolume(gg_snd_Ichigo_Q, 127)
    call SetSoundPitch(gg_snd_Ichigo_Q, 1.0)
    set gg_snd_Ichigo_R=CreateSound("Sounds/Abilities/Ichigo_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ichigo_R, 1515)
    call SetSoundChannel(gg_snd_Ichigo_R, 0)
    call SetSoundVolume(gg_snd_Ichigo_R, 127)
    call SetSoundPitch(gg_snd_Ichigo_R, 1.0)
    set gg_snd_Ichigo_R_Active=CreateSound("Sounds/Abilities/Ichigo_R_Active.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ichigo_R_Active, 1724)
    call SetSoundChannel(gg_snd_Ichigo_R_Active, 0)
    call SetSoundVolume(gg_snd_Ichigo_R_Active, 127)
    call SetSoundPitch(gg_snd_Ichigo_R_Active, 1.0)
    set gg_snd_Ichigo_R_Transform=CreateSound("Sounds/Abilities/Ichigo_R_Transform.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ichigo_R_Transform, 1854)
    call SetSoundChannel(gg_snd_Ichigo_R_Transform, 0)
    call SetSoundVolume(gg_snd_Ichigo_R_Transform, 127)
    call SetSoundPitch(gg_snd_Ichigo_R_Transform, 1.0)
    set gg_snd_Ichigo_T=CreateSound("Sounds/Abilities/Ichigo_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ichigo_T, 3631)
    call SetSoundChannel(gg_snd_Ichigo_T, 0)
    call SetSoundVolume(gg_snd_Ichigo_T, 127)
    call SetSoundPitch(gg_snd_Ichigo_T, 1.0)
    set gg_snd_Ichigo_Vasto_Lorde=CreateSound("Sounds/Abilities/Ichigo_Vasto_Lorde.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ichigo_Vasto_Lorde, 4884)
    call SetSoundChannel(gg_snd_Ichigo_Vasto_Lorde, 0)
    call SetSoundVolume(gg_snd_Ichigo_Vasto_Lorde, 127)
    call SetSoundPitch(gg_snd_Ichigo_Vasto_Lorde, 1.0)
    set gg_snd_Ino_Kill=CreateSound("Sounds/Kills/Ino_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ino_Kill, 2377)
    call SetSoundChannel(gg_snd_Ino_Kill, 0)
    call SetSoundVolume(gg_snd_Ino_Kill, 127)
    call SetSoundPitch(gg_snd_Ino_Kill, 1.0)
    set gg_snd_Ino_R=CreateSound("Sounds/Abilities/Ino_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ino_R, 4127)
    call SetSoundChannel(gg_snd_Ino_R, 0)
    call SetSoundVolume(gg_snd_Ino_R, 127)
    call SetSoundPitch(gg_snd_Ino_R, 1.0)
    set gg_snd_Ino_T2_Mind_Control=CreateSound("Sounds/Abilities/Ino_T2_Mind_Control.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ino_T2_Mind_Control, 2847)
    call SetSoundChannel(gg_snd_Ino_T2_Mind_Control, 0)
    call SetSoundVolume(gg_snd_Ino_T2_Mind_Control, 127)
    call SetSoundPitch(gg_snd_Ino_T2_Mind_Control, 1.0)
    set gg_snd_Ino_T_Cho_Shinka=CreateSound("Sounds/Abilities/Ino_T_Cho_Shinka.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ino_T_Cho_Shinka, 5590)
    call SetSoundChannel(gg_snd_Ino_T_Cho_Shinka, 0)
    call SetSoundVolume(gg_snd_Ino_T_Cho_Shinka, 127)
    call SetSoundPitch(gg_snd_Ino_T_Cho_Shinka, 1.0)
    set gg_snd_Iruka_Kill=CreateSound("Sounds/Kills/Iruka_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Iruka_Kill, 2455)
    call SetSoundChannel(gg_snd_Iruka_Kill, 0)
    call SetSoundVolume(gg_snd_Iruka_Kill, 127)
    call SetSoundPitch(gg_snd_Iruka_Kill, 1.0)
    set gg_snd_Itachi_Kill=CreateSound("Sounds/Kills/Itachi_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Itachi_Kill, 3578)
    call SetSoundChannel(gg_snd_Itachi_Kill, 0)
    call SetSoundVolume(gg_snd_Itachi_Kill, 127)
    call SetSoundPitch(gg_snd_Itachi_Kill, 1.0)
    set gg_snd_Itachi_Q=CreateSound("Sounds/Abilities/Itachi_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Itachi_Q, 1619)
    call SetSoundChannel(gg_snd_Itachi_Q, 0)
    call SetSoundVolume(gg_snd_Itachi_Q, 127)
    call SetSoundPitch(gg_snd_Itachi_Q, 1.0)
    set gg_snd_Itachi_R=CreateSound("Sounds/Abilities/Itachi_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Itachi_R, 6948)
    call SetSoundChannel(gg_snd_Itachi_R, 0)
    call SetSoundVolume(gg_snd_Itachi_R, 127)
    call SetSoundPitch(gg_snd_Itachi_R, 1.0)
    set gg_snd_Itachi_Susanoo_E=CreateSound("Sounds/Abilities/Itachi_Susanoo_E.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Itachi_Susanoo_E, 1306)
    call SetSoundChannel(gg_snd_Itachi_Susanoo_E, 0)
    call SetSoundVolume(gg_snd_Itachi_Susanoo_E, 127)
    call SetSoundPitch(gg_snd_Itachi_Susanoo_E, 1.0)
    set gg_snd_Itachi_T2_Susanoo=CreateSound("Sounds/Abilities/Itachi_T2_Susanoo.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Itachi_T2_Susanoo, 2377)
    call SetSoundChannel(gg_snd_Itachi_T2_Susanoo, 0)
    call SetSoundVolume(gg_snd_Itachi_T2_Susanoo, 127)
    call SetSoundPitch(gg_snd_Itachi_T2_Susanoo, 1.0)
    set gg_snd_Itachi_T_Amaterasu=CreateSound("Sounds/Abilities/Itachi_T_Amaterasu.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Itachi_T_Amaterasu, 3500)
    call SetSoundChannel(gg_snd_Itachi_T_Amaterasu, 0)
    call SetSoundVolume(gg_snd_Itachi_T_Amaterasu, 127)
    call SetSoundPitch(gg_snd_Itachi_T_Amaterasu, 1.0)
    set gg_snd_Itachi_Yasaka_Q=CreateSound("Sounds/Abilities/Itachi_Yasaka_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Itachi_Yasaka_Q, 1358)
    call SetSoundChannel(gg_snd_Itachi_Yasaka_Q, 0)
    call SetSoundVolume(gg_snd_Itachi_Yasaka_Q, 127)
    call SetSoundPitch(gg_snd_Itachi_Yasaka_Q, 1.0)
    set gg_snd_Jiraiya_Kill=CreateSound("Sounds/Kills/Jiraiya_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jiraiya_Kill, 6426)
    call SetSoundChannel(gg_snd_Jiraiya_Kill, 0)
    call SetSoundVolume(gg_snd_Jiraiya_Kill, 127)
    call SetSoundPitch(gg_snd_Jiraiya_Kill, 1.0)
    set gg_snd_Jiraiya_Q=CreateSound("Sounds/Abilities/Jiraiya_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jiraiya_Q, 3213)
    call SetSoundChannel(gg_snd_Jiraiya_Q, 0)
    call SetSoundVolume(gg_snd_Jiraiya_Q, 127)
    call SetSoundPitch(gg_snd_Jiraiya_Q, 1.0)
    set gg_snd_Jiraiya_R=CreateSound("Sounds/Abilities/Jiraiya_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jiraiya_R, 4127)
    call SetSoundChannel(gg_snd_Jiraiya_R, 0)
    call SetSoundVolume(gg_snd_Jiraiya_R, 127)
    call SetSoundPitch(gg_snd_Jiraiya_R, 1.0)
    set gg_snd_Jiraiya_T=CreateSound("Sounds/Abilities/Jiraiya_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jiraiya_T, 1959)
    call SetSoundChannel(gg_snd_Jiraiya_T, 0)
    call SetSoundVolume(gg_snd_Jiraiya_T, 127)
    call SetSoundPitch(gg_snd_Jiraiya_T, 1.0)
    set gg_snd_Jirobo_D=CreateSound("Sounds/Abilities/Jirobo_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jirobo_D, 1828)
    call SetSoundChannel(gg_snd_Jirobo_D, 0)
    call SetSoundVolume(gg_snd_Jirobo_D, 127)
    call SetSoundPitch(gg_snd_Jirobo_D, 1.0)
    set gg_snd_Jirobo_Kill=CreateSound("Sounds/Kills/Jirobo_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jirobo_Kill, 2742)
    call SetSoundChannel(gg_snd_Jirobo_Kill, 0)
    call SetSoundVolume(gg_snd_Jirobo_Kill, 127)
    call SetSoundPitch(gg_snd_Jirobo_Kill, 1.0)
    set gg_snd_Jirobo_R=CreateSound("Sounds/Abilities/Jirobo_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jirobo_R, 1462)
    call SetSoundChannel(gg_snd_Jirobo_R, 0)
    call SetSoundVolume(gg_snd_Jirobo_R, 127)
    call SetSoundPitch(gg_snd_Jirobo_R, 1.0)
    set gg_snd_Jirobo_T=CreateSound("Sounds/Abilities/Jirobo_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jirobo_T, 626)
    call SetSoundChannel(gg_snd_Jirobo_T, 0)
    call SetSoundVolume(gg_snd_Jirobo_T, 127)
    call SetSoundPitch(gg_snd_Jirobo_T, 1.0)
    set gg_snd_Jounin_Kakashi_Kill=CreateSound("Sounds/Kills/Jounin_Kakashi_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jounin_Kakashi_Kill, 2925)
    call SetSoundChannel(gg_snd_Jounin_Kakashi_Kill, 0)
    call SetSoundVolume(gg_snd_Jounin_Kakashi_Kill, 127)
    call SetSoundPitch(gg_snd_Jounin_Kakashi_Kill, 1.0)
    set gg_snd_Jounin_Minato_Kill=CreateSound("Sounds/Kills/Jounin_Minato_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Jounin_Minato_Kill, 2455)
    call SetSoundChannel(gg_snd_Jounin_Minato_Kill, 0)
    call SetSoundVolume(gg_snd_Jounin_Minato_Kill, 127)
    call SetSoundPitch(gg_snd_Jounin_Minato_Kill, 1.0)
    set gg_snd_Juugo_Kill=CreateSound("Sounds/Kills/Juugo_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Juugo_Kill, 4205)
    call SetSoundChannel(gg_snd_Juugo_Kill, 0)
    call SetSoundVolume(gg_snd_Juugo_Kill, 127)
    call SetSoundPitch(gg_snd_Juugo_Kill, 1.0)
    set gg_snd_Juugo_T=CreateSound("Sounds/Abilities/Juugo_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Juugo_T, 1018)
    call SetSoundChannel(gg_snd_Juugo_T, 0)
    call SetSoundVolume(gg_snd_Juugo_T, 127)
    call SetSoundPitch(gg_snd_Juugo_T, 1.0)
    set gg_snd_Kabuto_R=CreateSound("Sounds/Abilities/Kabuto_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kabuto_R, 2220)
    call SetSoundChannel(gg_snd_Kabuto_R, 0)
    call SetSoundVolume(gg_snd_Kabuto_R, 127)
    call SetSoundPitch(gg_snd_Kabuto_R, 1.0)
    set gg_snd_Kabuto_Sage_R=CreateSound("Sounds/Abilities/Kabuto_Sage_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kabuto_Sage_R, 2246)
    call SetSoundChannel(gg_snd_Kabuto_Sage_R, 0)
    call SetSoundVolume(gg_snd_Kabuto_Sage_R, 127)
    call SetSoundPitch(gg_snd_Kabuto_Sage_R, 1.0)
    set gg_snd_Kabuto_Sage_W=CreateSound("Sounds/Abilities/Kabuto_Sage_W.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kabuto_Sage_W, 3813)
    call SetSoundChannel(gg_snd_Kabuto_Sage_W, 0)
    call SetSoundVolume(gg_snd_Kabuto_Sage_W, 127)
    call SetSoundPitch(gg_snd_Kabuto_Sage_W, 1.0)
    set gg_snd_Kabuto_T_Transform=CreateSound("Sounds/Abilities/Kabuto_T_Transform.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kabuto_T_Transform, 1906)
    call SetSoundChannel(gg_snd_Kabuto_T_Transform, 0)
    call SetSoundVolume(gg_snd_Kabuto_T_Transform, 127)
    call SetSoundPitch(gg_snd_Kabuto_T_Transform, 1.0)
    set gg_snd_Kabuto_Young_R=CreateSound("Sounds/Abilities/Kabuto_Young_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kabuto_Young_R, 1149)
    call SetSoundChannel(gg_snd_Kabuto_Young_R, 0)
    call SetSoundVolume(gg_snd_Kabuto_Young_R, 127)
    call SetSoundPitch(gg_snd_Kabuto_Young_R, 1.0)
    set gg_snd_Kabuto_Young_T=CreateSound("Sounds/Abilities/Kabuto_Young_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kabuto_Young_T, 4858)
    call SetSoundChannel(gg_snd_Kabuto_Young_T, 0)
    call SetSoundVolume(gg_snd_Kabuto_Young_T, 127)
    call SetSoundPitch(gg_snd_Kabuto_Young_T, 1.0)
    set gg_snd_Kaguya_Kill=CreateSound("Sounds/Kills/Kaguya_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kaguya_Kill, 5224)
    call SetSoundChannel(gg_snd_Kaguya_Kill, 0)
    call SetSoundVolume(gg_snd_Kaguya_Kill, 127)
    call SetSoundPitch(gg_snd_Kaguya_Kill, 1.0)
    set gg_snd_Kaguya_T_Gudoudama=CreateSound("Sounds/Abilities/Kaguya_T_Gudoudama.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kaguya_T_Gudoudama, 4022)
    call SetSoundChannel(gg_snd_Kaguya_T_Gudoudama, 0)
    call SetSoundVolume(gg_snd_Kaguya_T_Gudoudama, 127)
    call SetSoundPitch(gg_snd_Kaguya_T_Gudoudama, 1.0)
    set gg_snd_Kakashi_Anbu_R=CreateSound("Sounds/Abilities/Kakashi_Anbu_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakashi_Anbu_R, 2821)
    call SetSoundChannel(gg_snd_Kakashi_Anbu_R, 0)
    call SetSoundVolume(gg_snd_Kakashi_Anbu_R, 127)
    call SetSoundPitch(gg_snd_Kakashi_Anbu_R, 1.0)
    set gg_snd_Kakashi_Anbu_T=CreateSound("Sounds/Abilities/Kakashi_Anbu_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakashi_Anbu_T, 1906)
    call SetSoundChannel(gg_snd_Kakashi_Anbu_T, 0)
    call SetSoundVolume(gg_snd_Kakashi_Anbu_T, 127)
    call SetSoundPitch(gg_snd_Kakashi_Anbu_T, 1.0)
    set gg_snd_Kakashi_Jounin_Dimension_D=CreateSound("Sounds/Abilities/Kakashi_Jounin_Dimension_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakashi_Jounin_Dimension_D, 1985)
    call SetSoundChannel(gg_snd_Kakashi_Jounin_Dimension_D, 0)
    call SetSoundVolume(gg_snd_Kakashi_Jounin_Dimension_D, 127)
    call SetSoundPitch(gg_snd_Kakashi_Jounin_Dimension_D, 1.0)
    set gg_snd_Kakashi_Jounin_Kamui_Raikiri_Q=CreateSound("Sounds/Abilities/Kakashi_Jounin_Kamui_Raikiri_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakashi_Jounin_Kamui_Raikiri_Q, 2638)
    call SetSoundChannel(gg_snd_Kakashi_Jounin_Kamui_Raikiri_Q, 0)
    call SetSoundVolume(gg_snd_Kakashi_Jounin_Kamui_Raikiri_Q, 127)
    call SetSoundPitch(gg_snd_Kakashi_Jounin_Kamui_Raikiri_Q, 1.0)
    set gg_snd_Kakashi_Jounin_R=CreateSound("Sounds/Abilities/Kakashi_Jounin_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakashi_Jounin_R, 1541)
    call SetSoundChannel(gg_snd_Kakashi_Jounin_R, 0)
    call SetSoundVolume(gg_snd_Kakashi_Jounin_R, 127)
    call SetSoundPitch(gg_snd_Kakashi_Jounin_R, 1.0)
    set gg_snd_Kakashi_Jounin_T=CreateSound("Sounds/Abilities/Kakashi_Jounin_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakashi_Jounin_T, 1671)
    call SetSoundChannel(gg_snd_Kakashi_Jounin_T, 0)
    call SetSoundVolume(gg_snd_Kakashi_Jounin_T, 127)
    call SetSoundPitch(gg_snd_Kakashi_Jounin_T, 1.0)
    set gg_snd_Kakuzu_Kill=CreateSound("Sounds/Kills/Kakuzu_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakuzu_Kill, 3474)
    call SetSoundChannel(gg_snd_Kakuzu_Kill, 0)
    call SetSoundVolume(gg_snd_Kakuzu_Kill, 127)
    call SetSoundPitch(gg_snd_Kakuzu_Kill, 1.0)
    set gg_snd_Kakuzu_R=CreateSound("Sounds/Abilities/Kakuzu_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakuzu_R, 3996)
    call SetSoundChannel(gg_snd_Kakuzu_R, 0)
    call SetSoundVolume(gg_snd_Kakuzu_R, 127)
    call SetSoundPitch(gg_snd_Kakuzu_R, 1.0)
    set gg_snd_Kakuzu_T_Hearts=CreateSound("Sounds/Abilities/Kakuzu_T_Hearts.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakuzu_T_Hearts, 2873)
    call SetSoundChannel(gg_snd_Kakuzu_T_Hearts, 0)
    call SetSoundVolume(gg_snd_Kakuzu_T_Hearts, 127)
    call SetSoundPitch(gg_snd_Kakuzu_T_Hearts, 1.0)
    set gg_snd_Kakuzu_T_Zukokku=CreateSound("Sounds/Abilities/Kakuzu_T_Zukokku.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kakuzu_T_Zukokku, 2142)
    call SetSoundChannel(gg_snd_Kakuzu_T_Zukokku, 0)
    call SetSoundVolume(gg_snd_Kakuzu_T_Zukokku, 127)
    call SetSoundPitch(gg_snd_Kakuzu_T_Zukokku, 1.0)
    set gg_snd_Kankuro_Kill=CreateSound("Sounds/Kills/Kankuro_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kankuro_Kill, 3317)
    call SetSoundChannel(gg_snd_Kankuro_Kill, 0)
    call SetSoundVolume(gg_snd_Kankuro_Kill, 127)
    call SetSoundPitch(gg_snd_Kankuro_Kill, 1.0)
    set gg_snd_Kankuro_R=CreateSound("Sounds/Abilities/Kankuro_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kankuro_R, 3004)
    call SetSoundChannel(gg_snd_Kankuro_R, 0)
    call SetSoundVolume(gg_snd_Kankuro_R, 127)
    call SetSoundPitch(gg_snd_Kankuro_R, 1.0)
    set gg_snd_Kankuro_T=CreateSound("Sounds/Abilities/Kankuro_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kankuro_T, 1776)
    call SetSoundChannel(gg_snd_Kankuro_T, 0)
    call SetSoundVolume(gg_snd_Kankuro_T, 127)
    call SetSoundPitch(gg_snd_Kankuro_T, 1.0)
    set gg_snd_Karin_Kill=CreateSound("Sounds/Kills/Karin_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Karin_Kill, 4231)
    call SetSoundChannel(gg_snd_Karin_Kill, 0)
    call SetSoundVolume(gg_snd_Karin_Kill, 127)
    call SetSoundPitch(gg_snd_Karin_Kill, 1.0)
    set gg_snd_Karin_R_Activation=CreateSound("Sounds/Abilities/Karin_R_Activation.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Karin_R_Activation, 1933)
    call SetSoundChannel(gg_snd_Karin_R_Activation, 0)
    call SetSoundVolume(gg_snd_Karin_R_Activation, 127)
    call SetSoundPitch(gg_snd_Karin_R_Activation, 1.0)
    set gg_snd_Karin_R_When_Hitting_An_Enemy=CreateSound("Sounds/Abilities/Karin_R_When_Hitting_An_Enemy.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Karin_R_When_Hitting_An_Enemy, 3657)
    call SetSoundChannel(gg_snd_Karin_R_When_Hitting_An_Enemy, 0)
    call SetSoundVolume(gg_snd_Karin_R_When_Hitting_An_Enemy, 127)
    call SetSoundPitch(gg_snd_Karin_R_When_Hitting_An_Enemy, 1.0)
    set gg_snd_Karin_R_When_Hitting_Sasuke=CreateSound("Sounds/Abilities/Karin_R_When_Hitting_Sasuke.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Karin_R_When_Hitting_Sasuke, 4336)
    call SetSoundChannel(gg_snd_Karin_R_When_Hitting_Sasuke, 0)
    call SetSoundVolume(gg_snd_Karin_R_When_Hitting_Sasuke, 127)
    call SetSoundPitch(gg_snd_Karin_R_When_Hitting_Sasuke, 1.0)
    set gg_snd_Karin_T=CreateSound("Sounds/Abilities/Karin_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Karin_T, 2298)
    call SetSoundChannel(gg_snd_Karin_T, 0)
    call SetSoundVolume(gg_snd_Karin_T, 127)
    call SetSoundPitch(gg_snd_Karin_T, 1.0)
    set gg_snd_Kiba_Kill=CreateSound("Sounds/Kills/Kiba_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kiba_Kill, 3813)
    call SetSoundChannel(gg_snd_Kiba_Kill, 0)
    call SetSoundVolume(gg_snd_Kiba_Kill, 127)
    call SetSoundPitch(gg_snd_Kiba_Kill, 1.0)
    set gg_snd_Kiba_R=CreateSound("Sounds/Abilities/Kiba_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kiba_R, 1175)
    call SetSoundChannel(gg_snd_Kiba_R, 0)
    call SetSoundVolume(gg_snd_Kiba_R, 127)
    call SetSoundPitch(gg_snd_Kiba_R, 1.0)
    set gg_snd_Kiba_T=CreateSound("Sounds/Abilities/Kiba_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kiba_T, 2455)
    call SetSoundChannel(gg_snd_Kiba_T, 0)
    call SetSoundVolume(gg_snd_Kiba_T, 127)
    call SetSoundPitch(gg_snd_Kiba_T, 1.0)
    set gg_snd_Kidomaru_D=CreateSound("Sounds/Abilities/Kidomaru_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kidomaru_D, 1306)
    call SetSoundChannel(gg_snd_Kidomaru_D, 0)
    call SetSoundVolume(gg_snd_Kidomaru_D, 127)
    call SetSoundPitch(gg_snd_Kidomaru_D, 1.0)
    set gg_snd_Kidomaru_Kill=CreateSound("Sounds/Kills/Kidomaru_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kidomaru_Kill, 4414)
    call SetSoundChannel(gg_snd_Kidomaru_Kill, 0)
    call SetSoundVolume(gg_snd_Kidomaru_Kill, 127)
    call SetSoundPitch(gg_snd_Kidomaru_Kill, 1.0)
    set gg_snd_Kidomaru_T=CreateSound("Sounds/Abilities/Kidomaru_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kidomaru_T, 4597)
    call SetSoundChannel(gg_snd_Kidomaru_T, 0)
    call SetSoundVolume(gg_snd_Kidomaru_T, 127)
    call SetSoundPitch(gg_snd_Kidomaru_T, 1.0)
    set gg_snd_Killer_Bee_R=CreateSound("Sounds/Abilities/Killer_Bee_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Killer_Bee_R, 3239)
    call SetSoundChannel(gg_snd_Killer_Bee_R, 0)
    call SetSoundVolume(gg_snd_Killer_Bee_R, 127)
    call SetSoundPitch(gg_snd_Killer_Bee_R, 1.0)
    set gg_snd_Killer_Bee_T=CreateSound("Sounds/Abilities/Killer_Bee_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Killer_Bee_T, 1933)
    call SetSoundChannel(gg_snd_Killer_Bee_T, 0)
    call SetSoundVolume(gg_snd_Killer_Bee_T, 127)
    call SetSoundPitch(gg_snd_Killer_Bee_T, 1.0)
    set gg_snd_Killer_Bee_Transform=CreateSound("Sounds/Abilities/Killer_Bee_Transform.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Killer_Bee_Transform, 3578)
    call SetSoundChannel(gg_snd_Killer_Bee_Transform, 0)
    call SetSoundVolume(gg_snd_Killer_Bee_Transform, 127)
    call SetSoundPitch(gg_snd_Killer_Bee_Transform, 1.0)
    set gg_snd_Killer_Bee_Transform_Q=CreateSound("Sounds/Abilities/Killer_Bee_Transform_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Killer_Bee_Transform_Q, 1933)
    call SetSoundChannel(gg_snd_Killer_Bee_Transform_Q, 0)
    call SetSoundVolume(gg_snd_Killer_Bee_Transform_Q, 127)
    call SetSoundPitch(gg_snd_Killer_Bee_Transform_Q, 1.0)
    set gg_snd_Killer_Bee_Transformed_R=CreateSound("Sounds/Abilities/Killer_Bee_Transformed_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Killer_Bee_Transformed_R, 1123)
    call SetSoundChannel(gg_snd_Killer_Bee_Transformed_R, 0)
    call SetSoundVolume(gg_snd_Killer_Bee_Transformed_R, 127)
    call SetSoundPitch(gg_snd_Killer_Bee_Transformed_R, 1.0)
    set gg_snd_Kimimaro_D=CreateSound("Sounds/Abilities/Kimimaro_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kimimaro_D, 1175)
    call SetSoundChannel(gg_snd_Kimimaro_D, 0)
    call SetSoundVolume(gg_snd_Kimimaro_D, 127)
    call SetSoundPitch(gg_snd_Kimimaro_D, 1.0)
    set gg_snd_Kimimaro_D_Resurrect=CreateSound("Sounds/Abilities/Kimimaro_D_Resurrect.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kimimaro_D_Resurrect, 4414)
    call SetSoundChannel(gg_snd_Kimimaro_D_Resurrect, 0)
    call SetSoundVolume(gg_snd_Kimimaro_D_Resurrect, 127)
    call SetSoundPitch(gg_snd_Kimimaro_D_Resurrect, 1.0)
    set gg_snd_Kimimaro_Kill=CreateSound("Sounds/Kills/Kimimaro_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kimimaro_Kill, 5799)
    call SetSoundChannel(gg_snd_Kimimaro_Kill, 0)
    call SetSoundVolume(gg_snd_Kimimaro_Kill, 127)
    call SetSoundPitch(gg_snd_Kimimaro_Kill, 1.0)
    set gg_snd_Kimimaro_R=CreateSound("Sounds/Abilities/Kimimaro_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kimimaro_R, 2586)
    call SetSoundChannel(gg_snd_Kimimaro_R, 0)
    call SetSoundVolume(gg_snd_Kimimaro_R, 127)
    call SetSoundPitch(gg_snd_Kimimaro_R, 1.0)
    set gg_snd_Kimimaro_T=CreateSound("Sounds/Abilities/Kimimaro_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kimimaro_T, 1645)
    call SetSoundChannel(gg_snd_Kimimaro_T, 0)
    call SetSoundVolume(gg_snd_Kimimaro_T, 127)
    call SetSoundPitch(gg_snd_Kimimaro_T, 1.0)
    set gg_snd_Kinkaku_Q=CreateSound("Sounds/Abilities/Kinkaku_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kinkaku_Q, 992)
    call SetSoundChannel(gg_snd_Kinkaku_Q, 0)
    call SetSoundVolume(gg_snd_Kinkaku_Q, 127)
    call SetSoundPitch(gg_snd_Kinkaku_Q, 1.0)
    set gg_snd_Kisame_D_Daikoudan=CreateSound("Sounds/Abilities/Kisame_D_Daikoudan.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kisame_D_Daikoudan, 2664)
    call SetSoundChannel(gg_snd_Kisame_D_Daikoudan, 0)
    call SetSoundVolume(gg_snd_Kisame_D_Daikoudan, 127)
    call SetSoundPitch(gg_snd_Kisame_D_Daikoudan, 1.0)
    set gg_snd_Kisame_Kill=CreateSound("Sounds/Kills/Kisame_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kisame_Kill, 4571)
    call SetSoundChannel(gg_snd_Kisame_Kill, 0)
    call SetSoundVolume(gg_snd_Kisame_Kill, 127)
    call SetSoundPitch(gg_snd_Kisame_Kill, 1.0)
    set gg_snd_Kisame_R=CreateSound("Sounds/Abilities/Kisame_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kisame_R, 3369)
    call SetSoundChannel(gg_snd_Kisame_R, 0)
    call SetSoundVolume(gg_snd_Kisame_R, 127)
    call SetSoundPitch(gg_snd_Kisame_R, 1.0)
    set gg_snd_Kisame_T=CreateSound("Sounds/Abilities/Kisame_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kisame_T, 3944)
    call SetSoundChannel(gg_snd_Kisame_T, 0)
    call SetSoundVolume(gg_snd_Kisame_T, 127)
    call SetSoundPitch(gg_snd_Kisame_T, 1.0)
    set gg_snd_Kisame_T_Muugen=CreateSound("Sounds/Abilities/Kisame_T_Muugen.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kisame_T_Muugen, 1933)
    call SetSoundChannel(gg_snd_Kisame_T_Muugen, 0)
    call SetSoundVolume(gg_snd_Kisame_T_Muugen, 127)
    call SetSoundPitch(gg_snd_Kisame_T_Muugen, 1.0)
    set gg_snd_Konan_D=CreateSound("Sounds/Abilities/Konan_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Konan_D, 1410)
    call SetSoundChannel(gg_snd_Konan_D, 0)
    call SetSoundVolume(gg_snd_Konan_D, 127)
    call SetSoundPitch(gg_snd_Konan_D, 1.0)
    set gg_snd_Konan_Kill=CreateSound("Sounds/Kills/Konan_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Konan_Kill, 3056)
    call SetSoundChannel(gg_snd_Konan_Kill, 0)
    call SetSoundVolume(gg_snd_Konan_Kill, 127)
    call SetSoundPitch(gg_snd_Konan_Kill, 1.0)
    set gg_snd_Konan_T_Aoe=CreateSound("Sounds/Abilities/Konan_T_Aoe.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Konan_T_Aoe, 1619)
    call SetSoundChannel(gg_snd_Konan_T_Aoe, 0)
    call SetSoundVolume(gg_snd_Konan_T_Aoe, 127)
    call SetSoundPitch(gg_snd_Konan_T_Aoe, 1.0)
    set gg_snd_Konohamaru_Kill=CreateSound("Sounds/Kills/Konohamaru_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Konohamaru_Kill, 5067)
    call SetSoundChannel(gg_snd_Konohamaru_Kill, 0)
    call SetSoundVolume(gg_snd_Konohamaru_Kill, 127)
    call SetSoundPitch(gg_snd_Konohamaru_Kill, 1.0)
    set gg_snd_Konohamaru_R=CreateSound("Sounds/Abilities/Konohamaru_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Konohamaru_R, 1802)
    call SetSoundChannel(gg_snd_Konohamaru_R, 0)
    call SetSoundVolume(gg_snd_Konohamaru_R, 127)
    call SetSoundPitch(gg_snd_Konohamaru_R, 1.0)
    set gg_snd_Konohamaru_T=CreateSound("Sounds/Abilities/Konohamaru_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Konohamaru_T, 1619)
    call SetSoundChannel(gg_snd_Konohamaru_T, 0)
    call SetSoundVolume(gg_snd_Konohamaru_T, 127)
    call SetSoundPitch(gg_snd_Konohamaru_T, 1.0)
    set gg_snd_Kurenai_R=CreateSound("Sounds/Abilities/Kurenai_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kurenai_R, 2011)
    call SetSoundChannel(gg_snd_Kurenai_R, 0)
    call SetSoundVolume(gg_snd_Kurenai_R, 127)
    call SetSoundPitch(gg_snd_Kurenai_R, 1.0)
    set gg_snd_Kurenai_T=CreateSound("Sounds/Abilities/Kurenai_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Kurenai_T, 3108)
    call SetSoundChannel(gg_snd_Kurenai_T, 0)
    call SetSoundVolume(gg_snd_Kurenai_T, 127)
    call SetSoundPitch(gg_snd_Kurenai_T, 1.0)
    set gg_snd_Lee_Kill=CreateSound("Sounds/Kills/Lee_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Lee_Kill, 3474)
    call SetSoundChannel(gg_snd_Lee_Kill, 0)
    call SetSoundVolume(gg_snd_Lee_Kill, 127)
    call SetSoundPitch(gg_snd_Lee_Kill, 1.0)
    set gg_snd_Madara_Kill=CreateSound("Sounds/Kills/Madara_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Madara_Kill, 3082)
    call SetSoundChannel(gg_snd_Madara_Kill, 0)
    call SetSoundVolume(gg_snd_Madara_Kill, 127)
    call SetSoundPitch(gg_snd_Madara_Kill, 1.0)
    set gg_snd_Madara_R=CreateSound("Sounds/Abilities/Madara_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Madara_R, 4127)
    call SetSoundChannel(gg_snd_Madara_R, 0)
    call SetSoundVolume(gg_snd_Madara_R, 127)
    call SetSoundPitch(gg_snd_Madara_R, 1.0)
    set gg_snd_Madara_T2_Susanoo=CreateSound("Sounds/Abilities/Madara_T2_Susanoo.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Madara_T2_Susanoo, 2533)
    call SetSoundChannel(gg_snd_Madara_T2_Susanoo, 0)
    call SetSoundVolume(gg_snd_Madara_T2_Susanoo, 127)
    call SetSoundPitch(gg_snd_Madara_T2_Susanoo, 1.0)
    set gg_snd_Madara_T_Tengai=CreateSound("Sounds/Abilities/Madara_T_Tengai.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Madara_T_Tengai, 3317)
    call SetSoundChannel(gg_snd_Madara_T_Tengai, 0)
    call SetSoundVolume(gg_snd_Madara_T_Tengai, 127)
    call SetSoundPitch(gg_snd_Madara_T_Tengai, 1.0)
    set gg_snd_Madara_T_Transform_Juubi=CreateSound("Sounds/Abilities/Madara_T_Transform_Juubi.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Madara_T_Transform_Juubi, 3552)
    call SetSoundChannel(gg_snd_Madara_T_Transform_Juubi, 0)
    call SetSoundVolume(gg_snd_Madara_T_Transform_Juubi, 127)
    call SetSoundPitch(gg_snd_Madara_T_Transform_Juubi, 1.0)
    set gg_snd_Madara_T_Tsukuyomi=CreateSound("Sounds/Abilities/Madara_T_Tsukuyomi.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Madara_T_Tsukuyomi, 6974)
    call SetSoundChannel(gg_snd_Madara_T_Tsukuyomi, 0)
    call SetSoundVolume(gg_snd_Madara_T_Tsukuyomi, 127)
    call SetSoundPitch(gg_snd_Madara_T_Tsukuyomi, 1.0)
    set gg_snd_Masked_Man_W_Space_Time=CreateSound("Sounds/Abilities/Masked_Man_W_Space_Time.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Masked_Man_W_Space_Time, 4884)
    call SetSoundChannel(gg_snd_Masked_Man_W_Space_Time, 0)
    call SetSoundVolume(gg_snd_Masked_Man_W_Space_Time, 127)
    call SetSoundPitch(gg_snd_Masked_Man_W_Space_Time, 1.0)
    set gg_snd_Mecha_Naruto_Kill=CreateSound("Sounds/Kills/Mecha_Naruto_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mecha_Naruto_Kill, 3709)
    call SetSoundChannel(gg_snd_Mecha_Naruto_Kill, 0)
    call SetSoundVolume(gg_snd_Mecha_Naruto_Kill, 127)
    call SetSoundPitch(gg_snd_Mecha_Naruto_Kill, 1.0)
    set gg_snd_Mecha_Naruto_T=CreateSound("Sounds/Abilities/Mecha_Naruto_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mecha_Naruto_T, 1933)
    call SetSoundChannel(gg_snd_Mecha_Naruto_T, 0)
    call SetSoundVolume(gg_snd_Mecha_Naruto_T, 127)
    call SetSoundPitch(gg_snd_Mecha_Naruto_T, 1.0)
    set gg_snd_Mei_Kill=CreateSound("Sounds/Kills/Mei_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mei_Kill, 4101)
    call SetSoundChannel(gg_snd_Mei_Kill, 0)
    call SetSoundVolume(gg_snd_Mei_Kill, 127)
    call SetSoundPitch(gg_snd_Mei_Kill, 1.0)
    set gg_snd_Mei_T=CreateSound("Sounds/Abilities/Mei_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mei_T, 7105)
    call SetSoundChannel(gg_snd_Mei_T, 0)
    call SetSoundVolume(gg_snd_Mei_T, 127)
    call SetSoundPitch(gg_snd_Mei_T, 1.0)
    set gg_snd_Mifune_D_Reset=CreateSound("Sounds/Abilities/Mifune_D_Reset.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mifune_D_Reset, 2612)
    call SetSoundChannel(gg_snd_Mifune_D_Reset, 0)
    call SetSoundVolume(gg_snd_Mifune_D_Reset, 127)
    call SetSoundPitch(gg_snd_Mifune_D_Reset, 1.0)
    set gg_snd_Mifune_Kill=CreateSound("Sounds/Kills/Mifune_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mifune_Kill, 6347)
    call SetSoundChannel(gg_snd_Mifune_Kill, 0)
    call SetSoundVolume(gg_snd_Mifune_Kill, 127)
    call SetSoundPitch(gg_snd_Mifune_Kill, 1.0)
    set gg_snd_Mifune_R=CreateSound("Sounds/Abilities/Mifune_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mifune_R, 679)
    call SetSoundChannel(gg_snd_Mifune_R, 0)
    call SetSoundVolume(gg_snd_Mifune_R, 127)
    call SetSoundPitch(gg_snd_Mifune_R, 1.0)
    set gg_snd_Mifune_T=CreateSound("Sounds/Abilities/Mifune_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mifune_T, 2351)
    call SetSoundChannel(gg_snd_Mifune_T, 0)
    call SetSoundVolume(gg_snd_Mifune_T, 127)
    call SetSoundPitch(gg_snd_Mifune_T, 1.0)
    set gg_snd_Minato_Hokage_D=CreateSound("Sounds/Abilities/Minato_Hokage_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Minato_Hokage_D, 2586)
    call SetSoundChannel(gg_snd_Minato_Hokage_D, 0)
    call SetSoundVolume(gg_snd_Minato_Hokage_D, 127)
    call SetSoundPitch(gg_snd_Minato_Hokage_D, 1.0)
    set gg_snd_Minato_Hokage_R=CreateSound("Sounds/Abilities/Minato_Hokage_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Minato_Hokage_R, 1750)
    call SetSoundChannel(gg_snd_Minato_Hokage_R, 0)
    call SetSoundVolume(gg_snd_Minato_Hokage_R, 127)
    call SetSoundPitch(gg_snd_Minato_Hokage_R, 1.0)
    set gg_snd_Minato_Hokage_T_Shiki=CreateSound("Sounds/Abilities/Minato_Hokage_T_Shiki.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Minato_Hokage_T_Shiki, 3108)
    call SetSoundChannel(gg_snd_Minato_Hokage_T_Shiki, 0)
    call SetSoundVolume(gg_snd_Minato_Hokage_T_Shiki, 127)
    call SetSoundPitch(gg_snd_Minato_Hokage_T_Shiki, 1.0)
    set gg_snd_Minato_Jounin_T=CreateSound("Sounds/Abilities/Minato_Jounin_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Minato_Jounin_T, 2481)
    call SetSoundChannel(gg_snd_Minato_Jounin_T, 0)
    call SetSoundVolume(gg_snd_Minato_Jounin_T, 127)
    call SetSoundPitch(gg_snd_Minato_Jounin_T, 1.0)
    set gg_snd_Mitsuki_Kill=CreateSound("Sounds/Kills/Mitsuki_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mitsuki_Kill, 2925)
    call SetSoundChannel(gg_snd_Mitsuki_Kill, 0)
    call SetSoundVolume(gg_snd_Mitsuki_Kill, 127)
    call SetSoundPitch(gg_snd_Mitsuki_Kill, 1.0)
    set gg_snd_Mitsuki_Sage_Mode_W=CreateSound("Sounds/Abilities/Mitsuki_Sage_Mode_W.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mitsuki_Sage_Mode_W, 1097)
    call SetSoundChannel(gg_snd_Mitsuki_Sage_Mode_W, 0)
    call SetSoundVolume(gg_snd_Mitsuki_Sage_Mode_W, 127)
    call SetSoundPitch(gg_snd_Mitsuki_Sage_Mode_W, 1.0)
    set gg_snd_Mitsuki_W=CreateSound("Sounds/Abilities/Mitsuki_W.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Mitsuki_W, 1201)
    call SetSoundChannel(gg_snd_Mitsuki_W, 0)
    call SetSoundVolume(gg_snd_Mitsuki_W, 127)
    call SetSoundPitch(gg_snd_Mitsuki_W, 1.0)
    set gg_snd_MouseClick1=CreateSound("Sound/Interface/MouseClick1.flac", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundParamsFromLabel(gg_snd_MouseClick1, "InterfaceClick")
    call SetSoundDuration(gg_snd_MouseClick1, 239)
    call SetSoundVolume(gg_snd_MouseClick1, 127)
    set gg_snd_Music01BeautifulWildGreenBeast="war3mapImported/Music01BeautifulWildGreenBeast.flac"
    set gg_snd_Music01Fang="war3mapImported/Music01Fang.flac"
    set gg_snd_Music01RisingDragon="war3mapImported/Music01RisingDragon.flac"
    set gg_snd_Music01Shippuden="war3mapImported/Music01Shippuden.flac"
    set gg_snd_Music01Suspicion="war3mapImported/Music01Suspicion.flac"
    set gg_snd_Music02CriticalPoint="war3mapImported/Music02CriticalPoint.flac"
    set gg_snd_Music02FlyingLight="war3mapImported/Music02FlyingLight.flac"
    set gg_snd_Music02HeavenShakingEvent="war3mapImported/Music02HeavenShakingEvent.flac"
    set gg_snd_Music03Confrontment="war3mapImported/Music03Confrontment.flac"
    set gg_snd_Music03Crushing="war3mapImported/Music03Crushing.flac"
    set gg_snd_Music03Fake="war3mapImported/Music03Fake.flac"
    set gg_snd_Music03Invasion="war3mapImported/Music03Invasion.flac"
    set gg_snd_Music03NightAttack="war3mapImported/Music03NightAttack.flac"
    set gg_snd_Music03Suddenly="war3mapImported/Music03Suddenly.flac"
    set gg_snd_Music04ACrisisAfterAnother="war3mapImported/Music04ACrisisAfterAnother.flac"
    set gg_snd_Music04ChojuGiga="war3mapImported/Music04ChojuGiga.flac"
    set gg_snd_Music04Evil="war3mapImported/Music04Evil.flac"
    set gg_snd_Music04Houzukijo="war3mapImported/Music04Houzukijo.flac"
    set gg_snd_Music05LightningSpeed="war3mapImported/Music05LightningSpeed.flac"
    set gg_snd_Music05Orochi="war3mapImported/Music05Orochi.flac"
    set gg_snd_Music05Rogue="war3mapImported/Music05Rogue.flac"
    set gg_snd_Music05TheProphet="war3mapImported/Music05TheProphet.flac"
    set gg_snd_Music06Dance="war3mapImported/Music06Dance.flac"
    set gg_snd_Music06Hidan="war3mapImported/Music06Hidan.flac"
    set gg_snd_Music07Kakuzu="war3mapImported/Music07Kakuzu.flac"
    set gg_snd_Music07TheRisingFightingSpirit="war3mapImported/Music07TheRisingFightingSpirit.flac"
    set gg_snd_Music07UltimateSecrets="war3mapImported/Music07UltimateSecrets.flac"
    set gg_snd_Music08CrimsonFlames="war3mapImported/Music08CrimsonFlames.flac"
    set gg_snd_Music08DeparturetotheFrontLines="war3mapImported/Music08DeparturetotheFrontLines.flac"
    set gg_snd_Music08Howl="war3mapImported/Music08Howl.flac"
    set gg_snd_Music08Hummingbird="war3mapImported/Music08Hummingbird.flac"
    set gg_snd_Music09Anger="war3mapImported/Music09Anger.flac"
    set gg_snd_Music09Silhouette="war3mapImported/Music09Silhouette.flac"
    set gg_snd_Music09UnkemptHair="war3mapImported/Music09UnkemptHair.flac"
    set gg_snd_Music10Akatsuki="war3mapImported/Music10Akatsuki.flac"
    set gg_snd_Music10Avenger="war3mapImported/Music10Avenger.flac"
    set gg_snd_Music10Rage="war3mapImported/Music10Rage.flac"
    set gg_snd_Music11HeavyViolence="war3mapImported/Music11HeavyViolence.flac"
    set gg_snd_Music12Blaze="war3mapImported/Music12Blaze.flac"
    set gg_snd_Music12DestructionJutsu="war3mapImported/Music12DestructionJutsu.flac"
    set gg_snd_Music12GoldbrocadedDamask="war3mapImported/Music12GoldbrocadedDamask.flac"
    set gg_snd_Music12Jinchuuriki="war3mapImported/Music12Jinchuuriki.flac"
    set gg_snd_Music12Sarutobi="war3mapImported/Music12Sarutobi.flac"
    set gg_snd_Music12WindsandClouds="war3mapImported/Music12WindsandClouds.flac"
    set gg_snd_Music13Impregnable="war3mapImported/Music13Impregnable.flac"
    set gg_snd_Music13OrochimarusTheme="war3mapImported/Music13OrochimarusTheme.flac"
    set gg_snd_Music13WaterAboveCut="war3mapImported/Music13WaterAboveCut.flac"
    set gg_snd_Music14Avenger="war3mapImported/Music14Avenger.flac"
    set gg_snd_Music14ForebodingSkies="war3mapImported/Music14ForebodingSkies.flac"
    set gg_snd_Music14ViolentFluctuation="war3mapImported/Music14ViolentFluctuation.flac"
    set gg_snd_Music15HiddenWilltoFight="war3mapImported/Music15HiddenWilltoFight.flac"
    set gg_snd_Music15Jiraiya="war3mapImported/Music15Jiraiya.flac"
    set gg_snd_Music15OrochimarusFight="war3mapImported/Music15OrochimarusFight.flac"
    set gg_snd_Music15Trial="war3mapImported/Music15Trial.flac"
    set gg_snd_Music16Mukade="war3mapImported/Music16Mukade.flac"
    set gg_snd_Music16NeedtoBeStrong="war3mapImported/Music16NeedtoBeStrong.flac"
    set gg_snd_Music16NightStroll="war3mapImported/Music16NightStroll.flac"
    set gg_snd_Music16Raikiri="war3mapImported/Music16Raikiri.flac"
    set gg_snd_Music16Ripple="war3mapImported/Music16Ripple.flac"
    set gg_snd_Music16Shennong="war3mapImported/Music16Shennong.flac"
    set gg_snd_Music17Game="war3mapImported/Music17Game.flac"
    set gg_snd_Music17SasukesDestiny="war3mapImported/Music17SasukesDestiny.flac"
    set gg_snd_Music17VeritablePandemonium="war3mapImported/Music17VeritablePandemonium.flac"
    set gg_snd_Music18BigandSuddenChange="war3mapImported/Music18BigandSuddenChange.flac"
    set gg_snd_Music18BlackSpot="war3mapImported/Music18BlackSpot.flac"
    set gg_snd_Music18Bunta="war3mapImported/Music18Bunta.flac"
    set gg_snd_Music18EmergenceofTalents="war3mapImported/Music18EmergenceofTalents.flac"
    set gg_snd_Music18GAMA="war3mapImported/Music18GAMA.flac"
    set gg_snd_Music18SceneofViolence="war3mapImported/Music18SceneofViolence.flac"
    set gg_snd_Music18StrongandStrike="war3mapImported/Music18StrongandStrike.flac"
    set gg_snd_Music18VergeofDeath="war3mapImported/Music18VergeofDeath.flac"
    set gg_snd_Music19BeastofPrey="war3mapImported/Music19BeastofPrey.flac"
    set gg_snd_Music19FlyingDragon="war3mapImported/Music19FlyingDragon.flac"
    set gg_snd_Music19MiddleAgeAttack="war3mapImported/Music19MiddleAgeAttack.flac"
    set gg_snd_Music19TheMagicFlute="war3mapImported/Music19TheMagicFlute.flac"
    set gg_snd_Music19TheScarletLetter="war3mapImported/Music19TheScarletLetter.flac"
    set gg_snd_Music20Courtesy="war3mapImported/Music20Courtesy.flac"
    set gg_snd_Music20SneakingNightmare="war3mapImported/Music20SneakingNightmare.flac"
    set gg_snd_Music20Supremacy="war3mapImported/Music20Supremacy.flac"
    set gg_snd_Music20Thunderstorm="war3mapImported/Music20Thunderstorm.flac"
    set gg_snd_Music21NARUTOMainTheme="war3mapImported/Music21NARUTOMainTheme.flac"
    set gg_snd_Music21RedRose="war3mapImported/Music21RedRose.flac"
    set gg_snd_Music21Stalemate="war3mapImported/Music21Stalemate.flac"
    set gg_snd_Music22ArabesqueChaos="war3mapImported/Music22ArabesqueChaos.flac"
    set gg_snd_Music22Hero="war3mapImported/Music22Hero.flac"
    set gg_snd_Music22Tragic="war3mapImported/Music22Tragic.flac"
    set gg_snd_Music22Vicissitude="war3mapImported/Music22Vicissitude.flac"
    set gg_snd_Music22WarParticipation="war3mapImported/Music22WarParticipation.flac"
    set gg_snd_Music23Confronting="war3mapImported/Music23Confronting.flac"
    set gg_snd_Music23ManyNights="war3mapImported/Music23ManyNights.flac"
    set gg_snd_Music23PhosphorescentLight="war3mapImported/Music23PhosphorescentLight.flac"
    set gg_snd_Music24MuddyStream="war3mapImported/Music24MuddyStream.flac"
    set gg_snd_Music24Strangeness="war3mapImported/Music24Strangeness.flac"
    set gg_snd_Music25DecisiveBattle="war3mapImported/Music25DecisiveBattle.flac"
    set gg_snd_Music25Infinite="war3mapImported/Music25Infinite.flac"
    set gg_snd_Music25RiskingitAll="war3mapImported/Music25RiskingitAll.flac"
    set gg_snd_Music25ROADTONINJA="war3mapImported/Music25ROADTONINJA.flac"
    set gg_snd_Music25Thunder="war3mapImported/Music25Thunder.flac"
    set gg_snd_Music25Warrior="war3mapImported/Music25Warrior.flac"
    set gg_snd_Music26BurnedDown="war3mapImported/Music26BurnedDown.flac"
    set gg_snd_Music26Flight="war3mapImported/Music26Flight.flac"
    set gg_snd_Music26IWish="war3mapImported/Music26IWish.flac"
    set gg_snd_Music26JetBlack="war3mapImported/Music26JetBlack.flac"
    set gg_snd_Music26ReverseSituation="war3mapImported/Music26ReverseSituation.flac"
    set gg_snd_Music27AllKindsofSpiritsandGoblins="war3mapImported/Music27AllKindsofSpiritsandGoblins.flac"
    set gg_snd_Music27AntiHeaven="war3mapImported/Music27AntiHeaven.flac"
    set gg_snd_Music27TheCryingGod="war3mapImported/Music27TheCryingGod.flac"
    set gg_snd_Music28Breakdown="war3mapImported/Music28Breakdown.flac"
    set gg_snd_Music29BreezefromtheFlappingofWings="war3mapImported/Music29BreezefromtheFlappingofWings.flac"
    set gg_snd_Music31BlindAnimal="war3mapImported/Music31BlindAnimal.flac"
    set gg_snd_Music32GodofWar="war3mapImported/Music32GodofWar.flac"
    set gg_snd_Music32HeavenshakingEvent="war3mapImported/Music32HeavenshakingEvent.flac"
    set gg_snd_Music32MADARAvsNARUTO="war3mapImported/Music32MADARAvsNARUTO.flac"
    set gg_snd_Music33Flames="war3mapImported/Music33Flames.flac"
    set gg_snd_Music33MyName="war3mapImported/Music33MyName.flac"
    set gg_snd_Muu_Kill=CreateSound("Sounds/Kills/Muu_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Muu_Kill, 4284)
    call SetSoundChannel(gg_snd_Muu_Kill, 0)
    call SetSoundVolume(gg_snd_Muu_Kill, 127)
    call SetSoundPitch(gg_snd_Muu_Kill, 1.0)
    set gg_snd_Muu_R=CreateSound("Sounds/Abilities/Muu_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Muu_R, 2664)
    call SetSoundChannel(gg_snd_Muu_R, 0)
    call SetSoundVolume(gg_snd_Muu_R, 127)
    call SetSoundPitch(gg_snd_Muu_R, 1.0)
    set gg_snd_Muu_T_Bunretsu=CreateSound("Sounds/Abilities/Muu_T_Bunretsu.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Muu_T_Bunretsu, 3291)
    call SetSoundChannel(gg_snd_Muu_T_Bunretsu, 0)
    call SetSoundVolume(gg_snd_Muu_T_Bunretsu, 127)
    call SetSoundPitch(gg_snd_Muu_T_Bunretsu, 1.0)
    set gg_snd_Nagato_Kill=CreateSound("Sounds/Kills/Nagato_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Nagato_Kill, 3030)
    call SetSoundChannel(gg_snd_Nagato_Kill, 0)
    call SetSoundVolume(gg_snd_Nagato_Kill, 127)
    call SetSoundPitch(gg_snd_Nagato_Kill, 1.0)
    set gg_snd_Nagato_Q=CreateSound("Sounds/Abilities/Nagato_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Nagato_Q, 1358)
    call SetSoundChannel(gg_snd_Nagato_Q, 0)
    call SetSoundVolume(gg_snd_Nagato_Q, 127)
    call SetSoundPitch(gg_snd_Nagato_Q, 1.0)
    set gg_snd_Nagato_T_Chibaku=CreateSound("Sounds/Abilities/Nagato_T_Chibaku.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Nagato_T_Chibaku, 1358)
    call SetSoundChannel(gg_snd_Nagato_T_Chibaku, 0)
    call SetSoundVolume(gg_snd_Nagato_T_Chibaku, 127)
    call SetSoundPitch(gg_snd_Nagato_T_Chibaku, 1.0)
    set gg_snd_Nagato_T_Shinra=CreateSound("Sounds/Abilities/Nagato_T_Shinra.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Nagato_T_Shinra, 1436)
    call SetSoundChannel(gg_snd_Nagato_T_Shinra, 0)
    call SetSoundVolume(gg_snd_Nagato_T_Shinra, 127)
    call SetSoundPitch(gg_snd_Nagato_T_Shinra, 1.0)
    set gg_snd_Naruto_Rikudou_R=CreateSound("Sounds/Abilities/Naruto_Rikudou_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Naruto_Rikudou_R, 3395)
    call SetSoundChannel(gg_snd_Naruto_Rikudou_R, 0)
    call SetSoundVolume(gg_snd_Naruto_Rikudou_R, 127)
    call SetSoundPitch(gg_snd_Naruto_Rikudou_R, 1.0)
    set gg_snd_Naruto_Rikudou_T=CreateSound("Sounds/Abilities/Naruto_Rikudou_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Naruto_Rikudou_T, 2638)
    call SetSoundChannel(gg_snd_Naruto_Rikudou_T, 0)
    call SetSoundVolume(gg_snd_Naruto_Rikudou_T, 127)
    call SetSoundPitch(gg_snd_Naruto_Rikudou_T, 1.0)
    set gg_snd_Naruto_Sage_R=CreateSound("Sounds/Abilities/Naruto_Sage_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Naruto_Sage_R, 2063)
    call SetSoundChannel(gg_snd_Naruto_Sage_R, 0)
    call SetSoundVolume(gg_snd_Naruto_Sage_R, 127)
    call SetSoundPitch(gg_snd_Naruto_Sage_R, 1.0)
    set gg_snd_Naruto_Sage_T=CreateSound("Sounds/Abilities/Naruto_Sage_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Naruto_Sage_T, 1358)
    call SetSoundChannel(gg_snd_Naruto_Sage_T, 0)
    call SetSoundVolume(gg_snd_Naruto_Sage_T, 127)
    call SetSoundPitch(gg_snd_Naruto_Sage_T, 1.0)
    set gg_snd_Neji_Kill=CreateSound("Sounds/Kills/Neji_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Neji_Kill, 4754)
    call SetSoundChannel(gg_snd_Neji_Kill, 0)
    call SetSoundVolume(gg_snd_Neji_Kill, 127)
    call SetSoundPitch(gg_snd_Neji_Kill, 1.0)
    set gg_snd_Neji_R=CreateSound("Sounds/Abilities/Neji_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Neji_R, 2011)
    call SetSoundChannel(gg_snd_Neji_R, 0)
    call SetSoundVolume(gg_snd_Neji_R, 127)
    call SetSoundPitch(gg_snd_Neji_R, 1.0)
    set gg_snd_Neji_T=CreateSound("Sounds/Abilities/Neji_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Neji_T, 2481)
    call SetSoundChannel(gg_snd_Neji_T, 0)
    call SetSoundVolume(gg_snd_Neji_T, 127)
    call SetSoundPitch(gg_snd_Neji_T, 1.0)
    set gg_snd_Neji_T2_Hakke_Hyaku=CreateSound("Sounds/Abilities/Neji_T2_Hakke_Hyaku.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Neji_T2_Hakke_Hyaku, 3160)
    call SetSoundChannel(gg_snd_Neji_T2_Hakke_Hyaku, 0)
    call SetSoundVolume(gg_snd_Neji_T2_Hakke_Hyaku, 127)
    call SetSoundPitch(gg_snd_Neji_T2_Hakke_Hyaku, 1.0)
    set gg_snd_Neji_W=CreateSound("Sounds/Abilities/Neji_W.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Neji_W, 1436)
    call SetSoundChannel(gg_snd_Neji_W, 0)
    call SetSoundVolume(gg_snd_Neji_W, 127)
    call SetSoundPitch(gg_snd_Neji_W, 1.0)
    set gg_snd_Obito_Dimension_D=CreateSound("Sounds/Abilities/Obito_Dimension_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Obito_Dimension_D, 2063)
    call SetSoundChannel(gg_snd_Obito_Dimension_D, 0)
    call SetSoundVolume(gg_snd_Obito_Dimension_D, 127)
    call SetSoundPitch(gg_snd_Obito_Dimension_D, 1.0)
    set gg_snd_Obito_Kill=CreateSound("Sounds/Kills/Obito_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Obito_Kill, 4153)
    call SetSoundChannel(gg_snd_Obito_Kill, 0)
    call SetSoundVolume(gg_snd_Obito_Kill, 127)
    call SetSoundPitch(gg_snd_Obito_Kill, 1.0)
    set gg_snd_Obito_R=CreateSound("Sounds/Abilities/Obito_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Obito_R, 1541)
    call SetSoundChannel(gg_snd_Obito_R, 0)
    call SetSoundVolume(gg_snd_Obito_R, 127)
    call SetSoundPitch(gg_snd_Obito_R, 1.0)
    set gg_snd_Obito_T2_Transform=CreateSound("Sounds/Abilities/Obito_T2_Transform.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Obito_T2_Transform, 3683)
    call SetSoundChannel(gg_snd_Obito_T2_Transform, 0)
    call SetSoundVolume(gg_snd_Obito_T2_Transform, 127)
    call SetSoundPitch(gg_snd_Obito_T2_Transform, 1.0)
    set gg_snd_Obito_T_Muugen=CreateSound("Sounds/Abilities/Obito_T_Muugen.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Obito_T_Muugen, 2246)
    call SetSoundChannel(gg_snd_Obito_T_Muugen, 0)
    call SetSoundVolume(gg_snd_Obito_T_Muugen, 127)
    call SetSoundPitch(gg_snd_Obito_T_Muugen, 1.0)
    set gg_snd_Ohnoki_Kill=CreateSound("Sounds/Kills/Ohnoki_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ohnoki_Kill, 4675)
    call SetSoundChannel(gg_snd_Ohnoki_Kill, 0)
    call SetSoundVolume(gg_snd_Ohnoki_Kill, 127)
    call SetSoundPitch(gg_snd_Ohnoki_Kill, 1.0)
    set gg_snd_Onooki_R=CreateSound("Sounds/Abilities/Onooki_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Onooki_R, 3108)
    call SetSoundChannel(gg_snd_Onooki_R, 0)
    call SetSoundVolume(gg_snd_Onooki_R, 127)
    call SetSoundPitch(gg_snd_Onooki_R, 1.0)
    set gg_snd_Onooki_T=CreateSound("Sounds/Abilities/Onooki_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Onooki_T, 2298)
    call SetSoundChannel(gg_snd_Onooki_T, 0)
    call SetSoundVolume(gg_snd_Onooki_T, 127)
    call SetSoundPitch(gg_snd_Onooki_T, 1.0)
    set gg_snd_Orochimaru_Kill=CreateSound("Sounds/Kills/Orochimaru_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Orochimaru_Kill, 3918)
    call SetSoundChannel(gg_snd_Orochimaru_Kill, 0)
    call SetSoundVolume(gg_snd_Orochimaru_Kill, 127)
    call SetSoundPitch(gg_snd_Orochimaru_Kill, 1.0)
    set gg_snd_Orochimaru_R=CreateSound("Sounds/Abilities/Orochimaru_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Orochimaru_R, 3108)
    call SetSoundChannel(gg_snd_Orochimaru_R, 0)
    call SetSoundVolume(gg_snd_Orochimaru_R, 127)
    call SetSoundPitch(gg_snd_Orochimaru_R, 1.0)
    set gg_snd_Orochimaru_T2_Edo=CreateSound("Sounds/Abilities/Orochimaru_T2_Edo.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Orochimaru_T2_Edo, 1828)
    call SetSoundChannel(gg_snd_Orochimaru_T2_Edo, 0)
    call SetSoundVolume(gg_snd_Orochimaru_T2_Edo, 127)
    call SetSoundPitch(gg_snd_Orochimaru_T2_Edo, 1.0)
    set gg_snd_Orochimaru_T_Yamata=CreateSound("Sounds/Abilities/Orochimaru_T_Yamata.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Orochimaru_T_Yamata, 3004)
    call SetSoundChannel(gg_snd_Orochimaru_T_Yamata, 0)
    call SetSoundVolume(gg_snd_Orochimaru_T_Yamata, 127)
    call SetSoundPitch(gg_snd_Orochimaru_T_Yamata, 1.0)
    set gg_snd_Orochimaru_W=CreateSound("Sounds/Abilities/Orochimaru_W.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Orochimaru_W, 1567)
    call SetSoundChannel(gg_snd_Orochimaru_W, 0)
    call SetSoundVolume(gg_snd_Orochimaru_W, 127)
    call SetSoundPitch(gg_snd_Orochimaru_W, 1.0)
    set gg_snd_Raikage_Kill=CreateSound("Sounds/Kills/Raikage_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Raikage_Kill, 3813)
    call SetSoundChannel(gg_snd_Raikage_Kill, 0)
    call SetSoundVolume(gg_snd_Raikage_Kill, 127)
    call SetSoundPitch(gg_snd_Raikage_Kill, 1.0)
    set gg_snd_Raikage_R=CreateSound("Sounds/Abilities/Raikage_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Raikage_R, 2324)
    call SetSoundChannel(gg_snd_Raikage_R, 0)
    call SetSoundVolume(gg_snd_Raikage_R, 127)
    call SetSoundPitch(gg_snd_Raikage_R, 1.0)
    set gg_snd_Raikage_T=CreateSound("Sounds/Abilities/Raikage_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Raikage_T, 2873)
    call SetSoundChannel(gg_snd_Raikage_T, 0)
    call SetSoundVolume(gg_snd_Raikage_T, 127)
    call SetSoundPitch(gg_snd_Raikage_T, 1.0)
    set gg_snd_Rikudou_Naruto_Kill=CreateSound("Sounds/Kills/Rikudou_Naruto_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Rikudou_Naruto_Kill, 3552)
    call SetSoundChannel(gg_snd_Rikudou_Naruto_Kill, 0)
    call SetSoundVolume(gg_snd_Rikudou_Naruto_Kill, 127)
    call SetSoundPitch(gg_snd_Rikudou_Naruto_Kill, 1.0)
    set gg_snd_Rikudou_Sasuke_Kill=CreateSound("Sounds/Kills/Rikudou_Sasuke_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Rikudou_Sasuke_Kill, 3056)
    call SetSoundChannel(gg_snd_Rikudou_Sasuke_Kill, 0)
    call SetSoundVolume(gg_snd_Rikudou_Sasuke_Kill, 127)
    call SetSoundPitch(gg_snd_Rikudou_Sasuke_Kill, 1.0)
    set gg_snd_Ringo_Kill=CreateSound("Sounds/Kills/Ringo_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ringo_Kill, 4048)
    call SetSoundChannel(gg_snd_Ringo_Kill, 0)
    call SetSoundVolume(gg_snd_Ringo_Kill, 127)
    call SetSoundPitch(gg_snd_Ringo_Kill, 1.0)
    set gg_snd_Ringo_R=CreateSound("Sounds/Abilities/Ringo_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Ringo_R, 2063)
    call SetSoundChannel(gg_snd_Ringo_R, 0)
    call SetSoundVolume(gg_snd_Ringo_R, 127)
    call SetSoundPitch(gg_snd_Ringo_R, 1.0)
    set gg_snd_Rock_Lee_R=CreateSound("Sounds/Abilities/Rock_Lee_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Rock_Lee_R, 3004)
    call SetSoundChannel(gg_snd_Rock_Lee_R, 0)
    call SetSoundVolume(gg_snd_Rock_Lee_R, 127)
    call SetSoundPitch(gg_snd_Rock_Lee_R, 1.0)
    set gg_snd_Rock_Lee_T=CreateSound("Sounds/Abilities/Rock_Lee_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Rock_Lee_T, 1253)
    call SetSoundChannel(gg_snd_Rock_Lee_T, 0)
    call SetSoundVolume(gg_snd_Rock_Lee_T, 127)
    call SetSoundPitch(gg_snd_Rock_Lee_T, 1.0)
    set gg_snd_Roshi_Kill=CreateSound("Sounds/Kills/Roshi_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Roshi_Kill, 4466)
    call SetSoundChannel(gg_snd_Roshi_Kill, 0)
    call SetSoundVolume(gg_snd_Roshi_Kill, 127)
    call SetSoundPitch(gg_snd_Roshi_Kill, 1.0)
    set gg_snd_Roshi_R=CreateSound("Sounds/Abilities/Roshi_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Roshi_R, 3108)
    call SetSoundChannel(gg_snd_Roshi_R, 0)
    call SetSoundVolume(gg_snd_Roshi_R, 127)
    call SetSoundPitch(gg_snd_Roshi_R, 1.0)
    set gg_snd_Roshi_T=CreateSound("Sounds/Abilities/Roshi_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Roshi_T, 3160)
    call SetSoundChannel(gg_snd_Roshi_T, 0)
    call SetSoundVolume(gg_snd_Roshi_T, 127)
    call SetSoundPitch(gg_snd_Roshi_T, 1.0)
    set gg_snd_Sage_Kabuto_Kill=CreateSound("Sounds/Kills/Sage_Kabuto_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sage_Kabuto_Kill, 2272)
    call SetSoundChannel(gg_snd_Sage_Kabuto_Kill, 0)
    call SetSoundVolume(gg_snd_Sage_Kabuto_Kill, 127)
    call SetSoundPitch(gg_snd_Sage_Kabuto_Kill, 1.0)
    set gg_snd_Sage_Naruto_Kill=CreateSound("Sounds/Kills/Sage_Naruto_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sage_Naruto_Kill, 2560)
    call SetSoundChannel(gg_snd_Sage_Naruto_Kill, 0)
    call SetSoundVolume(gg_snd_Sage_Naruto_Kill, 127)
    call SetSoundPitch(gg_snd_Sage_Naruto_Kill, 1.0)
    set gg_snd_Sai_Kill=CreateSound("Sounds/Kills/Sai_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sai_Kill, 3369)
    call SetSoundChannel(gg_snd_Sai_Kill, 0)
    call SetSoundVolume(gg_snd_Sai_Kill, 127)
    call SetSoundPitch(gg_snd_Sai_Kill, 1.0)
    set gg_snd_Sai_R=CreateSound("Sounds/Abilities/Sai_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sai_R, 1384)
    call SetSoundChannel(gg_snd_Sai_R, 0)
    call SetSoundVolume(gg_snd_Sai_R, 127)
    call SetSoundPitch(gg_snd_Sai_R, 1.0)
    set gg_snd_Sai_T=CreateSound("Sounds/Abilities/Sai_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sai_T, 2324)
    call SetSoundChannel(gg_snd_Sai_T, 0)
    call SetSoundVolume(gg_snd_Sai_T, 127)
    call SetSoundPitch(gg_snd_Sai_T, 1.0)
    set gg_snd_Sakura_Kill=CreateSound("Sounds/Kills/Sakura_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sakura_Kill, 5825)
    call SetSoundChannel(gg_snd_Sakura_Kill, 0)
    call SetSoundVolume(gg_snd_Sakura_Kill, 127)
    call SetSoundPitch(gg_snd_Sakura_Kill, 1.0)
    set gg_snd_Sakura_T=CreateSound("Sounds/Abilities/Sakura_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sakura_T, 2821)
    call SetSoundChannel(gg_snd_Sakura_T, 0)
    call SetSoundVolume(gg_snd_Sakura_T, 127)
    call SetSoundPitch(gg_snd_Sakura_T, 1.0)
    set gg_snd_Sasori_Kill=CreateSound("Sounds/Kills/Sasori_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasori_Kill, 3709)
    call SetSoundChannel(gg_snd_Sasori_Kill, 0)
    call SetSoundVolume(gg_snd_Sasori_Kill, 127)
    call SetSoundPitch(gg_snd_Sasori_Kill, 1.0)
    set gg_snd_Sasori_R_Puppets=CreateSound("Sounds/Abilities/Sasori_R_Puppets.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasori_R_Puppets, 2847)
    call SetSoundChannel(gg_snd_Sasori_R_Puppets, 0)
    call SetSoundVolume(gg_snd_Sasori_R_Puppets, 127)
    call SetSoundPitch(gg_snd_Sasori_R_Puppets, 1.0)
    set gg_snd_Sasuke_Hebi_R=CreateSound("Sounds/Abilities/Sasuke_Hebi_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasuke_Hebi_R, 1854)
    call SetSoundChannel(gg_snd_Sasuke_Hebi_R, 0)
    call SetSoundVolume(gg_snd_Sasuke_Hebi_R, 127)
    call SetSoundPitch(gg_snd_Sasuke_Hebi_R, 1.0)
    set gg_snd_Sasuke_Hebi_T=CreateSound("Sounds/Abilities/Sasuke_Hebi_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasuke_Hebi_T, 5120)
    call SetSoundChannel(gg_snd_Sasuke_Hebi_T, 0)
    call SetSoundVolume(gg_snd_Sasuke_Hebi_T, 127)
    call SetSoundPitch(gg_snd_Sasuke_Hebi_T, 1.0)
    set gg_snd_Sasuke_Q=CreateSound("Sounds/Abilities/Sasuke_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasuke_Q, 4754)
    call SetSoundChannel(gg_snd_Sasuke_Q, 0)
    call SetSoundVolume(gg_snd_Sasuke_Q, 127)
    call SetSoundPitch(gg_snd_Sasuke_Q, 1.0)
    set gg_snd_Sasuke_R_Amaterasu=CreateSound("Sounds/Abilities/Sasuke_R_Amaterasu.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasuke_R_Amaterasu, 3500)
    call SetSoundChannel(gg_snd_Sasuke_R_Amaterasu, 0)
    call SetSoundVolume(gg_snd_Sasuke_R_Amaterasu, 127)
    call SetSoundPitch(gg_snd_Sasuke_R_Amaterasu, 1.0)
    set gg_snd_Sasuke_Rikudou_T2_Susanoo=CreateSound("Sounds/Abilities/Sasuke_Rikudou_T2_Susanoo.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasuke_Rikudou_T2_Susanoo, 2220)
    call SetSoundChannel(gg_snd_Sasuke_Rikudou_T2_Susanoo, 0)
    call SetSoundVolume(gg_snd_Sasuke_Rikudou_T2_Susanoo, 127)
    call SetSoundPitch(gg_snd_Sasuke_Rikudou_T2_Susanoo, 1.0)
    set gg_snd_Sasuke_Rikudou_T_Chibaku=CreateSound("Sounds/Abilities/Sasuke_Rikudou_T_Chibaku.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Sasuke_Rikudou_T_Chibaku, 1515)
    call SetSoundChannel(gg_snd_Sasuke_Rikudou_T_Chibaku, 0)
    call SetSoundVolume(gg_snd_Sasuke_Rikudou_T_Chibaku, 127)
    call SetSoundPitch(gg_snd_Sasuke_Rikudou_T_Chibaku, 1.0)
    set gg_snd_Shikamaru_Kill=CreateSound("Sounds/Kills/Shikamaru_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shikamaru_Kill, 3526)
    call SetSoundChannel(gg_snd_Shikamaru_Kill, 0)
    call SetSoundVolume(gg_snd_Shikamaru_Kill, 127)
    call SetSoundPitch(gg_snd_Shikamaru_Kill, 1.0)
    set gg_snd_Shikamaru_Q=CreateSound("Sounds/Abilities/Shikamaru_Q.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shikamaru_Q, 3343)
    call SetSoundChannel(gg_snd_Shikamaru_Q, 0)
    call SetSoundVolume(gg_snd_Shikamaru_Q, 127)
    call SetSoundPitch(gg_snd_Shikamaru_Q, 1.0)
    set gg_snd_Shikamaru_R=CreateSound("Sounds/Abilities/Shikamaru_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shikamaru_R, 5120)
    call SetSoundChannel(gg_snd_Shikamaru_R, 0)
    call SetSoundVolume(gg_snd_Shikamaru_R, 127)
    call SetSoundPitch(gg_snd_Shikamaru_R, 1.0)
    set gg_snd_Shikamaru_T2_Emnaku=CreateSound("Sounds/Abilities/Shikamaru_T2_Emnaku.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shikamaru_T2_Emnaku, 3813)
    call SetSoundChannel(gg_snd_Shikamaru_T2_Emnaku, 0)
    call SetSoundVolume(gg_snd_Shikamaru_T2_Emnaku, 127)
    call SetSoundPitch(gg_snd_Shikamaru_T2_Emnaku, 1.0)
    set gg_snd_Shikamaru_T_Kagemane=CreateSound("Sounds/Abilities/Shikamaru_T_Kagemane.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shikamaru_T_Kagemane, 2612)
    call SetSoundChannel(gg_snd_Shikamaru_T_Kagemane, 0)
    call SetSoundVolume(gg_snd_Shikamaru_T_Kagemane, 127)
    call SetSoundPitch(gg_snd_Shikamaru_T_Kagemane, 1.0)
    set gg_snd_Shino_Kill=CreateSound("Sounds/Kills/Shino_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shino_Kill, 2533)
    call SetSoundChannel(gg_snd_Shino_Kill, 0)
    call SetSoundVolume(gg_snd_Shino_Kill, 127)
    call SetSoundPitch(gg_snd_Shino_Kill, 1.0)
    set gg_snd_Shino_R=CreateSound("Sounds/Abilities/Shino_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shino_R, 3108)
    call SetSoundChannel(gg_snd_Shino_R, 0)
    call SetSoundVolume(gg_snd_Shino_R, 127)
    call SetSoundPitch(gg_snd_Shino_R, 1.0)
    set gg_snd_Shino_T_Mushikui=CreateSound("Sounds/Abilities/Shino_T_Mushikui.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shino_T_Mushikui, 7340)
    call SetSoundChannel(gg_snd_Shino_T_Mushikui, 0)
    call SetSoundVolume(gg_snd_Shino_T_Mushikui, 127)
    call SetSoundPitch(gg_snd_Shino_T_Mushikui, 1.0)
    set gg_snd_Shisui_Kill=CreateSound("Sounds/Kills/Shisui_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shisui_Kill, 6191)
    call SetSoundChannel(gg_snd_Shisui_Kill, 0)
    call SetSoundVolume(gg_snd_Shisui_Kill, 127)
    call SetSoundPitch(gg_snd_Shisui_Kill, 1.0)
    set gg_snd_Shisui_R=CreateSound("Sounds/Abilities/Shisui_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shisui_R, 2925)
    call SetSoundChannel(gg_snd_Shisui_R, 0)
    call SetSoundVolume(gg_snd_Shisui_R, 127)
    call SetSoundPitch(gg_snd_Shisui_R, 1.0)
    set gg_snd_Shisui_T=CreateSound("Sounds/Abilities/Shisui_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shisui_T, 3186)
    call SetSoundChannel(gg_snd_Shisui_T, 0)
    call SetSoundVolume(gg_snd_Shisui_T, 127)
    call SetSoundPitch(gg_snd_Shisui_T, 1.0)
    set gg_snd_Shizune_R=CreateSound("Sounds/Abilities/Shizune_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shizune_R, 1175)
    call SetSoundChannel(gg_snd_Shizune_R, 0)
    call SetSoundVolume(gg_snd_Shizune_R, 127)
    call SetSoundPitch(gg_snd_Shizune_R, 1.0)
    set gg_snd_Shizune_T=CreateSound("Sounds/Abilities/Shizune_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Shizune_T, 574)
    call SetSoundChannel(gg_snd_Shizune_T, 0)
    call SetSoundVolume(gg_snd_Shizune_T, 127)
    call SetSoundPitch(gg_snd_Shizune_T, 1.0)
    set gg_snd_StrongDrinkMissile1=CreateSound("Abilities/Spells/Other/StrongDrink/StrongDrinkMissile1.flac", false, true, true, 1, 1, "SpellsEAX")
    call SetSoundParamsFromLabel(gg_snd_StrongDrinkMissile1, "StrongDrinkMissile")
    call SetSoundDuration(gg_snd_StrongDrinkMissile1, 732)
    call SetSoundVolume(gg_snd_StrongDrinkMissile1, 127)
    call SetSoundDistances(gg_snd_StrongDrinkMissile1, 0.0, 10000.0)
    call SetSoundDistanceCutoff(gg_snd_StrongDrinkMissile1, 2500.0)
    set gg_snd_Suigetsu_Kill=CreateSound("Sounds/Kills/Suigetsu_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Suigetsu_Kill, 4231)
    call SetSoundChannel(gg_snd_Suigetsu_Kill, 0)
    call SetSoundVolume(gg_snd_Suigetsu_Kill, 127)
    call SetSoundPitch(gg_snd_Suigetsu_Kill, 1.0)
    set gg_snd_Suigetsu_R=CreateSound("Sounds/Abilities/Suigetsu_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Suigetsu_R, 1724)
    call SetSoundChannel(gg_snd_Suigetsu_R, 0)
    call SetSoundVolume(gg_snd_Suigetsu_R, 127)
    call SetSoundPitch(gg_snd_Suigetsu_R, 1.0)
    set gg_snd_Suigetsu_T2_Bubble=CreateSound("Sounds/Abilities/Suigetsu_T2_Bubble.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Suigetsu_T2_Bubble, 2168)
    call SetSoundChannel(gg_snd_Suigetsu_T2_Bubble, 0)
    call SetSoundVolume(gg_snd_Suigetsu_T2_Bubble, 127)
    call SetSoundPitch(gg_snd_Suigetsu_T2_Bubble, 1.0)
    set gg_snd_Suigetsu_T_Wave=CreateSound("Sounds/Abilities/Suigetsu_T_Wave.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Suigetsu_T_Wave, 1332)
    call SetSoundChannel(gg_snd_Suigetsu_T_Wave, 0)
    call SetSoundVolume(gg_snd_Suigetsu_T_Wave, 127)
    call SetSoundPitch(gg_snd_Suigetsu_T_Wave, 1.0)
    set gg_snd_Temari_Kill=CreateSound("Sounds/Kills/Temari_Kill.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Temari_Kill, 4754)
    call SetSoundChannel(gg_snd_Temari_Kill, 0)
    call SetSoundVolume(gg_snd_Temari_Kill, 127)
    call SetSoundPitch(gg_snd_Temari_Kill, 1.0)
    set gg_snd_Temari_R=CreateSound("Sounds/Abilities/Temari_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Temari_R, 2011)
    call SetSoundChannel(gg_snd_Temari_R, 0)
    call SetSoundVolume(gg_snd_Temari_R, 127)
    call SetSoundPitch(gg_snd_Temari_R, 1.0)
    set gg_snd_Temari_T=CreateSound("Sounds/Abilities/Temari_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Temari_T, 1593)
    call SetSoundChannel(gg_snd_Temari_T, 0)
    call SetSoundVolume(gg_snd_Temari_T, 127)
    call SetSoundPitch(gg_snd_Temari_T, 1.0)
    set gg_snd_Tenten_Kill=CreateSound("Sounds/Kills/Tenten_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tenten_Kill, 3918)
    call SetSoundChannel(gg_snd_Tenten_Kill, 0)
    call SetSoundVolume(gg_snd_Tenten_Kill, 127)
    call SetSoundPitch(gg_snd_Tenten_Kill, 1.0)
    set gg_snd_Tenten_T=CreateSound("Sounds/Abilities/Tenten_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tenten_T, 5120)
    call SetSoundChannel(gg_snd_Tenten_T, 0)
    call SetSoundVolume(gg_snd_Tenten_T, 127)
    call SetSoundPitch(gg_snd_Tenten_T, 1.0)
    set gg_snd_Tobi_Kill=CreateSound("Sounds/Kills/Tobi_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tobi_Kill, 5433)
    call SetSoundChannel(gg_snd_Tobi_Kill, 0)
    call SetSoundVolume(gg_snd_Tobi_Kill, 127)
    call SetSoundPitch(gg_snd_Tobi_Kill, 1.0)
    set gg_snd_Tobi_R=CreateSound("Sounds/Abilities/Tobi_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tobi_R, 2063)
    call SetSoundChannel(gg_snd_Tobi_R, 0)
    call SetSoundVolume(gg_snd_Tobi_R, 127)
    call SetSoundPitch(gg_snd_Tobi_R, 1.0)
    set gg_snd_Tobirama_Kill=CreateSound("Sounds/Kills/Tobirama_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tobirama_Kill, 3918)
    call SetSoundChannel(gg_snd_Tobirama_Kill, 0)
    call SetSoundVolume(gg_snd_Tobirama_Kill, 127)
    call SetSoundPitch(gg_snd_Tobirama_Kill, 1.0)
    set gg_snd_Tobirama_R=CreateSound("Sounds/Abilities/Tobirama_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tobirama_R, 2481)
    call SetSoundChannel(gg_snd_Tobirama_R, 0)
    call SetSoundVolume(gg_snd_Tobirama_R, 127)
    call SetSoundPitch(gg_snd_Tobirama_R, 1.0)
    set gg_snd_Tobirama_T2_Suiton=CreateSound("Sounds/Abilities/Tobirama_T2_Suiton.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tobirama_T2_Suiton, 3343)
    call SetSoundChannel(gg_snd_Tobirama_T2_Suiton, 0)
    call SetSoundVolume(gg_snd_Tobirama_T2_Suiton, 127)
    call SetSoundPitch(gg_snd_Tobirama_T2_Suiton, 1.0)
    set gg_snd_Tobirama_T_Gojou=CreateSound("Sounds/Abilities/Tobirama_T_Gojou.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tobirama_T_Gojou, 1959)
    call SetSoundChannel(gg_snd_Tobirama_T_Gojou, 0)
    call SetSoundVolume(gg_snd_Tobirama_T_Gojou, 127)
    call SetSoundPitch(gg_snd_Tobirama_T_Gojou, 1.0)
    set gg_snd_Torune_R=CreateSound("Sounds/Abilities/Torune_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Torune_R, 1227)
    call SetSoundChannel(gg_snd_Torune_R, 0)
    call SetSoundVolume(gg_snd_Torune_R, 127)
    call SetSoundPitch(gg_snd_Torune_R, 1.0)
    set gg_snd_Torune_T=CreateSound("Sounds/Abilities/Torune_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Torune_T, 1227)
    call SetSoundChannel(gg_snd_Torune_T, 0)
    call SetSoundVolume(gg_snd_Torune_T, 127)
    call SetSoundPitch(gg_snd_Torune_T, 1.0)
    set gg_snd_Tsunade_Kill=CreateSound("Sounds/Kills/Tsunade_Kill.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tsunade_Kill, 3918)
    call SetSoundChannel(gg_snd_Tsunade_Kill, 0)
    call SetSoundVolume(gg_snd_Tsunade_Kill, 127)
    call SetSoundPitch(gg_snd_Tsunade_Kill, 1.0)
    set gg_snd_Tsunade_R=CreateSound("Sounds/Abilities/Tsunade_R.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tsunade_R, 1253)
    call SetSoundChannel(gg_snd_Tsunade_R, 0)
    call SetSoundVolume(gg_snd_Tsunade_R, 127)
    call SetSoundPitch(gg_snd_Tsunade_R, 1.0)
    set gg_snd_Tsunade_T=CreateSound("Sounds/Abilities/Tsunade_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Tsunade_T, 1906)
    call SetSoundChannel(gg_snd_Tsunade_T, 0)
    call SetSoundVolume(gg_snd_Tsunade_T, 127)
    call SetSoundPitch(gg_snd_Tsunade_T, 1.0)
    set gg_snd_Utakata_Kill=CreateSound("Sounds/Kills/Utakata_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Utakata_Kill, 3500)
    call SetSoundChannel(gg_snd_Utakata_Kill, 0)
    call SetSoundVolume(gg_snd_Utakata_Kill, 127)
    call SetSoundPitch(gg_snd_Utakata_Kill, 1.0)
    set gg_snd_Utakata_R=CreateSound("Sounds/Abilities/Utakata_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Utakata_R, 2638)
    call SetSoundChannel(gg_snd_Utakata_R, 0)
    call SetSoundVolume(gg_snd_Utakata_R, 127)
    call SetSoundPitch(gg_snd_Utakata_R, 1.0)
    set gg_snd_Utakata_T=CreateSound("Sounds/Abilities/Utakata_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Utakata_T, 2063)
    call SetSoundChannel(gg_snd_Utakata_T, 0)
    call SetSoundVolume(gg_snd_Utakata_T, 127)
    call SetSoundPitch(gg_snd_Utakata_T, 1.0)
    set gg_snd_Yagura_Kill=CreateSound("Sounds/Kills/Yagura_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yagura_Kill, 3291)
    call SetSoundChannel(gg_snd_Yagura_Kill, 0)
    call SetSoundVolume(gg_snd_Yagura_Kill, 127)
    call SetSoundPitch(gg_snd_Yagura_Kill, 1.0)
    set gg_snd_Yagura_R=CreateSound("Sounds/Abilities/Yagura_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yagura_R, 940)
    call SetSoundChannel(gg_snd_Yagura_R, 0)
    call SetSoundVolume(gg_snd_Yagura_R, 127)
    call SetSoundPitch(gg_snd_Yagura_R, 1.0)
    set gg_snd_Yagura_T=CreateSound("Sounds/Abilities/Yagura_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yagura_T, 2481)
    call SetSoundChannel(gg_snd_Yagura_T, 0)
    call SetSoundVolume(gg_snd_Yagura_T, 127)
    call SetSoundPitch(gg_snd_Yagura_T, 1.0)
    set gg_snd_Yamato_D=CreateSound("Sounds/Abilities/Yamato_D.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yamato_D, 1410)
    call SetSoundChannel(gg_snd_Yamato_D, 0)
    call SetSoundVolume(gg_snd_Yamato_D, 127)
    call SetSoundPitch(gg_snd_Yamato_D, 1.0)
    set gg_snd_Yamato_Kill=CreateSound("Sounds/Kills/Yamato_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yamato_Kill, 4571)
    call SetSoundChannel(gg_snd_Yamato_Kill, 0)
    call SetSoundVolume(gg_snd_Yamato_Kill, 127)
    call SetSoundPitch(gg_snd_Yamato_Kill, 1.0)
    set gg_snd_Yamato_T=CreateSound("Sounds/Abilities/Yamato_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yamato_T, 783)
    call SetSoundChannel(gg_snd_Yamato_T, 0)
    call SetSoundVolume(gg_snd_Yamato_T, 127)
    call SetSoundPitch(gg_snd_Yamato_T, 1.0)
    set gg_snd_Young_Kabuto_Kill=CreateSound("Sounds/Kills/Young_Kabuto_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Young_Kabuto_Kill, 3343)
    call SetSoundChannel(gg_snd_Young_Kabuto_Kill, 0)
    call SetSoundVolume(gg_snd_Young_Kabuto_Kill, 127)
    call SetSoundPitch(gg_snd_Young_Kabuto_Kill, 1.0)
    set gg_snd_Yugito_Kill=CreateSound("Sounds/Kills/Yugito_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yugito_Kill, 3683)
    call SetSoundChannel(gg_snd_Yugito_Kill, 0)
    call SetSoundVolume(gg_snd_Yugito_Kill, 127)
    call SetSoundPitch(gg_snd_Yugito_Kill, 1.0)
    set gg_snd_Yugito_T=CreateSound("Sounds/Abilities/Yugito_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Yugito_T, 2063)
    call SetSoundChannel(gg_snd_Yugito_T, 0)
    call SetSoundVolume(gg_snd_Yugito_T, 127)
    call SetSoundPitch(gg_snd_Yugito_T, 1.0)
    set gg_snd_Zabuza_Kill=CreateSound("Sounds/Kills/Zabuza_Kill.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Zabuza_Kill, 5720)
    call SetSoundChannel(gg_snd_Zabuza_Kill, 0)
    call SetSoundVolume(gg_snd_Zabuza_Kill, 127)
    call SetSoundPitch(gg_snd_Zabuza_Kill, 1.0)
    set gg_snd_Zabuza_R=CreateSound("Sounds/Abilities/Zabuza_R.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Zabuza_R, 3108)
    call SetSoundChannel(gg_snd_Zabuza_R, 0)
    call SetSoundVolume(gg_snd_Zabuza_R, 127)
    call SetSoundPitch(gg_snd_Zabuza_R, 1.0)
    set gg_snd_Zabuza_T=CreateSound("Sounds/Abilities/Zabuza_T.mp3", false, false, false, 0, 0, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Zabuza_T, 1488)
    call SetSoundChannel(gg_snd_Zabuza_T, 0)
    call SetSoundVolume(gg_snd_Zabuza_T, 127)
    call SetSoundPitch(gg_snd_Zabuza_T, 1.0)
    set gg_snd_Asuma_R=CreateSound("Sounds/Abilities/Asuma_R.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Asuma_R, 2063)
    call SetSoundChannel(gg_snd_Asuma_R, 0)
    call SetSoundVolume(gg_snd_Asuma_R, 127)
    call SetSoundPitch(gg_snd_Asuma_R, 1.0)
    set gg_snd_Asuma_T_Hien=CreateSound("Sounds/Abilities/Asuma_T_Hien.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Asuma_T_Hien, 2115)
    call SetSoundChannel(gg_snd_Asuma_T_Hien, 0)
    call SetSoundVolume(gg_snd_Asuma_T_Hien, 127)
    call SetSoundPitch(gg_snd_Asuma_T_Hien, 1.0)
    set gg_snd_Asuma_T2_Katon=CreateSound("Sounds/Abilities/Asuma_T2_Katon.mp3", false, false, false, 1, 1, "DefaultEAXON")
    call SetSoundDuration(gg_snd_Asuma_T2_Katon, 1541)
    call SetSoundChannel(gg_snd_Asuma_T2_Katon, 0)
    call SetSoundVolume(gg_snd_Asuma_T2_Katon, 127)
    call SetSoundPitch(gg_snd_Asuma_T2_Katon, 1.0)
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateBuildingsForPlayer0 takes nothing returns nothing
    local player p= Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0017=BlzCreateUnitWithSkin(p, 'ncop', - 6016.0, 1216.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer1 takes nothing returns nothing
    local player p= Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0018=BlzCreateUnitWithSkin(p, 'ncop', - 5888.0, 1280.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer2 takes nothing returns nothing
    local player p= Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0019=BlzCreateUnitWithSkin(p, 'ncop', - 5760.0, 1344.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer3 takes nothing returns nothing
    local player p= Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'hgtw', - 3365.8, - 203.9, 270.000, 'hgtw')
    set u=BlzCreateUnitWithSkin(p, 'hgtw', - 3499.8, - 799.7, 270.000, 'hgtw')
    set u=BlzCreateUnitWithSkin(p, 'hgtw', - 3995.5, - 1382.3, 270.000, 'hgtw')
    set u=BlzCreateUnitWithSkin(p, 'hgtw', - 3381.5, 1048.5, 270.000, 'hgtw')
    set u=BlzCreateUnitWithSkin(p, 'hgtw', - 3358.9, 282.1, 270.000, 'hgtw')
    set u=BlzCreateUnitWithSkin(p, 'hgtw', - 3174.1, 2239.0, 270.000, 'hgtw')
    set u=BlzCreateUnitWithSkin(p, 'hgtw', - 3671.7, 2768.9, 270.000, 'hgtw')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 3968.0, 1024.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4160.0, 384.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4736.0, 384.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4288.0, 1472.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4736.0, 1024.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4352.0, 2304.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4352.0, - 128.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 5632.0, 1216.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 5760.0, 512.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 5312.0, 256.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4864.0, - 320.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4544.0, - 768.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 5184.0, 1536.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 4800.0, 1856.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'negt', - 3776.0, 0.0, 270.000, 'negt')
    set u=BlzCreateUnitWithSkin(p, 'n02L', - 5444.8, 1472.0, 359.553, 'n02L')
    set gg_unit_h02M_0124=BlzCreateUnitWithSkin(p, 'h02M', - 3904.0, 1792.0, 270.000, 'h02M')
    set gg_unit_h02M_0125=BlzCreateUnitWithSkin(p, 'h02M', - 3968.0, - 320.0, 270.000, 'h02M')
    set u=BlzCreateUnitWithSkin(p, 'ngme', - 4672.9, 2186.2, 311.071, 'ngme')
    set gg_unit_hgra_0168=BlzCreateUnitWithSkin(p, 'hgra', - 6039.1, 286.8, 89.950, 'hgra')
    set gg_unit_hbla_0169=BlzCreateUnitWithSkin(p, 'hbla', - 6239.6, 410.1, 88.831, 'hbla')
    set u=BlzCreateUnitWithSkin(p, 'halt', - 5875.4, 121.7, 44.153, 'halt')
    set u=BlzCreateUnitWithSkin(p, 'hbar', - 5659.8, - 75.8, 43.724, 'hbar')
    set u=BlzCreateUnitWithSkin(p, 'h005', - 5269.7, - 460.9, 270.000, 'h005')
    set u=BlzCreateUnitWithSkin(p, 'hvlt', - 5444.5, - 242.8, 270.000, 'hvlt')
    set u=BlzCreateUnitWithSkin(p, 'hlum', - 5060.1, - 700.1, 45.499, 'hlum')
    set u=BlzCreateUnitWithSkin(p, 'harm', - 4845.2, - 898.7, 45.929, 'harm')
    set u=BlzCreateUnitWithSkin(p, 'nfoh', - 6048.0, 832.0, 358.449, 'nfoh')
    set gg_unit_hcas_0193=BlzCreateUnitWithSkin(p, 'hcas', - 5312.0, 832.0, 270.000, 'hcas')
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p= Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'espv', - 3834.1, 951.0, 340.210, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4012.2, 311.6, 57.030, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4222.2, 2359.9, 24.240, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', - 3678.2, 1844.5, 88.390, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4406.7, - 848.6, 24.240, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4257.2, - 256.5, 284.410, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4598.7, 951.0, 307.824, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4589.0, 368.9, 60.052, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', - 5501.8, 258.6, 68.448, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', - 5040.0, 1565.4, 356.778, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', - 5004.6, - 219.9, 48.267, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4647.7, 1915.4, 19.210, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', - 4157.2, 1544.5, 131.060, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', - 5510.1, 1250.6, 22.016, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'hfoo', 279.3, 302.5, 48.070, 'hfoo')
    set u=BlzCreateUnitWithSkin(p, 'hfoo', 140.2, 116.3, 49.790, 'hfoo')
    set u=BlzCreateUnitWithSkin(p, 'hfoo', 350.1, 707.1, 346.948, 'hfoo')
    set u=BlzCreateUnitWithSkin(p, 'hfoo', 194.1, 870.4, 331.143, 'hfoo')
    set u=BlzCreateUnitWithSkin(p, 'e017', 46.1, 706.9, 354.151, 'e017')
    set u=BlzCreateUnitWithSkin(p, 'e017', 41.6, 484.0, 16.871, 'e017')
    set u=BlzCreateUnitWithSkin(p, 'e017', 30.3, 303.6, 31.720, 'e017')
endfunction

//===========================================================================
function CreateBuildingsForPlayer4 takes nothing returns nothing
    local player p= Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0020=BlzCreateUnitWithSkin(p, 'ncop', 4032.0, 6656.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer5 takes nothing returns nothing
    local player p= Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0021=BlzCreateUnitWithSkin(p, 'ncop', 3904.0, 6656.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer6 takes nothing returns nothing
    local player p= Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0022=BlzCreateUnitWithSkin(p, 'ncop', 3776.0, 6656.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer7 takes nothing returns nothing
    local player p= Player(7)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'ntt1', 2880.0, 4096.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 3648.0, 4416.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 4416.0, 4096.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 4224.0, 4992.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 3584.0, 5120.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 3072.0, 4800.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 3904.0, 5568.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 4224.0, 5952.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 3520.0, 6464.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 2944.0, 6528.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 3008.0, 5888.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 2240.0, 6080.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 2048.0, 4672.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 2432.0, 5312.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'ntt1', 1408.0, 5696.0, 270.000, 'ntt1')
    set u=BlzCreateUnitWithSkin(p, 'uzg1', 4384.0, 3360.0, 341.292, 'uzg1')
    set u=BlzCreateUnitWithSkin(p, 'uzg1', 3616.0, 3360.0, 131.291, 'uzg1')
    set u=BlzCreateUnitWithSkin(p, 'uzg1', 2528.0, 3168.0, 332.175, 'uzg1')
    set u=BlzCreateUnitWithSkin(p, 'uzg1', 1952.0, 3680.0, 117.746, 'uzg1')
    set u=BlzCreateUnitWithSkin(p, 'uzg1', 1632.0, 4256.0, 270.000, 'uzg1')
    set u=BlzCreateUnitWithSkin(p, 'uzg1', 992.0, 4576.0, 339.836, 'uzg1')
    set u=BlzCreateUnitWithSkin(p, 'uzg1', 544.0, 5152.0, 73.735, 'uzg1')
    set u=BlzCreateUnitWithSkin(p, 'n02L', 3241.1, 6568.8, 297.668, 'n02L')
    set gg_unit_htow_0126=BlzCreateUnitWithSkin(p, 'htow', 1490.9, 4696.5, 154.596, 'htow')
    set gg_unit_htow_0127=BlzCreateUnitWithSkin(p, 'htow', 3591.7, 4206.3, 311.243, 'htow')
    set u=BlzCreateUnitWithSkin(p, 'ngme', 2495.1, 6410.2, 307.420, 'ngme')
    set gg_unit_hgra_0166=BlzCreateUnitWithSkin(p, 'hgra', 4392.9, 5982.8, 224.053, 'hgra')
    set gg_unit_hbla_0170=BlzCreateUnitWithSkin(p, 'hbla', 4384.4, 6234.1, 224.587, 'hbla')
    set u=BlzCreateUnitWithSkin(p, 'halt', 4428.6, 5753.7, 178.472, 'halt')
    set u=BlzCreateUnitWithSkin(p, 'hbar', 4388.2, 5492.2, 179.700, 'hbar')
    set u=BlzCreateUnitWithSkin(p, 'h005', 4394.3, 4915.1, 270.000, 'h005')
    set u=BlzCreateUnitWithSkin(p, 'hvlt', 4411.5, 5197.2, 270.000, 'hvlt')
    set u=BlzCreateUnitWithSkin(p, 'hlum', 4347.9, 4611.9, 178.976, 'hlum')
    set u=BlzCreateUnitWithSkin(p, 'harm', 4370.8, 4285.3, 179.234, 'harm')
    set u=BlzCreateUnitWithSkin(p, 'nfoh', 4288.0, 6528.0, 223.502, 'nfoh')
    set gg_unit_h00E_0194=BlzCreateUnitWithSkin(p, 'h00E', 3648.0, 6016.0, 246.552, 'h00E')
endfunction

//===========================================================================
function CreateUnitsForPlayer7 takes nothing returns nothing
    local player p= Player(7)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'espv', 4384.5, 3924.8, 249.690, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 3764.5, 4340.6, 284.170, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 2887.7, 3938.8, 220.680, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 2148.0, 4258.9, 297.940, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 1141.3, 5588.0, 231.800, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 1799.2, 4787.5, 169.837, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 3330.3, 6374.7, 294.076, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 4171.8, 5788.6, 188.346, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 3842.7, 5419.4, 223.866, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 3193.8, 5889.8, 278.837, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 2970.9, 4681.6, 276.476, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 2395.2, 6192.3, 254.355, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 2624.6, 5369.8, 248.197, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 4260.1, 4861.7, 252.072, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'earc', 763.4, 1086.6, 262.738, 'earc')
    set u=BlzCreateUnitWithSkin(p, 'earc', 925.2, 956.2, 243.190, 'earc')
    set u=BlzCreateUnitWithSkin(p, 'earc', 1109.0, 854.2, 221.236, 'earc')
    set u=BlzCreateUnitWithSkin(p, 'h01B', 638.9, 853.3, 277.359, 'h01B')
    set u=BlzCreateUnitWithSkin(p, 'h01B', 546.6, 1105.2, 282.703, 'h01B')
    set u=BlzCreateUnitWithSkin(p, 'h01B', 1009.2, 610.9, 201.480, 'h01B')
    set u=BlzCreateUnitWithSkin(p, 'h01B', 1263.9, 669.8, 197.846, 'h01B')
endfunction

//===========================================================================
function CreateBuildingsForPlayer8 takes nothing returns nothing
    local player p= Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0023=BlzCreateUnitWithSkin(p, 'ncop', 3072.0, - 6528.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer9 takes nothing returns nothing
    local player p= Player(9)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0024=BlzCreateUnitWithSkin(p, 'ncop', 2944.0, - 6528.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer10 takes nothing returns nothing
    local player p= Player(10)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_ncop_0025=BlzCreateUnitWithSkin(p, 'ncop', 2816.0, - 6528.0, 270.000, 'ncop')
endfunction

//===========================================================================
function CreateBuildingsForPlayer11 takes nothing returns nothing
    local player p= Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'ndgt', 1472.0, - 4480.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 960.0, - 4992.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 2688.0, - 6336.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 1664.0, - 5376.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 2240.0, - 5888.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 3456.0, - 6016.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 3520.0, - 5056.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 3008.0, - 5248.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 2432.0, - 5120.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 2176.0, - 4544.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 3648.0, - 4096.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 2944.0, - 4416.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 2752.0, - 3776.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 3136.0, - 3264.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'ndgt', 3968.0, - 3264.0, 270.000, 'ndgt')
    set u=BlzCreateUnitWithSkin(p, 'hatw', 960.0, - 4096.0, 270.000, 'hatw')
    set u=BlzCreateUnitWithSkin(p, 'hatw', 512.0, - 4608.0, 270.000, 'hatw')
    set u=BlzCreateUnitWithSkin(p, 'hatw', 1664.0, - 3264.0, 270.000, 'hatw')
    set u=BlzCreateUnitWithSkin(p, 'hatw', 2816.0, - 3392.0, 270.000, 'hatw')
    set u=BlzCreateUnitWithSkin(p, 'hatw', 2240.0, - 2880.0, 270.000, 'hatw')
    set u=BlzCreateUnitWithSkin(p, 'hatw', 4032.0, - 2560.0, 270.000, 'hatw')
    set u=BlzCreateUnitWithSkin(p, 'hatw', 3264.0, - 2560.0, 270.000, 'hatw')
    set gg_unit_h02L_0122=BlzCreateUnitWithSkin(p, 'h02L', 3264.0, - 3648.0, 270.000, 'h02L')
    set gg_unit_h02L_0123=BlzCreateUnitWithSkin(p, 'h02L', 2048.0, - 4928.0, 270.000, 'h02L')
    set u=BlzCreateUnitWithSkin(p, 'ngme', 3711.1, - 4661.8, 179.163, 'ngme')
    set gg_unit_hgra_0167=BlzCreateUnitWithSkin(p, 'hgra', 2216.9, - 6305.2, 89.559, 'hgra')
    set gg_unit_hbla_0171=BlzCreateUnitWithSkin(p, 'hbla', 2400.4, - 6501.9, 89.446, 'hbla')
    set u=BlzCreateUnitWithSkin(p, 'halt', 2060.6, - 6150.3, 45.172, 'halt')
    set u=BlzCreateUnitWithSkin(p, 'hbar', 1892.2, - 5963.8, 45.119, 'hbar')
    set u=BlzCreateUnitWithSkin(p, 'h005', 1514.3, - 5644.9, 270.000, 'h005')
    set u=BlzCreateUnitWithSkin(p, 'hvlt', 1723.5, - 5810.8, 270.000, 'hvlt')
    set u=BlzCreateUnitWithSkin(p, 'hlum', 1339.9, - 5372.1, 44.266, 'hlum')
    set u=BlzCreateUnitWithSkin(p, 'harm', 1106.8, - 5186.7, 44.068, 'harm')
    set u=BlzCreateUnitWithSkin(p, 'nfoh', 3328.0, - 6400.0, 131.523, 'nfoh')
    set gg_unit_h00F_0195=BlzCreateUnitWithSkin(p, 'h00F', 2944.0, - 5824.0, 121.874, 'h00F')
    set u=BlzCreateUnitWithSkin(p, 'n02L', 3496.7, - 5547.2, 229.986, 'n02L')
endfunction

//===========================================================================
function CreateUnitsForPlayer11 takes nothing returns nothing
    local player p= Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'espv', 1551.6, - 4710.7, 40.050, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 824.1, - 4794.7, 179.320, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 2111.9, - 4035.8, 315.930, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 2508.9, - 3618.1, 330.820, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 3307.3, - 3180.8, 291.770, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 3843.3, - 3469.3, 214.050, 'espv')
    call SetUnitAcquireRange(u, 200.0)
    set u=BlzCreateUnitWithSkin(p, 'espv', 3517.6, - 4231.3, 329.908, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 2965.6, - 4626.3, 161.570, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 3474.1, - 5255.8, 322.340, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 2486.3, - 5506.4, 148.920, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 3445.2, - 5804.0, 88.710, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'espv', 2439.8, - 6035.9, 282.830, 'espv')
    set u=BlzCreateUnitWithSkin(p, 'e018', 1031.9, - 37.6, 131.262, 'e018')
    set u=BlzCreateUnitWithSkin(p, 'e018', 817.5, - 46.6, 109.079, 'e018')
    set u=BlzCreateUnitWithSkin(p, 'e018', 634.0, - 142.2, 85.695, 'e018')
    set u=BlzCreateUnitWithSkin(p, 'h026', 435.2, - 27.2, 59.238, 'h026')
    set u=BlzCreateUnitWithSkin(p, 'h026', 628.6, 110.9, 80.403, 'h026')
    set u=BlzCreateUnitWithSkin(p, 'h026', 1175.8, 151.6, 156.360, 'h026')
    set u=BlzCreateUnitWithSkin(p, 'h026', 922.2, 162.4, 139.985, 'h026')
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_H0A9_0068=BlzCreateUnitWithSkin(p, 'H0A9', - 5665.5, - 8312.9, 191.870, 'H0A9')
    call SetHeroLevel(gg_unit_H0A9_0068, 50, false)
    call SetUnitState(gg_unit_H0A9_0068, UNIT_STATE_MANA, 13)
    call IssueImmediateOrder(gg_unit_H0A9_0068, "")
    set gg_unit_H09A_0076=BlzCreateUnitWithSkin(p, 'H09A', 6922.1, 291.2, 262.960, 'H09A')
    call SetHeroStr(gg_unit_H09A_0076, 69, true)
    call SetHeroAgi(gg_unit_H09A_0076, 68, true)
    call SetHeroInt(gg_unit_H09A_0076, 86, true)
    call IssueImmediateOrder(gg_unit_H09A_0076, "")
    call UnitAddItemToSlotById(gg_unit_H09A_0076, 'I01V', 0)
    call UnitAddItemToSlotById(gg_unit_H09A_0076, 'pomn', 1)
    set gg_unit_U00R_0077=BlzCreateUnitWithSkin(p, 'U00R', 6676.4, 10.0, 284.390, 'U00R')
    call SetHeroStr(gg_unit_U00R_0077, 64, true)
    call SetHeroAgi(gg_unit_U00R_0077, 74, true)
    call SetHeroInt(gg_unit_U00R_0077, 83, true)
    call IssueImmediateOrder(gg_unit_U00R_0077, "divineshield")
    call IssueImmediateOrder(gg_unit_U00R_0077, "")
    call UnitAddItemToSlotById(gg_unit_U00R_0077, 'I01V', 0)
    set gg_unit_U00Q_0078=BlzCreateUnitWithSkin(p, 'U00Q', 7167.1, - 14.3, 258.770, 'U00Q')
    call SetHeroStr(gg_unit_U00Q_0078, 58, true)
    call SetHeroAgi(gg_unit_U00Q_0078, 85, true)
    call SetHeroInt(gg_unit_U00Q_0078, 105, true)
    call IssueImmediateOrder(gg_unit_U00Q_0078, "")
    call UnitAddItemToSlotById(gg_unit_U00Q_0078, 'I007', 0)
    call UnitAddItemToSlotById(gg_unit_U00Q_0078, 'I01V', 1)
    set gg_unit_U00S_0079=BlzCreateUnitWithSkin(p, 'U00S', 7941.6, - 7255.4, 186.180, 'U00S')
    call SetHeroStr(gg_unit_U00S_0079, 100, true)
    call SetHeroAgi(gg_unit_U00S_0079, 97, true)
    call SetHeroInt(gg_unit_U00S_0079, 116, true)
    call IssueImmediateOrder(gg_unit_U00S_0079, "")
    call IssueImmediateOrder(gg_unit_U00S_0079, "")
    call IssueImmediateOrder(gg_unit_U00S_0079, "")
    call IssueImmediateOrder(gg_unit_U00S_0079, "")
    call IssueImmediateOrder(gg_unit_U00S_0079, "")
    call IssueImmediateOrder(gg_unit_U00S_0079, "")
    call UnitAddItemToSlotById(gg_unit_U00S_0079, 'rde4', 0)
    call UnitAddItemToSlotById(gg_unit_U00S_0079, 'I01V', 1)
    set gg_unit_N01Q_0080=BlzCreateUnitWithSkin(p, 'N01Q', 7950.1, - 7587.5, 208.010, 'N01Q')
    call SetHeroStr(gg_unit_N01Q_0080, 100, true)
    call SetHeroAgi(gg_unit_N01Q_0080, 113, true)
    call SetHeroInt(gg_unit_N01Q_0080, 126, true)
    call IssueImmediateOrder(gg_unit_N01Q_0080, "")
    call IssueImmediateOrder(gg_unit_N01Q_0080, "")
    call IssueImmediateOrder(gg_unit_N01Q_0080, "")
    call IssueImmediateOrder(gg_unit_N01Q_0080, "")
    call IssueImmediateOrder(gg_unit_N01Q_0080, "")
    call IssueImmediateOrder(gg_unit_N01Q_0080, "")
    call UnitAddItemToSlotById(gg_unit_N01Q_0080, 'rde4', 0)
    call UnitAddItemToSlotById(gg_unit_N01Q_0080, 'I01V', 1)
    set gg_unit_N01R_0081=BlzCreateUnitWithSkin(p, 'N01R', 8429.8, - 4473.1, 92.690, 'N01R')
    call SetHeroStr(gg_unit_N01R_0081, 150, true)
    call SetHeroAgi(gg_unit_N01R_0081, 155, true)
    call SetHeroInt(gg_unit_N01R_0081, 200, true)
    call IssueImmediateOrder(gg_unit_N01R_0081, "")
    call UnitAddItemToSlotById(gg_unit_N01R_0081, 'gcel', 0)
    call UnitAddItemToSlotById(gg_unit_N01R_0081, 'I006', 2)
    call UnitAddItemToSlotById(gg_unit_N01R_0081, 'I038', 3)
    set gg_unit_uabo_0113=BlzCreateUnitWithSkin(p, 'uabo', - 115.6, 2215.8, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0113, 200.0)
    set gg_unit_uabo_0114=BlzCreateUnitWithSkin(p, 'uabo', - 132.3, 1856.5, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0114, 200.0)
    set gg_unit_uabo_0115=BlzCreateUnitWithSkin(p, 'uabo', - 477.0, 2167.6, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0115, 200.0)
    set gg_unit_uabo_0116=BlzCreateUnitWithSkin(p, 'uabo', 14.2, - 1186.2, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0116, 200.0)
    set gg_unit_uabo_0117=BlzCreateUnitWithSkin(p, 'uabo', - 494.9, - 1465.0, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0117, 200.0)
    set gg_unit_uabo_0118=BlzCreateUnitWithSkin(p, 'uabo', - 363.8, - 1140.9, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0118, 200.0)
    set gg_unit_uabo_0119=BlzCreateUnitWithSkin(p, 'uabo', 2120.9, - 484.9, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0119, 200.0)
    set gg_unit_uabo_0120=BlzCreateUnitWithSkin(p, 'uabo', 1998.5, - 184.5, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0120, 200.0)
    set gg_unit_uabo_0121=BlzCreateUnitWithSkin(p, 'uabo', 2221.4, 11.1, 229.050, 'uabo')
    call SetUnitAcquireRange(gg_unit_uabo_0121, 200.0)
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_n008_0031=BlzCreateUnitWithSkin(p, 'n008', - 832.0, 6464.0, 237.044, 'n008')
    set u=BlzCreateUnitWithSkin(p, 'n008', 6080.0, 2048.0, 224.747, 'n008')
    set u=BlzCreateUnitWithSkin(p, 'n008', - 3456.0, - 5184.0, 74.107, 'n008')
    set u=BlzCreateUnitWithSkin(p, 'n000', - 1152.0, 4352.0, 301.150, 'n000')
    set u=BlzCreateUnitWithSkin(p, 'n000', 4160.0, 320.0, 168.497, 'n000')
    set u=BlzCreateUnitWithSkin(p, 'n000', - 1216.0, - 3136.0, 34.437, 'n000')
    set u=BlzCreateUnitWithSkin(p, 'n01I', 7589.6, 5575.7, 241.502, 'n01I')
    set u=BlzCreateUnitWithSkin(p, 'n00A', - 21.4, 2165.0, 323.380, 'n00A')
    set u=BlzCreateUnitWithSkin(p, 'n00A', - 85.4, - 715.0, 311.014, 'n00A')
    set u=BlzCreateUnitWithSkin(p, 'n00A', 1770.6, - 11.0, 39.519, 'n00A')
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p= Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u=BlzCreateUnitWithSkin(p, 'e041', 5074.1, - 6953.8, 139.256, 'e041')
    set u=BlzCreateUnitWithSkin(p, 'e075', - 6046.2, 839.8, 179.225, 'e075')
    set u=BlzCreateUnitWithSkin(p, 'e052', 1086.2, - 5183.0, 41.250, 'e052')
    set u=BlzCreateUnitWithSkin(p, 'e052', - 4816.4, - 905.5, 51.230, 'e052')
    set u=BlzCreateUnitWithSkin(p, 'e052', 4343.4, 4280.8, 177.767, 'e052')
    set u=BlzCreateUnitWithSkin(p, 'e053', 4433.1, 5750.3, 258.769, 'e053')
    set u=BlzCreateUnitWithSkin(p, 'e053', - 5847.5, 141.3, 258.769, 'e053')
    set u=BlzCreateUnitWithSkin(p, 'e053', 2070.0, - 6132.1, 41.656, 'e053')
    set gg_unit_hspt_0202=BlzCreateUnitWithSkin(p, 'hspt', 5346.7, - 6959.8, 280.400, 'hspt')
    call SetUnitState(gg_unit_hspt_0202, UNIT_STATE_MANA, 250)
    set u=BlzCreateUnitWithSkin(p, 'e05I', - 6200.5, 590.1, 356.867, 'e05I')
    set u=BlzCreateUnitWithSkin(p, 'e05J', - 6238.2, 824.9, 341.643, 'e05J')
    set u=BlzCreateUnitWithSkin(p, 'e05K', - 6152.4, 1030.2, 349.798, 'e05K')
    set u=BlzCreateUnitWithSkin(p, 'e05L', - 6181.3, 1193.1, 5.555, 'e05L')
    set u=BlzCreateUnitWithSkin(p, 'e05M', - 5926.2, 1400.6, 331.890, 'e05M')
    set u=BlzCreateUnitWithSkin(p, 'e075', 4285.6, 6542.2, 179.225, 'e075')
    set u=BlzCreateUnitWithSkin(p, 'e05Y', - 6224.6, 425.7, 46.920, 'e05Y')
    set u=BlzCreateUnitWithSkin(p, 'e05Y', 4389.3, 6269.6, 46.920, 'e05Y')
    set u=BlzCreateUnitWithSkin(p, 'e05Y', 2377.4, - 6488.4, 46.920, 'e05Y')
    set u=BlzCreateUnitWithSkin(p, 'e05Z', - 6042.6, 295.3, 249.860, 'e05Z')
    set u=BlzCreateUnitWithSkin(p, 'e05Z', 4385.6, 5986.0, 249.860, 'e05Z')
    set u=BlzCreateUnitWithSkin(p, 'e05Z', 2190.3, - 6287.8, 249.860, 'e05Z')
    set u=BlzCreateUnitWithSkin(p, 'e060', - 5865.6, 120.6, 100.836, 'e060')
    set u=BlzCreateUnitWithSkin(p, 'e060', 4393.4, 5781.4, 330.512, 'e060')
    set u=BlzCreateUnitWithSkin(p, 'e060', 2071.0, - 6136.6, 265.130, 'e060')
    set u=BlzCreateUnitWithSkin(p, 'e061', - 5626.9, - 56.1, 306.044, 'e061')
    set u=BlzCreateUnitWithSkin(p, 'e061', 1887.3, - 5971.0, 5.296, 'e061')
    set u=BlzCreateUnitWithSkin(p, 'e061', 4399.8, 5545.2, 57.658, 'e061')
    set u=BlzCreateUnitWithSkin(p, 'e062', - 5465.4, - 252.6, 107.713, 'e062')
    set u=BlzCreateUnitWithSkin(p, 'e062', 4390.2, 5192.4, 53.824, 'e062')
    set u=BlzCreateUnitWithSkin(p, 'e062', 1708.5, - 5810.2, 268.756, 'e062')
    set u=BlzCreateUnitWithSkin(p, 'e063', - 5260.7, - 455.0, 163.558, 'e063')
    set u=BlzCreateUnitWithSkin(p, 'e063', 4392.9, 4930.6, 327.897, 'e063')
    set u=BlzCreateUnitWithSkin(p, 'e063', 1504.7, - 5615.8, 198.968, 'e063')
    set u=BlzCreateUnitWithSkin(p, 'e064', - 5030.9, - 664.7, 2.659, 'e064')
    set u=BlzCreateUnitWithSkin(p, 'e064', 1304.0, - 5357.6, 29.499, 'e064')
    set u=BlzCreateUnitWithSkin(p, 'e064', 4346.7, 4639.5, 49.308, 'e064')
    set u=BlzCreateUnitWithSkin(p, 'e065', 4331.4, 4326.0, 318.613, 'e065')
    set u=BlzCreateUnitWithSkin(p, 'e065', - 4830.8, - 875.9, 208.802, 'e065')
    set u=BlzCreateUnitWithSkin(p, 'e065', 1108.6, - 5166.0, 302.067, 'e065')
    set u=BlzCreateUnitWithSkin(p, 'e075', 3332.4, - 6424.8, 179.225, 'e075')
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer0()
    call CreateBuildingsForPlayer1()
    call CreateBuildingsForPlayer2()
    call CreateBuildingsForPlayer3()
    call CreateBuildingsForPlayer4()
    call CreateBuildingsForPlayer5()
    call CreateBuildingsForPlayer6()
    call CreateBuildingsForPlayer7()
    call CreateBuildingsForPlayer8()
    call CreateBuildingsForPlayer9()
    call CreateBuildingsForPlayer10()
    call CreateBuildingsForPlayer11()
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer3()
    call CreateUnitsForPlayer7()
    call CreateUnitsForPlayer11()
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings()
    call CreatePlayerBuildings()
    call CreateNeutralHostile()
    call CreateNeutralPassive()
    call CreatePlayerUnits()
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_AKATSUKI=Rect(- 96.0, - 7296.0, 4608.0, - 2560.0)
    set gg_rct_ArenaInvulArea=Rect(- 4224.0, - 8800.0, - 3808.0, - 8544.0)
    set we=AddWeatherEffect(gg_rct_ArenaInvulArea, 'MEds')
    call EnableWeatherEffect(we, true)
    set gg_rct_Camera1=Rect(- 7168.0, - 9216.0, 9216.0, 7168.0)
    set gg_rct_Camera2=Rect(- 7168.0, - 9088.0, 5280.0, 1568.0)
    set gg_rct_Cave=Rect(5632.0, 3520.0, 9056.0, 6880.0)
    set gg_rct_DeathForest=Rect(- 2752.0, - 9216.0, 736.0, - 6592.0)
    set gg_rct_DeathForestT1Spot=Rect(- 2656.0, - 8768.0, - 2208.0, - 8320.0)
    set gg_rct_DeathForestT2Spot=Rect(- 1376.0, - 7232.0, - 960.0, - 6784.0)
    set gg_rct_DeathForestT3Spot=Rect(64.0, - 8736.0, 608.0, - 8288.0)
    set gg_rct_duel_area=Rect(- 6784.0, 5472.0, - 4352.0, 6912.0)
    set gg_rct_DuelArena2=Rect(- 7072.0, 4992.0, - 4000.0, 7168.0)
    set gg_rct_Dummy=Rect(4288.0, - 7552.0, 5920.0, - 6240.0)
    set gg_rct_EVIL=Rect(768.0, 3328.0, 5440.0, 7168.0)
    set gg_rct_fonte=Rect(- 5888.0, - 6464.0, - 5376.0, - 6016.0)
    set gg_rct_fonte_akt=Rect(2784.0, - 6528.0, 3360.0, - 5888.0)
    set gg_rct_fonte_akt_start=Rect(2432.0, - 5632.0, 3008.0, - 4992.0)
    set gg_rct_fonte_evil=Rect(3776.0, 6112.0, 4320.0, 6656.0)
    set gg_rct_fonte_konoha=Rect(- 6016.0, 640.0, - 5536.0, 1184.0)
    set gg_rct_game_middle=Rect(608.0, 512.0, 864.0, 768.0)
    set gg_rct_HokageStone=Rect(- 6432.0, 1056.0, - 5248.0, 1984.0)
    set gg_rct_JiroboPrison=Rect(- 6624.0, - 4224.0, - 4608.0, - 2176.0)
    set gg_rct_Jungle1=Rect(- 3008.0, - 800.0, - 608.0, 192.0)
    set gg_rct_Jungle2=Rect(- 2240.0, - 1312.0, 320.0, - 608.0)
    set gg_rct_Jungle3=Rect(- 992.0, - 800.0, - 288.0, 0.0)
    set gg_rct_Jungle4=Rect(- 1440.0, - 1792.0, 640.0, - 1152.0)
    set gg_rct_Jungle5=Rect(- 896.0, - 2336.0, 672.0, - 1600.0)
    set gg_rct_Jungle6=Rect(1728.0, - 1344.0, 3104.0, 2336.0)
    set gg_rct_Jungle7=Rect(- 384.0, 2144.0, 736.0, 4000.0)
    set gg_rct_Jungle8=Rect(- 1472.0, 1632.0, - 224.0, 3168.0)
    set gg_rct_Jungle9=Rect(- 1760.0, 1280.0, - 512.0, 2784.0)
    set gg_rct_KaguyaLavaDimension=Rect(2816.0, - 8960.0, 3936.0, - 7840.0)
    set gg_rct_KONOHA=Rect(- 7104.0, - 1920.0, - 3104.0, 3616.0)
    set we=AddWeatherEffect(gg_rct_KONOHA, 'LRaa')
    call EnableWeatherEffect(we, true)
    set gg_rct_lane_1=Rect(- 1632.0, 3392.0, - 1216.0, 3840.0)
    set gg_rct_lane_2=Rect(- 1568.0, - 2816.0, - 1056.0, - 2368.0)
    set gg_rct_lane_3=Rect(3424.0, - 32.0, 3840.0, 416.0)
    set gg_rct_MeiKirigakure=Rect(- 2432.0, - 5760.0, - 1952.0, - 5312.0)
    set gg_rct_MissionA=Rect(6080.0, - 8160.0, 8672.0, - 6496.0)
    set gg_rct_MissionAEntry=Rect(6944.0, - 7616.0, 7168.0, - 7360.0)
    set gg_rct_MissionAExit=Rect(6528.0, - 7616.0, 6816.0, - 7392.0)
    set gg_rct_MissionB=Rect(5760.0, - 3040.0, 8032.0, 960.0)
    set gg_rct_MissionBEntry=Rect(6752.0, - 2560.0, 7072.0, - 2240.0)
    set gg_rct_MissionBExit=Rect(6496.0, - 2784.0, 7328.0, - 2592.0)
    set gg_rct_MissionS=Rect(7584.0, - 5088.0, 9184.0, - 2912.0)
    set gg_rct_MissionSEntry=Rect(8288.0, - 3712.0, 8608.0, - 3392.0)
    set gg_rct_MissionSExit=Rect(8256.0, - 3232.0, 8640.0, - 2976.0)
    set gg_rct_NewSelection=Rect(- 2784.0, - 9216.0, 704.0, - 6592.0)
    set gg_rct_NinpouArea=Rect(- 7168.0, - 9216.0, 9216.0, 7168.0)
    set gg_rct_nowheretogo=Rect(4896.0, - 7072.0, 5152.0, - 6752.0)
    set gg_rct_Rect_040=Rect(- 5056.0, - 9120.0, - 4544.0, - 8832.0)
    set we=AddWeatherEffect(gg_rct_Rect_040, 'MEds')
    call EnableWeatherEffect(we, true)
    set gg_rct_Region_007=Rect(- 6816.0, 6016.0, - 6528.0, 6336.0)
    set gg_rct_Region_007_Copy=Rect(- 4640.0, 5952.0, - 4352.0, 6272.0)
    set gg_rct_Region_009=Rect(- 5664.0, 5888.0, - 5408.0, 6144.0)
    set gg_rct_Region_079=Rect(- 6496.0, - 8384.0, 6592.0, 2688.0)
    set gg_rct_Region_088=Rect(1952.0, 320.0, 2240.0, 544.0)
    set gg_rct_Region_089=Rect(384.0, 3456.0, 736.0, 3680.0)
    set gg_rct_Region_090=Rect(- 1472.0, - 736.0, - 1312.0, - 384.0)
    set gg_rct_removeheroes=Rect(- 6656.0, - 5984.0, - 5312.0, - 5152.0)
    set gg_rct_SairAkatsuki=Rect(2624.0, - 6912.0, 3936.0, - 5664.0)
    set gg_rct_SairEvil=Rect(3552.0, 5824.0, 5376.0, 7168.0)
    set gg_rct_SairKonoha=Rect(- 6208.0, - 512.0, - 5312.0, 1824.0)
    set gg_rct_TestArea=Rect(- 7008.0, - 8768.0, - 5088.0, - 7808.0)
    set gg_rct_TobiDimension=Rect(5632.0, - 4992.0, 7040.0, - 3712.0)
    set gg_rct_TobiDimension2=Rect(5760.0, - 4832.0, 6912.0, - 3840.0)
    set gg_rct_Undergound1=Rect(8704.0, 4640.0, 8832.0, 4992.0)
    set gg_rct_Underground2=Rect(7168.0, 6592.0, 7488.0, 6688.0)
    set gg_rct_Underground3=Rect(5920.0, 4224.0, 6048.0, 4576.0)
    set gg_rct_UndergroundEnter1=Rect(1952.0, 544.0, 2272.0, 768.0)
    set gg_rct_UndergroundEnter2=Rect(416.0, 3680.0, 736.0, 3904.0)
    set gg_rct_UndergroundEnter3=Rect(- 1664.0, - 736.0, - 1472.0, - 384.0)
    set gg_rct_UndergroundExit1=Rect(8864.0, 4672.0, 8992.0, 4960.0)
    set gg_rct_UndergroundExit2=Rect(7200.0, 6752.0, 7456.0, 6848.0)
    set gg_rct_UndergroundExit3=Rect(5728.0, 4320.0, 5856.0, 4608.0)
    set gg_rct_waterfall=Rect(- 6848.0, 6944.0, - 4320.0, 7168.0)
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_Camera_001=CreateCameraSetup()
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_ROTATION, 89.7, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_ANGLE_OF_ATTACK, 269.6, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_TARGET_DISTANCE, 1700.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    call CameraSetupSetField(gg_cam_Camera_001, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    call CameraSetupSetDestPosition(gg_cam_Camera_001, - 1117.1, - 8014.0, 0.0)

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: xebasic
//===========================================================================



//===========================================================================
// Trigger: xepreload
//===========================================================================
//===========================================================================
// Trigger: Alloc
//===========================================================================
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//~~ Alloc ~~ By Sevion ~~ Version 1.09 ~~
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
//  What is Alloc?
//         - Alloc implements an intuitive allocation method for array structs
//
//    =Pros=
//         - Efficient.
//         - Simple.
//         - Less overhead than regular structs.
//
//    =Cons=
//         - Must use array structs (hardly a con).
//         - Must manually call OnDestroy.
//         - Must use Delegates for inheritance.
//         - No default values for variables (use onInit instead).
//         - No array members (use another Alloc struct as a linked list or type declaration).
//
//    Methods:
//         - struct.allocate()
//         - struct.deallocate()
//
//           These methods are used just as they should be used in regular structs.
//
//    Modules:
//         - Alloc
//           Implements the most basic form of Alloc. Includes only create and destroy
//           methods.
//
//  Details:
//         - Less overhead than regular structs
//
//         - Use array structs when using Alloc. Put the implement at the top of the struct.
//
//         - Alloc operates almost exactly the same as default structs in debug mode with the exception of onDestroy.
//
//  How to import:
//         - Create a trigger named Alloc.
//         - Convert it to custom text and replace the whole trigger text with this.
//
//  Thanks:
//         - Nestharus for the method of allocation and suggestions on further merging.
//         - Bribe for suggestions like the static if and method names.
//         - PurgeandFire111 for some suggestions like the merging of Alloc and AllocX as well as OnDestroy stuff.
//
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//===========================================================================
// Trigger: Table
//===========================================================================

//===========================================================================
// Trigger: TableCompatibility
//===========================================================================
//===========================================================================
// Trigger: WorldBounds
//===========================================================================
//===========================================================================
// Trigger: Event
//===========================================================================
//TESH.scrollpos=3
//TESH.alwaysfold=0
//===========================================================================
// Trigger: RegisterPlayerUnitEvent
//===========================================================================

//===========================================================================
// Trigger: TimerUtils
//===========================================================================
//===========================================================================
// Trigger: UnitDex
//===========================================================================
//===========================================================================
// Trigger: Math
//===========================================================================
//===========================================================================
// Trigger: PlayerUtils
//===========================================================================
//===========================================================================
// Trigger: Camera
//===========================================================================
//===========================================================================
// Trigger: UnitRecyclerDummy
//===========================================================================
//===========================================================================
// Trigger: ArrowKeyEvent
//===========================================================================
//===========================================================================
// Trigger: PreventSave
//===========================================================================
//===========================================================================
// Trigger: Powerup Sentinel
//===========================================================================
//===========================================================================
// Trigger: BoundSentinel
//===========================================================================


//===========================================================================
// Trigger: GetZ
//===========================================================================
//===========================================================================
// Trigger: EffectUtils
//===========================================================================
//===========================================================================
// Trigger: UnitUtils
//===========================================================================
//===========================================================================
// Trigger: SetPlayerName
//===========================================================================


 function s__PlayerName_onInit takes nothing returns nothing
  local integer i= 0
		loop
			exitwhen i > 11
			set udg_PlayerName[i]=GetPlayerName(Player(i))
			set i=i + 1
		endloop
 endfunction 

//===========================================================================
// Trigger: ItemUtils
//===========================================================================
//===========================================================================
// Trigger: Dialog
//===========================================================================

//===========================================================================
// Trigger: Lightning
//===========================================================================


//===========================================================================
// Trigger: GeometryLibBase
//===========================================================================

 
//===========================================================================
// Trigger: String
//===========================================================================

//Implemented from module Alloc:
    
        function s__String_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__String_Alloc__recycle[(0)] == 0 ) then
                set s__String_Alloc__instanceCount=s__String_Alloc__instanceCount + 1
                set this=s__String_Alloc__instanceCount
            else
                set this=s__String_Alloc__recycle[(0)]
                set s__String_Alloc__recycle[(0)]=s__String_Alloc__recycle[s__String_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__String_deallocate takes integer this returns nothing
            set s__String_Alloc__recycle[this]=s__String_Alloc__recycle[(0)]
            set s__String_Alloc__recycle[(0)]=this
        endfunction
    
    
    function s__String_create takes string s returns integer
        local integer this= s__String_allocate()
        set s__String_s[this]=s
        return this
    endfunction
    
    function s__String_getString takes integer this returns string
        return s__String_s[this]
    endfunction
    
    function s__String_destroy takes integer this returns nothing
        call s__String_deallocate(this)
    endfunction
    
//===========================================================================
// Trigger: Recipe
//===========================================================================

    
    function s__Tree_create takes integer reward,string message returns integer
        local integer this= s__Tree__allocate()
        set s__Tree_reward[this]=reward
        set s__Tree_message[this]=message
        set s__Tree_count_requirements[this]=0
        return this
    endfunction 
    
    function s__Tree_addRequirement takes integer this,integer whichRequirement returns nothing
        set s___Tree_requirements[s__Tree_requirements[this]+s__Tree_count_requirements[this]]=whichRequirement
        set s__Tree_count_requirements[this]=s__Tree_count_requirements[this] + 1
    endfunction 
    
    function s__Tree_heroHasRequirements takes integer this,unit u returns boolean
        local integer i= 0
        //call BJDebugMsg("-----")
        //call BJDebugMsg("Reward: " + GetObjectName(this.reward))
        loop
            exitwhen i == s__Tree_count_requirements[this]
            if not UnitHasItemOfTypeBJ(u, s___Tree_requirements[s__Tree_requirements[this]+i]) then
                //call BJDebugMsg("Doesnt have requirement: " + GetObjectName(this.requirements[i]))
                return false
            else
                //call BJDebugMsg("Have requirement: " + GetObjectName(this.requirements[i]))
            endif
            set i=i + 1
        endloop
        return true
    endfunction 
    
    function s__Tree_removeItem takes integer this,unit u,integer it returns nothing
        local integer i= 0
        loop
            exitwhen i > 5
            if GetItemTypeId(UnitItemInSlotBJ(u, i + 1)) == it then
                call UnitRemoveItemFromSlotSwapped(i + 1, u)
                return
            endif
            set i=i + 1
        endloop
    endfunction 
    
    function s__Tree_addReward takes integer this,unit u returns nothing
        local integer i= 0
        loop
            exitwhen i == s__Tree_count_requirements[this]
            call RemoveItem(GetItemOfTypeFromUnitBJ((u ), ( s___Tree_requirements[s__Tree_requirements[this]+i]))) // INLINED!!
            //call this.removeItem(u, this.requirements[i])
            set i=i + 1
        endloop
        call UnitAddItemByIdSwapped(s__Tree_reward[this], u)
        if s__Tree_message[this] != null then
            call DisplayTextToPlayer(GetOwningPlayer(u), 0, 0, s__Tree_message[this])
        endif
    endfunction 
    



    function s__Recipe_create takes integer price,integer reward,string message,integer treeNumbers returns integer
        local integer this= s__Recipe__allocate()
        set s__Recipe_price[this]=price
        set s__Recipe_count_trees[this]=1
        set s___Recipe_trees[s__Recipe_trees[this]]=s__Tree_create(reward , message)
        return this
    endfunction
    
    function s__Recipe_addRequirement takes integer this,integer whichRequirement returns nothing
        call s__Tree_addRequirement(s___Recipe_trees[s__Recipe_trees[this]+s__Recipe_count_trees[this] - 1],whichRequirement)
    endfunction
    
    function s__Recipe_addRequirementAll takes integer this,integer whichRequirement returns nothing
        local integer i= 0
        loop
            exitwhen i == s__Recipe_count_trees[this]
            call s__Tree_addRequirement(s___Recipe_trees[s__Recipe_trees[this]+i],whichRequirement)
            set i=i + 1
        endloop
    endfunction
    
    function s__Recipe_addTree takes integer this,integer reward,string message returns nothing
        set s___Recipe_trees[s__Recipe_trees[this]+s__Recipe_count_trees[this]]=s__Tree_create(reward , message)
        set s__Recipe_count_trees[this]=s__Recipe_count_trees[this] + 1
    endfunction
    
    function s__Recipe_invalidate takes integer this,unit whichUnit returns nothing
        call DisplayTextToPlayer(GetOwningPlayer(whichUnit), 0, 0, "|cffff0000You don't have the required items.|r")
        call SetPlayerState(GetOwningPlayer(whichUnit), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetOwningPlayer(whichUnit), PLAYER_STATE_RESOURCE_GOLD) + s__Recipe_price[this])
    endfunction

    function s__Recipe_buy takes integer this,unit u returns nothing
        local integer i= 0
        loop
            exitwhen i == s__Recipe_count_trees[this]
            if s__Tree_heroHasRequirements(s___Recipe_trees[s__Recipe_trees[this]+i],u) then
                call s__Tree_addReward(s___Recipe_trees[s__Recipe_trees[this]+i],u)
                return
            endif
            set i=i + 1
        endloop
        call s__Recipe_invalidate(this,u)
    endfunction
    

//===========================================================================
// Trigger: UltimateChoiceTemplate
//===========================================================================
//===========================================================================
// Trigger: HideHeroes
//===========================================================================
// scope HideHeroesSystem begins



function SetUnitScaleEx takes unit u,real x,real y,real z returns nothing
    call SetUnitScale(u, x, y, z)
endfunction

function SetUnitScalePercentEx takes unit u,real x,real y,real z returns nothing
    call SetUnitScale((u ), (( x / 100 )*1.0), (( y / 100 )*1.0), (( z / 100)*1.0)) // INLINED!!
endfunction

//processed hook: hook SetUnitScalePercent SetUnitScalePercentEx 

function SetUnitVertexColorEx takes unit u,integer red,integer green,integer blue,integer alpha returns nothing
    call SetUnitVertexColor(u, red, green, blue, alpha)
endfunction

function SetUnitVertexColorBJEx takes unit u,real red,real green,real blue,real transparency returns nothing
    call SetUnitVertexColor((u ), ( PercentTo255(red) ), ( PercentTo255(green) ), ( PercentTo255(blue) ), ( PercentTo255(100.0 - transparency))) // INLINED!!
endfunction

//processed hook: hook SetUnitVertexColorBJ SetUnitVertexColorBJEx 

function HideHeroesSystem___Exit takes nothing returns boolean
    local integer id= (GetUnitUserData(((s__UnitDex_Unit[s__UnitDex_LastIndex])))) // INLINED!!
    return true
endfunction

function HideHeroesSystem___Enter takes nothing returns boolean
    local integer id= (GetUnitUserData(((s__UnitDex_Unit[s__UnitDex_LastIndex])))) // INLINED!!
    if UnitAddAbility((s__UnitDex_Unit[s__UnitDex_LastIndex]), 'Arav') then // INLINED!!
        call UnitRemoveAbility((s__UnitDex_Unit[s__UnitDex_LastIndex]), 'Arav') // INLINED!!
    endif
    if id == 'u00M' then
        if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer((s__UnitDex_Unit[s__UnitDex_LastIndex]))) then // INLINED!!
            call SetUnitVertexColor((s__UnitDex_Unit[s__UnitDex_LastIndex]), 255, 255, 255, 150) // INLINED!!
        else
            call SetUnitVertexColor((s__UnitDex_Unit[s__UnitDex_LastIndex]), 255, 255, 255, 0) // INLINED!!
        endif
    endif
    return true
endfunction 
    

    
    function s__HealthAboveHero_periodic takes nothing returns nothing
        local integer id
        local integer i
        local unit u
        local group g= CreateGroup()
        local real size
        local boolean b
        set s__HealthAboveHero_count=s__HealthAboveHero_count + 1
        if s__HealthAboveHero_count > 10000000 then
            set s__HealthAboveHero_count=0
        endif
        call GroupAddGroup(hideheroes, g)
        loop
            set u=FirstOfGroup(g)
            exitwhen u == null
                if UnitAddAbility(u, 'Arav') then
                    call UnitRemoveAbility(u, 'Arav')
                endif
            call GroupRemoveUnit(g, u)
        endloop
        call DestroyGroup(g)
        set g=null
        set u=null
    endfunction
    
    function s__HealthAboveHero_newLevel takes nothing returns nothing
        local real x= GetUnitX(GetTriggerUnit())
        local real y= GetUnitY(GetTriggerUnit())
        call DestroyEffect(AddSpecialEffect(("Effects\\s_Level_Up.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 3, 5), I2S(GetHeroLevel(GetTriggerUnit())))
    endfunction
    
    function s__HealthAboveHero_addPlayers takes nothing returns nothing
        call ReleaseTimer(GetExpiredTimer())
    endfunction

    function s__HealthAboveHero_definitions takes nothing returns nothing

    endfunction

    function s__HealthAboveHero_onInit takes nothing returns nothing
        local integer i
        local trigger t= CreateTrigger()
        set hideheroes=CreateGroup()
        set HideHeroesSystem___hidedummy=CreateGroup()
        set s__herosize[2]= 0.9
        set s__herosize[1]= 1.4
        set s__herosize[3]= 0.6
        set s__herosize[4]= 1.0
        set s__herosize[5]= 1.0
        set s__herosize[6]= 0.85
        set s__herosize[7]= 1.0
        set s__herosize[9]= 1.0
        set s__herosize[8]= 0.73
        set s__herosize[40]= 1.0
        set s__herosize[54]= 1.2
        set s__herosize[50]= 0.9
        set s__herosize[11]= 1.0
        set s__herosize[35]= 1.1
        set s__herosize[12]= 1.0
        set s__herosize[10]= 0.94
        set s__herosize[46]= 0.9
        set s__herosize[13]= 0.85
        set s__herosize[36]= 0.85
        set s__herosize[32]= 0.9
        set s__herosize[14]= 0.9
        set s__herosize[19]= 1.0
        set s__herosize[18]= 1.0
        set s__herosize[38]= 0.9
        set s__herosize[17]= 0.95
        set s__herosize[15]= 0.65
        set s__herosize[30]= 1.2
        set s__herosize[52]= 0.8
        set s__herosize[16]= 0.95
        set s__herosize[47]= 0.7
        set s__herosize[20]= 1.1
        set s__herosize[21]= 1.0
        set s__herosize[22]= 0.9
        set s__herosize[24]= 1.2
        set s__herosize[23]= 0.9
        set s__herosize[25]= 1.0
        set s__herosize[37]= 0.9
        set s__herosize[26]= 1.1
        set s__herosize[41]= 0.93
        set s__herosize[31]= 0.6
        set s__herosize[34]= 1.0
        set s__herosize[53]= 1.0
        set s__herosize[48]= 0.7
        set s__herosize[39]= 1.0
        set s__herosize[33]= 0.95
        set s__herosize[44]= 0.9
        set s__herosize[27]= 0.87
        set s__herosize[43]= 1.10
        set s__herosize[51]= 0.85
        set s__herosize[42]= 0.8
        set s__herosize[28]= 1.0
        set s__herosize[29]= 1.0
        set s__herosize[101]= 1.0
        set s__herosize[102]= 1.2
        set s__herosize[103]= 1.0
        set s__herosize[55]= 0.7
        set s__herosize[56]= 0.85
        set s__herosize[57]= 1.0
        set s__herosize[58]= 0.65
        set s__herosize[59]= 1.05
        set s__herosize[60]= 1.4
        set s__herosize[61]= 0.9
        set s__herosize[62]= 1.0
        set s__herosize[63]= 0.9
        set s__herosize[64]= 0.9
        set s__herosize[65]= 1.0
        set s__herosize[66]= 1.1
        set s__herosize[67]= 0.75
        set s__herosize[68]= 1.25
        set s__herosize[69]= 1.0
        set s__herosize[70]= 0.85
        set s__herosize[71]= 1.0
        set s__herosize[72]= 0.9
        set s__herosize[73]= 1.0
        set s__herosize[74]= 1.05
        set s__herosize[77]= 0.9
        set s__herosize[78]= 0.9
        set s__herosize[79]= 1.2
        set s__herosize[80]= 1.0
        set s__herosize[201]= 0.9
        set s__herosize[202]= 0.9
        set s__herosize[104]= 0.95
        set s__herosize[142]= 2.0
        set s__HealthAboveHero_count=0
        call SetAltMinimapIcon("HGVGWEO4NV\\535983460.blp")
        call TimerStartEx((NewTimerEx(0)) , 10.0 , true , function s__HealthAboveHero_periodic , "HideHeros_periodic") // INLINED!!
        call RegisterUnitIndexEvent(Filter(function HideHeroesSystem___Enter) , EVENT_UNIT_INDEX)
        call RegisterUnitIndexEvent(Filter(function HideHeroesSystem___Exit) , EVENT_UNIT_DEINDEX)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_LEVEL ) , Filter(( function s__HealthAboveHero_newLevel))) // INLINED!!
    endfunction 
    

// scope HideHeroesSystem ends
//===========================================================================
// Trigger: ItemsWithSpellbook
//===========================================================================
//textmacro instance: KagesArmor("Hokage", "I03K", "A0IZ") 

    
    function s__HokageArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__HokageArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0IZ') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0IZ')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0IZ')
        endif
    endfunction
    
    function s__HokageArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__HokageArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0IZ')
        endif
    endfunction
    
    function s__HokageArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0IZ', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__HokageArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__HokageArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("Hokage", "I03K", "A0IZ") 
//textmacro instance: KagesArmor("Mizukage", "I03L", "A0J0") 

    
    function s__MizukageArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__MizukageArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0J0') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0J0')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0J0')
        endif
    endfunction
    
    function s__MizukageArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__MizukageArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0J0')
        endif
    endfunction
    
    function s__MizukageArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0J0', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__MizukageArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__MizukageArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("Mizukage", "I03L", "A0J0") 
//textmacro instance: KagesArmor("Tsuchikage", "I03M", "A0J1") 

    
    function s__TsuchikageArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__TsuchikageArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0J1') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0J1')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0J1')
        endif
    endfunction
    
    function s__TsuchikageArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__TsuchikageArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0J1')
        endif
    endfunction
    
    function s__TsuchikageArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0J1', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__TsuchikageArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__TsuchikageArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("Tsuchikage", "I03M", "A0J1") 
//textmacro instance: KagesArmor("Raikage", "I03N", "A0J2") 

    
    function s__RaikageArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__RaikageArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0J2') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0J2')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0J2')
        endif
    endfunction
    
    function s__RaikageArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__RaikageArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0J2')
        endif
    endfunction
    
    function s__RaikageArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0J2', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__RaikageArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__RaikageArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("Raikage", "I03N", "A0J2") 
//textmacro instance: KagesArmor("Kazekage", "I03O", "A0J4") 

    
    function s__KazekageArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__KazekageArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0J4') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0J4')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0J4')
        endif
    endfunction
    
    function s__KazekageArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__KazekageArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0J4')
        endif
    endfunction
    
    function s__KazekageArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0J4', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__KazekageArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__KazekageArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("Kazekage", "I03O", "A0J4") 
//textmacro instance: KagesArmor("Otokage", "I03P", "A0J3") 

    
    function s__OtokageArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__OtokageArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0J3') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0J3')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0J3')
        endif
    endfunction
    
    function s__OtokageArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__OtokageArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0J3')
        endif
    endfunction
    
    function s__OtokageArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0J3', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__OtokageArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__OtokageArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("Otokage", "I03P", "A0J3") 
//textmacro instance: KagesArmor("Sage", "I02Z", "A07K") 

    
    function s__SageArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__SageArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A07K') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A07K')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A07K')
        endif
    endfunction
    
    function s__SageArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__SageArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A07K')
        endif
    endfunction
    
    function s__SageArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A07K', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__SageArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__SageArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("Sage", "I02Z", "A07K") 
//textmacro instance: KagesArmor("DarkKunai", "I049", "A0CE") 

    
    function s__DarkKunaiArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__DarkKunaiArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0CE') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0CE')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0CE')
        endif
    endfunction
    
    function s__DarkKunaiArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__DarkKunaiArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0CE')
        endif
    endfunction
    
    function s__DarkKunaiArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0CE', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__DarkKunaiArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__DarkKunaiArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("DarkKunai", "I049", "A0CE") 
//textmacro instance: KagesArmor("DarkShuriken", "I04K", "A0CE") 

    
    function s__DarkShurikenArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__DarkShurikenArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0CE') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0CE')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0CE')
        endif
    endfunction
    
    function s__DarkShurikenArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__DarkShurikenArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0CE')
        endif
    endfunction
    
    function s__DarkShurikenArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0CE', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__DarkShurikenArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__DarkShurikenArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("DarkShuriken", "I04K", "A0CE") 
//textmacro instance: KagesArmor("DarkSenbons", "I04E", "A0CE") 

    
    function s__DarkSenbonsArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__DarkSenbonsArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0CE') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0CE')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0CE')
        endif
    endfunction
    
    function s__DarkSenbonsArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__DarkSenbonsArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0CE')
        endif
    endfunction
    
    function s__DarkSenbonsArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0CE', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__DarkSenbonsArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__DarkSenbonsArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("DarkSenbons", "I04E", "A0CE") 
//textmacro instance: KagesArmor("HeavenStone", "I05U", "A0CO") 

    
    function s__HeavenStoneArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__HeavenStoneArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0CO') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0CO')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0CO')
        endif
    endfunction
    
    function s__HeavenStoneArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__HeavenStoneArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0CO')
        endif
    endfunction
    
    function s__HeavenStoneArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0CO', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__HeavenStoneArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__HeavenStoneArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("HeavenStone", "I05U", "A0CO") 
//textmacro instance: KagesArmor("KyuubiSpear", "I03W", "A0YV") 

    
    function s__KyuubiSpearArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__KyuubiSpearArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0YV') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0YV')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0YV')
        endif
    endfunction
    
    function s__KyuubiSpearArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__KyuubiSpearArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0YV')
        endif
    endfunction
    
    function s__KyuubiSpearArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0YV', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__KyuubiSpearArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__KyuubiSpearArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("KyuubiSpear", "I03W", "A0YV") 
//textmacro instance: KagesArmor("HeavenMirror", "I006", "A0YW") 

    
    function s__HeavenMirrorArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__HeavenMirrorArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0YW') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0YW')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0YW')
        endif
    endfunction
    
    function s__HeavenMirrorArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__HeavenMirrorArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0YW')
        endif
    endfunction
    
    function s__HeavenMirrorArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0YW', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__HeavenMirrorArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__HeavenMirrorArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("HeavenMirror", "I006", "A0YW") 
//textmacro instance: KagesArmor("JuubiSkin", "I05Q", "A0ZE") 

    
    function s__JuubiSkinArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__JuubiSkinArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A0ZE') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A0ZE')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A0ZE')
        endif
    endfunction
    
    function s__JuubiSkinArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__JuubiSkinArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A0ZE')
        endif
    endfunction
    
    function s__JuubiSkinArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0ZE', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__JuubiSkinArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__JuubiSkinArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("JuubiSkin", "I05Q", "A0ZE") 
//textmacro instance: KagesArmor("AdamantineStaff", "I06B", "A04O") 

    
    function s__AdamantineStaffArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__AdamantineStaffArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A04O') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A04O')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A04O')
        endif
    endfunction
    
    function s__AdamantineStaffArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__AdamantineStaffArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A04O')
        endif
    endfunction
    
    function s__AdamantineStaffArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A04O', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__AdamantineStaffArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__AdamantineStaffArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("AdamantineStaff", "I06B", "A04O") 
//textmacro instance: KagesArmor("IronFan", "I06C", "A05K") 

    
    function s__IronFanArmor_enable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__IronFanArmor_ITEM_ID then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'A05K') == 0 then
                call UnitAddAbility(GetTriggerUnit(), 'A05K')
            endif
            call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A05K')
        endif
    endfunction
    
    function s__IronFanArmor_disable takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == s__IronFanArmor_ITEM_ID then
            call UnitRemoveAbility(GetTriggerUnit(), 'A05K')
        endif
    endfunction
    
    function s__IronFanArmor_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A05K', false)
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__IronFanArmor_enable))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__IronFanArmor_disable))) // INLINED!!
    endfunction
    
//end of: KagesArmor("IronFan", "I06C", "A05K") 

//===========================================================================
// Trigger: ItemTable
//===========================================================================
//===========================================================================
// Trigger: Recipes
//===========================================================================

    
    function s__Recipes_actions takes nothing returns nothing
        local integer id= GetItemTypeId(GetManipulatedItem())
        local integer i= 0
        //call BJDebugMsg("Item: " + GetObjectName(id))
        loop
            exitwhen i == s__Recipes_count_recipes
            if id == s__s__Recipes_items[i] then
                //call BJDebugMsg("Recipe: " + GetObjectName(items[i]))
                call s__Recipe_buy(s__s__Recipes_recipes[i],GetTriggerUnit())
            endif
            set i=i + 1
        endloop
    endfunction
    
    function s__Recipes_generateMerge takes string item1,string item2 returns string
        return "You merged your |cff87ceeb" + item1 + "|r with " + item2 + " successfully!"
    endfunction
    
    function s__Recipes_generateUpgrade takes string s returns string
        return "You upgraded your |cff87ceeb" + s + "|r sucessfully!"
    endfunction
    
    function s__Recipes_registerRecipe takes integer r,integer id returns nothing
        set s__s__Recipes_items[s__Recipes_count_recipes]= id
        set s__s__Recipes_recipes[s__Recipes_count_recipes]= r
        set s__Recipes_count_recipes=s__Recipes_count_recipes + 1
    endfunction 
    
    function s__Recipes_delay takes nothing returns nothing
        local integer r
        local string s
        set s__Recipes_count_recipes=0
        
        //Heaven Sword
        set r=s__Recipe_create(5000 , HEAVEN_SWORD , null , 7)
        call s__Recipe_addRequirement(r,THUNDER_KUSANAGI)
        call s__Recipe_addTree(r,HEAVEN_SWORD , null)
        call s__Recipe_addRequirement(r,WATER_KUSANAGI)
        call s__Recipe_addTree(r,HEAVEN_SWORD , null)
        call s__Recipe_addRequirement(r,FIRE_KUSANAGI)
        call s__Recipe_addTree(r,HEAVEN_SWORD , null)
        call s__Recipe_addRequirement(r,DARK_KUSANAGI)
        call s__Recipe_addTree(r,HEAVEN_SWORD , null)
        call s__Recipe_addRequirement(r,EARTH_KUSANAGI)
        call s__Recipe_addTree(r,HEAVEN_SWORD , null)
        call s__Recipe_addRequirement(r,WIND_KUSANAGI)
        call s__Recipe_addTree(r,HEAVEN_SWORD , null)
	call s__Recipe_addRequirement(r,LIGHT_KUSANAGI)
	call s__Recipe_addRequirementAll(r,SANBI_SKIN)

        call s__Recipes_registerRecipe(r , 'I02K')
        
        //Jade of Susanoo
        set r=s__Recipe_create(2000 , JADE_OF_SUSANOO , null , 1)
        call s__Recipe_addRequirement(r,AKATSUKI_RING)
        call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
        call s__Recipe_addRequirement(r,SOULABSORB_STONE)
        call s__Recipes_registerRecipe(r , 'I02M')


        //Book of Gelel
        set r=s__Recipe_create(6000 , 'I02J' , null , 1)
        call s__Recipe_addRequirement(r,JADE_OF_SUSANOO)
        call s__Recipe_addRequirement(r,'I06H')
        call s__Recipes_registerRecipe(r , 'I02P')

        
        //Kage Robe
        set r=s__Recipe_create(8000 , KAGE_ROBE , null , 1)
        call s__Recipe_addRequirement(r,SANNIN_CLOTH)
        call s__Recipe_addRequirement(r,NINJA_BANDANA)
        call s__Recipe_addRequirement(r,KAGE_HAT)
        call s__Recipes_registerRecipe(r , 'I039')
        
        //Legendary weapons
        set r=s__Recipe_create(3000 , KYUUBI_LOST_SPEAR , "|cffff0000You made a legendary kunai!|r" , 9)
        call s__Recipe_addRequirement(r,KUNAI_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
        call s__Recipe_addTree(r,NIDAIME_STAFF , "|cffff0000You made legendary senbons!|r")
        call s__Recipe_addRequirement(r,SENBONS_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
        call s__Recipe_addTree(r,YONDAIME_CROSSBOW , "|cffff0000You made a legendary shuriken!|r")
        call s__Recipe_addRequirement(r,SHURIKEN_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
	call s__Recipe_addTree(r,'I06B' , "|cffff0000You made a legendary kunai!|r")
        call s__Recipe_addRequirement(r,KUNAI_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_EARTH)
	call s__Recipe_addTree(r,'I06C' , "|cffff0000You made a legendary shuriken!|r")
        call s__Recipe_addRequirement(r,SHURIKEN_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_WIND)
	call s__Recipe_addTree(r,'I06D' , "|cffff0000You made legendary senbons!|r")
        call s__Recipe_addRequirement(r,SENBONS_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
	call s__Recipe_addTree(r,'I06E' , "|cffff0000You made a legendary kunai!|r")
        call s__Recipe_addRequirement(r,KUNAI_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
	call s__Recipe_addTree(r,'I06F' , "|cffff0000You made a legendary shuriken!|r")
        call s__Recipe_addRequirement(r,SHURIKEN_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
	call s__Recipe_addTree(r,'I06G' , "|cffff0000You made legendary senbons!|r")
        call s__Recipe_addRequirement(r,SENBONS_10)
        call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
        call s__Recipe_addRequirementAll(r,SOULABSORB_STONE)
        call s__Recipes_registerRecipe(r , 'I02V')
        
        //Stone of the heaven
        set r=s__Recipe_create(5000 , STONE_OF_THE_HEAVEN , null , 3)
        //call r.addRequirement(BUNSHIN_STONE)
        //call r.addTree(STONE_OF_THE_HEAVEN, null)
        //call r.addRequirement(BLINK_STONE)
        //call r.addTree(STONE_OF_THE_HEAVEN, null)
        //call r.addRequirement(JADE_OF_INVISIBILITY)
        call s__Recipe_addRequirementAll(r,JADE_OF_SUSANOO)
        call s__Recipes_registerRecipe(r , 'I02N')
        
        // Ultimate weapon 
        
        
        //Super boots
        set r=s__Recipe_create(500 , CLONING_BOOTS , "|cff87ceebYou made a cloning boot!|r" , 4)
        call s__Recipe_addRequirement(r,BUNSHIN_STONE)
        call s__Recipe_addTree(r,BOOTS_OF_INVISIBILITY , "|cff87ceebYou made a invisibility boot!|r")
        call s__Recipe_addRequirement(r,JADE_OF_INVISIBILITY)
        call s__Recipe_addTree(r,BLINK_BOOTS , "|cff87ceebYou made a blink boot!|r")
        call s__Recipe_addRequirement(r,BLINK_STONE)
        call s__Recipe_addTree(r,'I062' , "|cff87ceebYou made a healing boot!|r")
        call s__Recipe_addRequirement(r,'I08D')
        call s__Recipe_addRequirement(r,'I08C')
        call s__Recipe_addTree(r,'I03V' , "|cff87ceebYou made a teleport boot!|r")
        call s__Recipe_addRequirementAll(r,NINJA_BOOTS)
        call s__Recipes_registerRecipe(r , 'I03D')
        
        //Stones of Anti-Energy
        set r=s__Recipe_create(6000 , 'I06J' , "|cff87ceebYou made Yangabsorb Stone!|r" , 2)
        call s__Recipe_addRequirement(r,'I06H')
	call s__Recipe_addRequirement(r,'I00R')
	call s__Recipe_addRequirement(r,'I061')
        call s__Recipe_addTree(r,'I06K' , "|cff87ceebYou made Yinabsorb Stone!|r")
	call s__Recipe_addRequirement(r,'I06H')
	call s__Recipe_addRequirement(r,'I05V')
	call s__Recipe_addRequirement(r,'I05Y')
        call s__Recipes_registerRecipe(r , 'I06I')
        
        //Stones of Creation
        set r=s__Recipe_create(1000 , 'I06L' , "|cffff0000You made the Stone of Creation!!|r" , 1)
        call s__Recipe_addRequirement(r,'I06J')
	call s__Recipe_addRequirement(r,'I06K')
	call s__Recipe_addRequirement(r,'I085')
        call s__Recipes_registerRecipe(r , 'I06M')
        
        // Upgrade super shoes
        set s=("You upgraded your |cff87ceeb" + ("Blink Shoes") + "|r sucessfully!") // INLINED!!
        set r=s__Recipe_create(1500 , 'I04V' , s , 10)
        call s__Recipe_addRequirement(r,'I03F')
        call s__Recipe_addTree(r,'I04W' , s)
        call s__Recipe_addRequirement(r,'I04V')
        set s=("You upgraded your |cff87ceeb" + ("Cloning Shoes") + "|r sucessfully!") // INLINED!!
        call s__Recipe_addTree(r,'I04X' , s)
        call s__Recipe_addRequirement(r,'I03G')
        call s__Recipe_addTree(r,'I04Y' , s)
        call s__Recipe_addRequirement(r,'I04X')
        set s=("You upgraded your |cff87ceeb" + ("Invisibility Shoes") + "|r sucessfully!") // INLINED!!
        call s__Recipe_addTree(r,'I04Z' , s)
        call s__Recipe_addRequirement(r,'I03E')
        call s__Recipe_addTree(r,'I050' , s)
        call s__Recipe_addRequirement(r,'I04Z')
        set s=("You upgraded your |cff87ceeb" + ("Shoes of Teleportation") + "|r sucessfully!") // INLINED!!
        call s__Recipe_addTree(r,'I051' , s)
        call s__Recipe_addRequirement(r,'I03V')
        call s__Recipe_addTree(r,'I052' , s)
        call s__Recipe_addRequirement(r,'I051')
        set s=("You upgraded your |cff87ceeb" + ("Healing Shoes") + "|r sucessfully!") // INLINED!!
        call s__Recipe_addTree(r,'I063' , s)
        call s__Recipe_addRequirement(r,'I062')
        call s__Recipe_addTree(r,'I064' , s)
        call s__Recipe_addRequirement(r,'I063')
        call s__Recipes_registerRecipe(r , 'I053')
        
        // Combined elemental weapon 
        set s="You merged an |cff87ceebelemental weapon|r with a |cff87ceebhigh-level ninja weapon|r successfully."
        set r=s__Recipe_create(500 , 'I045' , s , 24)
        call s__Recipe_addRequirement(r,FIRE_KUNAI)
        call s__Recipe_addRequirement(r,EXPLOSIVE_KUNAI)
        call s__Recipe_addTree(r,'I046' , s)
        call s__Recipe_addRequirement(r,WIND_KUNAI)
        call s__Recipe_addRequirement(r,EXPLOSIVE_KUNAI)
        call s__Recipe_addTree(r,'I047' , s)
        call s__Recipe_addRequirement(r,WATER_KUNAI)
        call s__Recipe_addRequirement(r,EXPLOSIVE_KUNAI)
        call s__Recipe_addTree(r,'I048' , s)
        call s__Recipe_addRequirement(r,EARTH_KUNAI)
        call s__Recipe_addRequirement(r,EXPLOSIVE_KUNAI)
        call s__Recipe_addTree(r,'I049' , s)
        call s__Recipe_addRequirement(r,DARK_KUNAI)
        call s__Recipe_addRequirement(r,EXPLOSIVE_KUNAI)
        call s__Recipe_addTree(r,'I04A' , s)
        call s__Recipe_addRequirement(r,THUNDER_KUNAI)
        call s__Recipe_addRequirement(r,EXPLOSIVE_KUNAI)
        call s__Recipe_addTree(r,'I06A' , s)
        call s__Recipe_addRequirement(r,LIGHT_KUNAI)
        call s__Recipe_addRequirement(r,EXPLOSIVE_KUNAI)
        call s__Recipe_addTree(r,'I04B' , s)
        call s__Recipe_addRequirement(r,WIND_SENBONS)
        call s__Recipe_addRequirement(r,SENBONS_DANCE)
        call s__Recipe_addTree(r,'I04C' , s)
        call s__Recipe_addRequirement(r,WATER_SENBONS)
        call s__Recipe_addRequirement(r,SENBONS_DANCE)
        call s__Recipe_addTree(r,'I04D' , s)
        call s__Recipe_addRequirement(r,EARTH_SENBONS)
        call s__Recipe_addRequirement(r,SENBONS_DANCE)
        call s__Recipe_addTree(r,'I04E' , s)
        call s__Recipe_addRequirement(r,DARK_SENBONS)
        call s__Recipe_addRequirement(r,SENBONS_DANCE)
        call s__Recipe_addTree(r,'I04F' , s)
        call s__Recipe_addRequirement(r,FIRE_SENBONS)
        call s__Recipe_addRequirement(r,SENBONS_DANCE)
        call s__Recipe_addTree(r,'I04G' , s)
        call s__Recipe_addRequirement(r,THUNDER_SENBONS)
        call s__Recipe_addRequirement(r,SENBONS_DANCE)
        call s__Recipe_addTree(r,'I069' , s)
        call s__Recipe_addRequirement(r,LIGHT_SENBONS)
        call s__Recipe_addRequirement(r,SENBONS_DANCE)
        call s__Recipe_addTree(r,'I04H' , s)
        call s__Recipe_addRequirement(r,WIND_SHURIKEN)
        call s__Recipe_addRequirement(r,FUUMA_SHURIKEN)
        call s__Recipe_addTree(r,'I04I' , s)
        call s__Recipe_addRequirement(r,WATER_SHURIKEN)
        call s__Recipe_addRequirement(r,FUUMA_SHURIKEN)
        call s__Recipe_addTree(r,'I04J' , s)
        call s__Recipe_addRequirement(r,EARTH_SHURIKEN)
        call s__Recipe_addRequirement(r,FUUMA_SHURIKEN)
        call s__Recipe_addTree(r,'I04K' , s)
        call s__Recipe_addRequirement(r,DARK_SHURIKEN)
        call s__Recipe_addRequirement(r,FUUMA_SHURIKEN)
        call s__Recipe_addTree(r,'I04L' , s)
        call s__Recipe_addRequirement(r,FIRE_SHURIKEN)
        call s__Recipe_addRequirement(r,FUUMA_SHURIKEN)
        call s__Recipe_addTree(r,'I04M' , s)
        call s__Recipe_addRequirement(r,THUNDER_SHURIKEN)
        call s__Recipe_addRequirement(r,FUUMA_SHURIKEN)
        call s__Recipe_addTree(r,'I068' , s)
        call s__Recipe_addRequirement(r,LIGHT_SHURIKEN)
        call s__Recipe_addRequirement(r,FUUMA_SHURIKEN)
        call s__Recipes_registerRecipe(r , 'I04N')
        
        // Kages Armor
        set r=s__Recipe_create(2500 , HOKAGE_ROBE , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!") , 8) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
        call s__Recipe_addTree(r,MIZUKAGE_ROBE , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WATER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
        call s__Recipe_addTree(r,KAZEKAGE_ROBE , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WIND) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_WIND)
        call s__Recipe_addTree(r,RAIKAGE_ROBE , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_THUNDER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
        call s__Recipe_addTree(r,TSUCHIKAGE_ROBE , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_EARTH) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_EARTH)
        call s__Recipe_addTree(r,OTOKAGE_ROBE , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_DARK) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
        call s__Recipe_addTree(r,HOKAGE_ROBE , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
        call s__Recipe_addTree(r,'I02Z' , ("You merged your |cff87ceeb" + ("Kage Robe" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_LIGHT) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
        call s__Recipe_addRequirementAll(r,KAGE_ROBE)
        call s__Recipe_addRequirementAll(r,SOULABSORB_STONE)
        call s__Recipes_registerRecipe(r , 'I03Q')
        
        // Upgrade Sanbi's Skin
        set s=("You upgraded your |cff87ceeb" + ("Sanbi's Skin") + "|r sucessfully!") // INLINED!!
        set r=s__Recipe_create(3300 , 'I054' , s , 3)
        call s__Recipe_addRequirement(r,'I02U')
        call s__Recipe_addTree(r,'I055' , s)
        call s__Recipe_addRequirement(r,'I054')
        call s__Recipes_registerRecipe(r , 'I056')
        
        // Akatsuki Set 
        set r=s__Recipe_create(3000 , 'I03T' , "You crafted an Akatsuki Set successfully." , 1)
        call s__Recipe_addRequirement(r,AKATSUKI_RING)
        call s__Recipe_addRequirement(r,AKATSUKI_CLOTH)
        call s__Recipes_registerRecipe(r , 'I03U')
        
        //Upgrade cloth
        set s=("You upgraded your |cff87ceeb" + ("cloth") + "|r sucessfully!") // INLINED!!
        set r=s__Recipe_create(3300 , CHUNNIN_CLOTH , s , 4)
        call s__Recipe_addRequirement(r,GENIN_CLOTH)
        call s__Recipe_addTree(r,JOUNIN_CLOTH , s)
        call s__Recipe_addRequirement(r,CHUNNIN_CLOTH)
        call s__Recipe_addTree(r,ANBU_ARMOR , s)
        call s__Recipe_addRequirement(r,JOUNIN_CLOTH)
        call s__Recipe_addTree(r,SANNIN_CLOTH , s)
        call s__Recipe_addRequirement(r,ANBU_ARMOR)
        call s__Recipes_registerRecipe(r , 'I009')
        
        //Upgrade shoes
        set s=("You upgraded your |cff87ceeb" + ("shoes") + "|r sucessfully!") // INLINED!!
        set r=s__Recipe_create(900 , FAST_BOOTS , s , 2)
        call s__Recipe_addRequirement(r,CLOGS)
        call s__Recipe_addTree(r,NINJA_BOOTS , s)
        call s__Recipe_addRequirement(r,FAST_BOOTS)
        call s__Recipes_registerRecipe(r , 'I00P')
        
        // Upgrade stone
        set s=("You upgraded your |cff87ceeb" + ("life stone") + "|r sucessfully!") // INLINED!!
        set r=s__Recipe_create(2700 , 'I03Y' , s , 5)
        call s__Recipe_addRequirement(r,'I00R')
        call s__Recipe_addTree(r,'I03Z' , s)
        call s__Recipe_addRequirement(r,'I03Y')
        call s__Recipe_addTree(r,'I040' , s)
        call s__Recipe_addRequirement(r,'I03Z')
        set s=("You upgraded your |cff87ceeb" + ("chakra stone") + "|r sucessfully!") // INLINED!!
        call s__Recipe_addTree(r,'I041' , s)
        call s__Recipe_addRequirement(r,'pmna')
        call s__Recipe_addTree(r,'I042' , s)
        call s__Recipe_addRequirement(r,'I041')
        call s__Recipe_addTree(r,'I043' , s)
        call s__Recipe_addRequirement(r,'I042')
        call s__Recipes_registerRecipe(r , 'I044')
        
        //Eight Heavens Mirror
        set r=s__Recipe_create(3000 , EIGHT_HEAVENS_MIRROR , null , 1)
        call s__Recipe_addRequirement(r,MIRROR_OF_THE_HEAVEN)
        call s__Recipe_addRequirement(r,ANBU_MASK)
        call s__Recipes_registerRecipe(r , 'I02L')
        
        // Medical Ninja Set 
        set r=s__Recipe_create(7000 , MEDICAL_NINJA_SET , null , 1)
        call s__Recipe_addRequirement(r,MEDICAL_NINJA_CLOTH)
        call s__Recipe_addRequirement(r,MEDICAL_SCALPEL)
        call s__Recipe_addRequirement(r,MEDICAL_SPHERE)
        call s__Recipes_registerRecipe(r , 'I05J')
        
        //Sword of Kusanagi
        set r=s__Recipe_create(3000 , FIRE_KUSANAGI , ("You merged your |cff87ceeb" + ("Kusanagi Sword" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!") , 7) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
        call s__Recipe_addTree(r,WATER_KUSANAGI , ("You merged your |cff87ceeb" + ("Kusanagi Sword" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WATER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
        call s__Recipe_addTree(r,EARTH_KUSANAGI , ("You merged your |cff87ceeb" + ("Kusanagi Sword" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_EARTH) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_EARTH)
        call s__Recipe_addTree(r,WIND_KUSANAGI , ("You merged your |cff87ceeb" + ("Kusanagi Sword" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WIND) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_WIND)
        call s__Recipe_addTree(r,THUNDER_KUSANAGI , ("You merged your |cff87ceeb" + ("Kusanagi Sword" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_THUNDER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
        call s__Recipe_addTree(r,DARK_KUSANAGI , ("You merged your |cff87ceeb" + ("Kusanagi Sword" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_DARK) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
        call s__Recipe_addTree(r,LIGHT_KUSANAGI , ("You merged your |cff87ceeb" + ("Kusanagi Sword" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_LIGHT) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
        call s__Recipe_addRequirementAll(r,KUSANAGI_SWORD)
        call s__Recipe_addRequirementAll(r,SOULABSORB_STONE)
        call s__Recipes_registerRecipe(r , 'I000')
        
        //Sword of Totsuka
        set r=s__Recipe_create(6000 , INFERNAL_TOTSUKA , ("You merged your |cff87ceeb" + ("Sword of Totsuka" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!") , 4) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
        call s__Recipe_addTree(r,CHILLING_TOTSUKA , ("You merged your |cff87ceeb" + ("Sword of Totsuka" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WATER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
        call s__Recipe_addTree(r,DARK_TOTSUKA , ("You merged your |cff87ceeb" + ("Sword of Totsuka" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_DARK) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
        call s__Recipe_addTree(r,THUNDERING_TOTSUKA , ("You merged your |cff87ceeb" + ("Sword of Totsuka" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_THUNDER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
        call s__Recipe_addRequirementAll(r,SWORD_OF_TOTSUKA)
        call s__Recipe_addRequirementAll(r,SOULABSORB_STONE)
        call s__Recipes_registerRecipe(r , 'I02X')
        
        //Elemental Chakra Blades
        set r=s__Recipe_create(4000 , KONOHAGAKURE_CHAKRA_BLADES , ("You merged your |cff87ceeb" + ("Chakra Blades" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!") , 7) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
        call s__Recipe_addTree(r,KIRIGAKURE_CHAKRA_BLADES , ("You merged your |cff87ceeb" + ("Chakra Blades" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WATER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
        call s__Recipe_addTree(r,OTOGAKURE_CHAKRA_BLADES , ("You merged your |cff87ceeb" + ("Chakra Blades" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_DARK) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
        call s__Recipe_addTree(r,KUMOGAKURE_CHAKRA_BLADES , ("You merged your |cff87ceeb" + ("Chakra Blades" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_THUNDER) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
        call s__Recipe_addTree(r,SAGE_CHAKRA_BLADES , ("You merged your |cff87ceeb" + ("Chakra Blades" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_LIGHT) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
        call s__Recipe_addTree(r,IWAGAKURE_CHAKRA_BLADES , ("You merged your |cff87ceeb" + ("Chakra Blades" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_EARTH) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_EARTH)
        call s__Recipe_addTree(r,SUNAGAKURE_CHAKRA_BLADES , ("You merged your |cff87ceeb" + ("Chakra Blades" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WIND) + " successfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SPIRIT_OF_WIND)
        call s__Recipe_addRequirementAll(r,CHAKRA_BLADES)
        call s__Recipe_addRequirementAll(r,SOULABSORB_STONE)
        call s__Recipes_registerRecipe(r , 'I080')
        

        //ANBU Mask
        set r=s__Recipe_create(2500 , ANBU_MASK , null , 1)
        call s__Recipe_addRequirement(r,ANBU_BADGE)
        call s__Recipe_addRequirement(r,NINJA_BANDANA)
        call s__Recipes_registerRecipe(r , 'I02I')
        
        //Rikuudou Necklace
        set r=s__Recipe_create(2000 , 'I04T' , null , 1)
        call s__Recipe_addRequirement(r,'I040')
        call s__Recipe_addRequirement(r,'I043')
        call s__Recipes_registerRecipe(r , 'I04U')
        
        //Akatsuki Ring
        set r=s__Recipe_create(500 , AKATSUKI_RING , null , 1)
        call s__Recipe_addRequirement(r,BIG_MOON_SWORD)
        call s__Recipe_addRequirement(r,SHIELD_OF_THE_SUN)
        call s__Recipes_registerRecipe(r , 'I00O')
        
        //Upgrade weapon
        set s=("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!") // INLINED!!
        set r=s__Recipe_create(2500 , KUNAI_2 , s , 31)
        call s__Recipe_addRequirement(r,KUNAI_1)
        call s__Recipe_addTree(r,KUNAI_3 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_2)
        call s__Recipe_addTree(r,KUNAI_4 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_3)
        call s__Recipe_addTree(r,KUNAI_5 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_4)
        call s__Recipe_addTree(r,KUNAI_6 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_5)
        call s__Recipe_addTree(r,KUNAI_7 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_6)
        call s__Recipe_addTree(r,KUNAI_8 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_7)
        call s__Recipe_addTree(r,KUNAI_9 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_8)
        call s__Recipe_addTree(r,KUNAI_10 , ("You upgraded your |cff87ceeb" + ("kunai") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,KUNAI_9)
        call s__Recipe_addTree(r,SHURIKEN_2 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_1)
        call s__Recipe_addTree(r,SHURIKEN_3 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_2)
        call s__Recipe_addTree(r,SHURIKEN_4 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_3)
        call s__Recipe_addTree(r,SHURIKEN_5 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_4)
        call s__Recipe_addTree(r,SHURIKEN_6 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_5)
        call s__Recipe_addTree(r,SHURIKEN_7 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_6)
        call s__Recipe_addTree(r,SHURIKEN_8 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_7)
        call s__Recipe_addTree(r,SHURIKEN_9 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_8)
        call s__Recipe_addTree(r,SHURIKEN_10 , ("You upgraded your |cff87ceeb" + ("shuriken") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SHURIKEN_9)
        call s__Recipe_addTree(r,SENBONS_2 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_1)
        call s__Recipe_addTree(r,SENBONS_3 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_2)
        call s__Recipe_addTree(r,SENBONS_4 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_3)
        call s__Recipe_addTree(r,SENBONS_5 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_4)
        call s__Recipe_addTree(r,SENBONS_6 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_5)
        call s__Recipe_addTree(r,SENBONS_7 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_6)
        call s__Recipe_addTree(r,SENBONS_8 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_7)
        call s__Recipe_addTree(r,SENBONS_9 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_8)
        call s__Recipe_addTree(r,SENBONS_10 , ("You upgraded your |cff87ceeb" + ("senbons") + "|r sucessfully!")) // INLINED!!
        call s__Recipe_addRequirement(r,SENBONS_9)
        call s__Recipes_registerRecipe(r , 'I008')
        
        //Elemental weapon
            //Kunais
            set r=s__Recipe_create(2000 , FIRE_KUNAI , ("You merged your |cff87ceeb" + ("kunai" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!") , 21) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
            call s__Recipe_addRequirement(r,KUNAI_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,FIRE_SHURIKEN , ("You merged your |cff87ceeb" + ("shuriken" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
            call s__Recipe_addRequirement(r,SHURIKEN_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,FIRE_SENBONS , ("You merged your |cff87ceeb" + ("senbons" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_FIRE) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_FIRE)
            call s__Recipe_addRequirement(r,SENBONS_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)

            call s__Recipe_addTree(r,WATER_KUNAI , ("You merged your |cff87ceeb" + ("kunai" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WATER) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
            call s__Recipe_addRequirement(r,KUNAI_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,WATER_SHURIKEN , ("You merged your |cff87ceeb" + ("shuriken" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WATER) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
            call s__Recipe_addRequirement(r,SHURIKEN_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,WATER_SENBONS , ("You merged your |cff87ceeb" + ("senbons" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WATER) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_WATER)
            call s__Recipe_addRequirement(r,SENBONS_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)

            call s__Recipe_addTree(r,THUNDER_KUNAI , ("You merged your |cff87ceeb" + ("kunai" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_THUNDER) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
            call s__Recipe_addRequirement(r,KUNAI_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,THUNDER_SHURIKEN , ("You merged your |cff87ceeb" + ("shuriken" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_THUNDER) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
            call s__Recipe_addRequirement(r,SHURIKEN_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,THUNDER_SENBONS , ("You merged your |cff87ceeb" + ("senbons" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_THUNDER) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_THUNDER)
            call s__Recipe_addRequirement(r,SENBONS_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)

            call s__Recipe_addTree(r,EARTH_KUNAI , ("You merged your |cff87ceeb" + ("kunai" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_EARTH) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_EARTH)
            call s__Recipe_addRequirement(r,KUNAI_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,EARTH_SHURIKEN , ("You merged your |cff87ceeb" + ("shuriken" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_EARTH) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_EARTH)
            call s__Recipe_addRequirement(r,SHURIKEN_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,EARTH_SENBONS , ("You merged your |cff87ceeb" + ("senbons" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_EARTH) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_EARTH)
            call s__Recipe_addRequirement(r,SENBONS_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)

            call s__Recipe_addTree(r,WIND_KUNAI , ("You merged your |cff87ceeb" + ("kunai" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WIND) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_WIND)
            call s__Recipe_addRequirement(r,KUNAI_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,WIND_SHURIKEN , ("You merged your |cff87ceeb" + ("shuriken" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WIND) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_WIND)
            call s__Recipe_addRequirement(r,SHURIKEN_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,WIND_SENBONS , ("You merged your |cff87ceeb" + ("senbons" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_WIND) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_WIND)
            call s__Recipe_addRequirement(r,SENBONS_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)

            call s__Recipe_addTree(r,DARK_KUNAI , ("You merged your |cff87ceeb" + ("kunai" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_DARK) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
            call s__Recipe_addRequirement(r,KUNAI_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,DARK_SHURIKEN , ("You merged your |cff87ceeb" + ("shuriken" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_DARK) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
            call s__Recipe_addRequirement(r,SHURIKEN_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,DARK_SENBONS , ("You merged your |cff87ceeb" + ("senbons" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_DARK) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_DARK)
            call s__Recipe_addRequirement(r,SENBONS_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            
            call s__Recipe_addTree(r,LIGHT_KUNAI , ("You merged your |cff87ceeb" + ("kunai" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_LIGHT) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
            call s__Recipe_addRequirement(r,KUNAI_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,LIGHT_SHURIKEN , ("You merged your |cff87ceeb" + ("shuriken" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_LIGHT) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
            call s__Recipe_addRequirement(r,SHURIKEN_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            call s__Recipe_addTree(r,LIGHT_SENBONS , ("You merged your |cff87ceeb" + ("senbons" ) + "|r with " + ( s__Recipes_S_SPIRIT_OF_LIGHT) + " successfully!")) // INLINED!!
            call s__Recipe_addRequirement(r,SPIRIT_OF_LIGHT)
            call s__Recipe_addRequirement(r,SENBONS_1)
            call s__Recipe_addRequirement(r,SOULABSORB_STONE)
            
        call s__Recipes_registerRecipe(r , 'I02E')
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__Recipes_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__Recipes_actions))) // INLINED!!
        call TimerStart((NewTimerEx(0)), 1.0, false, function s__Recipes_delay) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: AkatsukiRings
//===========================================================================

function Trig_AkatsukiRings_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I002' then
        //Tobis ring
         if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05Z'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05Z'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I00N')
        //Kisames ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05W'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05W'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I00H')
        //Kakuzus ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I07L'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I07L'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I010')
        //Zetsus ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05X'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05X'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I00I')
        //Deidaras ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I036'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I036'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I00Q')
        //Orochimarus ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05Y'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05Y'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I00M')
        //Hidans ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I061'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I061'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I01W')
        //Pains ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I037'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I037'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I01X')
        //Itachis ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I084'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I084'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I00F')
	//Sasori's Ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05M'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05M'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I02S')
        //Konans ring
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I081'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I081'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I02F')
         else
             call AdjustPlayerStateBJ(2500, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
         endif
    endif
 endfunction
 
 //===========================================================================
 function InitTrig_AkatsukiRings takes nothing returns nothing
     call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_AkatsukiRings_Actions))) // INLINED!!
 endfunction
 
 
//===========================================================================
// Trigger: ElementalMask
//===========================================================================

function Trig_ElementalMask_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I07H' then
     // Fire
         if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Q'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05Z'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Q'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05Z'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I07A')
     // Water
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Q'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05W'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Q'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05W'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I07B')
     // Thunder
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Q'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I07L'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Q'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I07L'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I07C')
     // Earth
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Q'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05X'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Q'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05X'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I07D')
     // Wind
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Q'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I036'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Q'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I036'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I07E')
     // Darkness
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Q'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05Y'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Q'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05Y'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I07F')
     // Light
         elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Q'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I061'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I085'))) then // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Q'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I061'))) // INLINED!!
             call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I085'))) // INLINED!!
             call UnitAddItemEx(GetTriggerUnit() , 'I07G')
         else
             call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have the required items.|r")
             call AdjustPlayerStateBJ(5000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
         endif
    endif
 endfunction
 
 //===========================================================================
 function InitTrig_ElementalMask takes nothing returns nothing
     call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_ElementalMask_Actions))) // INLINED!!
 endfunction
 
 
//===========================================================================
// Trigger: JuubiSkin
//===========================================================================

function Trig_JuubiSkinSet_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I05R' then
        if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05P'))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I055'))) then // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05P'))) // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I055'))) // INLINED!!
            call UnitAddItemEx(GetTriggerUnit() , 'I05Q')
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You made Juubi's skin successfully!|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have the required items.|r")
            call AdjustPlayerStateBJ(3000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
        endif
    endif
endfunction

//===========================================================================
function InitTrig_JuubiSkin takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_JuubiSkinSet_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: ChakraBlades
//===========================================================================
function Trig_ChakraBlades_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I07P' then
        if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I07M'))) then // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I07M'))) // INLINED!!
            call UnitAddItemEx(GetTriggerUnit() , 'I07N')
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You upgraded Chakra Blades successfully!|r")
        elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I07N'))) then // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I07N'))) // INLINED!!
            call UnitAddItemEx(GetTriggerUnit() , 'I07O')
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You upgraded Chakra Blades successfully!|r")
        elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I07O'))) then // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I07O'))) // INLINED!!
            call UnitAddItemEx(GetTriggerUnit() , 'I06N')
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You upgraded Chakra Blades successfully!|r")
    elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06N'))) then // INLINED!!
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Item is max upgrade.|r")
            call AdjustPlayerStateBJ(4000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
    else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have the required gold.|r")
            call AdjustPlayerStateBJ(4000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
        endif
    endif
endfunction

//===========================================================================
function InitTrig_ChakraBlades takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_ChakraBlades_Actions))) // INLINED!!
endfunction
//===========================================================================
// Trigger: UltimateWeapon
//===========================================================================

function Trig_UltimateWeapon_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I02O' then
        if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( STONE_OF_THE_HEAVEN))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( HEAVEN_SWORD))) and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( EIGHT_HEAVENS_MIRROR))) then // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( STONE_OF_THE_HEAVEN))) // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( HEAVEN_SWORD))) // INLINED!!
            call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( EIGHT_HEAVENS_MIRROR))) // INLINED!!
            call UnitAddItemEx(GetTriggerUnit() , 'I034')
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, GetPlayerName(GetTriggerPlayer()) + " |cffff0000HAS MADE THE ULTIMATE WEAPON!!!!|r")
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have the required items.|r")
            call AdjustPlayerStateBJ(20000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
        endif
    endif
endfunction

//===========================================================================
function InitTrig_UltimateWeapon takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_UltimateWeapon_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: FixUltraBoots
//===========================================================================

function Trig_FixUltraBoots_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I03V' then
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=6
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA())) == 'I00C' then
                call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(), GetForLoopIndexA()))
            else
            endif
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    endif
endfunction

//===========================================================================
function InitTrig_FixUltraBoots takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_FixUltraBoots_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: RecipeTreasures
//===========================================================================

 function s__RecipeBashosen_actions takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I074' then
            		if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05P'))) then // INLINED!!
				call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05P'))) // INLINED!!
            			call UnitAddItemEx(GetTriggerUnit() , 'I03R')
			else
            			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have the required items.|r")
            			call AdjustPlayerStateBJ(2500, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
            		endif
		elseif GetItemTypeId(GetManipulatedItem()) == 'I075' then
            		if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05P'))) then // INLINED!!
				call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05P'))) // INLINED!!
            			call UnitAddItemEx(GetTriggerUnit() , 'I073')
			else
            			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have the required items.|r")
            			call AdjustPlayerStateBJ(4000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
            		endif
		elseif GetItemTypeId(GetManipulatedItem()) == 'I07K' then
            		if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I05P'))) then // INLINED!!
				call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I05P'))) // INLINED!!
            			call UnitAddItemEx(GetTriggerUnit() , 'I07J')
			else
            			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have the required items.|r")
            			call AdjustPlayerStateBJ(8000, GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD)
            		endif
		endif
 endfunction 

 function s__RecipeBashosen_onInit takes nothing returns nothing
    		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__RecipeBashosen_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: ANBUBadgePassive
//===========================================================================


 function s__BadgeOfAnbu_ping takes nothing returns nothing
  local integer i= 0
		loop
			exitwhen i > 11
			if udg_ANBUTarget[i] != null and GetWidgetLife(udg_units33[i + 1]) > 0.405 and ( (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I06Q'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07C'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07A'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07F'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07G'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07E'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07D'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07B'))) ) and GetLocalPlayer() == Player(i) and GetWidgetLife(udg_ANBUTarget[i]) > 0.405 then // INLINED!!
				call PingMinimap(GetUnitX(udg_ANBUTarget[i]), GetUnitY(udg_ANBUTarget[i]), 5.0)
                if GetLocalPlayer() == Player(i) then
                    set s__HeroIcon_fade[s__s__BadgeOfAnbu_icon[i]]=false
                    set s__HeroIcon_fade[s__s__BadgeOfAnbu_icon2[i]]=false
                	call BlzFrameSetVisible(s__HeroIcon_mainbutton[s__s__BadgeOfAnbu_icon[i]], true)
                	call BlzFrameSetVisible(s__HeroIcon_mainbutton[s__s__BadgeOfAnbu_icon2[i]], true)
                    call sc__HeroIcon_start(s__s__BadgeOfAnbu_icon[i],udg_units33[i + 1] , s__s__AHSS_Configurations_PLAYER_ICONS[GetPlayerId(GetOwningPlayer(udg_ANBUTarget[i]))])
                    call sc__HeroIcon_start(s__s__BadgeOfAnbu_icon2[i],udg_units33[i + 1] , "Icons\\Items\\BTNItem_Anbu_Mask.blp")
                endif
            elseif GetLocalPlayer() == Player(i) then
                call BlzFrameSetVisible(s__HeroIcon_mainbutton[s__s__BadgeOfAnbu_icon[i]], false)
                call BlzFrameSetVisible(s__HeroIcon_mainbutton[s__s__BadgeOfAnbu_icon2[i]], false)
			endif
			set i=i + 1
		endloop
 endfunction 

 function s__BadgeOfAnbu_target takes nothing returns nothing
  local integer i= 0
  local integer j
  local integer k
		loop
			exitwhen i > 11
			set udg_ANBUTarget[i]=null
			if udg_units33[i + 1] != null and GetWidgetLife(udg_units33[i + 1]) > 0.405 and ( (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I06Q'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07C'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07A'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07F'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07G'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07E'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07D'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07B'))) ) then // INLINED!!
				set k=0
				set j=GetRandomInt(0, 11)
				loop
					exitwhen ( udg_units33[j + 1] != null and IsUnitEnemy(udg_units33[j + 1], Player(i)) ) or k > 24
					set j=j + 1
					if j > 11 then
						set j=0
					endif
					set k=k + 1
				endloop
				if udg_units33[j + 1] != null and IsUnitEnemy(udg_units33[j + 1], Player(i)) then
					call DisplayTimedTextToPlayer(Player(i), 0, 0, 120.0, "|cff87ceebANBU Mask: Your target is: " + GetUnitName(udg_units33[j + 1]) + "|r")
					set udg_ANBUTarget[i]=udg_units33[j + 1]
				endif
			endif
			set i=i + 1
		endloop
 endfunction 

    function s__BadgeOfAnbu_gpm takes integer i returns real
        if udg_TIME_ELAPSED_SEC == 0 then
            return 1.0
        else
            return udg_Farm[i + 1] / udg_TIME_ELAPSED_SEC / 1000.0
        endif
    endfunction 
    
    function s__BadgeOfAnbu_actions takes nothing returns nothing
        local integer gold
        if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I05E') then
            set gold=GetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD)
            call SetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD, gold + 75)
        elseif UnitHasItemOfTypeBJ(GetKillingUnit(), 'I04Q') and s__BadgeOfAnbu_gpm(GetPlayerId(GetOwningPlayer(GetKillingUnit()))) < 2.2 then
            set gold=GetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD)
            call SetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD, gold + R2I(45.0 / s__BadgeOfAnbu_gpm(GetPlayerId(GetOwningPlayer(GetKillingUnit())))))
        elseif UnitHasItemOfTypeBJ(GetKillingUnit(), 'I06Q') and s__BadgeOfAnbu_gpm(GetPlayerId(GetOwningPlayer(GetKillingUnit()))) < 2.2 then
            set gold=GetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD)
            call SetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD, gold + R2I(90.0 / s__BadgeOfAnbu_gpm(GetPlayerId(GetOwningPlayer(GetKillingUnit())))))
        endif
    endfunction
    
    function s__BadgeOfAnbu_init takes nothing returns nothing
	    if GetItemTypeId(GetManipulatedItem()) == 'I04Q' and not s__BadgeOfAnbu_b then
        	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__BadgeOfAnbu_actions))) // INLINED!!
		//call TimerStartEx(NewTimer(), 120.0, true, function thistype.target, "ANBUBadge_target")
		call TimerStartEx((NewTimerEx(0)) , 30.0 , true , function s__BadgeOfAnbu_ping , "ANBUBadge_ping") // INLINED!!
		set s__BadgeOfAnbu_b=true
	endif
    endfunction

    function s__BadgeOfAnbu_createIcon takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            set s__s__BadgeOfAnbu_icon[i]= sc__HeroIcon_create(0.58 , 0.14 , 0.04 , 4)
            set s__s__BadgeOfAnbu_icon2[i]= sc__HeroIcon_create(0.57 , 0.132 , 0.02 , 5)
            set i=i + 1
        endloop
    endfunction 

    function s__BadgeOfAnbu_onInit takes nothing returns nothing
	    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__BadgeOfAnbu_init))) // INLINED!!
        call TimerStart((NewTimerEx(0)), 5.0, false, function s__BadgeOfAnbu_createIcon) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: JadeOfSusanooPassive
//===========================================================================
// scope JadePassive begins

    

        function s__JadePassive__Item_attack takes nothing returns nothing
            if GetUnitTypeId(GetAttacker()) == 'n01F' or GetUnitTypeId(GetAttacker()) == 'n01H' then
                call KillUnit(GetAttacker())
            endif
        endfunction
        
        function s__JadePassive__Item_dies takes nothing returns nothing
            local real x
            local real y
            if GetWidgetLife(GetKillingUnit()) > 0.405 and GetUnitAbilityLevel(GetTriggerUnit(), 'Aloc') == 0 then
                if UnitHasItemOfTypeBJ(udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1], 'I034') then
                    set x=GetUnitX(GetTriggerUnit())
                    set y=GetUnitY(GetTriggerUnit())
                    set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(GetKillingUnitBJ()) ), ( 'n01H' ), (( x )*1.0), (( y )*1.0), (( 270)*1.0))) // INLINED!!
                    call IssueTargetOrder(bj_lastCreatedUnit, "attack", udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1])
                    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 5.0)
                    call SetUnitLifePercentBJ(GetKillingUnitBJ(), ( GetUnitLifePercent(GetKillingUnitBJ()) + 4.50 ))
                    call SetUnitManaPercentBJ(GetKillingUnitBJ(), ( GetUnitManaPercent(GetKillingUnitBJ()) + 4.50 ))
                elseif UnitHasItemOfTypeBJ(udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1], 'I04S') or UnitHasItemOfTypeBJ(udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1], 'I05U') then
                    set x=GetUnitX(GetTriggerUnit())
                    set y=GetUnitY(GetTriggerUnit())
                    set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(GetKillingUnitBJ()) ), ( 'n01F' ), (( x )*1.0), (( y )*1.0), (( 270)*1.0))) // INLINED!!
                    call IssueTargetOrder(bj_lastCreatedUnit, "attack", udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1])
                    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 5.0)
                    if UnitHasItemOfTypeBJ(udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1], 'I05U') then
                        call SetUnitLifePercentBJ(GetKillingUnitBJ(), ( GetUnitLifePercent(GetKillingUnitBJ()) + 1.00 ))
                        call SetUnitManaPercentBJ(GetKillingUnitBJ(), ( GetUnitManaPercent(GetKillingUnitBJ()) + 1.00 ))
                    else
                        call SetUnitLifePercentBJ(GetKillingUnitBJ(), ( GetUnitLifePercent(GetKillingUnitBJ()) + 0.50 ))
                        call SetUnitManaPercentBJ(GetKillingUnitBJ(), ( GetUnitManaPercent(GetKillingUnitBJ()) + 0.50 ))
                    endif
                endif
            endif
        endfunction
        
 function s__JadePassive__Item_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I04S' and not s__JadePassive__Item_b then
            		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__JadePassive__Item_dies))) // INLINED!!
            		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__JadePassive__Item_attack))) // INLINED!!
			set s__JadePassive__Item_b=true
		endif
 endfunction

        function s__JadePassive__Item_onInit takes nothing returns nothing
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__JadePassive__Item_init))) // INLINED!!
        endfunction
        
    
// scope JadePassive ends
//===========================================================================
// Trigger: SpiritOrbs
//===========================================================================

     function s__SpiritOrbs_actions takes nothing returns nothing

	//Spirit of Fire
        if not IsUnitIllusion(GetAttacker()) and ( UnitHasItemOfTypeBJ(GetAttacker(), 'I05Z') or UnitHasItemOfTypeBJ(GetAttacker(), 'I045') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04L') or UnitHasItemOfTypeBJ(GetAttacker(), 'I01Z') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04F') or UnitHasItemOfTypeBJ(GetAttacker(), 'I02D') or UnitHasItemOfTypeBJ(GetAttacker(), 'I028') or UnitHasItemOfTypeBJ(GetAttacker(), 'I03K') or UnitHasItemOfTypeBJ(GetAttacker(), 'I02W') ) then
		if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 then
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetAttacker()), 'n03F', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), GetUnitFacing(GetAttacker()))
			call UnitAddAbility(bj_lastCreatedUnit, 'AIfb')
			call IssueTargetOrderBJ(bj_lastCreatedUnit, "attack", GetTriggerUnit())
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
		endif
	endif
	//Spirit of Earth
        if not IsUnitIllusion(GetAttacker()) and ( UnitHasItemOfTypeBJ(GetAttacker(), 'I05X') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04J') or UnitHasItemOfTypeBJ(GetAttacker(), 'I022') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04D') or UnitHasItemOfTypeBJ(GetAttacker(), 'I02B') or UnitHasItemOfTypeBJ(GetAttacker(), 'I025') or UnitHasItemOfTypeBJ(GetAttacker(), 'I048') or UnitHasItemOfTypeBJ(GetAttacker(), 'I06B') or UnitHasItemOfTypeBJ(GetAttacker(), 'I03M') or UnitHasItemOfTypeBJ(GetAttacker(), 'I06B') ) then
		if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 then
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetAttacker()), 'n03F', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), GetUnitFacing(GetAttacker()))
			call UnitAddAbility(bj_lastCreatedUnit, 'A0CG')
			call IssueTargetOrderBJ(bj_lastCreatedUnit, "attack", GetTriggerUnit())
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
		endif
	endif
	//Spirit of Thunder
        if not IsUnitIllusion(GetAttacker()) and ( UnitHasItemOfTypeBJ(GetAttacker(), 'I07L') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04A') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04M') or UnitHasItemOfTypeBJ(GetAttacker(), 'I021') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04G') or UnitHasItemOfTypeBJ(GetAttacker(), 'I029') or UnitHasItemOfTypeBJ(GetAttacker(), 'I027') or UnitHasItemOfTypeBJ(GetAttacker(), 'I03N') or UnitHasItemOfTypeBJ(GetAttacker(), 'I058') ) then
		if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 and GetRandomInt(1, 100) <= 5 then
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetAttacker()), 'n03F', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), GetUnitFacing(GetAttacker()))
			call UnitAddAbility(bj_lastCreatedUnit, 'ACcl')
			call IssueTargetOrderBJ(bj_lastCreatedUnit, "chainlightning", GetTriggerUnit())
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
		endif
	endif
	// Spirit of Water
        if not IsUnitIllusion(GetAttacker()) and ( UnitHasItemOfTypeBJ(GetAttacker(), 'I05W') or UnitHasItemOfTypeBJ(GetAttacker(), 'I02Y') or UnitHasItemOfTypeBJ(GetAttacker(), 'I047') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04I') or UnitHasItemOfTypeBJ(GetAttacker(), 'I01Y') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04C') or UnitHasItemOfTypeBJ(GetAttacker(), 'I02A') or UnitHasItemOfTypeBJ(GetAttacker(), 'I024') or UnitHasItemOfTypeBJ(GetAttacker(), 'I05F') or UnitHasItemOfTypeBJ(GetAttacker(), 'I03L') or UnitHasItemOfTypeBJ(GetAttacker(), 'I031') ) then
		if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 then
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetAttacker()), 'n03F', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), GetUnitFacing(GetAttacker()))
			call UnitAddAbility(bj_lastCreatedUnit, 'AIob')
			call IssueTargetOrderBJ(bj_lastCreatedUnit, "attack", GetTriggerUnit())
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
		endif
	endif
	//Spirit of Darkness
        if not IsUnitIllusion(GetAttacker()) and ( UnitHasItemOfTypeBJ(GetAttacker(), 'I03P') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04K') or UnitHasItemOfTypeBJ(GetAttacker(), 'I023') or UnitHasItemOfTypeBJ(GetAttacker(), 'I04E') or UnitHasItemOfTypeBJ(GetAttacker(), 'I02C') or UnitHasItemOfTypeBJ(GetAttacker(), 'I026') or UnitHasItemOfTypeBJ(GetAttacker(), 'I049') or UnitHasItemOfTypeBJ(GetAttacker(), 'I06D') or UnitHasItemOfTypeBJ(GetAttacker(), 'I032') or UnitHasItemOfTypeBJ(GetAttacker(), 'I05U') ) then
		if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 then
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetAttacker()), 'n03F', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), GetUnitFacing(GetAttacker()))
		if UnitHasItemOfTypeBJ(GetAttacker(), 'I05U') then
			call UnitAddAbility(bj_lastCreatedUnit, 'A0XO')
		else
			call UnitAddAbility(bj_lastCreatedUnit, 'AIcb')
		endif
			call IssueTargetOrderBJ(bj_lastCreatedUnit, "attack", GetTriggerUnit())
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
		endif
	endif
	//Spirit of Light
        if not IsUnitIllusion(GetAttacker()) and ( UnitHasItemOfTypeBJ(GetAttacker(), 'I061') or UnitHasItemOfTypeBJ(GetAttacker(), 'I06A') or UnitHasItemOfTypeBJ(GetAttacker(), 'I068') or UnitHasItemOfTypeBJ(GetAttacker(), 'I065') or UnitHasItemOfTypeBJ(GetAttacker(), 'I069') or UnitHasItemOfTypeBJ(GetAttacker(), 'I067') or UnitHasItemOfTypeBJ(GetAttacker(), 'I066') or UnitHasItemOfTypeBJ(GetAttacker(), 'I06E') or UnitHasItemOfTypeBJ(GetAttacker(), 'I06G') or UnitHasItemOfTypeBJ(GetAttacker(), 'I06F') ) then
		if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 and GetRandomInt(1, 100) <= 15 then
            		call SilenceUnitLight(GetAttacker() , GetTriggerUnit())
            		call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
		endif
	endif

    endfunction 
    
 function s__SpiritOrbs_init takes nothing returns nothing
if ( GetItemTypeId(GetManipulatedItem()) == 'I05Z' or GetItemTypeId(GetManipulatedItem()) == 'I045' or GetItemTypeId(GetManipulatedItem()) == 'I04L' or GetItemTypeId(GetManipulatedItem()) == 'I01Z' or GetItemTypeId(GetManipulatedItem()) == 'I04F' or GetItemTypeId(GetManipulatedItem()) == 'I02D' or GetItemTypeId(GetManipulatedItem()) == 'I028' or GetItemTypeId(GetManipulatedItem()) == 'I03K' or GetItemTypeId(GetManipulatedItem()) == 'I02W' or GetItemTypeId(GetManipulatedItem()) == 'I05X' or GetItemTypeId(GetManipulatedItem()) == 'I04J' or GetItemTypeId(GetManipulatedItem()) == 'I022' or GetItemTypeId(GetManipulatedItem()) == 'I04D' or GetItemTypeId(GetManipulatedItem()) == 'I02B' or GetItemTypeId(GetManipulatedItem()) == 'I025' or GetItemTypeId(GetManipulatedItem()) == 'I048' or GetItemTypeId(GetManipulatedItem()) == 'I06B' or GetItemTypeId(GetManipulatedItem()) == 'I03M' or GetItemTypeId(GetManipulatedItem()) == 'I07L' or GetItemTypeId(GetManipulatedItem()) == 'I04A' or GetItemTypeId(GetManipulatedItem()) == 'I04M' or GetItemTypeId(GetManipulatedItem()) == 'I021' or GetItemTypeId(GetManipulatedItem()) == 'I04G' or GetItemTypeId(GetManipulatedItem()) == 'I029' or GetItemTypeId(GetManipulatedItem()) == 'I027' or GetItemTypeId(GetManipulatedItem()) == 'I03N' or GetItemTypeId(GetManipulatedItem()) == 'I058' or GetItemTypeId(GetManipulatedItem()) == 'I05W' or GetItemTypeId(GetManipulatedItem()) == 'I02Y' or GetItemTypeId(GetManipulatedItem()) == 'I047' or GetItemTypeId(GetManipulatedItem()) == 'I04I' or GetItemTypeId(GetManipulatedItem()) == 'I01Y' or GetItemTypeId(GetManipulatedItem()) == 'I04C' or GetItemTypeId(GetManipulatedItem()) == 'I02A' or GetItemTypeId(GetManipulatedItem()) == 'I024' or GetItemTypeId(GetManipulatedItem()) == 'I05F' or GetItemTypeId(GetManipulatedItem()) == 'I03L' or GetItemTypeId(GetManipulatedItem()) == 'I031' or GetItemTypeId(GetManipulatedItem()) == 'I05Y' or GetItemTypeId(GetManipulatedItem()) == 'I03P' or GetItemTypeId(GetManipulatedItem()) == 'I04K' or GetItemTypeId(GetManipulatedItem()) == 'I023' or GetItemTypeId(GetManipulatedItem()) == 'I04E' or GetItemTypeId(GetManipulatedItem()) == 'I02C' or GetItemTypeId(GetManipulatedItem()) == 'I026' or GetItemTypeId(GetManipulatedItem()) == 'I049' or GetItemTypeId(GetManipulatedItem()) == 'I06D' or GetItemTypeId(GetManipulatedItem()) == 'I032' or GetItemTypeId(GetManipulatedItem()) == 'I05U' or GetItemTypeId(GetManipulatedItem()) == 'I061' or GetItemTypeId(GetManipulatedItem()) == 'I06A' or GetItemTypeId(GetManipulatedItem()) == 'I068' or GetItemTypeId(GetManipulatedItem()) == 'I065' or GetItemTypeId(GetManipulatedItem()) == 'I069' or GetItemTypeId(GetManipulatedItem()) == 'I067' or GetItemTypeId(GetManipulatedItem()) == 'I066' or GetItemTypeId(GetManipulatedItem()) == 'I06E' or GetItemTypeId(GetManipulatedItem()) == 'I06G' or GetItemTypeId(GetManipulatedItem()) == 'I06F' ) and not s__SpiritOrbs_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__SpiritOrbs_actions))) // INLINED!!
			set s__SpiritOrbs_b=true
		endif
 endfunction
    
    function s__SpiritOrbs_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__SpiritOrbs_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: SuperBootsSpeedBuff
//===========================================================================
function Trig_SuperBootsSpeedBuff_Func002C takes nothing returns boolean
    if UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I03E') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04Z') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I050') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I03F') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04V') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04W') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I03G') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04X') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04Y') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I03V') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I051') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I052') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I062') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I063') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I064') then
        return true
    endif
    return false
endfunction

function Trig_SuperBootsSpeedBuff_Conditions_Konoha takes nothing returns boolean
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not Trig_SuperBootsSpeedBuff_Func002C() ) then
        return false
    endif
    if not IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(3)) then
        return false
    endif
    return true
endfunction

function Trig_SuperBootsSpeedBuff_Conditions_Evil takes nothing returns boolean
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not Trig_SuperBootsSpeedBuff_Func002C() ) then
        return false
    endif
    if not IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(7)) then
        return false
    endif
    return true
endfunction

function Trig_SuperBootsSpeedBuff_Conditions_Akatsuki takes nothing returns boolean
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not Trig_SuperBootsSpeedBuff_Func002C() ) then
        return false
    endif
    if not IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(11)) then
        return false
    endif
    return true
endfunction

function Trig_SuperBootsSpeedBuff_Actions takes nothing returns nothing
    set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A0NL')
    call IssueTargetOrder(bj_lastCreatedUnit, "bloodlust", GetTriggerUnit())
endfunction

//===========================================================================
function InitTrig_SuperBootsSpeedBuff takes nothing returns nothing
    local trigger t1= CreateTrigger()
    local trigger t2= CreateTrigger()
    local trigger t3= CreateTrigger()
    call TriggerRegisterLeaveRectSimple(t1, gg_rct_SairKonoha)
    call TriggerAddCondition(t1, Condition(function Trig_SuperBootsSpeedBuff_Conditions_Konoha))
    call TriggerAddAction(t1, function Trig_SuperBootsSpeedBuff_Actions)
    call TriggerRegisterLeaveRectSimple(t2, gg_rct_SairEvil)
    call TriggerAddCondition(t2, Condition(function Trig_SuperBootsSpeedBuff_Conditions_Evil))
    call TriggerAddAction(t2, function Trig_SuperBootsSpeedBuff_Actions)
    call TriggerRegisterLeaveRectSimple(t3, gg_rct_SairAkatsuki)
    call TriggerAddCondition(t3, Condition(function Trig_SuperBootsSpeedBuff_Conditions_Akatsuki))
    call TriggerAddAction(t3, function Trig_SuperBootsSpeedBuff_Actions)
endfunction


//===========================================================================
// Trigger: PreventTeleportShoes
//===========================================================================
function Trig_PreventTeleportShoes_Func001C takes nothing returns boolean
	return ( GetSpellAbilityId() == 'AImt' or GetSpellAbilityId() == 'A0RR' or GetSpellAbilityId() == 'A0RS' ) and ( RectContainsUnit(gg_rct_DuelArena2, GetTriggerUnit()) or RectContainsUnit(gg_rct_Cave, GetTriggerUnit()) or RectContainsUnit(gg_rct_MissionB, GetTriggerUnit()) or RectContainsUnit(gg_rct_MissionS, GetTriggerUnit()) or RectContainsUnit(gg_rct_TobiDimension, GetTriggerUnit()) or RectContainsUnit(gg_rct_MissionA, GetTriggerUnit()) or RectContainsUnit(gg_rct_DeathForest, GetTriggerUnit()) or RectContainsUnit(gg_rct_JiroboPrison, GetTriggerUnit()) )
endfunction

function Trig_PreventTeleportShoes_Conditions takes nothing returns boolean
    if ( not (( GetSpellAbilityId() == 'AImt' or GetSpellAbilityId() == 'A0RR' or GetSpellAbilityId() == 'A0RS' ) and ( RectContainsUnit(gg_rct_DuelArena2, GetTriggerUnit()) or RectContainsUnit(gg_rct_Cave, GetTriggerUnit()) or RectContainsUnit(gg_rct_MissionB, GetTriggerUnit()) or RectContainsUnit(gg_rct_MissionS, GetTriggerUnit()) or RectContainsUnit(gg_rct_TobiDimension, GetTriggerUnit()) or RectContainsUnit(gg_rct_MissionA, GetTriggerUnit()) or RectContainsUnit(gg_rct_DeathForest, GetTriggerUnit()) or RectContainsUnit(gg_rct_JiroboPrison, GetTriggerUnit()) )) ) then // INLINED!!
        return false
    endif
    return true
endfunction

function Trig_PreventTeleportShoes_Actions takes nothing returns nothing
	call IssueImmediateOrder(GetTriggerUnit(), "stop")
endfunction

//===========================================================================
function InitTrig_PreventTeleportShoes takes nothing returns nothing
    set gg_trg_PreventTeleportShoes=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_PreventTeleportShoes, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(gg_trg_PreventTeleportShoes, Condition(function Trig_PreventTeleportShoes_Conditions))
    call TriggerAddAction(gg_trg_PreventTeleportShoes, function Trig_PreventTeleportShoes_Actions)
endfunction


//===========================================================================
// Trigger: SanbiSkinKillBunshin
//===========================================================================


    function s__SanbiSkinKillBunshin_actions takes nothing returns nothing
        if IsUnitIllusion(GetAttacker()) and ( UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I02U') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I054') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I055') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I05Q') ) then
        	call KillUnit(GetAttacker())
    	endif
    endfunction
    
    function s__SanbiSkinKillBunshin_init takes nothing returns nothing
	if GetItemTypeId(GetManipulatedItem()) == 'I02U' and not s__SanbiSkinKillBunshin_b then
    		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__SanbiSkinKillBunshin_actions))) // INLINED!!
		set s__SanbiSkinKillBunshin_b=true
	endif
    endfunction

    function s__SanbiSkinKillBunshin_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__SanbiSkinKillBunshin_init))) // INLINED!!
    endfunction
    

//===========================================================================
// Trigger: RikuudouNecklacePassive
//===========================================================================

    
    function s__RikuudouNecklacePassive_finishCooldown takes nothing returns nothing
        local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
        set s__s__RikuudouNecklacePassive_cooldown[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]= false // INLINED!!
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl" ), (( GetUnitX(u) )*1.0), (( GetUnitY(u))*1.0))) // INLINED!!
        call ReleaseTimer(GetExpiredTimer())
		set u=null
    endfunction
    
    function s__RikuudouNecklacePassive_finishInvul takes nothing returns nothing
        call SetUnitInvulnerable((s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]), false) // INLINED!!
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__RikuudouNecklacePassive_periodic takes nothing returns nothing
  local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local unit u= (s__UnitDex_Unit[(id)]) // INLINED!!
		if u == null or not UnitHasItemOfTypeBJ(u, 'I04T') then
			set s__s__RikuudouNecklacePassive_t[id]= null
			call ReleaseTimer(GetExpiredTimer())
			set u=null
			return
		endif
		if GetWidgetLife(u) > 0.405 and ( GetUnitState(u, UNIT_STATE_LIFE) / GetUnitState(u, UNIT_STATE_MAX_LIFE) <= 0.2 ) and not s__s__RikuudouNecklacePassive_cooldown[id] then
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl" ), (( GetUnitX(u) )*1.0), (( GetUnitY(u))*1.0))) // INLINED!!
			call SetUnitInvulnerable(u, true)
			call TimerStartEx(NewTimerEx(id) , 2.0 , false , function s__RikuudouNecklacePassive_finishInvul , "RikuudouNecklace_finishInvul")
			set s__s__RikuudouNecklacePassive_cooldown[id]= true
			call TimerStartEx(NewTimerEx(id) , 180.0 , false , function s__RikuudouNecklacePassive_finishCooldown , "RikuudouNecklace_finishCooldown")
		endif
		set u=null
    endfunction
    
    function s__RikuudouNecklacePassive_startTimer takes nothing returns nothing
  local integer this
  local integer id
		if GetItemTypeId(GetManipulatedItem()) != 'I04T' then
			return
		endif
		set id=(GetUnitUserData((GetTriggerUnit()))) // INLINED!!
		if s__s__RikuudouNecklacePassive_t[id] == null then
			set s__s__RikuudouNecklacePassive_t[id]= NewTimerEx(id)
			call TimerStartEx(s__s__RikuudouNecklacePassive_t[id] , 0.1 , true , function s__RikuudouNecklacePassive_periodic , "RikuudouNecklace_periodic")
		endif
    endfunction 

    function s__RikuudouNecklacePassive_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__RikuudouNecklacePassive_startTimer))) // INLINED!!
    endfunction

//===========================================================================
// Trigger: EightHeadSwordCritical
//===========================================================================


    function s__EightHeadSwordCritical_actions takes nothing returns nothing
        local real damage
        local integer i
        local real angle
        local real offset
        local real x
        local real y
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I030') and GetRandomInt(1, 100) <= 20 then
            set i=0
            loop
                exitwhen i > 20
                set angle=GetRandomReal(0, 2 * bj_PI)
                set offset=GetRandomReal(0, 200)
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set i=i + 1
            endloop
            set damage=3 * ( GetHeroStr(GetAttacker(), true) + GetHeroAgi(GetAttacker(), true) + GetHeroInt(GetAttacker(), true) )
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
 function s__EightHeadSwordCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I030' and not s__EightHeadSwordCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__EightHeadSwordCritical_actions))) // INLINED!!
			set s__EightHeadSwordCritical_b=true
		endif
 endfunction

    function s__EightHeadSwordCritical_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__EightHeadSwordCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: ThunderKusanagiCritical
//===========================================================================

//Implemented from module Alloc:
    
        function s__ThunderKusanagiCritical_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ThunderKusanagiCritical_Alloc__recycle[(0)] == 0 ) then
                set s__ThunderKusanagiCritical_Alloc__instanceCount=s__ThunderKusanagiCritical_Alloc__instanceCount + 1
                set this=s__ThunderKusanagiCritical_Alloc__instanceCount
            else
                set this=s__ThunderKusanagiCritical_Alloc__recycle[(0)]
                set s__ThunderKusanagiCritical_Alloc__recycle[(0)]=s__ThunderKusanagiCritical_Alloc__recycle[s__ThunderKusanagiCritical_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ThunderKusanagiCritical_deallocate takes integer this returns nothing
            set s__ThunderKusanagiCritical_Alloc__recycle[this]=s__ThunderKusanagiCritical_Alloc__recycle[(0)]
            set s__ThunderKusanagiCritical_Alloc__recycle[(0)]=this
        endfunction
    
    function s__ThunderKusanagiCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I02G') and GetRandomInt(1, 4) == 1 then
            set damage=500 + GetHeroAgi(GetAttacker(), true) * 2.0
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\Bolt\\BoltImpact.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", bj_lastCreatedUnit, 0, 8.00, 255, 252, 0.00, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(bj_lastCreatedUnit, GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
    function s__ThunderKusanagiCritical_spellActions takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if GetUnitAbilityLevel(s__ThunderKusanagiCritical_target[this], 'B04N') == 0 then
            set bj_lastCreatedUnit=CreateAbilityDummy(s__ThunderKusanagiCritical_caster[this] , 'A0TB')
            call IssueTargetOrder(bj_lastCreatedUnit, "soulburn", s__ThunderKusanagiCritical_target[this])
        endif
        set s__ThunderKusanagiCritical_count[this]=s__ThunderKusanagiCritical_count[this] + 1
        if s__ThunderKusanagiCritical_count[this] > 33 * 7 then
            call UnitRemoveAbility(s__ThunderKusanagiCritical_target[this], 'B04N')
            set s__ThunderKusanagiCritical_target[this]=null
            call s__ThunderKusanagiCritical_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__ThunderKusanagiCritical_spell takes nothing returns nothing
        local integer this= s__ThunderKusanagiCritical_allocate()
        set s__ThunderKusanagiCritical_caster[this]=GetTriggerUnit()
        set s__ThunderKusanagiCritical_target[this]=GetSpellTargetUnit()
        set s__ThunderKusanagiCritical_count[this]=0
        set bj_lastCreatedUnit=CreateAbilityDummy(s__ThunderKusanagiCritical_caster[this] , 'A0TB')
        call IssueTargetOrder(bj_lastCreatedUnit, "soulburn", s__ThunderKusanagiCritical_target[this])
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__ThunderKusanagiCritical_spellActions , "ThunderKusanagi_spellActions")
    endfunction 
    
    function s__ThunderKusanagiCritical_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('A0YX' ) , Filter(( function s__ThunderKusanagiCritical_spell))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__ThunderKusanagiCritical_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: EarthKusanagiCritical
//===========================================================================


    function s__EarthKusanagiCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I07R') and GetRandomInt(1, 100) <= 15 then
            set damage=500.00 + GetHeroStr(GetAttacker(), true) * 1.0
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
		    call StunUnitTimed(GetAttacker() , bj_lastCreatedUnit , 0.5)
                    call DestroyEffect(AddSpecialEffect(("Effects\\s_Earth_Smash.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", bj_lastCreatedUnit, 0, 8.00, 79, 42, 5, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(bj_lastCreatedUnit, GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
 function s__EarthKusanagiCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I07R' and not s__EarthKusanagiCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__EarthKusanagiCritical_actions))) // INLINED!!
			set s__EarthKusanagiCritical_b=true
		endif
 endfunction
    
    function s__EarthKusanagiCritical_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__EarthKusanagiCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: HeavenSwordCritical
//===========================================================================


    function s__HeavenSwordCritical_actions takes nothing returns nothing
        local real damage
        local integer i
        local real angle
        local real offset
        local real x
        local real y
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'gcel') and GetRandomInt(1, 100) <= 20 then
            set i=0
            loop
                exitwhen i > 20
                set i=i + 1
                set angle=GetRandomReal(0, 2 * bj_PI)
                set offset=GetRandomReal(0, 150)
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set bj_lastCreatedUnit=CreateAbilityDummy(GetAttacker() , 'A02S')
                call SetUnitFlyHeight(bj_lastCreatedUnit, 60, 0)
                set angle=Deg2Rad(GetUnitFacing(GetAttacker()))
                set offset=GetDistanceUnits(bj_lastCreatedUnit , GetTriggerUnit())
                set x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                call IssuePointOrder(bj_lastCreatedUnit, "clusterrockets", x, y)
            endloop
            set damage=GetHeroStr(GetAttacker(), true) + 1.5 * GetHeroAgi(GetAttacker(), true) + 2 * GetHeroInt(GetAttacker(), true)
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
 function s__HeavenSwordCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'gcel' and not s__HeavenSwordCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__HeavenSwordCritical_actions))) // INLINED!!
			set s__HeavenSwordCritical_b=true
		endif
 endfunction

    function s__HeavenSwordCritical_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__HeavenSwordCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: LightKusanagiCritical
//===========================================================================


    function s__LightKusanagiCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I02T') and GetRandomInt(1, 100) <= 20 then
            set damage=BlzGetUnitBaseDamage(GetAttacker(), 0)

            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            	    call SilenceUnitLight(GetAttacker() , GetTriggerUnit())

		set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\Divine Edict.mdl", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
		call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.25)
		call DestroyEffect(bj_lastCreatedEffect)

                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", bj_lastCreatedUnit, 0, 8.00, 176, 176, 176, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(bj_lastCreatedUnit, GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
 function s__LightKusanagiCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I02T' and not s__LightKusanagiCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__LightKusanagiCritical_actions))) // INLINED!!
			set s__LightKusanagiCritical_b=true
		endif
 endfunction
    
    function s__LightKusanagiCritical_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__LightKusanagiCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: WindKusanagiCritical
//===========================================================================


    function s__WindKusanagiCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I07S') and GetRandomInt(1, 100) <= 20 then
            set damage=SquareRoot(( GetHeroAgi(GetAttacker(), true) * GetHeroAgi(GetAttacker(), true) * GetHeroAgi(GetAttacker(), true) )) / 4
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    call DestroyEffect(AddSpecialEffect(("Windcutter.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", bj_lastCreatedUnit, 0, 8.00, 176, 176, 176, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(bj_lastCreatedUnit, GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
 function s__WindKusanagiCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I07S' and not s__WindKusanagiCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__WindKusanagiCritical_actions))) // INLINED!!
			set s__WindKusanagiCritical_b=true
		endif
 endfunction
    
    function s__WindKusanagiCritical_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__WindKusanagiCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: DarkKusanagiCritical
//===========================================================================


    function s__DarkKusanagiCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I059') and GetRandomInt(1, 100) <= 20 then
            set damage=GetHeroStr(GetAttacker(), true) + GetHeroAgi(GetAttacker(), true) + GetHeroInt(GetAttacker(), true) + 500
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", bj_lastCreatedUnit, 0, 8.00, 199, 0, 255, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(bj_lastCreatedUnit, GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
 function s__DarkKusanagiCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I059' and not s__DarkKusanagiCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__DarkKusanagiCritical_actions))) // INLINED!!
			set s__DarkKusanagiCritical_b=true
		endif
 endfunction

    function s__DarkKusanagiCritical_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__DarkKusanagiCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: FireKusanagiCritical
//===========================================================================


    function s__FireKusanagiCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I00E') and GetRandomInt(1, 10) <= 2 then
            set damage=500.00 + GetHeroStr(GetAttacker(), true) * 2.0
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", bj_lastCreatedUnit, 0, 8.00, 255, 128, 0, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(bj_lastCreatedUnit, GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 

 function s__FireKusanagiCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I00E' and not s__FireKusanagiCritical_b then
       			call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__FireKusanagiCritical_actions))) // INLINED!!
			set s__FireKusanagiCritical_b=true
		endif
 endfunction
    
    function s__FireKusanagiCritical_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__FireKusanagiCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: IceKusanagiCritical
//===========================================================================


    function s__IceKusanagiCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I02H') and GetRandomInt(1, 100) <= 15 then
            set bj_lastCreatedUnit=CreateAbilityDummy(GetAttacker() , 'ACfn')
            call IssueTargetOrder(bj_lastCreatedUnit, "frostnova", GetTriggerUnit())
            set damage=GetHeroInt(GetAttacker(), true) * 2.0
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 250, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(GetAttacker())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetAttacker(), bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", bj_lastCreatedUnit, 0, 8.00, 83, 164, 255, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(bj_lastCreatedUnit, GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
 function s__IceKusanagiCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I02H' and not s__IceKusanagiCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__IceKusanagiCritical_actions))) // INLINED!!
			set s__IceKusanagiCritical_b=true
		endif
 endfunction
    
    function s__IceKusanagiCritical_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__IceKusanagiCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: BookCritical
//===========================================================================


    function s__BookCritical_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I02J') and GetRandomInt(1, 100) <= 100 then
                if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
		    set damage=GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) * 0.07
                    call UnitDamageTarget(GetAttacker(), GetTriggerUnit(), damage, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)

		    if ( UnitHasItemOfTypeBJ(GetTriggerUnit(), 'clsd') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I054') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I055') or UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I05Q') ) then
                         call UnitDamageTarget(GetTriggerUnit(), GetAttacker(), damage, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		    endif
                    call CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", GetTriggerUnit(), 0, 8.00, 45, 187, 209, 0)
                    call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 50.00, 90.00)
                    call SetTextTagPermanent(bj_lastCreatedTextTag, false)
                    call SetTextTagLifespan(bj_lastCreatedTextTag, 1.50)
                    if not IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                        call SetTextTagVisibility(bj_lastCreatedTextTag, false)
                    endif
                endif
        endif
    endfunction
    
 function s__BookCritical_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I02J' and not s__BookCritical_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__BookCritical_actions))) // INLINED!!
			set s__BookCritical_b=true
		endif
 endfunction
    
    function s__BookCritical_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__BookCritical_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: MedicalNinjaCloth
//===========================================================================


    function s__MedicalNinjaCloth_periodic takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
  local integer id
                local real newhp
		if u == null or not ( UnitHasItemOfTypeBJ(u, 'I05H') or UnitHasItemOfTypeBJ(u, 'I05I') ) then
			set s__s__MedicalNinjaCloth_t[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]= null // INLINED!!
			call ReleaseTimer(GetExpiredTimer())
			set u=null
			return
		endif
		if GetWidgetLife(u) > 0.405 then
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(u), GetUnitY(u), 1000, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				if bj_lastCreatedUnit == u or ( IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(u)) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and GetUnitAbilityLevel(bj_lastCreatedUnit, 'B04P') > 0 ) then
					set id=(GetUnitUserData((bj_lastCreatedUnit))) // INLINED!!
					set newhp=GetWidgetLife(bj_lastCreatedUnit) - s__s__MedicalNinjaCloth_hps[id]
					if newhp > 0 then
						call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) + newhp / 2)
                    elseif IsUnitInGroup(bj_lastCreatedUnit, udg_GreaterMedicalSphereGroup) then
                        call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) - newhp / 2)
                    endif
					set s__s__MedicalNinjaCloth_hps[id]= GetWidgetLife(bj_lastCreatedUnit)
				endif
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
		endif
    endfunction 
    
    function s__MedicalNinjaCloth_startTimer takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) != 'I05H' and GetItemTypeId(GetManipulatedItem()) != 'I05I' then
			return
		endif
		if s__s__MedicalNinjaCloth_t[(GetUnitUserData((GetTriggerUnit())))] == null then // INLINED!!
			set s__s__MedicalNinjaCloth_t[(GetUnitUserData((GetTriggerUnit())))]= NewTimerEx((GetUnitUserData((GetTriggerUnit())))) // INLINED!!
			call TimerStartEx(s__s__MedicalNinjaCloth_t[(GetUnitUserData((GetTriggerUnit())))] , 0.1 , true , function s__MedicalNinjaCloth_periodic , "MedicalNinjaCloth_periodic") // INLINED!!
		endif
    endfunction 

    function s__MedicalNinjaCloth_onInit takes nothing returns nothing
    	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__MedicalNinjaCloth_startTimer))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: SamehadaMana
//===========================================================================


    function s__SamehadaMana_actions takes nothing returns nothing
        if IsUnitEnemy(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) and (UnitHasItemOfTypeBJ((GetAttacker() ), ( 'I03J'))) then // INLINED!!
        	call SetUnitState(GetAttacker(), UNIT_STATE_MANA, GetUnitState(GetAttacker(), UNIT_STATE_MANA) + 100 + GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_MANA) * 0.02)
		call SetUnitState(GetTriggerUnit(), UNIT_STATE_MANA, GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) - 100 - GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_MANA) * 0.02)
    	endif
    endfunction 
    
 function s__SamehadaMana_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I03J' and not s__SamehadaMana_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__SamehadaMana_actions))) // INLINED!!
			set s__SamehadaMana_b=true
		endif
 endfunction

    function s__SamehadaMana_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__SamehadaMana_init))) // INLINED!!
    endfunction 
    

//===========================================================================
// Trigger: KyuubiImmolation
//===========================================================================


    function s__KyuubiImmolation_startTimer takes nothing returns nothing
	if GetItemTypeId(GetManipulatedItem()) != 'I03W' then
		return
	endif
	if s__s__KyuubiImmolation_t[(GetUnitUserData((GetTriggerUnit())))] == null then // INLINED!!
		set s__s__KyuubiImmolation_t[(GetUnitUserData((GetTriggerUnit())))]= NewTimerEx((GetUnitUserData((GetTriggerUnit())))) // INLINED!!
		call TimerStartEx(s__s__KyuubiImmolation_t[(GetUnitUserData((GetTriggerUnit())))] , 1.0 , true , function sc__KyuubiImmolation_periodic , "KyuubiImmolation_periodic") // INLINED!!
	endif
    endfunction 

 function s__KyuubiImmolation_periodic takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
  local integer i
		if u == null or not UnitHasItemOfTypeBJ(u, 'I03W') then
			set s__s__KyuubiImmolation_t[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]= null // INLINED!!
			call ReleaseTimer(GetExpiredTimer())
			set u=null
			return
		endif
		set i=GetPlayerId(GetOwningPlayer(u))
		if GetWidgetLife(u) > 0.405 then
				set bj_lastCreatedGroup=CreateGroup()
				call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(u), GetUnitY(u), 300, null)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					if IsUnitEnemy(bj_lastCreatedUnit, Player(i)) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
						call UnitDamageTarget(udg_units33[i + 1], bj_lastCreatedUnit, GetHeroStr(udg_units33[i + 1], true) / 2, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call DestroyGroup(bj_lastCreatedGroup)
		endif
		set u=null
 endfunction 

 function s__KyuubiImmolation_onInit takes nothing returns nothing
    		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__KyuubiImmolation_startTimer))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: AntiEnergyStones
//===========================================================================



//Implemented from module Alloc:
    
        function s__AntiEnergyStones_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AntiEnergyStones_Alloc__recycle[(0)] == 0 ) then
                set s__AntiEnergyStones_Alloc__instanceCount=s__AntiEnergyStones_Alloc__instanceCount + 1
                set this=s__AntiEnergyStones_Alloc__instanceCount
            else
                set this=s__AntiEnergyStones_Alloc__recycle[(0)]
                set s__AntiEnergyStones_Alloc__recycle[(0)]=s__AntiEnergyStones_Alloc__recycle[s__AntiEnergyStones_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AntiEnergyStones_deallocate takes integer this returns nothing
            set s__AntiEnergyStones_Alloc__recycle[this]=s__AntiEnergyStones_Alloc__recycle[(0)]
            set s__AntiEnergyStones_Alloc__recycle[(0)]=this
        endfunction

 function s__AntiEnergyStones_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer id2
  local integer hp
  local integer mp
		if s__AntiEnergyStones_u[this] == null or not ( UnitHasItemOfTypeBJ(s__AntiEnergyStones_u[this], 'I06J') or UnitHasItemOfTypeBJ(s__AntiEnergyStones_u[this], 'I06L') or UnitHasItemOfTypeBJ(s__AntiEnergyStones_u[this], 'I06K') ) then
			set s__s__AntiEnergyStones_t[s__AntiEnergyStones_id[this]]= null
			call DestroyGroup(s__AntiEnergyStones_yang_units[this])
			set s__AntiEnergyStones_yang_units[this]=null
			call DestroyGroup(s__AntiEnergyStones_yin_units[this])
			set s__AntiEnergyStones_yin_units[this]=null
			set s__AntiEnergyStones_u[this]=null
			call s__Table_destroy(s__AntiEnergyStones_hps[this])
			call s__Table_destroy(s__AntiEnergyStones_mps[this])
			call s__AntiEnergyStones_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
			return
		endif
		if GetWidgetLife(s__AntiEnergyStones_u[this]) > 0.405 then
			if UnitHasItemOfTypeBJ(s__AntiEnergyStones_u[this], 'I06J') or UnitHasItemOfTypeBJ(s__AntiEnergyStones_u[this], 'I06L') then
				set bj_lastCreatedGroup=CreateGroup()
				call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__AntiEnergyStones_u[this]), GetUnitY(s__AntiEnergyStones_u[this]), 900, null)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__AntiEnergyStones_u[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and GetUnitAbilityLevel(bj_lastCreatedUnit, 'B00P') > 0 and not IsUnitInGroup(bj_lastCreatedUnit, s__AntiEnergyStones_yang_units[this]) then
						call SaveInteger(Table___ht, (s__AntiEnergyStones_hps[this]), ((GetUnitUserData((bj_lastCreatedUnit)))), ( R2I(GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE)))) // INLINED!!
						call GroupAddUnit(s__AntiEnergyStones_yang_units[this], bj_lastCreatedUnit)
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call GroupAddGroup(s__AntiEnergyStones_yang_units[this], bj_lastCreatedGroup)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					set id2=(GetUnitUserData((bj_lastCreatedUnit))) // INLINED!!
					if GetWidgetLife(bj_lastCreatedUnit) < 0.405 or GetUnitAbilityLevel(bj_lastCreatedUnit, 'B00P') == 0 then
						call RemoveSavedInteger(Table___ht, (s__AntiEnergyStones_hps[this]), (id2)) // INLINED!!
						call GroupRemoveUnit(s__AntiEnergyStones_yang_units[this], bj_lastCreatedUnit)
					else
						set hp=(LoadInteger(Table___ht, (s__AntiEnergyStones_hps[this]), (id2))) // INLINED!!
						if GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) > hp and not udg_EarthFinish[GetPlayerId(GetOwningPlayer(s__AntiEnergyStones_u[this]))] and not (UnitHasItemOfTypeBJ((bj_lastCreatedUnit ), ( 'I06J'))) and not (UnitHasItemOfTypeBJ((bj_lastCreatedUnit ), ( 'I06L'))) then // INLINED!!
							call SetUnitState(s__AntiEnergyStones_u[this], UNIT_STATE_LIFE, GetUnitState(s__AntiEnergyStones_u[this], UNIT_STATE_LIFE) + GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) - (LoadInteger(Table___ht, (s__AntiEnergyStones_hps[this]), (id2)))) // INLINED!!
						endif
						call SaveInteger(Table___ht, (s__AntiEnergyStones_hps[this]), (id2), ( R2I(GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE)))) // INLINED!!
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call DestroyGroup(bj_lastCreatedGroup)
				set udg_EarthFinish[GetPlayerId(GetOwningPlayer(s__AntiEnergyStones_u[this]))]=false
			endif
			
			if UnitHasItemOfTypeBJ(s__AntiEnergyStones_u[this], 'I06K') or UnitHasItemOfTypeBJ(s__AntiEnergyStones_u[this], 'I06L') then
				set bj_lastCreatedGroup=CreateGroup()
				call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__AntiEnergyStones_u[this]), GetUnitY(s__AntiEnergyStones_u[this]), 900, null)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__AntiEnergyStones_u[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and GetUnitAbilityLevel(bj_lastCreatedUnit, 'B00R') > 0 and not IsUnitInGroup(bj_lastCreatedUnit, s__AntiEnergyStones_yin_units[this]) then
						call SaveInteger(Table___ht, (s__AntiEnergyStones_mps[this]), ((GetUnitUserData((bj_lastCreatedUnit)))), ( R2I(GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA)))) // INLINED!!
						call GroupAddUnit(s__AntiEnergyStones_yin_units[this], bj_lastCreatedUnit)
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call GroupAddGroup(s__AntiEnergyStones_yin_units[this], bj_lastCreatedGroup)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					set id2=(GetUnitUserData((bj_lastCreatedUnit))) // INLINED!!
					if GetWidgetLife(bj_lastCreatedUnit) < 0.405 or GetUnitAbilityLevel(bj_lastCreatedUnit, 'B00R') == 0 then
						call RemoveSavedInteger(Table___ht, (s__AntiEnergyStones_mps[this]), (id2)) // INLINED!!
						call GroupRemoveUnit(s__AntiEnergyStones_yin_units[this], bj_lastCreatedUnit)
					else
						if not udg_FallenSky[GetPlayerId(GetOwningPlayer(s__AntiEnergyStones_u[this]))] then
							set mp=(LoadInteger(Table___ht, (s__AntiEnergyStones_mps[this]), (id2))) // INLINED!!
							if GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA) > mp then
								call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA, mp)
							elseif GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA) < mp then
								call SetUnitState(s__AntiEnergyStones_u[this], UNIT_STATE_LIFE, GetUnitState(s__AntiEnergyStones_u[this], UNIT_STATE_LIFE) + mp - GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA))
								if udg_FallenSky2[GetPlayerId(GetOwningPlayer(s__AntiEnergyStones_u[this]))] then
									//call UnitDamageTarget(u, bj_lastCreatedUnit, mp - GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
								endif
							endif
						endif
						call SaveInteger(Table___ht, (s__AntiEnergyStones_mps[this]), (id2), ( R2I(GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA)))) // INLINED!!
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call DestroyGroup(bj_lastCreatedGroup)
				set udg_FallenSky[GetPlayerId(GetOwningPlayer(s__AntiEnergyStones_u[this]))]=false
			endif
		endif
 endfunction 

    function s__AntiEnergyStones_startTimer takes nothing returns nothing
  local integer this
  local integer id
		if GetItemTypeId(GetManipulatedItem()) != 'I06J' and GetItemTypeId(GetManipulatedItem()) != 'I06K' and GetItemTypeId(GetManipulatedItem()) != 'I06L' then
			return
		endif
		set id=(GetUnitUserData((GetTriggerUnit()))) // INLINED!!
		if s__s__AntiEnergyStones_t[id] == null then
			set this=s__AntiEnergyStones_allocate()
			set s__s__AntiEnergyStones_t[id]= NewTimerEx(this)
			set s__AntiEnergyStones_u[this]=GetTriggerUnit()
			set s__AntiEnergyStones_id[this]=(GetUnitUserData((s__AntiEnergyStones_u[this]))) // INLINED!!
			set s__AntiEnergyStones_yang_units[this]=CreateGroup()
			set s__AntiEnergyStones_yin_units[this]=CreateGroup()
			set s__AntiEnergyStones_hps[this]=s__Table_create()
			set s__AntiEnergyStones_mps[this]=s__Table_create()
			call TimerStartEx(s__s__AntiEnergyStones_t[id] , 0.1 , true , function s__AntiEnergyStones_periodic , "AntiEnergyStones_periodic")
		endif
    endfunction 

 function s__AntiEnergyStones_onInit takes nothing returns nothing
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__AntiEnergyStones_startTimer))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: HokageRobeAura
//===========================================================================




 function s__HokageRobeAura_addStatsToNearbyAllies takes unit u returns nothing
  local integer id= (GetUnitUserData((u))) // INLINED!!
  local unit enumUnit
  local group g
		if s__s__HokageRobeAura_affected[id] == null then
			return
		endif
		loop
			set enumUnit=FirstOfGroup(s__s__HokageRobeAura_affected[id])
			exitwhen enumUnit == null
			call GroupRemoveUnit(s__s__HokageRobeAura_affected[id], enumUnit)
			call ModifyHeroStat(bj_HEROSTAT_STR, enumUnit, bj_MODIFYMETHOD_SUB, 15)
			call ModifyHeroStat(bj_HEROSTAT_AGI, enumUnit, bj_MODIFYMETHOD_SUB, 15)
			call ModifyHeroStat(bj_HEROSTAT_INT, enumUnit, bj_MODIFYMETHOD_SUB, 15)
		endloop
		call GroupClear(s__s__HokageRobeAura_affected[id])
		set g=CreateGroup()
		call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 900, null)
		loop
			set enumUnit=FirstOfGroup(g)
			exitwhen enumUnit == null
			call GroupRemoveUnit(g, enumUnit)
			if GetWidgetLife(enumUnit) > 0.405 and IsUnitAlly(enumUnit, GetOwningPlayer(u)) and IsUnitType(enumUnit, UNIT_TYPE_HERO) == true and not IsUnitIllusion(enumUnit) then
				call GroupAddUnit(s__s__HokageRobeAura_affected[id], enumUnit)
				call ModifyHeroStat(bj_HEROSTAT_STR, enumUnit, bj_MODIFYMETHOD_ADD, 15)
				call ModifyHeroStat(bj_HEROSTAT_AGI, enumUnit, bj_MODIFYMETHOD_ADD, 15)
				call ModifyHeroStat(bj_HEROSTAT_INT, enumUnit, bj_MODIFYMETHOD_ADD, 15)
			endif
		endloop
 endfunction 

 function s__HokageRobeAura_periodic takes nothing returns nothing
  local group g
		set g=CreateGroup()
		call GroupAddGroup(s__HokageRobeAura_casters, g)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(g)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(g, bj_lastCreatedUnit)
			call s__HokageRobeAura_addStatsToNearbyAllies(bj_lastCreatedUnit)
		endloop
		call DestroyGroup(g)
		set g=null
 endfunction 

 function s__HokageRobeAura_equip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I03K' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) then
			call GroupAddUnit(s__HokageRobeAura_casters, GetTriggerUnit())
			set s__s__HokageRobeAura_affected[(GetUnitUserData((GetTriggerUnit())))]= CreateGroup() // INLINED!!
		endif
 endfunction 

 function s__HokageRobeAura_unequip takes nothing returns nothing
  local integer id
		if GetItemTypeId(GetManipulatedItem()) == 'I03K' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) then
			set id=(GetUnitUserData((GetTriggerUnit()))) // INLINED!!
			call GroupRemoveUnit(s__HokageRobeAura_casters, GetTriggerUnit())
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__s__HokageRobeAura_affected[id])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__s__HokageRobeAura_affected[id], bj_lastCreatedUnit)
				call ModifyHeroStat(bj_HEROSTAT_STR, bj_lastCreatedUnit, bj_MODIFYMETHOD_SUB, 15)
				call ModifyHeroStat(bj_HEROSTAT_AGI, bj_lastCreatedUnit, bj_MODIFYMETHOD_SUB, 15)
				call ModifyHeroStat(bj_HEROSTAT_INT, bj_lastCreatedUnit, bj_MODIFYMETHOD_SUB, 15)
			endloop
			call DestroyGroup(s__s__HokageRobeAura_affected[id])
			set s__s__HokageRobeAura_affected[id]= null
		endif
 endfunction 

 function s__HokageRobeAura_onInit takes nothing returns nothing
		set s__HokageRobeAura_casters=CreateGroup()
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__HokageRobeAura_equip))) // INLINED!!
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__HokageRobeAura_unequip))) // INLINED!!
		call TimerStart((NewTimerEx(0)), 1.0, true, function s__HokageRobeAura_periodic) // INLINED!!
 endfunction 


//===========================================================================
// Trigger: KazekageRobeAura
//===========================================================================




 function s__KazekageRobeAura_addStatsToNearbyAllies takes unit u returns nothing
  local integer id= (GetUnitUserData((u))) // INLINED!!
  local unit enumUnit
  local group g
		loop
			set enumUnit=FirstOfGroup(s__s__KazekageRobeAura_affected[id])
			exitwhen enumUnit == null
			call GroupRemoveUnit(s__s__KazekageRobeAura_affected[id], enumUnit)
			call UnitRemoveAbility(enumUnit, 'A17P')
		endloop
		set g=CreateGroup()
		call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 900, null)
		loop
			set enumUnit=FirstOfGroup(g)
			exitwhen enumUnit == null
			call GroupRemoveUnit(g, enumUnit)
			if GetWidgetLife(enumUnit) > 0.405 and IsUnitAlly(enumUnit, GetOwningPlayer(u)) and IsUnitType(enumUnit, UNIT_TYPE_HERO) == true then
				call GroupAddUnit(s__s__KazekageRobeAura_affected[id], enumUnit)
				call UnitAddAbility(enumUnit, 'A17P')
			endif
		endloop
 endfunction 

 function s__KazekageRobeAura_periodic takes nothing returns nothing
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__KazekageRobeAura_casters, bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			call s__KazekageRobeAura_addStatsToNearbyAllies(bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction 

 function s__KazekageRobeAura_equip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I03O' then
			call GroupAddUnit(s__KazekageRobeAura_casters, GetTriggerUnit())
			set s__s__KazekageRobeAura_affected[(GetUnitUserData((GetTriggerUnit())))]= CreateGroup() // INLINED!!
		endif
 endfunction 

 function s__KazekageRobeAura_unequip takes nothing returns nothing
  local integer id
		if GetItemTypeId(GetManipulatedItem()) == 'I03O' then
			set id=(GetUnitUserData((GetTriggerUnit()))) // INLINED!!
			call GroupRemoveUnit(s__KazekageRobeAura_casters, GetTriggerUnit())
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__s__KazekageRobeAura_affected[id])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__s__KazekageRobeAura_affected[id], bj_lastCreatedUnit)
				call UnitRemoveAbility(bj_lastCreatedUnit, 'A17P')
			endloop
			call DestroyGroup(s__s__KazekageRobeAura_affected[id])
			set s__s__KazekageRobeAura_affected[id]= null
		endif
 endfunction 

 function s__KazekageRobeAura_onInit takes nothing returns nothing
		set s__KazekageRobeAura_casters=CreateGroup()
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__KazekageRobeAura_equip))) // INLINED!!
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__KazekageRobeAura_unequip))) // INLINED!!
		call TimerStart((NewTimerEx(0)), 1.0, true, function s__KazekageRobeAura_periodic) // INLINED!!
 endfunction 


//===========================================================================
// Trigger: ItachiRing
//===========================================================================

//Implemented from module Alloc:
    
        function s__ItachiRing_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ItachiRing_Alloc__recycle[(0)] == 0 ) then
                set s__ItachiRing_Alloc__instanceCount=s__ItachiRing_Alloc__instanceCount + 1
                set this=s__ItachiRing_Alloc__instanceCount
            else
                set this=s__ItachiRing_Alloc__recycle[(0)]
                set s__ItachiRing_Alloc__recycle[(0)]=s__ItachiRing_Alloc__recycle[s__ItachiRing_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ItachiRing_deallocate takes integer this returns nothing
            set s__ItachiRing_Alloc__recycle[this]=s__ItachiRing_Alloc__recycle[(0)]
            set s__ItachiRing_Alloc__recycle[(0)]=this
        endfunction

    function s__ItachiRing_death takes nothing returns nothing
	if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) != 'H05O' and GetUnitTypeId(GetTriggerUnit()) != 'U009' and GetUnitTypeId(GetTriggerUnit()) != 'N00Q' and (UnitHasItemOfTypeBJ((GetKillingUnit() ), ( 'I00F'))) and IsUnitType(GetKillingUnit(), UNIT_TYPE_HERO) == true then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
	endif
    endfunction 

    function s__ItachiRing_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__ItachiRing_death))) // INLINED!!
    endfunction 
    

//===========================================================================
// Trigger: KisameRing
//===========================================================================


    function s__KisameRing_startTimer takes nothing returns nothing
	if GetItemTypeId(GetManipulatedItem()) != 'I00H' then
		return
	endif
	if s__s__KisameRing_t[(GetUnitUserData((GetTriggerUnit())))] == null then // INLINED!!
		set s__s__KisameRing_t[(GetUnitUserData((GetTriggerUnit())))]= NewTimerEx((GetUnitUserData((GetTriggerUnit())))) // INLINED!!
		call TimerStartEx(s__s__KisameRing_t[(GetUnitUserData((GetTriggerUnit())))] , 1.0 , true , function sc__KisameRing_periodic , "KisameRing_periodic") // INLINED!!
	endif
    endfunction 

 function s__KisameRing_periodic takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
  local integer i
		if u == null or not UnitHasItemOfTypeBJ(u, 'I00H') then
			set s__s__KisameRing_t[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]= null // INLINED!!
			call ReleaseTimer(GetExpiredTimer())
			set u=null
			return
		endif
		set i=GetPlayerId(GetOwningPlayer(u))
		if GetWidgetLife(u) > 0.405 then
				set bj_lastCreatedGroup=CreateGroup()
				call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(u), GetUnitY(u), 500, null)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					if IsUnitEnemy(bj_lastCreatedUnit, Player(i)) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                        call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA) - GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_MANA) * 0.04)
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call DestroyGroup(bj_lastCreatedGroup)
		endif
		set u=null
 endfunction 

 function s__KisameRing_onInit takes nothing returns nothing
    		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__KisameRing_startTimer))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: SasoriRingGold
//===========================================================================


    function s__SasoriRingGold_actions takes nothing returns nothing
        local real damage
        if not IsUnitIllusion(GetAttacker()) and UnitHasItemOfTypeBJ(GetAttacker(), 'I02S') and GetRandomInt(1, 100) <= 100 and GetOwningPlayer(GetTriggerUnit()) != Player(13) then
                if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetWidgetLife(GetTriggerUnit()) > 0.405 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
		call AdjustPlayerStateBJ(2 * GetHeroLevel(GetAttacker()), GetOwningPlayer(GetAttacker()), PLAYER_STATE_RESOURCE_GOLD)
		call AdjustPlayerStateBJ(- 2 * GetHeroLevel(GetAttacker()), GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD)
                endif
        endif
    endfunction 
    
 function s__SasoriRingGold_init takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I02S' and not s__SasoriRingGold_b then
        		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__SasoriRingGold_actions))) // INLINED!!
			set s__SasoriRingGold_b=true
		endif
 endfunction
    
    function s__SasoriRingGold_onInit takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__SasoriRingGold_init))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: RepairBase
//===========================================================================

function Trig_RepairBase_Actions takes nothing returns nothing
    //call SetUnitState(GetSellingUnit(), UNIT_STATE_LIFE, GetUnitState(GetSellingUnit(), UNIT_STATE_LIFE) + GetUnitState(GetSellingUnit(), UNIT_STATE_MAX_LIFE) * 0.05)
    local unit u= null
    if GetItemTypeId(GetManipulatedItem()) == 'I05A' then
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRect(bj_lastCreatedGroup, GetPlayableMapRect(), null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if ( GetUnitTypeId(bj_lastCreatedUnit) == 'hcas' or GetUnitTypeId(bj_lastCreatedUnit) == 'h00F' or GetUnitTypeId(bj_lastCreatedUnit) == 'h00E' ) then
                if u == null or GetDistanceUnits(GetTriggerUnit() , bj_lastCreatedUnit) < GetDistanceUnits(GetTriggerUnit() , u) then
                    set u=bj_lastCreatedUnit
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + GetUnitState(u, UNIT_STATE_MAX_LIFE) * 0.05)
    endif
endfunction

//===========================================================================
function InitTrig_RepairBase takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_RepairBase_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: Fireworks
//===========================================================================

//Implemented from module Alloc:
    
        function s__Fireworks_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Fireworks_Alloc__recycle[(0)] == 0 ) then
                set s__Fireworks_Alloc__instanceCount=s__Fireworks_Alloc__instanceCount + 1
                set this=s__Fireworks_Alloc__instanceCount
            else
                set this=s__Fireworks_Alloc__recycle[(0)]
                set s__Fireworks_Alloc__recycle[(0)]=s__Fireworks_Alloc__recycle[s__Fireworks_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Fireworks_deallocate takes integer this returns nothing
            set s__Fireworks_Alloc__recycle[this]=s__Fireworks_Alloc__recycle[(0)]
            set s__Fireworks_Alloc__recycle[(0)]=this
        endfunction
    
    function s__Fireworks_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= GetRandomReal(0, 2 * bj_PI)
        local real offset= GetRandomReal(0, 300)
        local real x= (((s__Fireworks_target_x[this] )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
        local real y= (((s__Fireworks_target_y[this] )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
        set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(s__Fireworks_caster[this]) ), ( 'nsc3' ), (( x )*1.0), (( y )*1.0), (( GetRandomReal(0, 360))*1.0))) // INLINED!!
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
        set s__Fireworks_count[this]=s__Fireworks_count[this] + 1
        if s__Fireworks_count[this] > 30 then
            call s__Fireworks_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__Fireworks_actions takes nothing returns nothing
        local integer this= s__Fireworks_allocate()
        set s__Fireworks_caster[this]=GetTriggerUnit()
        set s__Fireworks_target_x[this]=GetSpellTargetX()
        set s__Fireworks_target_y[this]=GetSpellTargetY()
        set s__Fireworks_count[this]=0
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 1000, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true and IsVisibleToPlayer(GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit), GetTriggerPlayer()) then
                call PingMinimapForPlayer(GetTriggerPlayer(), GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit), 5.0)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__Fireworks_periodic)
    endfunction 
    
    function s__Fireworks_death takes nothing returns nothing
        local integer r
        if GetUnitTypeId(GetTriggerUnit()) == 'nsc3' then
            set r=GetRandomInt(1, 3)
            if r == 1 then
                set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'ncnk' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( GetRandomReal(0, 360))*1.0))) // INLINED!!
            elseif r == 2 then
                set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'nscb' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( GetRandomReal(0, 360))*1.0))) // INLINED!!
            else
                set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'nsc2' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( GetRandomReal(0, 360))*1.0))) // INLINED!!
            endif
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
        endif
    endfunction 
    
    function s__Fireworks_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('A0JJ' ) , Filter(( function s__Fireworks_actions))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__Fireworks_death))) // INLINED!!
    endfunction 
    


//===========================================================================
// Trigger: Firecrackers
//===========================================================================

function Trig_FBP_Conditions takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ncks' ) )
endfunction

function Trig_FBP_Func006001003001 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_FBP_Func006001003002001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_FBP_Func006001003002002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction

function Trig_FBP_Func006001003002 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ))
endfunction

function Trig_FBP_Func006001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )) ))
endfunction

function Trig_FBP_Func006A takes nothing returns nothing
	set udg_locations03[301]=GetUnitLoc(GetEnumUnit())
	//call AddSpecialEffectLocBJEX(udg_locations03[301],"Abilities\\Weapons\\CannonTowerMissile\\CannonTowerMissile.mdl")
call AddSpecialEffectLocBJ((udg_locations03[301] ), ( "AnimationExplosion.mdx")) // INLINED!!
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(GetEnumUnit()) , GetUnitY(GetEnumUnit())))
	call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 0.5)
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.3)
	call DestroyEffect(bj_lastCreatedEffect)
	if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
		call StunUnitTimed(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] , GetEnumUnit() , 1.0)
	else
		//call StunUnitTimed(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))+1], GetEnumUnit(), 5.0)
	endif
	call UnitDamageTarget(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1], GetEnumUnit(), 600.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	call RemoveLocation(udg_locations03[301])
endfunction

function Trig_FBP_Actions takes nothing returns nothing
	set udg_locations07[40]=GetUnitLoc(GetTriggerUnit())
	//call AddSpecialEffectLocBJEX(udg_locations03[300],"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call AddSpecialEffectLocBJ((udg_locations03[300] ), ( "FireCrack.mdx")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=5
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		//call AddSpecialEffectLocBJEX(udg_locations07[40],"FireCrack.mdx")
		call DestroyEffect(bj_lastCreatedEffect)
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00, udg_locations07[40], Condition(function Trig_FBP_Func006001003)), function Trig_FBP_Func006A)
	call RemoveLocation(udg_locations07[40])
	call RemoveUnit(GetTriggerUnit())
endfunction


//===========================================================================
function InitTrig_Firecrackers takes nothing returns nothing
	set udg_trigger429=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger429, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(udg_trigger429, Condition(function Trig_FBP_Conditions))
	call TriggerAddAction(udg_trigger429, function Trig_FBP_Actions)
endfunction


//===========================================================================
// Trigger: BijuuEssence
//===========================================================================

    
    function s__BijuuEssence_actions takes nothing returns nothing
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
        call SetUnitState(GetTriggerUnit(), UNIT_STATE_MANA, GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) + 1000)
    endfunction 
    
    function s__BijuuEssence_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__BijuuEssence_SPELL_ID ) , Filter(( function s__BijuuEssence_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: WireStrings
//===========================================================================

//Implemented from module Alloc:
    
        function s__WireStrings_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__WireStrings_Alloc__recycle[(0)] == 0 ) then
                set s__WireStrings_Alloc__instanceCount=s__WireStrings_Alloc__instanceCount + 1
                set this=s__WireStrings_Alloc__instanceCount
            else
                set this=s__WireStrings_Alloc__recycle[(0)]
                set s__WireStrings_Alloc__recycle[(0)]=s__WireStrings_Alloc__recycle[s__WireStrings_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__WireStrings_deallocate takes integer this returns nothing
            set s__WireStrings_Alloc__recycle[this]=s__WireStrings_Alloc__recycle[(0)]
            set s__WireStrings_Alloc__recycle[(0)]=this
        endfunction
    
    function s__WireStrings_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x
  local real y
  local real angle
        set s__WireStrings_count[this]=s__WireStrings_count[this] + 0.03
		if IsUnitEnemy(s__WireStrings_target[this], GetOwningPlayer(s__WireStrings_caster[this])) and GetDistanceUnits(s__WireStrings_caster[this] , s__WireStrings_target[this]) > 600 and GetDistanceUnits(s__WireStrings_caster[this] , s__WireStrings_target[this]) < 3000 then
			set angle=Atan3(GetUnitX(s__WireStrings_caster[this]) , GetUnitY(s__WireStrings_caster[this]) , GetUnitX(s__WireStrings_target[this]) , GetUnitY(s__WireStrings_target[this]))
			call UnitDamageTarget(s__WireStrings_caster[this], s__WireStrings_target[this], 6.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			set x=(((GetUnitX(s__WireStrings_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 600)*1.0)) // INLINED!!
			set y=(((GetUnitY(s__WireStrings_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 600)*1.0)) // INLINED!!
			call SetUnitX(s__WireStrings_target[this], x)
			call SetUnitY(s__WireStrings_target[this], y)
		endif
        if GetUnitAbilityLevel(s__WireStrings_target[this], 'B05H') == 0 then
			if IsUnitAlly(s__WireStrings_target[this], GetOwningPlayer(s__WireStrings_caster[this])) then
				call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__WireStrings_target[this]) )*1.0), (( GetUnitY(s__WireStrings_target[this]))*1.0))) // INLINED!!
				call SetUnitX(s__WireStrings_target[this], s__WireStrings_x[this])
				call SetUnitY(s__WireStrings_target[this], s__WireStrings_y[this])
				call UnitRemoveAbility(s__WireStrings_target[this], 'B05H')
			endif
            set s__WireStrings_target[this]=null
            call s__WireStrings_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
	elseif GetWidgetLife(s__WireStrings_caster[this]) < 0.405 then
            set s__WireStrings_target[this]=null
            call s__WireStrings_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__WireStrings_actions takes nothing returns nothing
        local integer this= s__WireStrings_allocate()
        set s__WireStrings_caster[this]=GetTriggerUnit()
        set s__WireStrings_target[this]=GetSpellTargetUnit()
        set s__WireStrings_x[this]=GetUnitX(s__WireStrings_target[this])
        set s__WireStrings_y[this]=GetUnitY(s__WireStrings_target[this])
        set s__WireStrings_count[this]=0
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__WireStrings_periodic , "WireStrings_periodic")
    endfunction
    
    function s__WireStrings_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__WireStrings_SPELL_ID ) , Filter(( function s__WireStrings_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: MedicalSphere
//===========================================================================

//Implemented from module Alloc:
    
        function s__MedicalSphere_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__MedicalSphere_Alloc__recycle[(0)] == 0 ) then
                set s__MedicalSphere_Alloc__instanceCount=s__MedicalSphere_Alloc__instanceCount + 1
                set this=s__MedicalSphere_Alloc__instanceCount
            else
                set this=s__MedicalSphere_Alloc__recycle[(0)]
                set s__MedicalSphere_Alloc__recycle[(0)]=s__MedicalSphere_Alloc__recycle[s__MedicalSphere_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__MedicalSphere_deallocate takes integer this returns nothing
            set s__MedicalSphere_Alloc__recycle[this]=s__MedicalSphere_Alloc__recycle[(0)]
            set s__MedicalSphere_Alloc__recycle[(0)]=this
        endfunction

    function s__MedicalSphere_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__MedicalSphere_target_x[this], s__MedicalSphere_target_y[this], 600.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(s__MedicalSphere_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) + GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_LIFE) * 0.03)
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Heal Green.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__MedicalSphere_count[this]=s__MedicalSphere_count[this] + 1
        if s__MedicalSphere_count[this] >= 10 then
            call s__MedicalSphere_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__MedicalSphere_actions takes nothing returns nothing
        local integer this= s__MedicalSphere_allocate()
        set s__MedicalSphere_caster[this]=GetTriggerUnit()
        set s__MedicalSphere_target_x[this]=GetUnitX(GetTriggerUnit())
        set s__MedicalSphere_target_y[this]=GetUnitY(GetTriggerUnit())
        set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'n00I' ), (( s__MedicalSphere_target_x[this] )*1.0), (( s__MedicalSphere_target_y[this] )*1.0), (( 270)*1.0))) // INLINED!!
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 10.0)
        set s__MedicalSphere_count[this]=0
        call TimerStartEx(NewTimerEx(this) , 1.0 , true , function s__MedicalSphere_periodic , "MedicalSphere_periodic")
    endfunction 
    
    function s__MedicalSphere_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__MedicalSphere_SPELL_ID ) , Filter(( function s__MedicalSphere_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: WoodOfSubstitution
//===========================================================================
    
//Implemented from module Alloc:
    
        function s__WoodOfSubstitution_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__WoodOfSubstitution_Alloc__recycle[(0)] == 0 ) then
                set s__WoodOfSubstitution_Alloc__instanceCount=s__WoodOfSubstitution_Alloc__instanceCount + 1
                set this=s__WoodOfSubstitution_Alloc__instanceCount
            else
                set this=s__WoodOfSubstitution_Alloc__recycle[(0)]
                set s__WoodOfSubstitution_Alloc__recycle[(0)]=s__WoodOfSubstitution_Alloc__recycle[s__WoodOfSubstitution_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__WoodOfSubstitution_deallocate takes integer this returns nothing
            set s__WoodOfSubstitution_Alloc__recycle[this]=s__WoodOfSubstitution_Alloc__recycle[(0)]
            set s__WoodOfSubstitution_Alloc__recycle[(0)]=this
        endfunction
    
    
    function s__WoodOfSubstitution_remove takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__WoodOfSubstitution_dummy[this]) )*1.0), (( GetUnitY(s__WoodOfSubstitution_dummy[this]))*1.0))) // INLINED!!
        call RecycleUnit(s__WoodOfSubstitution_dummy[this])
        call ReleaseTimer(GetExpiredTimer())
        call SelectUnitForPlayerSingle(s__WoodOfSubstitution_caster[this], GetOwningPlayer(s__WoodOfSubstitution_caster[this]))
        set s__WoodOfSubstitution_caster[this]=null
	call KillUnit(s__WoodOfSubstitution_dummy[this])
	call ShowUnit(s__WoodOfSubstitution_dummy[this], false)
        set s__WoodOfSubstitution_dummy[this]=null
        call s__WoodOfSubstitution_deallocate(this)
        set this=0
    endfunction 
    
    
    function s__WoodOfSubstitution_actions takes nothing returns nothing
        local integer this= s__WoodOfSubstitution_allocate()
        local integer i= 0
        local real angle
        local real offset
        local real x
        local real y
        set s__WoodOfSubstitution_caster[this]=GetTriggerUnit()
        loop
            exitwhen i > 3
            set angle=GetRandomReal(0, 2 * bj_PI)
            set offset=GetRandomReal(0, 200)
            set x=(((GetUnitX(s__WoodOfSubstitution_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set y=(((GetUnitY(s__WoodOfSubstitution_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set s__WoodOfSubstitution_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e04G', x, y, 72 * i)
            //call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(50, 200), 0)
            //call SetUnitScale(bj_lastCreatedUnit, 6.0, 6.0, 6.0)
            call SetUnitMoveSpeed(s__WoodOfSubstitution_dummy[this], 300)
            set x=(((GetUnitX(s__WoodOfSubstitution_dummy[this]) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__WoodOfSubstitution_dummy[this])) )*1.0)) * (( 800)*1.0)) // INLINED!!
            set y=(((GetUnitY(s__WoodOfSubstitution_dummy[this]) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__WoodOfSubstitution_dummy[this])) )*1.0)) * (( 800)*1.0)) // INLINED!!
            call IssuePointOrder(s__WoodOfSubstitution_dummy[this], "move", x, y)
            call SetUnitVertexColor(s__WoodOfSubstitution_dummy[this], 255, 255, 255, 100)
            call UnitApplyTimedLife(s__WoodOfSubstitution_dummy[this], 'BTLF', 5.0)
            set i=i + 1
        endloop
        set s__WoodOfSubstitution_dummy[this]=GetDummy(GetTriggerPlayer() , "war3mapImported\\wood.mdx" , GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , 270)
        call SetUnitFlyHeight(s__WoodOfSubstitution_dummy[this], 300, 0)
        call SetUnitFlyHeight(s__WoodOfSubstitution_dummy[this], 0, 300)
        call TimerStartEx(NewTimerEx(this) , 2.1 , false , function s__WoodOfSubstitution_remove , "WoodOfSubstitution_remove")
        set bj_lastCreatedUnit=GetInvisibleDummy(GetTriggerPlayer() , GetUnitX(s__WoodOfSubstitution_caster[this]) , GetUnitY(s__WoodOfSubstitution_caster[this]))
        call UnitAddAbility(bj_lastCreatedUnit, 'A0DO')
        call IssuePointOrder(bj_lastCreatedUnit, "farsight", GetUnitX(s__WoodOfSubstitution_caster[this]), GetUnitY(s__WoodOfSubstitution_caster[this]))
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 5.0)
        set bj_lastCreatedUnit=null
    endfunction 
    
    function s__WoodOfSubstitution_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__WoodOfSubstitution_SPELL_ID ) , Filter(( function s__WoodOfSubstitution_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: SmokeBomb
//===========================================================================

//Implemented from module Alloc:
    
        function s__SmokeBomb_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__SmokeBomb_Alloc__recycle[(0)] == 0 ) then
                set s__SmokeBomb_Alloc__instanceCount=s__SmokeBomb_Alloc__instanceCount + 1
                set this=s__SmokeBomb_Alloc__instanceCount
            else
                set this=s__SmokeBomb_Alloc__recycle[(0)]
                set s__SmokeBomb_Alloc__recycle[(0)]=s__SmokeBomb_Alloc__recycle[s__SmokeBomb_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__SmokeBomb_deallocate takes integer this returns nothing
            set s__SmokeBomb_Alloc__recycle[this]=s__SmokeBomb_Alloc__recycle[(0)]
            set s__SmokeBomb_Alloc__recycle[(0)]=this
        endfunction
    
    function s__SmokeBomb_removeInivis takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer id= GetUnitPointValueByType(GetUnitTypeId(s__SmokeBomb_caster[this]))
        call UnitAddAbility(s__SmokeBomb_caster[this], 'Arav')
        call UnitRemoveAbility(s__SmokeBomb_caster[this], 'Arav')
        call SetUnitFlyHeight(s__SmokeBomb_caster[this], 0, 0)
        call UnitSetUsesAltIcon(s__SmokeBomb_caster[this], false)
        //if herosize[id] != 0 then
        //    call SetUnitScale(this.caster, herosize[id], herosize[id], herosize[id]) 
        //else
        //    call SetUnitScale(this.caster, 1.0, 1.0, 1.0) 
        //endif 
        call s__SmokeBomb_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__SmokeBomb_death takes nothing returns nothing
        local integer this
        local integer i
        local real angle
        local real offset
        local real x
        local real y
        local unit u
        if GetUnitTypeId(GetTriggerUnit()) == 'nchg' then
            set i=0
            loop
                exitwhen i > 30
                set angle=GetRandomReal(0, 2 * bj_PI)
                set offset=GetRandomReal(0, 250)
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'z008', x, y, GetRandomReal(0, 360))
                call SetUnitScale(bj_lastCreatedUnit, 6.0, 6.0, 6.0)
                call SetUnitMoveSpeed(bj_lastCreatedUnit, 100)
                call SetUnitVertexColor(bj_lastCreatedUnit, 175, 100, 255, 255)
call UnitAddAbility((bj_lastCreatedUnit ), ( 'A03E')) // INLINED!!
                call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(50, 200), 100)
                set angle=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , x , y)
                set x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( angle )*1.0)) * (( 400)*1.0)) // INLINED!!
                set y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( angle )*1.0)) * (( 400)*1.0)) // INLINED!!
                call IssuePointOrder(bj_lastCreatedUnit, "move", x, y)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 6.0)
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitAlly(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    set u=CreateAbilityDummy(bj_lastCreatedUnit , 'Aivs')
                    call IssueTargetOrder(u, "invisibility", bj_lastCreatedUnit)
                    set u=CreateAbilityDummy(bj_lastCreatedUnit , 'A118')
                    call IssueTargetOrder(u, "bloodlust", bj_lastCreatedUnit)
                    call UnitRemoveBuffs(bj_lastCreatedUnit, false, true)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set u=null
            
            set this=s__SmokeBomb_allocate()
            set s__SmokeBomb_caster[this]=udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
            //call SetUnitScale(this.caster, 0, 0, 0)
            call UnitAddAbility(s__SmokeBomb_caster[this], 'Arav')
            call UnitRemoveAbility(s__SmokeBomb_caster[this], 'Arav')
            //call SetUnitFlyHeight(this.caster, 5000, 0)
            call UnitSetUsesAltIcon(s__SmokeBomb_caster[this], true)
            //call ShowUnit(this.caster, false)
            //call ShowUnit(this.caster, true)
            //call SelectUnitForPlayerSingle(this.caster, GetOwningPlayer(this.caster))
            
            call TimerStartEx(NewTimerEx(this) , 3.0 , false , function s__SmokeBomb_removeInivis , "SmokeBomb_removeInvis")
        endif
    endfunction 
    
    function s__SmokeBomb_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__SmokeBomb_death))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: FlashBomb
//===========================================================================
function Trig_FlashBomb_Actions2 takes nothing returns nothing
    local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
    local unit uu
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(u), GetUnitY(u), 800, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(u)) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
        if GetUnitAbilityLevel(bj_lastCreatedUnit, 'B01P') > 0 then
                    set uu=CreateAbilityDummy(u , 'A0RJ')
                    call IssueTargetOrder(uu, "faeriefire", bj_lastCreatedUnit)
        endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    call KillUnit(u)
    set u=null
    set uu=null
    call ReleaseTimer(GetExpiredTimer())
endfunction

function Trig_FlashBomb_Actions takes nothing returns nothing
    local integer i
    local real x
    local real y
    local unit u
    if GetUnitTypeId(GetTriggerUnit()) == 'n014' then
        set i=0
        loop
            exitwhen i > 10
            set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
            set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
            set bj_lastCreatedEffect=AddSpecialEffect("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl", x, y)
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.3)
        call DestroyEffect(bj_lastCreatedEffect)
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\Fireworkswhite.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("SuperShinyThingy.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=i + 1
        endloop
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 400, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set u=CreateAbilityDummy(GetTriggerUnit() , 'A0IM')
                call IssueTargetOrder(u, "soulburn", bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
        call TimerStart(NewTimerEx((GetUnitUserData((bj_lastCreatedUnit)))), 0.5, false, function Trig_FlashBomb_Actions2) // INLINED!!
    endif
endfunction

function Trig_FlashBomb_Evasion takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B04J') > 0 then
        call IssueImmediateOrder(GetTriggerUnit(), "stop")
        call UnitRemoveAbility(GetTriggerUnit(), 'B04J')
    endif
endfunction

//===========================================================================
function InitTrig_FlashBomb takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_FlashBomb_Actions))) // INLINED!!
    //call RegisterPlayerUnitEvent(EVENT_PLAYER_UNIT_SPELL_CAST, function Trig_FlashBomb_Evasion)
endfunction
//===========================================================================
// Trigger: Body Replacing Doll
//===========================================================================
function Trig_Body_Replacing_Doll_Actions takes nothing returns nothing
    local real caster_x= GetUnitX(GetTriggerUnit())
    local real caster_y= GetUnitY(GetTriggerUnit())
    local real target_x= GetUnitX(GetSpellTargetUnit())
    local real target_y= GetUnitY(GetSpellTargetUnit())
    if not UnitHasItemOfTypeBJ(GetSpellTargetUnit(), 'I05S') and not UnitHasBuffBJ(GetSpellTargetUnit(), 'B038') and GetTriggerUnit() != udg_YaguraBodyswap then
    if GetUnitTypeId(GetTriggerUnit()) != 'ncop' then
          call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( caster_x )*1.0), (( caster_y)*1.0))) // INLINED!!
          call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( target_x )*1.0), (( target_y)*1.0))) // INLINED!!
      if not IsTerrainPathable(caster_x, caster_y, PATHING_TYPE_WALKABILITY) then
              call SetUnitPosition(GetSpellTargetUnit(), caster_x, caster_y)
      endif
          call SetUnitX(GetTriggerUnit(), target_x)
          call SetUnitY(GetTriggerUnit(), target_y)
    endif
    endif
endfunction

//===========================================================================
function InitTrig_Body_Replacing_Doll takes nothing returns nothing
    call RegisterSpellEffectEvent2(('A08S' ) , Filter(( function Trig_Body_Replacing_Doll_Actions))) // INLINED!!
    call RegisterSpellEffectEvent2(('A0IE' ) , Filter(( function Trig_Body_Replacing_Doll_Actions))) // INLINED!!
    //call RegisterSpellEffectEvent('A042', function Trig_Body_Replacing_Doll_Actions)
endfunction
//===========================================================================
// Trigger: YataMirror
//===========================================================================

//Implemented from module Alloc:
    
        function s__YataMirror_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__YataMirror_Alloc__recycle[(0)] == 0 ) then
                set s__YataMirror_Alloc__instanceCount=s__YataMirror_Alloc__instanceCount + 1
                set this=s__YataMirror_Alloc__instanceCount
            else
                set this=s__YataMirror_Alloc__recycle[(0)]
                set s__YataMirror_Alloc__recycle[(0)]=s__YataMirror_Alloc__recycle[s__YataMirror_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__YataMirror_deallocate takes integer this returns nothing
            set s__YataMirror_Alloc__recycle[this]=s__YataMirror_Alloc__recycle[(0)]
            set s__YataMirror_Alloc__recycle[(0)]=this
        endfunction
    
    
    function s__YataMirror_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call PauseUnit(s__YataMirror_target[this], false)
        call SetUnitInvulnerable(s__YataMirror_target[this], false)
        call DestroyEffect(s__YataMirror_e[this])
        if s__YataMirror_speed[this] > 0 then
            call SetUnitPropWindow(s__YataMirror_target[this], s__YataMirror_speed[this])
        endif
        set s__YataMirror_e[this]=null
        set s__YataMirror_target[this]=null
        call s__YataMirror_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__YataMirror_invul takes nothing returns nothing
 local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitInvulnerable(s__YataMirror_target[this], true)
        //call UnitRemoveBuffs(this.target, false, true)
	call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__YataMirror_actions takes nothing returns nothing
        local integer this= s__YataMirror_allocate()
        set s__YataMirror_target[this]=GetSpellTargetUnit()
        set s__YataMirror_e[this]=(AddSpecialEffectTarget(("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl" ), ( s__YataMirror_target[this] ), ( "overhead"))) // INLINED!!
        set s__YataMirror_speed[this]=GetUnitPropWindow(s__YataMirror_target[this])
        call SetUnitPropWindow(s__YataMirror_target[this], 0)
        if IsUnitAlly(s__YataMirror_target[this], GetTriggerPlayer()) and s__YataMirror_target[this] != GetTriggerUnit() then
            call SetUnitInvulnerable(s__YataMirror_target[this], true)
	    call PauseUnit(s__YataMirror_target[this], true)
            //call UnitRemoveBuffs(this.target, false, true)
        endif
        if GetSpellTargetUnit() == GetTriggerUnit() or IsUnitEnemy(GetSpellTargetUnit(), GetTriggerPlayer()) then
            call TimerStart(NewTimerEx(this), 3.0, false, function s__YataMirror_finish)
	    call PauseUnit(s__YataMirror_target[this], true)
	    //call SilenceUnitLight2(gg_unit_H0A9_0068, GetTriggerUnit())
	    call TimerStartEx(NewTimerEx(this) , 0.1 , false , function s__YataMirror_invul , "YataMirror_invul")
        else
            call TimerStartEx(NewTimerEx(this) , 3.0 , false , function s__YataMirror_finish , "YataMirror_finish")
        endif
    endfunction
    
    function s__YataMirror_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('A0LV' ) , Filter(( function s__YataMirror_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: Oil
//===========================================================================

//Implemented from module Alloc:
    
        function s__Oil_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Oil_Alloc__recycle[(0)] == 0 ) then
                set s__Oil_Alloc__instanceCount=s__Oil_Alloc__instanceCount + 1
                set this=s__Oil_Alloc__instanceCount
            else
                set this=s__Oil_Alloc__recycle[(0)]
                set s__Oil_Alloc__recycle[(0)]=s__Oil_Alloc__recycle[s__Oil_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Oil_deallocate takes integer this returns nothing
            set s__Oil_Alloc__recycle[this]=s__Oil_Alloc__recycle[(0)]
            set s__Oil_Alloc__recycle[(0)]=this
        endfunction
    
    function s__Oil_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__Oil_count[this]=s__Oil_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__Oil_target_x[this], s__Oil_target_y[this], 400, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if bj_lastCreatedUnit != s__Oil_caster[this] and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Oil_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    call UnitDamageTarget(s__Oil_caster[this], bj_lastCreatedUnit, 340, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__Oil_count[this] >= 3 then
	    call s__Oil_deallocate(this)
	    call KillUnit(s__Oil_dummy_oil)
	    call ShowUnit(s__Oil_dummy_oil, false)
	    set s__Oil_dummy_oil=null
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 



    function s__Oil_throw takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
 local real dist
 local real angle1
 local real x1
 local real y1
 local integer i
 local real x= GetUnitX(s__Oil_projectile[this])
 local real y= GetUnitY(s__Oil_projectile[this])
 local real angle= Atan3(x , y , s__Oil_target_x[this] , s__Oil_target_y[this])
 local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
 local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
 local real h= ParabolaZ(400 , s__Oil_dist_caster[this] , s__Oil_dist_caster[this] - GetDistance(new_x , new_y , s__Oil_target_x[this] , s__Oil_target_y[this]))
	call SetUnitFlyHeight(s__Oil_projectile[this], h, 0)
	call SetUnitX(s__Oil_projectile[this], new_x)
	call SetUnitY(s__Oil_projectile[this], new_y)
	if GetDistance(x , y , s__Oil_target_x[this] , s__Oil_target_y[this]) < 50 then
	   call KillUnit(s__Oil_projectile[this])
	   call ShowUnit(s__Oil_projectile[this], false)
	   set s__Oil_projectile[this]=null
	   	set i=0
	   	loop
                	set i=i + 1
                	exitwhen i > 30
			set dist=GetRandomReal(0, 300)
			set angle1=Deg2Rad(GetRandomReal(0, 360))
			set x1=(((s__Oil_target_x[this] )*1.0) + Cos((( angle1 )*1.0)) * (( dist)*1.0)) // INLINED!!
			set y1=(((s__Oil_target_y[this] )*1.0) + Sin((( angle1 )*1.0)) * (( dist)*1.0)) // INLINED!!
                	set bj_lastCreatedEffect=AddSpecialEffect("Abilities\\Spells\\Orc\\LiquidFire\\Liquidfire.mdl", x1, y1)
                	call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 4.0)*1.0) , false) // INLINED!!
           	 endloop
           set bj_lastCreatedGroup=CreateGroup()
           call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__Oil_target_x[this], s__Oil_target_y[this], 400, null)
           loop
               set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
               exitwhen bj_lastCreatedUnit == null
               if bj_lastCreatedUnit != s__Oil_caster[this] and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Oil_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    call UnitDamageTarget(s__Oil_caster[this], bj_lastCreatedUnit, 340, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
               endif
               call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
           endloop
           call DestroyGroup(bj_lastCreatedGroup)
           call TimerStart(NewTimerEx(this), 1.0, true, function s__Oil_periodic)
           call ReleaseTimer(GetExpiredTimer())
	endif
    endfunction 


    function s__Oil_actions takes nothing returns nothing
        local integer this= s__Oil_allocate()
 local integer i= 0
        set s__Oil_caster[this]=GetTriggerUnit()
	set s__Oil_target_x[this]=GetSpellTargetX()
        set s__Oil_target_y[this]=GetSpellTargetY()
        set s__Oil_count[this]=0
	set s__Oil_dummy_oil=CreateUnit(GetOwningPlayer(s__Oil_caster[this]), 'e007', s__Oil_target_x[this], s__Oil_target_y[this], 270)
	call UnitApplyTimedLife(s__Oil_dummy_oil, 'BTLF', 4.5)
	set s__Oil_projectile[this]=CreateUnit(GetOwningPlayer(s__Oil_caster[this]), 'e089', GetUnitX(s__Oil_caster[this]), GetUnitY(s__Oil_caster[this]), 270)
	set s__Oil_dist_caster[this]=GetDistance(GetUnitX(s__Oil_caster[this]) , GetUnitY(s__Oil_caster[this]) , s__Oil_target_x[this] , s__Oil_target_y[this])
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            	call PlaySoundOnUnitBJ(gg_snd_StrongDrinkMissile1, 100.0, GetTriggerUnit())
        endif
        call TimerStart(NewTimerEx(this), 0.03, true, function s__Oil_throw)
    endfunction 
    
    function s__Oil_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__Oil_SPELL_ID ) , Filter(( function s__Oil_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: PoisonPills
//===========================================================================

//Implemented from module Alloc:
    
        function s__PoisonPill_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__PoisonPill_Alloc__recycle[(0)] == 0 ) then
                set s__PoisonPill_Alloc__instanceCount=s__PoisonPill_Alloc__instanceCount + 1
                set this=s__PoisonPill_Alloc__instanceCount
            else
                set this=s__PoisonPill_Alloc__recycle[(0)]
                set s__PoisonPill_Alloc__recycle[(0)]=s__PoisonPill_Alloc__recycle[s__PoisonPill_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__PoisonPill_deallocate takes integer this returns nothing
            set s__PoisonPill_Alloc__recycle[this]=s__PoisonPill_Alloc__recycle[(0)]
            set s__PoisonPill_Alloc__recycle[(0)]=this
        endfunction

    function s__PoisonPill_destroy takes integer this returns nothing
        call DestroyGroup(s__PoisonPill_damaged[this])
        set s__PoisonPill_caster[this]=null
        set s__PoisonPill_damaged[this]=null
        call s__PoisonPill_deallocate(this)
    endfunction
    
    function s__PoisonPill_poison takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__PoisonPill_count2[this]=s__PoisonPill_count2[this] + 1
        if s__PoisonPill_target[this] != null and GetUnitState(s__PoisonPill_target[this], UNIT_STATE_LIFE) >= 250.0 then
            call UnitDamageTarget(s__PoisonPill_caster[this], s__PoisonPill_target[this], 220, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
        endif
        if s__PoisonPill_count2[this] >= 10 then
            call s__PoisonPill_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__PoisonPill_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer this2
        local unit u
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__PoisonPill_target_x[this], s__PoisonPill_target_y[this], 300.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__PoisonPill_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__PoisonPill_damaged[this]) then
                    call GroupAddUnit(s__PoisonPill_damaged[this], bj_lastCreatedUnit)
                    set this2=s__PoisonPill_allocate()
                    set s__PoisonPill_caster[this2]=s__PoisonPill_caster[this]
                    set s__PoisonPill_target[this2]=bj_lastCreatedUnit
                    set s__PoisonPill_count2[this2]=0
                    call TimerStart(NewTimerEx(this2), 1.0, true, function s__PoisonPill_poison)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        set s__PoisonPill_count[this]=s__PoisonPill_count[this] + 1
        if s__PoisonPill_count[this] >= 100 then
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    

   function s__PoisonPill_throw takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
 local real dist
 local real angle1
 local real x1
 local real y1
 local integer i
 local real x= GetUnitX(s__PoisonPill_projectile[this])
 local real y= GetUnitY(s__PoisonPill_projectile[this])
 local real angle= Atan3(x , y , s__PoisonPill_target_x[this] , s__PoisonPill_target_y[this])
 local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
 local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
 local real h= ParabolaZ(400 , s__PoisonPill_dist_caster[this] , s__PoisonPill_dist_caster[this] - GetDistance(new_x , new_y , s__PoisonPill_target_x[this] , s__PoisonPill_target_y[this]))
	call SetUnitFlyHeight(s__PoisonPill_projectile[this], h, 0)
	call SetUnitX(s__PoisonPill_projectile[this], new_x)
	call SetUnitY(s__PoisonPill_projectile[this], new_y)
	set s__PoisonPill_count2[this]=s__PoisonPill_count2[this] + 1
	if GetDistance(x , y , s__PoisonPill_target_x[this] , s__PoisonPill_target_y[this]) < 50 then
	   call KillUnit(s__PoisonPill_projectile[this])
	   call ShowUnit(s__PoisonPill_projectile[this], false)
	   set s__PoisonPill_projectile[this]=null
		//if ModuloInteger(this.count, 15) == 1 then 
		set i=0
		loop
                	set i=i + 1
                	exitwhen i > 4
			set dist=GetRandomReal(0, 200)
			set angle1=Deg2Rad(GetRandomReal(0, 360))
			set x1=(((s__PoisonPill_target_x[this] )*1.0) + Cos((( angle1 )*1.0)) * (( dist)*1.0)) // INLINED!!
			set y1=(((s__PoisonPill_target_y[this] )*1.0) + Sin((( angle1 )*1.0)) * (( dist)*1.0)) // INLINED!!
                	set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__PoisonPill_caster[this]), 'ntkw', x1, y1, 72 * i)
                	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 10.0)
           	 endloop
		//endif
           call TimerStartEx(NewTimerEx(this) , 0.1 , true , function s__PoisonPill_periodic , "PoisonPill_periodic")
           call ReleaseTimer(GetExpiredTimer())
	endif
    endfunction 


    function s__PoisonPill_actions takes nothing returns nothing
        local integer this= s__PoisonPill_allocate()
        set s__PoisonPill_caster[this]=GetTriggerUnit()
        set s__PoisonPill_count[this]=0
        set s__PoisonPill_count2[this]=0
	set s__PoisonPill_target_x[this]=GetSpellTargetX()
	set s__PoisonPill_target_y[this]=GetSpellTargetY()
        set s__PoisonPill_damaged[this]=CreateGroup()
        set s__PoisonPill_target[this]=null
	set s__PoisonPill_projectile[this]=CreateUnit(GetOwningPlayer(s__PoisonPill_caster[this]), 'e08A', GetUnitX(s__PoisonPill_caster[this]), GetUnitY(s__PoisonPill_caster[this]), 270)
	set s__PoisonPill_dist_caster[this]=GetDistance(GetUnitX(s__PoisonPill_caster[this]) , GetUnitY(s__PoisonPill_caster[this]) , s__PoisonPill_target_x[this] , s__PoisonPill_target_y[this])
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            	call PlaySoundOnUnitBJ(gg_snd_HeroDemonMissileLaunch2, 100.0, GetTriggerUnit())
        endif
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__PoisonPill_throw , "PoisonPill_throw")
    endfunction
    
    function s__PoisonPill_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__PoisonPill_SPELL_ID ) , Filter(( function s__PoisonPill_actions))) // INLINED!!
    endfunction
    

//===========================================================================
// Trigger: Bomb
//===========================================================================

    function s__Bomb_actions takes nothing returns nothing
        local integer i
        local real angle
        local real offset
        local real x
        local real y
        if GetUnitTypeId(GetTriggerUnit()) == 'otot' or GetUnitTypeId(GetTriggerUnit()) == 'o009' then
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\FlameBomb.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            set i=0
            loop
                exitwhen i > 30
                set angle=GetRandomReal(0, 2 * bj_PI)
                set offset=GetRandomReal(0, 250)
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'n02R' ), (( x )*1.0), (( y )*1.0), (( GetRandomReal(0, 360))*1.0))) // INLINED!!
                //call SetUnitTimeScale(bj_lastCreatedUnit, 0.3)
                call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0, 120), 0)
                call KillUnit(bj_lastCreatedUnit)
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) then
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    if GetUnitTypeId(GetTriggerUnit()) == 'o009' then
			if (UnitHasItemOfTypeBJ((udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] ), ( 'I00Q'))) then // INLINED!!
				call UnitDamageTarget(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1], bj_lastCreatedUnit, GetHeroInt(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], true) * 3.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			else
                        	call UnitDamageTarget(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1], bj_lastCreatedUnit, GetHeroInt(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], true) * 2.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			endif
                    else
                        call UnitDamageTarget(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1], bj_lastCreatedUnit, 800.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if GetUnitTypeId(GetTriggerUnit()) == 'o009' and GetLocalPlayer() == GetTriggerPlayer() then
                call PingMinimap(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 5.0)
            endif
        endif
    endfunction 
        
    function s__Bomb_stop takes nothing returns nothing
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 512, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) then
                call IssueImmediateOrder(bj_lastCreatedUnit, "stop")
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    endfunction 

    function s__Bomb_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__Bomb_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A01K' ) , Filter(( function s__Bomb_stop))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: NewChain
//===========================================================================

    
    function s__NewChain_destroy takes integer this returns nothing
        call KillUnit(s__NewChain_dummy[this])
        set s__NewChain_caster[this]=null
        set s__NewChain_target[this]=null
        set s__NewChain_dummy[this]=null
        call s__NewChain_deallocate(this)
    endfunction

    function s__NewChain_pull takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__NewChain_count[this] > 0 then
			call BlzSetSpecialEffectScale(s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]], 0)
            call DestroyEffect(s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]])
            if s__NewChain_target[this] != null then
                call SetUnitX(s__NewChain_target[this], s___NewChain_chains_x[s__NewChain_chains_x[this]+s__NewChain_count[this]])
                call SetUnitY(s__NewChain_target[this], s___NewChain_chains_y[s__NewChain_chains_y[this]+s__NewChain_count[this]])
            endif
            set s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]]=null
            set s__NewChain_count[this]=s__NewChain_count[this] - 1
        else
            if s__NewChain_target[this] != null then
                set s__NewChain_angle[this]=Deg2Rad(GetUnitFacing(s__NewChain_caster[this]))
                call SetUnitAnimation(s__NewChain_caster[this], "attack")
                call UnitDamageTarget(s__NewChain_caster[this], s__NewChain_target[this], 3 * GetHeroAgi(s__NewChain_caster[this], true) + 3 * GetHeroInt(s__NewChain_caster[this], true) + 2 * GetHeroStr(s__NewChain_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            	call DestroyEffect(s__NewChain_bondage[this])
            	set s__NewChain_bondage[this]=null
                call PauseUnit(s__NewChain_target[this], false)
                call s__NewChain_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            else
                call s__NewChain_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction
    
    function s__NewChain_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__NewChain_dummy[this])
        local real y= GetUnitY(s__NewChain_dummy[this])
        local real new_x= (((x )*1.0) + Cos((( s__NewChain_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__NewChain_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local unit u= null
        set s__NewChain_count[this]=s__NewChain_count[this] + 1
        set s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]]=AddSpecialEffect("war3mapImported\\ChainElement.mdl", new_x, new_y)
	call BlzSetSpecialEffectYaw(s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]], s__NewChain_angle[this])
	call BlzSetSpecialEffectScale(s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]], 2.0)
	call BlzSetSpecialEffectHeight(s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]], 100 + GetPointZ(new_x , new_y))
	set s___NewChain_chains_x[s__NewChain_chains_x[this]+s__NewChain_count[this]]=new_x
	set s___NewChain_chains_y[s__NewChain_chains_y[this]+s__NewChain_count[this]]=new_y
        call SetUnitX(s__NewChain_dummy[this], new_x)
        call SetUnitY(s__NewChain_dummy[this], new_y)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 180.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__NewChain_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set s__NewChain_target[this]=bj_lastCreatedUnit
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set u=bj_lastCreatedUnit
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if u != null then
            set s__NewChain_target[this]=u
            //call PauseUnit(this.caster, false)
	    set s__NewChain_bondage[this]=AddSpecialEffectTarget("war3mapImported\\TimberChainHead.mdl", s__NewChain_target[this], "origin")
            call PauseUnit(s__NewChain_target[this], true)
            call TimerStart(NewTimerEx(this), 0.03, true, function s__NewChain_pull)
            call ReleaseTimer(GetExpiredTimer())
        elseif s__NewChain_count[this] > 30 then
            if s__NewChain_target[this] != null then
                call PauseUnit(s__NewChain_caster[this], false)
                call PauseUnit(s__NewChain_target[this], true)
		set s__NewChain_bondage[this]=AddSpecialEffectTarget("war3mapImported\\TimberChainHead.mdl", s__NewChain_target[this], "origin")
                call TimerStart(NewTimerEx(this), 0.03, true, function s__NewChain_pull)
                call ReleaseTimer(GetExpiredTimer())
            else
                call PauseUnit(s__NewChain_caster[this], false)
                call SetUnitAnimation(s__NewChain_caster[this], "stand")
                loop
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" ), (( s___NewChain_chains_x[s__NewChain_chains_x[this]+s__NewChain_count[this]] )*1.0), (( s___NewChain_chains_y[s__NewChain_chains_y[this]+s__NewChain_count[this]])*1.0))) // INLINED!!
		    call BlzSetSpecialEffectScale(s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]], 0)
                    call DestroyEffect(s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]])
                    set s___NewChain_chains[s__NewChain_chains[this]+s__NewChain_count[this]]=null
                    set s__NewChain_count[this]=s__NewChain_count[this] - 1
                    exitwhen s__NewChain_count[this] == 0
                endloop
                call s__NewChain_destroy(this)
                //call TimerStart(NewTimerEx(this), 0.03, true, function thistype.pull)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction
    
    function s__NewChain_actions takes nothing returns nothing
        local integer this= s__NewChain__allocate()
        set s__NewChain_caster[this]=GetTriggerUnit()
        set s__NewChain_target_x[this]=GetSpellTargetX()
        set s__NewChain_target_y[this]=GetSpellTargetY()
        set s__NewChain_target[this]=null
        set s__NewChain_angle[this]=Atan3(GetUnitX(s__NewChain_caster[this]) , GetUnitY(s__NewChain_caster[this]) , s__NewChain_target_x[this] , s__NewChain_target_y[this])
        set s__NewChain_count[this]=0
        set s__NewChain_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__NewChain_caster[this]), GetUnitY(s__NewChain_caster[this]), 270.0)
        call SetUnitX(s__NewChain_dummy[this], GetUnitX(s__NewChain_caster[this]))
        call SetUnitY(s__NewChain_dummy[this], GetUnitY(s__NewChain_caster[this]))
        call SetUnitAnimation(s__NewChain_caster[this], "spell")
        set s__NewChain_target[this]=null
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__NewChain_periodic , "NewChain_periodic")
    endfunction
    
    function s__NewChain_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__NewChain_SPELL_ID ) , Filter(( function s__NewChain_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: BlastingSphere
//===========================================================================

    
    function s__BlastingSphere_destroy takes integer this returns nothing
	call DestroyEffect(AddSpecialEffect(("Boom.mdx" ), (( GetUnitX(s__BlastingSphere_dummy[this]) )*1.0), (( GetUnitY(s__BlastingSphere_dummy[this]))*1.0))) // INLINED!!
        call KillUnit(s__BlastingSphere_dummy[this])
		call ShowUnit(s__BlastingSphere_dummy[this], false)
		//call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(this.caster), 'h00J', GetUnitX(this.dummy), GetUnitY(this.dummy), 270), 'BTLF', 2.0)
		//call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(this.caster), 'h00N', GetUnitX(this.dummy), GetUnitY(this.dummy), 270), 'BTLF', 2.0)
        set s__BlastingSphere_caster[this]=null
        set s__BlastingSphere_target[this]=null
        set s__BlastingSphere_dummy[this]=null
        call s__BlastingSphere_deallocate(this)
    endfunction
    
 function s__BlastingSphere_damage takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		//call AddSpecialEffectEx("Boom.mdx", GetUnitX(this.target), GetUnitY(this.target))
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__BlastingSphere_target[this]), GetUnitY(s__BlastingSphere_target[this]), 200, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__BlastingSphere_caster[this])) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
				call UnitDamageTarget(s__BlastingSphere_caster[this], bj_lastCreatedUnit, 3 * GetHeroStr(s__BlastingSphere_caster[this], true) + 3 * GetHeroAgi(s__BlastingSphere_caster[this], true) + 2 * GetHeroInt(s__BlastingSphere_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
				//call StunUnitTimed(this.caster, bj_lastCreatedUnit, 1.0)
				call EsnareUnitTimed(s__BlastingSphere_caster[this] , bj_lastCreatedUnit , 2.0)
			endif
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		call s__BlastingSphere_destroy(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 
	
    function s__BlastingSphere_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__BlastingSphere_dummy[this])
        local real y= GetUnitY(s__BlastingSphere_dummy[this])
        local real new_x= (((x )*1.0) + Cos((( s__BlastingSphere_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__BlastingSphere_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local unit u= null
        set s__BlastingSphere_count[this]=s__BlastingSphere_count[this] + 1
        call SetUnitX(s__BlastingSphere_dummy[this], new_x)
        call SetUnitY(s__BlastingSphere_dummy[this], new_y)
	call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\StrongDrink\\BrewmasterMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 210.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__BlastingSphere_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                set s__BlastingSphere_target[this]=bj_lastCreatedUnit
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set u=bj_lastCreatedUnit
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if u != null then
            set s__BlastingSphere_target[this]=u
            //call PauseUnit(this.target, true) 
            call TimerStart(NewTimerEx(this), 0.03, false, function s__BlastingSphere_damage)
            call ReleaseTimer(GetExpiredTimer())
        elseif s__BlastingSphere_count[this] > 23 then
            if s__BlastingSphere_target[this] != null then
                call PauseUnit(s__BlastingSphere_caster[this], false)
                //call PauseUnit(this.target, true) 
                call TimerStart(NewTimerEx(this), 0.03, false, function s__BlastingSphere_damage)
                call ReleaseTimer(GetExpiredTimer())
            else
                call s__BlastingSphere_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction
    
    function s__BlastingSphere_actions takes nothing returns nothing
        local integer this= s__BlastingSphere__allocate()
        set s__BlastingSphere_caster[this]=GetTriggerUnit()
        set s__BlastingSphere_target_x[this]=GetSpellTargetX()
        set s__BlastingSphere_target_y[this]=GetSpellTargetY()
        set s__BlastingSphere_target[this]=null
        set s__BlastingSphere_angle[this]=Atan3(GetUnitX(s__BlastingSphere_caster[this]) , GetUnitY(s__BlastingSphere_caster[this]) , s__BlastingSphere_target_x[this] , s__BlastingSphere_target_y[this])
        set s__BlastingSphere_count[this]=0
        set s__BlastingSphere_dummy[this]=CreateUnit(GetTriggerPlayer(), 'n009', GetUnitX(s__BlastingSphere_caster[this]), GetUnitY(s__BlastingSphere_caster[this]), 270.0)
        call SetUnitX(s__BlastingSphere_dummy[this], GetUnitX(s__BlastingSphere_caster[this]))
        call SetUnitY(s__BlastingSphere_dummy[this], GetUnitY(s__BlastingSphere_caster[this]))
        call SetUnitAnimation(s__BlastingSphere_caster[this], "attack")
        set s__BlastingSphere_target[this]=null
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__BlastingSphere_periodic , "BlastingSphere_periodic")
    endfunction
    
    function s__BlastingSphere_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__BlastingSphere_SPELL_ID ) , Filter(( function s__BlastingSphere_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: DragonBlast
//===========================================================================
    
//Implemented from module Alloc:
    
        function s__DragonBlast_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DragonBlast_Alloc__recycle[(0)] == 0 ) then
                set s__DragonBlast_Alloc__instanceCount=s__DragonBlast_Alloc__instanceCount + 1
                set this=s__DragonBlast_Alloc__instanceCount
            else
                set this=s__DragonBlast_Alloc__recycle[(0)]
                set s__DragonBlast_Alloc__recycle[(0)]=s__DragonBlast_Alloc__recycle[s__DragonBlast_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DragonBlast_deallocate takes integer this returns nothing
            set s__DragonBlast_Alloc__recycle[this]=s__DragonBlast_Alloc__recycle[(0)]
            set s__DragonBlast_Alloc__recycle[(0)]=this
        endfunction
    
    function s__DragonBlast_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
 local unit u
        local real x= GetUnitX(s__DragonBlast_dummy[this])
        local real y= GetUnitY(s__DragonBlast_dummy[this])
        local real new_x= (((x )*1.0) + Cos((( s__DragonBlast_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__DragonBlast_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
        call SetUnitX(s__DragonBlast_dummy[this], new_x)
        call SetUnitY(s__DragonBlast_dummy[this], new_y)
        set s__DragonBlast_count[this]=s__DragonBlast_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DragonBlast_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set x=GetUnitX(bj_lastCreatedUnit)
                set y=GetUnitY(bj_lastCreatedUnit)
                set new_x=(((x )*1.0) + Cos((( s__DragonBlast_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( s__DragonBlast_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
                if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
		    if ( (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07U'))) or (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07Z'))) ) then // INLINED!!

		    else
                      call SetUnitX(bj_lastCreatedUnit, new_x)
                      call SetUnitY(bj_lastCreatedUnit, new_y)
		    endif
                    if ModuloInteger(s__DragonBlast_count[this], 5) == 0 then
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    endif
                endif
                if not IsUnitInGroup(bj_lastCreatedUnit, s__DragonBlast_damaged[this]) then
                    call GroupAddUnit(s__DragonBlast_damaged[this], bj_lastCreatedUnit)
		    if (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07T'))) then // INLINED!!
			call UnitDamageTarget(s__DragonBlast_caster[this], bj_lastCreatedUnit, ( GetHeroStr(s__DragonBlast_caster[this], true) + GetHeroAgi(s__DragonBlast_caster[this], true) + GetHeroInt(s__DragonBlast_caster[this], true) ) * 3, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
		    else
                    	call UnitDamageTarget(s__DragonBlast_caster[this], bj_lastCreatedUnit, ( GetHeroStr(s__DragonBlast_caster[this], true) + GetHeroAgi(s__DragonBlast_caster[this], true) + GetHeroInt(s__DragonBlast_caster[this], true) ) * 2, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
			if (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07Z'))) then // INLINED!!
				call StunUnitTimed(s__DragonBlast_caster[this] , bj_lastCreatedUnit , 1.0)
			elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07U'))) then // INLINED!!
				call EsnareUnitTimed(s__DragonBlast_caster[this] , bj_lastCreatedUnit , 2.0)
			elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07V'))) then // INLINED!!
                    		set u=CreateAbilityDummy(s__DragonBlast_caster[this] , 'A0QC')
                    		call IssueTargetOrder(u, "soulburn", bj_lastCreatedUnit)
                    		call UnitApplyTimedLife(u, 'BTLF', 1.5)
			elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07Y'))) then // INLINED!!
                                set u=CreateAbilityDummy(s__DragonBlast_caster[this] , 'A18D')
                                call IssueTargetOrder(u, "slow", bj_lastCreatedUnit)
                                call UnitApplyTimedLife(u, 'BTLF', 2.0)
			endif
		    endif
                endif
	    elseif IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(s__DragonBlast_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
		if (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07W'))) and not IsUnitInGroup(bj_lastCreatedUnit, s__DragonBlast_damaged[this]) then // INLINED!!
                    	call GroupAddUnit(s__DragonBlast_damaged[this], bj_lastCreatedUnit)
			call SetUnitLifeBJ(bj_lastCreatedUnit, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) + ( GetHeroStr(s__DragonBlast_caster[this], true) + GetHeroAgi(s__DragonBlast_caster[this], true) + GetHeroInt(s__DragonBlast_caster[this], true) ) * 2)
		endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__DragonBlast_count[this] > 25 then
            call KillUnit(s__DragonBlast_dummy[this])
            call DestroyGroup(s__DragonBlast_damaged[this])
            set s__DragonBlast_damaged[this]=null
            set s__DragonBlast_dummy[this]=null
            call s__DragonBlast_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__DragonBlast_actions takes nothing returns nothing
        local integer this= s__DragonBlast_allocate()
        set s__DragonBlast_caster[this]=GetTriggerUnit()
        set s__DragonBlast_damaged[this]=CreateGroup()
        set s__DragonBlast_angle[this]=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        set s__DragonBlast_count[this]=0
        set s__DragonBlast_dummy[this]=CreateUnit(GetTriggerPlayer(), 'h060', GetUnitX(s__DragonBlast_caster[this]), GetUnitY(s__DragonBlast_caster[this]), Rad2Deg(Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())))
	if (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07T'))) then // INLINED!!
		call SetUnitVertexColor((s__DragonBlast_dummy[this] ), ( 255 ), ( 0 ), ( 0 ), ( 255)) // INLINED!!
	elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07Y'))) then // INLINED!!
		call SetUnitVertexColor((s__DragonBlast_dummy[this] ), ( 83 ), ( 164 ), ( 255 ), ( 255)) // INLINED!!
	elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07V'))) then // INLINED!!
		call SetUnitVertexColor((s__DragonBlast_dummy[this] ), ( 200 ), ( 0 ), ( 255 ), ( 255)) // INLINED!!
	elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07U'))) then // INLINED!!
		call SetUnitVertexColor((s__DragonBlast_dummy[this] ), ( 255 ), ( 252 ), ( 0 ), ( 255)) // INLINED!!
	elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07Z'))) then // INLINED!!
		call SetUnitVertexColor((s__DragonBlast_dummy[this] ), ( 140 ), ( 70 ), ( 0 ), ( 255)) // INLINED!!
	elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07W'))) then // INLINED!!
		call SetUnitVertexColor((s__DragonBlast_dummy[this] ), ( 255 ), ( 255 ), ( 220 ), ( 255)) // INLINED!!
	elseif (UnitHasItemOfTypeBJ((s__DragonBlast_caster[this] ), ( 'I07E'))) then // INLINED!!
		call SetUnitVertexColor((s__DragonBlast_dummy[this] ), ( 255 ), ( 255 ), ( 255 ), ( 100)) // INLINED!!
	endif
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__DragonBlast_periodic , "DragonBlast_periodic")
    endfunction 
    
    function s__DragonBlast_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__DragonBlast_SPELL_ID ) , Filter(( function s__DragonBlast_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: FuumaShuriken
//===========================================================================

//Implemented from module Alloc:
    
        function s__ItemFuumaShuriken_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ItemFuumaShuriken_Alloc__recycle[(0)] == 0 ) then
                set s__ItemFuumaShuriken_Alloc__instanceCount=s__ItemFuumaShuriken_Alloc__instanceCount + 1
                set this=s__ItemFuumaShuriken_Alloc__instanceCount
            else
                set this=s__ItemFuumaShuriken_Alloc__recycle[(0)]
                set s__ItemFuumaShuriken_Alloc__recycle[(0)]=s__ItemFuumaShuriken_Alloc__recycle[s__ItemFuumaShuriken_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ItemFuumaShuriken_deallocate takes integer this returns nothing
            set s__ItemFuumaShuriken_Alloc__recycle[this]=s__ItemFuumaShuriken_Alloc__recycle[(0)]
            set s__ItemFuumaShuriken_Alloc__recycle[(0)]=this
        endfunction

    
    function s__ItemFuumaShuriken_destroy takes integer this returns nothing
        call DestroyGroup(s__ItemFuumaShuriken_damaged[this])
        call KillUnit(s__ItemFuumaShuriken_shuriken[this])
        set s__ItemFuumaShuriken_shuriken[this]=null
        set s__ItemFuumaShuriken_caster[this]=null
        set s__ItemFuumaShuriken_damaged[this]=null
        call s__ItemFuumaShuriken_deallocate(this)
    endfunction 
    
    function s__ItemFuumaShuriken_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__ItemFuumaShuriken_shuriken[this])
        local real y= GetUnitY(s__ItemFuumaShuriken_shuriken[this])
        local real new_x= (((x )*1.0) + Cos((( s__ItemFuumaShuriken_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__ItemFuumaShuriken_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real enemy_x
        local real enemy_y
        local unit u
        local integer maxCount
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\StrongDrink\\BrewmasterMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        set bj_lastCreatedGroup=CreateGroup()
        if UnitHasItemOfTypeBJ(s__ItemFuumaShuriken_caster[this], 'I04H') then
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 220.0, null)
            set maxCount=35
        else
            if UnitHasItemOfTypeBJ(s__ItemFuumaShuriken_caster[this], 'I04I') then
                call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            elseif UnitHasItemOfTypeBJ(s__ItemFuumaShuriken_caster[this], 'I04J') then
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            elseif UnitHasItemOfTypeBJ(s__ItemFuumaShuriken_caster[this], 'I068') then
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Fireworkswhite.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            endif
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 220.0, null)
            set maxCount=27
        endif
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ItemFuumaShuriken_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__ItemFuumaShuriken_damaged[this]) and ( IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false or s__ItemFuumaShuriken_building[this] ) then
                set enemy_x=GetUnitX(bj_lastCreatedUnit)
                set enemy_y=GetUnitY(bj_lastCreatedUnit)
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( enemy_x )*1.0), (( enemy_y)*1.0))) // INLINED!!
                if UnitHasItemOfTypeBJ(s__ItemFuumaShuriken_caster[this], 'I04I') then
                    set u=CreateAbilityDummy(s__ItemFuumaShuriken_caster[this] , 'A0OG')
                    call IssueTargetOrder(u, "frostnova", bj_lastCreatedUnit)
                elseif UnitHasItemOfTypeBJ(s__ItemFuumaShuriken_caster[this], 'I04J') then
                    call StunUnitTimed(s__ItemFuumaShuriken_caster[this] , bj_lastCreatedUnit , 1.0)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                elseif UnitHasItemOfTypeBJ(s__ItemFuumaShuriken_caster[this], 'I068') then
                    call SilenceUnitLight2(s__ItemFuumaShuriken_caster[this] , bj_lastCreatedUnit)
                endif
                call UnitDamageTarget(s__ItemFuumaShuriken_caster[this], bj_lastCreatedUnit, 7.0 * GetHeroAgi(s__ItemFuumaShuriken_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call GroupAddUnit(s__ItemFuumaShuriken_damaged[this], bj_lastCreatedUnit)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__ItemFuumaShuriken_count[this]=s__ItemFuumaShuriken_count[this] + 1
        call SetUnitX(s__ItemFuumaShuriken_shuriken[this], new_x)
        call SetUnitY(s__ItemFuumaShuriken_shuriken[this], new_y)
	if s__ItemFuumaShuriken_count[this] > maxCount + GetUnitAbilityLevel(s__ItemFuumaShuriken_caster[this], 'AOae') then
            call s__ItemFuumaShuriken_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
        set u=null
    endfunction
    
    function s__ItemFuumaShuriken_actions takes nothing returns nothing
        local integer this= s__ItemFuumaShuriken_allocate()
        local real x= GetUnitX(GetTriggerUnit())
        local real y= GetUnitY(GetTriggerUnit())
        local real angle= Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        local integer i= 0
        set s__ItemFuumaShuriken_building[this]=false
        loop
            exitwhen i > 11
            if IsPlayerAlly(Player(i), GetTriggerPlayer()) and GetUnitTypeId(udg_units33[i + 1]) == 'H00N' then
                set s__ItemFuumaShuriken_building[this]=true
            endif
            set i=i + 1
        endloop
        set s__ItemFuumaShuriken_damaged[this]=CreateGroup()
        set s__ItemFuumaShuriken_caster[this]=GetTriggerUnit()
        set s__ItemFuumaShuriken_angle[this]=angle
        set s__ItemFuumaShuriken_count[this]=0
        set s__ItemFuumaShuriken_shuriken[this]=GetDummy(GetTriggerPlayer() , "FunmaShuriken Missile.mdl" , x , y , 270)
        call SetUnitScale(s__ItemFuumaShuriken_shuriken[this], 2.2, 2.2, 2.2)
        call SetUnitFlyHeight(s__ItemFuumaShuriken_shuriken[this], 100, 0)
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__ItemFuumaShuriken_periodic , "FuumaShuriken_periodic")
    endfunction
    
    function s__ItemFuumaShuriken_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__ItemFuumaShuriken_SPELL_ID ) , Filter(( function s__ItemFuumaShuriken_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0ON' ) , Filter(( function s__ItemFuumaShuriken_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0OO' ) , Filter(( function s__ItemFuumaShuriken_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0OP' ) , Filter(( function s__ItemFuumaShuriken_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A134' ) , Filter(( function s__ItemFuumaShuriken_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A17I' ) , Filter(( function s__ItemFuumaShuriken_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A15E' ) , Filter(( function s__ItemFuumaShuriken_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: ExplosiveKunai
//===========================================================================
// scope ItemKunai begins

    


        function s__ItemExplosiveKunai_actions takes nothing returns nothing
            local real x
            local real y
            local real enemy_x
            local real enemy_y
            local integer i
            local integer id
            local unit u
            local boolean building
            if GetUnitTypeId(GetTriggerUnit()) != s__ItemExplosiveKunai_DUMMY_ID then
                return
            endif
            set building=false
            set i=0
            loop
                exitwhen i > 11
                if IsPlayerAlly(Player(i), GetTriggerPlayer()) and GetUnitTypeId(udg_units33[i + 1]) == 'H00N' then
                    set building=true
                endif
                set i=i + 1
            endloop
            set x=GetUnitX(GetTriggerUnit())
            set y=GetUnitY(GetTriggerUnit())
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\FlameBomb.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=1
            loop
                exitwhen i > 30
                call GenerateRandomCircle(x , y , 250)
                set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'n02R' ), (( GetRandomX() )*1.0), (( GetRandomY() )*1.0), (( GetRandomReal(0, 360))*1.0))) // INLINED!!
                //call SetUnitTimeScale(bj_lastCreatedUnit, 0.3)
                call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0, 120), 0)
                //call SetUnitScale(bj_lastCreatedUnit, 2.0, 0, 0)
                call KillUnit(bj_lastCreatedUnit)
                set i=i + 1
            endloop
            set id=GetPlayerId(GetTriggerPlayer())
            if s__ItemKunai__heroes[id] == null then
                if udg_units33[id + 1] == null then
                    set bj_lastCreatedGroup=CreateGroup()
                    call GroupEnumUnitsInRect(bj_lastCreatedGroup, GetPlayableMapRect(), null)
                    loop
                        set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                        exitwhen bj_lastCreatedUnit == null or ( GetOwningPlayer(bj_lastCreatedUnit) == GetTriggerPlayer() and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true )
                        call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                    endloop
                    call DestroyGroup(bj_lastCreatedGroup)
                    set s__ItemKunai__heroes[id]= bj_lastCreatedUnit
                else
                    set s__ItemKunai__heroes[id]= udg_units33[id + 1]
                endif
            endif
            if UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I047') then
                set i=1
                loop
                    exitwhen i > 5
                    call GenerateRandomCircle(x , y , 250)
                    call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    set i=i + 1
                endloop
            elseif UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I04A') then
                set i=1
                loop
                    exitwhen i > 5
                    call GenerateRandomCircle(x , y , 250)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    set i=i + 1
                endloop
            elseif UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I046') then
                set i=1
                loop
                    exitwhen i > 5
                    call GenerateRandomCircle(x , y , 250)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Tornado\\TornadoElementalSmall.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    set i=i + 1
                endloop
            elseif UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I06A') then
                set i=1
                loop
                    exitwhen i > 5
                    call GenerateRandomCircle(x , y , 250)
                    call DestroyEffect(AddSpecialEffect(("war3mapImported\\Fireworkswhite.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    set i=i + 1
                endloop
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 300.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and ( IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false or building ) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    set enemy_x=GetUnitX(bj_lastCreatedUnit)
                    set enemy_y=GetUnitY(bj_lastCreatedUnit)
                    if UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I047') then
                        //call AddSpecialEffectEx("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", enemy_x, enemy_y)
                        set u=CreateAbilityDummy(s__ItemKunai__heroes[id] , 'A0OG')
                        call IssueTargetOrder(u, "frostnova", bj_lastCreatedUnit)
                    elseif UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I04A') then
                        set u=CreateAbilityDummy(s__ItemKunai__heroes[id] , 'A0OI')
                        call IssueTargetOrder(u, "entanglingroots", bj_lastCreatedUnit)
		    elseif UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I048') then
                    	call StunUnitTimed(s__ItemKunai__heroes[id] , bj_lastCreatedUnit , 0.5)
                    elseif UnitHasItemOfTypeBJ(s__ItemKunai__heroes[id], 'I06A') then
                        call SilenceUnitLight2(s__ItemKunai__heroes[id] , bj_lastCreatedUnit)
                    else
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( enemy_x )*1.0), (( enemy_y)*1.0))) // INLINED!!
                    endif
                    call UnitDamageTarget(s__ItemKunai__heroes[id], bj_lastCreatedUnit, 7.0 * GetHeroStr(s__ItemKunai__heroes[id], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set u=null
        endfunction
        
        function s__ItemExplosiveKunai_spell takes nothing returns nothing
            if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
                set s__ItemKunai__heroes[GetPlayerId(GetTriggerPlayer())]= GetTriggerUnit()
            endif
        endfunction 
        
        function s__ItemExplosiveKunai_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__ItemExplosiveKunai_SPELL_ID ) , Filter(( function s__ItemExplosiveKunai_spell))) // INLINED!!
            call RegisterSpellEffectEvent2(('A0OE' ) , Filter(( function s__ItemExplosiveKunai_spell))) // INLINED!!
            call RegisterSpellEffectEvent2(('A0OH' ) , Filter(( function s__ItemExplosiveKunai_spell))) // INLINED!!
            call RegisterSpellEffectEvent2(('A0OF' ) , Filter(( function s__ItemExplosiveKunai_spell))) // INLINED!!
            call RegisterSpellEffectEvent2(('A135' ) , Filter(( function s__ItemExplosiveKunai_spell))) // INLINED!!
            call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__ItemExplosiveKunai_actions))) // INLINED!!
        endfunction
        
    
// scope ItemKunai ends
//===========================================================================
// Trigger: SenbonsDance
//===========================================================================

    function s__SenbonsDance_actions takes nothing returns nothing
        local integer i= 0
        local real radius
        local unit u
        local boolean building= false
        set i=0
        loop
            exitwhen i > 11
            if IsPlayerAlly(Player(i), GetTriggerPlayer()) and GetUnitTypeId(udg_units33[i + 1]) == 'H00N' then
                set building=true
            endif
            set i=i + 1
        endloop
        set i=0
        loop
            exitwhen i > 15
            set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'ufro' ), (( GetSpellTargetX() )*1.0), (( GetSpellTargetY() )*1.0), (( 24 * i)*1.0))) // INLINED!!
            call SetUnitAnimation(bj_lastCreatedUnit, "birth")
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
            set i=i + 1
        endloop
        if UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04F') then
            set radius=500
        else
            set radius=300
        endif
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), radius, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and ( IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false or building ) then
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                if UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04D') then
                    call StunUnitTimed(GetTriggerUnit() , bj_lastCreatedUnit , 1.0)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                elseif UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04F') then
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                elseif UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I069') then
                        call SilenceUnitLight2(GetTriggerUnit() , bj_lastCreatedUnit)
                elseif UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I04G') then
                    set u=CreateAbilityDummy(GetTriggerUnit() , 'A0OI')
                    call IssueTargetOrder(u, "entanglingroots", bj_lastCreatedUnit)
                endif
                call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 7.0 * GetHeroInt(GetTriggerUnit(), true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set u=null
    endfunction 
    
    function s__SenbonsDance_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('A00X' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0OJ' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0OK' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0OL' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0OM' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
	call RegisterSpellEffectEvent2(('A17N' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
	call RegisterSpellEffectEvent2(('A15C' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
	call RegisterSpellEffectEvent2(('A15D' ) , Filter(( function s__SenbonsDance_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: ExplosiveTagSkill
//===========================================================================

function Trig_Explosive_Tag_Skill_Actions takes nothing returns nothing
    call KillUnit(GetTriggerUnit())
endfunction

//===========================================================================
function InitTrig_ExplosiveTagSkill takes nothing returns nothing
    call RegisterSpellEffectEvent2(('A0DJ' ) , Filter(( function Trig_Explosive_Tag_Skill_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: TimedExplosiveTag
//===========================================================================

//Implemented from module Alloc:
    
        function s__TimedExplosiveTag_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__TimedExplosiveTag_Alloc__recycle[(0)] == 0 ) then
                set s__TimedExplosiveTag_Alloc__instanceCount=s__TimedExplosiveTag_Alloc__instanceCount + 1
                set this=s__TimedExplosiveTag_Alloc__instanceCount
            else
                set this=s__TimedExplosiveTag_Alloc__recycle[(0)]
                set s__TimedExplosiveTag_Alloc__recycle[(0)]=s__TimedExplosiveTag_Alloc__recycle[s__TimedExplosiveTag_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__TimedExplosiveTag_deallocate takes integer this returns nothing
            set s__TimedExplosiveTag_Alloc__recycle[this]=s__TimedExplosiveTag_Alloc__recycle[(0)]
            set s__TimedExplosiveTag_Alloc__recycle[(0)]=this
        endfunction
    
    function s__TimedExplosiveTag_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__TimedExplosiveTag_count[this] > 0 then
            call CreateTextTagUnitBJ(( I2S(s__TimedExplosiveTag_count[this]) + "!" ), s__TimedExplosiveTag_note[this], 0, 9.00, 100, 20, 20.00, 0)
            call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 40.00, 90.00)
            call SetTextTagPermanent(bj_lastCreatedTextTag, false)
            call SetTextTagLifespan(bj_lastCreatedTextTag, 1.00)
            if not IsUnitVisible(s__TimedExplosiveTag_caster[this], GetLocalPlayer()) then
                call SetTextTagVisibility(bj_lastCreatedTextTag, false)
            endif
        endif
        set s__TimedExplosiveTag_count[this]=s__TimedExplosiveTag_count[this] - 1
        if s__TimedExplosiveTag_count[this] < 0 then
            call KillUnit(s__TimedExplosiveTag_note[this])
            call ShowUnit(s__TimedExplosiveTag_note[this], false)
            set s__TimedExplosiveTag_note[this]=null
            call s__TimedExplosiveTag_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__TimedExplosiveTag_actions takes nothing returns nothing
        local integer this= s__TimedExplosiveTag_allocate()
        set s__TimedExplosiveTag_caster[this]=GetTriggerUnit()
        set s__TimedExplosiveTag_count[this]=3
        set s__TimedExplosiveTag_note[this]=(CreateUnit((GetTriggerPlayer() ), ( 'h042' ), (( GetSpellTargetX() )*1.0), (( GetSpellTargetY() )*1.0), (( 270)*1.0))) // INLINED!!
        call TimerStartEx(NewTimerEx(this) , 1.0 , true , function s__TimedExplosiveTag_periodic , "TimedExplosiveTag_periodic")
    endfunction 
    
    function s__TimedExplosiveTag_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('A01H' ) , Filter(( function s__TimedExplosiveTag_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: ExplosiveTagExplosion
//===========================================================================

    function s__ExplosiveTagExplosion_dealDamage takes nothing returns boolean
        if GetWidgetLife(GetFilterUnit()) > 0.405 then
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( GetUnitX(GetFilterUnit()) )*1.0), (( GetUnitY(GetFilterUnit()))*1.0))) // INLINED!!
            if GetUnitTypeId(GetTriggerUnit()) == 'o00D' then
                if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) then
                    call UnitDamageTarget(GetTriggerUnit(), GetFilterUnit(), GetUnitAbilityLevel(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], 'A17D') * GetHeroStr(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                endif
            elseif GetUnitTypeId(GetTriggerUnit()) == 'h07H' then
                call UnitDamageTarget(GetTriggerUnit(), GetFilterUnit(), 30.00 * GetHeroLevel(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            else
                call UnitDamageTarget(GetTriggerUnit(), GetFilterUnit(), 1000.00, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                if IsUnitEnemy(GetFilterUnit(), GetTriggerPlayer()) then
                    //call StunUnitTimed(GetTriggerUnit(),GetFilterUnit(),1.5)
                endif
            endif
        endif
        return false
    endfunction 

    function s__ExplosiveTagExplosion_actions takes nothing returns nothing
        local integer i
        local real angle
        local real offset
        local real x
        local real y
        if GetUnitTypeId(GetTriggerUnit()) == 'hmtm' or GetUnitTypeId(GetTriggerUnit()) == 'h07H' or GetUnitTypeId(GetTriggerUnit()) == 'h042' or GetUnitTypeId(GetTriggerUnit()) == 'o00D' then
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\FlameBomb.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            set i=0
            loop
                exitwhen i > 15
                set angle=GetRandomReal(0, 2 * bj_PI)
                set offset=GetRandomReal(0, 300)
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Boom.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            if GetUnitTypeId(GetTriggerUnit()) == 'o00D' then
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 400, Filter(function s__ExplosiveTagExplosion_dealDamage))
                call SlowArea(GetTriggerUnit() , GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , 300)
            else
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 400, Filter(function s__ExplosiveTagExplosion_dealDamage))
            endif
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 
    
    function s__ExplosiveTagExplosion_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__ExplosiveTagExplosion_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: NewKohakuNoJohei
//===========================================================================

//Implemented from module Alloc:
    
        function s__KohakuNoJohei_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__KohakuNoJohei_Alloc__recycle[(0)] == 0 ) then
                set s__KohakuNoJohei_Alloc__instanceCount=s__KohakuNoJohei_Alloc__instanceCount + 1
                set this=s__KohakuNoJohei_Alloc__instanceCount
            else
                set this=s__KohakuNoJohei_Alloc__recycle[(0)]
                set s__KohakuNoJohei_Alloc__recycle[(0)]=s__KohakuNoJohei_Alloc__recycle[s__KohakuNoJohei_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__KohakuNoJohei_deallocate takes integer this returns nothing
            set s__KohakuNoJohei_Alloc__recycle[this]=s__KohakuNoJohei_Alloc__recycle[(0)]
            set s__KohakuNoJohei_Alloc__recycle[(0)]=this
        endfunction

 function s__KohakuNoJohei_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real angle
  local real new_x
  local real new_y
		set s__KohakuNoJohei_count[this]=s__KohakuNoJohei_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__KohakuNoJohei_winds[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			call SetUnitX(bj_lastCreatedUnit, GetUnitX(s__KohakuNoJohei_caster[this]))
			call SetUnitY(bj_lastCreatedUnit, GetUnitY(s__KohakuNoJohei_caster[this]))
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if ModuloInteger(s__KohakuNoJohei_count[this], 10) == 1 then
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__KohakuNoJohei_caster[this]), 'e056', GetUnitX(s__KohakuNoJohei_caster[this]), GetUnitY(s__KohakuNoJohei_caster[this]), GetRandomReal(0, 360))
			call GroupAddUnit(s__KohakuNoJohei_winds[this], bj_lastCreatedUnit)
		endif
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__KohakuNoJohei_caster[this]), GetUnitY(s__KohakuNoJohei_caster[this]), 800, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__KohakuNoJohei_caster[this])) then
			else
				call UnitRemoveBuffs(bj_lastCreatedUnit, false, true)
			endif
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__KohakuNoJohei_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                		set angle=Atan3(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , GetUnitX(s__KohakuNoJohei_caster[this]) , GetUnitY(s__KohakuNoJohei_caster[this]))
                		set new_x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( angle )*1.0)) * (( 7)*1.0)) // INLINED!!
                		set new_y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( angle )*1.0)) * (( 7)*1.0)) // INLINED!!
                		call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                		call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA) - GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_MANA) * 0.2 / ( 20 * 4 ))
                        	if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
                    			call SetUnitX(bj_lastCreatedUnit, new_x)
                    			call SetUnitY(bj_lastCreatedUnit, new_y)
				endif
				if GetUnitTypeId(bj_lastCreatedUnit) != 'U010' then
					//call UnitRemoveBuffsBJ( bj_REMOVEBUFFS_POSITIVE, bj_lastCreatedUnit )
				endif
				if not IsUnitInGroup(bj_lastCreatedUnit, s__KohakuNoJohei_damaged[this]) then
					call GroupAddUnit(s__KohakuNoJohei_damaged[this], bj_lastCreatedUnit)
					set s__s__KohakuNoJohei_counts[(GetUnitUserData((bj_lastCreatedUnit)))]= 0 // INLINED!!
				else
					set s__s__KohakuNoJohei_counts[(GetUnitUserData((bj_lastCreatedUnit)))]= s__s__KohakuNoJohei_counts[(GetUnitUserData((bj_lastCreatedUnit)))] + 1 // INLINED!!
					if s__s__KohakuNoJohei_counts[(GetUnitUserData((bj_lastCreatedUnit)))] == 40 then // INLINED!!
						call EsnareUnitTimed(s__KohakuNoJohei_caster[this] , bj_lastCreatedUnit , 2.0)
					endif
				endif
                	endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if s__KohakuNoJohei_count[this] > 20 * 4 then
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__KohakuNoJohei_winds[this])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__KohakuNoJohei_winds[this], bj_lastCreatedUnit)
				call KillUnit(bj_lastCreatedUnit)
				call ShowUnit(bj_lastCreatedUnit, false)
			endloop
			call DestroyGroup(s__KohakuNoJohei_winds[this])
			call DestroyGroup(s__KohakuNoJohei_damaged[this])
			set s__KohakuNoJohei_winds[this]=null
			set s__KohakuNoJohei_damaged[this]=null
			call s__KohakuNoJohei_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__KohakuNoJohei_actions takes nothing returns nothing
  local integer this= s__KohakuNoJohei_allocate()
		set s__KohakuNoJohei_caster[this]=GetTriggerUnit()
		set s__KohakuNoJohei_count[this]=0
		set s__KohakuNoJohei_damaged[this]=CreateGroup()
		set s__KohakuNoJohei_winds[this]=CreateGroup()
		call TimerStart(NewTimerEx(this), 0.05, true, function s__KohakuNoJohei_periodic)
 endfunction 

 function s__KohakuNoJohei_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__KohakuNoJohei_SPELL_ID ) , Filter(( function s__KohakuNoJohei_actions))) // INLINED!!
 endfunction

//===========================================================================
// Trigger: HiraishinKunai
//===========================================================================


    function s__HiraishinKunai_setCooldown takes nothing returns nothing
        local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
        call BlzStartUnitAbilityCooldown(u, 'A198', 35.0)
        set s__s__HiraishinKunai_first_activation[GetPlayerId(GetOwningPlayer(u))]= true
        set u=null
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HiraishinKunai_resetCooldown takes nothing returns nothing
        local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
        call BlzEndUnitAbilityCooldown(u, 'A198')
        set u=null
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HiraishinKunai_actions takes nothing returns nothing
        if s__s__HiraishinKunai_first_activation[GetPlayerId(GetTriggerPlayer())] then
            call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__HiraishinKunai_resetCooldown) // INLINED!!
            call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 15.0, false, function s__HiraishinKunai_setCooldown) // INLINED!!
            set s__s__HiraishinKunai_first_activation[GetPlayerId(GetTriggerPlayer())]= false
            set s__s__HiraishinKunai_kunai[GetPlayerId(GetTriggerPlayer())]= CreateUnit(GetTriggerPlayer(), 'h07G', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
            call UnitApplyTimedLife(s__s__HiraishinKunai_kunai[GetPlayerId(GetTriggerPlayer())], 'BTLF', 15.0)
        elseif s__s__HiraishinKunai_kunai[GetPlayerId(GetTriggerPlayer())] != null and GetWidgetLife(s__s__HiraishinKunai_kunai[GetPlayerId(GetTriggerPlayer())]) > 0.405 then
            call DestroyEffect(AddSpecialEffect(("MinatoFlash.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            call SetUnitX(GetTriggerUnit(), GetUnitX(s__s__HiraishinKunai_kunai[GetPlayerId(GetTriggerPlayer())]))
            call SetUnitY(GetTriggerUnit(), GetUnitY(s__s__HiraishinKunai_kunai[GetPlayerId(GetTriggerPlayer())]))
            call DestroyEffect(AddSpecialEffect(("MinatoFlash.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            call KillUnit(s__s__HiraishinKunai_kunai[GetPlayerId(GetTriggerPlayer())])
        endif
    endfunction 

    function s__HiraishinKunai_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            set s__s__HiraishinKunai_first_activation[i]= true
            set s__s__HiraishinKunai_kunai[i]= null
            set i=i + 1
        endloop
        call RegisterSpellEffectEvent2(('A198' ) , Filter(( function s__HiraishinKunai_actions))) // INLINED!!
    endfunction 

//===========================================================================
// Trigger: Bashosen
//===========================================================================
// scope Bashosen begins

    
    
//Implemented from module Alloc:
    
        function s__Bashosen__Item_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Bashosen__Item_Alloc__recycle[(0)] == 0 ) then
                set s__Bashosen__Item_Alloc__instanceCount=s__Bashosen__Item_Alloc__instanceCount + 1
                set this=s__Bashosen__Item_Alloc__instanceCount
            else
                set this=s__Bashosen__Item_Alloc__recycle[(0)]
                set s__Bashosen__Item_Alloc__recycle[(0)]=s__Bashosen__Item_Alloc__recycle[s__Bashosen__Item_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Bashosen__Item_deallocate takes integer this returns nothing
            set s__Bashosen__Item_Alloc__recycle[this]=s__Bashosen__Item_Alloc__recycle[(0)]
            set s__Bashosen__Item_Alloc__recycle[(0)]=this
        endfunction
        
    
        function s__Bashosen__Item_destroy takes integer this returns nothing
            local integer i= 0
            call DestroyGroup(s__Bashosen__Item_damaged[this])
            loop
                set i=i + 1
                exitwhen i > 6
                call RecycleUnit(s__Bashosen__dummies[(this)*(1)+i])
                set s__Bashosen__dummies[(this)*(1)+i]= null
            endloop
            set s__Bashosen__Item_damaged[this]=null
            set s__Bashosen__Item_caster[this]=null
            call s__Bashosen__Item_deallocate(this)
        endfunction
        
        function s__Bashosen__Item_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real unit_x
            local real unit_y
            local real unit_x_2
            local real unit_y_2
            local real new_x
            local real new_y
            local integer i= 0
            set s__Bashosen__Item_count[this]=s__Bashosen__Item_count[this] + 1
            loop
                set i=i + 1
                exitwhen i > 6
                set unit_x=GetUnitX(s__Bashosen__dummies[(this)*(1)+i])
                set unit_y=GetUnitY(s__Bashosen__dummies[(this)*(1)+i])
                set new_x=unit_x + Cos(Deg2Rad(GetUnitFacing(s__Bashosen__dummies[(this)*(1)+i]))) * 30
                set new_y=unit_y + Sin(Deg2Rad(GetUnitFacing(s__Bashosen__dummies[(this)*(1)+i]))) * 30
                call SetUnitX(s__Bashosen__dummies[(this)*(1)+i], new_x)
                call SetUnitY(s__Bashosen__dummies[(this)*(1)+i], new_y)
                if ModuloInteger(s__Bashosen__Item_count[this], 4) == 0 then
                    if s__Bashosen__Item_element[this] == 1 then
                        call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    elseif s__Bashosen__Item_element[this] == 2 then
                        call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    elseif s__Bashosen__Item_element[this] == 3 then
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    elseif s__Bashosen__Item_element[this] == 4 then
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    elseif s__Bashosen__Item_element[this] == 5 then
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Tornado\\TornadoElementalSmall.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    endif
                endif
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 200, null)
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Bashosen__Item_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__Bashosen__Item_damaged[this]) then
                        set unit_x_2=GetUnitX(bj_lastCreatedUnit)
                        set unit_y_2=GetUnitY(bj_lastCreatedUnit)
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( unit_x_2 )*1.0), (( unit_y_2)*1.0))) // INLINED!!
                        call UnitDamageTarget(s__Bashosen__Item_caster[this], bj_lastCreatedUnit, 3.0 * GetHeroStr(s__Bashosen__Item_caster[this], true) + 3.0 * GetHeroAgi(s__Bashosen__Item_caster[this], true) + 3.0 * GetHeroInt(s__Bashosen__Item_caster[this], true), true, false, ATTACK_TYPE_SIEGE, DAMAGE_TYPE_MAGIC, null)
                        call GroupAddUnit(s__Bashosen__Item_damaged[this], bj_lastCreatedUnit)
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
            endloop
            if s__Bashosen__Item_count[this] >= 25 then
                call s__Bashosen__Item_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__Bashosen__Item_actions takes nothing returns nothing
            local integer this= s__Bashosen__Item_allocate()
            local real caster_x
            local real caster_y
            local real target_x= GetSpellTargetX()
            local real target_y= GetSpellTargetY()
            local real angle
            local real facing
            local integer i= 0
            set s__Bashosen__Item_damaged[this]=CreateGroup()
            set s__Bashosen__Item_caster[this]=GetTriggerUnit()
            set caster_x=GetUnitX(s__Bashosen__Item_caster[this])
            set caster_y=GetUnitY(s__Bashosen__Item_caster[this])
            set angle=Atan2(( target_y - caster_y ), ( target_x - caster_x ))
            loop
                set i=i + 1
                exitwhen i > 6
                set facing=Rad2Deg(angle) + ( - 42 + 12 * i )
                set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e02B', caster_x, caster_y, facing)
                call SetUnitFacing(bj_lastCreatedUnit, facing)
                call SetUnitX(bj_lastCreatedUnit, caster_x)
                call SetUnitY(bj_lastCreatedUnit, caster_y)
                set s__Bashosen__dummies[(this)*(1)+i]= bj_lastCreatedUnit
            endloop
            set s__Bashosen__Item_count[this]=0
            set s__Bashosen__Item_element[this]=GetRandomInt(1, 5)
            call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__Bashosen__Item_periodic , "Bashosen_periodic")
        endfunction
        
        function s__Bashosen__Item_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__Bashosen__Item_SPELL_ID ) , Filter(( function s__Bashosen__Item_actions))) // INLINED!!
        endfunction
        
    
// scope Bashosen ends
//===========================================================================
// Trigger: Makibishi
//===========================================================================


//Implemented from module Alloc:
    
        function s__Makibishi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Makibishi_Alloc__recycle[(0)] == 0 ) then
                set s__Makibishi_Alloc__instanceCount=s__Makibishi_Alloc__instanceCount + 1
                set this=s__Makibishi_Alloc__instanceCount
            else
                set this=s__Makibishi_Alloc__recycle[(0)]
                set s__Makibishi_Alloc__recycle[(0)]=s__Makibishi_Alloc__recycle[s__Makibishi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Makibishi_deallocate takes integer this returns nothing
            set s__Makibishi_Alloc__recycle[this]=s__Makibishi_Alloc__recycle[(0)]
            set s__Makibishi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__Makibishi_periodic takes nothing returns nothing
 local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__Makibishi_x[this], s__Makibishi_y[this], 350, null)
	loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Makibishi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__Makibishi_damaged[this]) then
			call UnitDamageTarget(s__Makibishi_caster[this], bj_lastCreatedUnit, 3.0 * GetHeroInt(s__Makibishi_caster[this], true) + 3 * GetHeroStr(s__Makibishi_caster[this], true) + 2 * GetHeroAgi(s__Makibishi_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			call GroupAddUnit(s__Makibishi_damaged[this], bj_lastCreatedUnit)
		endif
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
	endloop
	call DestroyGroup(bj_lastCreatedGroup)
	set s__Makibishi_count[this]=s__Makibishi_count[this] + 1
	if s__Makibishi_count[this] > 60.0 then
		call DestroyGroup(s__Makibishi_damaged[this])
		set s__Makibishi_damaged[this]=null
		call s__Makibishi_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
	endif
    endfunction 

    function s__Makibishi_actions takes nothing returns nothing
        local integer this= s__Makibishi_allocate()
        local integer i= 0
        local integer j
        local real x
        local real y
        local real offset
        local real angle
        loop
            set i=i + 1
            exitwhen i > 5
            set j=0
            loop
                exitwhen j > 11
                set angle=GetRandomReal(0, 2 * bj_PI)
                set offset=GetRandomReal(0, 350)
                set x=(((GetSpellTargetX() )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetSpellTargetY() )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
		set bj_lastCreatedEffect=AddSpecialEffect("Abilities\\Weapons\\WardenMissile\\WardenMissile.mdl", x, y)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetRandomReal(0, 360)))
            	call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetPointZ(x , y))
		call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.0)
		call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 6.0)*1.0) , false) // INLINED!!
                set j=j + 1
            endloop
        endloop
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e007', GetSpellTargetX(), GetSpellTargetY(), 270)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0XG')
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 6.0)
        set s__Makibishi_caster[this]=GetTriggerUnit()
        set s__Makibishi_x[this]=GetSpellTargetX()
        set s__Makibishi_y[this]=GetSpellTargetY()
        set s__Makibishi_count[this]=0
	set s__Makibishi_damaged[this]=CreateGroup()
        call TimerStartEx(NewTimerEx(this) , 0.1 , true , function s__Makibishi_periodic , "Makibishi_periodic")
    endfunction 
    
    function s__Makibishi_death takes nothing returns nothing
        if GetUnitTypeId(GetTriggerUnit()) == 'n024' then
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            call ShowUnit(GetTriggerUnit(), false)
        endif
    endfunction 
    
    function s__Makibishi_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__Makibishi_death))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0XF' ) , Filter(( function s__Makibishi_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: NinjaNet
//===========================================================================

//Implemented from module Alloc:
    
        function s__NinjaNet_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NinjaNet_Alloc__recycle[(0)] == 0 ) then
                set s__NinjaNet_Alloc__instanceCount=s__NinjaNet_Alloc__instanceCount + 1
                set this=s__NinjaNet_Alloc__instanceCount
            else
                set this=s__NinjaNet_Alloc__recycle[(0)]
                set s__NinjaNet_Alloc__recycle[(0)]=s__NinjaNet_Alloc__recycle[s__NinjaNet_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NinjaNet_deallocate takes integer this returns nothing
            set s__NinjaNet_Alloc__recycle[this]=s__NinjaNet_Alloc__recycle[(0)]
            set s__NinjaNet_Alloc__recycle[(0)]=this
        endfunction
    
    function s__NinjaNet_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= Atan3(GetUnitX(s__NinjaNet_projectile[this]) , GetUnitY(s__NinjaNet_projectile[this]) , GetUnitX(s__NinjaNet_target[this]) , GetUnitY(s__NinjaNet_target[this]))
        local real x= (((GetUnitX(s__NinjaNet_projectile[this]) )*1.0) + Cos((( angle )*1.0)) * (( 40)*1.0)) // INLINED!!
        local real y= (((GetUnitY(s__NinjaNet_projectile[this]) )*1.0) + Sin((( angle )*1.0)) * (( 40)*1.0)) // INLINED!!
 local unit u
        call SetUnitX(s__NinjaNet_projectile[this], x)
        call SetUnitY(s__NinjaNet_projectile[this], y)
        if GetDistanceUnits(s__NinjaNet_projectile[this] , s__NinjaNet_target[this]) < 50 then
	    set u=CreateAbilityDummy(s__NinjaNet_caster[this] , 'A1EJ')
	    call IssueTargetOrder(u, "entanglingroots", s__NinjaNet_target[this])
            call KillUnit(s__NinjaNet_projectile[this])
            call ShowUnit(s__NinjaNet_projectile[this], false)
            set s__NinjaNet_projectile[this]=null
            set s__NinjaNet_target[this]=null
            call s__NinjaNet_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__NinjaNet_actions takes nothing returns nothing
        local integer this
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()), 400, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                set this=s__NinjaNet_allocate()
                set s__NinjaNet_caster[this]=GetTriggerUnit()
                set s__NinjaNet_target[this]=bj_lastCreatedUnit
                set s__NinjaNet_projectile[this]=CreateUnit(GetTriggerPlayer(), 'e08C', GetUnitX(s__NinjaNet_caster[this]), GetUnitY(s__NinjaNet_caster[this]), 270)
                call TimerStart(NewTimerEx(this), 0.03, true, function s__NinjaNet_periodic)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    endfunction 
    
    function s__NinjaNet_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__NinjaNet_SPELL_ID ) , Filter(( function s__NinjaNet_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: SanbiSkin
//===========================================================================

//Implemented from module Alloc:
    
        function s__SanbiProtection_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__SanbiProtection_Alloc__recycle[(0)] == 0 ) then
                set s__SanbiProtection_Alloc__instanceCount=s__SanbiProtection_Alloc__instanceCount + 1
                set this=s__SanbiProtection_Alloc__instanceCount
            else
                set this=s__SanbiProtection_Alloc__recycle[(0)]
                set s__SanbiProtection_Alloc__recycle[(0)]=s__SanbiProtection_Alloc__recycle[s__SanbiProtection_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__SanbiProtection_deallocate takes integer this returns nothing
            set s__SanbiProtection_Alloc__recycle[this]=s__SanbiProtection_Alloc__recycle[(0)]
            set s__SanbiProtection_Alloc__recycle[(0)]=this
        endfunction

    function s__SanbiProtection_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call UnitRemoveBuffs(s__SanbiProtection_caster[this], false, true)
        if GetUnitAbilityLevel(s__SanbiProtection_caster[this], 'B038') == 0 then
            set s__SanbiProtection_caster[this]=null
            call s__SanbiProtection_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__SanbiProtection_actions takes nothing returns nothing
        local integer this= s__SanbiProtection_allocate()
        set s__SanbiProtection_caster[this]=GetTriggerUnit()
        call TimerStartEx(NewTimerEx(this) , 0.05 , true , function s__SanbiProtection_periodic , "SanbiSkin_periodic")
    endfunction
    
    function s__SanbiProtection_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('A0MJ' ) , Filter(( function s__SanbiProtection_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0ZH' ) , Filter(( function s__SanbiProtection_actions))) // INLINED!!
    endfunction

//===========================================================================
// Trigger: AkatsukiCloth
//===========================================================================

function Trig_AkatsukiClothON_Actions takes nothing returns nothing
    if GetSpellAbilityId() == 'A09D' then
        set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A0KO')
        call IssueTargetOrder(bj_lastCreatedUnit, "invisibility", GetTriggerUnit())
    endif
endfunction

function Trig_AkatsukiClothOFF_Actions takes nothing returns nothing
    if GetSpellAbilityId() == 'A09D' then
        call UnitRemoveAbility(GetTriggerUnit(), 'Binv')
    endif
endfunction

//===========================================================================
function InitTrig_AkatsukiCloth takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_CHANNEL ) , Filter(( function Trig_AkatsukiClothON_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_ENDCAST ) , Filter(( function Trig_AkatsukiClothOFF_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_FINISH ) , Filter(( function Trig_AkatsukiClothOFF_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: NewAkatsukiSet
//===========================================================================

    
    function s__AkatukiSet_removeStats takes nothing returns nothing
        local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local unit u= (s__UnitDex_Unit[(id)]) // INLINED!!
        call SetHeroAgi(u, GetHeroAgi(u, false) - (LoadInteger(Table___ht, (s__AkatukiSet_stats), (id))), false) // INLINED!!
        call SetHeroInt(u, GetHeroInt(u, false) - (LoadInteger(Table___ht, (s__AkatukiSet_stats), (id))), false) // INLINED!!
        call SetHeroStr(u, GetHeroStr(u, false) - (LoadInteger(Table___ht, (s__AkatukiSet_stats), (id))), false) // INLINED!!
        call GroupRemoveUnit(s__AkatukiSet_cooldown, u)
        call RemoveSavedInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id)) // INLINED!!
        call RemoveSavedInteger(Table___ht, (s__AkatukiSet_stats), (id)) // INLINED!!
        set u=null
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    
    function s__AkatukiSet_beginInvisibility takes nothing returns nothing
 local boolean hasEnemy= false
	if GetSpellAbilityId() == 'A0NI' and not IsUnitInGroup(GetTriggerUnit(), s__AkatukiSet_invisibilityGroup) and not IsUnitInGroup(GetTriggerUnit(), s__AkatukiSet_cooldown) and GetUnitTypeId(GetTriggerUnit()) != 'H001' and GetUnitTypeId(GetTriggerUnit()) != 'H035' then
		set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A0NJ')
		call IssueTargetOrder(bj_lastCreatedUnit, "invisibility", GetTriggerUnit())
		call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, true, function sc__AkatukiSet_periodic) // INLINED!!
		call GroupAddUnit(s__AkatukiSet_invisibilityGroup, GetTriggerUnit())
	endif
    endfunction 

    function s__AkatukiSet_periodic takes nothing returns nothing
  local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local unit u= (s__UnitDex_Unit[(id)]) // INLINED!!
        local integer elapsed
		//call UnitSetUsesAltIcon(u, true)
		if (HaveSavedInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id))) then // INLINED!!
			set elapsed=(LoadInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id))) // INLINED!!
			if elapsed < 15000 then
				call SaveInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id), ( 100)) // INLINED!!
				call ReleaseTimer(GetExpiredTimer())
			else
				call IssueImmediateOrder(u, "stop")
				call ReleaseTimer(GetExpiredTimer())
			endif
		else
			call SaveInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id), ( 1)) // INLINED!!
		endif
		set u=null
    endfunction
    
    function s__AkatukiSet_removeInvisEffect takes nothing returns nothing
        local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
        local integer id= GetUnitPointValueByType(GetUnitTypeId(u))
        call SetUnitFlyHeight(u, 0, 0)
        call UnitSetUsesAltIcon(u, false)
        set u=null
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__AkatukiSet_endInvisibility takes nothing returns nothing
        local integer id
        local unit u
        local integer elapsed
        if GetSpellAbilityId() == 'A0NI' and IsUnitInGroup(GetTriggerUnit(), s__AkatukiSet_invisibilityGroup) then
            call UnitRemoveAbility(GetTriggerUnit(), 'B03G')
            call UnitRemoveAbility(GetTriggerUnit(), 'Binv')
            call GroupRemoveUnit(s__AkatukiSet_invisibilityGroup, GetTriggerUnit())
            call GroupAddUnit(s__AkatukiSet_cooldown, GetTriggerUnit())
            set id=(GetUnitUserData((GetTriggerUnit()))) // INLINED!!
            set elapsed=(LoadInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id))) // INLINED!!
            call SaveInteger(Table___ht, (s__AkatukiSet_stats), (id), ( R2I(elapsed * 0.15))) // INLINED!!
            call SetHeroAgi(GetTriggerUnit(), GetHeroAgi(GetTriggerUnit(), false) + (LoadInteger(Table___ht, (s__AkatukiSet_stats), (id))), false) // INLINED!!
            call SetHeroInt(GetTriggerUnit(), GetHeroInt(GetTriggerUnit(), false) + (LoadInteger(Table___ht, (s__AkatukiSet_stats), (id))), false) // INLINED!!
            call SetHeroStr(GetTriggerUnit(), GetHeroStr(GetTriggerUnit(), false) + (LoadInteger(Table___ht, (s__AkatukiSet_stats), (id))), false) // INLINED!!
            if elapsed < 120 then
                set u=CreateAbilityDummy(GetTriggerUnit() , 'A0S1')
                call IssueTargetOrder(u, "bloodlust", GetTriggerUnit())
                set u=null
            endif
            call SetUnitFlyHeight(GetTriggerUnit(), 0, 0)
            //call UnitSetUsesAltIcon(GetTriggerUnit(), false)
            call TimerStartEx(NewTimerEx(id) , 15.0 , false , function s__AkatukiSet_removeStats , "AkatsukiSet_removeStats")
        endif
    endfunction 
    
    function s__AkatukiSet_inJungle takes unit u returns boolean
        return RectContainsUnit(gg_rct_Jungle1, u) or RectContainsUnit(gg_rct_Jungle2, u) or RectContainsUnit(gg_rct_Jungle3, u) or RectContainsUnit(gg_rct_Jungle4, u) or RectContainsUnit(gg_rct_Jungle5, u) or RectContainsUnit(gg_rct_Jungle6, u) or RectContainsUnit(gg_rct_Jungle7, u) or RectContainsUnit(gg_rct_Jungle8, u) or RectContainsUnit(gg_rct_Jungle9, u)
    endfunction 
    
    function s__AkatukiSet_passive takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
		if u == null or not UnitHasItemOfTypeBJ(u, 'I03T') then
			set s__s__AkatukiSet_t[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]= null // INLINED!!
			call ReleaseTimer(GetExpiredTimer())
			set u=null
			return
		endif
		call RecycleUnitDelayed(bj_lastCreatedUnit , 7.0)
		if ( GetTimeOfDay() > 18 or GetTimeOfDay() < 6 ) and s__AkatukiSet_inJungle(u) and not IsUnitInGroup(u, s__AkatukiSet_invisibilityGroup) and not IsUnitInGroup(u, s__AkatukiSet_cooldown) then
			set bj_lastCreatedUnit=CreateAbilityDummy(u , 'A09S')
			call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A09S', 2)
			call IssueTargetOrder(bj_lastCreatedUnit, "invisibility", u)
		endif
    endfunction 
    
    function s__AkatukiSet_startTimer takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) != 'I03T' then
			return
		endif
		if s__s__AkatukiSet_t[(GetUnitUserData((GetTriggerUnit())))] == null then // INLINED!!
			set s__s__AkatukiSet_t[(GetUnitUserData((GetTriggerUnit())))]= NewTimerEx((GetUnitUserData((GetTriggerUnit())))) // INLINED!!
			call TimerStartEx(s__s__AkatukiSet_t[(GetUnitUserData((GetTriggerUnit())))] , 2.0 , true , function s__AkatukiSet_periodic , "AkatsukiSet_passive") // INLINED!!
		endif
    endfunction 
	
    function s__AkatukiSet_onInit takes nothing returns nothing
        set s__AkatukiSet_cooldown=CreateGroup()
        set s__AkatukiSet_invisibilityGroup=CreateGroup()
        set s__AkatukiSet_secondsElapsed=s__Table_create()
        set s__AkatukiSet_stats=s__Table_create()
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_CHANNEL ) , Filter(( function s__AkatukiSet_beginInvisibility))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_ENDCAST ) , Filter(( function s__AkatukiSet_endInvisibility))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_FINISH ) , Filter(( function s__AkatukiSet_endInvisibility))) // INLINED!!
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__AkatukiSet_startTimer))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: GreaterMedicalNinjaSphere
//===========================================================================

//Implemented from module Alloc:
    
        function s__GreaterMedicalSphere_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GreaterMedicalSphere_Alloc__recycle[(0)] == 0 ) then
                set s__GreaterMedicalSphere_Alloc__instanceCount=s__GreaterMedicalSphere_Alloc__instanceCount + 1
                set this=s__GreaterMedicalSphere_Alloc__instanceCount
            else
                set this=s__GreaterMedicalSphere_Alloc__recycle[(0)]
                set s__GreaterMedicalSphere_Alloc__recycle[(0)]=s__GreaterMedicalSphere_Alloc__recycle[s__GreaterMedicalSphere_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GreaterMedicalSphere_deallocate takes integer this returns nothing
            set s__GreaterMedicalSphere_Alloc__recycle[this]=s__GreaterMedicalSphere_Alloc__recycle[(0)]
            set s__GreaterMedicalSphere_Alloc__recycle[(0)]=this
        endfunction

    function s__GreaterMedicalSphere_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call GroupClear(udg_GreaterMedicalSphereGroup)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__GreaterMedicalSphere_target_x[this], s__GreaterMedicalSphere_target_y[this], 600.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(s__GreaterMedicalSphere_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) + GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_LIFE) * 0.04)
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Heal Green.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                call GroupAddUnit(udg_GreaterMedicalSphereGroup, bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__GreaterMedicalSphere_count[this]=s__GreaterMedicalSphere_count[this] + 1
        if s__GreaterMedicalSphere_count[this] >= 15 then
            call GroupClear(udg_GreaterMedicalSphereGroup)
            call s__GreaterMedicalSphere_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__GreaterMedicalSphere_actions takes nothing returns nothing
        local integer this= s__GreaterMedicalSphere_allocate()
        set s__GreaterMedicalSphere_caster[this]=GetTriggerUnit()
        set s__GreaterMedicalSphere_target_x[this]=GetSpellTargetX()
        set s__GreaterMedicalSphere_target_y[this]=GetSpellTargetY()
        set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'n00I' ), (( s__GreaterMedicalSphere_target_x[this] )*1.0), (( s__GreaterMedicalSphere_target_y[this] )*1.0), (( 270)*1.0))) // INLINED!!
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 15.0)
        set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'n01U' ), (( s__GreaterMedicalSphere_target_x[this] )*1.0), (( s__GreaterMedicalSphere_target_y[this] )*1.0), (( 270)*1.0))) // INLINED!!
        call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 175)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 15.0)
        set s__GreaterMedicalSphere_count[this]=0
        call TimerStartEx(NewTimerEx(this) , 1.0 , true , function s__GreaterMedicalSphere_periodic , "GreaterMedicalSphere_periodic")
    endfunction 
    
    function s__GreaterMedicalSphere_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__GreaterMedicalSphere_SPELL_ID ) , Filter(( function s__GreaterMedicalSphere_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: ReverseOfAllCreation
//===========================================================================




//Implemented from module Alloc:
    
        function s__ReverseOfAllCreation_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ReverseOfAllCreation_Alloc__recycle[(0)] == 0 ) then
                set s__ReverseOfAllCreation_Alloc__instanceCount=s__ReverseOfAllCreation_Alloc__instanceCount + 1
                set this=s__ReverseOfAllCreation_Alloc__instanceCount
            else
                set this=s__ReverseOfAllCreation_Alloc__recycle[(0)]
                set s__ReverseOfAllCreation_Alloc__recycle[(0)]=s__ReverseOfAllCreation_Alloc__recycle[s__ReverseOfAllCreation_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ReverseOfAllCreation_deallocate takes integer this returns nothing
            set s__ReverseOfAllCreation_Alloc__recycle[this]=s__ReverseOfAllCreation_Alloc__recycle[(0)]
            set s__ReverseOfAllCreation_Alloc__recycle[(0)]=this
        endfunction

 function s__ReverseOfAllCreation_actions takes nothing returns nothing
  local real i
  local real j
  local real x1= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(90) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real y1= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(90) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real x2= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(23) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real y2= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(23) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real x3= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(315) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real y3= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(315) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real x4= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(157) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real y4= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(157) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real x5= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(225) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local real y5= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(225) )*1.0)) * (( 600)*1.0)) // INLINED!!
  local integer l
		set l=s__Lightning_create(LIGHTNING_CHAIN_LIGHTNING_PRIMARY , true , 0.1)
		call s__Lightning_releaseDelayed(l,2.0 , 0.1)
		call s__Lightning_attachToPoint(l,true , x1 , y1 , 60 , true)
		call s__Lightning_attachToPoint(l,false , x3 , y3 , 60 , true)

		set l=s__Lightning_create(LIGHTNING_CHAIN_LIGHTNING_PRIMARY , true , 0.1)
		call s__Lightning_releaseDelayed(l,2.0 , 0.1)
		call s__Lightning_attachToPoint(l,true , x3 , y3 , 60 , true)
		call s__Lightning_attachToPoint(l,false , x4 , y4 , 60 , true)

		set l=s__Lightning_create(LIGHTNING_CHAIN_LIGHTNING_PRIMARY , true , 0.1)
		call s__Lightning_releaseDelayed(l,2.0 , 0.1)
		call s__Lightning_attachToPoint(l,true , x4 , y4 , 60 , true)
		call s__Lightning_attachToPoint(l,false , x2 , y2 , 60 , true)

		set l=s__Lightning_create(LIGHTNING_CHAIN_LIGHTNING_PRIMARY , true , 0.1)
		call s__Lightning_releaseDelayed(l,2.0 , 0.1)
		call s__Lightning_attachToPoint(l,true , x2 , y2 , 60 , true)
		call s__Lightning_attachToPoint(l,false , x5 , y5 , 60 , true)

		set l=s__Lightning_create(LIGHTNING_CHAIN_LIGHTNING_PRIMARY , true , 0.1)
		call s__Lightning_releaseDelayed(l,2.0 , 0.1)
		call s__Lightning_attachToPoint(l,true , x5 , y5 , 60 , true)
		call s__Lightning_attachToPoint(l,false , x1 , y1 , 60 , true)

		call DestroyEffect(AddSpecialEffect(("war3mapImported\\Divine Edict.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
		set udg_EarthFinish[GetPlayerId(GetTriggerPlayer())]=true
		set udg_FallenSky2[GetPlayerId(GetTriggerPlayer())]=true
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 600, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA) > 0 then
				set i=GetUnitLifePercent(bj_lastCreatedUnit)
				set j=GetUnitManaPercent(bj_lastCreatedUnit)
				call SetUnitLifePercentBJ(bj_lastCreatedUnit, j)
				call SetUnitManaPercentBJ(bj_lastCreatedUnit, i)
				call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			endif
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction 

 function s__ReverseOfAllCreation_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__ReverseOfAllCreation_SPELL_ID ) , Filter(( function s__ReverseOfAllCreation_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: SubjugationOfEarth
//===========================================================================



//Implemented from module Alloc:
    
        function s__SubjugationOfEarth_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__SubjugationOfEarth_Alloc__recycle[(0)] == 0 ) then
                set s__SubjugationOfEarth_Alloc__instanceCount=s__SubjugationOfEarth_Alloc__instanceCount + 1
                set this=s__SubjugationOfEarth_Alloc__instanceCount
            else
                set this=s__SubjugationOfEarth_Alloc__recycle[(0)]
                set s__SubjugationOfEarth_Alloc__recycle[(0)]=s__SubjugationOfEarth_Alloc__recycle[s__SubjugationOfEarth_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__SubjugationOfEarth_deallocate takes integer this returns nothing
            set s__SubjugationOfEarth_Alloc__recycle[this]=s__SubjugationOfEarth_Alloc__recycle[(0)]
            set s__SubjugationOfEarth_Alloc__recycle[(0)]=this
        endfunction

 function s__SubjugationOfEarth_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real percent= GetUnitLifePercent(s__SubjugationOfEarth_target[this])
		call BlzSetUnitMaxHP(s__SubjugationOfEarth_target[this], BlzGetUnitMaxHP(s__SubjugationOfEarth_target[this]) + s__SubjugationOfEarth_diff[this])
		set udg_EarthFinish[GetPlayerId(GetOwningPlayer(s__SubjugationOfEarth_caster[this]))]=true
		call SetUnitLifePercentBJ(s__SubjugationOfEarth_target[this], percent)
		//call AddSpecialEffectEx("RedHarvest.mdx", GetUnitX(this.target), GetUnitY(this.target))
		call DestroyEffect(AddSpecialEffect(("war3mapImported\\Pillar of Flame Orange.mdl" ), (( GetUnitX(s__SubjugationOfEarth_target[this]) )*1.0), (( GetUnitY(s__SubjugationOfEarth_target[this]))*1.0))) // INLINED!!
		set s__SubjugationOfEarth_target[this]=null
		call s__SubjugationOfEarth_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__SubjugationOfEarth_actions takes nothing returns nothing
  local integer this= s__SubjugationOfEarth_allocate()
  local integer bonus_hp= BlzGetUnitMaxHP(GetSpellTargetUnit()) - GetHeroStr(GetSpellTargetUnit(), true) * 27
  local integer new_hp= bonus_hp + GetHeroInt(GetSpellTargetUnit(), true) * 27
  local real percent= GetUnitLifePercent(GetSpellTargetUnit())
		set s__SubjugationOfEarth_target[this]=GetSpellTargetUnit()
		set s__SubjugationOfEarth_caster[this]=GetTriggerUnit()
		set s__SubjugationOfEarth_diff[this]=BlzGetUnitMaxHP(GetSpellTargetUnit()) - new_hp
		set udg_EarthFinish[GetPlayerId(GetOwningPlayer(s__SubjugationOfEarth_caster[this]))]=true
		call BlzSetUnitMaxHP(GetSpellTargetUnit(), BlzGetUnitMaxHP(GetSpellTargetUnit()) - s__SubjugationOfEarth_diff[this])
		call SetUnitLifePercentBJ(GetSpellTargetUnit(), percent)
		call DestroyEffect(AddSpecialEffect(("RedHarvest.mdx" ), (( GetUnitX(s__SubjugationOfEarth_target[this]) )*1.0), (( GetUnitY(s__SubjugationOfEarth_target[this]))*1.0))) // INLINED!!
		call DestroyEffect(AddSpecialEffect(("war3mapImported\\Pillar of Flame Orange.mdl" ), (( GetUnitX(s__SubjugationOfEarth_target[this]) )*1.0), (( GetUnitY(s__SubjugationOfEarth_target[this]))*1.0))) // INLINED!!
		call TimerStartEx(NewTimerEx(this) , 10.0 , false , function s__SubjugationOfEarth_finish , "SubjugationOfEarth_finish")
 endfunction

 function s__SubjugationOfEarth_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__SubjugationOfEarth_SPELL_ID ) , Filter(( function s__SubjugationOfEarth_actions))) // INLINED!!
 endfunction 


//===========================================================================
// Trigger: SubjugationOfHeaven
//===========================================================================




//Implemented from module Alloc:
    
        function s__SubjugationOfHeaven_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__SubjugationOfHeaven_Alloc__recycle[(0)] == 0 ) then
                set s__SubjugationOfHeaven_Alloc__instanceCount=s__SubjugationOfHeaven_Alloc__instanceCount + 1
                set this=s__SubjugationOfHeaven_Alloc__instanceCount
            else
                set this=s__SubjugationOfHeaven_Alloc__recycle[(0)]
                set s__SubjugationOfHeaven_Alloc__recycle[(0)]=s__SubjugationOfHeaven_Alloc__recycle[s__SubjugationOfHeaven_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__SubjugationOfHeaven_deallocate takes integer this returns nothing
            set s__SubjugationOfHeaven_Alloc__recycle[this]=s__SubjugationOfHeaven_Alloc__recycle[(0)]
            set s__SubjugationOfHeaven_Alloc__recycle[(0)]=this
        endfunction

 function s__SubjugationOfHeaven_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real percent
		set udg_FallenSky[GetPlayerId(GetOwningPlayer(s__SubjugationOfHeaven_caster[this]))]=true
		set udg_FallenSky2[GetPlayerId(GetOwningPlayer(s__SubjugationOfHeaven_caster[this]))]=false
		loop
			set bj_lastCreatedUnit=FirstOfGroup(s__SubjugationOfHeaven_damaged[this])
			exitwhen bj_lastCreatedUnit == null
			set percent=GetUnitManaPercent(bj_lastCreatedUnit)
			call BlzSetUnitMaxMana(bj_lastCreatedUnit, s__s__SubjugationOfHeaven_mps[(GetUnitUserData((bj_lastCreatedUnit)))]) // INLINED!!
			call SetUnitManaPercentBJ(bj_lastCreatedUnit, percent)
			//call AddSpecialEffectEx("HarvestMana.mdx", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
			call DestroyEffect(AddSpecialEffect(("war3mapImported\\Pillar of Flame Blue.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			call GroupRemoveUnit(s__SubjugationOfHeaven_damaged[this], bj_lastCreatedUnit)
		endloop
		call DestroyGroup(s__SubjugationOfHeaven_damaged[this])
		set s__SubjugationOfHeaven_damaged[this]=null
		call s__SubjugationOfHeaven_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__SubjugationOfHeaven_actions takes nothing returns nothing
  local integer this= s__SubjugationOfHeaven_allocate()
  local integer new_mp
  local real percent
		set s__SubjugationOfHeaven_caster[this]=GetTriggerUnit()
		set s__SubjugationOfHeaven_damaged[this]=CreateGroup()
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 400, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
				set new_mp=GetHeroStr(bj_lastCreatedUnit, true) * 13
				set s__s__SubjugationOfHeaven_mps[(GetUnitUserData((bj_lastCreatedUnit)))]= BlzGetUnitMaxMana(bj_lastCreatedUnit) // INLINED!!
				set percent=GetUnitManaPercent(bj_lastCreatedUnit)
				call BlzSetUnitMaxMana(bj_lastCreatedUnit, new_mp)
				call SetUnitManaPercentBJ(bj_lastCreatedUnit, percent)
				call DestroyEffect(AddSpecialEffect(("HarvestMana.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				call DestroyEffect(AddSpecialEffect(("war3mapImported\\Pillar of Flame Blue.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				call GroupAddUnit(s__SubjugationOfHeaven_damaged[this], bj_lastCreatedUnit)
			endif
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set udg_FallenSky2[GetPlayerId(GetOwningPlayer(s__SubjugationOfHeaven_caster[this]))]=true
		call TimerStartEx(NewTimerEx(this) , 10.0 , false , function s__SubjugationOfHeaven_finish , "SubjugationOfHeaven_finish")
 endfunction

 function s__SubjugationOfHeaven_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__SubjugationOfHeaven_SPELL_ID ) , Filter(( function s__SubjugationOfHeaven_actions))) // INLINED!!
 endfunction 


//===========================================================================
// Trigger: ElementalANBUMask
//===========================================================================


 function s__ElementalANBUMask_water takes nothing returns nothing
  local integer i= 0
  local real diff
		loop
			exitwhen i > 11
			if udg_units33[i + 1] != null then
				if GetWidgetLife(udg_units33[i + 1]) > 0.405 and udg_ANBUTarget[i] != null and GetWidgetLife(udg_ANBUTarget[i]) > 0.405 and (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07B'))) then // INLINED!!
					set diff=s__s__ElementalANBUMask_mana[i] - GetUnitState(udg_units33[i + 1], UNIT_STATE_MANA)
					if diff > 0 then
						call UnitDamageTarget(udg_units33[i + 1], udg_ANBUTarget[i], diff, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						if GetWidgetLife(udg_ANBUTarget[i]) < 0.405 then
							set bj_lastCreatedUnit=CreateUnit(Player(i), 'e007', GetUnitX(udg_ANBUTarget[i]), GetUnitY(udg_ANBUTarget[i]), 270.0)
							call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
						endif
					endif
				endif
				set s__s__ElementalANBUMask_mana[i]= GetUnitState(udg_units33[i + 1], UNIT_STATE_MANA)
			endif
			set i=i + 1
		endloop
 endfunction 

 function s__ElementalANBUMask_lightning takes nothing returns nothing
		if udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())] != null then
		set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), 'e007', GetUnitX(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]), GetUnitY(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]), 270)
			call EsnareUnitTimed(bj_lastCreatedUnit , udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())] , 4.0)
			call DestroyEffect(AddSpecialEffect(("MinatoFlash.mdx" ), (( GetUnitX(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]) )*1.0), (( GetUnitY(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]))*1.0))) // INLINED!!
		endif
 endfunction 

 function s__ElementalANBUMask_dark takes nothing returns nothing
		if udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())] != null then
			call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
			if GetDistanceUnits(GetTriggerUnit() , udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]) < 2000 and GetWidgetLife(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]) > 0.405 then
				call StunUnitTimed(GetTriggerUnit() , udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())] , 1.0)
				call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]) )*1.0), (( GetUnitY(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]))*1.0))) // INLINED!!
				call SetUnitX(GetTriggerUnit(), GetUnitX(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]))
				call SetUnitY(GetTriggerUnit(), GetUnitY(udg_ANBUTarget[GetPlayerId(GetTriggerPlayer())]))
			endif
		endif
 endfunction 

 function s__ElementalANBUMask_wind_off takes nothing returns nothing
  local player trigger_player= Player((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))) // INLINED!!
  local integer i
  local integer j
		set j=0
		loop
			exitwhen j > 11
			if IsPlayerEnemy(Player(j), trigger_player) then
				set i=0
					loop
						exitwhen i > 11
						if IsPlayerAlly(Player(i), Player(j)) and i != j then
							call SetPlayerAllianceBJ(Player(i), ALLIANCE_SHARED_VISION, true, Player(j))
							call SetPlayerAllianceBJ(Player(j), ALLIANCE_SHARED_VISION, true, Player(i))
						endif
						set i=i + 1
					endloop
			endif
			set j=j + 1
		endloop
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__ElementalANBUMask_wind takes nothing returns nothing
  local integer i
  local integer j
		set j=0
		loop
			exitwhen j > 11
			if IsPlayerEnemy(Player(j), GetTriggerPlayer()) then
				set i=0
				loop
						exitwhen i > 11
						if IsPlayerAlly(Player(i), Player(j)) and i != j then
							call SetPlayerAllianceBJ(Player(i), ALLIANCE_SHARED_VISION, false, Player(j))
							call SetPlayerAllianceBJ(Player(j), ALLIANCE_SHARED_VISION, false, Player(i))
						endif
						set i=i + 1
				endloop
			endif
			set j=j + 1
		endloop
        	call TimerStart(NewTimerEx(GetPlayerId(GetTriggerPlayer())), 20.0, false, function s__ElementalANBUMask_wind_off)
 endfunction 

 function s__ElementalANBUMask_light_off takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
		call SetUnitInvulnerable(u, false)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__ElementalANBUMask_light takes nothing returns nothing
		call SetUnitInvulnerable(GetTriggerUnit(), true)
		call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 1.5, false, function s__ElementalANBUMask_light_off) // INLINED!!
 endfunction 

 function s__ElementalANBUMask_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2(('A18H' ) , Filter(( function s__ElementalANBUMask_lightning))) // INLINED!!
		call RegisterSpellEffectEvent2(('A18G' ) , Filter(( function s__ElementalANBUMask_dark))) // INLINED!!
		call RegisterSpellEffectEvent2(('A18L' ) , Filter(( function s__ElementalANBUMask_wind))) // INLINED!!
		call RegisterSpellEffectEvent2(('A19R' ) , Filter(( function s__ElementalANBUMask_light))) // INLINED!!
		call TimerStart((NewTimerEx(0)), 0.01, true, function s__ElementalANBUMask_water) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: HeavenStone
//===========================================================================

    
    function s__HeavenStone_actions takes nothing returns nothing
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()), 300, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Soul Armor Scribe_opt.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetUnitTypeId(bj_lastCreatedUnit) != 'H070' and GetUnitTypeId(bj_lastCreatedUnit) != 'U00P' and GetUnitTypeId(bj_lastCreatedUnit) != 'N01V' and GetUnitTypeId(bj_lastCreatedUnit) != 'H0B0' and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == false and GetUnitLevel(bj_lastCreatedUnit) < 6 then
                        call SetUnitOwner(bj_lastCreatedUnit, GetTriggerPlayer(), true)
                    endif
                    call SetUnitInvulnerable(bj_lastCreatedUnit, false)
                    call UnitRemoveBuffs(bj_lastCreatedUnit, true, false)
                else
                    call UnitRemoveBuffs(bj_lastCreatedUnit, false, true)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    endfunction 
    
    function s__HeavenStone_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__HeavenStone_SPELL_ID ) , Filter(( function s__HeavenStone_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: HealingShoes
//===========================================================================

//Implemented from module Alloc:
    
        function s__HealingShoes_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HealingShoes_Alloc__recycle[(0)] == 0 ) then
                set s__HealingShoes_Alloc__instanceCount=s__HealingShoes_Alloc__instanceCount + 1
                set this=s__HealingShoes_Alloc__instanceCount
            else
                set this=s__HealingShoes_Alloc__recycle[(0)]
                set s__HealingShoes_Alloc__recycle[(0)]=s__HealingShoes_Alloc__recycle[s__HealingShoes_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HealingShoes_deallocate takes integer this returns nothing
            set s__HealingShoes_Alloc__recycle[this]=s__HealingShoes_Alloc__recycle[(0)]
            set s__HealingShoes_Alloc__recycle[(0)]=this
        endfunction

 function s__HealingShoes_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		if GetUnitAbilityLevel(s__HealingShoes_caster[this], 'B05V') > 0 and s__HealingShoes_count[this] < 15 then
			set s__HealingShoes_count[this]=s__HealingShoes_count[this] + 1
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE) + GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MAX_LIFE) * s__HealingShoes_percent[this] / 15)
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA) + GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MAX_MANA) * s__HealingShoes_percent[this] / 15)
		else
			call s__HealingShoes_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__HealingShoes_actions takes nothing returns nothing
  local integer this= s__HealingShoes_allocate()
		set s__HealingShoes_caster[this]=GetSpellTargetUnit()
		if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I062'))) then // INLINED!!
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE) + 500)
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA) + 500)
			set s__HealingShoes_percent[this]=0.05
		elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I063'))) then // INLINED!!
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE) + 750)
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA) + 750)
			set s__HealingShoes_percent[this]=0.1
		elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I064'))) then // INLINED!!
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_LIFE) + 1000)
			call SetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA, GetUnitState(s__HealingShoes_caster[this], UNIT_STATE_MANA) + 1000)
			set s__HealingShoes_percent[this]=0.2
		endif
		call DestroyEffect(AddSpecialEffect(("war3mapImported\\Heal Green.mdx" ), (( GetUnitX(s__HealingShoes_caster[this]) )*1.0), (( GetUnitY(s__HealingShoes_caster[this]))*1.0))) // INLINED!!
		set s__HealingShoes_count[this]=0
		set bj_lastCreatedUnit=CreateAbilityDummy(s__HealingShoes_caster[this] , 'A132')
		call IssueTargetOrder(bj_lastCreatedUnit, "rejuvination", s__HealingShoes_caster[this])
		call TimerStartEx(NewTimerEx(this) , 1.0 , true , function s__HealingShoes_periodic , "HealingShoes_periodic")
 endfunction 

 function s__HealingShoes_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2(('A131' ) , Filter(( function s__HealingShoes_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: InvisibilityShoes
//===========================================================================

 function s__InvisibilityShoes_actions takes nothing returns nothing
  local unit u
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitAlly(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
				set u=CreateAbilityDummy(GetTriggerUnit() , 'A197')
				if GetSpellAbilityId() == 'A195' then
					call SetUnitAbilityLevel(u, 'A197', 2)
				elseif GetSpellAbilityId() == 'A196' then
					call SetUnitAbilityLevel(u, 'A197', 3)
				endif
				call IssueTargetOrder(u, "invisibility", bj_lastCreatedUnit)
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction 

 function s__InvisibilityShoes_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2(('A194' ) , Filter(( function s__InvisibilityShoes_actions))) // INLINED!!
		call RegisterSpellEffectEvent2(('A195' ) , Filter(( function s__InvisibilityShoes_actions))) // INLINED!!
		call RegisterSpellEffectEvent2(('A196' ) , Filter(( function s__InvisibilityShoes_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: ScrollOfTeleport
//===========================================================================
// scope ScrollOfTeleportScope begins

    
    function s__ScrollOfTeleport_actions takes nothing returns nothing
        local integer id= (GetUnitUserData((GetTriggerUnit()))) // INLINED!!
        local real x
        local real y
        local integer i= 0
        loop
            exitwhen i == 4
            set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(90 * i) )*1.0)) * (( 200)*1.0)) // INLINED!!
            set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(90 * i) )*1.0)) * (( 200)*1.0)) // INLINED!!
            set s__ScrollOfTeleportScope__anbus[(id)*(1)+i]= (CreateUnit((GetTriggerPlayer() ), ( 'nfgl' ), (( x )*1.0), (( y )*1.0), (( i * 90 + 180)*1.0))) // INLINED!!
            call SetUnitAnimation(s__ScrollOfTeleportScope__anbus[(id)*(1)+i], "spell")
            call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=i + 1
        endloop
    endfunction 
    
    function s__ScrollOfTeleport_finish takes nothing returns nothing
        local integer id
        local integer i
        if GetSpellAbilityId() == s__ScrollOfTeleport_SPELL_ID then
            set id=(GetUnitUserData((GetTriggerUnit()))) // INLINED!!
            set i=0
            loop
                exitwhen i == 4
                call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl" ), (( GetUnitX(s__ScrollOfTeleportScope__anbus[(id)*(1)+i]) )*1.0), (( GetUnitY(s__ScrollOfTeleportScope__anbus[(id)*(1)+i]))*1.0))) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl" ), (( GetUnitX(s__ScrollOfTeleportScope__anbus[(id)*(1)+i]) )*1.0), (( GetUnitY(s__ScrollOfTeleportScope__anbus[(id)*(1)+i]))*1.0))) // INLINED!!
                call RecycleUnit(s__ScrollOfTeleportScope__anbus[(id)*(1)+i])
                set s__ScrollOfTeleportScope__anbus[(id)*(1)+i]= null
                set i=i + 1
            endloop
        endif
    endfunction 
    
    function s__ScrollOfTeleport_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__ScrollOfTeleport_SPELL_ID ) , Filter(( function s__ScrollOfTeleport_actions))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_FINISH ) , Filter(( function s__ScrollOfTeleport_finish))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_ENDCAST ) , Filter(( function s__ScrollOfTeleport_finish))) // INLINED!!
    endfunction 
    
// scope ScrollOfTeleportScope ends
//===========================================================================
// Trigger: BunshinStoneNew
//===========================================================================

    function s__BunshinStoneNew_actions takes nothing returns nothing
        local integer i
        if GetUnitAbilityLevel(GetTriggerUnit(), 'Beng') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'Bena') > 0 then
            return
        endif
        set i=0
        loop
            exitwhen i == 2
            set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'AIil')
            if GetUnitTypeId(GetTriggerUnit()) == 'H041' or GetUnitTypeId(GetTriggerUnit()) == 'H048' then
                call SetUnitAbilityLevel(bj_lastCreatedUnit, 'AIil', 3)
            elseif ( ( GetSpellAbilityId() == 'A0RN' ) ) then
                call SetUnitAbilityLevel(bj_lastCreatedUnit, 'AIil', 2)
            elseif ( ( GetSpellAbilityId() == 'A0RO' ) ) then
                call SetUnitAbilityLevel(bj_lastCreatedUnit, 'AIil', 3)
            endif
            call IssueTargetOrderById(bj_lastCreatedUnit, 852274, GetTriggerUnit())
            set i=i + 1
        endloop
    endfunction 

    function s__BunshinStoneNew_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('AIfu' ) , Filter(( function s__BunshinStoneNew_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0RN' ) , Filter(( function s__BunshinStoneNew_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0RO' ) , Filter(( function s__BunshinStoneNew_actions))) // INLINED!!
    endfunction 

//===========================================================================
// Trigger: ItemShikiFuujin
//===========================================================================

//Implemented from module Alloc:
    
        function s__ItemShikiFuujin_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ItemShikiFuujin_Alloc__recycle[(0)] == 0 ) then
                set s__ItemShikiFuujin_Alloc__instanceCount=s__ItemShikiFuujin_Alloc__instanceCount + 1
                set this=s__ItemShikiFuujin_Alloc__instanceCount
            else
                set this=s__ItemShikiFuujin_Alloc__recycle[(0)]
                set s__ItemShikiFuujin_Alloc__recycle[(0)]=s__ItemShikiFuujin_Alloc__recycle[s__ItemShikiFuujin_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ItemShikiFuujin_deallocate takes integer this returns nothing
            set s__ItemShikiFuujin_Alloc__recycle[this]=s__ItemShikiFuujin_Alloc__recycle[(0)]
            set s__ItemShikiFuujin_Alloc__recycle[(0)]=this
        endfunction

    function s__ItemShikiFuujin_actions takes nothing returns nothing
            local integer i= 0
            local real x
            local real y
            local unit u
    local integer this= s__ItemShikiFuujin_allocate()
    set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h00U', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), Rad2Deg(Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetUnitX(GetSpellTargetUnit()) , GetUnitY(GetSpellTargetUnit()))))
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
            loop
                exitwhen i > 1
                set x=(((GetSpellTargetX() )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                set y=(((GetSpellTargetY() )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("ByakuganHitEffect.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'z009', x, y, 24 * i)
        call SetUnitScale(bj_lastCreatedUnit, 3, 0, 0)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.01)
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 400, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    //set u = CreateAbilityDummy(GetTriggerUnit(), 'A0QC')
                    //call IssueTargetOrder(u, "soulburn", bj_lastCreatedUnit)
                    //call UnitApplyTimedLife(u, 'BTLF', 3.0)
                set u=CreateAbilityDummy(GetTriggerUnit() , 'A1EG')
                call IssuePointOrder(u, "silence", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
            call UnitApplyTimedLife(u, 'BTLF', 1.0)
                    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 450.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
    endfunction 
    
    function s__ItemShikiFuujin_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__ItemShikiFuujin_SPELL_ID ) , Filter(( function s__ItemShikiFuujin_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: SuddenIceStorm
//===========================================================================

function Trig_SuddenIceStorm_Actions takes nothing returns nothing
    local integer i
    local integer j
    local real x
    local real y
    local real angle
    local real new_x
    local real new_y
    local group damaged
    if GetUnitTypeId(GetTriggerUnit()) != 'H071' then
        set x=GetUnitX(GetTriggerUnit())
        set y=GetUnitY(GetTriggerUnit())
        set angle=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        set damaged=CreateGroup()
        set i=1
        loop
            exitwhen i > 7
            set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 100 * i)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 100 * i)*1.0)) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, damaged) then
                    call StunUnitTimed(GetTriggerUnit() , bj_lastCreatedUnit , 1.5)
                    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 500, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_MAGIC, null)
                    call GroupAddUnit(damaged, bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set i=i + 1
        endloop
        call DestroyGroup(damaged)
    else
        set x=GetUnitX(GetTriggerUnit())
        set y=GetUnitY(GetTriggerUnit())
        set angle=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        set damaged=CreateGroup()
        set j=1
        loop
            exitwhen j > 10
            set i=1
            loop
                exitwhen i > 7
                set new_x=(((x )*1.0) + Cos((( angle + Deg2Rad(- 60 + 12 * j) )*1.0)) * (( 100 * i)*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( angle + Deg2Rad(- 60 + 12 * j) )*1.0)) * (( 100 * i)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220.0, null)
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, damaged) then
                        call StunUnitTimed(GetTriggerUnit() , bj_lastCreatedUnit , 2.0)
                        call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 500, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_MAGIC, null)
                        call GroupAddUnit(damaged, bj_lastCreatedUnit)
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
                set i=i + 1
            endloop
            set j=j + 1
        endloop
        call DestroyGroup(damaged)
    endif
endfunction

//===========================================================================
function InitTrig_SuddenIceStorm takes nothing returns nothing
    call RegisterSpellEffectEvent2(('A0GV' ) , Filter(( function Trig_SuddenIceStorm_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: HeavenSwordActive
//===========================================================================


 function s__HeavenSwordActive_actions takes nothing returns nothing
		if GetTriggerUnit() == udg_units33[GetPlayerId(GetTriggerPlayer()) + 1] then
			if BlzGetUnitAbilityCooldownRemaining(GetTriggerUnit(), s__s__HeavenSwordActive_spells[GetPlayerId(GetTriggerPlayer())]) > 40 then
				call BlzStartUnitAbilityCooldown(GetTriggerUnit(), s__s__HeavenSwordActive_spells[GetPlayerId(GetTriggerPlayer())], BlzGetUnitAbilityCooldownRemaining(GetTriggerUnit(), s__s__HeavenSwordActive_spells[GetPlayerId(GetTriggerPlayer())]) - 40)
			else
				call BlzEndUnitAbilityCooldown(GetTriggerUnit(), s__s__HeavenSwordActive_spells[GetPlayerId(GetTriggerPlayer())])
			endif
			call DestroyEffect(AddSpecialEffect(("war3mapImported\\Heal.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
			set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e06N', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
		endif
 endfunction 

 function s__HeavenSwordActive_spell takes nothing returns nothing
		if GetTriggerUnit() == udg_units33[GetPlayerId(GetTriggerPlayer()) + 1] and GetSpellAbilityId() != 'A190' then
			set s__s__HeavenSwordActive_spells[GetPlayerId(GetTriggerPlayer())]= GetSpellAbilityId()
		endif
 endfunction 

 function s__HeavenSwordActive_onInit takes nothing returns nothing
  local trigger t= CreateTrigger()
    		call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    		call TriggerAddAction(t, function s__HeavenSwordActive_spell)
		call RegisterSpellEffectEvent2(('A190' ) , Filter(( function s__HeavenSwordActive_actions))) // INLINED!!
 endfunction 




//===========================================================================
// Trigger: AdamantineStaffActive
//===========================================================================
// scope AdamantineStaffActive begins

    
//Implemented from module Alloc:
    
        function s__AdamantineStaffActive__Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AdamantineStaffActive__Spell_Alloc__recycle[(0)] == 0 ) then
                set s__AdamantineStaffActive__Spell_Alloc__instanceCount=s__AdamantineStaffActive__Spell_Alloc__instanceCount + 1
                set this=s__AdamantineStaffActive__Spell_Alloc__instanceCount
            else
                set this=s__AdamantineStaffActive__Spell_Alloc__recycle[(0)]
                set s__AdamantineStaffActive__Spell_Alloc__recycle[(0)]=s__AdamantineStaffActive__Spell_Alloc__recycle[s__AdamantineStaffActive__Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AdamantineStaffActive__Spell_deallocate takes integer this returns nothing
            set s__AdamantineStaffActive__Spell_Alloc__recycle[this]=s__AdamantineStaffActive__Spell_Alloc__recycle[(0)]
            set s__AdamantineStaffActive__Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__AdamantineStaffActive__Spell_destroy takes integer this returns nothing
            call DestroyGroup(s__AdamantineStaffActive__Spell_g[this])
            set s__AdamantineStaffActive__Spell_g[this]=null
            set s__AdamantineStaffActive__Spell_caster[this]=null
            set s__AdamantineStaffActive__Spell_sphere[this]=null
            set s__AdamantineStaffActive__Spell_jirobo[this]=null
            call s__AdamantineStaffActive__Spell_deallocate(this)
        endfunction
        
        function s__AdamantineStaffActive__Spell_delay2 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real new_x
            local real new_y
            local real angle
            local integer i= 0
            call KillUnit(s__AdamantineStaffActive__Spell_sphere[this])
            call KillUnit(s__AdamantineStaffActive__Spell_jirobo[this])
            call ShowUnit(s__AdamantineStaffActive__Spell_jirobo[this], false)
            loop
                set i=i + 1
                exitwhen i > 60
                set angle=6 * i
                set new_x=s__AdamantineStaffActive__Spell_target_x[this] + Cos(angle) * 350
                set new_y=s__AdamantineStaffActive__Spell_target_y[this] + Sin(angle) * 350
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            endloop
            loop
                set bj_lastCreatedUnit=FirstOfGroup(s__AdamantineStaffActive__Spell_g[this])
                exitwhen bj_lastCreatedUnit == null
                call SetUnitInvulnerable(bj_lastCreatedUnit, false)
                call PauseUnit(bj_lastCreatedUnit, false)
                call GroupRemoveUnit(s__AdamantineStaffActive__Spell_g[this], bj_lastCreatedUnit)
            endloop
			call PauseUnit(s__AdamantineStaffActive__Spell_target[this], false)
			call SetUnitInvulnerable(s__AdamantineStaffActive__Spell_target[this], false)
			set s__AdamantineStaffActive__Spell_target[this]=null
            call s__AdamantineStaffActive__Spell_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__AdamantineStaffActive__Spell_delay1 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real new_x
            local real new_y
            local real angle
            local integer i= 0
            set s__AdamantineStaffActive__Spell_sphere[this]=CreateUnit(GetOwningPlayer(s__AdamantineStaffActive__Spell_caster[this]), 'e028', s__AdamantineStaffActive__Spell_target_x[this], s__AdamantineStaffActive__Spell_target_y[this], 270)
            call SetUnitX(s__AdamantineStaffActive__Spell_sphere[this], s__AdamantineStaffActive__Spell_target_x[this])
            call SetUnitY(s__AdamantineStaffActive__Spell_sphere[this], s__AdamantineStaffActive__Spell_target_y[this])
            call SetUnitAnimation(s__AdamantineStaffActive__Spell_sphere[this], "birth")
            loop
                set i=i + 1
                exitwhen i > 60
                set angle=6 * i
                set new_x=s__AdamantineStaffActive__Spell_target_x[this] + Cos(angle) * 350
                set new_y=s__AdamantineStaffActive__Spell_target_y[this] + Sin(angle) * 350
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            endloop
            call TimerStartEx(NewTimerEx(this) , 2.0 , false , function s__AdamantineStaffActive__Spell_delay2 , "AdamantineStaff_delay2")
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__AdamantineStaffActive__Spell_actions takes nothing returns nothing
            local integer this= s__AdamantineStaffActive__Spell_allocate()
            local real caster_x
            local real caster_y
            local real new_x
            local real new_y
            local real angle
            local real angle_2
            set s__AdamantineStaffActive__Spell_g[this]=CreateGroup()
            set s__AdamantineStaffActive__Spell_caster[this]=GetTriggerUnit()
            set s__AdamantineStaffActive__Spell_target_x[this]=GetUnitX(GetSpellTargetUnit())
            set s__AdamantineStaffActive__Spell_target_y[this]=GetUnitY(GetSpellTargetUnit())
            set caster_x=GetUnitX(s__AdamantineStaffActive__Spell_caster[this])
            set caster_y=GetUnitY(s__AdamantineStaffActive__Spell_caster[this])
            set angle=Atan2(( s__AdamantineStaffActive__Spell_target_y[this] - caster_y ), ( s__AdamantineStaffActive__Spell_target_x[this] - caster_x ))
            set new_x=s__AdamantineStaffActive__Spell_target_x[this] + Cos(angle) * 370
            set new_y=s__AdamantineStaffActive__Spell_target_y[this] + Sin(angle) * 370
            set angle_2=Atan2(( s__AdamantineStaffActive__Spell_target_y[this] - new_y ), ( s__AdamantineStaffActive__Spell_target_x[this] - new_x ))
            set s__AdamantineStaffActive__Spell_jirobo[this]=CreateUnit(GetTriggerPlayer(), 'e007', new_x, new_y, Rad2Deg(angle_2))
            call SetUnitX(s__AdamantineStaffActive__Spell_jirobo[this], new_x)
            call SetUnitY(s__AdamantineStaffActive__Spell_jirobo[this], new_y)
            call SetUnitAnimation(s__AdamantineStaffActive__Spell_jirobo[this], "spell")
			set s__AdamantineStaffActive__Spell_target[this]=GetSpellTargetUnit()
			call PauseUnit(s__AdamantineStaffActive__Spell_target[this], true)
			call SetUnitInvulnerable(s__AdamantineStaffActive__Spell_target[this], true)
            //call DestroyEffect(AddSpecialEffectEx("Effects\\s_Black_Blink.mdx", new_x, new_y))
            call TimerStartEx(NewTimerEx(this) , 0.05 , false , function s__AdamantineStaffActive__Spell_delay1 , "AdamantineStaff_delay1")
        endfunction
        
        function s__AdamantineStaffActive__Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__AdamantineStaffActive__Spell_SPELL_ID ) , Filter(( function s__AdamantineStaffActive__Spell_actions))) // INLINED!!
        endfunction
        
    
// scope AdamantineStaffActive ends
//===========================================================================
// Trigger: ExecutionBladeBuff
//===========================================================================

//Implemented from module Alloc:
    
        function s__ExecutionBlade_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ExecutionBlade_Alloc__recycle[(0)] == 0 ) then
                set s__ExecutionBlade_Alloc__instanceCount=s__ExecutionBlade_Alloc__instanceCount + 1
                set this=s__ExecutionBlade_Alloc__instanceCount
            else
                set this=s__ExecutionBlade_Alloc__recycle[(0)]
                set s__ExecutionBlade_Alloc__recycle[(0)]=s__ExecutionBlade_Alloc__recycle[s__ExecutionBlade_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ExecutionBlade_deallocate takes integer this returns nothing
            set s__ExecutionBlade_Alloc__recycle[this]=s__ExecutionBlade_Alloc__recycle[(0)]
            set s__ExecutionBlade_Alloc__recycle[(0)]=this
        endfunction

 function s__ExecutionBlade_equip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I057' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
			call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
		endif
 endfunction 

 function s__ExecutionBlade_unequip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I057' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
			call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
		endif
 endfunction

 function s__ExecutionBlade_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__ExecutionBlade_count[this]=s__ExecutionBlade_count[this] + 0.03
		if RectContainsUnit(gg_rct_duel_area, s__ExecutionBlade_target[this]) and not s__ExecutionBlade_duel[this] then
			set s__ExecutionBlade_duel[this]=true
		else
			if GetUnitState(s__ExecutionBlade_target[this], UNIT_STATE_LIFE) > s__ExecutionBlade_hp[this] and not RectContainsUnit(gg_rct_fonte_konoha, s__ExecutionBlade_target[this]) and not RectContainsUnit(gg_rct_fonte_evil, s__ExecutionBlade_target[this]) and not RectContainsUnit(gg_rct_fonte_akt, s__ExecutionBlade_target[this]) then
				call SetUnitState(s__ExecutionBlade_target[this], UNIT_STATE_LIFE, s__ExecutionBlade_hp[this])
			else
				set s__ExecutionBlade_hp[this]=GetUnitState(s__ExecutionBlade_target[this], UNIT_STATE_LIFE)
			endif
		endif
		if s__ExecutionBlade_count[this] > 30 or GetWidgetLife(s__ExecutionBlade_target[this]) < 0.405 then
			call s__ExecutionBlade_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction

    function s__ExecutionBlade_finish takes nothing returns nothing
	set udg_Execution[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]=null // INLINED!!
	call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__ExecutionBlade_actions takes nothing returns nothing
 local integer this= s__ExecutionBlade_allocate()
	set s__ExecutionBlade_target[this]=GetSpellTargetUnit()
	set s__ExecutionBlade_hp[this]=GetUnitState(s__ExecutionBlade_target[this], UNIT_STATE_LIFE)
	set s__ExecutionBlade_count[this]=0
	set s__ExecutionBlade_duel[this]=true
	call TimerStart(NewTimerEx(this), 0.03, true, function s__ExecutionBlade_periodic)
	set udg_Execution[GetPlayerId(GetTriggerPlayer())]=GetSpellTargetUnit()
	call TimerStartEx(NewTimerEx(GetPlayerId(GetTriggerPlayer())) , 30.0 , false , function s__ExecutionBlade_finish , "ExecutionBladeBuff_finish")
    endfunction 

    function s__ExecutionBlade_death takes nothing returns nothing
	if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) != 'H05O' and GetUnitTypeId(GetTriggerUnit()) != 'U009' and GetUnitTypeId(GetTriggerUnit()) != 'N00Q' and (UnitHasItemOfTypeBJ((GetKillingUnit() ), ( 'I057'))) and IsUnitType(GetKillingUnit(), UNIT_TYPE_HERO) == true then // INLINED!!
		set s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]= s__s__ExecutionBlade_stats[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 2
		call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
		call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl" ), (( GetUnitX(GetKillingUnit()) )*1.0), (( GetUnitY(GetKillingUnit()))*1.0))) // INLINED!!
	endif
	if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) and GetTriggerUnit() == udg_Execution[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] then
		call SetUnitState(GetKillingUnit(), UNIT_STATE_LIFE, GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE) + GetUnitState(GetKillingUnit(), UNIT_STATE_MAX_LIFE) * 0.3)
		call SetUnitState(GetKillingUnit(), UNIT_STATE_MANA, GetUnitState(GetKillingUnit(), UNIT_STATE_MANA) + GetUnitState(GetKillingUnit(), UNIT_STATE_MAX_MANA) * 0.3)
		call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
		set udg_Execution[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=null
	endif
    endfunction 

    function s__ExecutionBlade_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__ExecutionBlade_death))) // INLINED!!
	call RegisterSpellEffectEvent2(('A0SF' ) , Filter(( function s__ExecutionBlade_actions))) // INLINED!!
    	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__ExecutionBlade_equip))) // INLINED!!
    	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__ExecutionBlade_unequip))) // INLINED!!
    endfunction 
    

//===========================================================================
// Trigger: ThunderingTotsuka
//===========================================================================


//Implemented from module Alloc:
    
        function s__ThunderKusanagi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ThunderKusanagi_Alloc__recycle[(0)] == 0 ) then
                set s__ThunderKusanagi_Alloc__instanceCount=s__ThunderKusanagi_Alloc__instanceCount + 1
                set this=s__ThunderKusanagi_Alloc__instanceCount
            else
                set this=s__ThunderKusanagi_Alloc__recycle[(0)]
                set s__ThunderKusanagi_Alloc__recycle[(0)]=s__ThunderKusanagi_Alloc__recycle[s__ThunderKusanagi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ThunderKusanagi_deallocate takes integer this returns nothing
            set s__ThunderKusanagi_Alloc__recycle[this]=s__ThunderKusanagi_Alloc__recycle[(0)]
            set s__ThunderKusanagi_Alloc__recycle[(0)]=this
        endfunction

function s__ThunderKusanagi_prevent takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B04N') > 0 then
        set bj_lastCreatedUnit=CreateAbilityDummy(gg_unit_hspt_0202 , 'A0SI')
        call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0SI', 2)
        call IssueTargetOrder(bj_lastCreatedUnit, "entanglingroots", GetTriggerUnit())
        call UnitRemoveBuffs(GetSpellTargetUnit(), true, false)
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl" ), (( GetUnitX(GetSpellTargetUnit()) )*1.0), (( GetUnitY(GetSpellTargetUnit()))*1.0))) // INLINED!!
    endif
endfunction

 function s__ThunderKusanagi_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__ThunderKusanagi_count[this]=s__ThunderKusanagi_count[this] + 1
		if s__ThunderKusanagi_count[this] == 7 then
			call s__ThunderKusanagi_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		else
			set bj_lastCreatedUnit=CreateAbilityDummy(s__ThunderKusanagi_caster[this] , 'A0TB')
			call IssueTargetOrder(bj_lastCreatedUnit, "soulburn", s__ThunderKusanagi_target[this])
		endif
 endfunction 

 function s__ThunderKusanagi_actions takes nothing returns nothing
  local integer this= s__ThunderKusanagi_allocate()
		set s__ThunderKusanagi_caster[this]=GetTriggerUnit()
		set s__ThunderKusanagi_target[this]=GetSpellTargetUnit()
		set s__ThunderKusanagi_count[this]=0
		set bj_lastCreatedUnit=CreateAbilityDummy(s__ThunderKusanagi_caster[this] , 'A0TB')
		call IssueTargetOrder(bj_lastCreatedUnit, "soulburn", s__ThunderKusanagi_target[this])
		call TimerStart(NewTimerEx(this), 1.0, true, function s__ThunderKusanagi_periodic)
 endfunction 

 function s__ThunderKusanagi_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2(('A0YX' ) , Filter(( function s__ThunderKusanagi_actions))) // INLINED!!
    		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_SPELL_EFFECT ) , Filter(( function s__ThunderKusanagi_prevent))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: NewKusanagiStrike
//===========================================================================

//Implemented from module Alloc:
    
        function s__NewKusanagiStrike_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NewKusanagiStrike_Alloc__recycle[(0)] == 0 ) then
                set s__NewKusanagiStrike_Alloc__instanceCount=s__NewKusanagiStrike_Alloc__instanceCount + 1
                set this=s__NewKusanagiStrike_Alloc__instanceCount
            else
                set this=s__NewKusanagiStrike_Alloc__recycle[(0)]
                set s__NewKusanagiStrike_Alloc__recycle[(0)]=s__NewKusanagiStrike_Alloc__recycle[s__NewKusanagiStrike_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NewKusanagiStrike_deallocate takes integer this returns nothing
            set s__NewKusanagiStrike_Alloc__recycle[this]=s__NewKusanagiStrike_Alloc__recycle[(0)]
            set s__NewKusanagiStrike_Alloc__recycle[(0)]=this
        endfunction

 function s__NewKusanagiStrike_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__NewKusanagiStrike_kusanagi[this])
  local real y= GetUnitY(s__NewKusanagiStrike_kusanagi[this])
  local real new_x= (((x )*1.0) + Cos((( s__NewKusanagiStrike_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__NewKusanagiStrike_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
		call SetUnitX(s__NewKusanagiStrike_kusanagi[this], new_x)
		call SetUnitY(s__NewKusanagiStrike_kusanagi[this], new_y)
		if ModuloInteger(s__NewKusanagiStrike_count[this], 3) == 0 then
            		call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        	endif
		set s__NewKusanagiStrike_count[this]=s__NewKusanagiStrike_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__NewKusanagiStrike_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
				call UnitDamageTarget(s__NewKusanagiStrike_caster[this], bj_lastCreatedUnit, 300, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				call StunUnitTimed(s__NewKusanagiStrike_caster[this] , bj_lastCreatedUnit , 2.0)
				call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				set s__NewKusanagiStrike_count[this]=33
				exitwhen true
			endif
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if s__NewKusanagiStrike_count[this] > 32 then
			call KillUnit(s__NewKusanagiStrike_kusanagi[this])
			call ShowUnit(s__NewKusanagiStrike_kusanagi[this], false)
			set s__NewKusanagiStrike_kusanagi[this]=null
			call s__NewKusanagiStrike_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__NewKusanagiStrike_actions takes nothing returns nothing
  local integer this= s__NewKusanagiStrike_allocate()
		set s__NewKusanagiStrike_caster[this]=GetTriggerUnit()
		set s__NewKusanagiStrike_angle[this]=Atan3(GetUnitX(s__NewKusanagiStrike_caster[this]) , GetUnitY(s__NewKusanagiStrike_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		set s__NewKusanagiStrike_count[this]=0
		set s__NewKusanagiStrike_kusanagi[this]=CreateUnit(GetTriggerPlayer(), 'e04O', GetUnitX(s__NewKusanagiStrike_caster[this]), GetUnitY(s__NewKusanagiStrike_caster[this]), Rad2Deg(s__NewKusanagiStrike_angle[this]))
		call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__NewKusanagiStrike_periodic , "KusanagiStrike_periodic")
 endfunction 

 function s__NewKusanagiStrike_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__NewKusanagiStrike_SPELL_ID ) , Filter(( function s__NewKusanagiStrike_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: LightKusanagi
//===========================================================================

//Implemented from module Alloc:
    
        function s__LightKusanagi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__LightKusanagi_Alloc__recycle[(0)] == 0 ) then
                set s__LightKusanagi_Alloc__instanceCount=s__LightKusanagi_Alloc__instanceCount + 1
                set this=s__LightKusanagi_Alloc__instanceCount
            else
                set this=s__LightKusanagi_Alloc__recycle[(0)]
                set s__LightKusanagi_Alloc__recycle[(0)]=s__LightKusanagi_Alloc__recycle[s__LightKusanagi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__LightKusanagi_deallocate takes integer this returns nothing
            set s__LightKusanagi_Alloc__recycle[this]=s__LightKusanagi_Alloc__recycle[(0)]
            set s__LightKusanagi_Alloc__recycle[(0)]=this
        endfunction

 function s__LightKusanagi_actions takes nothing returns nothing
            local integer i= 0
            local real x
            local real y
            local unit u
     local integer this= s__LightKusanagi_allocate()
            loop
                exitwhen i > 1
                set x=(((GetSpellTargetX() )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                set y=(((GetSpellTargetY() )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\LightNova.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 400, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 500 + 1 * GetHeroStr(GetTriggerUnit(), true) + 1 * GetHeroAgi(GetTriggerUnit(), true) + 1 * GetHeroInt(GetTriggerUnit(), true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		elseif IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(GetTriggerUnit())) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then

		    call SetUnitLifeBJ(bj_lastCreatedUnit, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) + 1 * GetHeroStr(GetTriggerUnit(), true) + 1 * GetHeroAgi(GetTriggerUnit(), true) + 1 * GetHeroInt(GetTriggerUnit(), true))
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
 endfunction 
	
 function s__LightKusanagi_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__LightKusanagi_SPELL_ID ) , Filter(( function s__LightKusanagi_actions))) // INLINED!!
 endfunction 
	


//===========================================================================
// Trigger: FireKusanagi
//===========================================================================

        
        function s__FireKusanagi_actions takes nothing returns nothing
            local real distance= RMaxBJ(0, GetDistanceUnits(GetTriggerUnit() , GetSpellTargetUnit()) - 300)
            local integer i
            local real x
            local real y
            local real angle= Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetUnitX(GetSpellTargetUnit()) , GetUnitY(GetSpellTargetUnit()))
            set i=0
            loop
                exitwhen i >= R2I(distance / 30)
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( 30 * i)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( 30 * i)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set i=i + 1
            endloop
            set i=0
            loop
                exitwhen i > 18
                set x=(((GetUnitX(GetSpellTargetUnit()) )*1.0) + Cos((( Deg2Rad(20 * i) )*1.0)) * (( 300)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetSpellTargetUnit()) )*1.0) + Sin((( Deg2Rad(20 * i) )*1.0)) * (( 300)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 3.0 * GetHeroStr(GetTriggerUnit(), true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endfunction 
        
        function s__FireKusanagi_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2(('A005' ) , Filter(( function s__FireKusanagi_actions))) // INLINED!!
        endfunction
        
    
//===========================================================================
// Trigger: IceKusanagi
//===========================================================================

        
        function s__IceKusanagi_actions takes nothing returns nothing
            local integer i= 0
            local real x
            local real y
            local unit u
            loop
                exitwhen i > 40
                set x=(((GetSpellTargetX() )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 1000.0)*1.0)) // INLINED!!
                set y=(((GetSpellTargetY() )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 1000.0)*1.0)) // INLINED!!
                set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'n021' ), (( GetSpellTargetX() )*1.0), (( GetSpellTargetY() )*1.0), (( 36 * i)*1.0))) // INLINED!!
                call SetUnitFlyHeight(bj_lastCreatedUnit, 12 * i, 18 * i)
                call SetUnitScale(bj_lastCreatedUnit, 1, 1, 1)
                call IssuePointOrder(bj_lastCreatedUnit, "move", x, y)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 250, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 4 * GetHeroInt(GetTriggerUnit(), true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) then
                        call StunUnitTimed(GetTriggerUnit() , bj_lastCreatedUnit , 1.0)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endfunction 
        
        function s__IceKusanagi_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2(('Asta' ) , Filter(( function s__IceKusanagi_actions))) // INLINED!!
        endfunction
        
    
//===========================================================================
// Trigger: EarthKusanagi
//===========================================================================

//Implemented from module Alloc:
    
        function s__EarthPierce_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__EarthPierce_Alloc__recycle[(0)] == 0 ) then
                set s__EarthPierce_Alloc__instanceCount=s__EarthPierce_Alloc__instanceCount + 1
                set this=s__EarthPierce_Alloc__instanceCount
            else
                set this=s__EarthPierce_Alloc__recycle[(0)]
                set s__EarthPierce_Alloc__recycle[(0)]=s__EarthPierce_Alloc__recycle[s__EarthPierce_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__EarthPierce_deallocate takes integer this returns nothing
            set s__EarthPierce_Alloc__recycle[this]=s__EarthPierce_Alloc__recycle[(0)]
            set s__EarthPierce_Alloc__recycle[(0)]=this
        endfunction

    
    function s__EarthPierce_destroy takes integer this returns nothing
        call DestroyGroup(s__EarthPierce_damaged[this])
	call KillUnit(s__EarthPierce_rock[this])
        set s__EarthPierce_caster[this]=null
        set s__EarthPierce_damaged[this]=null
        call s__EarthPierce_deallocate(this)
	set s__EarthPierce_rock[this]=null
    endfunction 
    
    function s__EarthPierce_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__EarthPierce_rock[this])
        local real y= GetUnitY(s__EarthPierce_rock[this])
        local real new_x= (((x )*1.0) + Cos((( s__EarthPierce_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__EarthPierce_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real enemy_x
        local real enemy_y
 local integer maxCount
        local unit u
 local real xball= GetUnitX(s__EarthPierce_rock[this])
        local real yball= GetUnitY(s__EarthPierce_rock[this])
        local real new_xball= (((x )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__EarthPierce_rock[this])) )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_yball= (((y )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__EarthPierce_rock[this])) )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__EarthPierce_rock[this], new_xball)
        call SetUnitY(s__EarthPierce_rock[this], new_yball)
       //call AddSpecialEffectEx("Effects\\s_Earth_Smash.mdl", x, y)
        set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 280.0, null)
            set maxCount=24
       loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__EarthPierce_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__EarthPierce_damaged[this]) and ( IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false or s__EarthPierce_building[this] ) then
                set enemy_x=GetUnitX(bj_lastCreatedUnit)
                set enemy_y=GetUnitY(bj_lastCreatedUnit)
		//call AddSpecialEffectEx("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", x, y)
                call UnitDamageTarget(s__EarthPierce_caster[this], bj_lastCreatedUnit, 900, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                call StunUnitTimed(s__EarthPierce_caster[this] , bj_lastCreatedUnit , 2.0)
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call GroupAddUnit(s__EarthPierce_damaged[this], bj_lastCreatedUnit)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__EarthPierce_count[this]=s__EarthPierce_count[this] + 1
	if s__EarthPierce_count[this] > maxCount then
            call s__EarthPierce_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
        set u=null
    endfunction
    
    function s__EarthPierce_actions takes nothing returns nothing
        local integer this= s__EarthPierce_allocate()
        local real x= GetUnitX(GetTriggerUnit())
        local real y= GetUnitY(GetTriggerUnit())
        local real angle= Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        local integer i= 0
        set s__EarthPierce_building[this]=false
        loop
            exitwhen i > 11
            if IsPlayerAlly(Player(i), GetTriggerPlayer()) and GetUnitTypeId(udg_units33[i + 1]) == 'Hvwd' then
                set s__EarthPierce_building[this]=true
            endif
            set i=i + 1
        endloop
        set s__EarthPierce_damaged[this]=CreateGroup()
        set s__EarthPierce_caster[this]=GetTriggerUnit()
	set s__EarthPierce_rock[this]=CreateUnit(GetTriggerPlayer(), 'h06Q', GetUnitX(s__EarthPierce_caster[this]), GetUnitY(s__EarthPierce_caster[this]), Rad2Deg(Atan3(GetUnitX(s__EarthPierce_caster[this]) , GetUnitY(s__EarthPierce_caster[this]) , GetSpellTargetX() , GetSpellTargetY())))
        set s__EarthPierce_angle[this]=angle
        set s__EarthPierce_count[this]=0
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__EarthPierce_periodic , "EarthPierce_periodic")
    endfunction
    
    function s__EarthPierce_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__EarthPierce_SPELL_ID ) , Filter(( function s__EarthPierce_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: DarkKusanagi
//===========================================================================

        
        function s__DarkKusanagi_actions takes nothing returns nothing
            local integer i= 0
            local real x
            local real y
            local unit u
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\DarkNova.mdx" ), (( GetSpellTargetX() )*1.0), (( GetSpellTargetY())*1.0))) // INLINED!!
            loop
                exitwhen i > 12
                set x=(((GetSpellTargetX() )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                set y=(((GetSpellTargetY() )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\DarkNova.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 400, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    set u=CreateAbilityDummy(GetTriggerUnit() , 'A0QC')
                    call IssueTargetOrder(u, "soulburn", bj_lastCreatedUnit)
                    call UnitApplyTimedLife(u, 'BTLF', 2.0)
                    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 1000.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endfunction 
        
        function s__DarkKusanagi_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2(('A0TD' ) , Filter(( function s__DarkKusanagi_actions))) // INLINED!!
        endfunction
        
    
//===========================================================================
// Trigger: WindKusa
//===========================================================================

//Implemented from module Alloc:
    
        function s__WindKusa_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__WindKusa_Alloc__recycle[(0)] == 0 ) then
                set s__WindKusa_Alloc__instanceCount=s__WindKusa_Alloc__instanceCount + 1
                set this=s__WindKusa_Alloc__instanceCount
            else
                set this=s__WindKusa_Alloc__recycle[(0)]
                set s__WindKusa_Alloc__recycle[(0)]=s__WindKusa_Alloc__recycle[s__WindKusa_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__WindKusa_deallocate takes integer this returns nothing
            set s__WindKusa_Alloc__recycle[this]=s__WindKusa_Alloc__recycle[(0)]
            set s__WindKusa_Alloc__recycle[(0)]=this
        endfunction

 function s__WindKusa_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real angle
  local real new_x
  local real new_y
		set s__WindKusa_count[this]=s__WindKusa_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__WindKusa_winds[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			call SetUnitX(bj_lastCreatedUnit, GetUnitX(s__WindKusa_caster[this]))
			call SetUnitY(bj_lastCreatedUnit, GetUnitY(s__WindKusa_caster[this]))
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if ModuloInteger(s__WindKusa_count[this], 10) == 1 then
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__WindKusa_caster[this]), 'e07L', GetUnitX(s__WindKusa_caster[this]), GetUnitY(s__WindKusa_caster[this]), GetRandomReal(0, 360))
			call GroupAddUnit(s__WindKusa_winds[this], bj_lastCreatedUnit)
			call UnitAddAbility(s__WindKusa_caster[this], 'A1BO')
		endif
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__WindKusa_caster[this]), GetUnitY(s__WindKusa_caster[this]), 700, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__WindKusa_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                		set angle=Atan3(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , GetUnitX(s__WindKusa_caster[this]) , GetUnitY(s__WindKusa_caster[this]))
                		//call AddSpecialEffectEx("war3mapImported\\Windwalk.mdl", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit)) 
				if not IsUnitInGroup(bj_lastCreatedUnit, s__WindKusa_damaged[this]) then
					call GroupAddUnit(s__WindKusa_damaged[this], bj_lastCreatedUnit)
					set s__s__WindKusa_counts[(GetUnitUserData((bj_lastCreatedUnit)))]= 0 // INLINED!!
				else
					set s__s__WindKusa_counts[(GetUnitUserData((bj_lastCreatedUnit)))]= s__s__WindKusa_counts[(GetUnitUserData((bj_lastCreatedUnit)))] + 1 // INLINED!!
						//call EsnareUnitTimed(this.caster, bj_lastCreatedUnit, 2.0)
				endif
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if s__WindKusa_count[this] > 20 * 4 then
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__WindKusa_winds[this])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__WindKusa_winds[this], bj_lastCreatedUnit)
				call KillUnit(bj_lastCreatedUnit)
				call ShowUnit(bj_lastCreatedUnit, false)
			endloop
			call DestroyGroup(s__WindKusa_winds[this])
			call UnitRemoveAbility(s__WindKusa_caster[this], 'A1BO')
			call DestroyGroup(s__WindKusa_damaged[this])
			set s__WindKusa_winds[this]=null
			set s__WindKusa_damaged[this]=null
			call s__WindKusa_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__WindKusa_actions takes nothing returns nothing
  local integer this= s__WindKusa_allocate()
		set s__WindKusa_caster[this]=GetTriggerUnit()
		set s__WindKusa_count[this]=0
		set s__WindKusa_damaged[this]=CreateGroup()
		set s__WindKusa_winds[this]=CreateGroup()
		call TimerStart(NewTimerEx(this), 0.05, true, function s__WindKusa_periodic)
 endfunction 

 function s__WindKusa_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__WindKusa_SPELL_ID ) , Filter(( function s__WindKusa_actions))) // INLINED!!
 endfunction

//===========================================================================
// Trigger: Shichiseiken
//===========================================================================

//Implemented from module Alloc:
    
        function s__Shichiseiken_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Shichiseiken_Alloc__recycle[(0)] == 0 ) then
                set s__Shichiseiken_Alloc__instanceCount=s__Shichiseiken_Alloc__instanceCount + 1
                set this=s__Shichiseiken_Alloc__instanceCount
            else
                set this=s__Shichiseiken_Alloc__recycle[(0)]
                set s__Shichiseiken_Alloc__recycle[(0)]=s__Shichiseiken_Alloc__recycle[s__Shichiseiken_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Shichiseiken_deallocate takes integer this returns nothing
            set s__Shichiseiken_Alloc__recycle[this]=s__Shichiseiken_Alloc__recycle[(0)]
            set s__Shichiseiken_Alloc__recycle[(0)]=this
        endfunction



 function s__Shichiseiken_equip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I07J' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
			call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
		endif
 endfunction 

 function s__Shichiseiken_unequip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I07J' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
			call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
		endif
 endfunction

    function s__Shichiseiken_death takes nothing returns nothing
        if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) != 'H05O' and GetUnitTypeId(GetTriggerUnit()) != 'U009' and GetUnitTypeId(GetTriggerUnit()) != 'N00Q' and (UnitHasItemOfTypeBJ((GetKillingUnit() ), ( 'I07J'))) and IsUnitType(GetKillingUnit(), UNIT_TYPE_HERO) == true then // INLINED!!
            if s__s__Shichiseiken_casters[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] == GetKillingUnit() and s__s__Shichiseiken_targets[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] == GetTriggerUnit() then
                set s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]= s__s__Shichiseiken_stats[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 8
		if GetHeroStr(GetKillingUnit(), true) > GetHeroAgi(GetKillingUnit(), true) and GetHeroStr(GetKillingUnit(), true) > GetHeroInt(GetKillingUnit(), true) then
                	call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 8)
                	call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 6)
                	call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 6)
		elseif GetHeroInt(GetKillingUnit(), true) > GetHeroStr(GetKillingUnit(), true) and GetHeroInt(GetKillingUnit(), true) > GetHeroAgi(GetKillingUnit(), true) then
		     	call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 6)
                	call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 6)
                	call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 8)
		elseif GetHeroAgi(GetKillingUnit(), true) > GetHeroStr(GetKillingUnit(), true) and GetHeroAgi(GetKillingUnit(), true) > GetHeroInt(GetKillingUnit(), true) then
		        call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 6)
                	call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 8)
                	call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 6)
		endif
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Heal.mdx" ), (( GetUnitX(GetKillingUnit()) )*1.0), (( GetUnitY(GetKillingUnit()))*1.0))) // INLINED!!
            endif
        endif
    endfunction 

    function s__Shichiseiken_periodic takes nothing returns nothing
        local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	set s__s__Shichiseiken_timers[id]= s__s__Shichiseiken_timers[id] + 0.1
	if GetWidgetLife(s__s__Shichiseiken_targets[id]) < 0.405 or GetWidgetLife(s__s__Shichiseiken_casters[id]) < 0.405 or s__s__Shichiseiken_timers[id] == 3 or IsUnitIllusion(s__s__Shichiseiken_targets[id]) then
	    call DestroyEffect(s__s__Shichiseiken_effect[id])
            set s__s__Shichiseiken_effect[id]= null
	endif
        if GetWidgetLife(s__s__Shichiseiken_targets[id]) < 0.405 or GetWidgetLife(s__s__Shichiseiken_casters[id]) < 0.405 or s__s__Shichiseiken_timers[id] == 8 or IsUnitIllusion(s__s__Shichiseiken_targets[id]) then
            call SetUnitVertexColor(s__s__Shichiseiken_casters[id], 255, 255, 255, 255)
            call SetUnitVertexColor(s__s__Shichiseiken_targets[id], 255, 255, 255, 255)
	    call UnitRemoveAbility(s__s__Shichiseiken_casters[id], 'B06X')
            call UnitRemoveAbility(s__s__Shichiseiken_targets[id], 'B06X')
	    call GroupRemoveUnit(udg_Shichiseiken, s__s__Shichiseiken_casters[id])
	    call GroupRemoveUnit(udg_Shichiseiken, s__s__Shichiseiken_targets[id])
            set s__s__Shichiseiken_casters[id]= null
            set s__s__Shichiseiken_targets[id]= null
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__Shichiseiken_actions takes nothing returns nothing
        local unit u= GetSpellTargetUnit()
        local integer id= GetPlayerId(GetTriggerPlayer())
        set s__s__Shichiseiken_casters[id]= GetTriggerUnit()
        set s__s__Shichiseiken_targets[id]= u
	set s__s__Shichiseiken_timers[id]= 0
        call SetUnitVertexColor(GetTriggerUnit(), 197, 205, 215, 100)
        call SetUnitVertexColor(u, 197, 205, 215, 100)
        set s__s__Shichiseiken_effect[id]= AddSpecialEffectTarget("Killboard.mdl", u, "overhead")
        call TimerStart(NewTimerEx(id), 0.1, true, function s__Shichiseiken_periodic)
        set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A19B')
        call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", GetTriggerUnit())
        //set bj_lastCreatedUnit = CreateAbilityDummy(GetTriggerUnit(), 'A19B')
        call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", u)
	call GroupAddUnit(udg_Shichiseiken, GetTriggerUnit())
	call GroupAddUnit(udg_Shichiseiken, u)
    endfunction 

    function s__Shichiseiken_onInit takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            set s__s__Shichiseiken_targets[i]= null
            set i=i + 1
        endloop
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__Shichiseiken_death))) // INLINED!!
	    call RegisterSpellEffectEvent2(('A199' ) , Filter(( function s__Shichiseiken_actions))) // INLINED!!
    	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__Shichiseiken_equip))) // INLINED!!
    	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__Shichiseiken_unequip))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: NewHidanScythe
//===========================================================================

//Implemented from module Alloc:
    
        function s__NewHidanScythe_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NewHidanScythe_Alloc__recycle[(0)] == 0 ) then
                set s__NewHidanScythe_Alloc__instanceCount=s__NewHidanScythe_Alloc__instanceCount + 1
                set this=s__NewHidanScythe_Alloc__instanceCount
            else
                set this=s__NewHidanScythe_Alloc__recycle[(0)]
                set s__NewHidanScythe_Alloc__recycle[(0)]=s__NewHidanScythe_Alloc__recycle[s__NewHidanScythe_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NewHidanScythe_deallocate takes integer this returns nothing
            set s__NewHidanScythe_Alloc__recycle[this]=s__NewHidanScythe_Alloc__recycle[(0)]
            set s__NewHidanScythe_Alloc__recycle[(0)]=this
        endfunction

 function s__NewHidanScythe_pull takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__NewHidanScythe_scythe[this])
  local real y= GetUnitY(s__NewHidanScythe_scythe[this])
  local real new_angle= Atan3(x , y , GetUnitX(s__NewHidanScythe_caster[this]) , GetUnitY(s__NewHidanScythe_caster[this]))
  local real new_x= (((x )*1.0) + Cos((( new_angle )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( new_angle )*1.0)) * (( 25)*1.0)) // INLINED!!
		call SetUnitX(s__NewHidanScythe_scythe[this], new_x)
		call SetUnitY(s__NewHidanScythe_scythe[this], new_y)
		if s__NewHidanScythe_target[this] != null then
			call SetUnitX(s__NewHidanScythe_target[this], new_x)
			call SetUnitY(s__NewHidanScythe_target[this], new_y)
		endif
		if GetDistanceUnits(s__NewHidanScythe_caster[this] , s__NewHidanScythe_scythe[this]) <= 50 then
			call KillUnit(s__NewHidanScythe_scythe[this])
			call ShowUnit(s__NewHidanScythe_scythe[this], false)
			set s__NewHidanScythe_scythe[this]=null
			set s__NewHidanScythe_target[this]=null
			call s__Lightning_release((s__NewHidanScythe_l[this]),0.) // INLINED!!
			call s__NewHidanScythe_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__NewHidanScythe_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__NewHidanScythe_scythe[this])
  local real y= GetUnitY(s__NewHidanScythe_scythe[this])
  local real new_x= (((x )*1.0) + Cos((( s__NewHidanScythe_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__NewHidanScythe_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local unit u
		call SetUnitX(s__NewHidanScythe_scythe[this], new_x)
		call SetUnitY(s__NewHidanScythe_scythe[this], new_y)
		set s__NewHidanScythe_count[this]=s__NewHidanScythe_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__NewHidanScythe_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
				call UnitDamageTarget(s__NewHidanScythe_caster[this], bj_lastCreatedUnit, 500, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				call SetUnitState(s__NewHidanScythe_caster[this], UNIT_STATE_LIFE, GetUnitState(s__NewHidanScythe_caster[this], UNIT_STATE_LIFE) + GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) * 0.05)
				call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) - GetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE) * 0.05)
				call StunUnitTimed(s__NewHidanScythe_caster[this] , bj_lastCreatedUnit , 1.0)
				set u=CreateAbilityDummy(s__NewHidanScythe_caster[this] , 'A0S0')
                		call IssueTargetOrder(u, "faeriefire", bj_lastCreatedUnit)
				set s__NewHidanScythe_count[this]=33
				set s__NewHidanScythe_target[this]=bj_lastCreatedUnit
				exitwhen true
			endif
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if s__NewHidanScythe_count[this] > 32 then
                        call TimerStart(NewTimerEx(this), 0.03, true, function s__NewHidanScythe_pull)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__NewHidanScythe_actions takes nothing returns nothing
  local integer this= s__NewHidanScythe_allocate()
		set s__NewHidanScythe_caster[this]=GetTriggerUnit()
		set s__NewHidanScythe_angle[this]=Atan3(GetUnitX(s__NewHidanScythe_caster[this]) , GetUnitY(s__NewHidanScythe_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		set s__NewHidanScythe_count[this]=0
		set s__NewHidanScythe_scythe[this]=CreateUnit(GetTriggerPlayer(), 'e04P', GetUnitX(s__NewHidanScythe_caster[this]), GetUnitY(s__NewHidanScythe_caster[this]), Rad2Deg(s__NewHidanScythe_angle[this]) - 90)
		set s__NewHidanScythe_target[this]=null
 		set s__NewHidanScythe_l[this]=s__Lightning_create("AFOD" , true , 0.5)
            	call s__Lightning_attachToUnit(s__NewHidanScythe_l[this],true , s__NewHidanScythe_caster[this] , 60)
		call s__Lightning_attachToUnit(s__NewHidanScythe_l[this],false , s__NewHidanScythe_scythe[this] , 100)
		call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__NewHidanScythe_periodic , "HidanScythe_periodic")
 endfunction 

 function s__NewHidanScythe_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__NewHidanScythe_SPELL_ID ) , Filter(( function s__NewHidanScythe_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: ZetsuRing
//===========================================================================

//Implemented from module Alloc:
    
        function s__ZetsuRing_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ZetsuRing_Alloc__recycle[(0)] == 0 ) then
                set s__ZetsuRing_Alloc__instanceCount=s__ZetsuRing_Alloc__instanceCount + 1
                set this=s__ZetsuRing_Alloc__instanceCount
            else
                set this=s__ZetsuRing_Alloc__recycle[(0)]
                set s__ZetsuRing_Alloc__recycle[(0)]=s__ZetsuRing_Alloc__recycle[s__ZetsuRing_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ZetsuRing_deallocate takes integer this returns nothing
            set s__ZetsuRing_Alloc__recycle[this]=s__ZetsuRing_Alloc__recycle[(0)]
            set s__ZetsuRing_Alloc__recycle[(0)]=this
        endfunction
    

    function s__ZetsuRing_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
    	call s__ZetsuRing_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction

    
    function s__ZetsuRing_actions takes nothing returns nothing
        local integer this= s__ZetsuRing_allocate()
    	set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(GetTriggerUnit()) ), ( 'n03E' ), (( GetSpellTargetX() )*1.0), (( GetSpellTargetY() )*1.0), (( 270.0)*1.0))) // INLINED!!
        call UnitAddAbility(bj_lastCreatedUnit, 'Apiv')
    	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 30.0)
	call SetUnitAnimation(bj_lastCreatedUnit, "Stand Alternate")
        call TimerStartEx(NewTimerEx(this) , 1.0 , false , function s__ZetsuRing_finish , "ZetsuRing_finish")
    endfunction 
    
    function s__ZetsuRing_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__ZetsuRing_SPELL_ID ) , Filter(( function s__ZetsuRing_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: ItachiRingActive
//===========================================================================

//Implemented from module Alloc:
    
        function s__ItachiRingActive_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ItachiRingActive_Alloc__recycle[(0)] == 0 ) then
                set s__ItachiRingActive_Alloc__instanceCount=s__ItachiRingActive_Alloc__instanceCount + 1
                set this=s__ItachiRingActive_Alloc__instanceCount
            else
                set this=s__ItachiRingActive_Alloc__recycle[(0)]
                set s__ItachiRingActive_Alloc__recycle[(0)]=s__ItachiRingActive_Alloc__recycle[s__ItachiRingActive_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ItachiRingActive_deallocate takes integer this returns nothing
            set s__ItachiRingActive_Alloc__recycle[this]=s__ItachiRingActive_Alloc__recycle[(0)]
            set s__ItachiRingActive_Alloc__recycle[(0)]=this
        endfunction

    function s__ItachiRingActive_destroy takes integer this returns nothing
       call KillUnit(s__ItachiRingActive_dummy[this])
       set s__ItachiRingActive_dummy[this]=null
       set s__ItachiRingActive_target[this]=null
       call s__ItachiRingActive_deallocate(this)
       call ReleaseTimer(GetExpiredTimer())
    endfunction

    function s__ItachiRingActive_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call s__ItachiRingActive_destroy(this)
    endfunction
    
    function s__ItachiRingActive_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call TimerStart(NewTimerEx(this), 10.0, true, function s__ItachiRingActive_delay)
	if GetWidgetLife(s__ItachiRingActive_target[this]) < 0.405 then
		call s__ItachiRingActive_destroy(this)
	endif
    endfunction
    
    function s__ItachiRingActive_actions takes nothing returns nothing
        local integer this= s__ItachiRingActive_allocate()
        set s__ItachiRingActive_caster[this]=GetTriggerUnit()
        set s__ItachiRingActive_target[this]=GetSpellTargetUnit()
        set s__ItachiRingActive_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e07R', GetUnitX(s__ItachiRingActive_target[this]), GetUnitY(s__ItachiRingActive_target[this]), 270)
        call TimerStart(NewTimerEx(this), 0.1, false, function s__ItachiRingActive_periodic)
    endfunction
    
    function s__ItachiRingActive_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__ItachiRingActive_SPELL_ID ) , Filter(( function s__ItachiRingActive_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: TobiramaItemLegendary
//===========================================================================

function Trig_TobiramaItemLegendary_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I04O' and ( GetUnitTypeId(GetTriggerUnit()) == 'N00P' ) then
        call RemoveItem(GetManipulatedItem())
        call UnitAddItemEx(GetTriggerUnit() , 'I03H')
    endif
endfunction

function Trig_TobiramaItemLegendary_Restriction takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I03H' and GetUnitTypeId(GetTriggerUnit()) != 'N00P' then
        call RemoveItem(GetManipulatedItem())
        call UnitAddItemEx(GetTriggerUnit() , 'I04O')
    endif
endfunction

function Trig_TobiramaItemLegendary_SpaceBarrier_Periodic takes nothing returns nothing
    set udg_Barrier_Count=udg_Barrier_Count + 1
    call SetUnitX(udg_Barrier_Dummy, GetUnitX(udg_Barrier_Caster))
    call SetUnitY(udg_Barrier_Dummy, GetUnitY(udg_Barrier_Caster))
    if GetWidgetLife(udg_Barrier_Caster) < 0.405 or udg_Barrier_Count == 660 then
        call RecycleUnit(udg_Barrier_Dummy)
        call ReleaseTimer(GetExpiredTimer())
    endif
endfunction 

function Trig_TobiramaItemLegendary_SpaceBarrier_Action takes nothing returns nothing
    set udg_Barrier_Count=0
    set udg_Barrier_Caster=GetTriggerUnit()
    set udg_Barrier_Dummy=(CreateUnit((GetTriggerPlayer() ), ( 'h01O' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( 270)*1.0))) // INLINED!!
    call TimerStartEx((NewTimerEx(0)) , 0.03 , true , function Trig_TobiramaItemLegendary_SpaceBarrier_Periodic , "Trig_TobiramaItemLegendary_SpaceBarrier_Periodic") // INLINED!!
endfunction

//===========================================================================
function InitTrig_TobiramaItemLegendary takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_TobiramaItemLegendary_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_TobiramaItemLegendary_Restriction))) // INLINED!!
    call RegisterSpellEffectEvent2(('A0DX' ) , Filter(( function Trig_TobiramaItemLegendary_SpaceBarrier_Action))) // INLINED!!
endfunction


//===========================================================================
// Trigger: NarutoItemLegendary
//===========================================================================

function Trig_NarutoItemLegendaryON_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I03W' and ( GetUnitTypeId(GetTriggerUnit()) == 'H07E' or GetUnitTypeId(GetTriggerUnit()) == 'H07B' ) then
        call UnitAddAbility(GetTriggerUnit(), 'A0KC')
    endif
endfunction

function Trig_NarutoItemLegendaryOFF_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I03W' and ( GetUnitTypeId(GetTriggerUnit()) == 'H07E' or GetUnitTypeId(GetTriggerUnit()) == 'H07B' ) then
        call UnitRemoveAbility(GetTriggerUnit(), 'A0KC')
    endif
endfunction

//===========================================================================
function InitTrig_NarutoItemLegendary takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_NarutoItemLegendaryON_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function Trig_NarutoItemLegendaryOFF_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: KillerBeeItem
//===========================================================================

function Trig_KillerBeeItemON_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I03J' and ( GetUnitTypeId(GetTriggerUnit()) == 'H055' or GetUnitTypeId(GetTriggerUnit()) == 'H09O' ) then
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A0GN', false)
        	call UnitAddAbility(GetTriggerUnit(), 'A05T')
		call SetUnitAbilityLevel(GetTriggerUnit(), 'A05T', 10)
		call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'A05T')
    endif
endfunction

function Trig_KillerBeeItemOFF_Actions takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == 'I03J' and ( GetUnitTypeId(GetTriggerUnit()) == 'H055' or GetUnitTypeId(GetTriggerUnit()) == 'H09O' ) then
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A0GN', true)
		call UnitMakeAbilityPermanent(GetTriggerUnit(), false, 'A05T')
        	call UnitRemoveAbility(GetTriggerUnit(), 'A05T')
    endif
endfunction

//===========================================================================
function InitTrig_KillerBeeItem takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_KillerBeeItemON_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function Trig_KillerBeeItemOFF_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: UniqueYataMirror
//===========================================================================
function Trig_UniqueYataMirror_Actions takes nothing returns nothing
    local integer i= 0
    if GetItemTypeId(GetManipulatedItem()) == YATA_MIRROR and udg_ItemClassification then
        loop
            exitwhen i > 0
            if IsPlayerAlly(Player(i), GetTriggerPlayer()) and i != GetPlayerId(GetTriggerPlayer()) and udg_units33[i + 1] != null then
                if UnitHasItemOfTypeBJ(udg_units33[i + 1], YATA_MIRROR) then
                    call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
                    exitwhen true
                endif
            endif
            set i=i + 1
        endloop
    endif
endfunction

//===========================================================================
function InitTrig_UniqueYataMirror takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_UniqueYataMirror_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: UniqueMedicalNinjaSet
//===========================================================================
function Trig_UniqueMedicalNinjaSet_Actions takes nothing returns nothing
    local integer i= 0
    if GetItemTypeId(GetManipulatedItem()) == MEDICAL_NINJA_SET and udg_ItemClassification then
        loop
            exitwhen i > 0
            if IsPlayerAlly(Player(i), GetTriggerPlayer()) and i != GetPlayerId(GetTriggerPlayer()) and udg_units33[i + 1] != null then
                if UnitHasItemOfTypeBJ(udg_units33[i + 1], MEDICAL_NINJA_SET) then
                    call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
                    exitwhen true
                endif
            endif
            set i=i + 1
        endloop
    endif
endfunction

//===========================================================================
function InitTrig_UniqueMedicalNinjaSet takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_UniqueMedicalNinjaSet_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: RestrictANBUMaskToOne
//===========================================================================

function Trig_RestrictANBUMaskToOne_Actions takes nothing returns nothing
 local integer count= 0
    local integer i= 0
    loop
        exitwhen i > 5
        if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I07C' or GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I07A' or GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I07F' or GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I07G' or GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I07E' or GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I07D' or GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I07B' or GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), i + 1)) == 'I06Q' then
            set count=count + 1
        endif
        set i=i + 1
    endloop
    if count > 1 then
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You can only carry one ANBU Mask at a time.|r")
        call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
    endif
endfunction

//===========================================================================
function InitTrig_RestrictANBUMaskToOne takes nothing returns nothing
    set gg_trg_RestrictANBUMaskToOne=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_RestrictANBUMaskToOne, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddAction(gg_trg_RestrictANBUMaskToOne, function Trig_RestrictANBUMaskToOne_Actions)
endfunction


//===========================================================================
// Trigger: AnkoQ
//===========================================================================
	
//Implemented from module Alloc:
    
        function s__AnkoQ_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AnkoQ_Alloc__recycle[(0)] == 0 ) then
                set s__AnkoQ_Alloc__instanceCount=s__AnkoQ_Alloc__instanceCount + 1
                set this=s__AnkoQ_Alloc__instanceCount
            else
                set this=s__AnkoQ_Alloc__recycle[(0)]
                set s__AnkoQ_Alloc__recycle[(0)]=s__AnkoQ_Alloc__recycle[s__AnkoQ_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AnkoQ_deallocate takes integer this returns nothing
            set s__AnkoQ_Alloc__recycle[this]=s__AnkoQ_Alloc__recycle[(0)]
            set s__AnkoQ_Alloc__recycle[(0)]=this
        endfunction

 function s__AnkoQ_periodic2 takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real offset= GetRandomReal(27, 33)
  local real new_x= (((GetUnitX(s__AnkoQ_snake[this]) )*1.0) + Cos((( s__AnkoQ_angle )*1.0)) * (( offset)*1.0)) // INLINED!!
  local real new_y= (((GetUnitY(s__AnkoQ_snake[this]) )*1.0) + Sin((( s__AnkoQ_angle )*1.0)) * (( offset)*1.0)) // INLINED!!
  local boolean found= false
  local unit u
		call SetUnitX(s__AnkoQ_snake[this], new_x)
		call SetUnitY(s__AnkoQ_snake[this], new_y)
		//if this.count == 0 then
		//	call AddSpecialEffectEx("abilities\\weapons\\catapult\\catapultmissile.mdl", GetUnitX(this.snake), GetUnitY(this.snake))
		//endif
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			exitwhen bj_lastCreatedUnit == null
			if not found and not IsUnitInGroup(bj_lastCreatedUnit, s__AnkoQ_damaged) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__AnkoQ_caster)) then
				//set found = true 
				call GroupAddUnit(s__AnkoQ_damaged, bj_lastCreatedUnit)
				call UnitDamageTarget(s__AnkoQ_caster, bj_lastCreatedUnit, GetHeroInt(s__AnkoQ_caster, true) * GetUnitAbilityLevel(s__AnkoQ_caster, s__AnkoQ_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
				set u=CreateUnit(GetOwningPlayer(s__AnkoQ_caster), 'e05D', GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit), 270)
				call SetUnitAnimation(u, "spell two")
				call UnitApplyTimedLife(u, 'BTLF', 2.0)
				call EsnareUnitTimed(s__AnkoQ_caster , bj_lastCreatedUnit , 2.0)
				//call AddSpecialEffectEx("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__AnkoQ_count[this]=s__AnkoQ_count[this] + 1
		if s__AnkoQ_count[this] > 25 then
			call KillUnit(s__AnkoQ_snake[this])
			call s__AnkoQ_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__AnkoQ_periodic takes nothing returns nothing
  local integer this= s__AnkoQ_allocate()
  local real new_angle= s__AnkoQ_angle + Deg2Rad(GetRandomReal(- 90, 90))
  local real new_offset= GetRandomReal(10, 50)
  local real new_x= (((s__AnkoQ_x )*1.0) + Cos((( new_angle )*1.0)) * (( new_offset)*1.0)) // INLINED!!
  local real new_y= (((s__AnkoQ_y )*1.0) + Sin((( new_angle )*1.0)) * (( new_offset)*1.0)) // INLINED!!
		set s__AnkoQ_snake[this]=CreateUnit(GetOwningPlayer(s__AnkoQ_caster), 'e05B', new_x, new_y, Rad2Deg(s__AnkoQ_angle) + GetRandomReal(- 15, 15))
		call SetUnitScale(s__AnkoQ_snake[this], GetRandomReal(0.5, 1.0), 0, 0)
		call SetUnitAnimation(s__AnkoQ_snake[this], "death")
		set s__AnkoQ_count[this]=0
		call TimerStart(NewTimerEx(this), 0.03, true, function s__AnkoQ_periodic2)
		set s__AnkoQ_count_snakes=s__AnkoQ_count_snakes + 1
		if s__AnkoQ_count_snakes > 15 then
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__AnkoQ_actions takes nothing returns nothing
		call GroupClear(s__AnkoQ_damaged)
		set s__AnkoQ_count_snakes=0
		set s__AnkoQ_caster=GetTriggerUnit()
		set s__AnkoQ_x=GetUnitX(s__AnkoQ_caster)
		set s__AnkoQ_y=GetUnitY(s__AnkoQ_caster)
		set s__AnkoQ_angle=Atan3(s__AnkoQ_x , s__AnkoQ_y , GetSpellTargetX() , GetSpellTargetY())
		call DestroyEffect(AddSpecialEffect(("Effects\\s_Wind.mdx" ), (( s__AnkoQ_x )*1.0), (( s__AnkoQ_y)*1.0))) // INLINED!!
		
				
	    set bj_lastCreatedEffect=AddSpecialEffect("s_Kuchiyose.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
                     call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 0 + GetPointZ(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit())))

            call BlzSetSpecialEffectTime(bj_lastCreatedEffect, 1.0)
            call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.0)
            call BlzSetSpecialEffectColor(bj_lastCreatedEffect, 255, 255, 255)
            call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(270))
            call DestroyEffect(bj_lastCreatedEffect)
				
		call TimerStart((NewTimerEx(0)), 0.03, true, function s__AnkoQ_periodic) // INLINED!!
 endfunction 

 function s__AnkoQ_death takes nothing returns nothing
		if GetUnitTypeId(GetTriggerUnit()) == 'e05B' then
			if GetRandomInt(1, 4) == 1 then
				call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
			endif
			call ShowUnit(GetTriggerUnit(), false)
		elseif GetUnitTypeId(GetTriggerUnit()) == 'e05D' then
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
			call ShowUnit(GetTriggerUnit(), false)
		endif
 endfunction 

 function s__AnkoQ_onInit takes nothing returns nothing
		set s__AnkoQ_damaged=CreateGroup()
		call RegisterPlayerUnitEventForId(83 , EVENT_PLAYER_UNIT_DEATH , function s__AnkoQ_death)
		call RegisterSpellEffectEventForId(83 , s__AnkoQ_SPELL_ID , function s__AnkoQ_actions)
 endfunction 

//===========================================================================
// Trigger: AnkoW
//===========================================================================

//Implemented from module Alloc:
    
        function s__AnkoW_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AnkoW_Alloc__recycle[(0)] == 0 ) then
                set s__AnkoW_Alloc__instanceCount=s__AnkoW_Alloc__instanceCount + 1
                set this=s__AnkoW_Alloc__instanceCount
            else
                set this=s__AnkoW_Alloc__recycle[(0)]
                set s__AnkoW_Alloc__recycle[(0)]=s__AnkoW_Alloc__recycle[s__AnkoW_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AnkoW_deallocate takes integer this returns nothing
            set s__AnkoW_Alloc__recycle[this]=s__AnkoW_Alloc__recycle[(0)]
            set s__AnkoW_Alloc__recycle[(0)]=this
        endfunction

 function s__AnkoW_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__AnkoW_dummy[this])
  local real y= GetUnitY(s__AnkoW_dummy[this])
  local real new_x= (((x )*1.0) + Cos((( s__AnkoW_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__AnkoW_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real h
  local integer i= 0
  local group g
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__AnkoW_katon[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			set i=i + 1
			if i == 1 then
				set x=(((new_x )*1.0) + Cos((( s__AnkoW_angle[this] + bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set y=(((new_y )*1.0) + Sin((( s__AnkoW_angle[this] + bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set h=ParabolaZ(50 , 800 , 25 * s__AnkoW_count[this])
			elseif i == 2 then
				set x=(((new_x )*1.0) + Cos((( s__AnkoW_angle[this] + bj_PI / 2 )*1.0)) * (( ParabolaZ(150 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set y=(((new_y )*1.0) + Sin((( s__AnkoW_angle[this] + bj_PI / 2 )*1.0)) * (( ParabolaZ(150 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set h=ParabolaZ(60 , 800 , 25 * s__AnkoW_count[this])
			elseif i == 3 then
				set x=new_x
				set y=new_y
				set h=ParabolaZ(70 , 800 , 25 * s__AnkoW_count[this])
			elseif i == 4 then
				set x=(((new_x )*1.0) + Cos((( s__AnkoW_angle[this] - bj_PI / 2 )*1.0)) * (( ParabolaZ(150 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set y=(((new_y )*1.0) + Sin((( s__AnkoW_angle[this] - bj_PI / 2 )*1.0)) * (( ParabolaZ(150 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set h=ParabolaZ(60 , 800 , 25 * s__AnkoW_count[this])
			elseif i == 5 then
				set x=(((new_x )*1.0) + Cos((( s__AnkoW_angle[this] - bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set y=(((new_y )*1.0) + Sin((( s__AnkoW_angle[this] - bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 1600 , 25 * s__AnkoW_count[this]))*1.0)) // INLINED!!
				set h=ParabolaZ(50 , 800 , 25 * s__AnkoW_count[this])
			endif
			call SetUnitX(bj_lastCreatedUnit, x)
			call SetUnitY(bj_lastCreatedUnit, y)
			set g=CreateGroup()
			call GroupEnumUnitsInRange(g, x, y, 110, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(g)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(g, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__AnkoW_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__AnkoW_damaged[this]) then
					call UnitDamageTarget(s__AnkoW_caster[this], bj_lastCreatedUnit, 85 * GetUnitAbilityLevel(s__AnkoW_caster[this], s__AnkoW_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
					call GroupAddUnit(s__AnkoW_damaged[this], bj_lastCreatedUnit)
					set bj_lastCreatedEffect=AddSpecialEffect("AnimationExplosion.mdx", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
					call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
					call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 0.7)
					call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 70 + GetPointZ(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit)))
					call DestroyEffect(bj_lastCreatedEffect)
				endif
			endloop
			call DestroyGroup(g)
			set g=null
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		call SetUnitX(s__AnkoW_dummy[this], new_x)
		call SetUnitY(s__AnkoW_dummy[this], new_y)
		set s__AnkoW_count[this]=s__AnkoW_count[this] + 1
		if s__AnkoW_count[this] > 30 then
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__AnkoW_katon[this])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__AnkoW_katon[this], bj_lastCreatedUnit)
				call KillUnit(bj_lastCreatedUnit)
			endloop
			call DestroyGroup(s__AnkoW_katon[this])
			call DestroyGroup(s__AnkoW_damaged[this])
			set s__AnkoW_damaged[this]=null
			set s__AnkoW_katon[this]=null
			call KillUnit(s__AnkoW_dummy[this])
			set s__AnkoW_dummy[this]=null
			call s__AnkoW_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__AnkoW_actions takes nothing returns nothing
  local integer this= s__AnkoW_allocate()
  local integer i= 0
  local real x
  local real y
		set s__AnkoW_caster[this]=GetTriggerUnit()
		set s__AnkoW_count[this]=0
		set s__AnkoW_angle[this]=Atan3(GetUnitX(s__AnkoW_caster[this]) , GetUnitY(s__AnkoW_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		set s__AnkoW_katon[this]=CreateGroup()
		set s__AnkoW_damaged[this]=CreateGroup()
		set s__AnkoW_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e066', GetUnitX(s__AnkoW_caster[this]), GetUnitY(s__AnkoW_caster[this]), Rad2Deg(s__AnkoW_angle[this]))
		call SetUnitScale(s__AnkoW_dummy[this], 1, 0, 0)
		call SetUnitAnimation(s__AnkoW_dummy[this], "Stand")
		set x=(((GetUnitX(s__AnkoW_caster[this]) )*1.0) + Cos((( s__AnkoW_angle[this] )*1.0)) * (( 100)*1.0)) // INLINED!!
		set y=(((GetUnitY(s__AnkoW_caster[this]) )*1.0) + Sin((( s__AnkoW_angle[this] )*1.0)) * (( 100)*1.0)) // INLINED!!
		loop
			set i=i + 1
			exitwhen i > 5
			set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e066', x, y, Rad2Deg(s__AnkoW_angle[this]))
			call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 50)
			call SetUnitAnimation(bj_lastCreatedUnit, "Stand")
			call SetUnitScale(bj_lastCreatedUnit, 1 + .1 * i, 0, 0)
			call GroupAddUnit(s__AnkoW_katon[this], bj_lastCreatedUnit)
		endloop
		call TimerStart(NewTimerEx(this), 0.03, true, function s__AnkoW_periodic)
 endfunction 

 function s__AnkoW_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(83 , s__AnkoW_SPELL_ID , function s__AnkoW_actions)
 endfunction 

//===========================================================================
// Trigger: AnkoE
//===========================================================================

//Implemented from module Alloc:
    
        function s__AnkoE_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AnkoE_Alloc__recycle[(0)] == 0 ) then
                set s__AnkoE_Alloc__instanceCount=s__AnkoE_Alloc__instanceCount + 1
                set this=s__AnkoE_Alloc__instanceCount
            else
                set this=s__AnkoE_Alloc__recycle[(0)]
                set s__AnkoE_Alloc__recycle[(0)]=s__AnkoE_Alloc__recycle[s__AnkoE_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AnkoE_deallocate takes integer this returns nothing
            set s__AnkoE_Alloc__recycle[this]=s__AnkoE_Alloc__recycle[(0)]
            set s__AnkoE_Alloc__recycle[(0)]=this
        endfunction

 function s__AnkoE_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__AnkoE_caster[this])
  local real y= GetUnitY(s__AnkoE_caster[this])
  local real new_x
  local real new_y
  local real angle
  local real offset
		if GetDistance(x , y , s__AnkoE_previous_x[this] , s__AnkoE_previous_y[this]) > 10 then
			if GetRandomInt(1, 100) <= R2I(RMinBJ(1000, GetDistance(s__AnkoE_target_x[this] , s__AnkoE_target_y[this] , x , y)) / 1000 * 100) then
				if s__AnkoE_positive[this] then
					set angle=Atan3(s__AnkoE_target_x[this] , s__AnkoE_target_y[this] , x , y) + Deg2Rad(2)
				else
					set angle=Atan3(s__AnkoE_target_x[this] , s__AnkoE_target_y[this] , x , y) - Deg2Rad(2)
				endif
				set offset=GetDistance(s__AnkoE_target_x[this] , s__AnkoE_target_y[this] , x , y)
				set new_x=(((s__AnkoE_target_x[this] )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
				set new_y=(((s__AnkoE_target_y[this] )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
				if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
					call SetUnitX(s__AnkoE_caster[this], new_x)
					call SetUnitY(s__AnkoE_caster[this], new_y)
				else
					set s__AnkoE_positive[this]=not s__AnkoE_positive[this]
				endif
			endif
			set s__AnkoE_previous_x[this]=GetUnitX(s__AnkoE_caster[this])
			set s__AnkoE_previous_y[this]=GetUnitY(s__AnkoE_caster[this])
		endif
		set s__AnkoE_count[this]=s__AnkoE_count[this] + 1
		if s__AnkoE_count[this] > 20 * ( 3 + GetUnitAbilityLevel(s__AnkoE_anko, s__AnkoE_SPELL_ID) / 2 ) then
			set s__AnkoE_caster[this]=null
			call s__AnkoE_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction

 function s__AnkoE_actions takes nothing returns nothing
  local integer this
		set s__AnkoE_anko=GetTriggerUnit()
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 300, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
				set this=s__AnkoE_allocate()
				set s__AnkoE_caster[this]=bj_lastCreatedUnit
				set s__AnkoE_target_x[this]=GetUnitX(bj_lastCreatedUnit)
				set s__AnkoE_target_y[this]=GetUnitY(bj_lastCreatedUnit)
				set s__AnkoE_previous_x[this]=s__AnkoE_target_x[this]
				set s__AnkoE_previous_y[this]=s__AnkoE_target_y[this]
				set s__AnkoE_count[this]=0
				set s__AnkoE_positive[this]=GetRandomInt(1, 2) == 1
				call TimerStart(NewTimerEx(this), 0.05, true, function s__AnkoE_periodic)
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction 

 function s__AnkoE_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(83 , s__AnkoE_SPELL_ID , function s__AnkoE_actions)
 endfunction 

//===========================================================================
// Trigger: AnkoR
//===========================================================================

//Implemented from module Alloc:
    
        function s__AnkoR_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AnkoR_Alloc__recycle[(0)] == 0 ) then
                set s__AnkoR_Alloc__instanceCount=s__AnkoR_Alloc__instanceCount + 1
                set this=s__AnkoR_Alloc__instanceCount
            else
                set this=s__AnkoR_Alloc__recycle[(0)]
                set s__AnkoR_Alloc__recycle[(0)]=s__AnkoR_Alloc__recycle[s__AnkoR_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AnkoR_deallocate takes integer this returns nothing
            set s__AnkoR_Alloc__recycle[this]=s__AnkoR_Alloc__recycle[(0)]
            set s__AnkoR_Alloc__recycle[(0)]=this
        endfunction

 function s__AnkoR_destroy takes integer this returns nothing
		loop
			set s__AnkoR_count[this]=s__AnkoR_count[this] - 1
			exitwhen s__AnkoR_count[this] < 0
			//call AddSpecialEffectEx("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", GetUnitX(snakes[this.count]), GetUnitY(snakes[this.count]))
			call KillUnit(s__s__AnkoR_snakes[s__AnkoR_count[this]])
			call ShowUnit(s__s__AnkoR_snakes[s__AnkoR_count[this]], false)
		endloop
		call SetUnitPropWindow(s__AnkoR_caster[this], s__AnkoR_window[this])
		call DestroyGroup(s__AnkoR_damaged[this])
		set s__AnkoR_damaged[this]=null
		call s__AnkoR_deallocate(this)
 endfunction

 function s__AnkoR_pull takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x
  local real y
  local real angle= Atan3(GetUnitX(s__AnkoR_caster[this]) , GetUnitY(s__AnkoR_caster[this]) , GetUnitX(s__AnkoR_dummy[this]) , GetUnitY(s__AnkoR_dummy[this]))
  local real new_x
  local real new_y
  local real desired_location_x= (((GetUnitX(s__AnkoR_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 150)*1.0)) // INLINED!!
  local real desired_location_y= (((GetUnitY(s__AnkoR_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 150)*1.0)) // INLINED!!
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__AnkoR_damaged[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			set x=GetUnitX(bj_lastCreatedUnit)
			set y=GetUnitY(bj_lastCreatedUnit)
			set angle=Atan3(x , y , desired_location_x , desired_location_y)
			set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
			set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
			call SetUnitX(bj_lastCreatedUnit, new_x)
			call SetUnitY(bj_lastCreatedUnit, new_y)
			call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__AnkoR_count[this]=s__AnkoR_count[this] - 1
		call KillUnit(s__s__AnkoR_snakes[s__AnkoR_count[this]])
		call ShowUnit(s__s__AnkoR_snakes[s__AnkoR_count[this]], false)
		if s__AnkoR_count[this] == 0 then
			call s__AnkoR_destroy(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__AnkoR_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__AnkoR_dummy[this])
  local real y= GetUnitY(s__AnkoR_dummy[this])
  local real new_x= (((x )*1.0) + Cos((( s__AnkoR_angle[this] )*1.0)) * (( 45.6)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__AnkoR_angle[this] )*1.0)) * (( 45.6)*1.0)) // INLINED!!
  local unit u
		call SetUnitAnimation(s__AnkoR_caster[this], "spell one")
		call SetUnitFacing(s__AnkoR_caster[this], Rad2Deg(s__AnkoR_angle[this]))
		call SetUnitX(s__AnkoR_dummy[this], new_x)
		call SetUnitY(s__AnkoR_dummy[this], new_y)

		// snake dummy
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__AnkoR_caster[this]), 'n02O', x, y, Rad2Deg(s__AnkoR_angle[this]) + GetRandomReal(- 20, 20))
		call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 255)
		//call SetUnitAnimation(bj_lastCreatedUnit, "death")
		call SetUnitFlyHeight(bj_lastCreatedUnit, 60, 0) //GetRandomReal(20, 50), 0)
		call SetUnitTimeScale(bj_lastCreatedUnit, 0.1 + 0.1 * s__AnkoR_count[this])
		call SetUnitScale(bj_lastCreatedUnit, 0.1 + 0.025 * s__AnkoR_count[this], 0, 0)
		set s__s__AnkoR_snakes[s__AnkoR_count[this]]= bj_lastCreatedUnit

		set s__AnkoR_count[this]=s__AnkoR_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 200, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__AnkoR_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__AnkoR_damaged[this]) then
				call UnitDamageTarget(s__AnkoR_caster[this], bj_lastCreatedUnit, ( 4 * GetHeroInt(s__AnkoR_caster[this], true) + 700 ) * GetUnitAbilityLevel(s__AnkoR_caster[this], s__AnkoR_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
				call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				call GroupAddUnit(s__AnkoR_damaged[this], bj_lastCreatedUnit)
				set u=CreateAbilityDummy(s__AnkoR_caster[this] , 'A0YE')
               			call IssueTargetOrder(u, "slow", bj_lastCreatedUnit)
                		set u=null
				if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
					set s__AnkoR_found[this]=true
				endif
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if s__AnkoR_count[this] > 22 then
			if not s__AnkoR_found[this] then
				call s__AnkoR_destroy(this)
			else
				call TimerStart(NewTimerEx(this), 0.02, true, function s__AnkoR_pull)
			endif
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__AnkoR_actions takes nothing returns nothing
  local integer this= s__AnkoR_allocate()
		set s__AnkoR_caster[this]=GetTriggerUnit()
		set s__AnkoR_angle[this]=Atan3(GetUnitX(s__AnkoR_caster[this]) , GetUnitY(s__AnkoR_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		set s__AnkoR_count[this]=0
		set s__AnkoR_window[this]=GetUnitPropWindow(s__AnkoR_caster[this])
		set s__AnkoR_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__AnkoR_caster[this]), GetUnitY(s__AnkoR_caster[this]), 270)
		set s__AnkoR_damaged[this]=CreateGroup()
		set s__AnkoR_found[this]=false
        	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            		call PlaySoundOnUnitBJ(gg_snd_Anko_R, 100.0, GetTriggerUnit())
        	endif
		call SetUnitPropWindow(s__AnkoR_caster[this], 0)
		call TimerStart(NewTimerEx(this), 0.02, true, function s__AnkoR_periodic)
 endfunction 

 function s__AnkoR_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(83 , s__AnkoR_SPELL_ID , function s__AnkoR_actions)
 endfunction 

//===========================================================================
// Trigger: AnkoT
//===========================================================================

//Implemented from module Alloc:
    
        function s__AnkoT_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AnkoT_Alloc__recycle[(0)] == 0 ) then
                set s__AnkoT_Alloc__instanceCount=s__AnkoT_Alloc__instanceCount + 1
                set this=s__AnkoT_Alloc__instanceCount
            else
                set this=s__AnkoT_Alloc__recycle[(0)]
                set s__AnkoT_Alloc__recycle[(0)]=s__AnkoT_Alloc__recycle[s__AnkoT_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AnkoT_deallocate takes integer this returns nothing
            set s__AnkoT_Alloc__recycle[this]=s__AnkoT_Alloc__recycle[(0)]
            set s__AnkoT_Alloc__recycle[(0)]=this
        endfunction

    function s__AnkoT_dealDamage takes nothing returns boolean
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__AnkoT_caster[s__AnkoT_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
            if GetUnitAbilityLevel(s__AnkoT_caster[s__AnkoT_instance], 'A159') > 0 then
                call UnitDamageTarget(s__AnkoT_caster[s__AnkoT_instance], GetFilterUnit(), ( 12 * GetHeroInt(s__AnkoT_caster[s__AnkoT_instance], true) ) * GetUnitAbilityLevel(s__AnkoT_caster[s__AnkoT_instance], s__AnkoT_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
        endif
        return false
    endfunction 

 function s__AnkoT_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real angle
  local real offset
  local real x
  local real y
  local integer i
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__AnkoT_caster[this]), 'e05D', GetUnitX(s__AnkoT_target[this]), GetUnitY(s__AnkoT_target[this]), GetRandomReal(0, 360))
		call SetUnitScale(bj_lastCreatedUnit, 0.1 + 0.04 * s__AnkoT_count[this], 0, 0)
		call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0, 300), 0)
		call SetUnitAnimation(bj_lastCreatedUnit, "spell two")
		call SetUnitTimeScale(bj_lastCreatedUnit, 1.0 + 6.0 / 66 * s__AnkoT_count[this])
		call GroupAddUnit(s__AnkoT_snakes[this], bj_lastCreatedUnit)
		set s__AnkoT_count[this]=s__AnkoT_count[this] + 1
		if s__AnkoT_count[this] > 66 then
			call DestroyEffect(AddSpecialEffect(("LW10.mdx" ), (( GetUnitX(s__AnkoT_target[this]) )*1.0), (( GetUnitY(s__AnkoT_target[this]))*1.0))) // INLINED!!
        		set i=1
        		loop
            		exitwhen i > 20
            			set angle=GetRandomReal(0, 2 * bj_PI)
            			set offset=GetRandomReal(0, 160)
            			set x=(((GetUnitX(s__AnkoT_target[this]) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            			set y=(((GetUnitY(s__AnkoT_target[this]) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            			set bj_lastCreatedEffect=AddSpecialEffect("AnimationExplosion.mdx", x, y)
            			call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, GetRandomReal(0, 360))
            			call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, GetRandomReal(0.4, 0.7))
            			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetRandomReal(0, 620))
            			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, GetRandomReal(1.5, 2.5))
            			call DestroyEffect(bj_lastCreatedEffect)
            			set i=i + 1
        		endloop
			call PauseUnit(s__AnkoT_caster[this], false)
			call PauseUnit(s__AnkoT_target[this], false)
			call SetUnitAnimation(s__AnkoT_target[this], "death")
			call StunUnitTimed(s__AnkoT_caster[this] , s__AnkoT_target[this] , 2.0)
            set bj_lastCreatedGroup=CreateGroup()
            set s__AnkoT_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__AnkoT_target[this]), GetUnitY(s__AnkoT_target[this]), 300, Filter(function s__AnkoT_dealDamage))
            call UnitDamageTarget(s__AnkoT_caster[this], s__AnkoT_caster[this], GetUnitState(s__AnkoT_caster[this], UNIT_STATE_MAX_LIFE) * 0.2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__AnkoT_snakes[this])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__AnkoT_snakes[this], bj_lastCreatedUnit)
				call KillUnit(bj_lastCreatedUnit)
				call ShowUnit(bj_lastCreatedUnit, false)
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			set s__AnkoT_snakes[this]=null
			call s__AnkoT_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__AnkoT_actions takes nothing returns nothing
  local integer this= s__AnkoT_allocate()
        	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
			call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Anko: I'm taking you with me!!|r")
            		call PlaySoundOnUnitBJ(gg_snd_Anko_T, 100.0, GetTriggerUnit())
        	endif
		set s__AnkoT_caster[this]=GetTriggerUnit()
		set s__AnkoT_target[this]=GetSpellTargetUnit()
		set s__AnkoT_count[this]=0
		set s__AnkoT_snakes[this]=CreateGroup()
		call PauseUnit(s__AnkoT_caster[this], true)
		call PauseUnit(s__AnkoT_target[this], true)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__AnkoT_periodic)
 endfunction 

 function s__AnkoT_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(83 , s__AnkoT_SPELL_ID , function s__AnkoT_actions)
 endfunction 

//===========================================================================
// Trigger: AnkoD
//===========================================================================

    
    function s__AnkoD_remove takes nothing returns nothing
        local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(u) )*1.0), (( GetUnitY(u))*1.0))) // INLINED!!
        call RecycleUnit(u)
        set u=null
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__AnkoD_actions takes nothing returns nothing
        local integer i= 0
        local real angle
        local real offset
        local real x
        local real y
        loop
            exitwhen i > 12
            set angle=GetRandomReal(0, 2 * bj_PI)
            set offset=GetRandomReal(0, 200)
            set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e05B', x, y, i * 10)
            //call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(50, 200), 0)
            call SetUnitScale(bj_lastCreatedUnit, 0.5, 0.5, 0.5)
            call SetUnitMoveSpeed(bj_lastCreatedUnit, 522)
            set x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( Deg2Rad(i * 30) )*1.0)) * (( 1200)*1.0)) // INLINED!!
            set y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( Deg2Rad(i * 30) )*1.0)) * (( 1200)*1.0)) // INLINED!!
            call IssuePointOrder(bj_lastCreatedUnit, "move", x, y)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.5)
            set i=i + 1
        endloop
        call TimerStartEx(NewTimerEx((GetUnitUserData((bj_lastCreatedUnit)))) , 0.5 , false , function s__AnkoD_remove , "AnkoD_remove") // INLINED!!
    endfunction 
    
    function s__AnkoD_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(83 , s__AnkoD_SPELL_ID , function s__AnkoD_actions)
    endfunction 
    
//===========================================================================
// Trigger: Ox
//===========================================================================
// scope Ox begins

    
//Implemented from module Alloc:
    
        function s__Ox__Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Ox__Spell_Alloc__recycle[(0)] == 0 ) then
                set s__Ox__Spell_Alloc__instanceCount=s__Ox__Spell_Alloc__instanceCount + 1
                set this=s__Ox__Spell_Alloc__instanceCount
            else
                set this=s__Ox__Spell_Alloc__recycle[(0)]
                set s__Ox__Spell_Alloc__recycle[(0)]=s__Ox__Spell_Alloc__recycle[s__Ox__Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Ox__Spell_deallocate takes integer this returns nothing
            set s__Ox__Spell_Alloc__recycle[this]=s__Ox__Spell_Alloc__recycle[(0)]
            set s__Ox__Spell_Alloc__recycle[(0)]=this
        endfunction
        

        function s__Ox__Spell_destroy takes integer this returns nothing
            set s__Ox__Spell_caster[this]=null
            set s__Ox__Spell_target[this]=null
            call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__Ox__Spell_ox[this]) )*1.0), (( GetUnitY(s__Ox__Spell_ox[this]))*1.0))) // INLINED!!
            call RecycleUnit(s__Ox__Spell_ox[this])
            call DestroyGroup(s__Ox__Spell_damaged[this])
            set s__Ox__Spell_damaged[this]=null
            set s__Ox__Spell_ox[this]=null
            call s__Ox__Spell_deallocate(this)
        endfunction
        
        function s__Ox__Spell_periodic2 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real x= GetUnitX(s__Ox__Spell_ox[this])
            local real y= GetUnitY(s__Ox__Spell_ox[this])
            local real angle= s__Ox__Spell_angle[this]
            local real new_x= (((x )*1.0) + Cos((( s__Ox__Spell_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
            local real new_y= (((y )*1.0) + Sin((( s__Ox__Spell_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
            local real i
            call SetUnitX(s__Ox__Spell_ox[this], new_x)
            call SetUnitY(s__Ox__Spell_ox[this], new_y)
            call SetUnitFacing(s__Ox__Spell_ox[this], Rad2Deg(angle))
            set s__Ox__Spell_count[this]=s__Ox__Spell_count[this] + 1
            if ModuloInteger(s__Ox__Spell_count[this], 5) == 0 then
                call KillUnit((CreateUnit((GetOwningPlayer(s__Ox__Spell_caster[this]) ), ( 'e02G' ), (( x )*1.0), (( y )*1.0), (( GetRandomReal(0, 360))*1.0)))) // INLINED!!
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__Ox__Spell_ox[this]), GetUnitY(s__Ox__Spell_ox[this]), 300.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Ox__Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    set new_x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                    set new_y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                    if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
                        call SetUnitX(bj_lastCreatedUnit, new_x)
                        call SetUnitY(bj_lastCreatedUnit, new_y)
                    endif
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    if not IsUnitInGroup(bj_lastCreatedUnit, s__Ox__Spell_damaged[this]) then
                        call UnitDamageTarget(s__Ox__Spell_caster[this], bj_lastCreatedUnit, 1.0 * GetHeroAgi(s__Ox__Spell_caster[this], true) * GetUnitAbilityLevel(s__Ox__Spell_caster[this], s__Ox__Spell_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                        call GroupAddUnit(s__Ox__Spell_damaged[this], bj_lastCreatedUnit)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if s__Ox__Spell_count[this] > 12 then
                call s__Ox__Spell_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction 
        
        function s__Ox__Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real x= GetUnitX(s__Ox__Spell_ox[this])
            local real y= GetUnitY(s__Ox__Spell_ox[this])
            local real angle= Atan3(x , y , GetUnitX(s__Ox__Spell_target[this]) , GetUnitY(s__Ox__Spell_target[this]))
            local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
            local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
            local real i
            call SetUnitX(s__Ox__Spell_ox[this], new_x)
            call SetUnitY(s__Ox__Spell_ox[this], new_y)
            call SetUnitFacing(s__Ox__Spell_ox[this], Rad2Deg(angle))
            set s__Ox__Spell_count[this]=s__Ox__Spell_count[this] + 1
            if ModuloInteger(s__Ox__Spell_count[this], 5) == 0 then
                call KillUnit((CreateUnit((GetOwningPlayer(s__Ox__Spell_caster[this]) ), ( 'e02G' ), (( x )*1.0), (( y )*1.0), (( GetRandomReal(0, 360))*1.0)))) // INLINED!!
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__Ox__Spell_ox[this]), GetUnitY(s__Ox__Spell_ox[this]), 300.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Ox__Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    set new_x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                    set new_y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                    if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) and bj_lastCreatedUnit != s__Ox__Spell_target[this] then
                        call SetUnitX(bj_lastCreatedUnit, new_x)
                        call SetUnitY(bj_lastCreatedUnit, new_y)
                    endif
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    if not IsUnitInGroup(bj_lastCreatedUnit, s__Ox__Spell_damaged[this]) then
                        call UnitDamageTarget(s__Ox__Spell_caster[this], bj_lastCreatedUnit, 1.0 * GetHeroAgi(s__Ox__Spell_caster[this], true) * GetUnitAbilityLevel(s__Ox__Spell_caster[this], s__Ox__Spell_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			if (UnitHasItemOfTypeBJ((s__Ox__Spell_caster[this] ), ( 'I01X'))) then // INLINED!!
            			call SlowArea(s__Ox__Spell_caster[this] , GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , 300.0)
			endif
                        call GroupAddUnit(s__Ox__Spell_damaged[this], bj_lastCreatedUnit)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if GetDistanceUnits(s__Ox__Spell_ox[this] , s__Ox__Spell_target[this]) <= 100 then
                set s__Ox__Spell_count[this]=0
                set s__Ox__Spell_angle[this]=angle
                call TimerStart(NewTimerEx(this), 0.03, true, function s__Ox__Spell_periodic2)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__Ox__Spell_actions takes nothing returns nothing
            local integer this
                    set this=s__Ox__Spell_allocate()
                    set s__Ox__Spell_caster[this]=GetTriggerUnit()
                    set s__Ox__Spell_target[this]=GetSpellTargetUnit()
                    set s__Ox__Spell_damaged[this]=CreateGroup()
                    set s__Ox__Spell_count[this]=0
                    set s__Ox__Spell_ox[this]=(CreateUnit((GetTriggerPlayer() ), ( 'h0A6' ), (( GetUnitX(s__Ox__Spell_caster[this]) )*1.0), (( GetUnitY(s__Ox__Spell_caster[this]) )*1.0), (( GetUnitFacing(s__Ox__Spell_caster[this]))*1.0))) // INLINED!!
                    call SetUnitAnimationByIndex(s__Ox__Spell_ox[this], 5)
                    call SetUnitTimeScale(s__Ox__Spell_ox[this], 3.0)
                    set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'h01V' ), (( GetUnitX(s__Ox__Spell_caster[this]) )*1.0), (( GetUnitY(s__Ox__Spell_caster[this]) )*1.0), (( 270.0)*1.0))) // INLINED!!
                    call SetUnitAnimation(bj_lastCreatedUnit, "birth")
                    call RecycleUnitDelayed(bj_lastCreatedUnit , 3.5)
                    call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__Ox__Spell_caster[this]) )*1.0), (( GetUnitY(s__Ox__Spell_caster[this]))*1.0))) // INLINED!!
                    call TimerStart(NewTimerEx(this), 0.03, true, function s__Ox__Spell_periodic)
		    call SetUnitAnimation(s__Ox__Spell_caster[this], "spell two")
        endfunction
        
        function s__Ox__Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(95 , s__Ox__Spell_SPELL_ID , function s__Ox__Spell_actions)
        endfunction
        
    
// scope Ox ends
//===========================================================================
// Trigger: Dog
//===========================================================================


//Implemented from module Alloc:
    
        function s__Dog_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Dog_Alloc__recycle[(0)] == 0 ) then
                set s__Dog_Alloc__instanceCount=s__Dog_Alloc__instanceCount + 1
                set this=s__Dog_Alloc__instanceCount
            else
                set this=s__Dog_Alloc__recycle[(0)]
                set s__Dog_Alloc__recycle[(0)]=s__Dog_Alloc__recycle[s__Dog_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Dog_deallocate takes integer this returns nothing
            set s__Dog_Alloc__recycle[this]=s__Dog_Alloc__recycle[(0)]
            set s__Dog_Alloc__recycle[(0)]=this
        endfunction
	
 function s__Dog_damagefix takes nothing returns boolean
		if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__Dog_caster[s__Dog_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
			call StunUnitTimed(s__Dog_caster[s__Dog_instance] , GetFilterUnit() , 2.0)
		endif
	return false
 endfunction

 function s__Dog_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		loop
			set bj_lastCreatedUnit=FirstOfGroup(s__Dog_damaged[this])
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(s__Dog_damaged[this], bj_lastCreatedUnit)
		endloop
		call DestroyGroup(s__Dog_damaged[this])
		set s__Dog_damaged[this]=null
		call s__Dog_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__Dog_periodic2 takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer i= 0
  local real x
  local real y
		set s__Dog_count[this]=s__Dog_count[this] + 1
		loop
			exitwhen i > s__Dog_count[this]
			set x=(((s__Dog_target_x[this] )*1.0) + Cos((( Deg2Rad(360 / ( s__Dog_count[this] + 1 ) * i) )*1.0)) * (( 30 * s__Dog_count[this])*1.0)) // INLINED!!
			set y=(((s__Dog_target_y[this] )*1.0) + Sin((( Deg2Rad(360 / ( s__Dog_count[this] + 1 ) * i) )*1.0)) * (( 30 * s__Dog_count[this])*1.0)) // INLINED!!
			//call AddSpecialEffectEx("heroinuzukakibas4.mdl", x, y)	
			 //set bj_lastCreatedEffect = AddSpecialEffect("heroinuzukakibas4.mdl", x, y) 
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.8)
			call DestroyEffect(bj_lastCreatedEffect)
			//call AddSpecialEffectEx("heroinuzukakibas4.mdl", x, y)
			set i=i + 1
		endloop
		if s__Dog_count[this] > 10 then
			call TimerStartEx(NewTimerEx(this) , 1.0 , false , function s__Dog_finish , "Dog_finish")
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction

 function s__Dog_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real angle= Atan3(s__Dog_caster_x[this] , s__Dog_caster_y[this] , s__Dog_target_x[this] , s__Dog_target_y[this])
  local real new_x= (((s__Dog_caster_x[this] )*1.0) + Cos((( angle )*1.0)) * (( s__Dog_dist[this] / 33.0 * s__Dog_count[this])*1.0)) // INLINED!!
  local real new_y= (((s__Dog_caster_y[this] )*1.0) + Sin((( angle )*1.0)) * (( s__Dog_dist[this] / 33.0 * s__Dog_count[this])*1.0)) // INLINED!!
		call SetUnitX(s__Dog_caster[this], new_x)
		call SetUnitY(s__Dog_caster[this], new_y)
		set s__Dog_count[this]=s__Dog_count[this] + 1
		if s__Dog_count[this] > 33 then
			call SetUnitFlyHeight(s__Dog_caster[this], 0.00, 1000.00)
			set bj_lastCreatedGroup=CreateGroup()
			set s__Dog_instance=this
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__Dog_target_x[this], s__Dog_target_y[this], 300, Filter(function s__Dog_damagefix))
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			call SetUnitTimeScale(s__Dog_caster[this], 1.0)
			call PauseUnit(s__Dog_caster[this], false)
			set s__Dog_count[this]=0
			set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\Blood.mdl", s__Dog_target_x[this], s__Dog_target_y[this])
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
			call DestroyEffect(bj_lastCreatedEffect)
			call TimerStartEx(NewTimerEx(this) , 0.02 , true , function s__Dog_periodic2 , "Dog_periodic2")
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__Dog_actions takes nothing returns nothing
  local integer this= s__Dog_allocate()
		set s__Dog_caster[this]=GetTriggerUnit()
		set s__Dog_target_x[this]=GetSpellTargetX()
		set s__Dog_target_y[this]=GetSpellTargetY()
		set s__Dog_caster_x[this]=GetUnitX(s__Dog_caster[this])
		set s__Dog_caster_y[this]=GetUnitY(s__Dog_caster[this])
		set s__Dog_count[this]=0
		set s__Dog_damaged[this]=CreateGroup()
		call PauseUnit(s__Dog_caster[this], true)
		call SetUnitAnimation(GetTriggerUnit(), "Attack Three")
		set s__Dog_dist[this]=GetDistance(GetUnitX(s__Dog_caster[this]) , GetUnitY(s__Dog_caster[this]) , s__Dog_target_x[this] , s__Dog_target_y[this])
		call SetUnitFlyHeight(GetTriggerUnit(), 400.00, 400.00)
		call TimerStartEx(NewTimerEx(this) , 0.01 , true , function s__Dog_periodic , "Dog_periodic")
 endfunction 

 function s__Dog_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__Dog_SPELL_ID ) , Filter(( function s__Dog_actions))) // INLINED!!
 endfunction

//===========================================================================
// Trigger: Chamelon
//===========================================================================

 function s__Cloak_actions takes nothing returns nothing
  local unit u
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 600, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitAlly(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
				set u=CreateAbilityDummy(GetTriggerUnit() , 'A19J')
				call IssueTargetOrder(u, "invisibility", bj_lastCreatedUnit)
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction 

 function s__Cloak_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2(('A19K' ) , Filter(( function s__Cloak_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: Crab
//===========================================================================
// scope Crab begins
    
    
//Implemented from module Alloc:
    
        function s__Crab__Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Crab__Spell_Alloc__recycle[(0)] == 0 ) then
                set s__Crab__Spell_Alloc__instanceCount=s__Crab__Spell_Alloc__instanceCount + 1
                set this=s__Crab__Spell_Alloc__instanceCount
            else
                set this=s__Crab__Spell_Alloc__recycle[(0)]
                set s__Crab__Spell_Alloc__recycle[(0)]=s__Crab__Spell_Alloc__recycle[s__Crab__Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Crab__Spell_deallocate takes integer this returns nothing
            set s__Crab__Spell_Alloc__recycle[this]=s__Crab__Spell_Alloc__recycle[(0)]
            set s__Crab__Spell_Alloc__recycle[(0)]=this
        endfunction
    
        
        function s__Crab__Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real angle
            local real offset
            local real new_x
            local real new_y
            local real angle2
            local real crab_x
            local real crab_y
            local integer i= 0
            set s__Crab__Spell_count[this]=s__Crab__Spell_count[this] + 1
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__Crab__Spell_target_x[this], s__Crab__Spell_target_y[this], 600.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Crab__Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) then
                    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl", bj_lastCreatedUnit, "chest"))
                    call UnitDamageTarget(s__Crab__Spell_caster[this], bj_lastCreatedUnit, ( ( 2.0 * GetHeroAgi(s__Crab__Spell_caster[this], true) + 750 ) * GetUnitAbilityLevel(s__Crab__Spell_caster[this], s__Crab__Spell_SPELL_ID) ) / 70.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            loop
                set i=i + 1
                exitwhen i > 5
                set angle=GetRandomReal(0, 360)
                set offset=GetRandomReal(0, 500)
                set new_x=s__Crab__Spell_target_x[this] + Cos(Deg2Rad(angle)) * offset
                set new_y=s__Crab__Spell_target_y[this] + Sin(Deg2Rad(angle)) * offset
                set angle2=Atan2(( s__Crab__Spell_target_y[this] - new_y ), ( s__Crab__Spell_target_x[this] - new_x ))
            endloop
            if s__Crab__Spell_count[this] > 70 then
                call ShowUnit(s__Crab__Spell_crab[this], false)
        
                call KillUnit(s__Crab__Spell_crab[this])
                set s__Crab__Spell_caster[this]=null
                set s__Crab__Spell_crab[this]=null
                call s__Crab__Spell_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
               

         function s__Crab__Spell_pause2 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call TimerStart(NewTimerEx(this), 0.03, true, function s__Crab__Spell_periodic)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        
        function s__Crab__Spell_pause takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real new_x= s__Crab__Spell_target_x[this] + Cos(Deg2Rad(GetUnitFacing(s__Crab__Spell_crab[this]))) * 100
            local real new_y= s__Crab__Spell_target_y[this] + Sin(Deg2Rad(GetUnitFacing(s__Crab__Spell_crab[this]))) * 100
            local real angle
            local real offset
            local real new_x_2
            local real new_y_2
            local real height
            local integer i= 0
            loop
                set i=i + 1
                exitwhen i > 25
                set angle=GetRandomReal(0, 360)
                set offset=GetRandomReal(0, 500)
                set new_x_2=s__Crab__Spell_target_x[this] + Cos(Deg2Rad(angle)) * offset
                set new_y_2=s__Crab__Spell_target_y[this] + Sin(Deg2Rad(angle)) * offset
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__Crab__Spell_caster[this]), 'z00C', new_x, new_y, GetRandomReal(0, 360))
                call UnitAddAbility(bj_lastCreatedUnit, 'A0A1')
                call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 25)
                call SetUnitMoveSpeed(bj_lastCreatedUnit, 522.0)
                call IssuePointOrder(bj_lastCreatedUnit, "move", new_x_2, new_y_2)
                set height=GetRandomReal(100, 200)
                call SetUnitFlyHeight(bj_lastCreatedUnit, height, height)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.5)
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__Crab__Spell_caster[this]), 'z00D', new_x, new_y, GetRandomReal(0, 360))
                call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 25)
                call SetUnitMoveSpeed(bj_lastCreatedUnit, 522.0)
                call IssuePointOrder(bj_lastCreatedUnit, "move", new_x_2, new_y_2)
                set height=GetRandomReal(100, 200)
                call SetUnitFlyHeight(bj_lastCreatedUnit, height, height)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.5)
            endloop
            call TimerStart(NewTimerEx(this), 0.5, false, function s__Crab__Spell_pause2)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__Crab__Spell_actions takes nothing returns nothing
            local integer this= s__Crab__Spell_allocate()
            local real caster_x
            local real caster_y
            local real angle
            local real new_x
            local real new_y
            local real smoke_x
            local real smoke_y
            local integer i= 0
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Ajisai_Animal_Path_R, 100, GetTriggerUnit())
            endif
            set s__Crab__Spell_caster[this]=GetTriggerUnit()
            set s__Crab__Spell_target_x[this]=GetSpellTargetX()
            set s__Crab__Spell_target_y[this]=GetSpellTargetY()
            set s__Crab__Spell_crab[this]=CreateUnit(GetOwningPlayer(s__Crab__Spell_caster[this]), 'e081', GetUnitX(s__Crab__Spell_caster[this]), GetUnitY(s__Crab__Spell_caster[this]), Rad2Deg(Atan3(GetUnitX(s__Crab__Spell_caster[this]) , GetUnitY(s__Crab__Spell_caster[this]) , GetSpellTargetX() , GetSpellTargetY())))
                    set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'h01V' ), (( GetUnitX(s__Crab__Spell_crab[this]) )*1.0), (( GetUnitY(s__Crab__Spell_crab[this]) )*1.0), (( 270.0)*1.0))) // INLINED!!
                    call SetUnitAnimation(bj_lastCreatedUnit, "birth")
                    call RecycleUnitDelayed(bj_lastCreatedUnit , 3.5)
            set s__Crab__Spell_count[this]=0
            call TimerStart(NewTimerEx(this), 0.1, false, function s__Crab__Spell_pause)
        endfunction
        
        function s__Crab__Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(95 , s__Crab__Spell_SPELL_ID , function s__Crab__Spell_actions)
        endfunction
        
    
// scope Crab ends
//===========================================================================
// Trigger: Bird
//===========================================================================

//Implemented from module Alloc:
    
        function s__Bird_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Bird_Alloc__recycle[(0)] == 0 ) then
                set s__Bird_Alloc__instanceCount=s__Bird_Alloc__instanceCount + 1
                set this=s__Bird_Alloc__instanceCount
            else
                set this=s__Bird_Alloc__recycle[(0)]
                set s__Bird_Alloc__recycle[(0)]=s__Bird_Alloc__recycle[s__Bird_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Bird_deallocate takes integer this returns nothing
            set s__Bird_Alloc__recycle[this]=s__Bird_Alloc__recycle[(0)]
            set s__Bird_Alloc__recycle[(0)]=this
        endfunction
    
    function s__Bird_destroy takes integer this returns nothing
        call SetUnitScale(s__Bird_bombs[this], 1, 1, 1)
        call KillUnit(s__Bird_bombs[this])
        set s__Bird_bombs[this]=null
        call KillUnit(s__Bird_bird[this])
	call ShowUnit(s__Bird_bird[this], false)
        set s__Bird_bird[this]=null
        call s__Bird_deallocate(this)
    endfunction 
    
    function s__Bird_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
 local real dist
 local real angle
 local real x
 local real y
    local real x1
    local real y1
 local integer i
    local real x2= GetUnitX(s__Bird_bird[this])
    local real y2= GetUnitY(s__Bird_bird[this])
    local real new_x= (((x2 )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__Bird_bird[this])) )*1.0)) * (( 15)*1.0)) // INLINED!!
    local real new_y= (((y2 )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__Bird_bird[this])) )*1.0)) * (( 15)*1.0)) // INLINED!!
        call SetUnitX(s__Bird_bird[this], new_x)
        call SetUnitY(s__Bird_bird[this], new_y)
        call SetUnitX(s__Bird_bombs[this], GetUnitX(s__Bird_bird[this]))
        call SetUnitY(s__Bird_bombs[this], GetUnitY(s__Bird_bird[this]))
        set s__Bird_count[this]=s__Bird_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
	    if ModuloInteger(s__Bird_count[this], 15) == 1 then
		set i=0
		loop
                	set i=i + 1
                	exitwhen i > 10
			        set dist=GetRandomReal(25, 150)
			        set angle=Deg2Rad(GetRandomReal(0, 360))
			        set x=(((GetUnitX(s__Bird_bird[this]) )*1.0) + Cos((( angle )*1.0)) * (( dist)*1.0)) // INLINED!!
			        set y=(((GetUnitY(s__Bird_bird[this]) )*1.0) + Sin((( angle )*1.0)) * (( dist)*1.0)) // INLINED!!
                	set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__Bird_bird[this]), 'z00E', x, y, 24 * i)
                	set x=GetUnitX(s__Bird_bird[this]) + Cos(Deg2Rad(30 * i)) * 800
                	set y=GetUnitY(s__Bird_bird[this]) + Sin(Deg2Rad(30 * i)) * 800
			        call SetUnitScale(bj_lastCreatedUnit, 1, 0, 0)
			        call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 255)
                    call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0, 50), 0)
                	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.5)
           	 endloop
	endif
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__Bird_bird[this]), GetUnitY(s__Bird_bird[this]), 400, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__Bird_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__Bird_caster[this], bj_lastCreatedUnit, 0.2 * GetHeroAgi(s__Bird_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__Bird_count[this] > 100 then
            call s__Bird_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__Bird_actions takes nothing returns nothing
        local integer this= s__Bird_allocate()
     local integer i= 0
     local integer j= 0
     local real x
     local real y
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Ajisai_Animal_Path_T, 100, GetTriggerUnit())
            	call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Animal Path: Kuchiyose no Jutsu: Giant Drill-Beaked Bird|r")
            endif
        set s__Bird_caster[this]=GetTriggerUnit()
        set s__Bird_target_x[this]=GetSpellTargetX()
        set s__Bird_target_y[this]=GetSpellTargetY()
        set s__Bird_bird[this]=CreateUnit(GetOwningPlayer(s__Bird_caster[this]), 'e083', GetUnitX(s__Bird_caster[this]), GetUnitY(s__Bird_caster[this]), Rad2Deg(Atan3(GetUnitX(s__Bird_caster[this]) , GetUnitY(s__Bird_caster[this]) , GetSpellTargetX() , GetSpellTargetY())))
        set s__Bird_bombs[this]=(CreateUnit((GetTriggerPlayer() ), ( 'e007' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( 270)*1.0))) // INLINED!!
        call SetUnitFlyHeight(s__Bird_bird[this], 600, 0)
        set s__Bird_count[this]=0
        call AddLoadingBar(s__Bird_caster[this] , 3)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__Bird_periodic)
    endfunction 
    
    function s__Bird_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(95 , s__Bird_SPELL_ID , function s__Bird_actions)
    endfunction 
    
//===========================================================================
// Trigger: Panda
//===========================================================================

//Implemented from module Alloc:
    
        function s__Panda_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Panda_Alloc__recycle[(0)] == 0 ) then
                set s__Panda_Alloc__instanceCount=s__Panda_Alloc__instanceCount + 1
                set this=s__Panda_Alloc__instanceCount
            else
                set this=s__Panda_Alloc__recycle[(0)]
                set s__Panda_Alloc__recycle[(0)]=s__Panda_Alloc__recycle[s__Panda_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Panda_deallocate takes integer this returns nothing
            set s__Panda_Alloc__recycle[this]=s__Panda_Alloc__recycle[(0)]
            set s__Panda_Alloc__recycle[(0)]=this
        endfunction
	
 function s__Panda_dealDamage takes nothing returns boolean
            if IsUnitEnemy(GetFilterUnit(), GetTriggerPlayer()) then
                    //call UnitDamageTarget(GetTriggerUnit(), GetFilterUnit(), 3 * GetHeroAgi(GetTriggerUnit(), true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            endif
	    return false
 endfunction

    function s__Panda_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitInvulnerable(s__Panda_caster[this], false)
	call PauseUnit(s__Panda_caster[this], false)
        set s__Panda_caster[this]=null
	call s__Panda_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction

    
    function s__Panda_actions takes nothing returns nothing
        local integer this= s__Panda_allocate()
        local integer i
        local real x
        local real y
	set s__Panda_caster[this]=GetTriggerUnit()
        call SetUnitInvulnerable(s__Panda_caster[this], true)
	call PauseUnit(s__Panda_caster[this], true)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 400, Filter(function s__Panda_dealDamage))
        call DestroyGroup(bj_lastCreatedGroup)
        //call SlowArea(GetTriggerUnit(), GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 400)
        set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(GetTriggerUnit()) ), ( 'n03D' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( 270.0)*1.0))) // INLINED!!
        call SetUnitX(bj_lastCreatedUnit, GetUnitX(GetTriggerUnit()))
        call SetUnitY(bj_lastCreatedUnit, GetUnitY(GetTriggerUnit()))
        call SetUnitScale(bj_lastCreatedUnit, 3.0, 0, 0)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.5)
        set i=0
        loop
            exitwhen i > 9
            set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 200)*1.0)) // INLINED!!
            set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 200)*1.0)) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=i + 1
        endloop
        call TimerStartEx(NewTimerEx(this) , 2.0 , false , function s__Panda_finish , "Panda_finish")
    endfunction 
    
    function s__Panda_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(95 , s__Panda_SPELL_ID , function s__Panda_actions)
    endfunction 
    
//===========================================================================
// Trigger: AsumaChakraBlades
//===========================================================================


//Implemented from module Alloc:
    
        function s__AsumaChakraBlades_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AsumaChakraBlades_Alloc__recycle[(0)] == 0 ) then
                set s__AsumaChakraBlades_Alloc__instanceCount=s__AsumaChakraBlades_Alloc__instanceCount + 1
                set this=s__AsumaChakraBlades_Alloc__instanceCount
            else
                set this=s__AsumaChakraBlades_Alloc__recycle[(0)]
                set s__AsumaChakraBlades_Alloc__recycle[(0)]=s__AsumaChakraBlades_Alloc__recycle[s__AsumaChakraBlades_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AsumaChakraBlades_deallocate takes integer this returns nothing
            set s__AsumaChakraBlades_Alloc__recycle[this]=s__AsumaChakraBlades_Alloc__recycle[(0)]
            set s__AsumaChakraBlades_Alloc__recycle[(0)]=this
        endfunction

 function s__AsumaChakraBlades_periodic takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
		if GetUnitAbilityLevel(u, 'B036') == 0 then
			call SetUnitAnimation(u, "morph")
			call AddUnitAnimationProperties(u, "alternate", false)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__AsumaChakraBlades_actions takes nothing returns nothing
		set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A05G')
		call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", GetTriggerUnit())
		call AddLoadingBar(GetTriggerUnit() , 10.0)
		call AddUnitAnimationProperties(GetTriggerUnit(), "alternate", true)
		call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, true, function s__AsumaChakraBlades_periodic) // INLINED!!
 endfunction 

 function s__AsumaChakraBlades_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(13 , 'A0M4' , function s__AsumaChakraBlades_actions)
 endfunction


//===========================================================================
// Trigger: AsumaAssault
//===========================================================================

function Trig_AsumaAssault_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A05P' ) )
endfunction

function Trig_AsumaAssault_Actions takes nothing returns nothing
        set udg_Asuma_Point[1]=GetUnitLoc(GetTriggerUnit())
        set udg_Asuma_Point[2]=GetSpellTargetLoc()
        set udg_Asuma_Real=AngleBetweenPoints(udg_Asuma_Point[1], udg_Asuma_Point[2])
	set bj_lastCreatedEffect=AddSpecialEffect("DustWaveDash.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
	call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(GetTriggerUnit())))
	//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.5)
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetPointZ(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit())))
	call DestroyEffect(bj_lastCreatedEffect)
        call RemoveLocation(udg_Asuma_Point[1])
        call RemoveLocation(udg_Asuma_Point[2])
	set udg_units30[101]=GetTriggerUnit()
	//call TriggerSleepAction(0.05)
	//call PauseUnit(GetTriggerUnit(),true)
	set udg_locations03[66]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), 60.00, ( udg_Asuma_Real + 60.00 ))
	call CreateNUnitsAtLocFacingLocBJ(1, 'zjug', GetOwningPlayer(GetTriggerUnit()), udg_locations03[66], GetUnitLoc(GetTriggerUnit()))
	call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
	call RemoveLocation(udg_locations03[66])
	set udg_units27[101]=bj_lastCreatedUnit
	call UnitApplyTimedLifeBJ(0.60, 'BTLF', bj_lastCreatedUnit)
	set udg_locations03[66]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), 60.00, ( udg_Asuma_Real - 60.00 ))
	call CreateNUnitsAtLocFacingLocBJ(1, 'zjug', GetOwningPlayer(GetTriggerUnit()), udg_locations03[66], GetUnitLoc(GetTriggerUnit()))
	call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
	call RemoveLocation(udg_locations03[66])
	set udg_units27[102]=bj_lastCreatedUnit
	call UnitApplyTimedLifeBJ(0.60, 'BTLF', bj_lastCreatedUnit)
	call UnitAddAbility(GetTriggerUnit(), 'A032')
	call SetUnitTimeScalePercent(GetTriggerUnit(), 80.00)
	call SetUnitAnimation(GetTriggerUnit(), "attack")
	call SetUnitPathing(GetTriggerUnit(), false)
	call EnableTrigger(udg_trigger195)
	//if GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 then
	//	call TriggerSleepAction(0.90)	
	//else
		call TriggerSleepAction(0.55)
	//endif
	call DisableTrigger(udg_trigger195)
	call UnitRemoveAbility(GetTriggerUnit(), 'A032')
	call SetUnitTimeScalePercent(GetTriggerUnit(), 100.00)
	call SetUnitPathing(GetTriggerUnit(), true)
	//call PauseUnit(GetTriggerUnit(),false)
	call GroupClear(udg_groups03[14])
endfunction

function Trig_AsumaAssault_2_Func001C takes nothing returns boolean
	return ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units30[101]), 35.00, udg_Asuma_Real), PATHING_TYPE_WALKABILITY) ) )
endfunction

function Trig_AsumaAssault_2_Func003001003001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_AsumaAssault_2_Func003001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units30[101])) )
endfunction

function Trig_AsumaAssault_2_Func003001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units30[101])) ))
endfunction

function Trig_AsumaAssault_2_Func003Func006C takes nothing returns boolean
	if ( not ( IsUnitInGroup(GetEnumUnit(), udg_groups03[14]) ) ) then
		return false
	endif
	return true
endfunction

function Trig_AsumaAssault_2_Func003A takes nothing returns nothing
	call IssueTargetOrder(GetEnumUnit(), "attack", GetEnumUnit())
	set udg_locations03[198]=PolarProjectionBJ(GetUnitLoc(GetEnumUnit()), 35.00, AngleBetweenPoints(GetUnitLoc(udg_units30[101]), PolarProjectionBJ(GetUnitLoc(GetEnumUnit()), 200.00, udg_Asuma_Real)))
	call SetUnitX(GetEnumUnit(), GetLocationX(udg_locations03[198]))
	call SetUnitY(GetEnumUnit(), GetLocationY(udg_locations03[198]))
	call RemoveLocation(udg_locations03[198])
	if ( Trig_AsumaAssault_2_Func003Func006C() ) then
	else
		call UnitDamageTarget(udg_units30[101], GetEnumUnit(), ( I2R(GetHeroStatBJ(1, udg_units30[101], true)) * I2R(GetUnitAbilityLevel(udg_units30[101], 'A05P')) ), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
		call GroupAddUnit(udg_groups03[14], GetEnumUnit())
	endif
endfunction

function Trig_AsumaAssault_2_Actions takes nothing returns nothing
	if ( not ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units30[101]), 35.00, GetUnitFacing(udg_units30[101])), PATHING_TYPE_WALKABILITY) ) ) ) then
		set udg_locations03[197]=PolarProjectionBJ(GetUnitLoc(udg_units30[101]), 35.00, GetUnitFacing(udg_units30[101]))
		//call SetUnitPositionLoc(udg_units30[101],udg_locations03[197])
		call SetUnitX(udg_units30[101], GetLocationX(udg_locations03[197]))
		call SetUnitY(udg_units30[101], GetLocationY(udg_locations03[197]))
call AddSpecialEffectLocBJ((udg_locations03[197] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[197])
		set udg_locations03[197]=PolarProjectionBJ(GetUnitLoc(udg_units30[101]), 80.00, ( udg_Asuma_Real + 90.00 ))
		call SetUnitPositionLocFacingLocBJ(udg_units27[101], udg_locations03[197], GetUnitLoc(udg_units30[101]))
call AddSpecialEffectLocBJ((udg_locations03[197] ), ( "Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[197])
		set udg_locations03[197]=PolarProjectionBJ(GetUnitLoc(udg_units30[101]), 80.00, ( udg_Asuma_Real - 90.00 ))
		call SetUnitPositionLocFacingLocBJ(udg_units27[102], udg_locations03[197], GetUnitLoc(udg_units30[101]))
call AddSpecialEffectLocBJ((udg_locations03[197] ), ( "Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[197])
	endif
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(180.00, GetUnitLoc(udg_units30[101]), Condition(function Trig_AsumaAssault_2_Func003001003)), function Trig_AsumaAssault_2_Func003A)
endfunction

function InitTrig_AsumaAssault takes nothing returns nothing
	set udg_trigger194=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger194, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger194, Condition(function Trig_AsumaAssault_Conditions))
	call TriggerAddAction(udg_trigger194, function Trig_AsumaAssault_Actions)
        call EnableTriggerForId(13 , udg_trigger194)
	set udg_trigger195=CreateTrigger()
	call DisableTrigger(udg_trigger195)
	call TriggerRegisterTimerEventPeriodic(udg_trigger195, 0.03)
	call TriggerAddAction(udg_trigger195, function Trig_AsumaAssault_2_Actions)
endfunction 

//===========================================================================
// Trigger: AsumaShadowStrike
//===========================================================================

function Trig_AsumaShadowStrike_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A05O' ) )
endfunction

function Trig_AsumaShadowStrike_Actions takes nothing returns nothing
 local location l= GetUnitLoc(GetSpellTargetUnit())
	set udg_units30[101]=GetTriggerUnit()
	set udg_units26[101]=GetSpellTargetUnit()
	set udg_real11=50.00
	call TriggerSleepAction(0.05)
	call PauseUnit(GetTriggerUnit(), true)
	call UnitAddAbility(GetTriggerUnit(), 'A032')
	call SetUnitTimeScalePercent(GetTriggerUnit(), 400.00)
call AddSpecialEffectLocBJ((GetUnitLoc(GetTriggerUnit()) ), ( "blackblink.mdx")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call SetUnitAnimationWithRarity(GetTriggerUnit(), "attack", RARITY_FREQUENT)
	call SetUnitPositionLocFacingLocBJ(GetTriggerUnit(), PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 70.00, GetRandomReal(0, 360)), GetUnitLoc(udg_units26[101]))
	call TriggerSleepAction(0.10)
	if ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') > 0 and GetRandomInt(1, 3) <= 2 ) or ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') == 0 and GetRandomInt(1, 3) == 1 ) then
            	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call CreateTextTagUnitBJ("Critical!", GetTriggerUnit(), 0, 12.00, 100, 0.00, 0.00, 0)
		call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
    		call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
    		call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
    		call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
    		call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
                endif
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( 60.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A05O')) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	else
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( 30.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A05O')) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	endif
	set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(udg_units26[101]), GetUnitY(udg_units26[101]))
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(udg_units26[101]) , GetUnitY(udg_units26[101])))
	call DestroyEffect(bj_lastCreatedEffect)
	set udg_locations03[67]=GetUnitLoc(udg_units30[101])
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=1
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd

			set bj_lastCreatedEffect=AddSpecialEffect("PunchImpact.mdl", GetLocationX(udg_locations03[67]), GetLocationY(udg_locations03[67]))
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(udg_units30[101])) + bj_PI)
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetLocationX(udg_locations03[67]) , GetLocationY(udg_locations03[67])))
			call DestroyEffect(bj_lastCreatedEffect)

		
		//call CreateNUnitsAtLoc(1,'uarb',GetOwningPlayer(udg_units30[101]),udg_locations03[67],GetUnitFacing(udg_units30[101]))
		call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
		//call UnitApplyTimedLifeBJ(3.00,'BTLF',bj_lastCreatedUnit)
		//call SetUnitTimeScalePercent(bj_lastCreatedUnit,(110.00+(6.00*I2R(bj_forLoopAIndex))))
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call RemoveLocation(udg_locations03[67])
	call EnableTrigger(udg_trigger197)
	call PauseUnit(udg_units26[101], true)
	call SetUnitPathing(udg_units26[101], false)
	call TriggerSleepAction(0.20)
call AddSpecialEffectLocBJ((GetUnitLoc(GetTriggerUnit()) ), ( "blackblink.mdx")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call SetUnitAnimationWithRarity(GetTriggerUnit(), "attack", RARITY_FREQUENT)
	call SetUnitPositionLocFacingLocBJ(GetTriggerUnit(), PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 70.00, GetRandomReal(0, 360)), GetUnitLoc(udg_units26[101]))
	call TriggerSleepAction(0.10)
	set udg_real11=50.00
	if ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') > 0 and GetRandomInt(1, 3) <= 2 ) or ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') == 0 and GetRandomInt(1, 3) == 1 ) then
            	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call CreateTextTagUnitBJ("Critical!", GetTriggerUnit(), 0, 12.00, 100, 0.00, 0.00, 0)
		call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
    		call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
    		call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
    		call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
    		call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
                endif
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( 60.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A05O')) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	else
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( 30.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A05O')) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	endif
	set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(udg_units26[101]), GetUnitY(udg_units26[101]))
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(udg_units26[101]) , GetUnitY(udg_units26[101])))
	call DestroyEffect(bj_lastCreatedEffect)
	set udg_locations03[67]=GetUnitLoc(udg_units30[101])
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=1
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		//call CreateNUnitsAtLoc(1,'uarb',GetOwningPlayer(udg_units30[101]),udg_locations03[67],GetUnitFacing(udg_units30[101]))
		call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
		//call UnitApplyTimedLifeBJ(3.00,'BTLF',bj_lastCreatedUnit)
		//call SetUnitTimeScalePercent(bj_lastCreatedUnit,(110.00+(6.00*I2R(bj_forLoopAIndex))))
		
		
			set bj_lastCreatedEffect=AddSpecialEffect("PunchImpact.mdl", GetLocationX(udg_locations03[67]), GetLocationY(udg_locations03[67]))
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(udg_units30[101])) + bj_PI)
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetLocationX(udg_locations03[67]) , GetLocationY(udg_locations03[67])))
			call DestroyEffect(bj_lastCreatedEffect)

		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call RemoveLocation(udg_locations03[67])
	call TriggerSleepAction(0.20)
call AddSpecialEffectLocBJ((GetUnitLoc(GetTriggerUnit()) ), ( "blackblink.mdx")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call SetUnitAnimationWithRarity(GetTriggerUnit(), "attack", RARITY_FREQUENT)
	call SetUnitPositionLocFacingLocBJ(GetTriggerUnit(), PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 70.00, Rad2Deg(Atan3(GetUnitX(udg_units26[101]) , GetUnitY(udg_units26[101]) , GetLocationX(l) , GetLocationY(l))) + 180), GetUnitLoc(udg_units26[101]))
	call TriggerSleepAction(0.10)
	set udg_real11=70.00
	if ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') > 0 and GetRandomInt(1, 3) <= 2 ) or ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') == 0 and GetRandomInt(1, 3) == 1 ) then
            	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call CreateTextTagUnitBJ("Critical!", GetTriggerUnit(), 0, 12.00, 100, 0.00, 0.00, 0)
		call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
    		call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
    		call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
    		call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
    		call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
                endif
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( 60.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A05O')) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	else
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( 30.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A05O')) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	endif
	set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(udg_units26[101]), GetUnitY(udg_units26[101]))
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(udg_units26[101]) , GetUnitY(udg_units26[101])))
	call DestroyEffect(bj_lastCreatedEffect)
	set udg_locations03[67]=GetUnitLoc(udg_units30[101])
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=1
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		//call CreateNUnitsAtLoc(1,'uarb',GetOwningPlayer(udg_units30[101]),udg_locations03[67],GetUnitFacing(udg_units30[101]))
		call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
		//call UnitApplyTimedLifeBJ(3.00,'BTLF',bj_lastCreatedUnit)
		//call SetUnitTimeScalePercent(bj_lastCreatedUnit,(110.00+(6.00*I2R(bj_forLoopAIndex))))
		
		
			set bj_lastCreatedEffect=AddSpecialEffect("PunchImpact.mdl", GetLocationX(udg_locations03[67]), GetLocationY(udg_locations03[67]))
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(udg_units30[101])) + bj_PI)
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetLocationX(udg_locations03[67]) , GetLocationY(udg_locations03[67])))
			call DestroyEffect(bj_lastCreatedEffect)

		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call RemoveLocation(udg_locations03[67])
	call TriggerSleepAction(0.40)
	call DisableTrigger(udg_trigger197)
	call SetUnitPathing(udg_units26[101], true)
	call PauseUnit(udg_units26[101], false)
	call UnitRemoveAbility(GetTriggerUnit(), 'A032')
	call SetUnitTimeScalePercent(GetTriggerUnit(), 100.00)
	call PauseUnit(GetTriggerUnit(), false)
	call RemoveLocation(l)
	set l=null
endfunction

function Trig_AsumaShadowStrike2_Func002C takes nothing returns boolean
	return ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units26[101]), udg_real11, GetUnitFacing(udg_units30[101])), PATHING_TYPE_WALKABILITY) ) )
endfunction

function Trig_AsumaShadowStrike2_Actions takes nothing returns nothing
	set udg_real11=( udg_real11 - 4.00 )
	if ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units26[101]), udg_real11, GetUnitFacing(udg_units30[101])), PATHING_TYPE_WALKABILITY) ) ) then
	else
		set udg_locations03[198]=PolarProjectionBJ(GetUnitLoc(udg_units26[101]), udg_real11, GetUnitFacing(udg_units30[101]))
		call SetUnitPositionLoc(udg_units26[101], udg_locations03[198])
call AddSpecialEffectLocBJ((udg_locations03[198] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[198])
	endif
endfunction

function InitTrig_AsumaShadowStrike takes nothing returns nothing
	set udg_trigger196=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger196, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger196, Condition(function Trig_AsumaShadowStrike_Conditions))
	call TriggerAddAction(udg_trigger196, function Trig_AsumaShadowStrike_Actions)
        call EnableTriggerForId(13 , udg_trigger196)
	set udg_trigger197=CreateTrigger()
	call DisableTrigger(udg_trigger197)
	call TriggerRegisterTimerEventPeriodic(udg_trigger197, 0.028)
	call TriggerAddAction(udg_trigger197, function Trig_AsumaShadowStrike2_Actions)
endfunction 

//===========================================================================
// Trigger: AsumaWind
//===========================================================================

//Implemented from module Alloc:
    
        function s__AsumaWind_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AsumaWind_Alloc__recycle[(0)] == 0 ) then
                set s__AsumaWind_Alloc__instanceCount=s__AsumaWind_Alloc__instanceCount + 1
                set this=s__AsumaWind_Alloc__instanceCount
            else
                set this=s__AsumaWind_Alloc__recycle[(0)]
                set s__AsumaWind_Alloc__recycle[(0)]=s__AsumaWind_Alloc__recycle[s__AsumaWind_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AsumaWind_deallocate takes integer this returns nothing
            set s__AsumaWind_Alloc__recycle[this]=s__AsumaWind_Alloc__recycle[(0)]
            set s__AsumaWind_Alloc__recycle[(0)]=this
        endfunction


    function s__AsumaWind_dealDamage takes nothing returns boolean
            if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__AsumaWind_caster[s__AsumaWind_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
             call UnitDamageTarget(s__AsumaWind_caster[s__AsumaWind_instance], GetFilterUnit(), 30.0 * GetUnitAbilityLevel(s__AsumaWind_caster[s__AsumaWind_instance], s__AsumaWind_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	         call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" ), (( GetUnitX(GetFilterUnit()) )*1.0), (( GetUnitY(GetFilterUnit()))*1.0))) // INLINED!!
            endif
        return false
    endfunction 


    function s__AsumaWind_damageoil takes nothing returns nothing
    local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
    set bj_lastCreatedGroup=CreateGroup()
    set s__AsumaWind_instance=this
    call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__AsumaWind_wind[this]), GetUnitY(s__AsumaWind_wind[this]), 300, Filter(function s__AsumaWind_dealDamage))
    loop
        set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
        exitwhen bj_lastCreatedUnit == null
        call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
    endloop
    call DestroyGroup(bj_lastCreatedGroup)
    set s__AsumaWind_hitoil[this]=true
    call ReleaseTimer(GetExpiredTimer())
endfunction 


    function s__AsumaWind_dealDamage2 takes nothing returns boolean
            if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__AsumaWind_caster[s__AsumaWind_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
             call UnitDamageTarget(s__AsumaWind_caster[s__AsumaWind_instance], GetFilterUnit(), ( 30.0 + 0.2 * GetHeroAgi(s__AsumaWind_caster[s__AsumaWind_instance], true) ) * GetUnitAbilityLevel(s__AsumaWind_caster[s__AsumaWind_instance], s__AsumaWind_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	         call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" ), (( GetUnitX(GetFilterUnit()) )*1.0), (( GetUnitY(GetFilterUnit()))*1.0))) // INLINED!!
            endif
        return false
    endfunction 


    function s__AsumaWind_damagefirewall takes nothing returns nothing
    local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
    set bj_lastCreatedGroup=CreateGroup()
    set s__AsumaWind_instance=this
    call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__AsumaWind_wind[this]), GetUnitY(s__AsumaWind_wind[this]), 300, Filter(function s__AsumaWind_dealDamage2))
    loop
        set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
        exitwhen bj_lastCreatedUnit == null
        call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
    endloop
    call DestroyGroup(bj_lastCreatedGroup)
    set s__AsumaWind_hitfire[this]=true
    call ReleaseTimer(GetExpiredTimer())
endfunction 


    
    function s__AsumaWind_destroy takes integer this returns nothing
        call KillUnit(s__AsumaWind_wind[this])
        call ShowUnit(s__AsumaWind_wind[this], false)
        call DestroyGroup(s__AsumaWind_damaged[this])
        set s__AsumaWind_wind[this]=null
        set s__AsumaWind_damaged[this]=null
        set s__AsumaWind_caster[this]=null
        call s__AsumaWind_deallocate(this)
    endfunction
    
    function s__AsumaWind_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__AsumaWind_wind[this])
        local real y= GetUnitY(s__AsumaWind_wind[this])
        local real new_x= (((x )*1.0) + Cos((( s__AsumaWind_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__AsumaWind_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
        call SetUnitX(s__AsumaWind_wind[this], new_x)
        call SetUnitY(s__AsumaWind_wind[this], new_y)
        set s__AsumaWind_count[this]=s__AsumaWind_count[this] + 1
        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        if not s__AsumaWind_hitfire[this] and s__AsumaFireR_dummy_firewall != null and GetWidgetLife(s__AsumaFireR_dummy_firewall) > 0.405 and GetDistanceUnits(s__AsumaWind_wind[this] , s__AsumaFireR_dummy_firewall) < 510 then
            set s__AsumaWind_hitfire[this]=true
        endif
        if not s__AsumaWind_hitoil[this] and s__Oil_dummy_oil != null and GetWidgetLife(s__Oil_dummy_oil) > 0.405 and GetDistanceUnits(s__AsumaWind_wind[this] , s__Oil_dummy_oil) < 410 then
            set s__AsumaWind_hitoil[this]=true
        endif
        if s__AsumaWind_hitfire[this] or s__AsumaWind_hitoil[this] then
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        endif
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__AsumaWind_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__AsumaWind_damaged[this]) then
             call UnitDamageTarget(s__AsumaWind_caster[this], bj_lastCreatedUnit, 80.0 * GetUnitAbilityLevel(s__AsumaWind_caster[this], s__AsumaWind_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
	     call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
             call GroupAddUnit(s__AsumaWind_damaged[this], bj_lastCreatedUnit)
        	if s__AsumaWind_hitfire[this] then
            		call TimerStart(NewTimerEx(this), 0.03, false, function s__AsumaWind_damagefirewall)
            	endif
        	if s__AsumaWind_hitoil[this] then
            		call TimerStart(NewTimerEx(this), 0.03, false, function s__AsumaWind_damageoil)
            	endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__AsumaWind_count[this] > 28 then
            call s__AsumaWind_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__AsumaWind_actions takes nothing returns nothing
        local integer this= s__AsumaWind_allocate()
        set s__AsumaWind_caster[this]=GetTriggerUnit()
        set s__AsumaWind_target_x[this]=GetSpellTargetX()
        set s__AsumaWind_target_y[this]=GetSpellTargetY()
        set s__AsumaWind_damaged[this]=CreateGroup()
        set s__AsumaWind_angle[this]=Atan3(GetUnitX(s__AsumaWind_caster[this]) , GetUnitY(s__AsumaWind_caster[this]) , s__AsumaWind_target_x[this] , s__AsumaWind_target_y[this])
        set s__AsumaWind_hitoil[this]=false
        set s__AsumaWind_hitfire[this]=false
	call SetUnitAnimation(s__AsumaWind_caster[this], "attack")
        set s__AsumaWind_wind[this]=CreateUnit(GetTriggerPlayer(), 'odoc', GetUnitX(s__AsumaWind_caster[this]), GetUnitY(s__AsumaWind_caster[this]), Rad2Deg(Atan3(GetUnitX(s__AsumaWind_caster[this]) , GetUnitY(s__AsumaWind_caster[this]) , GetSpellTargetX() , GetSpellTargetY())))
	call SetUnitAnimation(s__AsumaWind_wind[this], "stand")
        set s__AsumaWind_count[this]=0
        call TimerStart(NewTimerEx(this), 0.04, true, function s__AsumaWind_periodic)
    endfunction
    
    function s__AsumaWind_onInit takes nothing returns nothing
	set s__Oil_dummy_oil=null
	set s__AsumaFireR_dummy_firewall=null
        call RegisterSpellEffectEvent2((s__AsumaWind_SPELL_ID ) , Filter(( function s__AsumaWind_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: AsumaFireR
//===========================================================================
// scope AsumaFireR begins



//Implemented from module Alloc:
    
        function s__AsumaFireR_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AsumaFireR_Alloc__recycle[(0)] == 0 ) then
                set s__AsumaFireR_Alloc__instanceCount=s__AsumaFireR_Alloc__instanceCount + 1
                set this=s__AsumaFireR_Alloc__instanceCount
            else
                set this=s__AsumaFireR_Alloc__recycle[(0)]
                set s__AsumaFireR_Alloc__recycle[(0)]=s__AsumaFireR_Alloc__recycle[s__AsumaFireR_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AsumaFireR_deallocate takes integer this returns nothing
            set s__AsumaFireR_Alloc__recycle[this]=s__AsumaFireR_Alloc__recycle[(0)]
            set s__AsumaFireR_Alloc__recycle[(0)]=this
        endfunction
    
    function s__AsumaFireR_destroy takes integer this returns nothing
        local integer i
        set i=0
        loop
            exitwhen i > 18
            call KillUnit(s__AsumaFireR__firewall[(this)*(1)+i])
            call ShowUnit(s__AsumaFireR__firewall[(this)*(1)+i], false)
            set s__AsumaFireR__firewall[(this)*(1)+i]= null
            set i=i + 1
        endloop
        call DestroyGroup(s__AsumaFireR_damaged[this])
        set s__AsumaFireR_damaged[this]=null
        set s__AsumaFireR_caster[this]=null
        call s__AsumaFireR_deallocate(this)
    endfunction
    
    function s__AsumaFireR_poison takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__AsumaFireR_count2[this]=s__AsumaFireR_count2[this] + 1
        if s__AsumaFireR_target[this] != null then
            call UnitDamageTarget(s__AsumaFireR_caster[this], s__AsumaFireR_target[this], ( 30 * GetUnitAbilityLevel(s__AsumaFireR_caster[this], s__AsumaFireR_SPELL_ID) + 20 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
        endif
        if s__AsumaFireR_count2[this] > 0 then
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__AsumaFireR_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer this2
        local integer i
        local unit u
        set i=0
        loop
            exitwhen i > 18
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__AsumaFireR__firewall[(this)*(1)+i]), GetUnitY(s__AsumaFireR__firewall[(this)*(1)+i]), 200.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__AsumaFireR_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__AsumaFireR_damaged[this]) then
                    set this2=s__AsumaFireR_allocate()
                    set s__AsumaFireR_caster[this2]=s__AsumaFireR_caster[this]
                    set s__AsumaFireR_target[this2]=bj_lastCreatedUnit
                    call GroupAddUnit(s__AsumaFireR_damaged[this], bj_lastCreatedUnit)
                    set s__AsumaFireR_count2[this2]=0
                    call TimerStart(NewTimerEx(this2), 0.1, true, function s__AsumaFireR_poison)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set i=i + 1
        endloop
	call GroupClear(s__AsumaFireR_damaged[this])
        set s__AsumaFireR_count[this]=s__AsumaFireR_count[this] + 1
        if s__AsumaFireR_count[this] > 30 * 3 then
	    set s__AsumaFireR_dummy_firewall=null
            call s__AsumaFireR_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    

    function s__AsumaFireR_throw takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
 local real angle1= GetUnitFacing(s__AsumaFireR_caster[this])
 local real x1
 local real y1
 local integer i
 local real x= GetUnitX(s__AsumaFireR_projectile[this])
 local real y= GetUnitY(s__AsumaFireR_projectile[this])
 local real angle= Atan3(x , y , s__AsumaFireR_target_x[this] , s__AsumaFireR_target_y[this])
 local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
 local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
	call SetUnitX(s__AsumaFireR_projectile[this], new_x)
	call SetUnitY(s__AsumaFireR_projectile[this], new_y)
	if GetDistance(x , y , s__AsumaFireR_target_x[this] , s__AsumaFireR_target_y[this]) < 50 then
	   call KillUnit(s__AsumaFireR_projectile[this])
	   call ShowUnit(s__AsumaFireR_projectile[this], false)
	   set s__AsumaFireR_projectile[this]=null
           set i=0
           loop
           	exitwhen i > 18
           	set s__AsumaFireR__firewall[(this)*(1)+i]= CreateUnit(GetOwningPlayer(s__AsumaFireR_caster[this]), 'nsbs', s__AsumaFireR_target_x[this], s__AsumaFireR_target_y[this], Rad2Deg(angle1) + 20 * ( i + 1 ))
		if GetUnitAbilityLevel(s__AsumaFireR_caster[this], 'A0GH') > 0 then
			call UnitAddAbility(s__AsumaFireR__firewall[(this)*(1)+i], 'A0A1')
		endif
	   	set x1=(((s__AsumaFireR_target_x[this] )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__AsumaFireR__firewall[(this)*(1)+i])) )*1.0)) * (( 300.0)*1.0)) // INLINED!!
           	set y1=(((s__AsumaFireR_target_y[this] )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__AsumaFireR__firewall[(this)*(1)+i])) )*1.0)) * (( 300.0)*1.0)) // INLINED!!
           	call SetUnitX(s__AsumaFireR__firewall[(this)*(1)+i], x1)
           	call SetUnitY(s__AsumaFireR__firewall[(this)*(1)+i], y1)
           	set i=i + 1
           endloop
           call TimerStartEx(NewTimerEx(this) , 0.1 , true , function s__AsumaFireR_periodic , "AsumaFireR_periodic")
           call ReleaseTimer(GetExpiredTimer())
	endif
    endfunction 


    function s__AsumaFireR_actions takes nothing returns nothing
        local integer this= s__AsumaFireR_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Asuma_R, 100.0, GetTriggerUnit())
        endif
        set s__AsumaFireR_caster[this]=GetTriggerUnit()
        set s__AsumaFireR_damaged[this]=CreateGroup()
	set s__AsumaFireR_target_x[this]=GetSpellTargetX()
	set s__AsumaFireR_target_y[this]=GetSpellTargetY()
        set s__AsumaFireR_count[this]=0
        set s__AsumaFireR_count2[this]=0
        set s__AsumaFireR_target[this]=null
        set s__AsumaFireR_projectile[this]=CreateUnit(GetOwningPlayer(s__AsumaFireR_caster[this]), 'e088', GetUnitX(s__AsumaFireR_caster[this]), GetUnitY(s__AsumaFireR_caster[this]), 270)
	set s__AsumaFireR_dummy_firewall=CreateUnit(GetOwningPlayer(s__AsumaFireR_caster[this]), 'e007', s__AsumaFireR_target_x[this], s__AsumaFireR_target_y[this], Rad2Deg(Atan3(GetUnitX(s__AsumaFireR_caster[this]) , GetUnitY(s__AsumaFireR_caster[this]) , GetSpellTargetX() , GetSpellTargetY())))
	call UnitApplyTimedLife(s__AsumaFireR_dummy_firewall, 'BTLF', 10)
        call SetUnitAnimation(s__AsumaFireR_caster[this], "attack")
        call TimerStart(NewTimerEx(this), 0.03, true, function s__AsumaFireR_throw)
    endfunction
    
    function s__AsumaFireR_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(13 , s__AsumaFireR_SPELL_ID , function s__AsumaFireR_actions)
    endfunction
    

// scope AsumaFireR ends
//===========================================================================
// Trigger: AsumaHien
//===========================================================================

function Trig_AsumaHien_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A0WB' ) )
endfunction

function Trig_AsumaHien_Func010Func010A takes nothing returns nothing
	call SetUnitFlyHeight(GetEnumUnit(), 0.00, 1000000000.00)
	call SetUnitAnimationWithRarity(GetTriggerUnit(), "attack", RARITY_FREQUENT)
	call SetUnitPositionLocFacingLocBJ(GetEnumUnit(), PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 70.00, AngleBetweenPoints(GetUnitLoc(udg_units26[101]), GetUnitLoc(GetTriggerUnit()))), GetUnitLoc(udg_units26[101]))
	call SetUnitPositionLocFacingLocBJ(udg_units30[101], PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 70.00, AngleBetweenPoints(GetUnitLoc(udg_units26[101]), GetUnitLoc(GetTriggerUnit()))), GetUnitLoc(udg_units26[101]))
	call SetUnitPositionLoc(udg_units26[101], PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 100.00, GetUnitFacing(GetEnumUnit())))
	call SetUnitAnimation(udg_units26[101], "death")
	call UnitApplyTimedLifeBJ(0.05, 'BTLF', GetEnumUnit())
call AddSpecialEffectLocBJ((GetUnitLoc(udg_units26[101]) ), ( "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call GroupRemoveUnit(udg_groups03[15], GetEnumUnit())
	if ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') > 0 and GetRandomInt(1, 3) <= 2 ) or ( GetUnitAbilityLevel(GetTriggerUnit(), 'B036') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B02L') == 0 and GetRandomInt(1, 3) == 1 ) then
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call CreateTextTagUnitBJ("Critical!", GetTriggerUnit(), 0, 12.00, 100, 0.00, 0.00, 0)
		call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
    		call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
    		call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
    		call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
    		call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
			endif
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( I2R(GetHeroStatBJ(1, GetTriggerUnit(), true)) * 3.0 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	else
		call UnitDamageTarget(GetTriggerUnit(), udg_units26[101], ( I2R(GetHeroStatBJ(1, GetTriggerUnit(), true)) * 2.0 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	endif
	set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(udg_units26[101]), GetUnitY(udg_units26[101]))
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(udg_units26[101]) , GetUnitY(udg_units26[101])))
	call DestroyEffect(bj_lastCreatedEffect)
endfunction

function Trig_AsumaHien_Actions takes nothing returns nothing
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call PlaySoundOnUnitBJ(gg_snd_Asuma_T_Hien, 100.0, GetTriggerUnit())
       // call PlaySoundOnUnitBJ( gg_snd_Asuma_ulti, 100.0, GetTriggerUnit() )
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cFFFF0000Asuma: I must protect the king.|r")
	endif
	set udg_units30[101]=GetTriggerUnit()
	set udg_units26[101]=GetSpellTargetUnit()
	call TriggerSleepAction(0.05)
	call PauseUnit(GetTriggerUnit(), true)
	call PauseUnit(udg_units26[101], true)
	call UnitAddAbility(GetTriggerUnit(), 'A02Q')
	call SetUnitTimeScalePercent(GetTriggerUnit(), 400.00)
	call SetUnitAnimationWithRarity(GetTriggerUnit(), "attack", RARITY_FREQUENT)
	set udg_integers01[106]=1
	loop
		exitwhen udg_integers01[106] > 10
		set udg_locations03[69]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(udg_units26[101]), 600.00, 600.00))
		call CreateNUnitsAtLocFacingLocBJ(1, 'nwgs', GetOwningPlayer(udg_units30[101]), udg_locations03[69], GetUnitLoc(udg_units26[101]))
		call RemoveLocation(udg_locations03[69])
		call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0.00, 300.00), 1000000000.00)
		call SetUnitTimeScalePercent(bj_lastCreatedUnit, 400.00)
		call SetUnitAnimationWithRarity(bj_lastCreatedUnit, "attack", RARITY_RARE)
		call SetUnitVertexColorBJEx(bj_lastCreatedUnit , 100 , 100 , 100 , 60.00)
		call GroupAddUnit(udg_groups03[15], bj_lastCreatedUnit)
		call TriggerSleepAction(0.01)
		call ForGroupBJ(udg_groups03[15], function Trig_AsumaHien_Func010Func010A)
		set udg_integers01[106]=udg_integers01[106] + 1
	endloop
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=10
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		call CreateNUnitsAtLoc(1, 'uarb', GetOwningPlayer(udg_units30[101]), GetUnitLoc(udg_units26[101]), GetUnitFacing(udg_units30[101]))
		call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
		call UnitApplyTimedLifeBJ(3.00, 'BTLF', bj_lastCreatedUnit)
		call SetUnitTimeScalePercent(bj_lastCreatedUnit, ( 110.00 + ( 6.00 * I2R(bj_forLoopAIndex) ) ))
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call PauseUnit(udg_units26[101], false)
	call SetUnitAnimationWithRarity(GetTriggerUnit(), "attack", RARITY_FREQUENT)
	call SetUnitPositionLocFacingLocBJ(GetTriggerUnit(), PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 400.00, GetUnitFacing(GetTriggerUnit())), PolarProjectionBJ(GetUnitLoc(udg_units26[101]), 800.00, GetUnitFacing(GetTriggerUnit())))
	call UnitRemoveAbility(GetTriggerUnit(), 'A02Q')
	call SetUnitTimeScalePercent(GetTriggerUnit(), 100.00)
	call PauseUnit(GetTriggerUnit(), false)
	call GroupClear(udg_groups03[15])
endfunction

function InitTrig_AsumaHien takes nothing returns nothing
	set udg_trigger201=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger201, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger201, Condition(function Trig_AsumaHien_Conditions))
	call TriggerAddAction(udg_trigger201, function Trig_AsumaHien_Actions)
        call EnableTriggerForId(13 , udg_trigger201)
endfunction 

//===========================================================================
// Trigger: AsumaKatonHaisenkisho
//===========================================================================
function Trig_AsumaKatonHaisenkisho_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0GH' ) ) then
        return false
    endif
    return true
endfunction

function Trig_AsumaKatonHaisenkisho_Func012A takes nothing returns nothing
    if IsUnitVisible(udg_AsumaFIre_Caster, GetEnumPlayer()) then
        call CameraSetEQNoiseForPlayer(GetEnumPlayer(), 3)
    endif
endfunction

function Trig_AsumaKatonHaisenkisho_Func014002003 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_AsumaFIre_Caster)) == true )
endfunction

function Trig_AsumaKatonHaisenkisho_Func015A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_AsumaFIre_Caster, GetEnumUnit(), ( 800.00 + ( 11.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_AsumaFIre_Caster, true)) ) ), ATTACK_TYPE_MELEE, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_AsumaKatonHaisenkisho_Func022A takes nothing returns nothing
    call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction

function Trig_AsumaKatonHaisenkisho_Actions takes nothing returns nothing
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call PlaySoundOnUnitBJ(gg_snd_Asuma_T2_Katon, 100.0, GetTriggerUnit())
    endif
    set udg_AsumaFIre_Caster=GetTriggerUnit()
    set udg_AsumaFire_Point[1]=GetSpellTargetLoc()
    set udg_AsumaFire_Point[2]=GetUnitLoc(GetTriggerUnit())
    set udg_AsumaFire_Point[4]=PolarProjectionBJ(udg_AsumaFire_Point[2], 100.00, GetUnitFacing(GetTriggerUnit()))
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=5
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call CreateNUnitsAtLoc(1, 'h054', GetTriggerPlayer(), udg_AsumaFire_Point[4], bj_UNIT_FACING)
        call IssuePointOrderLoc(GetLastCreatedUnit(), "clusterrockets", udg_AsumaFire_Point[1])
        call UnitApplyTimedLifeBJ(1.00, 'BTLF', GetLastCreatedUnit())
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call PauseUnitBJ(true, GetTriggerUnit())
    call SetUnitAnimation(GetTriggerUnit(), "spell one")
    call TriggerSleepAction(0.80)
    call SetUnitAnimation(udg_AsumaFIre_Caster, "spell two")
    call TriggerSleepAction(0.20)
    call ForForce(GetPlayersAll(), function Trig_AsumaKatonHaisenkisho_Func012A)
    call PauseUnitBJ(false, udg_AsumaFIre_Caster)
    set udg_AsumaFire_Group=GetUnitsInRangeOfLocMatching(400.00, udg_AsumaFire_Point[1], Condition(function Trig_AsumaKatonHaisenkisho_Func014002003))
    call ForGroupBJ(udg_AsumaFire_Group, function Trig_AsumaKatonHaisenkisho_Func015A)
    call DestroyGroup(udg_AsumaFire_Group)
	call KillUnit(CreateUnit(GetOwningPlayer(udg_AsumaFIre_Caster), 'e05X', GetLocationX(udg_AsumaFire_Point[1]), GetLocationY(udg_AsumaFire_Point[1]), 270))
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=30
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_AsumaFire_Point[3]=PolarProjectionBJ(udg_AsumaFire_Point[1], GetRandomReal(100, 400), ( 36.00 * I2R(GetForLoopIndexA()) ))
        
	set bj_lastCreatedEffect=AddSpecialEffect("Boom.mdx", GetLocationX(udg_AsumaFire_Point[3]), GetLocationY(udg_AsumaFire_Point[3]))
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, GetRandomReal(0.7, 1.3))
	call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, GetRandomReal(0.5, 1.0))
	call DestroyEffect(bj_lastCreatedEffect)
        //call SetUnitScalePercent( GetLastCreatedUnit(), 300.00, 300.00, 300.00 )
        //call SetUnitTimeScalePercent( GetLastCreatedUnit(), 30.00 )
        //call SetUnitFlyHeightBJ( GetLastCreatedUnit(), GetRandomReal(0, 300.00), 0.00 )
        //call KillUnit( GetLastCreatedUnit() )
        call RemoveLocation(udg_AsumaFire_Point[3])
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(udg_AsumaFire_Point[1])
    call RemoveLocation(udg_AsumaFire_Point[2])
    call RemoveLocation(udg_AsumaFire_Point[4])
    call TriggerSleepAction(0.50)
    call ForForce(GetPlayersAll(), function Trig_AsumaKatonHaisenkisho_Func022A)
endfunction

//===========================================================================
function InitTrig_AsumaKatonHaisenkisho takes nothing returns nothing
    set gg_trg_AsumaKatonHaisenkisho=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_AsumaKatonHaisenkisho, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_AsumaKatonHaisenkisho, Condition(function Trig_AsumaKatonHaisenkisho_Conditions))
    call TriggerAddAction(gg_trg_AsumaKatonHaisenkisho, function Trig_AsumaKatonHaisenkisho_Actions)
    call EnableTriggerForId(13 , gg_trg_AsumaKatonHaisenkisho)
endfunction


//===========================================================================
// Trigger: AsumaUltimateChoice
//===========================================================================
//textmacro instance: UltimateChoice("Asuma", "A0AN", "A0WB", "HIEN", "Hien", "A0GH", "KATON", "Katon: Haisenkisho")

//Implemented from module Alloc:
    
        function s__AsumaUltimateChoice_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__AsumaUltimateChoice_Alloc__recycle[(0)] == 0 ) then
                set s__AsumaUltimateChoice_Alloc__instanceCount=s__AsumaUltimateChoice_Alloc__instanceCount + 1
                set this=s__AsumaUltimateChoice_Alloc__instanceCount
            else
                set this=s__AsumaUltimateChoice_Alloc__recycle[(0)]
                set s__AsumaUltimateChoice_Alloc__recycle[(0)]=s__AsumaUltimateChoice_Alloc__recycle[s__AsumaUltimateChoice_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__AsumaUltimateChoice_deallocate takes integer this returns nothing
            set s__AsumaUltimateChoice_Alloc__recycle[this]=s__AsumaUltimateChoice_Alloc__recycle[(0)]
            set s__AsumaUltimateChoice_Alloc__recycle[(0)]=this
        endfunction
    //private static boolean picked = false 
    
    function s__AsumaUltimateChoice_enableSkill takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__AsumaUltimateChoice_caster[this] != null then
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__AsumaUltimateChoice_caster[this]), 'A0AN', false)
        else
            call s__AsumaUltimateChoice_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__AsumaUltimateChoice_pickSkill takes nothing returns boolean
        local integer i
        local integer this
        if (GetClickedButton()) == s__s__AsumaUltimateChoice_b[0] then // INLINED!!
            call UnitAddAbility(s__AsumaUltimateChoice_u, s__AsumaUltimateChoice_HIEN)
            call UnitMakeAbilityPermanent(s__AsumaUltimateChoice_u, true, s__AsumaUltimateChoice_HIEN)
        else
            call UnitAddAbility(s__AsumaUltimateChoice_u, s__AsumaUltimateChoice_KATON)
            call UnitMakeAbilityPermanent(s__AsumaUltimateChoice_u, true, s__AsumaUltimateChoice_KATON)
        endif
        set i=0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0AN', false)
            set i=i + 1
        endloop
        //call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A0AN', false)
        set s__s__AsumaUltimateChoice_b[0]= null
        set s__s__AsumaUltimateChoice_b[1]= null
        set s__AsumaUltimateChoice_u=null
        call s__Dialog_destroy(s__AsumaUltimateChoice_d)
        call DestroyBoolExpr(s__AsumaUltimateChoice_pick)
        set s__AsumaUltimateChoice_pick=null
        set this=s__AsumaUltimateChoice_allocate()
        set s__AsumaUltimateChoice_caster[this]=s__AsumaUltimateChoice_u
        set s__AsumaUltimateChoice_pp[this]=GetOwningPlayer(s__AsumaUltimateChoice_u)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__AsumaUltimateChoice_enableSkill)
        return false
    endfunction 
    
    function s__AsumaUltimateChoice_actions takes nothing returns nothing
        if GetTriggerUnit() != udg_InoMental and GetUnitAbilityLevel(GetTriggerUnit(), s__AsumaUltimateChoice_HIEN) == 0 and GetUnitAbilityLevel(GetTriggerUnit(), s__AsumaUltimateChoice_KATON) == 0 then
            set s__AsumaUltimateChoice_d=s__Dialog_create()
            call s__Dialog__set_title(s__AsumaUltimateChoice_d,"Pick a skill")
            set s__s__AsumaUltimateChoice_b[0]= (DialogAddButton(s__Dialog_dg[(s__AsumaUltimateChoice_d)], ("Hien" ), ( 0))) // INLINED!!
            set s__s__AsumaUltimateChoice_b[1]= (DialogAddButton(s__Dialog_dg[(s__AsumaUltimateChoice_d)], ("Katon: Haisenkisho" ), ( 1))) // INLINED!!
            call s__Dialog_display(s__AsumaUltimateChoice_d,GetTriggerPlayer() , true)
            call s__Dialog_registerClickEvent(s__AsumaUltimateChoice_d,s__AsumaUltimateChoice_pick)
            set s__AsumaUltimateChoice_u=GetTriggerUnit()
            //set picked = true 
        endif
    endfunction
    
    function s__AsumaUltimateChoice_learn takes nothing returns nothing
        if GetLearnedSkill() == 'A0AN' then
            set s__AsumaUltimateChoice_p=GetTriggerPlayer()
        endif
    endfunction 
    
    function s__AsumaUltimateChoice_onInit takes nothing returns nothing
        set s__AsumaUltimateChoice_pick=Condition(function s__AsumaUltimateChoice_pickSkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_SKILL ) , Filter(( function s__AsumaUltimateChoice_learn))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0AN' ) , Filter(( function s__AsumaUltimateChoice_actions))) // INLINED!!
    endfunction 
    
//end of: UltimateChoice("Asuma", "A0AN", "A0WB", "HIEN", "Hien", "A0GH", "KATON", "Katon: Haisenkisho")

//===========================================================================
// Trigger: AsumaChakraBladesPassive
//===========================================================================

 function s__AsumaChakraBladesPassive_periodic takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
		if GetUnitAbilityLevel(u, 'A0WB') > 0 then
			call SetPlayerAbilityAvailableBJ(false, 'A0M4', GetOwningPlayer(u))
			call UnitAddAbility(u, 'A00Z')
			call AddUnitAnimationProperties(u, "alternate", true)
			call ReleaseTimer(GetExpiredTimer())
		elseif GetUnitAbilityLevel(u, 'A0GH') > 0 then
			call ReleaseTimer(GetExpiredTimer())
		endif
		set u=null
 endfunction 

 function s__AsumaChakraBladesPassive_actions takes nothing returns nothing
		call TimerStartEx(NewTimerEx((GetUnitUserData((GetTriggerUnit())))) , 1.0 , true , function s__AsumaChakraBladesPassive_periodic , "AsumaChakraBladesPassive_periodic") // INLINED!!
 endfunction 

 function s__AsumaChakraBladesPassive_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(13 , 'A0AN' , function s__AsumaChakraBladesPassive_actions)
 endfunction 

//===========================================================================
// Trigger: AsumaLevel
//===========================================================================



 function s__AsumaLevel_periodic takes nothing returns nothing
		if s__AsumaLevel_asuma == null then
			call ReleaseTimer(GetExpiredTimer())
		endif
		if GetHeroLevel(s__AsumaLevel_asuma) >= 15 and GetUnitAbilityLevel(s__AsumaLevel_asuma, 'A05N') > 0 then
			call SetUnitAbilityLevel(s__AsumaLevel_asuma, 'A05N', 2)
			call ReleaseTimer(GetExpiredTimer())
		elseif GetHeroLevel(s__AsumaLevel_asuma) >= 15 and GetUnitAbilityLevel(s__AsumaLevel_asuma, 'A13A') > 0 then
			call SetUnitAbilityLevel(s__AsumaLevel_asuma, 'A13A', 2)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 
	
 function s__AsumaLevel_leave takes nothing returns nothing
		if GetUnitTypeId(GetLeavingUnit()) == 'H03D' then
			set s__AsumaLevel_asuma=GetLeavingUnit()
			call TimerStartEx((NewTimerEx(0)) , 1.0 , true , function s__AsumaLevel_periodic , "AsumaLevel_periodic") // INLINED!!
		endif
 endfunction

 function s__AsumaLevel_onInit takes nothing returns nothing
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__AsumaLevel_leave))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: Boruto Stream
//===========================================================================

//Implemented from module Alloc:
    
        function s__BorutoStream_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__BorutoStream_Alloc__recycle[(0)] == 0 ) then
                set s__BorutoStream_Alloc__instanceCount=s__BorutoStream_Alloc__instanceCount + 1
                set this=s__BorutoStream_Alloc__instanceCount
            else
                set this=s__BorutoStream_Alloc__recycle[(0)]
                set s__BorutoStream_Alloc__recycle[(0)]=s__BorutoStream_Alloc__recycle[s__BorutoStream_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__BorutoStream_deallocate takes integer this returns nothing
            set s__BorutoStream_Alloc__recycle[this]=s__BorutoStream_Alloc__recycle[(0)]
            set s__BorutoStream_Alloc__recycle[(0)]=this
        endfunction
    
    function s__BorutoStream_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__BorutoStream_caster[this])
        local real y= GetUnitY(s__BorutoStream_caster[this])
        local real angle= Atan3(x , y , s__BorutoStream_cx[this] , s__BorutoStream_cy[this])
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 60)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 60)*1.0)) // INLINED!!
        local real distance= GetDistance(new_x , new_y , s__BorutoStream_cx[this] , s__BorutoStream_cy[this])
	if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
        	call SetUnitX(s__BorutoStream_caster[this], new_x)
        	call SetUnitY(s__BorutoStream_caster[this], new_y)
	else
		call UnitRemoveAbility(s__BorutoStream_dummy[this], 'A091')
                call RecycleUnit(s__BorutoStream_dummy[this])
                set s__BorutoStream_dummy[this]=null
                //call SetUnitInvulnerable(this.caster, false)
                //call ShowUnit(this.caster, true) 
                call SelectUnitForPlayerSingle(s__BorutoStream_caster[this], GetOwningPlayer(s__BorutoStream_caster[this]))
                call PauseUnit(s__BorutoStream_caster[this], false)
                call SetUnitAnimation(s__BorutoStream_caster[this], "stand")
                call s__BorutoStream_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
	endif
        call SetUnitFacing(s__BorutoStream_caster[this], Rad2Deg(angle))
        call SetUnitX(s__BorutoStream_dummy[this], new_x)
        call SetUnitY(s__BorutoStream_dummy[this], new_y)
        call SetUnitFacing(s__BorutoStream_dummy[this], Rad2Deg(angle))
        set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(s__BorutoStream_caster[this]) ), ( 'h06P' ), (( x )*1.0), (( y )*1.0), (( Rad2Deg(angle))*1.0))) // INLINED!!
        call SetUnitX(bj_lastCreatedUnit, x)
        call SetUnitY(bj_lastCreatedUnit, y)
        call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 150)
        call SetUnitTimeScale(bj_lastCreatedUnit, 3.0)
        call SetUnitAnimation(bj_lastCreatedUnit, "spell three")
        call RecycleUnitDelayed(bj_lastCreatedUnit , 0.15)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__BorutoStream_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__BorutoStream_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                call UnitDamageTarget(s__BorutoStream_caster[this], bj_lastCreatedUnit, GetHeroAgi(s__BorutoStream_caster[this], true) * GetUnitAbilityLevel(s__BorutoStream_caster[this], s__BorutoStream_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                call GroupAddUnit(s__BorutoStream_damaged[this], bj_lastCreatedUnit)
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if distance <= 100 then
            if s__BorutoStream_waves[this] == 0 then
                set s__BorutoStream_cx[this]=s__BorutoStream_p2x[this]
                set s__BorutoStream_cy[this]=s__BorutoStream_p2y[this]
                set s__BorutoStream_waves[this]=s__BorutoStream_waves[this] + 1
            elseif s__BorutoStream_waves[this] == 1 then
                set s__BorutoStream_cx[this]=s__BorutoStream_p3x[this]
                set s__BorutoStream_cy[this]=s__BorutoStream_p3y[this]
                set s__BorutoStream_waves[this]=s__BorutoStream_waves[this] + 1
            elseif s__BorutoStream_waves[this] == 2 then
                set s__BorutoStream_cx[this]=s__BorutoStream_p4x[this]
                set s__BorutoStream_cy[this]=s__BorutoStream_p4y[this]
                set s__BorutoStream_waves[this]=s__BorutoStream_waves[this] + 1
            else
                call UnitRemoveAbility(s__BorutoStream_dummy[this], 'A091')
                call RecycleUnit(s__BorutoStream_dummy[this])
                set s__BorutoStream_dummy[this]=null
                //call SetUnitInvulnerable(this.caster, false)
                //call ShowUnit(this.caster, true) 
                call SelectUnitForPlayerSingle(s__BorutoStream_caster[this], GetOwningPlayer(s__BorutoStream_caster[this]))
                call PauseUnit(s__BorutoStream_caster[this], false)
                call SetUnitAnimation(s__BorutoStream_caster[this], "stand")
                call s__BorutoStream_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction 
    
    function s__BorutoStream_actions takes nothing returns nothing
        local integer this= s__BorutoStream_allocate()
        set s__BorutoStream_caster[this]=GetTriggerUnit()
        set s__BorutoStream_count[this]=0
        set s__BorutoStream_waves[this]=0
        set s__BorutoStream_angle[this]=Atan3(GetUnitX(s__BorutoStream_caster[this]) , GetUnitY(s__BorutoStream_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        
        set s__BorutoStream_p1x[this]=(((GetUnitX(s__BorutoStream_caster[this]) )*1.0) + Cos((( s__BorutoStream_angle[this] )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__BorutoStream_p1x[this]=(((s__BorutoStream_p1x[this] )*1.0) + Cos((( Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__BorutoStream_p1y[this]=(((GetUnitY(s__BorutoStream_caster[this]) )*1.0) + Sin((( s__BorutoStream_angle[this] )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__BorutoStream_p1y[this]=(((s__BorutoStream_p1y[this] )*1.0) + Sin((( Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        
        set s__BorutoStream_p2x[this]=(((GetUnitX(s__BorutoStream_caster[this]) )*1.0) + Cos((( s__BorutoStream_angle[this] )*1.0)) * (( 400)*1.0)) // INLINED!!
        set s__BorutoStream_p2x[this]=(((s__BorutoStream_p2x[this] )*1.0) + Cos((( Deg2Rad(- 90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__BorutoStream_p2y[this]=(((GetUnitY(s__BorutoStream_caster[this]) )*1.0) + Sin((( s__BorutoStream_angle[this] )*1.0)) * (( 400)*1.0)) // INLINED!!
        set s__BorutoStream_p2y[this]=(((s__BorutoStream_p2y[this] )*1.0) + Sin((( Deg2Rad(- 90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        
        set s__BorutoStream_p3x[this]=(((GetUnitX(s__BorutoStream_caster[this]) )*1.0) + Cos((( s__BorutoStream_angle[this] )*1.0)) * (( 600)*1.0)) // INLINED!!
        set s__BorutoStream_p3x[this]=(((s__BorutoStream_p3x[this] )*1.0) + Cos((( Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__BorutoStream_p3y[this]=(((GetUnitY(s__BorutoStream_caster[this]) )*1.0) + Sin((( s__BorutoStream_angle[this] )*1.0)) * (( 600)*1.0)) // INLINED!!
        set s__BorutoStream_p3y[this]=(((s__BorutoStream_p3y[this] )*1.0) + Sin((( Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        
        set s__BorutoStream_p4x[this]=(((GetUnitX(s__BorutoStream_caster[this]) )*1.0) + Cos((( s__BorutoStream_angle[this] )*1.0)) * (( 800)*1.0)) // INLINED!!
        set s__BorutoStream_p4y[this]=(((GetUnitY(s__BorutoStream_caster[this]) )*1.0) + Sin((( s__BorutoStream_angle[this] )*1.0)) * (( 800)*1.0)) // INLINED!!
        
        set s__BorutoStream_cx[this]=s__BorutoStream_p1x[this]
        set s__BorutoStream_cy[this]=s__BorutoStream_p1y[this]
        
        set s__BorutoStream_damaged[this]=CreateGroup()
        
        call PauseUnit(s__BorutoStream_caster[this], true)
        set s__BorutoStream_dummy[this]=(CreateUnit((GetOwningPlayer(s__BorutoStream_caster[this]) ), ( 'h06P' ), (( GetUnitX(s__BorutoStream_caster[this]) )*1.0), (( GetUnitY(s__BorutoStream_caster[this]) )*1.0), (( GetUnitFacing(s__BorutoStream_caster[this]))*1.0))) // INLINED!!
        call UnitAddAbility(s__BorutoStream_dummy[this], 'A091')
        call SetUnitAnimation(s__BorutoStream_dummy[this], "spell three")
        //call ShowUnit(this.caster, false)
        //call SetUnitInvulnerable(this.caster, true )
        call TimerStart(NewTimerEx(this), 0.03, true, function s__BorutoStream_periodic)
    endfunction 
    
    function s__BorutoStream_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__BorutoStream_SPELL_ID ) , Filter(( function s__BorutoStream_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: BorutoFarm
//===========================================================================

//Implemented from module Alloc:
    
        function s__BorutoFarm_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__BorutoFarm_Alloc__recycle[(0)] == 0 ) then
                set s__BorutoFarm_Alloc__instanceCount=s__BorutoFarm_Alloc__instanceCount + 1
                set this=s__BorutoFarm_Alloc__instanceCount
            else
                set this=s__BorutoFarm_Alloc__recycle[(0)]
                set s__BorutoFarm_Alloc__recycle[(0)]=s__BorutoFarm_Alloc__recycle[s__BorutoFarm_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__BorutoFarm_deallocate takes integer this returns nothing
            set s__BorutoFarm_Alloc__recycle[this]=s__BorutoFarm_Alloc__recycle[(0)]
            set s__BorutoFarm_Alloc__recycle[(0)]=this
        endfunction
    
    function s__BorutoFarm_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= Atan3(GetUnitX(s__BorutoFarm_lightning[this]) , GetUnitY(s__BorutoFarm_lightning[this]) , GetUnitX(s__BorutoFarm_target[this]) , GetUnitY(s__BorutoFarm_target[this]))
        local real x= (((GetUnitX(s__BorutoFarm_lightning[this]) )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real y= (((GetUnitY(s__BorutoFarm_lightning[this]) )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__BorutoFarm_lightning[this], x)
        call SetUnitY(s__BorutoFarm_lightning[this], y)
	call SetUnitX(s__BorutoFarm_shuriken[this], x)
	call SetUnitY(s__BorutoFarm_shuriken[this], y)
        if GetDistanceUnits(s__BorutoFarm_lightning[this] , s__BorutoFarm_target[this]) < 100 then
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\Yellow Blink.mdl" ), (( GetUnitX(s__BorutoFarm_target[this]) )*1.0), (( GetUnitY(s__BorutoFarm_target[this]))*1.0))) // INLINED!!
	    call UnitDamageTarget(s__BorutoFarm_caster[this], s__BorutoFarm_target[this], 90 * GetUnitAbilityLevel(s__BorutoFarm_caster[this], s__BorutoFarm_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
            call KillUnit(s__BorutoFarm_lightning[this])
            call ShowUnit(s__BorutoFarm_lightning[this], false)
            call KillUnit(s__BorutoFarm_shuriken[this])
            call ShowUnit(s__BorutoFarm_shuriken[this], false)
            set s__BorutoFarm_lightning[this]=null
            set s__BorutoFarm_target[this]=null
            call s__BorutoFarm_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__BorutoFarm_actions takes nothing returns nothing
        local integer this
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 400, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                set this=s__BorutoFarm_allocate()
                set s__BorutoFarm_caster[this]=GetTriggerUnit()
                set s__BorutoFarm_target[this]=bj_lastCreatedUnit
                set s__BorutoFarm_lightning[this]=CreateUnit(GetTriggerPlayer(), 'n035', GetUnitX(s__BorutoFarm_caster[this]), GetUnitY(s__BorutoFarm_caster[this]), 270)
        	call SetUnitFacing(s__BorutoFarm_lightning[this], GetUnitFacing(s__BorutoFarm_caster[this]))
		set s__BorutoFarm_shuriken[this]=CreateUnit(GetTriggerPlayer(), 'n036', GetUnitX(s__BorutoFarm_caster[this]), GetUnitY(s__BorutoFarm_caster[this]), 270)
                call TimerStart(NewTimerEx(this), 0.03, true, function s__BorutoFarm_periodic)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    endfunction 
    
    function s__BorutoFarm_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__BorutoFarm_SPELL_ID ) , Filter(( function s__BorutoFarm_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: BorutoClone
//===========================================================================

    
 function s__BorutoClone_dealDamage takes nothing returns boolean
			if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__BorutoClone_caster[s__BorutoClone_instance])) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetWidgetLife(GetFilterUnit()) > 0.405 then
				call UnitDamageTarget(s__BorutoClone_caster[s__BorutoClone_instance], GetFilterUnit(), 50 * GetUnitAbilityLevel(s__BorutoClone_caster[s__BorutoClone_instance], s__BorutoClone_SPELL_ID) + GetHeroAgi(s__BorutoClone_caster[s__BorutoClone_instance], true) / 2 * GetUnitAbilityLevel(s__BorutoClone_caster[s__BorutoClone_instance], s__BorutoClone_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
				call StunUnitTimed(s__BorutoClone_caster[s__BorutoClone_instance] , GetFilterUnit() , 1.5)
			endif
	    return false
 endfunction

    function s__BorutoClone_destroy takes integer this returns nothing
	call KillUnit(s__BorutoClone_clone[this])
	call ShowUnit(s__BorutoClone_clone[this], false)
        set s__BorutoClone_caster[this]=null
        set s__BorutoClone_target[this]=null
        set s__BorutoClone_clone[this]=null
        call s__BorutoClone_deallocate(this)
    endfunction

 function s__BorutoClone_knockback takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__BorutoClone_target[this])
  local real y= GetUnitY(s__BorutoClone_target[this])
  local real angle= Atan3(GetUnitX(s__BorutoClone_clone[this]) , GetUnitY(s__BorutoClone_clone[this]) , GetUnitX(s__BorutoClone_target[this]) , GetUnitY(s__BorutoClone_target[this]))
  local real new_x= (((x )*1.0) + Cos((( s__BorutoClone_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__BorutoClone_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
		call KillUnit(s__BorutoClone_clone[this])
	  	call ShowUnit(s__BorutoClone_clone[this], false)
		if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
			call SetUnitX(s__BorutoClone_target[this], new_x)
			call SetUnitY(s__BorutoClone_target[this], new_y)
		endif
		set s__BorutoClone_count[this]=s__BorutoClone_count[this] + 1
		if s__BorutoClone_count[this] > 10 then
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( GetUnitX(s__BorutoClone_target[this]) )*1.0), (( GetUnitY(s__BorutoClone_target[this]))*1.0))) // INLINED!!
            		call s__BorutoClone_destroy(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 


    function s__BorutoClone_delay2 takes nothing returns nothing
         local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__BorutoClone_knockback , "BorutoClone_knockback")
    endfunction



 function s__BorutoClone_damage takes nothing returns nothing
   local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
          local real x= GetUnitX(s__BorutoClone_target[this])
          local real y= GetUnitY(s__BorutoClone_target[this])
          local real new_x
          local real new_y
          call SetUnitAnimation(s__BorutoClone_clone[this], "Spell Five")
          call SetUnitFacing(s__BorutoClone_clone[this], GetUnitFacing(s__BorutoClone_target[this]))
	  set bj_lastCreatedGroup=CreateGroup()
	  set s__BorutoClone_instance=this
	  set s__BorutoClone_count[this]=0
	  call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__BorutoClone_target[this]), GetUnitY(s__BorutoClone_target[this]), 200, Filter(function s__BorutoClone_dealDamage))
 	  call DestroyGroup(bj_lastCreatedGroup)
          call TimerStartEx(NewTimerEx(this) , 0.3 , false , function s__BorutoClone_delay2 , "BorutoClone_delay2")
	  call ReleaseTimer(GetExpiredTimer())
 endfunction 
	
    function s__BorutoClone_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__BorutoClone_dummy[this])
        local real y= GetUnitY(s__BorutoClone_dummy[this])
        local real new_x= (((x )*1.0) + Cos((( s__BorutoClone_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__BorutoClone_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local unit u= null
        set s__BorutoClone_count[this]=s__BorutoClone_count[this] + 1
        call SetUnitX(s__BorutoClone_dummy[this], new_x)
        call SetUnitY(s__BorutoClone_dummy[this], new_y)
        call SetUnitX(s__BorutoClone_clone[this], new_x)
        call SetUnitY(s__BorutoClone_clone[this], new_y)
	call SetUnitAnimationByIndex(s__BorutoClone_clone[this], 10)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 180.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__BorutoClone_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                set s__BorutoClone_target[this]=bj_lastCreatedUnit
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set u=bj_lastCreatedUnit
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if u != null then
            set s__BorutoClone_target[this]=u
            call TimerStart(NewTimerEx(this), .02, false, function s__BorutoClone_damage)
            call ReleaseTimer(GetExpiredTimer())
        elseif s__BorutoClone_count[this] > 23 then
            if s__BorutoClone_target[this] != null then
        	call KillUnit(s__BorutoClone_clone[this])
		call ShowUnit(s__BorutoClone_clone[this], false)
                call s__BorutoClone_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            else
        	call KillUnit(s__BorutoClone_clone[this])
		call ShowUnit(s__BorutoClone_clone[this], false)
                call s__BorutoClone_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction

    function s__BorutoClone_delay takes nothing returns nothing
         local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__BorutoClone_periodic , "BorutoClone_periodic")
    endfunction

    function s__BorutoClone_actions takes nothing returns nothing
        local integer this= s__BorutoClone__allocate()
        set s__BorutoClone_caster[this]=GetTriggerUnit()
        set s__BorutoClone_target_x[this]=GetSpellTargetX()
        set s__BorutoClone_target_y[this]=GetSpellTargetY()
        set s__BorutoClone_target[this]=null
        set s__BorutoClone_angle[this]=Atan3(GetUnitX(s__BorutoClone_caster[this]) , GetUnitY(s__BorutoClone_caster[this]) , s__BorutoClone_target_x[this] , s__BorutoClone_target_y[this])
        set s__BorutoClone_count[this]=0
	set s__BorutoClone_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__BorutoClone_caster[this]), GetUnitY(s__BorutoClone_caster[this]), 270)
        set s__BorutoClone_clone[this]=CreateUnit(GetTriggerPlayer(), 'h03Y', GetUnitX(s__BorutoClone_caster[this]), GetUnitY(s__BorutoClone_caster[this]), Rad2Deg(Atan3(GetUnitX(s__BorutoClone_caster[this]) , GetUnitY(s__BorutoClone_caster[this]) , GetSpellTargetX() , GetSpellTargetY())))
        call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( GetUnitX(s__BorutoClone_clone[this]) )*1.0), (( GetUnitY(s__BorutoClone_clone[this]))*1.0))) // INLINED!!
        call AddSpecialEffectTarget("war3mapImported\\lxw jhxcom_2000.mdx", s__BorutoClone_clone[this], "right hand")
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.0)
	call BlzSetSpecialEffectColor(bj_lastCreatedEffect, 60, 24, 80)
	call SetUnitX(s__BorutoClone_dummy[this], GetUnitX(s__BorutoClone_caster[this]))
        call SetUnitY(s__BorutoClone_dummy[this], GetUnitY(s__BorutoClone_caster[this]))
        call SetUnitAnimation(s__BorutoClone_caster[this], "Spell")
        set s__BorutoClone_target[this]=null
        call TimerStartEx(NewTimerEx(this) , 0.2 , false , function s__BorutoClone_delay , "BorutoClone_delay")
    endfunction
    
    function s__BorutoClone_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__BorutoClone_SPELL_ID ) , Filter(( function s__BorutoClone_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: BorutoRasengan
//===========================================================================

    
 function s__BorutoRasengan_dealDamage takes nothing returns boolean
                	if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__BorutoRasengan_caster[s__BorutoRasengan_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
				call UnitDamageTarget(s__BorutoRasengan_caster[s__BorutoRasengan_instance], GetFilterUnit(), ( 650 + 2 * GetHeroAgi(s__BorutoRasengan_caster[s__BorutoRasengan_instance], true) ) * GetUnitAbilityLevel(s__BorutoRasengan_caster[s__BorutoRasengan_instance], s__BorutoRasengan_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				//call StunUnitTimed(instance.caster, GetFilterUnit(), 1.0)
			endif
    	return false
 endfunction
	
    function s__BorutoRasengan_destroy takes integer this returns nothing
	//call AddSpecialEffectEx("RasenganExplosion.mdl", GetUnitX(this.spike), GetUnitY(this.spike))
	set bj_lastCreatedEffect=AddSpecialEffect("RasenganExplosion.mdl", GetUnitX(s__BorutoRasengan_spike[this]), GetUnitY(s__BorutoRasengan_spike[this]))
        call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, GetRandomReal(0.6, 0.7))
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, GetRandomReal(0.3, 0.4))
        call DestroyEffect(bj_lastCreatedEffect)
        call KillUnit(s__BorutoRasengan_spike[this])
	call ShowUnit(s__BorutoRasengan_spike[this], false)
        call KillUnit(s__BorutoRasengan_dummy[this])
        set s__BorutoRasengan_caster[this]=null
        set s__BorutoRasengan_target[this]=null
        set s__BorutoRasengan_spike[this]=null
        call s__BorutoRasengan_deallocate(this)
    endfunction
    
 function s__BorutoRasengan_damage takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set bj_lastCreatedGroup=CreateGroup()
		set s__BorutoRasengan_instance=this
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__BorutoRasengan_target[this]), GetUnitY(s__BorutoRasengan_target[this]), 400, Filter(function s__BorutoRasengan_dealDamage))
		call DestroyGroup(bj_lastCreatedGroup)
		call s__BorutoRasengan_destroy(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 
	
    function s__BorutoRasengan_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__BorutoRasengan_spike[this])
        local real y= GetUnitY(s__BorutoRasengan_spike[this])
        local real new_x= (((x )*1.0) + Cos((( s__BorutoRasengan_angle[this] )*1.0)) * (( 34.5)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__BorutoRasengan_angle[this] )*1.0)) * (( 34.5)*1.0)) // INLINED!!
        local unit u= null
        set s__BorutoRasengan_count[this]=s__BorutoRasengan_count[this] + 1
        call SetUnitX(s__BorutoRasengan_spike[this], new_x)
        call SetUnitY(s__BorutoRasengan_spike[this], new_y)
        call SetUnitX(s__BorutoRasengan_dummy[this], new_x)
        call SetUnitY(s__BorutoRasengan_dummy[this], new_y)
	if s__BorutoRasengan_count[this] > 5 then
	  call ShowUnit(s__BorutoRasengan_spike[this], false)
	endif
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 200.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__BorutoRasengan_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                set s__BorutoRasengan_target[this]=bj_lastCreatedUnit
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set u=bj_lastCreatedUnit
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if u != null then
            set s__BorutoRasengan_target[this]=u
            call TimerStart(NewTimerEx(this), 0.03, false, function s__BorutoRasengan_damage)
            call ReleaseTimer(GetExpiredTimer())
        elseif s__BorutoRasengan_count[this] > 23 then
            if s__BorutoRasengan_target[this] != null then
                call PauseUnit(s__BorutoRasengan_caster[this], false)
                call TimerStart(NewTimerEx(this), 0.03, false, function s__BorutoRasengan_damage)
                call ReleaseTimer(GetExpiredTimer())
            else
                call s__BorutoRasengan_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction
   

    function s__BorutoRasengan_actions takes nothing returns nothing
        local integer this= s__BorutoRasengan__allocate()
        set s__BorutoRasengan_caster[this]=GetTriggerUnit()
        set s__BorutoRasengan_target_x[this]=GetSpellTargetX()
        set s__BorutoRasengan_target_y[this]=GetSpellTargetY()
        set s__BorutoRasengan_target[this]=null
        set s__BorutoRasengan_angle[this]=Atan3(GetUnitX(s__BorutoRasengan_caster[this]) , GetUnitY(s__BorutoRasengan_caster[this]) , s__BorutoRasengan_target_x[this] , s__BorutoRasengan_target_y[this])
        set s__BorutoRasengan_count[this]=0
        set s__BorutoRasengan_spike[this]=CreateUnit(GetTriggerPlayer(), 'h06R', GetUnitX(s__BorutoRasengan_caster[this]), GetUnitY(s__BorutoRasengan_caster[this]), 270.0)
	set s__BorutoRasengan_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__BorutoRasengan_caster[this]), GetUnitY(s__BorutoRasengan_caster[this]), 270.0)
        call UnitAddAbility(s__BorutoRasengan_dummy[this], 'Alsi')
        call SetUnitX(s__BorutoRasengan_spike[this], GetUnitX(s__BorutoRasengan_caster[this]))
        call SetUnitY(s__BorutoRasengan_spike[this], GetUnitY(s__BorutoRasengan_caster[this]))
        call SetUnitX(s__BorutoRasengan_dummy[this], GetUnitX(s__BorutoRasengan_caster[this]))
        call SetUnitY(s__BorutoRasengan_dummy[this], GetUnitY(s__BorutoRasengan_caster[this]))
        call SetUnitAnimation(s__BorutoRasengan_caster[this], "Spell Alternate")
        set s__BorutoRasengan_target[this]=null
        call TimerStartEx(NewTimerEx(this) , 0.05 , true , function s__BorutoRasengan_periodic , "BorutoRasengan_periodic")
    endfunction
    
    function s__BorutoRasengan_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__BorutoRasengan_SPELL_ID ) , Filter(( function s__BorutoRasengan_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: Oyako Rasengan
//===========================================================================
// scope BorutoOyakoRasengan begins

    
//Implemented from module Alloc:
    
        function s__BorutoOyakoRasengan__Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__BorutoOyakoRasengan__Spell_Alloc__recycle[(0)] == 0 ) then
                set s__BorutoOyakoRasengan__Spell_Alloc__instanceCount=s__BorutoOyakoRasengan__Spell_Alloc__instanceCount + 1
                set this=s__BorutoOyakoRasengan__Spell_Alloc__instanceCount
            else
                set this=s__BorutoOyakoRasengan__Spell_Alloc__recycle[(0)]
                set s__BorutoOyakoRasengan__Spell_Alloc__recycle[(0)]=s__BorutoOyakoRasengan__Spell_Alloc__recycle[s__BorutoOyakoRasengan__Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__BorutoOyakoRasengan__Spell_deallocate takes integer this returns nothing
            set s__BorutoOyakoRasengan__Spell_Alloc__recycle[this]=s__BorutoOyakoRasengan__Spell_Alloc__recycle[(0)]
            set s__BorutoOyakoRasengan__Spell_Alloc__recycle[(0)]=this
        endfunction
    

        function s__BorutoOyakoRasengan__Spell_dealDamage takes nothing returns boolean
                if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__BorutoOyakoRasengan__Spell_caster[s__BorutoOyakoRasengan__Spell_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
                    call UnitDamageTarget(s__BorutoOyakoRasengan__Spell_caster[s__BorutoOyakoRasengan__Spell_instance], GetFilterUnit(), ( 10.0 * GetHeroAgi(s__BorutoOyakoRasengan__Spell_caster[s__BorutoOyakoRasengan__Spell_instance], true) ) / 1.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                endif
		    return false
  endfunction
        
        function s__BorutoOyakoRasengan__Spell_destroy takes integer this returns nothing
	    set bj_lastCreatedEffect=AddSpecialEffect("RasenganExplosion.mdl", GetUnitX(s__BorutoOyakoRasengan__Spell_caster[this]), GetUnitY(s__BorutoOyakoRasengan__Spell_caster[this]))
      	    call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, GetRandomReal(1.8, 1.9))
            call BlzSetSpecialEffectScale(bj_lastCreatedEffect, GetRandomReal(0.6, 0.7))
            call DestroyEffect(bj_lastCreatedEffect)
            call KillUnit(s__BorutoOyakoRasengan__Spell_stunUnit[this])
            set s__BorutoOyakoRasengan__Spell_stunUnit[this]=null
            call DestroyEffect(s__BorutoOyakoRasengan__Spell_rasengan[this])
            call SetUnitTimeScale(s__BorutoOyakoRasengan__Spell_caster[this], 1.0)
            call PauseUnit(s__BorutoOyakoRasengan__Spell_caster[this], false)
            call SetUnitAnimation(s__BorutoOyakoRasengan__Spell_caster[this], "stand")
            call SetUnitFlyHeight(s__BorutoOyakoRasengan__Spell_caster[this], 0, 0)
            set s__BorutoOyakoRasengan__Spell_caster[this]=null
            set s__BorutoOyakoRasengan__Spell_rasengan[this]=null
            call s__BorutoOyakoRasengan__Spell_deallocate(this)
        endfunction
        
        function s__BorutoOyakoRasengan__Spell_damagePeriodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local integer i
            local integer j
            local real new_x
            local real new_y
            local real scale
            set s__BorutoOyakoRasengan__Spell_count[this]=s__BorutoOyakoRasengan__Spell_count[this] + 1
            if s__BorutoOyakoRasengan__Spell_count[this] == 30 then
                call SetUnitAnimation(s__BorutoOyakoRasengan__Spell_caster[this], "spell four")
            endif
            if ModuloInteger(s__BorutoOyakoRasengan__Spell_count[this], 10) == 0 then
                set i=0
                loop
                    set i=i + 1
                    set j=0
                    loop
                        set j=j + 1
                        exitwhen j > 10
                        set new_x=(((s__BorutoOyakoRasengan__Spell_target_x[this] )*1.0) + Cos((( Deg2Rad(36 * j) )*1.0)) * (( 50 + 100 * i)*1.0)) // INLINED!!
                        set new_y=(((s__BorutoOyakoRasengan__Spell_target_y[this] )*1.0) + Sin((( Deg2Rad(36 * j) )*1.0)) * (( 50 + 100 * i)*1.0)) // INLINED!!
                        //call AddSpecialEffectEx("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", new_x, new_y)
                        call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                        if i == 1 then
                            call DestroyEffect(AddSpecialEffect(("Energy Release.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                        endif
                    endloop
                    exitwhen i > 2
                endloop
                
            endif
            if ModuloInteger(s__BorutoOyakoRasengan__Spell_count[this], 5) == 0 then
                call IssueImmediateOrder(s__BorutoOyakoRasengan__Spell_stunUnit[this], "stomp")
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__BorutoOyakoRasengan__Spell_caster[this]), 'e015', s__BorutoOyakoRasengan__Spell_target_x[this], s__BorutoOyakoRasengan__Spell_target_y[this], GetRandomReal(0, 360))
                call SetUnitX(bj_lastCreatedUnit, s__BorutoOyakoRasengan__Spell_target_x[this])
                call SetUnitY(bj_lastCreatedUnit, s__BorutoOyakoRasengan__Spell_target_y[this])
                call SetUnitTimeScale(bj_lastCreatedUnit, 1.5)
                call SetUnitVertexColor((bj_lastCreatedUnit ), ( 100 ), ( 100 ), ( 200 ), ( 150)) // INLINED!!
                call SetUnitScale(bj_lastCreatedUnit, 1.5, 1.5, 1.5)
                call KillUnit(bj_lastCreatedUnit)
            endif
            set bj_lastCreatedGroup=CreateGroup()
			set s__BorutoOyakoRasengan__Spell_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__BorutoOyakoRasengan__Spell_target_x[this], s__BorutoOyakoRasengan__Spell_target_y[this], 400.0, Filter(function s__BorutoOyakoRasengan__Spell_dealDamage))
            call DestroyGroup(bj_lastCreatedGroup)
            if s__BorutoOyakoRasengan__Spell_count[this] > 0 then
                set i=0
                loop
                    set i=i + 1
                    exitwhen i > 10
                    set new_x=s__BorutoOyakoRasengan__Spell_target_x[this] + Cos(Deg2Rad(36 * i)) * 150
                    set new_y=s__BorutoOyakoRasengan__Spell_target_y[this] + Sin(Deg2Rad(36 * i)) * 150
                    //call AddSpecialEffectEx("Energy Release.mdl", new_x, new_y)
                    call DestroyEffect(AddSpecialEffect(("war3mapImported\\slam.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    call DestroyEffect(AddSpecialEffect(("Effects\\s_Earth_Smash.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                endloop
                call s__BorutoOyakoRasengan__Spell_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction 
        
        function s__BorutoOyakoRasengan__Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real caster_x= GetUnitX(s__BorutoOyakoRasengan__Spell_caster[this])
            local real caster_y= GetUnitY(s__BorutoOyakoRasengan__Spell_caster[this])
            local real angle= Atan2(( s__BorutoOyakoRasengan__Spell_target_y[this] - GetUnitY(s__BorutoOyakoRasengan__Spell_caster[this]) ), ( s__BorutoOyakoRasengan__Spell_target_x[this] - GetUnitX(s__BorutoOyakoRasengan__Spell_caster[this]) ))
            local real new_x= caster_x + Cos(angle) * 30
            local real new_y= caster_y + Sin(angle) * 30
            local real distance_x= s__BorutoOyakoRasengan__Spell_target_x[this] - new_x
            local real distance_y= s__BorutoOyakoRasengan__Spell_target_y[this] - new_y
            local real distance= SquareRoot(distance_x * distance_x + distance_y * distance_y)
            local integer i= 0
            call SetUnitX(s__BorutoOyakoRasengan__Spell_caster[this], new_x)
            call SetUnitY(s__BorutoOyakoRasengan__Spell_caster[this], new_y)
            call SetUnitFacing(s__BorutoOyakoRasengan__Spell_caster[this], Rad2Deg(angle))
            call UnitAddAbility(s__BorutoOyakoRasengan__Spell_caster[this], 'Arav')
            call SetUnitFlyHeight(s__BorutoOyakoRasengan__Spell_caster[this], Parabola(0 , 0 , 300 , s__BorutoOyakoRasengan__Spell_distance[this] , s__BorutoOyakoRasengan__Spell_distance[this] - distance), 0)
            call UnitRemoveAbility(s__BorutoOyakoRasengan__Spell_caster[this], 'Arav')
            if distance <= 100 then
                set s__BorutoOyakoRasengan__Spell_count[this]=0
                set s__BorutoOyakoRasengan__Spell_stunUnit[this]=CreateUnit(GetOwningPlayer(s__BorutoOyakoRasengan__Spell_caster[this]), 'h02R', GetUnitX(s__BorutoOyakoRasengan__Spell_caster[this]), GetUnitY(s__BorutoOyakoRasengan__Spell_caster[this]), 270.0)
                call SetUnitAnimation(s__BorutoOyakoRasengan__Spell_caster[this], "spell throw")
                call SetUnitFlyHeight(s__BorutoOyakoRasengan__Spell_caster[this], 0, GetUnitFlyHeight(s__BorutoOyakoRasengan__Spell_caster[this]) * 2.0)
                call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__BorutoOyakoRasengan__Spell_damagePeriodic , "KonohamaruOodamaRasengan_damagePeriodic")
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction


   function s__BorutoOyakoRasengan__Spell_delay takes nothing returns nothing
         local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__BorutoOyakoRasengan__Spell_periodic , "KonohamaruOodamaRasegan_periodic")
   endfunction


        function s__BorutoOyakoRasengan__Spell_actions takes nothing returns nothing
            local integer this= s__BorutoOyakoRasengan__Spell_allocate()
            local real distance_x
            local real distance_y
            set s__BorutoOyakoRasengan__Spell_caster[this]=GetTriggerUnit()
            set s__BorutoOyakoRasengan__Spell_target_x[this]=GetSpellTargetX()
            set s__BorutoOyakoRasengan__Spell_target_y[this]=GetSpellTargetY()
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Boruto_T, 100, GetTriggerUnit())
            endif
            call PauseUnit(s__BorutoOyakoRasengan__Spell_caster[this], true)
            call UnitAddAbility(s__BorutoOyakoRasengan__Spell_caster[this], 'Arav')
            call UnitRemoveAbility(s__BorutoOyakoRasengan__Spell_caster[this], 'Arav')
            call SetUnitAnimation(s__BorutoOyakoRasengan__Spell_caster[this], "Spell One")
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Boruto: So, this is Dad's Power. I dont feel like losing today!|r")
            endif
            set s__BorutoOyakoRasengan__Spell_rasengan[this]=AddSpecialEffectTarget("Effects\\s_Odama Rasengan.mdx", s__BorutoOyakoRasengan__Spell_caster[this], "right hand")
            set distance_x=s__BorutoOyakoRasengan__Spell_target_x[this] - GetUnitX(s__BorutoOyakoRasengan__Spell_caster[this])
            set distance_y=s__BorutoOyakoRasengan__Spell_target_y[this] - GetUnitY(s__BorutoOyakoRasengan__Spell_caster[this])
            set s__BorutoOyakoRasengan__Spell_distance[this]=SquareRoot(distance_x * distance_x + distance_y * distance_y)
       	    call TimerStart(NewTimerEx(this), 0.35, false, function s__BorutoOyakoRasengan__Spell_delay)
        endfunction
        
        function s__BorutoOyakoRasengan__Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(93 , s__BorutoOyakoRasengan__Spell_SPELL_ID , function s__BorutoOyakoRasengan__Spell_actions)
        endfunction
        
    
// scope BorutoOyakoRasengan ends
//===========================================================================
// Trigger: ChiyoTrap
//===========================================================================

//Implemented from module Alloc:
    
        function s__ChiyoTrap_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ChiyoTrap_Alloc__recycle[(0)] == 0 ) then
                set s__ChiyoTrap_Alloc__instanceCount=s__ChiyoTrap_Alloc__instanceCount + 1
                set this=s__ChiyoTrap_Alloc__instanceCount
            else
                set this=s__ChiyoTrap_Alloc__recycle[(0)]
                set s__ChiyoTrap_Alloc__recycle[(0)]=s__ChiyoTrap_Alloc__recycle[s__ChiyoTrap_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ChiyoTrap_deallocate takes integer this returns nothing
            set s__ChiyoTrap_Alloc__recycle[this]=s__ChiyoTrap_Alloc__recycle[(0)]
            set s__ChiyoTrap_Alloc__recycle[(0)]=this
        endfunction

    function s__ChiyoTrap_dealDamage takes nothing returns boolean
				if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__ChiyoTrap_caster[s__ChiyoTrap_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
					call UnitDamageTarget(s__ChiyoTrap_caster[s__ChiyoTrap_instance], GetFilterUnit(), 90 * GetUnitAbilityLevel(s__ChiyoTrap_caster[s__ChiyoTrap_instance], s__ChiyoTrap_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
				endif
	    return false
 endfunction


 function s__ChiyoTrap_destroy takes integer this returns nothing
		call DestroyGroup(s__ChiyoTrap_damaged[this])
		call KillUnit(s__ChiyoTrap_trap[this])
		call ShowUnit(s__ChiyoTrap_trap[this], false)
		set s__ChiyoTrap_trap[this]=null
		set s__ChiyoTrap_damaged[this]=null
 endfunction 

 function s__ChiyoTrap_periodic2 takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer i
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__ChiyoTrap_damaged[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			call SetUnitAnimation(bj_lastCreatedUnit, "death")
			//call UnitDamageTarget(this.caster, bj_lastCreatedUnit, 80 * GetUnitAbilityLevel(this.caster, SPELL_ID) / 66.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
			if ModuloInteger(s__ChiyoTrap_c[this], 3) == 0 then
				call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__ChiyoTrap_c[this]=s__ChiyoTrap_c[this] + 1
		if s__ChiyoTrap_c[this] > 33 then
            		//call AddSpecialEffectEx("war3mapImported\\FlameBomb.mdx", GetUnitX(this.trap), GetUnitY(this.trap))
            		//call AddSpecialEffectEx("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl", GetUnitX(this.trap), GetUnitY(this.trap))
			set bj_lastCreatedGroup=CreateGroup()
			set s__ChiyoTrap_instance=this
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__ChiyoTrap_trap[this]), GetUnitY(s__ChiyoTrap_trap[this]), 300, Filter(function s__ChiyoTrap_dealDamage))
			call DestroyGroup(bj_lastCreatedGroup)
			set i=1
            		loop
                		exitwhen i > 30
                		call GenerateRandomCircle(GetUnitX(s__ChiyoTrap_trap[this]) , GetUnitY(s__ChiyoTrap_trap[this]) , 100)
				//call AddSpecialEffectEx("Boom.mdx", GetRandomX(), GetRandomY())
                		set i=i + 1
            		endloop
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__ChiyoTrap_damaged[this])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__ChiyoTrap_damaged[this], bj_lastCreatedUnit)
				call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 255)
				call PauseUnit(bj_lastCreatedUnit, false)
			endloop
			call s__ChiyoTrap_destroy(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__ChiyoTrap_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer count= 0
		if GetWidgetLife(s__ChiyoTrap_trap[this]) > 0.405 then
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__ChiyoTrap_trap[this]), GetUnitY(s__ChiyoTrap_trap[this]), 300, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChiyoTrap_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
					//call PauseUnit(bj_lastCreatedUnit, true)
					call SetUnitVertexColor(bj_lastCreatedUnit, 100, 100, 100, 255)
					call GroupAddUnit(s__ChiyoTrap_damaged[this], bj_lastCreatedUnit)
					set count=count + 1
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			if count > 0 then
				call TimerStart(NewTimerEx(this), 0.01, true, function s__ChiyoTrap_periodic2)
				call ReleaseTimer(GetExpiredTimer())
			endif
		else
			call s__ChiyoTrap_destroy(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__ChiyoTrap_actions takes nothing returns nothing
  local integer this= s__ChiyoTrap_allocate()
		set s__ChiyoTrap_caster[this]=GetTriggerUnit()
		set s__ChiyoTrap_trap[this]=CreateUnit(GetTriggerPlayer(), 'e086', GetSpellTargetX(), GetSpellTargetY(), 270)
		set s__ChiyoTrap_damaged[this]=CreateGroup()
		set s__ChiyoTrap_c[this]=0
		call UnitApplyTimedLife(s__ChiyoTrap_trap[this], 'BTLF', 30.0)
		call TimerStart(NewTimerEx(this), 0.1, true, function s__ChiyoTrap_periodic)
 endfunction 

 function s__ChiyoTrap_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(60 , s__ChiyoTrap_SPELL_ID , function s__ChiyoTrap_actions)
 endfunction 

//===========================================================================
// Trigger: ChiyoFlyingKunais
//===========================================================================
// scope ChiyoKunais begins



    
    function s__ChiyoFlyingKunais_destroy takes integer this returns nothing
        local integer i= 0
        loop
            exitwhen i > 5
             call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" ), (( GetUnitX(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i]) )*1.0), (( GetUnitY(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i]))*1.0))) // INLINED!!
            call KillUnit(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i]) // INLINED!!
            call ShowUnit(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i], false) // INLINED!!
            set s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i]= null // INLINED!!
            set i=i + 1
        endloop
	call SetPlayerAbilityAvailable(GetOwningPlayer(s__ChiyoFlyingKunais_caster[this]), s__ChiyoFlyingKunais_SPELL_ID, true)
	call UnitRemoveAbility(s__ChiyoFlyingKunais_caster[this], 'A0N3')
        call DestroyGroup(s__ChiyoFlyingKunais_damaged[this])
        set s__ChiyoFlyingKunais_caster[this]=null
        set s__ChiyoFlyingKunais_damaged[this]=null
        call s__ChiyoFlyingKunais_deallocate(this)
    endfunction
    
    function s__ChiyoFlyingKunais_finish2 takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call s__ChiyoFlyingKunais_destroy(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__ChiyoFlyingKunais_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i
        local real x
        local real y
        local real new_x
        local real new_y
        if s__ChiyoFlyingKunais_caster[this] == null then
            call ReleaseTimer(GetExpiredTimer())
            return
        endif
        set s__ChiyoFlyingKunais_count[this]=s__ChiyoFlyingKunais_count[this] + 1
        set i=0
        loop
            exitwhen i > 5
            set x=GetUnitX(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i]) // INLINED!!
            set y=GetUnitY(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i]) // INLINED!!
            set new_x=(((x )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i])) )*1.0)) * (( 50)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i])) )*1.0)) * (( 50)*1.0)) // INLINED!!
            if s__ChiyoFlyingKunais_count[this] < 15 then
                call SetUnitX(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i], new_x) // INLINED!!
                call SetUnitY(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i], new_y) // INLINED!!
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 110.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChiyoFlyingKunais_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__ChiyoFlyingKunais_damaged[this]) then
                    call UnitDamageTarget(s__ChiyoFlyingKunais_caster[this], bj_lastCreatedUnit, ( 20 + GetHeroInt(s__ChiyoFlyingKunais_caster[this], true) / 2 ) * GetUnitAbilityLevel(s__ChiyoFlyingKunais_caster[this], s__ChiyoFlyingKunais_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    call GroupAddUnit(s__ChiyoFlyingKunais_damaged[this], bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set i=i + 1
        endloop
        if s__ChiyoFlyingKunais_count[this] == 30 then
            call TimerStart(NewTimerEx(this), 4.0, false, function s__ChiyoFlyingKunais_finish2)
        endif
    endfunction
    
    function s__ChiyoFlyingKunais_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call TimerStart(NewTimerEx(this), 0.04, true, function s__ChiyoFlyingKunais_periodic)
	call SetPlayerAbilityAvailable(GetOwningPlayer(s__ChiyoFlyingKunais_caster[this]), s__ChiyoFlyingKunais_SPELL_ID, false)
	call UnitAddAbility(s__ChiyoFlyingKunais_caster[this], 'A0N3')
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__ChiyoFlyingKunais_actions takes nothing returns nothing
        local integer this= s__ChiyoFlyingKunais__allocate()
        local integer i
        local real x= GetUnitX(GetTriggerUnit())
        local real y= GetUnitY(GetTriggerUnit())
        local real angle= Atan3(x , y , GetSpellTargetX() , GetSpellTargetY())
        local real new_x
        local real new_y
        local real angle2
        set s__ChiyoFlyingKunais_caster[this]=GetTriggerUnit()
        set i=0
        loop
            exitwhen i > 5
            set angle2=Rad2Deg(angle) - 60 + 20 * i
            set new_x=(((x )*1.0) + Cos((( Deg2Rad(angle2) )*1.0)) * (( 100)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( Deg2Rad(angle2) )*1.0)) * (( 100)*1.0)) // INLINED!!
            set s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i]= CreateUnit(GetTriggerPlayer(), 'e02K', new_x, new_y, angle2) // INLINED!!
            call UnitAddAbility(s__chiyo_kunais[((GetUnitUserData((s__ChiyoFlyingKunais_caster[this]))))*(6)+i], 'A02Q') // INLINED!!
            set i=i + 1
        endloop
        set s__ChiyoFlyingKunais_count[this]=0
        set s__ChiyoFlyingKunais_damaged[this]=CreateGroup()
        call TimerStart(NewTimerEx(this), 0.3, false, function s__ChiyoFlyingKunais_delay)
    endfunction
    
    function s__ChiyoFlyingKunais_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(60 , s__ChiyoFlyingKunais_SPELL_ID , function s__ChiyoFlyingKunais_actions)
    endfunction
    

// scope ChiyoKunais ends
//===========================================================================
// Trigger: ChiyoAssaultBlade
//===========================================================================

//Implemented from module Alloc:
    
        function s__ChiyoAssaultBlade_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ChiyoAssaultBlade_Alloc__recycle[(0)] == 0 ) then
                set s__ChiyoAssaultBlade_Alloc__instanceCount=s__ChiyoAssaultBlade_Alloc__instanceCount + 1
                set this=s__ChiyoAssaultBlade_Alloc__instanceCount
            else
                set this=s__ChiyoAssaultBlade_Alloc__recycle[(0)]
                set s__ChiyoAssaultBlade_Alloc__recycle[(0)]=s__ChiyoAssaultBlade_Alloc__recycle[s__ChiyoAssaultBlade_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ChiyoAssaultBlade_deallocate takes integer this returns nothing
            set s__ChiyoAssaultBlade_Alloc__recycle[this]=s__ChiyoAssaultBlade_Alloc__recycle[(0)]
            set s__ChiyoAssaultBlade_Alloc__recycle[(0)]=this
        endfunction
    
    function s__ChiyoAssaultBlade_destroy takes integer this returns nothing
  local integer i= 0
        loop
            exitwhen i > 5
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" ), (( GetUnitX(s__chiyo_kunais[((GetUnitUserData((s__ChiyoAssaultBlade_caster[this]))))*(6)+i]) )*1.0), (( GetUnitY(s__chiyo_kunais[((GetUnitUserData((s__ChiyoAssaultBlade_caster[this]))))*(6)+i]))*1.0))) // INLINED!!
            call KillUnit(s__chiyo_kunais[((GetUnitUserData((s__ChiyoAssaultBlade_caster[this]))))*(6)+i]) // INLINED!!
            call ShowUnit(s__chiyo_kunais[((GetUnitUserData((s__ChiyoAssaultBlade_caster[this]))))*(6)+i], false) // INLINED!!
            set i=i + 1
        endloop
        set s__ChiyoAssaultBlade_caster[this]=null
        set s__ChiyoAssaultBlade_target[this]=null
        call s__ChiyoAssaultBlade_deallocate(this)
    endfunction
    
    function s__ChiyoAssaultBlade_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__ChiyoAssaultBlade_target[this])
        local real y= GetUnitY(s__ChiyoAssaultBlade_target[this])
        local integer i
        local real new_x
        local real new_y
        local real angle
        local integer id= (GetUnitUserData((s__ChiyoAssaultBlade_caster[this]))) // INLINED!!
        if s__chiyo_kunais[(id)*(6)+0] == null then
            if GetUnitAbilityLevel(s__ChiyoAssaultBlade_caster[this], 'B03A') > 0 then
                call StunUnitTimed(s__ChiyoAssaultBlade_caster[this] , s__ChiyoAssaultBlade_target[this] , 1.5)
                call UnitDamageTarget(s__ChiyoAssaultBlade_caster[this], s__ChiyoAssaultBlade_target[this], ( 40 + GetHeroInt(s__ChiyoAssaultBlade_caster[this], true) / 2 ) * GetUnitAbilityLevel(s__ChiyoAssaultBlade_caster[this], 'A0N3'), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
            else
                call StunUnitTimed(s__ChiyoAssaultBlade_caster[this] , s__ChiyoAssaultBlade_target[this] , 1.0)
                call UnitDamageTarget(s__ChiyoAssaultBlade_caster[this], s__ChiyoAssaultBlade_target[this], ( 20 + GetHeroInt(s__ChiyoAssaultBlade_caster[this], true) / 2 ) * GetUnitAbilityLevel(s__ChiyoAssaultBlade_caster[this], 'A0N3'), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
            endif
            call s__ChiyoAssaultBlade_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            set i=0
            loop
                exitwhen i > 5
                set angle=Atan3(GetUnitX(s__chiyo_kunais[(id)*(6)+i]) , GetUnitY(s__chiyo_kunais[(id)*(6)+i]) , x , y)
                set new_x=(((GetUnitX(s__chiyo_kunais[(id)*(6)+i]) )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                set new_y=(((GetUnitY(s__chiyo_kunais[(id)*(6)+i]) )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                call SetUnitX(s__chiyo_kunais[(id)*(6)+i], new_x)
                call SetUnitY(s__chiyo_kunais[(id)*(6)+i], new_y)
                call SetUnitFacing(s__chiyo_kunais[(id)*(6)+i], Rad2Deg(angle))
		if IsUnitType(s__ChiyoAssaultBlade_target[this], UNIT_TYPE_HERO) == true and GetDistanceUnits(s__chiyo_kunais[(id)*(6)+0] , s__ChiyoAssaultBlade_target[this]) < 50 and GetDistanceUnits(s__chiyo_kunais[(id)*(6)+1] , s__ChiyoAssaultBlade_target[this]) < 50 and GetDistanceUnits(s__chiyo_kunais[(id)*(6)+2] , s__ChiyoAssaultBlade_target[this]) < 50 and GetDistanceUnits(s__chiyo_kunais[(id)*(6)+3] , s__ChiyoAssaultBlade_target[this]) < 50 and GetDistanceUnits(s__chiyo_kunais[(id)*(6)+4] , s__ChiyoAssaultBlade_target[this]) < 50 and GetDistanceUnits(s__chiyo_kunais[(id)*(6)+5] , s__ChiyoAssaultBlade_target[this]) < 50 then
			if GetUnitAbilityLevel(s__ChiyoAssaultBlade_caster[this], 'B03A') > 0 then
                		call StunUnitTimed(s__ChiyoAssaultBlade_caster[this] , s__ChiyoAssaultBlade_target[this] , 1.5)
                		call UnitDamageTarget(s__ChiyoAssaultBlade_caster[this], s__ChiyoAssaultBlade_target[this], GetHeroInt(s__ChiyoAssaultBlade_caster[this], true) * GetUnitAbilityLevel(s__ChiyoAssaultBlade_caster[this], 'A0N2') * 1.2, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
            		else
                		call StunUnitTimed(s__ChiyoAssaultBlade_caster[this] , s__ChiyoAssaultBlade_target[this] , 1.0)
                		call UnitDamageTarget(s__ChiyoAssaultBlade_caster[this], s__ChiyoAssaultBlade_target[this], GetHeroInt(s__ChiyoAssaultBlade_caster[this], true) * GetUnitAbilityLevel(s__ChiyoAssaultBlade_caster[this], 'A0N2'), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
            		endif
            		call s__ChiyoAssaultBlade_destroy(this)
            		call ReleaseTimer(GetExpiredTimer())
		endif
                set i=i + 1
            endloop
        endif
    endfunction


    function s__ChiyoAssaultBlade_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call TimerStart(NewTimerEx(this), 0.03, true, function s__ChiyoAssaultBlade_periodic)
        call ReleaseTimer(GetExpiredTimer())
    endfunction

    
    function s__ChiyoAssaultBlade_actions takes nothing returns nothing
        local integer this
        if s__chiyo_kunais[((GetUnitUserData((GetTriggerUnit()))))*(6)+0] != null then // INLINED!!
            set this=s__ChiyoAssaultBlade_allocate()
            set s__ChiyoAssaultBlade_caster[this]=GetTriggerUnit()
            set s__ChiyoAssaultBlade_target[this]=GetSpellTargetUnit()
	    call TimerStart(NewTimerEx(this), 0.01, false, function s__ChiyoAssaultBlade_delay)
        endif
    endfunction
    
    function s__ChiyoAssaultBlade_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(60 , s__ChiyoAssaultBlade_SPELL_ID , function s__ChiyoAssaultBlade_actions)
    endfunction
    
//===========================================================================
// Trigger: ChiyoChakraThreads
//===========================================================================

    
    function s__ChiyoChakraThreads_remove takes integer id returns nothing
        local integer i
        if s__s__ChiyoChakraThreads_casters[id] != null then
            //call SetHeroStr(casters[id], GetHeroStr(casters[id], false) - status[id], false)
            //call SetHeroAgi(casters[id], GetHeroAgi(casters[id], false) - status[id], false)
            //call SetHeroInt(casters[id], GetHeroInt(casters[id], false) - status[id], false)
            set i=0
            loop
                exitwhen i > 1
                call DestroyEffect(s__s__ChiyoChakraThreads_e1[(id)*(2)+i])
                set s__s__ChiyoChakraThreads_e1[(id)*(2)+i]= null
                set i=i + 1
            endloop
            call UnitRemoveAbility(s__s__ChiyoChakraThreads_casters[id], 'B03A')
            call ReleaseTimer(s__s__ChiyoChakraThreads_t[id])
        endif
        if s__s__ChiyoChakraThreads_targets[id] != null then
            if IsUnitType(s__s__ChiyoChakraThreads_targets[id], UNIT_TYPE_HERO) == true then
                //call SetHeroStr(targets[id], GetHeroStr(targets[id], false) - status[id], false)
                //call SetHeroAgi(targets[id], GetHeroAgi(targets[id], false) - status[id], false)
                //call SetHeroInt(targets[id], GetHeroInt(targets[id], false) - status[id], false)
            endif
            set i=0
            loop
                exitwhen i > 4
                call DestroyEffect(s__s__ChiyoChakraThreads_e2[(id)*(5)+i])
                set s__s__ChiyoChakraThreads_e2[(id)*(5)+i]= null
                set i=i + 1
            endloop
            call UnitRemoveAbility(s__s__ChiyoChakraThreads_targets[id], 'B03A')
        endif
        set s__s__ChiyoChakraThreads_t[id]= null
        set s__s__ChiyoChakraThreads_casters[id]= null
        set s__s__ChiyoChakraThreads_targets[id]= null
    endfunction
    
    function s__ChiyoChakraThreads_periodic takes nothing returns nothing
        local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real dist= GetDistanceUnits(s__s__ChiyoChakraThreads_casters[id] , s__s__ChiyoChakraThreads_targets[id])
        if dist > 1500 or GetWidgetLife(s__s__ChiyoChakraThreads_casters[id]) < 0.405 or GetWidgetLife(s__s__ChiyoChakraThreads_targets[id]) < 0.405 then
            call s__ChiyoChakraThreads_remove(id)
        endif
    endfunction
    
    function s__ChiyoChakraThreads_actions takes nothing returns nothing
        local integer id= (GetUnitUserData((GetTriggerUnit()))) // INLINED!!
        if GetTriggerUnit() != GetSpellTargetUnit() then
            if s__s__ChiyoChakraThreads_targets[id] != null then
                call s__ChiyoChakraThreads_remove(id)
            endif
            set s__s__ChiyoChakraThreads_casters[id]= GetTriggerUnit()
            set s__s__ChiyoChakraThreads_targets[id]= GetSpellTargetUnit()
            //set status[id] = GetUnitAbilityLevel(GetTriggerUnit(), 'A0MP') * 2
            //call SetHeroStr(casters[id], GetHeroStr(casters[id], false) + status[id], false)
            //call SetHeroAgi(casters[id], GetHeroAgi(casters[id], false) + status[id], false)
            //call SetHeroInt(casters[id], GetHeroInt(casters[id], false) + status[id], false)
            if IsUnitType(s__s__ChiyoChakraThreads_targets[id], UNIT_TYPE_HERO) == true then
                //call SetHeroStr(targets[id], GetHeroStr(targets[id], false) + status[id], false)
                //call SetHeroAgi(targets[id], GetHeroAgi(targets[id], false) + status[id], false)
                //call SetHeroInt(targets[id], GetHeroInt(targets[id], false) + status[id], false)
            endif
            set s__s__ChiyoChakraThreads_e1[(id)*(2)+0]= AddSpecialEffectTarget("war3mapImported\\Windwalk Blue Soul.mdx", s__s__ChiyoChakraThreads_casters[id], "origin")
            set s__s__ChiyoChakraThreads_e2[(id)*(5)+4]= AddSpecialEffectTarget("war3mapImported\\Windwalk Blue Soul.mdx", s__s__ChiyoChakraThreads_targets[id], "chest")
            set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270.0)
            call UnitAddAbility(bj_lastCreatedUnit, 'A0MQ')
            call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0MQ', GetUnitAbilityLevel(GetTriggerUnit(), 'A0MP'))
            call IssueTargetOrder(bj_lastCreatedUnit, "bloodlust", s__s__ChiyoChakraThreads_casters[id])
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
            set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270.0)
            call UnitAddAbility(bj_lastCreatedUnit, 'A0MQ')
            call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0MQ', GetUnitAbilityLevel(GetTriggerUnit(), 'A0MP'))
            call IssueTargetOrder(bj_lastCreatedUnit, "bloodlust", s__s__ChiyoChakraThreads_targets[id])
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
            set s__s__ChiyoChakraThreads_t[id]= NewTimerEx(id)
            call TimerStart(s__s__ChiyoChakraThreads_t[id], 0.1, true, function s__ChiyoChakraThreads_periodic)
        endif
    endfunction
    
    function s__ChiyoChakraThreads_removeInvul takes nothing returns nothing
 local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
	call SetUnitInvulnerable(u, false)
	call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__ChiyoChakraThreads_grab takes nothing returns nothing
        local integer id= (GetUnitUserData((GetTriggerUnit()))) // INLINED!!
        if s__s__ChiyoChakraThreads_targets[id] != null then
            call SetUnitX(s__s__ChiyoChakraThreads_targets[id], GetUnitX(GetTriggerUnit()))
            call SetUnitY(s__s__ChiyoChakraThreads_targets[id], GetUnitY(GetTriggerUnit()))
            call IssueImmediateOrder(s__s__ChiyoChakraThreads_targets[id], "stop")
	    call SetUnitInvulnerable(GetTriggerUnit(), true)
	    call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 1.0, false, function s__ChiyoChakraThreads_removeInvul) // INLINED!!
	    call SetUnitInvulnerable(s__s__ChiyoChakraThreads_targets[id], true)
	    call TimerStart(NewTimerEx((GetUnitUserData((s__s__ChiyoChakraThreads_targets[id])))), 1.0, false, function s__ChiyoChakraThreads_removeInvul) // INLINED!!
            call UnitRemoveBuffs(s__s__ChiyoChakraThreads_targets[id], false, true)
        endif
    endfunction
    
    function s__ChiyoChakraThreads_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(60 , 'A0MP' , function s__ChiyoChakraThreads_actions)
        call RegisterSpellEffectEventForId(60 , 'A0N6' , function s__ChiyoChakraThreads_grab)
    endfunction
    
//===========================================================================
// Trigger: ChiyoNewSemi
//===========================================================================

//Implemented from module Alloc:
    
        function s__ChiyoNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ChiyoNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__ChiyoNewSemi_Alloc__instanceCount=s__ChiyoNewSemi_Alloc__instanceCount + 1
                set this=s__ChiyoNewSemi_Alloc__instanceCount
            else
                set this=s__ChiyoNewSemi_Alloc__recycle[(0)]
                set s__ChiyoNewSemi_Alloc__recycle[(0)]=s__ChiyoNewSemi_Alloc__recycle[s__ChiyoNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ChiyoNewSemi_deallocate takes integer this returns nothing
            set s__ChiyoNewSemi_Alloc__recycle[this]=s__ChiyoNewSemi_Alloc__recycle[(0)]
            set s__ChiyoNewSemi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__ChiyoNewSemi_disableSpell takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__ChiyoNewSemi_count[this]=s__ChiyoNewSemi_count[this] + 1
        if GetUnitAbilityLevel(s__ChiyoNewSemi_caster[this], 'A175') == 0 or s__ChiyoNewSemi_count[this] >= 50 then
            
            call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( GetUnitX(s__ChiyoNewSemi_father) )*1.0), (( GetUnitY(s__ChiyoNewSemi_father))*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( GetUnitX(s__ChiyoNewSemi_mother) )*1.0), (( GetUnitY(s__ChiyoNewSemi_mother))*1.0))) // INLINED!!
            call KillUnit(s__ChiyoNewSemi_father)
            call ShowUnit(s__ChiyoNewSemi_father, false)
            set s__ChiyoNewSemi_father=null
            call KillUnit(s__ChiyoNewSemi_mother)
            call ShowUnit(s__ChiyoNewSemi_mother, false)
            set s__ChiyoNewSemi_mother=null

            call UnitRemoveAbility(s__ChiyoNewSemi_caster[this], 'A175')
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__ChiyoNewSemi_caster[this]), s__ChiyoNewSemi_SPELL_ID, true)
            call s__ChiyoNewSemi_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__ChiyoNewSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__ChiyoNewSemi_missile[this])
        local real y= GetUnitY(s__ChiyoNewSemi_missile[this])
        local real new_x= (((x )*1.0) + Cos((( s__ChiyoNewSemi_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__ChiyoNewSemi_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real father_x= (((new_x )*1.0) + Cos((( s__ChiyoNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( Cos(Deg2Rad(s__ChiyoNewSemi_count[this] * 20)) * 200.0)*1.0)) // INLINED!!
        local real father_y= (((new_y )*1.0) + Sin((( s__ChiyoNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( Cos(Deg2Rad(s__ChiyoNewSemi_count[this] * 20)) * 200.0)*1.0)) // INLINED!!
        local real mother_x= (((new_x )*1.0) + Cos((( s__ChiyoNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( Cos(Deg2Rad(180 + s__ChiyoNewSemi_count[this] * 20)) * 200.0)*1.0)) // INLINED!!
        local real mother_y= (((new_y )*1.0) + Sin((( s__ChiyoNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( Cos(Deg2Rad(180 + s__ChiyoNewSemi_count[this] * 20)) * 200.0)*1.0)) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(s__ChiyoNewSemi_father) )*1.0), (( GetUnitY(s__ChiyoNewSemi_father))*1.0))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(s__ChiyoNewSemi_mother) )*1.0), (( GetUnitY(s__ChiyoNewSemi_mother))*1.0))) // INLINED!!
        call SetUnitX(s__ChiyoNewSemi_father, father_x)
        call SetUnitY(s__ChiyoNewSemi_father, father_y)
        call SetUnitX(s__ChiyoNewSemi_mother, mother_x)
        call SetUnitY(s__ChiyoNewSemi_mother, mother_y)
        call SetUnitX(s__ChiyoNewSemi_missile[this], new_x)
        call SetUnitY(s__ChiyoNewSemi_missile[this], new_y)
        set s__ChiyoNewSemi_count[this]=s__ChiyoNewSemi_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 240, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChiyoNewSemi_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__ChiyoNewSemi_damaged[this]) then
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                call UnitDamageTarget(s__ChiyoNewSemi_caster[this], bj_lastCreatedUnit, 800 * GetUnitAbilityLevel(s__ChiyoNewSemi_caster[this], s__ChiyoNewSemi_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		//call StunUnitTimed(this.caster, bj_lastCreatedUnit, 2.0)
                call GroupAddUnit(s__ChiyoNewSemi_damaged[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__ChiyoNewSemi_count[this] > 35 then
            call KillUnit(s__ChiyoNewSemi_missile[this])
            set s__ChiyoNewSemi_missile[this]=null
            call DestroyGroup(s__ChiyoNewSemi_damaged[this])
            set s__ChiyoNewSemi_damaged[this]=null
            set s__ChiyoNewSemi_count[this]=0
            call UnitAddAbility(s__ChiyoNewSemi_caster[this], 'A175')
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__ChiyoNewSemi_caster[this]), s__ChiyoNewSemi_SPELL_ID, false)
            call TimerStart(NewTimerEx(this), 0.1, true, function s__ChiyoNewSemi_disableSpell)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__ChiyoNewSemi_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitAnimation(s__ChiyoNewSemi_mother, "attack")
        call SetUnitTimeScale(s__ChiyoNewSemi_mother, 0.5)
        call SetUnitAnimation(s__ChiyoNewSemi_father, "attack")
        call SetUnitTimeScale(s__ChiyoNewSemi_father, 0.5)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__ChiyoNewSemi_periodic)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__ChiyoNewSemi_actions takes nothing returns nothing
        local integer this= s__ChiyoNewSemi_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Chiyo_R, 80, GetTriggerUnit())
        endif
        set s__ChiyoNewSemi_caster[this]=GetTriggerUnit()
        set s__ChiyoNewSemi_angle[this]=Atan3(GetUnitX(s__ChiyoNewSemi_caster[this]) , GetUnitY(s__ChiyoNewSemi_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__ChiyoNewSemi_count[this]=0
        set s__ChiyoNewSemi_damaged[this]=CreateGroup()
        set s__ChiyoNewSemi_missile[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__ChiyoNewSemi_caster[this]), GetUnitY(s__ChiyoNewSemi_caster[this]), 0)
        set s__ChiyoNewSemi_father=CreateUnit(GetTriggerPlayer(), 'e03W', (((GetUnitX(s__ChiyoNewSemi_caster[this]) )*1.0) + Cos((( s__ChiyoNewSemi_angle[this] + bj_PI / 2 )*1.0)) * (( 200)*1.0)), (((GetUnitY(s__ChiyoNewSemi_caster[this]) )*1.0) + Sin((( s__ChiyoNewSemi_angle[this] + bj_PI / 2 )*1.0)) * (( 200)*1.0)), Rad2Deg(s__ChiyoNewSemi_angle[this])) // INLINED!!
        set s__ChiyoNewSemi_mother=CreateUnit(GetTriggerPlayer(), 'e03X', (((GetUnitX(s__ChiyoNewSemi_caster[this]) )*1.0) + Cos((( s__ChiyoNewSemi_angle[this] - bj_PI / 2 )*1.0)) * (( 200)*1.0)), (((GetUnitY(s__ChiyoNewSemi_caster[this]) )*1.0) + Sin((( s__ChiyoNewSemi_angle[this] - bj_PI / 2 )*1.0)) * (( 200)*1.0)), Rad2Deg(s__ChiyoNewSemi_angle[this])) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( GetUnitX(s__ChiyoNewSemi_father) )*1.0), (( GetUnitY(s__ChiyoNewSemi_father))*1.0))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( GetUnitX(s__ChiyoNewSemi_mother) )*1.0), (( GetUnitY(s__ChiyoNewSemi_mother))*1.0))) // INLINED!!
        call TimerStart(NewTimerEx(this), 0.3, false, function s__ChiyoNewSemi_delay)
    endfunction 
    
    function s__ChiyoNewSemi_periodic2 takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real mother_x= GetUnitX(s__ChiyoNewSemi_mother)
        local real mother_y= GetUnitY(s__ChiyoNewSemi_mother)
        local real mother_angle= Atan3(mother_x , mother_y , s__ChiyoNewSemi_target_x[this] , s__ChiyoNewSemi_target_y[this])
        local real mother_new_x= (((mother_x )*1.0) + Cos((( mother_angle )*1.0)) * (( s__ChiyoNewSemi_mother_step[this])*1.0)) // INLINED!!
        local real mother_new_y= (((mother_y )*1.0) + Sin((( mother_angle )*1.0)) * (( s__ChiyoNewSemi_mother_step[this])*1.0)) // INLINED!!
        local real mother_z= ParabolaZ(400 , 33 , s__ChiyoNewSemi_count[this])
        local real father_x= GetUnitX(s__ChiyoNewSemi_father)
        local real father_y= GetUnitY(s__ChiyoNewSemi_father)
        local real father_angle= Atan3(father_x , father_y , s__ChiyoNewSemi_target_x[this] , s__ChiyoNewSemi_target_y[this])
        local real father_new_x= (((father_x )*1.0) + Cos((( father_angle )*1.0)) * (( s__ChiyoNewSemi_father_step[this])*1.0)) // INLINED!!
        local real father_new_y= (((father_y )*1.0) + Sin((( father_angle )*1.0)) * (( s__ChiyoNewSemi_father_step[this])*1.0)) // INLINED!!
        local real father_z= ParabolaZ(400 , 33 , s__ChiyoNewSemi_count[this])
        call SetUnitX(s__ChiyoNewSemi_mother, mother_new_x)
        call SetUnitY(s__ChiyoNewSemi_mother, mother_new_y)
        call SetUnitFlyHeight(s__ChiyoNewSemi_mother, mother_z, 0)
        call SetUnitFacing(s__ChiyoNewSemi_mother, Rad2Deg(mother_angle))
        call SetUnitX(s__ChiyoNewSemi_father, father_new_x)
        call SetUnitY(s__ChiyoNewSemi_father, father_new_y)
        call SetUnitFlyHeight(s__ChiyoNewSemi_father, father_z, 0)
        call SetUnitFacing(s__ChiyoNewSemi_father, Rad2Deg(father_angle))
        set s__ChiyoNewSemi_count[this]=s__ChiyoNewSemi_count[this] + 1
        if s__ChiyoNewSemi_count[this] >= 33 then
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack Big.mdx" ), (( s__ChiyoNewSemi_target_x[this] )*1.0), (( s__ChiyoNewSemi_target_y[this])*1.0))) // INLINED!!
            set bj_lastCreatedEffect=AddSpecialEffect("DustWave.mdx", s__ChiyoNewSemi_target_x[this], s__ChiyoNewSemi_target_y[this])
            call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 4.0)
            call DestroyEffect(bj_lastCreatedEffect)
            call UnitRemoveAbility(s__ChiyoNewSemi_caster[this], 'A175')
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__ChiyoNewSemi_target_x[this], s__ChiyoNewSemi_target_y[this], 400, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChiyoNewSemi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__ChiyoNewSemi_caster[this], bj_lastCreatedUnit, 1 * GetHeroInt(s__ChiyoNewSemi_caster[this], true) * GetUnitAbilityLevel(s__ChiyoNewSemi_caster[this], s__ChiyoNewSemi_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
	    call SlowArea(s__ChiyoNewSemi_caster[this] , s__ChiyoNewSemi_target_x[this] , s__ChiyoNewSemi_target_y[this] , 400)
            call s__ChiyoNewSemi_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__ChiyoNewSemi_actions2 takes nothing returns nothing
        local integer this= s__ChiyoNewSemi_allocate()
        set s__ChiyoNewSemi_caster[this]=GetTriggerUnit()
        set s__ChiyoNewSemi_target_x[this]=GetSpellTargetX()
        set s__ChiyoNewSemi_target_y[this]=GetSpellTargetY()
        set s__ChiyoNewSemi_mother_step[this]=GetDistance(GetUnitX(s__ChiyoNewSemi_mother) , GetUnitY(s__ChiyoNewSemi_mother) , s__ChiyoNewSemi_target_x[this] , s__ChiyoNewSemi_target_y[this]) / 33.0
        set s__ChiyoNewSemi_father_step[this]=GetDistance(GetUnitX(s__ChiyoNewSemi_father) , GetUnitY(s__ChiyoNewSemi_father) , s__ChiyoNewSemi_target_x[this] , s__ChiyoNewSemi_target_y[this]) / 33.0
        set s__ChiyoNewSemi_count[this]=0
        call TimerStart(NewTimerEx(this), 0.01, true, function s__ChiyoNewSemi_periodic2)
    endfunction 

    function s__ChiyoNewSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(60 , s__ChiyoNewSemi_SPELL_ID , function s__ChiyoNewSemi_actions)
        call RegisterSpellEffectEventForId(60 , 'A175' , function s__ChiyoNewSemi_actions2)
    endfunction 
    
//===========================================================================
// Trigger: ChiyoNewUltimate
//===========================================================================

//Implemented from module Alloc:
    
        function s__ChiyoNewUltimate_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ChiyoNewUltimate_Alloc__recycle[(0)] == 0 ) then
                set s__ChiyoNewUltimate_Alloc__instanceCount=s__ChiyoNewUltimate_Alloc__instanceCount + 1
                set this=s__ChiyoNewUltimate_Alloc__instanceCount
            else
                set this=s__ChiyoNewUltimate_Alloc__recycle[(0)]
                set s__ChiyoNewUltimate_Alloc__recycle[(0)]=s__ChiyoNewUltimate_Alloc__recycle[s__ChiyoNewUltimate_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ChiyoNewUltimate_deallocate takes integer this returns nothing
            set s__ChiyoNewUltimate_Alloc__recycle[this]=s__ChiyoNewUltimate_Alloc__recycle[(0)]
            set s__ChiyoNewUltimate_Alloc__recycle[(0)]=this
        endfunction
    
    function s__ChiyoNewUltimate_puppets takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if ( GetWidgetLife(s__ChiyoNewUltimate_caster[this]) < 0.405 or GetWidgetLife(s__ChiyoNewUltimate_dummy[this]) < 0.405 ) then
            call KillUnit(s__ChiyoNewUltimate_dummy[this])
	    call ShowUnit(s__ChiyoNewUltimate_dummy[this], false)
            set s__ChiyoNewUltimate_dummy[this]=null
            call s__ChiyoNewUltimate_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__ChiyoNewUltimate_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local group damaged= CreateGroup()
        local real x
        local real y
        local real new_x
        local real new_y
        local real angle
        local integer i= 1
        loop
            exitwhen i > 18
            set x=(((s__ChiyoNewUltimate_origin_x[this] )*1.0) + Cos((( s__ChiyoNewUltimate_angle[this] )*1.0)) * (( 50 * i)*1.0)) // INLINED!!
            set y=(((s__ChiyoNewUltimate_origin_y[this] )*1.0) + Sin((( s__ChiyoNewUltimate_angle[this] )*1.0)) * (( 50 * i)*1.0)) // INLINED!!
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 110 + ( 400 / 18 ) * i, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChiyoNewUltimate_caster[this])) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, damaged) then
                    set x=GetUnitX(bj_lastCreatedUnit)
                    set y=GetUnitY(bj_lastCreatedUnit)
                    set angle=Atan3(x , y , s__ChiyoNewUltimate_origin_x[this] , s__ChiyoNewUltimate_origin_y[this])
                    set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 10)*1.0)) // INLINED!!
                    set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 10)*1.0)) // INLINED!!
                    if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
                        call SetUnitPosition(bj_lastCreatedUnit, new_x, new_y)
                        if ModuloInteger(s__ChiyoNewUltimate_count[this], 5) == 0 then
                            call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                        endif
                    endif
                    call UnitDamageTarget(s__ChiyoNewUltimate_caster[this], bj_lastCreatedUnit, 12 * GetHeroInt(s__ChiyoNewUltimate_caster[this], true) / 100, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                    call GroupAddUnit(damaged, bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set i=i + 1
        endloop
        call DestroyGroup(damaged)
        set damaged=null
        set s__ChiyoNewUltimate_count[this]=s__ChiyoNewUltimate_count[this] + 1
        if s__ChiyoNewUltimate_count[this] > 100 then
            call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( GetUnitX(s__ChiyoNewUltimate_puppet1[this]) )*1.0), (( GetUnitY(s__ChiyoNewUltimate_puppet1[this]))*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( GetUnitX(s__ChiyoNewUltimate_puppet2[this]) )*1.0), (( GetUnitY(s__ChiyoNewUltimate_puppet2[this]))*1.0))) // INLINED!!
            call KillUnit(s__ChiyoNewUltimate_puppet1[this])
            call KillUnit(s__ChiyoNewUltimate_puppet2[this])
            call KillUnit(s__ChiyoNewUltimate_puppet3[this])
            call ShowUnit(s__ChiyoNewUltimate_puppet1[this], false)
            call ShowUnit(s__ChiyoNewUltimate_puppet2[this], false)
            call ShowUnit(s__ChiyoNewUltimate_puppet3[this], false)
            set s__ChiyoNewUltimate_puppet1[this]=null
            set s__ChiyoNewUltimate_puppet2[this]=null
            set s__ChiyoNewUltimate_puppet3[this]=null
            call DestroyEffect(s__ChiyoNewUltimate_tornado[this])
            set s__ChiyoNewUltimate_tornado[this]=null
            set s__ChiyoNewUltimate_count[this]=0
            set s__ChiyoNewUltimate_dummy[this]=CreateUnit(GetOwningPlayer(s__ChiyoNewUltimate_caster[this]), 'e007', GetUnitX(s__ChiyoNewUltimate_caster[this]), GetUnitY(s__ChiyoNewUltimate_caster[this]), 270)
            call UnitAddAbility(s__ChiyoNewUltimate_dummy[this], 'A174')
            call UnitApplyTimedLife(s__ChiyoNewUltimate_dummy[this], 'BTLF', 6.0)
            call IssueImmediateOrder(s__ChiyoNewUltimate_dummy[this], "Locustswarm")
            call TimerStart(NewTimerEx(this), 0.1, true, function s__ChiyoNewUltimate_puppets)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__ChiyoNewUltimate_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitAnimation(s__ChiyoNewUltimate_puppet1[this], "spell two")
        call SetUnitAnimation(s__ChiyoNewUltimate_puppet2[this], "spell two")
        call SetUnitAnimation(s__ChiyoNewUltimate_puppet3[this], "spell two")
        //set this.tornado = CreateUnit(GetOwningPlayer(this.caster), 'e03Z', this.origin_x, this.origin_y, Rad2Deg(this.angle)) 
        //call SetUnitTimeScale(this.tornado, 0.7)
        //call SetUnitAnimation(this.tornado, "birth")
	set s__ChiyoNewUltimate_tornado[this]=AddSpecialEffect("war3mapImported\\Tx_zhenkongbo3.mdl", (((s__ChiyoNewUltimate_origin_x[this] )*1.0) + Cos((( s__ChiyoNewUltimate_angle[this] )*1.0)) * (( 550)*1.0)), (((s__ChiyoNewUltimate_origin_y[this] )*1.0) + Sin((( s__ChiyoNewUltimate_angle[this] )*1.0)) * (( 550)*1.0))) // INLINED!!
	call BlzSetSpecialEffectYaw(s__ChiyoNewUltimate_tornado[this], s__ChiyoNewUltimate_angle[this])
	//call BlzSetSpecialEffectPitch(this.tornado, -1.57)
	call BlzSetSpecialEffectScale(s__ChiyoNewUltimate_tornado[this], 1.5)
	call BlzSetSpecialEffectHeight(s__ChiyoNewUltimate_tornado[this], 200 + GetPointZ(s__ChiyoNewUltimate_origin_x[this] , s__ChiyoNewUltimate_origin_y[this]))
	call BlzPlaySpecialEffect(s__ChiyoNewUltimate_tornado[this], ANIM_TYPE_BIRTH)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__ChiyoNewUltimate_periodic)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__ChiyoNewUltimate_actions takes nothing returns nothing
        local integer this= s__ChiyoNewUltimate_allocate()
        local real x= GetUnitX(GetTriggerUnit())
        local real y= GetUnitY(GetTriggerUnit())
        local real angle= Atan3(x , y , GetSpellTargetX() , GetSpellTargetY())
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 100)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 100)*1.0)) // INLINED!!
        local real p1_x= (((new_x )*1.0) + Cos((( angle + bj_PI / 2 )*1.0)) * (( 50)*1.0)) // INLINED!!
        local real p1_y= (((new_y )*1.0) + Sin((( angle + bj_PI / 2 )*1.0)) * (( 50)*1.0)) // INLINED!!
        local real p2_x= (((new_x )*1.0) + Cos((( angle - bj_PI / 2 )*1.0)) * (( 50)*1.0)) // INLINED!!
        local real p2_y= (((new_y )*1.0) + Sin((( angle - bj_PI / 2 )*1.0)) * (( 50)*1.0)) // INLINED!!
        set s__ChiyoNewUltimate_caster[this]=GetTriggerUnit()
        set s__ChiyoNewUltimate_angle[this]=angle
        set s__ChiyoNewUltimate_origin_x[this]=new_x
        set s__ChiyoNewUltimate_origin_y[this]=new_y
        set s__ChiyoNewUltimate_count[this]=0
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Chiyo_T, 80, GetTriggerUnit())
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Chiyo: Don't treat me like an old lady!|r")
        endif
        call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( p1_x )*1.0), (( p1_y)*1.0))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( p2_x )*1.0), (( p2_y)*1.0))) // INLINED!!
        set s__ChiyoNewUltimate_puppet1[this]=CreateUnit(GetTriggerPlayer(), 'e03Y', p1_x, p1_y, Rad2Deg(angle))
        call SetUnitAnimation(s__ChiyoNewUltimate_puppet1[this], "stand")
        set s__ChiyoNewUltimate_puppet2[this]=CreateUnit(GetTriggerPlayer(), 'e03Y', p2_x, p2_y, Rad2Deg(angle))
        call SetUnitAnimation(s__ChiyoNewUltimate_puppet2[this], "stand")
        set s__ChiyoNewUltimate_puppet3[this]=CreateUnit(GetTriggerPlayer(), 'e03Y', new_x, new_y, Rad2Deg(angle))
        call SetUnitFlyHeight(s__ChiyoNewUltimate_puppet3[this], 150, 0)
        call SetUnitAnimation(s__ChiyoNewUltimate_puppet3[this], "stand")
        call TimerStart(NewTimerEx(this), 0.5, false, function s__ChiyoNewUltimate_delay)
    endfunction 
    
    function s__ChiyoNewUltimate_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(60 , s__ChiyoNewUltimate_SPELL_ID , function s__ChiyoNewUltimate_actions)
    endfunction 
    
//===========================================================================
// Trigger: ChoujiNewNikudanSensha
//===========================================================================

//Implemented from module Alloc:
    
        function s__ChoujiNewNikudanSensha_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ChoujiNewNikudanSensha_Alloc__recycle[(0)] == 0 ) then
                set s__ChoujiNewNikudanSensha_Alloc__instanceCount=s__ChoujiNewNikudanSensha_Alloc__instanceCount + 1
                set this=s__ChoujiNewNikudanSensha_Alloc__instanceCount
            else
                set this=s__ChoujiNewNikudanSensha_Alloc__recycle[(0)]
                set s__ChoujiNewNikudanSensha_Alloc__recycle[(0)]=s__ChoujiNewNikudanSensha_Alloc__recycle[s__ChoujiNewNikudanSensha_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ChoujiNewNikudanSensha_deallocate takes integer this returns nothing
            set s__ChoujiNewNikudanSensha_Alloc__recycle[this]=s__ChoujiNewNikudanSensha_Alloc__recycle[(0)]
            set s__ChoujiNewNikudanSensha_Alloc__recycle[(0)]=this
        endfunction
 
 function s__ChoujiNewNikudanSensha_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__ChoujiNewNikudanSensha_caster[this])
  local real y= GetUnitY(s__ChoujiNewNikudanSensha_caster[this])
  local real new_x= (((x )*1.0) + Cos((( s__ChoujiNewNikudanSensha_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__ChoujiNewNikudanSensha_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real size
        if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
            call SetUnitX(s__ChoujiNewNikudanSensha_caster[this], new_x)
            call SetUnitY(s__ChoujiNewNikudanSensha_caster[this], new_y)
            call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\CannonTowerMissile\\CannonTowerMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
        else
            set s__ChoujiNewNikudanSensha_count[this]=999999
        endif
		set size=200
		if s__ChoujiNewNikudanSensha_big[this] then
			set size=300
		endif
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, size, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChoujiNewNikudanSensha_caster[this])) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
				if not IsUnitInGroup(bj_lastCreatedUnit, s__ChoujiNewNikudanSensha_damaged[this]) then
					call UnitDamageTarget(s__ChoujiNewNikudanSensha_caster[this], bj_lastCreatedUnit, 85 * GetUnitAbilityLevel(s__ChoujiNewNikudanSensha_caster[this], s__ChoujiNewNikudanSensha_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
					if s__ChoujiNewNikudanSensha_big[this] then
						call UnitDamageTarget(s__ChoujiNewNikudanSensha_caster[this], bj_lastCreatedUnit, ( 13 + GetHeroStr(s__ChoujiNewNikudanSensha_caster[this], true) * 0.2 ) * GetUnitAbilityLevel(s__ChoujiNewNikudanSensha_caster[this], s__ChoujiNewNikudanSensha_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
					endif
					call GroupAddUnit(s__ChoujiNewNikudanSensha_damaged[this], bj_lastCreatedUnit)
				endif
				if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
					call IssueTargetOrder(bj_lastCreatedUnit, "attack", bj_lastCreatedUnit)
					set x=GetUnitX(bj_lastCreatedUnit)
					set y=GetUnitY(bj_lastCreatedUnit)
					set new_x=(((x )*1.0) + Cos((( s__ChoujiNewNikudanSensha_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
					set new_y=(((y )*1.0) + Sin((( s__ChoujiNewNikudanSensha_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
					if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
						call SetUnitX(bj_lastCreatedUnit, new_x)
						call SetUnitY(bj_lastCreatedUnit, new_y)
						call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
					endif
				endif
			endif
		endloop
		set s__ChoujiNewNikudanSensha_count[this]=s__ChoujiNewNikudanSensha_count[this] + 1
		if s__ChoujiNewNikudanSensha_count[this] > 26 + 1 * GetUnitAbilityLevel(s__ChoujiNewNikudanSensha_caster[this], s__ChoujiNewNikudanSensha_SPELL_ID) then
			call SetUnitAnimation(s__ChoujiNewNikudanSensha_caster[this], "stand")
			call PauseUnit(s__ChoujiNewNikudanSensha_caster[this], false)
			call DestroyGroup(s__ChoujiNewNikudanSensha_damaged[this])
			set s__ChoujiNewNikudanSensha_damaged[this]=null
			call s__ChoujiNewNikudanSensha_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__ChoujiNewNikudanSensha_actions takes nothing returns nothing
  local integer this= s__ChoujiNewNikudanSensha_allocate()
		set s__ChoujiNewNikudanSensha_caster[this]=GetTriggerUnit()
		set s__ChoujiNewNikudanSensha_count[this]=0
		set s__ChoujiNewNikudanSensha_damaged[this]=CreateGroup()
		set s__ChoujiNewNikudanSensha_angle[this]=Atan3(GetUnitX(s__ChoujiNewNikudanSensha_caster[this]) , GetUnitY(s__ChoujiNewNikudanSensha_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		call PauseUnit(s__ChoujiNewNikudanSensha_caster[this], true)
		call SetUnitAnimation(s__ChoujiNewNikudanSensha_caster[this], "spell channel")
		call TimerStart(NewTimerEx(this), 0.03, true, function s__ChoujiNewNikudanSensha_periodic)
        	set s__ChoujiNewNikudanSensha_big[this]=GetUnitAbilityLevel(s__ChoujiNewNikudanSensha_caster[this], 'B00E') > 0
 endfunction 

 function s__ChoujiNewNikudanSensha_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(22 , s__ChoujiNewNikudanSensha_SPELL_ID , function s__ChoujiNewNikudanSensha_actions)
 endfunction 

//===========================================================================
// Trigger: ChoujiBaika
//===========================================================================

function Trig_ChoujiBaika_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A07X' ) )
endfunction

function Trig_ChoujiBaika_Actions takes nothing returns nothing
	set udg_units37[0]=GetTriggerUnit()
	set udg_integers02[3307]=1
	call EnableTrigger(udg_trigger63)
endfunction

function Trig_ChoujiBaika2_Func001C takes nothing returns boolean
	return ( ( udg_integers02[3307] <= 100 ) )
endfunction

function Trig_ChoujiBaika2_Func002C takes nothing returns boolean
	return ( ( UnitHasBuffBJ(udg_units37[0], 'B00E') ) )
endfunction

function Trig_ChoujiBaika2_Actions takes nothing returns nothing
	//set udg_ChoujiCasting = true
	if ( ( udg_integers02[3307] <= 100 ) ) then
		set udg_integers02[3307]=( udg_integers02[3307] + 20 )
		call SetUnitScale((udg_units37[0] ), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ) )*1.0), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ) )*1.0), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ))*1.0)) // INLINED!!
	endif
	if ( ( UnitHasBuffBJ(udg_units37[0], 'B00E') ) ) then
	else
		call DisableTrigger(GetTriggeringTrigger())
		set udg_integers02[3307]=0
		call SetUnitScale((udg_units37[0] ), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ) )*1.0), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ) )*1.0), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ))*1.0)) // INLINED!!
		set udg_locations07[70]=GetUnitLoc(udg_units37[0])
		set bj_forLoopAIndex=1
		set bj_forLoopAIndexEnd=20
		loop
			exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
			set udg_locations07[71]=GetRandomLocInRect(RectFromCenterSizeBJ(udg_locations07[70], 250.00, 250.00))
			call CreateNUnitsAtLoc(1, 'zhyd', GetOwningPlayer(udg_units37[0]), udg_locations07[71], GetRandomReal(0, 360))
			call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(50.00, 200.00), 100.00)
			set udg_locations07[72]=PolarProjectionBJ(udg_locations07[71], 400.00, GetUnitFacing(bj_lastCreatedUnit))
			call IssuePointOrderLoc(bj_lastCreatedUnit, "move", udg_locations07[72])
			call UnitApplyTimedLifeBJ(3.00, 'BTLF', bj_lastCreatedUnit)
			call RemoveLocation(udg_locations07[71])
			call RemoveLocation(udg_locations07[72])
			set bj_forLoopAIndex=bj_forLoopAIndex + 1
		endloop
	endif
endfunction

function InitTrig_ChoujiBaika takes nothing returns nothing
	set udg_trigger62=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger62, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger62, Condition(function Trig_ChoujiBaika_Conditions))
	call TriggerAddAction(udg_trigger62, function Trig_ChoujiBaika_Actions)
        call EnableTriggerForId(22 , udg_trigger62)
	set udg_trigger63=CreateTrigger()
	call DisableTrigger(udg_trigger63)
	call TriggerRegisterTimerEventPeriodic(udg_trigger63, 0.10)
	call TriggerAddAction(udg_trigger63, function Trig_ChoujiBaika2_Actions)
endfunction 

//===========================================================================
// Trigger: ChoujiChoharite
//===========================================================================
//Implemented from module Alloc:
    
        function s__ChoujiChoharite_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ChoujiChoharite_Alloc__recycle[(0)] == 0 ) then
                set s__ChoujiChoharite_Alloc__instanceCount=s__ChoujiChoharite_Alloc__instanceCount + 1
                set this=s__ChoujiChoharite_Alloc__instanceCount
            else
                set this=s__ChoujiChoharite_Alloc__recycle[(0)]
                set s__ChoujiChoharite_Alloc__recycle[(0)]=s__ChoujiChoharite_Alloc__recycle[s__ChoujiChoharite_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ChoujiChoharite_deallocate takes integer this returns nothing
            set s__ChoujiChoharite_Alloc__recycle[this]=s__ChoujiChoharite_Alloc__recycle[(0)]
            set s__ChoujiChoharite_Alloc__recycle[(0)]=this
        endfunction

    function s__ChoujiChoharite_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__ChoujiChoharite_target[this])
        local real y= GetUnitY(s__ChoujiChoharite_target[this])
        local real new_x= (((x )*1.0) + Cos((( s__ChoujiChoharite_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__ChoujiChoharite_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local integer i
	set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
	loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChoujiChoharite_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__ChoujiChoharite_damaged[this]) then
			if GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'B00E') > 0 then
        			call UnitDamageTargetBJ(s__ChoujiChoharite_caster[this], bj_lastCreatedUnit, ( ( I2R(GetHeroStr(s__ChoujiChoharite_caster[this], true)) * I2R(GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'A0WD')) ) + ( ( 0.00 + ( 0.40 * I2R(GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'A07X')) ) ) * I2R(GetHeroStr(s__ChoujiChoharite_caster[this], true)) ) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        		else
        			call UnitDamageTargetBJ(s__ChoujiChoharite_caster[this], bj_lastCreatedUnit, I2R(GetHeroStr(s__ChoujiChoharite_caster[this], true)) * I2R(GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'A0WD')), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        		endif
			call GroupAddUnit(s__ChoujiChoharite_damaged[this], bj_lastCreatedUnit)
		endif
	endloop
	call DestroyGroup(bj_lastCreatedGroup)
        if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
            call SetUnitX(s__ChoujiChoharite_target[this], new_x)
            call SetUnitY(s__ChoujiChoharite_target[this], new_y)
            call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        else
            set s__ChoujiChoharite_count[this]=20
        endif
        set s__ChoujiChoharite_count[this]=s__ChoujiChoharite_count[this] + 1
        if s__ChoujiChoharite_count[this] > 16 then
	    call DestroyGroup(s__ChoujiChoharite_damaged[this])
            set s__ChoujiChoharite_damaged[this]=null
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( GetUnitX(s__ChoujiChoharite_target[this]) )*1.0), (( GetUnitY(s__ChoujiChoharite_target[this]))*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( GetUnitX(s__ChoujiChoharite_target[this]) )*1.0), (( GetUnitY(s__ChoujiChoharite_target[this]))*1.0))) // INLINED!!
            call PauseUnit(s__ChoujiChoharite_target[this], false)
            call SetUnitAnimation(s__ChoujiChoharite_target[this], "death")
            call s__ChoujiChoharite_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__ChoujiChoharite_actions takes nothing returns nothing
        local integer this= s__ChoujiChoharite_allocate()
        set s__ChoujiChoharite_caster[this]=GetTriggerUnit()
        set s__ChoujiChoharite_target[this]=GetSpellTargetUnit()
	set s__ChoujiChoharite_damaged[this]=CreateGroup()
        set s__ChoujiChoharite_angle[this]=Atan3(GetUnitX(s__ChoujiChoharite_caster[this]) , GetUnitY(s__ChoujiChoharite_caster[this]) , GetUnitX(s__ChoujiChoharite_target[this]) , GetUnitY(s__ChoujiChoharite_target[this]))
        set s__ChoujiChoharite_count[this]=0
        set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(s__ChoujiChoharite_target[this]), GetUnitY(s__ChoujiChoharite_target[this]))
        call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(s__ChoujiChoharite_target[this]) , GetUnitY(s__ChoujiChoharite_target[this])))
        call DestroyEffect(bj_lastCreatedEffect)
        set bj_lastCreatedEffect=AddSpecialEffect("PunchImpact.mdl", GetUnitX(s__ChoujiChoharite_target[this]), GetUnitY(s__ChoujiChoharite_target[this]))
        call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__ChoujiChoharite_angle[this] + bj_PI)
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
        call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(s__ChoujiChoharite_target[this]) , GetUnitY(s__ChoujiChoharite_target[this])))
        call DestroyEffect(bj_lastCreatedEffect)
        call PauseUnit(s__ChoujiChoharite_target[this], true)
        if GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'B00E') > 0 then
        	call UnitDamageTargetBJ(s__ChoujiChoharite_caster[this], s__ChoujiChoharite_target[this], ( ( I2R(GetHeroStr(s__ChoujiChoharite_caster[this], true)) * I2R(GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'A0WD')) ) + ( ( 0.00 + ( 0.40 * I2R(GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'A07X')) ) ) * I2R(GetHeroStr(s__ChoujiChoharite_caster[this], true)) ) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        else
        	call UnitDamageTargetBJ(s__ChoujiChoharite_caster[this], s__ChoujiChoharite_target[this], I2R(GetHeroStr(s__ChoujiChoharite_caster[this], true)) * I2R(GetUnitAbilityLevel(s__ChoujiChoharite_caster[this], 'A0WD')), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
        endif
	call GroupAddUnit(s__ChoujiChoharite_damaged[this], s__ChoujiChoharite_target[this])
        call TimerStart(NewTimerEx(this), 0.03, true, function s__ChoujiChoharite_periodic)
    endfunction 

    function s__ChoujiChoharite_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(22 , s__ChoujiChoharite_SPELL_ID , function s__ChoujiChoharite_actions)
    endfunction 


//===========================================================================
// Trigger: ChoujiSemi
//===========================================================================

function Trig_ChoujiSemi_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A084' ) )
endfunction

function Trig_ChoujiSemi_Func008Func002Func005001003 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction

function Trig_ChoujiSemi_Func008Func002Func005Func001C takes nothing returns boolean
	if ( not ( IsUnitInGroup(GetEnumUnit(), udg_groups06[37]) == false ) ) then
		return false
	endif
	return true
endfunction

function Trig_ChoujiSemi_Func008Func002Func005A takes nothing returns nothing
	if ( Trig_ChoujiSemi_Func008Func002Func005Func001C() ) then
		if GetUnitAbilityLevel(GetTriggerUnit(), 'B00E') > 0 then
			call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), ( ( 650.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A084')) ) + ( 6.00 * I2R(GetHeroStr(GetTriggerUnit(), true)) ) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
		else
			call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), ( ( 650.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A084')) ) + ( 4.00 * I2R(GetHeroStr(GetTriggerUnit(), true)) ) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
		endif
		call GroupAddUnit(udg_groups06[37], GetEnumUnit())
	endif
endfunction

function Trig_ChoujiSemi_Actions takes nothing returns nothing
	//set udg_ChoujiCasting=true
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call PlaySoundOnUnitBJ(gg_snd_Chouji_R, 80.0, GetTriggerUnit())
	endif
	set udg_units14[52]=GetTriggerUnit()
	set udg_locations07[3056]=GetUnitLoc(GetTriggerUnit())
	//call TriggerSleepAction(0.05)
	call PauseUnit(udg_units14[52], true)
	call SetUnitAnimation(udg_units14[52], "Spell Slam")
	call SetUnitScale((GetTriggerUnit() ), (( 1 )*1.0), (( 1 )*1.0), (( 1)*1.0)) // INLINED!!
	call TriggerSleepAction(1.50)
	set bj_forLoopBIndex=1
	set bj_forLoopBIndexEnd=6
	loop
		exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
		set udg_locations07[3057]=PolarProjectionBJ(udg_locations07[3056], ( - 350.00 + ( 100.00 * I2R(bj_forLoopBIndex) ) ), GetUnitFacing(GetTriggerUnit()))
		set bj_forLoopAIndex=1
		set bj_forLoopAIndexEnd=6
		loop
			exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
			set udg_locations07[3058]=PolarProjectionBJ(udg_locations07[3057], ( - 320.00 + ( 80.00 * I2R(bj_forLoopAIndex) ) ), ( GetUnitFacing(GetTriggerUnit()) - 90.00 ))
call AddSpecialEffectLocBJ((udg_locations07[3058] ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
			call DestroyEffect(bj_lastCreatedEffect)
			set bj_wantDestroyGroup=true
			call ForGroupBJ(GetUnitsInRangeOfLocMatching(250.00, udg_locations07[3058], Condition(function Trig_ChoujiSemi_Func008Func002Func005001003)), function Trig_ChoujiSemi_Func008Func002Func005A)
			call RemoveLocation(udg_locations07[3058])
			set bj_forLoopAIndex=bj_forLoopAIndex + 1
		endloop
		call RemoveLocation(udg_locations07[3057])
		set bj_forLoopBIndex=bj_forLoopBIndex + 1
	endloop
	call RemoveLocation(udg_locations07[3058])
	call CameraSetEQNoiseForPlayer(GetOwningPlayer(GetTriggerUnit()), 17.00)
	call TriggerSleepAction(0.50)
	call PauseUnit(GetTriggerUnit(), false)
	call SetUnitScale((GetTriggerUnit() ), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ) )*1.0), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ) )*1.0), (( ( 1 + ( 0.01 * I2R(udg_integers02[3307]) ) ))*1.0)) // INLINED!!
	call CameraClearNoiseForPlayer(GetOwningPlayer(GetTriggerUnit()))
	call GroupClear(udg_groups06[37])
endfunction

function InitTrig_ChoujiSemi takes nothing returns nothing
	set udg_trigger66=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger66, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger66, Condition(function Trig_ChoujiSemi_Conditions))
	call TriggerAddAction(udg_trigger66, function Trig_ChoujiSemi_Actions)
        call EnableTriggerForId(22 , udg_trigger66)
endfunction 

//===========================================================================
// Trigger: ChoujiNewUlt
//===========================================================================

//Implemented from module Alloc:
    
        function s__ChoujiNewUlt_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__ChoujiNewUlt_Alloc__recycle[(0)] == 0 ) then
                set s__ChoujiNewUlt_Alloc__instanceCount=s__ChoujiNewUlt_Alloc__instanceCount + 1
                set this=s__ChoujiNewUlt_Alloc__instanceCount
            else
                set this=s__ChoujiNewUlt_Alloc__recycle[(0)]
                set s__ChoujiNewUlt_Alloc__recycle[(0)]=s__ChoujiNewUlt_Alloc__recycle[s__ChoujiNewUlt_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__ChoujiNewUlt_deallocate takes integer this returns nothing
            set s__ChoujiNewUlt_Alloc__recycle[this]=s__ChoujiNewUlt_Alloc__recycle[(0)]
            set s__ChoujiNewUlt_Alloc__recycle[(0)]=this
        endfunction
    
    function s__ChoujiNewUlt_startDamage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        local integer j
        local real x
        local real y
        loop
            exitwhen i > s__ChoujiNewUlt_count[this]
            set j=0
            loop
                set j=j + 1
                exitwhen j > 6
                set x=(((GetUnitX(s__ChoujiNewUlt_ball[this]) )*1.0) + Cos((( Deg2Rad(72 * j) )*1.0)) * (( 60 * ( i + 1 ))*1.0)) // INLINED!!
                set y=(((GetUnitY(s__ChoujiNewUlt_ball[this]) )*1.0) + Sin((( Deg2Rad(72 * j) )*1.0)) * (( 60 * ( i + 1 ))*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            endloop
            set i=i + 1
        endloop
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__ChoujiNewUlt_ball[this]), GetUnitY(s__ChoujiNewUlt_ball[this]), 250 + 60 * ( s__ChoujiNewUlt_count[this] + 1 ), null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__ChoujiNewUlt_caster[this])) then
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == true then
                    call UnitDamageTarget(s__ChoujiNewUlt_caster[this], bj_lastCreatedUnit, ( 9 * GetHeroStr(s__ChoujiNewUlt_caster[this], true) ) / 5.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                else
                    call UnitDamageTarget(s__ChoujiNewUlt_caster[this], bj_lastCreatedUnit, ( 9 * GetHeroStr(s__ChoujiNewUlt_caster[this], true) ) / 5.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__ChoujiNewUlt_count[this]=s__ChoujiNewUlt_count[this] + 1
        if s__ChoujiNewUlt_count[this] >= 5 then
            call KillUnit(s__ChoujiNewUlt_ball[this])
            call ShowUnit(s__ChoujiNewUlt_ball[this], false)
            call SetUnitX(s__ChoujiNewUlt_caster[this], GetUnitX(s__ChoujiNewUlt_ball[this]))
            call SetUnitY(s__ChoujiNewUlt_caster[this], GetUnitY(s__ChoujiNewUlt_ball[this]))
            call ShowUnit(s__ChoujiNewUlt_caster[this], true)
            call SetUnitInvulnerable(s__ChoujiNewUlt_caster[this], false)
            call SelectUnitForPlayerSingle(s__ChoujiNewUlt_caster[this], GetOwningPlayer(s__ChoujiNewUlt_caster[this]))
            call PauseUnit(s__ChoujiNewUlt_caster[this], false)
            call ReleaseTimer(s__ChoujiNewUlt_spin[this])
            set s__ChoujiNewUlt_spin[this]=null
            call s__ChoujiNewUlt_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__ChoujiNewUlt_damage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__ChoujiNewUlt_count[this]=0
        call TimerStart(NewTimerEx(this), 0.05, true, function s__ChoujiNewUlt_startDamage)
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=20
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_locations07[71]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(s__ChoujiNewUlt_ball[this]), 250.00, 250.00))
            call CreateNUnitsAtLoc(1, 'zhyd', GetOwningPlayer(s__ChoujiNewUlt_caster[this]), udg_locations07[71], GetRandomReal(0, 360))
            call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(50.00, 200.00), 100.00)
            set udg_locations07[72]=PolarProjectionBJ(udg_locations07[71], 400.00, GetUnitFacing(bj_lastCreatedUnit))
            call IssuePointOrderLoc(bj_lastCreatedUnit, "move", udg_locations07[72])
            call UnitApplyTimedLifeBJ(1.50, 'BTLF', bj_lastCreatedUnit)
            call RemoveLocation(udg_locations07[71])
            call RemoveLocation(udg_locations07[72])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__ChoujiNewUlt_bijuuSpin takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitFacing(s__ChoujiNewUlt_ball[this], GetUnitFacing(s__ChoujiNewUlt_ball[this]) + 10)
    endfunction 
    
    function s__ChoujiNewUlt_down takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call TimerStart(s__ChoujiNewUlt_spin[this], 0.03, true, function s__ChoujiNewUlt_bijuuSpin)
        call SetUnitFlyHeight(s__ChoujiNewUlt_ball[this], 0, 2000)
        call TimerStartEx(NewTimerEx(this) , 0.25 , false , function s__ChoujiNewUlt_damage , "ChoujiNewUlt_damage")
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__ChoujiNewUlt_morph takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        if s__ChoujiNewUlt_count[this] < 5 then
            loop
                exitwhen i > 10
                //set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'z00A', GetUnitX(this.caster), GetUnitY(this.caster), GetRandomReal(0, 360))
                //call SetUnitScale(bj_lastCreatedUnit, GetRandomReal(1, 3), 0, 0)
                //call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(3, 5))
                //call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(40, 250), 0)
                //call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
                set i=i + 1
            endloop
        endif
        set s__ChoujiNewUlt_count[this]=s__ChoujiNewUlt_count[this] + 1
        if s__ChoujiNewUlt_count[this] > 7 then
            set s__ChoujiNewUlt_ball[this]=CreateUnit(GetOwningPlayer(s__ChoujiNewUlt_caster[this]), 'h06F', GetUnitX(s__ChoujiNewUlt_caster[this]), GetUnitY(s__ChoujiNewUlt_caster[this]), GetUnitFacing(s__ChoujiNewUlt_caster[this]))
	    call SetUnitAnimation(s__ChoujiNewUlt_ball[this], "spell throw")
            call SetUnitTimeScale(s__ChoujiNewUlt_ball[this], 5.0)
            set s__ChoujiNewUlt_spin[this]=NewTimerEx(this)
            call TimerStartEx(NewTimerEx(this) , 0.5 , false , function s__ChoujiNewUlt_down , "ChoujiNewUlt_down")
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__ChoujiNewUlt_actions takes nothing returns nothing
        local integer this= s__ChoujiNewUlt_allocate()
        set s__ChoujiNewUlt_caster[this]=GetTriggerUnit()
        set s__ChoujiNewUlt_target_x[this]=GetSpellTargetX()
        set s__ChoujiNewUlt_target_y[this]=GetSpellTargetY()
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cFFFF0000Chouji: I'm not fat, I've just got big bones!!..|r")
		call PlaySoundOnUnitBJ(gg_snd_Chouji_T, 80.0, GetTriggerUnit())
	endif
        call PauseUnit(s__ChoujiNewUlt_caster[this], true)
	call ShowUnit(s__ChoujiNewUlt_caster[this], false)
	call SetUnitX(s__ChoujiNewUlt_caster[this], s__ChoujiNewUlt_target_x[this])
        call SetUnitY(s__ChoujiNewUlt_caster[this], s__ChoujiNewUlt_target_y[this])
	call SetUnitInvulnerable(s__ChoujiNewUlt_caster[this], true)
        //call SlowArea(this.caster, this.target_x, this.target_y, 400)
        set s__ChoujiNewUlt_count[this]=0
        call TimerStartEx(NewTimerEx(this) , 0.05 , true , function s__ChoujiNewUlt_morph , "ChoujiNewUlt_morph")
    endfunction 
    
    function s__ChoujiNewUlt_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(22 , s__ChoujiNewUlt_SPELL_ID , function s__ChoujiNewUlt_actions)
    endfunction 
    
//===========================================================================
// Trigger: ChoujiYummy
//===========================================================================
function Trig_ChoujiYummy_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0NZ' ) ) then
        return false
    endif
    return true
endfunction

function Trig_ChoujiYummy_Func001Func007Func002C takes nothing returns boolean
    if ( not ( GetForLoopIndexA() == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_ChoujiYummy_Func001Func007C takes nothing returns boolean
    if ( not ( GetForLoopIndexA() == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_ChoujiYummy_Func001C takes nothing returns boolean
    if ( not ( GetHeroLevel(GetTriggerUnit()) >= 35 ) ) then
        return false
    endif
    return true
endfunction

function Trig_ChoujiYummy_Actions takes nothing returns nothing
    local effect e
 local unit u= GetTriggerUnit()
    if ( Trig_ChoujiYummy_Func001C() ) then
        call SetHeroStr(GetTriggerUnit(), GetHeroStr(GetTriggerUnit(), false) + 50, false)
        set e=AddSpecialEffectTargetUnitBJ("chest", GetTriggerUnit(), "war3mapImported\\ChoujiButterfly.mdx")
        call TriggerSleepAction(15.0)
        call SetHeroStr(GetTriggerUnit(), GetHeroStr(GetTriggerUnit(), false) - 50, false)
        call DestroyEffect(e)
        set e=null
        
    else
	call PauseUnit(u, true)
	call TriggerSleepAction(0.5)
	call PauseUnit(u, false)
        set bj_forLoopAIndex=GetRandomInt(1, 4)
        if bj_forLoopAIndex == 1 then
            call UnitAddItemByIdSwapped('I089', GetTriggerUnit())
        elseif bj_forLoopAIndex == 2 then
             call UnitAddItemByIdSwapped('I08J', GetTriggerUnit())
        elseif bj_forLoopAIndex == 3 then
            call UnitAddItemByIdSwapped('I08L', GetTriggerUnit())
	else
	    call UnitAddItemByIdSwapped('I04R', GetTriggerUnit())
        endif
    endif
endfunction

//===========================================================================
function InitTrig_ChoujiYummy takes nothing returns nothing
    set gg_trg_ChoujiYummy=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_ChoujiYummy, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_ChoujiYummy, Condition(function Trig_ChoujiYummy_Conditions))
    call TriggerAddAction(gg_trg_ChoujiYummy, function Trig_ChoujiYummy_Actions)
    call EnableTriggerForId(22 , gg_trg_ChoujiYummy)
endfunction


//===========================================================================
// Trigger: DanzoMokuton
//===========================================================================
function Trig_DanzoMokuton_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0G5' ) ) then
        return false
    endif
    return true
endfunction

function Trig_danzo_mokuton_Func011002003 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Danzo_Q_Caster)) == true )
endfunction

function Trig_danzo_mokuton_Func012A takes nothing returns nothing
    //call StunUnitTimed(udg_Danzo_Q_Caster, GetEnumUnit(), 2.0) 
    local unit u= CreateAbilityDummy(udg_Danzo_Q_Caster , 'A0EM')
    call IssueTargetOrder(u, "entanglingroots", GetEnumUnit())
    set u=null
    call UnitDamageTargetBJ(udg_Danzo_Q_Caster, GetEnumUnit(), ( I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_Danzo_Q_Caster, true)) * I2R(GetUnitAbilityLevelSwapped('A0G5', udg_Danzo_Q_Caster)) ), ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_DanzoMokuton_Actions takes nothing returns nothing
    set udg_Danzo_Q_Caster=GetTriggerUnit()
    set udg_Danzo_Q_Point[1]=GetSpellTargetLoc()
    //call TriggerSleepAction( 0.20 )
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=10
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Danzo_Q_Point[2]=PolarProjectionBJ(udg_Danzo_Q_Point[1], 100.00, ( 36.00 * I2R(GetForLoopIndexA()) ))
call AddSpecialEffectLocBJ((udg_Danzo_Q_Point[2] ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
        call DestroyEffect(GetLastCreatedEffectBJ())
        call RemoveLocation(udg_Danzo_Q_Point[2])
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    //call AddSpecialEffectLocBJEX( udg_Danzo_Q_Point[1], "NewDirtEXNofire.mdx" )
    //call DestroyEffect( GetLastCreatedEffectBJ() )

	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=5
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		set udg_locations03[63]=PolarProjectionBJ(GetSpellTargetLoc(), GetRandomReal(0, 75.00), GetRandomReal(0, 360))
		call CreateNUnitsAtLoc(1, 'echm', GetOwningPlayer(GetTriggerUnit()), udg_locations03[63], GetRandomReal(0, 360))
		call UnitApplyTimedLifeBJ(1.00, 'BTLF', bj_lastCreatedUnit)
		call SetUnitScale(((bj_lastCreatedUnit ) ), (( (( GetRandomReal(150.00, 300.00) )*1.0) / 100 )*1.0), (( (( GetRandomReal(150.00, 300.00) )*1.0) / 100 )*1.0), (( (( GetRandomReal(150.00, 300.00))*1.0) / 100)*1.0)) // INLINED!!
		call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(- 100.00, 0.00), 1000000000.00)
		call RemoveLocation(udg_locations03[63])
		set udg_locations03[63]=PolarProjectionBJ(GetSpellTargetLoc(), GetRandomReal(0, 75.00), GetRandomReal(0, 360))
		call CreateNUnitsAtLoc(1, 'ohun', GetOwningPlayer(GetTriggerUnit()), udg_locations03[63], GetRandomReal(0, 360))
		call SetUnitTimeScalePercent(bj_lastCreatedUnit, 50.00)
		call KillUnit(bj_lastCreatedUnit)
		call RemoveLocation(udg_locations03[63])
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop

//h039
    call CreateNUnitsAtLoc(1, 'h039', GetOwningPlayer(udg_Danzo_Q_Caster), udg_Danzo_Q_Point[1], bj_UNIT_FACING)
    call SetUnitTimeScale(GetLastCreatedUnit(), 6)
    //call SetUnitScalePercent( GetLastCreatedUnit(), 200.00, 200.00, 200.00 )
    call UnitApplyTimedLifeBJ(1.50, 'BTLF', GetLastCreatedUnit())
    set udg_Danzo_Q_Group=GetUnitsInRangeOfLocMatching(400.00, udg_Danzo_Q_Point[1], Condition(function Trig_danzo_mokuton_Func011002003))
    call ForGroupBJ(udg_Danzo_Q_Group, function Trig_danzo_mokuton_Func012A)
    call DestroyGroup(udg_Danzo_Q_Group)
    call CreateNUnitsAtLoc(1, 'h039', GetOwningPlayer(udg_Danzo_Q_Caster), udg_Danzo_Q_Point[1], bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(1.50, 'BTLF', GetLastCreatedUnit())
    call SetUnitTimeScale(GetLastCreatedUnit(), 6)
    call IssueImmediateOrder(GetLastCreatedUnit(), "stand")
    //call CreateNUnitsAtLoc( 1, 'h04J', GetOwningPlayer(udg_Danzo_Q_Caster), udg_Danzo_Q_Point[1], bj_UNIT_FACING )
    //call UnitApplyTimedLifeBJ( 1.00, 'BTLF', GetLastCreatedUnit() )
    //call IssueImmediateOrder( GetLastCreatedUnit(), "stomp" )
    call RemoveLocation(udg_Danzo_Q_Point[1])
endfunction

//===========================================================================
function InitTrig_DanzoMokuton takes nothing returns nothing
    set gg_trg_DanzoMokuton=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_DanzoMokuton, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_DanzoMokuton, Condition(function Trig_DanzoMokuton_Conditions))
    call TriggerAddAction(gg_trg_DanzoMokuton, function Trig_DanzoMokuton_Actions)
    call EnableTriggerForId(41 , gg_trg_DanzoMokuton)
endfunction


//===========================================================================
// Trigger: DanzoFuuton
//===========================================================================

function Trig_dDanzoFuuton_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A0G4' ) )
endfunction

function Trig_dDanzoFuuton_Actions takes nothing returns nothing
        local location loc= GetUnitLoc(GetTriggerUnit())
	set udg_DanzoAngle=AngleBetweenPoints(loc, GetSpellTargetLoc())
	

        //call KillUnit(CreateUnitAtLoc(GetTriggerPlayer(), 'u00F', loc, udg_DanzoAngle))
        //call RemoveLocation(loc)
	set udg_units02[2]=GetTriggerUnit()
	set udg_real04=0.00
	call TriggerSleepAction(0.10)
	set udg_location06=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), 100.00, udg_DanzoAngle)

			//set bj_lastCreatedEffect = AddSpecialEffect("PunchImpact.mdl", GetLocationX(udg_location06), GetLocationY(udg_location06))
			//call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, Deg2Rad(udg_DanzoAngle) + bj_PI)
			//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
			//call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetLocationX(udg_location06), GetLocationY(udg_location06)))
			//call DestroyEffect(bj_lastCreatedEffect)

	call CreateNUnitsAtLoc(1, 'ntrg', GetOwningPlayer(udg_units02[2]), udg_location06, udg_DanzoAngle)
	set udg_units02[3]=bj_lastCreatedUnit
	call EnableTrigger(udg_trigger77)
	if GetUnitAbilityLevel(GetTriggerUnit(), 'B03J') > 0 then
		call TriggerSleepAction(1.50)
	else
		call TriggerSleepAction(1.20)
	endif
	call DisableTrigger(udg_trigger77)
	call KillUnit(udg_units02[3])
    call ShowUnit(udg_units02[3], false)
	call RemoveLocation(udg_location06)
endfunction

function Trig_DanzoFuuton2_Func010001003 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units02[3])) )
endfunction

function Trig_DanzoFuuton2_Func010A takes nothing returns nothing
	call UnitDamageTarget(udg_units02[2], GetEnumUnit(), ( 3.5 * I2R(GetUnitAbilityLevel(udg_units02[2], 'A0G4')) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction

function Trig_DanzoFuuton2_Actions takes nothing returns nothing
	set udg_real04=( udg_real04 + 0.05 )
	set udg_locations03[108]=PolarProjectionBJ(GetUnitLoc(udg_units02[3]), 20.00, GetUnitFacing(udg_units02[3]))
	call SetUnitPositionLoc(udg_units02[3], udg_locations03[108])
	call RemoveLocation(udg_locations03[108])
	call SetUnitScale((udg_units02[3] ), (( ( 1 + udg_real04 ) )*1.0), (( ( 1 + udg_real04 ) )*1.0), (( ( 1 + udg_real04 ))*1.0)) // INLINED!!
	set udg_locations03[108]=GetUnitLoc(udg_units02[3])
	//call AddSpecialEffectLocBJEX(udg_locations03[108],"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(( 40.00 + ( 150.00 * udg_real04 ) ), udg_locations03[108], Condition(function Trig_DanzoFuuton2_Func010001003)), function Trig_DanzoFuuton2_Func010A)
	call RemoveLocation(udg_locations03[108])
endfunction

function InitTrig_DanzoFuuton takes nothing returns nothing
	set udg_trigger76=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger76, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger76, Condition(function Trig_dDanzoFuuton_Conditions))
	call TriggerAddAction(udg_trigger76, function Trig_dDanzoFuuton_Actions)
	call EnableTriggerForId(41 , udg_trigger76)
	set udg_trigger77=CreateTrigger()
	call DisableTrigger(udg_trigger77)
	call TriggerRegisterTimerEventPeriodic(udg_trigger77, 0.03)
	call TriggerAddAction(udg_trigger77, function Trig_DanzoFuuton2_Actions)
endfunction 

//===========================================================================
// Trigger: DanzoShuriken
//===========================================================================

//Implemented from module Alloc:
    
        function s__DanzoShuriken_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DanzoShuriken_Alloc__recycle[(0)] == 0 ) then
                set s__DanzoShuriken_Alloc__instanceCount=s__DanzoShuriken_Alloc__instanceCount + 1
                set this=s__DanzoShuriken_Alloc__instanceCount
            else
                set this=s__DanzoShuriken_Alloc__recycle[(0)]
                set s__DanzoShuriken_Alloc__recycle[(0)]=s__DanzoShuriken_Alloc__recycle[s__DanzoShuriken_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DanzoShuriken_deallocate takes integer this returns nothing
            set s__DanzoShuriken_Alloc__recycle[this]=s__DanzoShuriken_Alloc__recycle[(0)]
            set s__DanzoShuriken_Alloc__recycle[(0)]=this
        endfunction

    function s__DanzoShuriken_comeback takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__DanzoShuriken_shuriken[this])
        local real y= GetUnitY(s__DanzoShuriken_shuriken[this])
        local real angle= Atan3(x , y , GetUnitX(s__DanzoShuriken_caster[this]) , GetUnitY(s__DanzoShuriken_caster[this]))
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__DanzoShuriken_shuriken[this], new_x)
        call SetUnitY(s__DanzoShuriken_shuriken[this], new_y)
        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DanzoShuriken_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__DanzoShuriken_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                call GroupAddUnit(s__DanzoShuriken_damaged[this], bj_lastCreatedUnit)
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                call UnitDamageTarget(s__DanzoShuriken_caster[this], bj_lastCreatedUnit, GetHeroInt(s__DanzoShuriken_caster[this], true) / 2 * GetUnitAbilityLevel(s__DanzoShuriken_caster[this], s__DanzoShuriken_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if GetDistanceUnits(s__DanzoShuriken_caster[this] , s__DanzoShuriken_shuriken[this]) < 50 then
            call KillUnit(s__DanzoShuriken_shuriken[this])
            call ShowUnit(s__DanzoShuriken_shuriken[this], false)
            call DestroyGroup(s__DanzoShuriken_damaged[this])
            set s__DanzoShuriken_caster[this]=null
            set s__DanzoShuriken_shuriken[this]=null
            set s__DanzoShuriken_damaged[this]=null
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__DanzoShuriken_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__DanzoShuriken_shuriken[this])
        local real y= GetUnitY(s__DanzoShuriken_shuriken[this])
        local real new_x= (((x )*1.0) + Cos((( s__DanzoShuriken_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__DanzoShuriken_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__DanzoShuriken_shuriken[this], new_x)
        call SetUnitY(s__DanzoShuriken_shuriken[this], new_y)
        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
        set s__DanzoShuriken_count[this]=s__DanzoShuriken_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DanzoShuriken_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__DanzoShuriken_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                call GroupAddUnit(s__DanzoShuriken_damaged[this], bj_lastCreatedUnit)
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                call UnitDamageTarget(s__DanzoShuriken_caster[this], bj_lastCreatedUnit, 50 * GetUnitAbilityLevel(s__DanzoShuriken_caster[this], s__DanzoShuriken_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__DanzoShuriken_count[this] > 25 then
            call GroupClear(s__DanzoShuriken_damaged[this])
            call TimerStart(NewTimerEx(this), 0.03, true, function s__DanzoShuriken_comeback)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__DanzoShuriken_actions takes nothing returns nothing
        local integer this= s__DanzoShuriken_allocate()
        set s__DanzoShuriken_count[this]=0
        set s__DanzoShuriken_angle[this]=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        set s__DanzoShuriken_caster[this]=GetTriggerUnit()
        set s__DanzoShuriken_damaged[this]=CreateGroup()
        set s__DanzoShuriken_shuriken[this]=CreateUnit(GetTriggerPlayer(), 'h052', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__DanzoShuriken_periodic)
    endfunction 

    function s__DanzoShuriken_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(41 , s__DanzoShuriken_SPELL_ID , function s__DanzoShuriken_actions)
    endfunction 

//===========================================================================
// Trigger: DanzoNewSemi
//===========================================================================
// scope DanzoNewSemiS begins



//Implemented from module Alloc:
    
        function s__DanzoNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DanzoNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__DanzoNewSemi_Alloc__instanceCount=s__DanzoNewSemi_Alloc__instanceCount + 1
                set this=s__DanzoNewSemi_Alloc__instanceCount
            else
                set this=s__DanzoNewSemi_Alloc__recycle[(0)]
                set s__DanzoNewSemi_Alloc__recycle[(0)]=s__DanzoNewSemi_Alloc__recycle[s__DanzoNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DanzoNewSemi_deallocate takes integer this returns nothing
            set s__DanzoNewSemi_Alloc__recycle[this]=s__DanzoNewSemi_Alloc__recycle[(0)]
            set s__DanzoNewSemi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__DanzoNewSemi_destroy takes integer this returns nothing
        call UnitRemoveAbility(s__DanzoNewSemi_caster[this], s__DanzoNewSemi_MISSILE_ID)
        call SetPlayerAbilityAvailable(GetOwningPlayer(s__DanzoNewSemi_caster[this]), s__DanzoNewSemi_SPELL_ID, true)
        call KillUnit(s__DanzoNewSemi_baku[this])
	call KillUnit(s__DanzoNewSemi_wind[this])
	set s__DanzoNewSemi_wind[this]=null
        set s__DanzoNewSemi_caster[this]=null
        set s__DanzoNewSemi_baku[this]=null
        call s__DanzoNewSemi_deallocate(this)
    endfunction
    
    function s__DanzoNewSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= (((GetUnitX(s__DanzoNewSemi_baku[this]) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__DanzoNewSemi_baku[this])) )*1.0)) * (( 150.0)*1.0)) // INLINED!!
        local real y= (((GetUnitY(s__DanzoNewSemi_baku[this]) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__DanzoNewSemi_baku[this])) )*1.0)) * (( 150.0)*1.0)) // INLINED!!
        local real angle
        local real new_x
        local real new_y
        set s__DanzoNewSemi_count[this]=s__DanzoNewSemi_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 500.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DanzoNewSemi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set angle=Atan3(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , x , y)
                set new_x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( angle )*1.0)) * (( 10)*1.0)) // INLINED!!
                set new_y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( angle )*1.0)) * (( 10)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
                    call SetUnitX(bj_lastCreatedUnit, new_x)
                    call SetUnitY(bj_lastCreatedUnit, new_y)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__DanzoNewSemi_count[this] > 33 * 5 or GetWidgetLife(s__DanzoNewSemi_baku[this]) < 0.405 then
            call s__DanzoNewSemi_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__DanzoNewSemi_pause takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__DanzoNewSemi_caster[this])
        local real y= GetUnitY(s__DanzoNewSemi_caster[this])
        local real angle= Atan3(x , y , s__DanzoNewSemi_target_x[this] , s__DanzoNewSemi_target_y[this])
        local real new_x= (((s__DanzoNewSemi_target_x[this] )*1.0) + Cos((( angle )*1.0)) * (( 150)*1.0)) // INLINED!!
        local real new_y= (((s__DanzoNewSemi_target_y[this] )*1.0) + Sin((( angle )*1.0)) * (( 150)*1.0)) // INLINED!!
        local integer i
        call PauseUnit(s__DanzoNewSemi_caster[this], false)
        call SetUnitTimeScale(s__DanzoNewSemi_caster[this], 1.0)
        set s__DanzoNewSemi_count[this]=0
        set s__DanzoNewSemi_baku[this]=(CreateUnit((GetOwningPlayer(s__DanzoNewSemi_caster[this]) ), ( 'h04Z' ), (( new_x )*1.0), (( new_y )*1.0), (( Rad2Deg(angle + bj_PI))*1.0))) // INLINED!!
	set s__DanzoNewSemi_wind[this]=CreateUnit(GetOwningPlayer(s__DanzoNewSemi_caster[this]), 'h01R', (((new_x )*1.0) + Cos((( angle + bj_PI )*1.0)) * (( 350)*1.0)), (((new_y )*1.0) + Sin((( angle + bj_PI )*1.0)) * (( 350)*1.0)), Rad2Deg(angle + bj_PI)) // INLINED!!
        call SetUnitX(s__DanzoNewSemi_baku[this], new_x)
        call SetUnitY(s__DanzoNewSemi_baku[this], new_y)
        set i=0
        loop
            exitwhen i > 5
            set x=(((new_x )*1.0) + Cos((( Deg2Rad(72 * i) )*1.0)) * (( 50.0)*1.0)) // INLINED!!
            set y=(((new_y )*1.0) + Sin((( Deg2Rad(72 * i) )*1.0)) * (( 50.0)*1.0)) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=i + 1
        endloop
        call TimerStart(NewTimerEx(this), 0.05, true, function s__DanzoNewSemi_periodic)
    endfunction
    
    function s__DanzoNewSemi_actions takes nothing returns nothing
        local integer this= s__DanzoNewSemi_allocate()
        set s__DanzoNewSemi_caster[this]=GetTriggerUnit()
        set s__DanzoNewSemi_target_x[this]=GetSpellTargetX()
        set s__DanzoNewSemi_target_y[this]=GetSpellTargetY()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Danzo_R, 100.0, GetTriggerUnit())
        endif
        set s__DanzoNewSemiS__instances[(GetUnitUserData((s__DanzoNewSemi_caster[this])))]= this // INLINED!!
        call PauseUnit(s__DanzoNewSemi_caster[this], true)
        call SetUnitAnimation(s__DanzoNewSemi_caster[this], "spell one")
        call SetUnitTimeScale(s__DanzoNewSemi_caster[this], 2.0)
        set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'h01V' ), (( GetUnitX(s__DanzoNewSemi_caster[this]) )*1.0), (( GetUnitY(s__DanzoNewSemi_caster[this]) )*1.0), (( 270.0)*1.0))) // INLINED!!
        call SetUnitAnimation(bj_lastCreatedUnit, "birth")
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.5)
        call SetPlayerAbilityAvailable(GetOwningPlayer(s__DanzoNewSemi_caster[this]), s__DanzoNewSemi_SPELL_ID, false)
        call UnitAddAbility(s__DanzoNewSemi_caster[this], s__DanzoNewSemi_MISSILE_ID)
        call SetUnitAbilityLevel(s__DanzoNewSemi_caster[this], s__DanzoNewSemi_MISSILE_ID, GetUnitAbilityLevel(s__DanzoNewSemi_caster[this], s__DanzoNewSemi_SPELL_ID))
        call TimerStart(NewTimerEx(this), 0.5, false, function s__DanzoNewSemi_pause)
    endfunction
    
    function s__DanzoNewSemi_bakuDies takes nothing returns nothing
        if GetUnitTypeId(GetTriggerUnit()) == 'h04Z' then
            set bj_lastCreatedUnit=GetDummy(GetTriggerPlayer() , "s_Shadow_Smoke.mdl" , GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , 270)
            call SetUnitScale(bj_lastCreatedUnit, 2.0, 0, 0)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
            call ShowUnit(GetTriggerUnit(), false)
        endif
    endfunction 
    
    function s__DanzoNewSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(41 , s__DanzoNewSemi_SPELL_ID , function s__DanzoNewSemi_actions)
        call RegisterPlayerUnitEventForId(41 , EVENT_PLAYER_UNIT_DEATH , function s__DanzoNewSemi_bakuDies)
    endfunction
    

    
//Implemented from module Alloc:
    
        function s__DanzoMissile_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DanzoMissile_Alloc__recycle[(0)] == 0 ) then
                set s__DanzoMissile_Alloc__instanceCount=s__DanzoMissile_Alloc__instanceCount + 1
                set this=s__DanzoMissile_Alloc__instanceCount
            else
                set this=s__DanzoMissile_Alloc__recycle[(0)]
                set s__DanzoMissile_Alloc__recycle[(0)]=s__DanzoMissile_Alloc__recycle[s__DanzoMissile_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DanzoMissile_deallocate takes integer this returns nothing
            set s__DanzoMissile_Alloc__recycle[this]=s__DanzoMissile_Alloc__recycle[(0)]
            set s__DanzoMissile_Alloc__recycle[(0)]=this
        endfunction
    
    function s__DanzoMissile_destroy takes integer this returns nothing
        local integer semi= s__DanzoNewSemiS__instances[(GetUnitUserData((s__DanzoMissile_caster[this])))] // INLINED!!
        call s__DanzoNewSemi_destroy(semi)
        call KillUnit(s__DanzoMissile_ball[this])
        call ShowUnit(s__DanzoMissile_ball[this], false)
        set s__DanzoMissile_caster[this]=null
        set s__DanzoMissile_ball[this]=null
        call s__DanzoMissile_deallocate(this)
    endfunction
    
    function s__DanzoMissile_dealDamage takes nothing returns boolean
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__DanzoMissile_caster[s__DanzoMissile_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
            call UnitDamageTarget(s__DanzoMissile_caster[s__DanzoMissile_instance], GetFilterUnit(), 5.0 * GetHeroInt(s__DanzoMissile_caster[s__DanzoMissile_instance], true) + 500.0 * GetUnitAbilityLevel(s__DanzoMissile_caster[s__DanzoMissile_instance], s__DanzoMissile_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
        endif
        return false
    endfunction 

    function s__DanzoMissile_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real new_x= (((GetUnitX(s__DanzoMissile_ball[this]) )*1.0) + Cos((( s__DanzoMissile_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real new_y= (((GetUnitY(s__DanzoMissile_ball[this]) )*1.0) + Sin((( s__DanzoMissile_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local boolean hasHeroes= false
        set s__DanzoMissile_count[this]=s__DanzoMissile_count[this] + 1
        call SetUnitX(s__DanzoMissile_ball[this], new_x)
        call SetUnitY(s__DanzoMissile_ball[this], new_y)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 180.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DanzoMissile_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                set hasHeroes=true
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        if hasHeroes then
            set s__DanzoMissile_count[this]=31
        endif
        if s__DanzoMissile_count[this] > 30 then
            call DestroyEffect(AddSpecialEffect(("NewDirtEXNofire.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            set bj_lastCreatedGroup=CreateGroup()
            set s__DanzoMissile_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300.0, Filter(function s__DanzoMissile_dealDamage))
            call s__DanzoMissile_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__DanzoMissile_actions takes nothing returns nothing
        local integer this= s__DanzoMissile_allocate()
        set s__DanzoMissile_caster[this]=GetTriggerUnit()
        set s__DanzoMissile_angle[this]=Atan3(GetUnitX(s__DanzoMissile_caster[this]) , GetUnitY(s__DanzoMissile_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__DanzoMissile_count[this]=0
        set s__DanzoMissile_ball[this]=(CreateUnit((GetTriggerPlayer() ), ( 'h050' ), (( GetUnitX(s__DanzoMissile_caster[this]) )*1.0), (( GetUnitY(s__DanzoMissile_caster[this]) )*1.0), (( GetUnitFacing(s__DanzoMissile_caster[this]))*1.0))) // INLINED!!
        call SetUnitX(s__DanzoMissile_ball[this], GetUnitX(s__DanzoMissile_caster[this]))
        call SetUnitY(s__DanzoMissile_ball[this], GetUnitY(s__DanzoMissile_caster[this]))
        call TimerStart(NewTimerEx(this), 0.03, true, function s__DanzoMissile_periodic)
    endfunction
    
    function s__DanzoMissile_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(41 , s__DanzoMissile_SPELL_ID , function s__DanzoMissile_actions)
    endfunction
    

// scope DanzoNewSemiS ends
//===========================================================================
// Trigger: DanzoNewNewIzanagi
//===========================================================================
function Trig_DanzoNewNewIzanagi_RemoveInvul takes nothing returns nothing
 local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
	call SetUnitInvulnerable(u, false)
	call ReleaseTimer(GetExpiredTimer())
endfunction 

function Trig_DanzoNewNewIzanagi_Actions takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B05A') > 0 and GetEventDamage() > 1 then
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.2, false, function Trig_DanzoNewNewIzanagi_RemoveInvul) // INLINED!!
    endif
endfunction

function Trig_DanzoNewNewIzanagi_AddBar takes nothing returns nothing
	set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A1CP')
	call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", GetTriggerUnit())
	set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\Sharingan_danzo.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
	call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 2.0)
	call DestroyEffect(bj_lastCreatedEffect)
	call AddLoadingBar(GetTriggerUnit() , 8.0)
endfunction 

function InitTrig_DanzoNewNewIzanagi_Leave takes nothing returns nothing
	if GetUnitTypeId(GetLeavingUnit()) == 'N00V' then
    	    call TriggerRegisterUnitEvent(gg_trg_DanzoNewNewIzanagi, GetLeavingUnit(), EVENT_UNIT_DAMAGED)
            call GroupAddUnit(udg_Danzosus, GetLeavingUnit())
	endif
endfunction

//===========================================================================
function InitTrig_DanzoNewNewIzanagi takes nothing returns nothing
    call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function InitTrig_DanzoNewNewIzanagi_Leave))) // INLINED!!
    call RegisterSpellEffectEventForId(41 , 'A0G6' , function Trig_DanzoNewNewIzanagi_AddBar)
    set gg_trg_DanzoNewNewIzanagi=CreateTrigger()
    call TriggerAddAction(gg_trg_DanzoNewNewIzanagi, function Trig_DanzoNewNewIzanagi_Actions)
endfunction


//===========================================================================
// Trigger: DanzoIzanagiModel
//===========================================================================
// scope DanzoNewIzanagiSM begins


    
//Implemented from module Alloc:
    
        function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[(0)] == 0 ) then
                set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__instanceCount=s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__instanceCount + 1
                set this=s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__instanceCount
            else
                set this=s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[(0)]
                set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[(0)]=s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_deallocate takes integer this returns nothing
            set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[this]=s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[(0)]
            set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_removeSharingan takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call RecycleUnit(s__DanzoNewIzanagiSM__sharingans[(this)*(1)+s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this]])
        set s__DanzoNewIzanagiSM__sharingans[(this)*(1)+s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this]]= null
        set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this]=s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this] - 1
        if s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this] < 0 then
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_spin takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i=0
        local real x
        local real y
        local real angle
        call UnitRemoveBuffs(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this], false, true)
        if s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this] < 0 then
	    call AddUnitAnimationProperties(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this], "alternate", false)
            call DestroyEffect(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_e[this])
            set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_e[this]=null
            call SetUnitVertexColor((s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this] ), ( 255 ), ( 255 ), ( 255 ), ( 255)) // INLINED!!
            call s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            loop
                exitwhen i > s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this]
                set x=(((GetUnitX(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this]) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__DanzoNewIzanagiSM__sharingans[(this)*(1)+i]) + 5) )*1.0)) * (( 100)*1.0)) // INLINED!!
                set y=(((GetUnitY(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this]) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__DanzoNewIzanagiSM__sharingans[(this)*(1)+i]) + 5) )*1.0)) * (( 100)*1.0)) // INLINED!!
                call SetUnitX(s__DanzoNewIzanagiSM__sharingans[(this)*(1)+i], x)
                call SetUnitY(s__DanzoNewIzanagiSM__sharingans[(this)*(1)+i], y)
                call SetUnitFacing(s__DanzoNewIzanagiSM__sharingans[(this)*(1)+i], GetUnitFacing(s__DanzoNewIzanagiSM__sharingans[(this)*(1)+i]) + 5)
                set i=i + 1
            endloop
        endif
    endfunction 
    
    function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_actions takes nothing returns nothing
        local integer this= s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_allocate()
        local real x
        local real y
        local integer i= 0
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Danzo_T, 80, GetTriggerUnit())
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Danzo: I will use any means necessary to protect the village!|r")
        endif
        set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this]=GetTriggerUnit()
        set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_count[this]=7
        set s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_e[this]=AddSpecialEffectTarget("Abilities\\Spells\\Human\\Banish\\BanishTarget.mdl", s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this], "origin")
        call SetUnitVertexColor((s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this] ), ( 255 ), ( 255 ), ( 255 ), ( 150)) // INLINED!!
        loop
            exitwhen i > 7
            set x=(((GetUnitX(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this]) )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
            set y=(((GetUnitY(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this]) )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
            set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'h04Y' ), (( x )*1.0), (( y )*1.0), (( 36 * i)*1.0))) // INLINED!!
            set s__DanzoNewIzanagiSM__sharingans[(this)*(1)+i]= bj_lastCreatedUnit
            set i=i + 1
        endloop
        call TimerStart(NewTimerEx(this), 0.03, true, function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_spin)
        call TimerStart(NewTimerEx(this), 1.0, true, function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_removeSharingan)
	call AddUnitAnimationProperties(s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_caster[this], "alternate", true)
    endfunction 
    
    function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(41 , s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_SPELL_ID , function s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_actions)
    endfunction 
    

// scope DanzoNewIzanagiSM ends
//===========================================================================
// Trigger: DanzoSuicide
//===========================================================================

//Implemented from module Alloc:
    
        function s__DanzoSuicide_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DanzoSuicide_Alloc__recycle[(0)] == 0 ) then
                set s__DanzoSuicide_Alloc__instanceCount=s__DanzoSuicide_Alloc__instanceCount + 1
                set this=s__DanzoSuicide_Alloc__instanceCount
            else
                set this=s__DanzoSuicide_Alloc__recycle[(0)]
                set s__DanzoSuicide_Alloc__recycle[(0)]=s__DanzoSuicide_Alloc__recycle[s__DanzoSuicide_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DanzoSuicide_deallocate takes integer this returns nothing
            set s__DanzoSuicide_Alloc__recycle[this]=s__DanzoSuicide_Alloc__recycle[(0)]
            set s__DanzoSuicide_Alloc__recycle[(0)]=this
        endfunction

    function s__DanzoSuicide_dealDamage takes nothing returns boolean
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__DanzoSuicide_caster[s__DanzoSuicide_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
            call UnitDamageTarget(s__DanzoSuicide_caster[s__DanzoSuicide_instance], GetFilterUnit(), 0.1 * GetHeroLevel(s__DanzoSuicide_caster[s__DanzoSuicide_instance]) * GetHeroInt(s__DanzoSuicide_caster[s__DanzoSuicide_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
        endif
        return false
    endfunction 

 function s__DanzoSuicide_delay2 takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__DanzoSuicide_caster[this]), 'h03I', GetUnitX(s__DanzoSuicide_sphere[this]), GetUnitY(s__DanzoSuicide_sphere[this]), 270)
		call SetUnitScale(bj_lastCreatedUnit, 1.5, 1.5, 1.5)
		call KillUnit(bj_lastCreatedUnit)
		set bj_lastCreatedGroup=CreateGroup()
        set s__DanzoSuicide_instance=this
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__DanzoSuicide_sphere[this]), GetUnitY(s__DanzoSuicide_sphere[this]), 800, Filter(function s__DanzoSuicide_dealDamage))
		call DestroyGroup(bj_lastCreatedGroup)
		call KillUnit(s__DanzoSuicide_sphere[this])
		call ShowUnit(s__DanzoSuicide_sphere[this], false)
		set s__DanzoSuicide_sphere[this]=null
		call s__DanzoSuicide_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__DanzoSuicide_delay takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call SetUnitTimeScale(s__DanzoSuicide_sphere[this], 1.0)
		call SetUnitAnimation(s__DanzoSuicide_sphere[this], "death")
		call TimerStart(NewTimerEx(this), 0.7, false, function s__DanzoSuicide_delay2)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__DanzoSuicide_dies takes nothing returns nothing
  local integer this
		if GetUnitAbilityLevel(GetTriggerUnit(), s__DanzoSuicide_SPELL_ID) > 0 then
			set this=s__DanzoSuicide_allocate()
			set s__DanzoSuicide_caster[this]=GetTriggerUnit()
			set s__DanzoSuicide_sphere[this]=CreateUnit(GetTriggerPlayer(), 'h051', GetUnitX(s__DanzoSuicide_caster[this]), GetUnitY(s__DanzoSuicide_caster[this]), 270)
			call SetUnitScale(s__DanzoSuicide_sphere[this], 1.5, 1.5, 1.5)
			call SetUnitTimeScale(s__DanzoSuicide_sphere[this], 3.0)
			call SetUnitAnimation(s__DanzoSuicide_sphere[this], "birth")
			set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__DanzoSuicide_caster[this]), GetUnitY(s__DanzoSuicide_caster[this]), 270)
			call UnitAddAbility(bj_lastCreatedUnit, 'A0HD')
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
			call TimerStart(NewTimerEx(this), 1.0, false, function s__DanzoSuicide_delay)
		endif
 endfunction 

 function s__DanzoSuicide_onInit takes nothing returns nothing
		call RegisterPlayerUnitEventForId(41 , EVENT_PLAYER_UNIT_DEATH , function s__DanzoSuicide_dies)
 endfunction 

//===========================================================================
// Trigger: DaruiRaiton
//===========================================================================
    
        
        function s__DaruiRaiton_actions takes nothing returns nothing
            local real x= GetSpellTargetX()
            local real y= GetSpellTargetY()
        local boolean b= false
            local unit u
        call SetUnitAnimation(GetTriggerUnit(), "spell one")
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 400.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) then
                    if not b then
            		set b=true
                        set u=CreateAbilityDummy(GetTriggerUnit() , 'A1AB')
            		call IssueTargetOrder(u, "chainlightning", bj_lastCreatedUnit)
                    endif
            	    if GetUnitAbilityLevel(bj_lastCreatedUnit, 'B02M') > 0 then
                	//call EsnareUnitTimed(GetTriggerUnit(), bj_lastCreatedUnit, 2.0)
            	    endif
                    set x=GetUnitX(bj_lastCreatedUnit)
                    set y=GetUnitY(bj_lastCreatedUnit)
                    call DestroyEffect(AddSpecialEffect(("by_wood_effect_yubanmeiqin_lightning_dianjishanghai.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 80.0 * GetUnitAbilityLevel(GetTriggerUnit(), s__DaruiRaiton_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                    //if GetUnitAbilityLevel(bj_lastCreatedUnit, 'B02M') > 0 then 
                    //    call AddSpecialEffectEx("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl", x, y)
                    //    call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, (0.3 * GetHeroAgi(GetTriggerUnit(), true)) * GetUnitAbilityLevel(GetTriggerUnit(), SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS) 
                    //endif 
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endfunction 
        
        function s__DaruiRaiton_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(40 , s__DaruiRaiton_SPELL_ID , function s__DaruiRaiton_actions)
        endfunction
        
//===========================================================================
// Trigger: DaruiNewSuiton
//===========================================================================

//Implemented from module Alloc:
    
        function s__DaruiNewSuiton_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DaruiNewSuiton_Alloc__recycle[(0)] == 0 ) then
                set s__DaruiNewSuiton_Alloc__instanceCount=s__DaruiNewSuiton_Alloc__instanceCount + 1
                set this=s__DaruiNewSuiton_Alloc__instanceCount
            else
                set this=s__DaruiNewSuiton_Alloc__recycle[(0)]
                set s__DaruiNewSuiton_Alloc__recycle[(0)]=s__DaruiNewSuiton_Alloc__recycle[s__DaruiNewSuiton_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DaruiNewSuiton_deallocate takes integer this returns nothing
            set s__DaruiNewSuiton_Alloc__recycle[this]=s__DaruiNewSuiton_Alloc__recycle[(0)]
            set s__DaruiNewSuiton_Alloc__recycle[(0)]=this
        endfunction
	
 function s__DaruiNewSuiton_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local unit u
		if s__DaruiNewSuiton_count[this] > 10 or GetDistance(GetUnitX(s__DaruiNewSuiton_caster[this]) , GetUnitY(s__DaruiNewSuiton_caster[this]) , s__DaruiNewSuiton_caster_x[this] , s__DaruiNewSuiton_caster_y[this]) > 50 then // GetUnitCurrentOrder(this.caster) != String2OrderIdBJ("clusterrockets") then
			//call SetUnitPropWindow(this.caster, this.window)
			call KillUnit(s__DaruiNewSuiton_dummy[this])
			set s__DaruiNewSuiton_dummy[this]=null
			call SetUnitTimeScale(s__DaruiNewSuiton_caster[this], 1.0)
			call DestroyGroup(s__DaruiNewSuiton_damaged[this])
			set s__DaruiNewSuiton_damaged[this]=null
			call s__DaruiNewSuiton_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		else
			if ModuloInteger(s__DaruiNewSuiton_count[this], 2) == 0 then
				call SetUnitAnimation(s__DaruiNewSuiton_caster[this], "spell two")
			endif
			set s__DaruiNewSuiton_count[this]=s__DaruiNewSuiton_count[this] + 1
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__DaruiNewSuiton_target_x[this], s__DaruiNewSuiton_target_y[this], 300, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DaruiNewSuiton_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
					if not IsUnitInGroup(bj_lastCreatedUnit, s__DaruiNewSuiton_damaged[this]) then
					if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == true then
						call UnitDamageTarget(s__DaruiNewSuiton_caster[this], bj_lastCreatedUnit, GetHeroAgi(s__DaruiNewSuiton_caster[this], true) * GetUnitAbilityLevel(s__DaruiNewSuiton_caster[this], s__DaruiNewSuiton_SPELL_ID) / 2, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
					else
						call UnitDamageTarget(s__DaruiNewSuiton_caster[this], bj_lastCreatedUnit, GetHeroAgi(s__DaruiNewSuiton_caster[this], true) * GetUnitAbilityLevel(s__DaruiNewSuiton_caster[this], s__DaruiNewSuiton_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
						if GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                                    			set u=CreateAbilityDummy(s__DaruiNewSuiton_caster[this] , 'A0FM')
                                    			call IssueTargetOrder(u, "slow", bj_lastCreatedUnit)
                                    			call UnitApplyTimedLife(u, 'BTLF', 1.0)
                                		endif
					endif
					call GroupAddUnit(s__DaruiNewSuiton_damaged[this], bj_lastCreatedUnit)
					endif
					if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
						//call EsnareUnitTimed(this.caster, bj_lastCreatedUnit, 0.2)
					endif
					call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
		endif
 endfunction 

 function s__DaruiNewSuiton_actions takes nothing returns nothing
  local integer this= s__DaruiNewSuiton_allocate()
		set s__DaruiNewSuiton_caster[this]=GetTriggerUnit()
		set s__DaruiNewSuiton_target_x[this]=GetSpellTargetX()
		set s__DaruiNewSuiton_target_y[this]=GetSpellTargetY()
		set s__DaruiNewSuiton_count[this]=0
		set s__DaruiNewSuiton_damaged[this]=CreateGroup()
		set s__DaruiNewSuiton_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__DaruiNewSuiton_caster[this]), GetUnitY(s__DaruiNewSuiton_caster[this]), 270)
		call UnitAddAbility(s__DaruiNewSuiton_dummy[this], 'A101')
		call IssuePointOrder(s__DaruiNewSuiton_dummy[this], "clusterrockets", GetSpellTargetX(), GetSpellTargetY())
		call SetUnitTimeScale(s__DaruiNewSuiton_caster[this], 3.0)
		set s__DaruiNewSuiton_window[this]=GetUnitPropWindow(s__DaruiNewSuiton_caster[this])
		//call SetUnitPropWindow(this.caster, 0)
		set s__DaruiNewSuiton_caster_x[this]=GetUnitX(s__DaruiNewSuiton_caster[this])
		set s__DaruiNewSuiton_caster_y[this]=GetUnitY(s__DaruiNewSuiton_caster[this])
		call TimerStart(NewTimerEx(this), 0.2, true, function s__DaruiNewSuiton_periodic)
 endfunction 

 function s__DaruiNewSuiton_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(40 , s__DaruiNewSuiton_SPELL_ID , function s__DaruiNewSuiton_actions)
 endfunction 

//===========================================================================
// Trigger: DaruiLightningStrike
//===========================================================================

//Implemented from module Alloc:
    
        function s__DaruiLightningStrike_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DaruiLightningStrike_Alloc__recycle[(0)] == 0 ) then
                set s__DaruiLightningStrike_Alloc__instanceCount=s__DaruiLightningStrike_Alloc__instanceCount + 1
                set this=s__DaruiLightningStrike_Alloc__instanceCount
            else
                set this=s__DaruiLightningStrike_Alloc__recycle[(0)]
                set s__DaruiLightningStrike_Alloc__recycle[(0)]=s__DaruiLightningStrike_Alloc__recycle[s__DaruiLightningStrike_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DaruiLightningStrike_deallocate takes integer this returns nothing
            set s__DaruiLightningStrike_Alloc__recycle[this]=s__DaruiLightningStrike_Alloc__recycle[(0)]
            set s__DaruiLightningStrike_Alloc__recycle[(0)]=this
        endfunction

 function s__DaruiLightningStrike_actions takes nothing returns nothing
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 4000, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and GetUnitAbilityLevel(bj_lastCreatedUnit, 'B02M') > 0 then
				call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, ( 50 + GetHeroAgi(GetTriggerUnit(), true) / 2 ) * GetUnitAbilityLevel(GetTriggerUnit(), s__DaruiLightningStrike_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
				call EsnareUnitTimed(GetTriggerUnit() , bj_lastCreatedUnit , 2.0)
				call DestroyEffect(AddSpecialEffect(("by_wood_effect_yubanmeiqin_lightning_dianjishanghai.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				call DestroyEffect(AddSpecialEffect(("by_wood_effect_yubanmeiqin_lightning_luolei.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction

 function s__DaruiLightningStrike_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(40 , s__DaruiLightningStrike_SPELL_ID , function s__DaruiLightningStrike_actions)
 endfunction 

//===========================================================================
// Trigger: DaruiLaserCircus
//===========================================================================
// scope DaruiLaserCircus begins

    
    
//Implemented from module Alloc:
    
        function s__DaruiLaserCircus__Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DaruiLaserCircus__Spell_Alloc__recycle[(0)] == 0 ) then
                set s__DaruiLaserCircus__Spell_Alloc__instanceCount=s__DaruiLaserCircus__Spell_Alloc__instanceCount + 1
                set this=s__DaruiLaserCircus__Spell_Alloc__instanceCount
            else
                set this=s__DaruiLaserCircus__Spell_Alloc__recycle[(0)]
                set s__DaruiLaserCircus__Spell_Alloc__recycle[(0)]=s__DaruiLaserCircus__Spell_Alloc__recycle[s__DaruiLaserCircus__Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DaruiLaserCircus__Spell_deallocate takes integer this returns nothing
            set s__DaruiLaserCircus__Spell_Alloc__recycle[this]=s__DaruiLaserCircus__Spell_Alloc__recycle[(0)]
            set s__DaruiLaserCircus__Spell_Alloc__recycle[(0)]=this
        endfunction
    
	
 function s__DaruiLaserCircus__Spell_damagefix takes nothing returns boolean
	if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__DaruiLaserCircus__Spell_caster[s__DaruiLaserCircus__Spell_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
                        call UnitDamageTarget(s__DaruiLaserCircus__Spell_caster[s__DaruiLaserCircus__Spell_instance], GetFilterUnit(), ( 700 + 4 * GetHeroAgi(s__DaruiLaserCircus__Spell_caster[s__DaruiLaserCircus__Spell_instance], true) ) * GetUnitAbilityLevel(s__DaruiLaserCircus__Spell_caster[s__DaruiLaserCircus__Spell_instance], s__DaruiLaserCircus__Spell_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                        //call StunUnitTimed(instance.caster, GetFilterUnit(), 2.0)
                    endif
	return false
 endfunction
        
        function s__DaruiLaserCircus__Spell_destroy takes integer this returns nothing
            local integer i= 0
	    //call PauseUnit(this.target, false)
            loop
                set i=i + 1
                exitwhen i > 6
                //call RecycleUnit(lasers[this][i])
		call KillUnit(s__DaruiLaserCircus__lasers[(this)*(1)+i])
                set s__DaruiLaserCircus__lasers[(this)*(1)+i]= null
            endloop
            set i=s__DaruiLaserCircus__Spell_effects_count[this]
            loop
                set i=i - 1
                exitwhen i < 0
                //call BlzSetSpecialEffectScale(effects[this][i], 0)
                //call DestroyEffect(effects[this][i])
                set s__DaruiLaserCircus__effects[(this)*(1)+i]= null
            endloop
            call RecycleUnit(s__DaruiLaserCircus__Spell_dummy[this])
            set s__DaruiLaserCircus__Spell_caster[this]=null
            set s__DaruiLaserCircus__Spell_dummy[this]=null
            call s__DaruiLaserCircus__Spell_deallocate(this)
        endfunction
        
        function s__DaruiLaserCircus__Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real dummy_x= GetUnitX(s__DaruiLaserCircus__Spell_dummy[this])
            local real dummy_y= GetUnitY(s__DaruiLaserCircus__Spell_dummy[this])
            local real angle= Atan2(( s__DaruiLaserCircus__Spell_target_y[this] - dummy_y ), ( s__DaruiLaserCircus__Spell_target_x[this] - dummy_x ))
            local real new_x= dummy_x + Cos(angle) * s__DaruiLaserCircus__Spell_speed[this]
            local real new_y= dummy_y + Sin(angle) * s__DaruiLaserCircus__Spell_speed[this]
            local real distance_x= new_x - s__DaruiLaserCircus__Spell_target_x[this]
            local real distance_y= new_y - s__DaruiLaserCircus__Spell_target_y[this]
            local real distance= SquareRoot(distance_x * distance_x + distance_y * distance_y)
            local real laser_x
            local real laser_y
            local real offset
            local real parabola_offset
            local real height
            local real parabola_height
            local integer i= 0
            set s__DaruiLaserCircus__Spell_count[this]=s__DaruiLaserCircus__Spell_count[this] + 1
            call SetUnitX(s__DaruiLaserCircus__Spell_dummy[this], new_x)
            call SetUnitY(s__DaruiLaserCircus__Spell_dummy[this], new_y)
            if s__DaruiLaserCircus__Spell_count[this] >= 20 then
		set bj_lastCreatedEffect=AddSpecialEffect("ThunderGroundCrack.mdx", s__DaruiLaserCircus__Spell_target_x[this], s__DaruiLaserCircus__Spell_target_y[this])
		//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
		call DestroyEffect(bj_lastCreatedEffect)
                set bj_lastCreatedGroup=CreateGroup()
		set s__DaruiLaserCircus__Spell_instance=this
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__DaruiLaserCircus__Spell_target_x[this], s__DaruiLaserCircus__Spell_target_y[this], 350, Filter(function s__DaruiLaserCircus__Spell_damagefix))
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" ), (( s__DaruiLaserCircus__Spell_target_x[this] )*1.0), (( s__DaruiLaserCircus__Spell_target_y[this])*1.0))) // INLINED!!
                call s__DaruiLaserCircus__Spell_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            else
                loop
                    set i=i + 1
                    exitwhen i > 6
                    set offset=300 - 100 * i
                    set parabola_offset=Parabola(0 , 0 , offset , s__DaruiLaserCircus__Spell_distance[this] , s__DaruiLaserCircus__Spell_distance[this] - distance)
                    set laser_x=new_x + Cos(angle + bj_PI / 2) * parabola_offset
                    set laser_y=new_y + Sin(angle + bj_PI / 2) * parabola_offset
                    call SetUnitX(s__DaruiLaserCircus__lasers[(this)*(1)+i], laser_x)
                    call SetUnitY(s__DaruiLaserCircus__lasers[(this)*(1)+i], laser_y)
                    set height=300 - SquareRoot(Pow(300 - 100 * i, 2))
                    set parabola_height=Parabola(0 , 0 , height , s__DaruiLaserCircus__Spell_distance[this] , s__DaruiLaserCircus__Spell_distance[this] - distance)
                    call SetUnitFlyHeight(s__DaruiLaserCircus__lasers[(this)*(1)+i], parabola_height, 0)
                    //set bj_lastCreatedEffect = AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl", laser_x, laser_y)
                    //call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(lasers[this][i])))
                    //call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetUnitFlyHeight(lasers[this][i])) 
                    //call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
                    //set effects[this][this.effects_count] = bj_lastCreatedEffect 
                    set s__DaruiLaserCircus__Spell_effects_count[this]=s__DaruiLaserCircus__Spell_effects_count[this] + 1
                endloop
            endif
        endfunction
        
        function s__DaruiLaserCircus__Spell_actions takes nothing returns nothing
            local integer this= s__DaruiLaserCircus__Spell_allocate()
            local real caster_x
            local real caster_y
            local real angle
            local real new_x
            local real new_y
            local real distance_x
            local real distance_y
            local integer i= 0
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Darui_R, 100.0, GetTriggerUnit())
            endif
            set s__DaruiLaserCircus__Spell_caster[this]=GetTriggerUnit()
            set caster_x=GetUnitX(s__DaruiLaserCircus__Spell_caster[this])
            set caster_y=GetUnitY(s__DaruiLaserCircus__Spell_caster[this])
            set s__DaruiLaserCircus__Spell_target_x[this]=GetSpellTargetX()
            set s__DaruiLaserCircus__Spell_target_y[this]=GetSpellTargetY()
            set s__DaruiLaserCircus__Spell_effects_count[this]=0
            set angle=Atan2(( s__DaruiLaserCircus__Spell_target_y[this] - caster_y ), ( s__DaruiLaserCircus__Spell_target_x[this] - caster_x ))
            set new_x=caster_x + Cos(angle) * 100
            set new_y=caster_y + Sin(angle) * 100
            set distance_x=s__DaruiLaserCircus__Spell_target_x[this] - caster_x
            set distance_y=s__DaruiLaserCircus__Spell_target_y[this] - caster_y
	    //set this.target = GetSpellTargetUnit()
            set s__DaruiLaserCircus__Spell_distance[this]=SquareRoot(distance_x * distance_x + distance_y * distance_y)
	    set s__DaruiLaserCircus__Spell_speed[this]=s__DaruiLaserCircus__Spell_distance[this] / 20.0
            //if this.distance >= 150 then
                set s__DaruiLaserCircus__Spell_dummy[this]=GetInvisibleDummy(GetTriggerPlayer() , new_x , new_y)
                call SetUnitX(s__DaruiLaserCircus__Spell_dummy[this], new_x)
                call SetUnitY(s__DaruiLaserCircus__Spell_dummy[this], new_y)
                loop
                    set i=i + 1
                    exitwhen i > 6
                    set s__DaruiLaserCircus__lasers[(this)*(1)+i]= GetDummy(GetTriggerPlayer() , "Psionic Shot Blue.mdx" , new_x , new_y , GetUnitFacing(s__DaruiLaserCircus__Spell_caster[this]))
                    call SetUnitX(s__DaruiLaserCircus__lasers[(this)*(1)+i], new_x)
                    call SetUnitY(s__DaruiLaserCircus__lasers[(this)*(1)+i], new_y)
		    call SetUnitScale(s__DaruiLaserCircus__lasers[(this)*(1)+i], 5.0, 5.0, 5.0)
                endloop
                set s__DaruiLaserCircus__Spell_count[this]=0
		set bj_lastCreatedEffect=AddSpecialEffect("s_FreezingRing.mdl", caster_x, caster_y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
		call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, angle + bj_PI)
		call DestroyEffect(bj_lastCreatedEffect)
                call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__DaruiLaserCircus__Spell_periodic , "DaruiLaserCircus_periodic")
            
	    //call PauseUnit(this.target, true)
        endfunction
        
        function s__DaruiLaserCircus__Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(40 , s__DaruiLaserCircus__Spell_SPELL_ID , function s__DaruiLaserCircus__Spell_actions)
        endfunction
        
    
// scope DaruiLaserCircus ends
//===========================================================================
// Trigger: DaruiNewBlackPanther
//===========================================================================

//Implemented from module Alloc:
    
        function s__DaruiBlackPanther_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DaruiBlackPanther_Alloc__recycle[(0)] == 0 ) then
                set s__DaruiBlackPanther_Alloc__instanceCount=s__DaruiBlackPanther_Alloc__instanceCount + 1
                set this=s__DaruiBlackPanther_Alloc__instanceCount
            else
                set this=s__DaruiBlackPanther_Alloc__recycle[(0)]
                set s__DaruiBlackPanther_Alloc__recycle[(0)]=s__DaruiBlackPanther_Alloc__recycle[s__DaruiBlackPanther_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DaruiBlackPanther_deallocate takes integer this returns nothing
            set s__DaruiBlackPanther_Alloc__recycle[this]=s__DaruiBlackPanther_Alloc__recycle[(0)]
            set s__DaruiBlackPanther_Alloc__recycle[(0)]=this
        endfunction
	

 function s__DaruiBlackPanther_damagefix takes nothing returns boolean
            if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__DaruiBlackPanther_caster[s__DaruiBlackPanther_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
			call UnitRemoveBuffs(GetFilterUnit(), true, false)
			call UnitDamageTarget(s__DaruiBlackPanther_caster[s__DaruiBlackPanther_instance], GetFilterUnit(), 10 * GetHeroAgi(s__DaruiBlackPanther_caster[s__DaruiBlackPanther_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		endif
	return false
 endfunction

 function s__DaruiBlackPanther_second takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__DaruiBlackPanther_dummy[this])
  local real y= GetUnitY(s__DaruiBlackPanther_dummy[this])
  local real new_x= (((x )*1.0) + Cos((( s__DaruiBlackPanther_angle[this] )*1.0)) * (( 50)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__DaruiBlackPanther_angle[this] )*1.0)) * (( 50)*1.0)) // INLINED!!
  local integer i= 0
  local real size
		call SetUnitX(s__DaruiBlackPanther_dummy[this], new_x)
		call SetUnitY(s__DaruiBlackPanther_dummy[this], new_y)
		call SetUnitFacing(s__DaruiBlackPanther_dummy[this], Rad2Deg(s__DaruiBlackPanther_angle[this]))
		call DestroyEffect(AddSpecialEffect(("Effects\\s_Black_BoltImpact.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
		set s__DaruiBlackPanther_count[this]=s__DaruiBlackPanther_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__DaruiBlackPanther_dummy[this]), GetUnitY(s__DaruiBlackPanther_dummy[this]), 300, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DaruiBlackPanther_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
				set s__DaruiBlackPanther_count[this]=31
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if GetDistance(new_x , new_y , s__DaruiBlackPanther_target_x[this] , s__DaruiBlackPanther_target_y[this]) < 100 or s__DaruiBlackPanther_count[this] > 30 then
			loop
                    		set i=i + 1
                    		exitwhen i > 10
                    		set bj_lastCreatedUnit=GetDummy(GetOwningPlayer(s__DaruiBlackPanther_caster[this]) , "Effects\\s_Black_ThunderclapCaster.mdl" , GetUnitX(s__DaruiBlackPanther_dummy[this]) , GetUnitY(s__DaruiBlackPanther_dummy[this]) , GetRandomReal(0, 360))
                    		set size=GetRandomReal(0.5, 2.0)
                    		call SetUnitScale(bj_lastCreatedUnit, size, size, size)
                    		call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(0.5, 2.0))
                    		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.0)
               		endloop
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__DaruiBlackPanther_dummy[this]), GetUnitY(s__DaruiBlackPanther_dummy[this]), 400, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DaruiBlackPanther_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
					call UnitDamageTarget(s__DaruiBlackPanther_caster[this], bj_lastCreatedUnit, 0.2 * udg_DaruiKills * GetHeroAgi(s__DaruiBlackPanther_caster[this], true) + 1500, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true and GetWidgetLife(bj_lastCreatedUnit) < 0.405 and not IsUnitIllusion(bj_lastCreatedUnit) then
						set udg_DaruiKills=udg_DaruiKills + 1
					endif
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			call KillUnit(s__DaruiBlackPanther_dummy[this])
			call ShowUnit(s__DaruiBlackPanther_dummy[this], false)
			set s__DaruiBlackPanther_dummy[this]=null
			call s__DaruiBlackPanther_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DaruiBlackPanther_actions2 takes nothing returns nothing
  local integer this= s__DaruiBlackPanther_allocate()
		set s__DaruiBlackPanther_caster[this]=GetTriggerUnit()
		set s__DaruiBlackPanther_target_x[this]=GetSpellTargetX()
		set s__DaruiBlackPanther_target_y[this]=GetSpellTargetY()
		set s__DaruiBlackPanther_count[this]=0
		set s__DaruiBlackPanther_angle[this]=Atan3(GetUnitX(s__DaruiBlackPanther_caster[this]) , GetUnitY(s__DaruiBlackPanther_caster[this]) , s__DaruiBlackPanther_target_x[this] , s__DaruiBlackPanther_target_y[this])
		set s__DaruiBlackPanther_dummy[this]=CreateUnit(GetOwningPlayer(s__DaruiBlackPanther_caster[this]), 'e009', GetUnitX(s__DaruiBlackPanther_caster[this]), GetUnitY(s__DaruiBlackPanther_caster[this]), GetUnitFacing(s__DaruiBlackPanther_caster[this]))
            	call SetUnitAnimationByIndex(s__DaruiBlackPanther_dummy[this], 5)
		call SetUnitTimeScale(s__DaruiBlackPanther_dummy[this], 3.0)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__DaruiBlackPanther_second)
 endfunction 

 function s__DaruiBlackPanther_removeAbility takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
		call UnitRemoveAbility(u, 'A0WU')
		call SetPlayerAbilityAvailable(GetOwningPlayer(u), s__DaruiBlackPanther_SPELL_ID, TRUE)
		set u=null
		call ReleaseTimer(GetExpiredTimer())
 endfunction

 function s__DaruiBlackPanther_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__DaruiBlackPanther_dummy[this])
  local real y= GetUnitY(s__DaruiBlackPanther_dummy[this])
  local real angle= Atan3(x , y , s__DaruiBlackPanther_target_x[this] , s__DaruiBlackPanther_target_y[this])
  local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( s__DaruiBlackPanther_step[this])*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( s__DaruiBlackPanther_step[this])*1.0)) // INLINED!!
  local real new_x1= (((new_x )*1.0) + Cos((( angle + bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 26 , 26 - s__DaruiBlackPanther_count[this]))*1.0)) // INLINED!!
  local real new_y1= (((new_y )*1.0) + Sin((( angle + bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 26 , 26 - s__DaruiBlackPanther_count[this]))*1.0)) // INLINED!!
  local real new_x2= (((new_x )*1.0) + Cos((( angle - bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 26 , 26 - s__DaruiBlackPanther_count[this]))*1.0)) // INLINED!!
  local real new_y2= (((new_y )*1.0) + Sin((( angle - bj_PI / 2 )*1.0)) * (( ParabolaZ(300 , 26 , 26 - s__DaruiBlackPanther_count[this]))*1.0)) // INLINED!!
  local boolean hithero= false
  local integer i= 0
  local real size
		call SetUnitX(s__DaruiBlackPanther_dummy[this], new_x)
		call SetUnitY(s__DaruiBlackPanther_dummy[this], new_y)
		call SetUnitX(s__DaruiBlackPanther_panther1[this], new_x1)
		call SetUnitY(s__DaruiBlackPanther_panther1[this], new_y1)
		call SetUnitX(s__DaruiBlackPanther_panther2[this], new_x2)
		call SetUnitY(s__DaruiBlackPanther_panther2[this], new_y2)
		call SetUnitFacing(s__DaruiBlackPanther_panther1[this], Rad2Deg(Atan3(s__DaruiBlackPanther_previous_panther1_x[this] , s__DaruiBlackPanther_previous_panther1_y[this] , new_x1 , new_y1)))
		call SetUnitFacing(s__DaruiBlackPanther_panther2[this], Rad2Deg(Atan3(s__DaruiBlackPanther_previous_panther2_x[this] , s__DaruiBlackPanther_previous_panther2_y[this] , new_x2 , new_y2)))
		set s__DaruiBlackPanther_previous_panther1_x[this]=new_x1
		set s__DaruiBlackPanther_previous_panther1_y[this]=new_y1
		set s__DaruiBlackPanther_previous_panther2_x[this]=new_x2
		set s__DaruiBlackPanther_previous_panther2_y[this]=new_y2
		call DestroyEffect(AddSpecialEffect(("Effects\\s_Black_BoltImpact.mdx" ), (( new_x1 )*1.0), (( new_y1)*1.0))) // INLINED!!
		call DestroyEffect(AddSpecialEffect(("Effects\\s_Black_BoltImpact.mdx" ), (( new_x2 )*1.0), (( new_y2)*1.0))) // INLINED!!
		set s__DaruiBlackPanther_count[this]=s__DaruiBlackPanther_count[this] + 1
		if s__DaruiBlackPanther_count[this] >= 20 then
			loop
                    		set i=i + 1
                    		exitwhen i > 10
                    		set bj_lastCreatedUnit=GetDummy(GetOwningPlayer(s__DaruiBlackPanther_caster[this]) , "Effects\\s_Black_ThunderclapCaster.mdl" , s__DaruiBlackPanther_target_x[this] , s__DaruiBlackPanther_target_y[this] , GetRandomReal(0, 360))
                    		set size=GetRandomReal(0.5, 2.0)
                    		call SetUnitScale(bj_lastCreatedUnit, size, size, size)
                    		call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(0.5, 2.0))
                    		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.0)
               		endloop
			set bj_lastCreatedGroup=CreateGroup()
			set s__DaruiBlackPanther_instance=this
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__DaruiBlackPanther_target_x[this], s__DaruiBlackPanther_target_y[this], 400, Filter(function s__DaruiBlackPanther_damagefix))
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			call KillUnit(s__DaruiBlackPanther_panther1[this])
			call ShowUnit(s__DaruiBlackPanther_panther1[this], false)
			call KillUnit(s__DaruiBlackPanther_panther2[this])
			call ShowUnit(s__DaruiBlackPanther_panther2[this], false)
			set s__DaruiBlackPanther_panther1[this]=null
			set s__DaruiBlackPanther_panther2[this]=null
			call KillUnit(s__DaruiBlackPanther_dummy[this])
			set s__DaruiBlackPanther_dummy[this]=null
			set hithero=true
			if hithero then
				call SetPlayerAbilityAvailable(GetOwningPlayer(s__DaruiBlackPanther_caster[this]), s__DaruiBlackPanther_SPELL_ID, false)
				call UnitAddAbility(s__DaruiBlackPanther_caster[this], 'A0WU')
				call TimerStart(NewTimerEx((GetUnitUserData((s__DaruiBlackPanther_caster[this])))), 15.0, false, function s__DaruiBlackPanther_removeAbility) // INLINED!!
			endif
			call s__DaruiBlackPanther_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DaruiBlackPanther_actions takes nothing returns nothing
  local integer this= s__DaruiBlackPanther_allocate()
		set s__DaruiBlackPanther_caster[this]=GetTriggerUnit()
		set s__DaruiBlackPanther_target_x[this]=GetSpellTargetX()
		set s__DaruiBlackPanther_target_y[this]=GetSpellTargetY()
		set s__DaruiBlackPanther_panther1[this]=CreateUnit(GetTriggerPlayer(), 'e009', GetUnitX(s__DaruiBlackPanther_caster[this]), GetUnitY(s__DaruiBlackPanther_caster[this]), GetUnitFacing(s__DaruiBlackPanther_caster[this]))
		set s__DaruiBlackPanther_panther2[this]=CreateUnit(GetTriggerPlayer(), 'e009', GetUnitX(s__DaruiBlackPanther_caster[this]), GetUnitY(s__DaruiBlackPanther_caster[this]), GetUnitFacing(s__DaruiBlackPanther_caster[this]))
		set s__DaruiBlackPanther_previous_panther1_x[this]=GetUnitX(s__DaruiBlackPanther_caster[this])
		set s__DaruiBlackPanther_previous_panther1_y[this]=GetUnitY(s__DaruiBlackPanther_caster[this])
		set s__DaruiBlackPanther_previous_panther2_x[this]=GetUnitX(s__DaruiBlackPanther_caster[this])
		set s__DaruiBlackPanther_previous_panther2_y[this]=GetUnitY(s__DaruiBlackPanther_caster[this])
            	call SetUnitAnimationByIndex(s__DaruiBlackPanther_panther1[this], 5)
            	call SetUnitAnimationByIndex(s__DaruiBlackPanther_panther2[this], 5)
		call SetUnitTimeScale(s__DaruiBlackPanther_panther1[this], 3.0)
		call SetUnitTimeScale(s__DaruiBlackPanther_panther2[this], 3.0)
		set s__DaruiBlackPanther_count[this]=0
		set s__DaruiBlackPanther_step[this]=GetDistance(GetUnitX(s__DaruiBlackPanther_caster[this]) , GetUnitY(s__DaruiBlackPanther_caster[this]) , s__DaruiBlackPanther_target_x[this] , s__DaruiBlackPanther_target_y[this]) / 20
		set s__DaruiBlackPanther_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__DaruiBlackPanther_caster[this]), GetUnitY(s__DaruiBlackPanther_caster[this]), 270)
            	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                	call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Darui: I'll finish you off real quick! ...Even though it's a drag.|r")
            	endif
		set s__DaruiBlackPanther_distance[this]=GetDistance(GetUnitX(s__DaruiBlackPanther_caster[this]) , GetUnitY(s__DaruiBlackPanther_caster[this]) , s__DaruiBlackPanther_target_x[this] , s__DaruiBlackPanther_target_y[this])
		call TimerStart(NewTimerEx(this), 0.03, true, function s__DaruiBlackPanther_periodic)
 endfunction 

 function s__DaruiBlackPanther_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(40 , s__DaruiBlackPanther_SPELL_ID , function s__DaruiBlackPanther_actions)
		call RegisterSpellEffectEventForId(40 , 'A0WU' , function s__DaruiBlackPanther_actions2)
 endfunction 

//===========================================================================
// Trigger: DaruiBlackLightning
//===========================================================================

//Implemented from module Alloc:
    
        function s__DaruiBlackLightning_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DaruiBlackLightning_Alloc__recycle[(0)] == 0 ) then
                set s__DaruiBlackLightning_Alloc__instanceCount=s__DaruiBlackLightning_Alloc__instanceCount + 1
                set this=s__DaruiBlackLightning_Alloc__instanceCount
            else
                set this=s__DaruiBlackLightning_Alloc__recycle[(0)]
                set s__DaruiBlackLightning_Alloc__recycle[(0)]=s__DaruiBlackLightning_Alloc__recycle[s__DaruiBlackLightning_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DaruiBlackLightning_deallocate takes integer this returns nothing
            set s__DaruiBlackLightning_Alloc__recycle[this]=s__DaruiBlackLightning_Alloc__recycle[(0)]
            set s__DaruiBlackLightning_Alloc__recycle[(0)]=this
        endfunction

    function s__DaruiBlackLightning_actions takes nothing returns nothing
        local integer i
        local integer j
        local real x
        local real y
        local real angle
        local real offset
        local unit u
        set i=0
        loop
            set i=i + 1
            exitwhen i == 5
            set j=0
            loop
                set j=j + 1
                exitwhen j > 12
                set angle=360 / 12 * j + 5 * i
                set offset=100 * i
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(angle) )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(angle) )*1.0)) * (( offset)*1.0)) // INLINED!!
                //call AddSpecialEffectEx("Effects\\s_Black_BoltImpact.mdx", x, y)
            endloop
        endloop
        call DestroyEffect(AddSpecialEffect(("Effects\\s_Black_ThunderclapCaster.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
        call SlowArea(GetTriggerUnit() , GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , 600)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 600, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                call UnitDamageTarget(GetTriggerUnit(), bj_lastCreatedUnit, 300 * GetUnitAbilityLevel(GetTriggerUnit(), s__DaruiBlackLightning_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                call DestroyEffect(AddSpecialEffect(("Effects\\s_Black_BoltImpact.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                //call AddSpecialEffectEx("by_wood_effect_yubanmeiqin_lightning_dianjishanghai.mdx", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
                //call AddSpecialEffectEx("by_wood_effect_yubanmeiqin_lightning_luolei.mdx", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    call UnitRemoveBuffs(bj_lastCreatedUnit, true, false)
                endif
            elseif not IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set u=CreateAbilityDummy(GetTriggerUnit() , 'A1C1')
                call IssueTargetOrder(u, "bloodlust", bj_lastCreatedUnit)
                call UnitRemoveBuffs(bj_lastCreatedUnit, false, true)
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    endfunction

    function s__DaruiBlackLightning_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(40 , s__DaruiBlackLightning_SPELL_ID , function s__DaruiBlackLightning_actions)
    endfunction 

//===========================================================================
// Trigger: DeidaraC0
//===========================================================================

function Trig_DeidaraC01_Conditions takes nothing returns boolean
	return GetUnitTypeId(GetTriggerUnit()) == 'H01H' or GetUnitTypeId(GetTriggerUnit()) == 'H00D'
endfunction

function Trig_DeidaraC01_Func014001003 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_DeidaraC01_Func014Func001Func003C takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units19[113]))
endfunction

function Trig_DeidaraC01_Func014Func001C takes nothing returns boolean
	return ( (IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units19[113]))) ) // INLINED!!
endfunction

function Trig_DeidaraC01_Func014A takes nothing returns nothing
	if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true and not IsUnitInGroup(GetEnumUnit(), udg_DeidaraDamaged) and IsUnitEnemy(GetEnumUnit(), GetOwningPlayer(udg_units19[113])) then
		call UnitDamageTargetBJ(udg_units19[113], GetEnumUnit(), 0.08 * GetHeroInt(udg_units19[113], true) * GetHeroLevel(udg_units19[113]), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
	elseif not IsUnitInGroup(GetEnumUnit(), udg_DeidaraDamaged) then
		call UnitDamageTargetBJ(udg_units19[113], GetEnumUnit(), 0.08 * GetHeroInt(udg_units19[113], true) * GetHeroLevel(udg_units19[113]), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
	endif
	call GroupAddUnit(udg_DeidaraDamaged, GetEnumUnit())
endfunction

function Trig_DeidaraC01_Func014B takes nothing returns nothing
	if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true and not IsUnitInGroup(GetEnumUnit(), udg_DeidaraDamaged) and IsUnitEnemy(GetEnumUnit(), GetOwningPlayer(udg_units19[113])) then
		call UnitDamageTargetBJ(udg_units19[113], GetEnumUnit(), 0.08 * GetHeroInt(udg_units19[113], true) * GetHeroLevel(udg_units19[113]), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
	endif
	call GroupAddUnit(udg_DeidaraDamaged, GetEnumUnit())
endfunction

function Trig_DeidaraC01_Func014C takes nothing returns nothing
	if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true and not IsUnitInGroup(GetEnumUnit(), udg_DeidaraDamaged) and IsUnitEnemy(GetEnumUnit(), GetOwningPlayer(udg_units19[113])) then
		call UnitDamageTargetBJ(udg_units19[113], GetEnumUnit(), 0.08 * GetHeroInt(udg_units19[113], true) * GetHeroLevel(udg_units19[113]), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
	endif
	call GroupAddUnit(udg_DeidaraDamaged, GetEnumUnit())
endfunction

function Trig_DeidaraC01_Func014D takes nothing returns nothing
	if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true and not IsUnitInGroup(GetEnumUnit(), udg_DeidaraDamaged) and IsUnitEnemy(GetEnumUnit(), GetOwningPlayer(udg_units19[113])) then
		call UnitDamageTargetBJ(udg_units19[113], GetEnumUnit(), 0.08 * GetHeroInt(udg_units19[113], true) * GetHeroLevel(udg_units19[113]), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
	endif
	call GroupAddUnit(udg_DeidaraDamaged, GetEnumUnit())
endfunction

function Trig_DeidaraC01_Actions takes nothing returns nothing
   if GetHeroLevel(GetTriggerUnit()) >= 25 then
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cFFFF0000Deidara: Art... Is an explosion!!! |r")
	endif
	set udg_units19[113]=GetTriggerUnit()
	set udg_locations03[171]=GetUnitLoc(udg_units19[113])
	set udg_integers02[439]=55
	call TriggerSleepAction(0.10)
	call EnableTrigger(udg_trigger167)
	call TriggerSleepAction(1.45)
	call DisableTrigger(udg_trigger167)
	call SetUnitScale((udg_units19[113] ), (( 0.55 )*1.0), (( 0.55 )*1.0), (( 0.55)*1.0)) // INLINED!!
	call SetUnitVertexColor((udg_units19[113] ), ( 255 ), ( 255 ), ( 255 ), ( 255)) // INLINED!!
	call KillUnit(udg_units19[113])
	call CreateNUnitsAtLoc(1, 'e033', GetOwningPlayer(udg_units19[113]), udg_locations03[171], GetRandomReal(0, 360))
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
	if IsUnitVisible(udg_units19[113], GetLocalPlayer()) then
		call PlaySoundOnUnitBJ(gg_snd_Deidara_D, 80.0, udg_units19[113])
	endif
	call GroupClear(udg_DeidaraDamaged)
	call CinematicFadeBJ(2, 3.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 100.00, 100.00, 100.00, 75.00)
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(1600.00, udg_locations03[171], Condition(function Trig_DeidaraC01_Func014001003)), function Trig_DeidaraC01_Func014A)
	call TriggerSleepAction(0.2)
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(1600.00, udg_locations03[171], Condition(function Trig_DeidaraC01_Func014001003)), function Trig_DeidaraC01_Func014B)
	call TriggerSleepAction(0.2)
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(1600.00, udg_locations03[171], Condition(function Trig_DeidaraC01_Func014001003)), function Trig_DeidaraC01_Func014C)
	call TriggerSleepAction(0.2)
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(1600.00, udg_locations03[171], Condition(function Trig_DeidaraC01_Func014001003)), function Trig_DeidaraC01_Func014D)
	call RemoveLocation(udg_locations03[171])
	call SetUnitScale(udg_units19[113], 1.0, 1.0, 1.0)
  endif
endfunction

function Trig_DeidaraC02_Actions takes nothing returns nothing
	set udg_integers02[439]=( udg_integers02[439] - 4 )
	call SetUnitScale((udg_units19[113] ), (( I2R(udg_integers02[439]) / 100 )*1.0), (( I2R(udg_integers02[439]) / 100 )*1.0), (( 85.00 / 100)*1.0)) // INLINED!!
	call SetUnitVertexColor((udg_units19[113] ), ( R2I(udg_integers02[439] / 100.0 * 255) ), ( R2I(udg_integers02[439] / 100.0 * 255) ), ( R2I(udg_integers02[439] / 100.0 * 255) ), ( 255)) // INLINED!!
	if ModuloInteger(udg_integers02[439], 5) == 0 then
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(udg_units19[113]), 'e02A', GetUnitX(udg_units19[113]), GetUnitY(udg_units19[113]), GetRandomReal(0, 360))
		call SetUnitScale((bj_lastCreatedUnit ), (( 1.0 )*1.0), (( 1.0 )*1.0), (( 1.0)*1.0)) // INLINED!!
		call SetUnitFlyHeight(bj_lastCreatedUnit, 60, 0)
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
	endif
endfunction

function InitTrig_DeidaraC0 takes nothing returns nothing
	set udg_trigger166=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger166, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(udg_trigger166, Condition(function Trig_DeidaraC01_Conditions))
	call TriggerAddAction(udg_trigger166, function Trig_DeidaraC01_Actions)
        call EnableTriggerForId(19 , udg_trigger166)
	set udg_trigger167=CreateTrigger()
	call DisableTrigger(udg_trigger167)
	call TriggerRegisterTimerEventPeriodic(udg_trigger167, 0.05)
	call TriggerAddAction(udg_trigger167, function Trig_DeidaraC02_Actions)
endfunction 

//===========================================================================
// Trigger: DeidaraBeautyOfDestruction
//===========================================================================

//Implemented from module Alloc:
    
        function s__DeidaraBeautyOfDestruction_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DeidaraBeautyOfDestruction_Alloc__recycle[(0)] == 0 ) then
                set s__DeidaraBeautyOfDestruction_Alloc__instanceCount=s__DeidaraBeautyOfDestruction_Alloc__instanceCount + 1
                set this=s__DeidaraBeautyOfDestruction_Alloc__instanceCount
            else
                set this=s__DeidaraBeautyOfDestruction_Alloc__recycle[(0)]
                set s__DeidaraBeautyOfDestruction_Alloc__recycle[(0)]=s__DeidaraBeautyOfDestruction_Alloc__recycle[s__DeidaraBeautyOfDestruction_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DeidaraBeautyOfDestruction_deallocate takes integer this returns nothing
            set s__DeidaraBeautyOfDestruction_Alloc__recycle[this]=s__DeidaraBeautyOfDestruction_Alloc__recycle[(0)]
            set s__DeidaraBeautyOfDestruction_Alloc__recycle[(0)]=this
        endfunction
    
    function s__DeidaraBeautyOfDestruction_destroy takes integer this returns nothing
        set s__DeidaraBeautyOfDestruction_bird[this]=null
        set s__DeidaraBeautyOfDestruction_caster[this]=null
        call s__DeidaraBeautyOfDestruction_deallocate(this)
    endfunction
    
    function s__DeidaraBeautyOfDestruction_pause2 takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call CameraClearNoiseForPlayer(GetLocalPlayer())
        call GroupClear(s__DeidaraBeautyOfDestruction_damaged)
        call s__DeidaraBeautyOfDestruction_destroy(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
     
    function s__DeidaraBeautyOfDestruction_dealDamage takes nothing returns boolean
        local integer level
        
        if GetUnitTypeId(s__DeidaraBeautyOfDestruction_caster[s__DeidaraBeautyOfDestruction_instance]) == 'H00G' then
            set level=10
        else
            set level=GetUnitAbilityLevel(s__DeidaraBeautyOfDestruction_caster[s__DeidaraBeautyOfDestruction_instance], 'A0NM')
        endif

        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__DeidaraBeautyOfDestruction_caster[s__DeidaraBeautyOfDestruction_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 and not IsUnitInGroup(GetFilterUnit(), s__DeidaraBeautyOfDestruction_damaged) then
            if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true then
                call UnitDamageTarget(s__DeidaraBeautyOfDestruction_caster[s__DeidaraBeautyOfDestruction_instance], GetFilterUnit(), GetHeroInt(s__DeidaraBeautyOfDestruction_caster[s__DeidaraBeautyOfDestruction_instance], true) * level * 1.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            else
                call UnitDamageTarget(s__DeidaraBeautyOfDestruction_caster[s__DeidaraBeautyOfDestruction_instance], GetFilterUnit(), GetHeroInt(s__DeidaraBeautyOfDestruction_caster[s__DeidaraBeautyOfDestruction_instance], true) * level * 1.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            endif
            call GroupAddUnit(s__DeidaraBeautyOfDestruction_damaged, GetFilterUnit())
        endif
        return false
    endfunction 

    function s__DeidaraBeautyOfDestruction_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x
        local real y
        local real new_x
        local real new_y
        local real angle
        local real distance
        local integer i
     local integer level
        set x=GetUnitX(s__DeidaraBeautyOfDestruction_bird[this])
        set y=GetUnitY(s__DeidaraBeautyOfDestruction_bird[this])
        set angle=Atan3(x , y , s__DeidaraBeautyOfDestruction_target_x[this] , s__DeidaraBeautyOfDestruction_target_y[this])
        set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        set distance=GetDistance(new_x , new_y , s__DeidaraBeautyOfDestruction_target_x[this] , s__DeidaraBeautyOfDestruction_target_y[this])
        call SetUnitX(s__DeidaraBeautyOfDestruction_bird[this], new_x)
        call SetUnitY(s__DeidaraBeautyOfDestruction_bird[this], new_y)
        call SetUnitFacing(s__DeidaraBeautyOfDestruction_bird[this], Rad2Deg(s__DeidaraBeautyOfDestruction_angle[this]))
        if GetUnitTypeId(s__DeidaraBeautyOfDestruction_caster[this]) == 'H00G' then
            set level=10
        else
            set level=GetUnitAbilityLevel(s__DeidaraBeautyOfDestruction_caster[this], 'A0NM')
        endif
        if distance <= 50 then
            call KillUnit(s__DeidaraBeautyOfDestruction_bird[this])
            call ShowUnit(s__DeidaraBeautyOfDestruction_bird[this], false)
            set bj_lastCreatedGroup=CreateGroup()
            set s__DeidaraBeautyOfDestruction_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__DeidaraBeautyOfDestruction_target_x[this], s__DeidaraBeautyOfDestruction_target_y[this], 300.0, Filter(function s__DeidaraBeautyOfDestruction_dealDamage))
            call DestroyGroup(bj_lastCreatedGroup)
            set i=1
            loop
                exitwhen i > 10
                call GenerateRandomCircle(s__DeidaraBeautyOfDestruction_target_x[this] , s__DeidaraBeautyOfDestruction_target_y[this] , 200.0)
                set x=GetRandomX()
                set y=GetRandomY()
                call DestroyEffect(AddSpecialEffect(("Boom.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                //call AddSpecialEffectEx("Abilities\\Weapons\\Mortar\\MortarMissile.mdl", x, y)
                set i=i + 1
            endloop
            call CameraSetEQNoiseForPlayer(GetLocalPlayer(), 6.00)
            call CinematicFadeBJ(2, 0.50, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 100.00, 0.00, 0.00, 80.00)
            call TimerStart(NewTimerEx(this), 0.3, false, function s__DeidaraBeautyOfDestruction_pause2)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__DeidaraBeautyOfDestruction_pause takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitAnimation(s__DeidaraBeautyOfDestruction_bird[this], "stand")
        call SetUnitFlyHeight(s__DeidaraBeautyOfDestruction_bird[this], 0, 1000)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__DeidaraBeautyOfDestruction_periodic)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__DeidaraBeautyOfDestruction_create takes real x,real y returns integer
        local integer this= s__DeidaraBeautyOfDestruction_allocate()
        set s__DeidaraBeautyOfDestruction_caster[this]=udg_unit66
        set s__DeidaraBeautyOfDestruction_target_x[this]=x
        set s__DeidaraBeautyOfDestruction_target_y[this]=y
        set s__DeidaraBeautyOfDestruction_angle[this]=Atan3(GetUnitX(s__DeidaraBeautyOfDestruction_caster[this]) , GetUnitY(s__DeidaraBeautyOfDestruction_caster[this]) , s__DeidaraBeautyOfDestruction_target_x[this] , s__DeidaraBeautyOfDestruction_target_y[this])
        set s__DeidaraBeautyOfDestruction_bird[this]=CreateUnit(GetTriggerPlayer(), 'e02N', GetUnitX(s__DeidaraBeautyOfDestruction_caster[this]), GetUnitY(s__DeidaraBeautyOfDestruction_caster[this]), Rad2Deg(s__DeidaraBeautyOfDestruction_angle[this]))
        call SetUnitFlyHeight(s__DeidaraBeautyOfDestruction_bird[this], 300, 1200)
        call SetUnitAnimation(s__DeidaraBeautyOfDestruction_bird[this], "birth")
        call TimerStart(NewTimerEx(this), 0.25, false, function s__DeidaraBeautyOfDestruction_pause)
	return this
    endfunction 

    function s__DeidaraBeautyOfDestruction_actions takes nothing returns nothing
        local integer this
        local real angle
        local real dist
        local real x1
        local real y1
        local real x2
        local real y2
        if GetUnitAbilityLevel(GetTriggerUnit(), GetSpellAbilityId()) < 10 then
            set this=s__DeidaraBeautyOfDestruction_allocate()
            set s__DeidaraBeautyOfDestruction_caster[this]=GetTriggerUnit()
            set s__DeidaraBeautyOfDestruction_target_x[this]=GetSpellTargetX()
            set s__DeidaraBeautyOfDestruction_target_y[this]=GetSpellTargetY()
            set s__DeidaraBeautyOfDestruction_angle[this]=Atan3(GetUnitX(s__DeidaraBeautyOfDestruction_caster[this]) , GetUnitY(s__DeidaraBeautyOfDestruction_caster[this]) , s__DeidaraBeautyOfDestruction_target_x[this] , s__DeidaraBeautyOfDestruction_target_y[this])
            set s__DeidaraBeautyOfDestruction_bird[this]=CreateUnit(GetTriggerPlayer(), 'e02N', GetUnitX(s__DeidaraBeautyOfDestruction_caster[this]), GetUnitY(s__DeidaraBeautyOfDestruction_caster[this]), Rad2Deg(s__DeidaraBeautyOfDestruction_angle[this]))
            call SetUnitFlyHeight(s__DeidaraBeautyOfDestruction_bird[this], 300, 1200)
            call SetUnitAnimation(s__DeidaraBeautyOfDestruction_bird[this], "birth")
            call TimerStart(NewTimerEx(this), 0.25, false, function s__DeidaraBeautyOfDestruction_pause)
        else
            set udg_unit66=GetTriggerUnit()
            set angle=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
            set dist=GetDistance(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
            set x1=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle - Deg2Rad(20) )*1.0)) * (( dist)*1.0)) // INLINED!!
            set y1=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle - Deg2Rad(20) )*1.0)) * (( dist)*1.0)) // INLINED!!
            set x2=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle + Deg2Rad(20) )*1.0)) * (( dist)*1.0)) // INLINED!!
            set y2=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle + Deg2Rad(20) )*1.0)) * (( dist)*1.0)) // INLINED!!
            call s__DeidaraBeautyOfDestruction_create(GetSpellTargetX() , GetSpellTargetY())
            call s__DeidaraBeautyOfDestruction_create(x1 , y1)
            call s__DeidaraBeautyOfDestruction_create(x2 , y2)
        endif
    endfunction

    function s__DeidaraBeautyOfDestruction_eternal takes nothing returns nothing
    endfunction 
    
    function s__DeidaraBeautyOfDestruction_onInit takes nothing returns nothing
        set s__DeidaraBeautyOfDestruction_damaged=CreateGroup()
        call RegisterSpellEffectEventForId(19 , 'A0NM' , function s__DeidaraBeautyOfDestruction_actions)
	call RegisterSpellEffectEventForId(19 , 'A02I' , function s__DeidaraBeautyOfDestruction_eternal)
    endfunction
    

//===========================================================================
// Trigger: DeidaraArtOfCreation
//===========================================================================

function Trig_DeidaraArtOfCreation2_Conditions takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'n005' ) ) or ( GetUnitTypeId(GetTriggerUnit()) == 'n01G' )
endfunction

function Trig_DeidaraArtOfCreation2_Func004001003001001 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_DeidaraArtOfCreation2_Func004001003001002 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_DeidaraArtOfCreation2_Func004001003001 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ))
endfunction

function Trig_DeidaraArtOfCreation2_Func004001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction

function Trig_DeidaraArtOfCreation2_Func004001003 takes nothing returns boolean
	return GetBooleanAnd(( GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )) ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ))
endfunction

function Trig_DeidaraArtOfCreation2_Func004A takes nothing returns nothing
	if GetUnitTypeId(GetTriggerUnit()) == 'n01G' then
		//call UnitDamageTargetBJ(gg_unit_N010_0056,GetEnumUnit(),(20.00*I2R(GetUnitAbilityLevelSwapped('A0IJ',gg_unit_N010_0056))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
	else
		call UnitDamageTargetBJ(udg_units19[113], GetEnumUnit(), ( 25.00 * I2R(GetUnitAbilityLevelSwapped('A02G', udg_units19[113])) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
	endif
	set udg_locations03[154]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations03[154] ), ( "Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[154])
endfunction

function Trig_DeidaraArtOfCreation2_Actions takes nothing returns nothing
	set udg_locations03[155]=GetUnitLoc(GetTriggerUnit())
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00, udg_locations03[155], Condition(function Trig_DeidaraArtOfCreation2_Func004001003)), function Trig_DeidaraArtOfCreation2_Func004A)
	call RemoveLocation(udg_locations03[155])
endfunction

function Trig_DeidaraArtOfCreation_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A02G' ) )
endfunction

function Trig_DeidaraArtOfCreation_Actions takes nothing returns nothing
	set udg_units19[113]=GetTriggerUnit()
	set bj_forLoopAIndex=1
	if GetUnitTypeId(GetTriggerUnit()) == 'H00G' then
		set bj_forLoopAIndexEnd=8
	else
		set bj_forLoopAIndexEnd=5
	endif
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		set udg_locations03[38]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()), 300.00, 300.00))
		call CreateNUnitsAtLoc(1, 'n005', GetOwningPlayer(GetTriggerUnit()), udg_locations03[38], ( ( GetUnitFacing(GetTriggerUnit()) - 63.00 ) + ( 18.00 * I2R(bj_forLoopAIndex) ) ))
		call RemoveLocation(udg_locations03[38])
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BHwe', 20.00)
		set udg_locations03[154]=PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit), 200.00, GetRandomReal(0, 360))
		call IssuePointOrderLoc(bj_lastCreatedUnit, "move", udg_locations03[154])
		call RemoveLocation(udg_locations03[154])
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call SetPlayerAbilityAvailable(GetOwningPlayer(udg_units19[113]), 'A02G', false)
	call UnitAddAbility(udg_units19[113], 'A0JG')
	if GetUnitAbilityLevel(GetTriggerUnit(), 'A02G') == 10 then
		if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00Q'))) then // INLINED!!
			set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A0OV')
			call IssuePointOrder(bj_lastCreatedUnit, "stasistrap", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
			set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A0OV')
			call IssuePointOrder(bj_lastCreatedUnit, "stasistrap", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
		endif
		set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A0OV')
		call IssuePointOrder(bj_lastCreatedUnit, "stasistrap", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
	endif
	call TriggerSleepAction(10.0)
	call UnitRemoveAbility(udg_units19[113], 'A0JG')
	call SetPlayerAbilityAvailable(GetOwningPlayer(udg_units19[113]), 'A02G', true)
endfunction

function InitTrig_DeidaraArtOfCreation takes nothing returns nothing
	set udg_trigger159=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger159, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(udg_trigger159, Condition(function Trig_DeidaraArtOfCreation2_Conditions))
	call TriggerAddAction(udg_trigger159, function Trig_DeidaraArtOfCreation2_Actions)
        call EnableTriggerForId(19 , udg_trigger159)
	set udg_trigger160=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger160, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger160, Condition(function Trig_DeidaraArtOfCreation_Conditions))
	call TriggerAddAction(udg_trigger160, function Trig_DeidaraArtOfCreation_Actions)
        call EnableTriggerForId(19 , udg_trigger160)
endfunction 

//===========================================================================
// Trigger: DeidaraFocusedAttack
//===========================================================================
function Trig_DeidaraFocusedAttack_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0JG' ) ) then
        return false
    endif
    return true
endfunction

function Trig_DeidaraFocusedAttack_Func002Func001Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetEnumUnit()) == 'n005' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetEnumUnit()) == 'n004' ) ) then
        return true
    endif
    return false
endfunction

function Trig_DeidaraFocusedAttack_Func002Func001C takes nothing returns boolean
    if ( not Trig_DeidaraFocusedAttack_Func002Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_DeidaraFocusedAttack_Func002A takes nothing returns nothing
    if ( Trig_DeidaraFocusedAttack_Func002Func001C() ) then
        call IssueTargetOrder(GetEnumUnit(), "selfdestruct", GetSpellTargetUnit())
    else
    endif
endfunction

function Trig_DeidaraFocusedAttack_Actions takes nothing returns nothing
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()), function Trig_DeidaraFocusedAttack_Func002A)
endfunction

//===========================================================================
function InitTrig_DeidaraFocusedAttack takes nothing returns nothing
    set gg_trg_DeidaraFocusedAttack=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_DeidaraFocusedAttack, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_DeidaraFocusedAttack, Condition(function Trig_DeidaraFocusedAttack_Conditions))
    call TriggerAddAction(gg_trg_DeidaraFocusedAttack, function Trig_DeidaraFocusedAttack_Actions)
    call EnableTriggerForId(19 , gg_trg_DeidaraFocusedAttack)
endfunction


//===========================================================================
// Trigger: DeidaraEagle
//===========================================================================

function Trig_DeidaraEagle_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A02D' ) )
endfunction

function Trig_DeidaraEagle_Actions takes nothing returns nothing
	set udg_units19[113]=GetTriggerUnit()
	call TriggerSleepAction(0.10)
	call UnitAddAbility(udg_units19[113], 'Arav')
	call UnitRemoveAbility(udg_units19[113], 'Arav')
	call SetUnitTimeScale(GetTriggerUnit(), 3.00)
//        call SetUnitPathing( udg_units19[113], false )
//	
    if GetUnitTypeId(GetTriggerUnit()) == 'H00G' then
        set udg_unit29=CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e007', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
    else
	set udg_Eagle=true
	    //call PauseUnit(udg_units19[113],true)
        call AddUnitAnimationPropertiesBJ(true, "alternate", udg_units19[113])
        set udg_unit29=CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e007', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
        call SetUnitFlyHeight(udg_units19[113], 350.00, 9999.00)
        call SetUnitScale((udg_unit29 ), (( 2.00 )*1.0), (( 2.00 )*1.0), (( 2.00)*1.0)) // INLINED!!
        call SetUnitTimeScale(udg_unit29, 0.30)
        call SetUnitFlyHeight(udg_unit29, 230.00, 9999.00)
    endif
	call TriggerSleepAction(0.10)
	call EnableTrigger(udg_trigger164)
	call TriggerSleepAction(1.00)
	call DisableTrigger(udg_trigger164)
	if GetUnitTypeId(GetTriggerUnit()) != 'H00G' then
		call SetUnitFlyHeight(udg_units19[113], 0.00, 9999.00)
		call SetUnitFlyHeight(udg_unit29, 0.00, 9999.00)
	endif
//	
//        call SetUnitPathing( udg_units19[113], true )
	call TriggerSleepAction(0.30)
	call RemoveUnit(udg_unit29)
	call SetUnitTimeScale(GetTriggerUnit(), 1.00)
	set udg_unit29=null
	set udg_Eagle=false
	//call PauseUnit(udg_units19[113],false)
	if GetUnitTypeId(udg_units19[113]) != 'H00G' and GetUnitTypeId(udg_units19[113]) != 'H01H' then
        	call AddUnitAnimationPropertiesBJ(false, "alternate", udg_units19[113])
		call SetUnitAnimation(udg_units19[113], "morph")
	endif
endfunction

function Trig_DeidaraEagle2_Actions takes nothing returns nothing
	set udg_locations03[170]=PolarProjectionBJ(GetUnitLoc(udg_units19[113]), 17.00, GetUnitFacing(udg_units19[113]))
	//call SetUnitPositionLoc(udg_units19[113],udg_locations03[170])
    	call SetUnitX(udg_units19[113], GetLocationX(udg_locations03[170]))
    	call SetUnitY(udg_units19[113], GetLocationY(udg_locations03[170]))
	call SetUnitPositionLoc(udg_unit29, udg_locations03[170])
	call RemoveLocation(udg_locations03[170])
	call SetUnitAnimation(udg_units19[113], "walk alternate")
	call SetUnitAnimation(udg_unit29, "stand")
	if GetUnitTypeId(GetTriggerUnit()) != 'H00G' then
		call SetUnitFlyHeight(udg_units19[113], 250.00 + GetPointZ(GetLocationX(udg_locations03[170]) , GetLocationY(udg_locations03[170])), 9999.00)
	endif
	set udg_locations03[52]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(udg_units19[113]), 500.00, 500.00))
	call CreateNUnitsAtLoc(1, 'now2', GetOwningPlayer(udg_units19[113]), udg_locations03[52], GetUnitFacing(udg_units19[113]))
	call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
	call UnitApplyTimedLifeBJ(1.00, 'BTLF', bj_lastCreatedUnit)
	call SetUnitFlyHeight(bj_lastCreatedUnit, 0.00, 500.00)
	call RemoveLocation(udg_locations03[52])
endfunction

function Trig_DeidaraEagle3_Conditions takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'now2' ) )
endfunction

function Trig_DeidaraEagle3_Func008001003001001 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_DeidaraEagle3_Func008001003001002 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_DeidaraEagle3_Func008001003001 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ))
endfunction

function Trig_DeidaraEagle3_Func008001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction

function Trig_DeidaraEagle3_Func008001003 takes nothing returns boolean
	return GetBooleanAnd(( GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )) ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ))
endfunction

function Trig_DeidaraEagle3_Func008A takes nothing returns nothing
	call UnitDamageTargetBJ(udg_units19[113], GetEnumUnit(), ( ( ( I2R(GetHeroStatBJ(2, udg_units19[113], true)) / 15.00 ) + 10.00 ) * I2R(GetUnitAbilityLevelSwapped('A02D', udg_units19[113])) ), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_DeidaraEagle3_Actions takes nothing returns nothing
	set udg_locations03[171]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ((udg_locations03[171] ), ( "Boom.mdx")) // INLINED!!
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.4)
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((udg_locations03[171] ), ( "Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00, udg_locations03[171], Condition(function Trig_DeidaraEagle3_Func008001003)), function Trig_DeidaraEagle3_Func008A)
	call RemoveLocation(udg_locations03[171])
endfunction

function InitTrig_DeidaraEagle takes nothing returns nothing
	set udg_trigger163=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger163, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger163, Condition(function Trig_DeidaraEagle_Conditions))
	call TriggerAddAction(udg_trigger163, function Trig_DeidaraEagle_Actions)
        call EnableTriggerForId(19 , udg_trigger163)
	set udg_trigger164=CreateTrigger()
	call DisableTrigger(udg_trigger164)
	call TriggerRegisterTimerEventPeriodic(udg_trigger164, 0.02)
	call TriggerAddAction(udg_trigger164, function Trig_DeidaraEagle2_Actions)
	set udg_trigger165=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger165, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(udg_trigger165, Condition(function Trig_DeidaraEagle3_Conditions))
	call TriggerAddAction(udg_trigger165, function Trig_DeidaraEagle3_Actions)
        call EnableTriggerForId(19 , udg_trigger165)
endfunction 

//===========================================================================
// Trigger: DeidaraClayBird
//===========================================================================
function Trig_DeidaraClayBird_Func001C takes nothing returns boolean
	return GetUnitTypeId(udg_Deidara) == 'H00D' or GetUnitTypeId(udg_Deidara) == 'H00G'
endfunction

function Trig_DeidaraClayBird_Actions takes nothing returns nothing
    if ( (GetUnitTypeId(udg_Deidara) == 'H00D' or GetUnitTypeId(udg_Deidara) == 'H00G') ) then // INLINED!!
        if GetUnitTypeId(udg_Deidara) == 'H00D' then
            if not udg_Eagle then
                call SetUnitFlyHeight(udg_Deidara, 0, 3000)
                call SetUnitPathing(udg_Deidara, true)
            endif
        else
            call SetUnitFlyHeight(udg_Deidara, 300, 600)
            call SetUnitPathing(udg_Deidara, false)
        endif
    else
        call SetUnitFlyHeight(udg_Deidara, 300, 600)
    endif
endfunction

function Trig_DeidaraClayBird_Bar takes nothing returns nothing
    call EnableTrigger(gg_trg_DeidaraClayBird)
	set udg_Deidara=GetTriggerUnit()
    if GetUnitTypeId(udg_unit66) == 'H00D' then
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Deidara_R, 100, GetTriggerUnit())
		endif
        call AddLoadingBar(udg_unit66 , 30.0)
        call UnitRemoveAbility(udg_unit66, 'A0JG')
    endif
endfunction 

//===========================================================================
function InitTrig_DeidaraClayBird takes nothing returns nothing
    call RegisterSpellEffectEventForId(19 , 'A0E3' , function Trig_DeidaraClayBird_Bar)
    set gg_trg_DeidaraClayBird=CreateTrigger()
    call DisableTrigger(gg_trg_DeidaraClayBird)
    call TriggerRegisterTimerEventPeriodic(gg_trg_DeidaraClayBird, 0.10)
    call TriggerAddAction(gg_trg_DeidaraClayBird, function Trig_DeidaraClayBird_Actions)
endfunction


//===========================================================================
// Trigger: DeidaraC3
//===========================================================================
function Trig_DeidaraC3_Conditions takes nothing returns boolean
	return GetSpellAbilityId() == 'A0E8' or GetSpellAbilityId() == 'A029'
endfunction

function Trig_DeidaraC3_Actions takes nothing returns nothing
	if GetSpellAbilityId() == 'A029' then
		set udg_C3_Eternal=true
	else
		set udg_C3_Eternal=false
	endif
    set udg_C3_Caster=GetTriggerUnit()
    set udg_C3_Point[1]=GetSpellTargetLoc()
    call CreateNUnitsAtLoc(1, 'h049', GetTriggerPlayer(), udg_C3_Point[1], bj_UNIT_FACING)
	if udg_C3_Eternal then
		call SetUnitScale(bj_lastCreatedUnit, 5.0, 0, 0)
	endif
    set udg_C3_Dummy=GetLastCreatedUnit()
    call EnableTrigger(gg_trg_DeidaraC3LOOP)
endfunction

//===========================================================================
function InitTrig_DeidaraC3 takes nothing returns nothing
    set gg_trg_DeidaraC3=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_DeidaraC3, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_DeidaraC3, Condition(function Trig_DeidaraC3_Conditions))
    call TriggerAddAction(gg_trg_DeidaraC3, function Trig_DeidaraC3_Actions)
    call EnableTriggerForId(19 , gg_trg_DeidaraC3)
endfunction


//===========================================================================
// Trigger: DeidaraC3LOOP
//===========================================================================
function Trig_DeidaraC3LOOP_Func002Func004002003 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_C3_Caster)) == true )
endfunction

function Trig_DeidaraC3LOOP_Func002Func005A takes nothing returns nothing
    call StunUnitTimed(udg_C3_Caster , GetEnumUnit() , 1.0)
    call UnitDamageTargetBJ(udg_C3_Caster, GetEnumUnit(), ( 450 + 3 * I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_C3_Caster, true)) ) * GetUnitAbilityLevel(udg_C3_Caster, 'A0E3'), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)


endfunction

function Trig_DeidaraC3LOOP_Func002C takes nothing returns boolean
    if ( not ( GetUnitFlyHeight(udg_C3_Dummy) <= 20.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_DeidaraC3LOOP_Actions takes nothing returns nothing
    call SetUnitFlyHeightBJ(udg_C3_Dummy, ( GetUnitFlyHeight(udg_C3_Dummy) - 20.00 ), 0.00)
    if ( Trig_DeidaraC3LOOP_Func002C() ) then
        call KillUnit(udg_C3_Dummy)
        call ShowUnitHide(udg_C3_Dummy)
	set bj_lastCreatedEffect=AddSpecialEffect("DustWave.mdx", GetLocationX(udg_C3_Point[1]), GetLocationY(udg_C3_Point[1]))
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 4.0)
	call DestroyEffect(bj_lastCreatedEffect)
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=10
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_C3_Point[2]=PolarProjectionBJ(udg_C3_Point[1], 150.00, ( 30.00 * I2R(GetForLoopIndexA()) ))
            set bj_lastCreatedEffect=AddSpecialEffect("Boom.mdx", GetLocationX(udg_C3_Point[2]), GetLocationY(udg_C3_Point[2]))
            //call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, GetRandomReal(0, 2*bj_PI))
            //call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
            //call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 0.3)
            //call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetRandomReal(0, 300))
            call DestroyEffect(bj_lastCreatedEffect)
            call RemoveLocation(udg_C3_Point[2])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
	
	if udg_C3_Eternal then
		set udg_C3_Group=GetUnitsInRangeOfLocMatching(400.00, udg_C3_Point[1], Condition(function Trig_DeidaraC3LOOP_Func002Func004002003))
	else
        	set udg_C3_Group=GetUnitsInRangeOfLocMatching(300.00, udg_C3_Point[1], Condition(function Trig_DeidaraC3LOOP_Func002Func004002003))
	endif
        call ForGroupBJ(udg_C3_Group, function Trig_DeidaraC3LOOP_Func002Func005A)
        call DestroyGroup(udg_C3_Group)
        call RemoveLocation(udg_C3_Point[1])
        call DisableTrigger(GetTriggeringTrigger())
    else
    endif
endfunction

//===========================================================================
function InitTrig_DeidaraC3LOOP takes nothing returns nothing
    set gg_trg_DeidaraC3LOOP=CreateTrigger()
    call DisableTrigger(gg_trg_DeidaraC3LOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_DeidaraC3LOOP, 0.03)
    call TriggerAddAction(gg_trg_DeidaraC3LOOP, function Trig_DeidaraC3LOOP_Actions)
endfunction


//===========================================================================
// Trigger: DeidaraEternalExplosion
//===========================================================================

//Implemented from module Alloc:
    
        function s__DeidaraEternalExplosion_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DeidaraEternalExplosion_Alloc__recycle[(0)] == 0 ) then
                set s__DeidaraEternalExplosion_Alloc__instanceCount=s__DeidaraEternalExplosion_Alloc__instanceCount + 1
                set this=s__DeidaraEternalExplosion_Alloc__instanceCount
            else
                set this=s__DeidaraEternalExplosion_Alloc__recycle[(0)]
                set s__DeidaraEternalExplosion_Alloc__recycle[(0)]=s__DeidaraEternalExplosion_Alloc__recycle[s__DeidaraEternalExplosion_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DeidaraEternalExplosion_deallocate takes integer this returns nothing
            set s__DeidaraEternalExplosion_Alloc__recycle[this]=s__DeidaraEternalExplosion_Alloc__recycle[(0)]
            set s__DeidaraEternalExplosion_Alloc__recycle[(0)]=this
        endfunction

 function s__DeidaraEternalExplosion_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call SetUnitScale(s__DeidaraEternalExplosion_c4[this], 1 + 0.14 * s__DeidaraEternalExplosion_count[this], 0, 0)
		set s__DeidaraEternalExplosion_count[this]=s__DeidaraEternalExplosion_count[this] + 1
		if s__DeidaraEternalExplosion_count[this] > 33 then
			set s__DeidaraEternalExplosion_c4[this]=null
			call s__DeidaraEternalExplosion_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DeidaraEternalExplosion_actions takes nothing returns nothing
  local integer this= s__DeidaraEternalExplosion_allocate()
  local real x= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(GetTriggerUnit())) )*1.0)) * (( 200)*1.0)) // INLINED!!
  local real y= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(GetTriggerUnit())) )*1.0)) * (( 200)*1.0)) // INLINED!!
		set s__DeidaraEternalExplosion_deidara=GetTriggerUnit()
		set s__DeidaraEternalExplosion_c4[this]=CreateUnit(GetTriggerPlayer(), 'e008', x, y, GetUnitFacing(GetTriggerUnit()))
		call UnitApplyTimedLife(s__DeidaraEternalExplosion_c4[this], 'BTLF', 20.0)
		call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
		set s__DeidaraEternalExplosion_count[this]=0
		call TimerStart(NewTimerEx(this), 0.03, true, function s__DeidaraEternalExplosion_periodic)
 endfunction 

 function s__DeidaraEternalExplosion_kill takes nothing returns nothing
		call KillUnit(GetTriggerUnit())
 endfunction 

 function s__DeidaraEternalExplosion_damage takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__DeidaraEternalExplosion_damaged[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call UnitDamageTarget(s__DeidaraEternalExplosion_deidara, bj_lastCreatedUnit, ( 10 * GetHeroInt(s__DeidaraEternalExplosion_deidara, true) ) / 100.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__DeidaraEternalExplosion_count[this]=s__DeidaraEternalExplosion_count[this] + 1
		if s__DeidaraEternalExplosion_count[this] == 100 then
			call DestroyGroup(s__DeidaraEternalExplosion_damaged[this])
			set s__DeidaraEternalExplosion_damaged[this]=null
			call s__DeidaraEternalExplosion_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DeidaraEternalExplosion_death takes nothing returns nothing
  local integer this
  local integer i= 0
		if GetUnitTypeId(GetTriggerUnit()) == 'e008' then
			set this=s__DeidaraEternalExplosion_allocate()
			set s__DeidaraEternalExplosion_damaged[this]=CreateGroup()
			set s__DeidaraEternalExplosion_count[this]=0
			call KillUnit(CreateUnit(GetTriggerPlayer(), 'h04D', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270))
			loop
				exitwhen i > 2
				call UnitApplyTimedLife(CreateUnit(GetTriggerPlayer(), 'h04E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetRandomReal(0, 360)), 'BTLF', 5.0)
				set i=i + 1
			endloop
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 500, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
					call GroupAddUnit(s__DeidaraEternalExplosion_damaged[this], bj_lastCreatedUnit)
				endif
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			call ShowUnit(GetTriggerUnit(), false)
			call TimerStart(NewTimerEx(this), 0.03, true, function s__DeidaraEternalExplosion_damage)
		endif
 endfunction 

 function s__DeidaraEternalExplosion_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(19 , s__DeidaraEternalExplosion_SPELL_ID , function s__DeidaraEternalExplosion_actions)
		call RegisterSpellEffectEventForId(19 , 'A027' , function s__DeidaraEternalExplosion_kill)
		call RegisterPlayerUnitEventForId(19 , EVENT_PLAYER_UNIT_DEATH , function s__DeidaraEternalExplosion_death)
 endfunction 

//===========================================================================
// Trigger: DosuSoundWave
//===========================================================================

//Implemented from module Alloc:
    
        function s__DosuQ_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DosuQ_Alloc__recycle[(0)] == 0 ) then
                set s__DosuQ_Alloc__instanceCount=s__DosuQ_Alloc__instanceCount + 1
                set this=s__DosuQ_Alloc__instanceCount
            else
                set this=s__DosuQ_Alloc__recycle[(0)]
                set s__DosuQ_Alloc__recycle[(0)]=s__DosuQ_Alloc__recycle[s__DosuQ_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DosuQ_deallocate takes integer this returns nothing
            set s__DosuQ_Alloc__recycle[this]=s__DosuQ_Alloc__recycle[(0)]
            set s__DosuQ_Alloc__recycle[(0)]=this
        endfunction

    function s__DosuQ_reflection_angle takes unit u returns real
        local real normal_angle= Atan3(GetUnitX(s__DosuEchoChamber_dome) , GetUnitY(s__DosuEchoChamber_dome) , GetUnitX(u) , GetUnitY(u))
        local real incident_angle= Deg2Rad(GetUnitFacing(u))
        local real dot_product= Cos(normal_angle) * Cos(incident_angle) + Sin(normal_angle) * Sin(incident_angle)
        local real reflection_x= Cos(incident_angle) - 2 * dot_product * Cos(normal_angle)
        local real reflection_y= Sin(incident_angle) - 2 * dot_product * Sin(normal_angle)
        local real reflection= Atan2(reflection_y, reflection_x)
  local real new_x= (((GetUnitX(u) )*1.0) + Cos((( reflection )*1.0)) * (( 500)*1.0)) // INLINED!!
  local real new_y= (((GetUnitY(u) )*1.0) + Sin((( reflection )*1.0)) * (( 500)*1.0)) // INLINED!!
		if GetDistance(new_x , new_y , GetUnitX(s__DosuEchoChamber_dome) , GetUnitY(s__DosuEchoChamber_dome)) > GetDistanceUnits(u , s__DosuEchoChamber_dome) then
			set reflection=reflection + bj_PI
		endif
		return reflection
    endfunction 

    function s__DosuQ_can_reflect takes unit u returns boolean
        local real angle= Atan3(GetUnitX(s__DosuEchoChamber_dome) , GetUnitY(s__DosuEchoChamber_dome) , GetUnitX(u) , GetUnitY(u))
        local real new_x= (((GetUnitX(s__DosuEchoChamber_dome) )*1.0) + Cos((( angle )*1.0)) * (( 500)*1.0)) // INLINED!!
        local real new_y= (((GetUnitY(s__DosuEchoChamber_dome) )*1.0) + Sin((( angle )*1.0)) * (( 500)*1.0)) // INLINED!!
        return GetDistance(new_x , new_y , GetUnitX(u) , GetUnitY(u)) < 50
    endfunction 

 function s__DosuQ_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real new_x= (((GetUnitX(s__DosuQ_missile[this]) )*1.0) + Cos((( s__DosuQ_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((GetUnitY(s__DosuQ_missile[this]) )*1.0) + Sin((( s__DosuQ_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
         local real angle
		call SetUnitX(s__DosuQ_missile[this], new_x)
		call SetUnitY(s__DosuQ_missile[this], new_y)
		set s__DosuQ_count[this]=s__DosuQ_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 12 * s__DosuQ_count[this], null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DosuQ_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__DosuQ_damaged[this]) then
				call UnitDamageTarget(s__DosuQ_caster[this], bj_lastCreatedUnit, 80 * GetUnitAbilityLevel(s__DosuQ_caster[this], s__DosuQ_SPELL_ID) * ( 1 - s__DosuQ_bounce[this] * 0.2 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
				call GroupAddUnit(s__DosuQ_damaged[this], bj_lastCreatedUnit)
				call DestroyEffect(AddSpecialEffect(("Hit.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if ModuloInteger(s__DosuQ_count[this], 2) == 0 then
			//set bj_lastCreatedEffect = AddSpecialEffect("Abilities\\Spells\\Human\\Brilliance\\Brilliance.mdl", new_x, new_y)
			set bj_lastCreatedEffect=AddSpecialEffect("ByakuganHitEffect.mdl", new_x, new_y)
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__DosuQ_angle[this])
			call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - Deg2Rad(270))
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0 / 32 * s__DosuQ_count[this])
			//call BlzSetSpecialEffectTime(bj_lastCreatedEffect, 2.0)
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100 + GetPointZ(new_x , new_y))
			call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 1.0)*1.0) , true) // INLINED!!
		endif
        if s__DosuEchoChamber_dome != null and GetWidgetLife(s__DosuEchoChamber_dome) > 0.405 and s__DosuQ_bounce[this] < 2 and s__DosuQ_can_reflect(s__DosuQ_missile[this]) and s__DosuQ_count[this] > 4 then
            set s__DosuQ_bounce[this]=s__DosuQ_bounce[this] + 1
            set s__DosuQ_count[this]=0
            set s__DosuQ_angle[this]=s__DosuQ_reflection_angle(s__DosuQ_missile[this])
            call GroupClear(s__DosuQ_damaged[this])
        endif
		if s__DosuQ_count[this] >= 40 then
			call KillUnit(s__DosuQ_missile[this])
			call DestroyGroup(s__DosuQ_damaged[this])
			call s__DosuQ_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DosuQ_actions takes nothing returns nothing
  local integer this= s__DosuQ_allocate()
		set s__DosuQ_caster[this]=GetTriggerUnit()
		set s__DosuQ_angle[this]=Atan3(GetUnitX(s__DosuQ_caster[this]) , GetUnitY(s__DosuQ_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		set s__DosuQ_missile[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__DosuQ_caster[this]), GetUnitY(s__DosuQ_caster[this]), Rad2Deg(s__DosuQ_angle[this]))
		set s__DosuQ_count[this]=0
        	set s__DosuQ_bounce[this]=0
		set s__DosuQ_damaged[this]=CreateGroup()
		call TimerStart(NewTimerEx(this), 0.02, true, function s__DosuQ_periodic)
 endfunction

 function s__DosuQ_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(90 , s__DosuQ_SPELL_ID , function s__DosuQ_actions)
 endfunction

//===========================================================================
// Trigger: DosuSoundPunch
//===========================================================================

//Implemented from module Alloc:
    
        function s__DosuSoundPunch_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DosuSoundPunch_Alloc__recycle[(0)] == 0 ) then
                set s__DosuSoundPunch_Alloc__instanceCount=s__DosuSoundPunch_Alloc__instanceCount + 1
                set this=s__DosuSoundPunch_Alloc__instanceCount
            else
                set this=s__DosuSoundPunch_Alloc__recycle[(0)]
                set s__DosuSoundPunch_Alloc__recycle[(0)]=s__DosuSoundPunch_Alloc__recycle[s__DosuSoundPunch_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DosuSoundPunch_deallocate takes integer this returns nothing
            set s__DosuSoundPunch_Alloc__recycle[this]=s__DosuSoundPunch_Alloc__recycle[(0)]
            set s__DosuSoundPunch_Alloc__recycle[(0)]=this
        endfunction

 function s__DosuSoundPunch_waves takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real angle= Atan3(GetUnitX(s__DosuSoundPunch_caster[this]) , GetUnitY(s__DosuSoundPunch_caster[this]) , GetUnitX(s__DosuSoundPunch_target[this]) , GetUnitY(s__DosuSoundPunch_caster[this]))
  local real new_x= (((GetUnitX(s__DosuSoundPunch_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 50 * s__DosuSoundPunch_count[this])*1.0)) // INLINED!!
  local real new_y= (((GetUnitY(s__DosuSoundPunch_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 50 * s__DosuSoundPunch_count[this])*1.0)) // INLINED!!
		set bj_lastCreatedEffect=AddSpecialEffect("ByakuganHitEffect.mdl", new_x, new_y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - Deg2Rad(270))
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, angle)
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetRandomInt(0, 10) + 60 + GetPointZ(new_x , new_y))
		call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.5)
		call DestroyEffect(bj_lastCreatedEffect)
		if s__DosuSoundPunch_count[this] > 4 then
			call s__DosuSoundPunch_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		else
			set s__DosuSoundPunch_count[this]=s__DosuSoundPunch_count[this] + 1
		endif
 endfunction 

 function s__DosuSoundPunch_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real angle= Atan3(GetUnitX(s__DosuSoundPunch_caster[this]) , GetUnitY(s__DosuSoundPunch_caster[this]) , GetUnitX(s__DosuSoundPunch_target[this]) , GetUnitY(s__DosuSoundPunch_target[this]))
  local real new_x= (((GetUnitX(s__DosuSoundPunch_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
  local real new_y= (((GetUnitY(s__DosuSoundPunch_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
		call SetUnitX(s__DosuSoundPunch_caster[this], new_x)
		call SetUnitY(s__DosuSoundPunch_caster[this], new_y)
		if GetDistanceUnits(s__DosuSoundPunch_caster[this] , s__DosuSoundPunch_target[this]) < 200 then
			call SetUnitAnimation(s__DosuSoundPunch_caster[this], "attack")
			call SetUnitTimeScale(s__DosuSoundPunch_caster[this], 1.0)
			call PauseUnit(s__DosuSoundPunch_caster[this], false)
			call UnitDamageTarget(s__DosuSoundPunch_caster[this], s__DosuSoundPunch_target[this], GetHeroAgi(s__DosuSoundPunch_caster[this], true) * GetUnitAbilityLevel(s__DosuSoundPunch_caster[this], s__DosuSoundPunch_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
			call StunUnitTimed(s__DosuSoundPunch_caster[this] , s__DosuSoundPunch_target[this] , 1.5)
			set s__DosuSoundPunch_count[this]=0
			call TimerStart(NewTimerEx(this), 0.05, true, function s__DosuSoundPunch_waves)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DosuSoundPunch_actions takes nothing returns nothing
  local integer this= s__DosuSoundPunch_allocate()
		set s__DosuSoundPunch_caster[this]=GetTriggerUnit()
		set s__DosuSoundPunch_target[this]=GetSpellTargetUnit()
		call PauseUnit(s__DosuSoundPunch_caster[this], true)
		set bj_lastCreatedEffect=AddSpecialEffect("DustWaveDash.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Atan3(GetUnitX(s__DosuSoundPunch_caster[this]) , GetUnitY(s__DosuSoundPunch_caster[this]) , GetUnitX(s__DosuSoundPunch_target[this]) , GetUnitY(s__DosuSoundPunch_target[this])))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetPointZ(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit())))
		call DestroyEffect(bj_lastCreatedEffect)
		call SetUnitAnimationByIndex(s__DosuSoundPunch_caster[this], 1)
		call SetUnitTimeScale(s__DosuSoundPunch_caster[this], 3.0)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__DosuSoundPunch_periodic)
 endfunction 

 function s__DosuSoundPunch_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(90 , s__DosuSoundPunch_SPELL_ID , function s__DosuSoundPunch_actions)
 endfunction 

//===========================================================================
// Trigger: DosuSoundBarrier
//===========================================================================

//Implemented from module Alloc:
    
        function s__DosuSoundBarrier_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DosuSoundBarrier_Alloc__recycle[(0)] == 0 ) then
                set s__DosuSoundBarrier_Alloc__instanceCount=s__DosuSoundBarrier_Alloc__instanceCount + 1
                set this=s__DosuSoundBarrier_Alloc__instanceCount
            else
                set this=s__DosuSoundBarrier_Alloc__recycle[(0)]
                set s__DosuSoundBarrier_Alloc__recycle[(0)]=s__DosuSoundBarrier_Alloc__recycle[s__DosuSoundBarrier_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DosuSoundBarrier_deallocate takes integer this returns nothing
            set s__DosuSoundBarrier_Alloc__recycle[this]=s__DosuSoundBarrier_Alloc__recycle[(0)]
            set s__DosuSoundBarrier_Alloc__recycle[(0)]=this
        endfunction

 function s__DosuSoundBarrier_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer i= 0
		loop
			exitwhen i > 3
			if ModuloInteger(s__DosuSoundBarrier_count[this], 6) == 0 then
				set bj_lastCreatedEffect=AddSpecialEffect("ByakuganHitEffect.mdl", GetUnitX(s__DosuSoundBarrier_barrier), GetUnitY(s__DosuSoundBarrier_barrier))
				call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3)
				call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 6.25 * ( s__DosuSoundBarrier_count[this] / 6 ) + 100 * i + GetPointZ(GetUnitX(s__DosuSoundBarrier_barrier) , GetUnitY(s__DosuSoundBarrier_barrier)))
				//call BlzSetSpecialEffectTime(bj_lastCreatedEffect, 2.0)
				call BlzSetSpecialEffectAlpha(bj_lastCreatedEffect, 100)
				call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 1.0)*1.0) , true) // INLINED!!
			endif
			set i=i + 1
		endloop
		set s__DosuSoundBarrier_count[this]=s__DosuSoundBarrier_count[this] + 1
		if s__DosuSoundBarrier_count[this] >= 99 then
			call KillUnit(s__DosuSoundBarrier_barrier)
			call s__DosuSoundBarrier_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DosuSoundBarrier_actions takes nothing returns nothing
  local integer this= s__DosuSoundBarrier_allocate()
		set s__DosuSoundBarrier_caster[this]=GetTriggerUnit()
		set s__DosuSoundBarrier_barrier=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__DosuSoundBarrier_caster[this]), GetUnitY(s__DosuSoundBarrier_caster[this]), 270)
		set s__DosuSoundBarrier_count[this]=0
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__DosuSoundBarrier_caster[this]), GetUnitY(s__DosuSoundBarrier_caster[this]), 400, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DosuSoundBarrier_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
				call EsnareUnitTimed(s__DosuSoundBarrier_caster[this] , bj_lastCreatedUnit , 3.0)
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__DosuSoundBarrier_periodic)
 endfunction 

 function s__DosuSoundBarrier_onInit takes nothing returns nothing
		set s__DosuSoundBarrier_barrier=null
		call RegisterSpellEffectEventForId(90 , s__DosuSoundBarrier_SPELL_ID , function s__DosuSoundBarrier_actions)
 endfunction 

//===========================================================================
// Trigger: DosuVibrations
//===========================================================================

//Implemented from module Alloc:
    
        function s__DosuVibrations_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DosuVibrations_Alloc__recycle[(0)] == 0 ) then
                set s__DosuVibrations_Alloc__instanceCount=s__DosuVibrations_Alloc__instanceCount + 1
                set this=s__DosuVibrations_Alloc__instanceCount
            else
                set this=s__DosuVibrations_Alloc__recycle[(0)]
                set s__DosuVibrations_Alloc__recycle[(0)]=s__DosuVibrations_Alloc__recycle[s__DosuVibrations_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DosuVibrations_deallocate takes integer this returns nothing
            set s__DosuVibrations_Alloc__recycle[this]=s__DosuVibrations_Alloc__recycle[(0)]
            set s__DosuVibrations_Alloc__recycle[(0)]=this
        endfunction

 function s__DosuVibrations_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__DosuVibrations_caster[this]), GetUnitY(s__DosuVibrations_caster[this]), 600, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DosuVibrations_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
				call UnitDamageTarget(s__DosuVibrations_caster[this], bj_lastCreatedUnit, ( 500 * GetUnitAbilityLevel(s__DosuVibrations_caster[this], s__DosuVibrations_SPELL_ID) + 5 * GetHeroAgi(s__DosuVibrations_caster[this], true) ) / 100, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				if s__DosuEchoChamber_dome != null and GetWidgetLife(s__DosuEchoChamber_dome) > 0.405 and GetDistanceUnits(s__DosuEchoChamber_dome , s__DosuVibrations_caster[this]) < 500 then
					call UnitDamageTarget(s__DosuVibrations_caster[this], bj_lastCreatedUnit, 250 * GetUnitAbilityLevel(s__DosuVibrations_caster[this], s__DosuVibrations_SPELL_ID) / 100, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				endif
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__DosuVibrations_count[this]=s__DosuVibrations_count[this] + 1
		if ModuloInteger(s__DosuVibrations_count[this], 4) == 0 then
			set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\WarStompCaster.mdl", GetUnitX(s__DosuVibrations_caster[this]), GetUnitY(s__DosuVibrations_caster[this]))
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 20 + GetPointZ(GetUnitX(s__DosuVibrations_caster[this]) , GetUnitY(s__DosuVibrations_caster[this])))
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, GetRandomReal(0, 2 * bj_PI))
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.5)
			//call BlzSetSpecialEffectTime(bj_lastCreatedEffect, GetRandomReal(0.8, 1.2))
			call DestroyEffect(bj_lastCreatedEffect)
		endif
		if s__DosuVibrations_count[this] >= 100 then
			call PauseUnit(s__DosuVibrations_caster[this], false)
			call s__DosuVibrations_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DosuVibrations_actions takes nothing returns nothing
  local integer this= s__DosuVibrations_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Dosu_R, 100, GetTriggerUnit())
        endif
		set s__DosuVibrations_caster[this]=GetTriggerUnit()
		set s__DosuVibrations_count[this]=0
		//call PauseUnit(this.caster, true)
		call SetUnitAnimation(s__DosuVibrations_caster[this], "spell channel")
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__DosuVibrations_caster[this]), 'e007', GetUnitX(s__DosuVibrations_caster[this]), GetUnitY(s__DosuVibrations_caster[this]), 270)
		call UnitAddAbility(bj_lastCreatedUnit, 'A1BD')
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__DosuVibrations_periodic)
 endfunction 

 function s__DosuVibrations_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(90 , s__DosuVibrations_SPELL_ID , function s__DosuVibrations_actions)
 endfunction 

//===========================================================================
// Trigger: DosuWavesOfDestruction
//===========================================================================

//Implemented from module Alloc:
    
        function s__DosuWavesOfDestruction_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DosuWavesOfDestruction_Alloc__recycle[(0)] == 0 ) then
                set s__DosuWavesOfDestruction_Alloc__instanceCount=s__DosuWavesOfDestruction_Alloc__instanceCount + 1
                set this=s__DosuWavesOfDestruction_Alloc__instanceCount
            else
                set this=s__DosuWavesOfDestruction_Alloc__recycle[(0)]
                set s__DosuWavesOfDestruction_Alloc__recycle[(0)]=s__DosuWavesOfDestruction_Alloc__recycle[s__DosuWavesOfDestruction_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DosuWavesOfDestruction_deallocate takes integer this returns nothing
            set s__DosuWavesOfDestruction_Alloc__recycle[this]=s__DosuWavesOfDestruction_Alloc__recycle[(0)]
            set s__DosuWavesOfDestruction_Alloc__recycle[(0)]=this
        endfunction

    function s__DosuWavesOfDestruction_reflection_angle takes unit u returns real
        local real normal_angle= Atan3(GetUnitX(s__DosuEchoChamber_dome) , GetUnitY(s__DosuEchoChamber_dome) , GetUnitX(u) , GetUnitY(u))
        local real incident_angle= Deg2Rad(GetUnitFacing(u))
        local real dot_product= Cos(normal_angle) * Cos(incident_angle) + Sin(normal_angle) * Sin(incident_angle)
        local real reflection_x= Cos(incident_angle) - 2 * dot_product * Cos(normal_angle)
        local real reflection_y= Sin(incident_angle) - 2 * dot_product * Sin(normal_angle)
        local real reflection= Atan2(reflection_y, reflection_x)
  local real new_x= (((GetUnitX(u) )*1.0) + Cos((( reflection )*1.0)) * (( 500)*1.0)) // INLINED!!
  local real new_y= (((GetUnitY(u) )*1.0) + Sin((( reflection )*1.0)) * (( 500)*1.0)) // INLINED!!
		if GetDistance(new_x , new_y , GetUnitX(s__DosuEchoChamber_dome) , GetUnitY(s__DosuEchoChamber_dome)) > GetDistanceUnits(u , s__DosuEchoChamber_dome) then
			set reflection=reflection + bj_PI
		endif
		return reflection
    endfunction 

    function s__DosuWavesOfDestruction_can_reflect takes unit u returns boolean
        local real angle= Atan3(GetUnitX(s__DosuEchoChamber_dome) , GetUnitY(s__DosuEchoChamber_dome) , GetUnitX(u) , GetUnitY(u))
        local real new_x= (((GetUnitX(s__DosuEchoChamber_dome) )*1.0) + Cos((( angle )*1.0)) * (( 500)*1.0)) // INLINED!!
        local real new_y= (((GetUnitY(s__DosuEchoChamber_dome) )*1.0) + Sin((( angle )*1.0)) * (( 500)*1.0)) // INLINED!!
        return GetDistance(new_x , new_y , GetUnitX(u) , GetUnitY(u)) < 50
    endfunction 

 function s__DosuWavesOfDestruction_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real new_x= (((GetUnitX(s__DosuWavesOfDestruction_missile[this]) )*1.0) + Cos((( s__DosuWavesOfDestruction_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((GetUnitY(s__DosuWavesOfDestruction_missile[this]) )*1.0) + Sin((( s__DosuWavesOfDestruction_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real angle
		call SetUnitX(s__DosuWavesOfDestruction_missile[this], new_x)
		call SetUnitY(s__DosuWavesOfDestruction_missile[this], new_y)
		set s__DosuWavesOfDestruction_count[this]=s__DosuWavesOfDestruction_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 12 * s__DosuWavesOfDestruction_count[this], null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__DosuWavesOfDestruction_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__DosuWavesOfDestruction_damaged[this]) then
				call UnitDamageTarget(s__DosuWavesOfDestruction_caster[this], bj_lastCreatedUnit, s__DosuWavesOfDestruction_damage[this] * ( 1 + s__DosuWavesOfDestruction_bounce[this] * 0.2 ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				call GroupAddUnit(s__DosuWavesOfDestruction_damaged[this], bj_lastCreatedUnit)
				call DestroyEffect(AddSpecialEffect(("Hit.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                		if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    			set s__DosuWavesOfDestruction_damage[this]=s__DosuWavesOfDestruction_damage[this] + s__DosuWavesOfDestruction_damage[this] * 0.2
                		endif
			elseif IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(s__DosuWavesOfDestruction_caster[this])) and bj_lastCreatedUnit != s__DosuWavesOfDestruction_caster[this] and not IsUnitInGroup(bj_lastCreatedUnit, s__DosuWavesOfDestruction_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                call GroupAddUnit(s__DosuWavesOfDestruction_damaged[this], bj_lastCreatedUnit)
                set s__DosuWavesOfDestruction_damage[this]=s__DosuWavesOfDestruction_damage[this] + s__DosuWavesOfDestruction_damage[this] * 0.2
            endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if ModuloInteger(s__DosuWavesOfDestruction_count[this], 2) == 0 then
			//set bj_lastCreatedEffect = AddSpecialEffect("Abilities\\Spells\\Human\\Brilliance\\Brilliance.mdl", new_x, new_y)
			set bj_lastCreatedEffect=AddSpecialEffect("AnimeGroundSmack.mdl", new_x, new_y)
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__DosuWavesOfDestruction_angle[this])
			call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - Deg2Rad(270))
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.0 / 32 * s__DosuWavesOfDestruction_count[this])
			//call BlzSetSpecialEffectTime(bj_lastCreatedEffect, 2.0)
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100 + GetPointZ(new_x , new_y))
			call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 1.0)*1.0) , true) // INLINED!!
		endif
        if s__DosuEchoChamber_dome != null and GetWidgetLife(s__DosuEchoChamber_dome) > 0.405 and s__DosuWavesOfDestruction_bounce[this] < 2 and s__DosuWavesOfDestruction_can_reflect(s__DosuWavesOfDestruction_missile[this]) and s__DosuWavesOfDestruction_count[this] > 4 then
            set s__DosuWavesOfDestruction_bounce[this]=s__DosuWavesOfDestruction_bounce[this] + 1
            set s__DosuWavesOfDestruction_count[this]=0
            set s__DosuWavesOfDestruction_angle[this]=s__DosuWavesOfDestruction_reflection_angle(s__DosuWavesOfDestruction_missile[this])
            call GroupClear(s__DosuWavesOfDestruction_damaged[this])
        endif
		if s__DosuWavesOfDestruction_count[this] >= 40 then
			call KillUnit(s__DosuWavesOfDestruction_missile[this])
			call DestroyGroup(s__DosuWavesOfDestruction_damaged[this])
			call s__DosuWavesOfDestruction_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__DosuWavesOfDestruction_actions takes nothing returns nothing
  local integer this= s__DosuWavesOfDestruction_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Dosu: My sound waves are uncounterable!|r")
            call PlaySoundOnUnitBJ(gg_snd_Dosu_T, 100, GetTriggerUnit())
        endif
		set s__DosuWavesOfDestruction_caster[this]=GetTriggerUnit()
		set s__DosuWavesOfDestruction_angle[this]=Atan3(GetUnitX(s__DosuWavesOfDestruction_caster[this]) , GetUnitY(s__DosuWavesOfDestruction_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		set s__DosuWavesOfDestruction_missile[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__DosuWavesOfDestruction_caster[this]), GetUnitY(s__DosuWavesOfDestruction_caster[this]), Rad2Deg(s__DosuWavesOfDestruction_angle[this]))
		set s__DosuWavesOfDestruction_count[this]=0
        	set s__DosuWavesOfDestruction_bounce[this]=0
        	set s__DosuWavesOfDestruction_damage[this]=5 * GetHeroAgi(s__DosuWavesOfDestruction_caster[this], true)
		set s__DosuWavesOfDestruction_damaged[this]=CreateGroup()
		call TimerStart(NewTimerEx(this), 0.02, true, function s__DosuWavesOfDestruction_periodic)
 endfunction

 function s__DosuWavesOfDestruction_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(90 , s__DosuWavesOfDestruction_SPELL_ID , function s__DosuWavesOfDestruction_actions)
 endfunction

//===========================================================================
// Trigger: DosuEchoChamber
//===========================================================================

//Implemented from module Alloc:
    
        function s__DosuEchoChamber_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__DosuEchoChamber_Alloc__recycle[(0)] == 0 ) then
                set s__DosuEchoChamber_Alloc__instanceCount=s__DosuEchoChamber_Alloc__instanceCount + 1
                set this=s__DosuEchoChamber_Alloc__instanceCount
            else
                set this=s__DosuEchoChamber_Alloc__recycle[(0)]
                set s__DosuEchoChamber_Alloc__recycle[(0)]=s__DosuEchoChamber_Alloc__recycle[s__DosuEchoChamber_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__DosuEchoChamber_deallocate takes integer this returns nothing
            set s__DosuEchoChamber_Alloc__recycle[this]=s__DosuEchoChamber_Alloc__recycle[(0)]
            set s__DosuEchoChamber_Alloc__recycle[(0)]=this
        endfunction

 function s__DosuEchoChamber_actions takes nothing returns nothing
		if s__DosuEchoChamber_dome != null and GetWidgetLife(s__DosuEchoChamber_dome) > 0.405 then
			call KillUnit(s__DosuEchoChamber_dome)
			call ShowUnit(s__DosuEchoChamber_dome, false)
		endif
		set s__DosuEchoChamber_dome=CreateUnit(GetTriggerPlayer(), 'e07K', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
		call UnitApplyTimedLife(s__DosuEchoChamber_dome, 'BTLF', 30.0)
 endfunction

 function s__DosuEchoChamber_onInit takes nothing returns nothing
		set s__DosuEchoChamber_dome=null
		call RegisterSpellEffectEventForId(90 , s__DosuEchoChamber_SPELL_ID , function s__DosuEchoChamber_actions)
 endfunction

//===========================================================================
// Trigger: FuuCocoon
//===========================================================================

//Implemented from module Alloc:
    
        function s__FuuCocoon_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__FuuCocoon_Alloc__recycle[(0)] == 0 ) then
                set s__FuuCocoon_Alloc__instanceCount=s__FuuCocoon_Alloc__instanceCount + 1
                set this=s__FuuCocoon_Alloc__instanceCount
            else
                set this=s__FuuCocoon_Alloc__recycle[(0)]
                set s__FuuCocoon_Alloc__recycle[(0)]=s__FuuCocoon_Alloc__recycle[s__FuuCocoon_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__FuuCocoon_deallocate takes integer this returns nothing
            set s__FuuCocoon_Alloc__recycle[this]=s__FuuCocoon_Alloc__recycle[(0)]
            set s__FuuCocoon_Alloc__recycle[(0)]=this
        endfunction
    
    function s__FuuCocoon_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call PauseUnit(s__FuuCocoon_caster[this], false)
        call SetUnitInvulnerable(s__FuuCocoon_caster[this], false)
        call s__FuuCocoon_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__FuuCocoon_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call PauseUnit(s__FuuCocoon_caster[this], true)
        call SetUnitInvulnerable(s__FuuCocoon_caster[this], true)
        call TimerStartEx(NewTimerEx(this) , 3.0 , false , function s__FuuCocoon_finish , "FuuCocoon_finish")
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__FuuCocoon_actions takes nothing returns nothing
        local integer this= s__FuuCocoon_allocate()
        local unit u
        set s__FuuCocoon_caster[this]=GetTriggerUnit()
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h0AH', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set u=CreateAbilityDummy(GetTriggerUnit() , 'Aweb')
                call IssueTargetOrder(u, "web", bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set u=null
        call TimerStartEx(NewTimerEx(this) , 0.05 , false , function s__FuuCocoon_delay , "FuuCocoon_delay")
    endfunction 
    
    function s__FuuCocoon_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(70 , s__FuuCocoon_SPELL_ID , function s__FuuCocoon_actions)
    endfunction 
    
//===========================================================================
// Trigger: FuuNet
//===========================================================================
    
//Implemented from module Alloc:
    
        function s__FuuNet_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__FuuNet_Alloc__recycle[(0)] == 0 ) then
                set s__FuuNet_Alloc__instanceCount=s__FuuNet_Alloc__instanceCount + 1
                set this=s__FuuNet_Alloc__instanceCount
            else
                set this=s__FuuNet_Alloc__recycle[(0)]
                set s__FuuNet_Alloc__recycle[(0)]=s__FuuNet_Alloc__recycle[s__FuuNet_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__FuuNet_deallocate takes integer this returns nothing
            set s__FuuNet_Alloc__recycle[this]=s__FuuNet_Alloc__recycle[(0)]
            set s__FuuNet_Alloc__recycle[(0)]=this
        endfunction
    
 function s__FuuNet_dealDamage takes nothing returns boolean
             local unit u
                if GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__FuuNet_caster[s__FuuNet_instance])) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
                    call UnitDamageTarget(s__FuuNet_caster[s__FuuNet_instance], GetFilterUnit(), GetHeroAgi(s__FuuNet_caster[s__FuuNet_instance], true) * GetUnitAbilityLevel(s__FuuNet_caster[s__FuuNet_instance], s__FuuNet_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
                    set u=CreateAbilityDummy(s__FuuNet_caster[s__FuuNet_instance] , 'Aweb')
                    call IssueTargetOrder(u, "web", GetFilterUnit())
                endif
	    return false
 endfunction
	
    function s__FuuNet_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__FuuNet_missile[this])
        local real y= GetUnitY(s__FuuNet_missile[this])
        local real angle= Atan3(x , y , s__FuuNet_target_x[this] , s__FuuNet_target_y[this])
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local unit u
        call SetUnitX(s__FuuNet_missile[this], new_x)
        call SetUnitY(s__FuuNet_missile[this], new_y)
        call SetUnitFacing(s__FuuNet_missile[this], 180 + Rad2Deg(angle))
        call SetUnitFlyHeight(s__FuuNet_missile[this], 60 + ParabolaZ(300 , s__FuuNet_distance[this] , s__FuuNet_distance[this] - GetDistance(new_x , new_y , s__FuuNet_target_x[this] , s__FuuNet_target_y[this])), 0)
        if GetDistance(new_x , new_y , s__FuuNet_target_x[this] , s__FuuNet_target_y[this]) < 100 then
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__FuuNet_caster[this]), 'h0AI', s__FuuNet_target_x[this], s__FuuNet_target_y[this], 270)
            call SetUnitAnimation(bj_lastCreatedUnit, "birth")
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
            set bj_lastCreatedGroup=CreateGroup()
			set s__FuuNet_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__FuuNet_target_x[this], s__FuuNet_target_y[this], 300, Filter(function s__FuuNet_dealDamage))
            call DestroyGroup(bj_lastCreatedGroup)
            set u=null
            call KillUnit(s__FuuNet_missile[this])
            set s__FuuNet_missile[this]=null
            call s__FuuNet_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__FuuNet_actions takes nothing returns nothing
        local integer this= s__FuuNet_allocate()
        set s__FuuNet_caster[this]=GetTriggerUnit()
        set s__FuuNet_target_x[this]=GetSpellTargetX()
        set s__FuuNet_target_y[this]=GetSpellTargetY()
        set s__FuuNet_missile[this]=CreateUnit(GetTriggerPlayer(), 'h0AJ', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 180 + Rad2Deg(Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())))
        set s__FuuNet_distance[this]=GetDistance(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , s__FuuNet_target_x[this] , s__FuuNet_target_y[this])
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__FuuNet_periodic , "FuuNet_periodic")
    endfunction 
   
    function s__FuuNet_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(70 , s__FuuNet_SPELL_ID , function s__FuuNet_actions)
    endfunction 

//===========================================================================
// Trigger: FuuGrab
//===========================================================================

//Implemented from module Alloc:
    
        function s__FuuGrab_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__FuuGrab_Alloc__recycle[(0)] == 0 ) then
                set s__FuuGrab_Alloc__instanceCount=s__FuuGrab_Alloc__instanceCount + 1
                set this=s__FuuGrab_Alloc__instanceCount
            else
                set this=s__FuuGrab_Alloc__recycle[(0)]
                set s__FuuGrab_Alloc__recycle[(0)]=s__FuuGrab_Alloc__recycle[s__FuuGrab_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__FuuGrab_deallocate takes integer this returns nothing
            set s__FuuGrab_Alloc__recycle[this]=s__FuuGrab_Alloc__recycle[(0)]
            set s__FuuGrab_Alloc__recycle[(0)]=this
        endfunction
    
    function s__FuuGrab_jump takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__FuuGrab_caster[this])
        local real y= GetUnitY(s__FuuGrab_caster[this])
        local real angle= Atan3(x , y , s__FuuGrab_caster_x[this] , s__FuuGrab_caster_y[this])
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local integer i
        local integer i_end
        local integer i2
        local integer i2_end
        local real offset
        call SetUnitX(s__FuuGrab_caster[this], new_x)
        call SetUnitY(s__FuuGrab_caster[this], new_y)
        call SetUnitFlyHeight(s__FuuGrab_caster[this], ParabolaZ(600 , s__FuuGrab_distance[this] , s__FuuGrab_distance[this] - GetDistance(new_x , new_y , s__FuuGrab_caster_x[this] , s__FuuGrab_caster_y[this])), 0)
        set new_x=(((GetUnitX(s__FuuGrab_target[this]) )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        set new_y=(((GetUnitY(s__FuuGrab_target[this]) )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__FuuGrab_target[this], new_x)
        call SetUnitY(s__FuuGrab_target[this], new_y)
        call SetUnitFlyHeight(s__FuuGrab_target[this], ParabolaZ(600 , s__FuuGrab_distance[this] , s__FuuGrab_distance[this] - GetDistance(new_x , new_y , s__FuuGrab_caster_x[this] , s__FuuGrab_caster_y[this])), 0)
        if GetDistance(x , y , s__FuuGrab_caster_x[this] , s__FuuGrab_caster_y[this]) < 100 then
            call PauseUnit(s__FuuGrab_caster[this], false)
            //call PauseUnit(this.target, false)
            if s__FuuGrab_window[this] > 0 then
                call SetUnitPropWindow(s__FuuGrab_target[this], s__FuuGrab_window[this])
            endif
            call SetUnitAnimation(s__FuuGrab_caster[this], "stand")
            call SetUnitTimeScale(s__FuuGrab_caster[this], 1.0)
            call SetUnitFlyHeight(s__FuuGrab_caster[this], 0, 0)
            call SetUnitFlyHeight(s__FuuGrab_target[this], 0, 0)
		if IsUnitEnemy(s__FuuGrab_target[this], GetOwningPlayer(s__FuuGrab_caster[this])) then
            call SetUnitAnimation(s__FuuGrab_target[this], "death")
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__FuuGrab_caster[this]), GetUnitY(s__FuuGrab_caster[this]), 200, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__FuuGrab_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__FuuGrab_caster[this], bj_lastCreatedUnit, ( 50 + GetHeroAgi(s__FuuGrab_caster[this], true) / 2 ) * GetUnitAbilityLevel(s__FuuGrab_caster[this], s__FuuGrab_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    //call UnitDamageTarget(this.caster, bj_lastCreatedUnit, (750 + 2 * GetHeroAgi(this.caster, true)) * GetUnitAbilityLevel(this.caster, SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
	    call StunUnitTimed(s__FuuGrab_caster[this] , s__FuuGrab_target[this] , 0.5)
            //call SlowArea(this.caster, GetUnitX(this.caster), GetUnitY(this.caster), 300)
            set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(s__FuuGrab_caster[this]) ), ( 'e01E' ), (( GetUnitX(s__FuuGrab_caster[this]) )*1.0), (( GetUnitY(s__FuuGrab_caster[this]) )*1.0), (( 270.0)*1.0))) // INLINED!!
            call SetUnitX(bj_lastCreatedUnit, GetUnitX(s__FuuGrab_caster[this]))
            call SetUnitY(bj_lastCreatedUnit, GetUnitY(s__FuuGrab_caster[this]))
	    call SetUnitScale(bj_lastCreatedUnit, 1.0, 1.0, 1.0)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
	    call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( GetUnitX(s__FuuGrab_target[this]) )*1.0), (( GetUnitY(s__FuuGrab_target[this]))*1.0))) // INLINED!!
            set i=0
            loop
                set i=i + 1
                exitwhen i > 2
                set i2=0
                set i_end=6 + 6 * i
                loop
                    set i2=i2 + 1
                    exitwhen i2 > i_end
                    set angle=( 360 / i_end ) * i2
                    set offset=60 * i
                    set x=GetUnitX(s__FuuGrab_caster[this]) + Cos(Deg2Rad(angle)) * offset
                    set y=GetUnitY(s__FuuGrab_caster[this]) + Sin(Deg2Rad(angle)) * offset
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                endloop
            endloop
		endif
            set s__FuuGrab_target[this]=null
            call s__FuuGrab_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__FuuGrab_grab takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__FuuGrab_caster[this])
        local real y= GetUnitY(s__FuuGrab_caster[this])
        local real angle= Atan3(x , y , GetUnitX(s__FuuGrab_target[this]) , GetUnitY(s__FuuGrab_target[this]))
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__FuuGrab_caster[this], new_x)
        call SetUnitY(s__FuuGrab_caster[this], new_y)
        call SetUnitFacing(s__FuuGrab_caster[this], Rad2Deg(angle))
        if GetDistanceUnits(s__FuuGrab_caster[this] , s__FuuGrab_target[this]) < 50 then
            set s__FuuGrab_window[this]=GetUnitPropWindow(s__FuuGrab_target[this])
            call SetUnitPropWindow(s__FuuGrab_target[this], 0)
            //call PauseUnit(this.target, true)
            set s__FuuGrab_distance[this]=GetDistance(new_x , new_y , s__FuuGrab_caster_x[this] , s__FuuGrab_caster_y[this])
            call UnitAddAbility(s__FuuGrab_caster[this], 'Arav')
            call UnitRemoveAbility(s__FuuGrab_caster[this], 'Arav')
            call UnitAddAbility(s__FuuGrab_target[this], 'Arav')
            call UnitRemoveAbility(s__FuuGrab_target[this], 'Arav')
            call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__FuuGrab_jump , "FuuSemi_jump")
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__FuuGrab_actions takes nothing returns nothing
        local integer this= s__FuuGrab_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then

        endif
        set s__FuuGrab_caster[this]=GetTriggerUnit()
        set s__FuuGrab_target[this]=GetSpellTargetUnit()
        set s__FuuGrab_caster_x[this]=GetUnitX(s__FuuGrab_caster[this])
        set s__FuuGrab_caster_y[this]=GetUnitY(s__FuuGrab_caster[this])
        call PauseUnit(s__FuuGrab_caster[this], true)
        call SetUnitTimeScale(s__FuuGrab_caster[this], 3.0)
        call SetUnitAnimationByIndex(s__FuuGrab_caster[this], 1)
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__FuuGrab_grab , "FuuSemi_grab")
    endfunction 
    
    function s__FuuGrab_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(70 , s__FuuGrab_SPELL_ID , function s__FuuGrab_actions)
    endfunction 
    
//===========================================================================
// Trigger: FuuAssault
//===========================================================================

//Implemented from module Alloc:
    
        function s__FuuAssault_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__FuuAssault_Alloc__recycle[(0)] == 0 ) then
                set s__FuuAssault_Alloc__instanceCount=s__FuuAssault_Alloc__instanceCount + 1
                set this=s__FuuAssault_Alloc__instanceCount
            else
                set this=s__FuuAssault_Alloc__recycle[(0)]
                set s__FuuAssault_Alloc__recycle[(0)]=s__FuuAssault_Alloc__recycle[s__FuuAssault_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__FuuAssault_deallocate takes integer this returns nothing
            set s__FuuAssault_Alloc__recycle[this]=s__FuuAssault_Alloc__recycle[(0)]
            set s__FuuAssault_Alloc__recycle[(0)]=this
        endfunction
    
    function s__FuuAssault_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__FuuAssault_caster[this])
        local real y= GetUnitY(s__FuuAssault_caster[this])
        local real new_x= (((x )*1.0) + Cos((( s__FuuAssault_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__FuuAssault_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__FuuAssault_caster[this], new_x)
        call SetUnitY(s__FuuAssault_caster[this], new_y)
        call SetUnitFacing(s__FuuAssault_caster[this], Rad2Deg(s__FuuAssault_angle[this]))
        if ModuloInteger(s__FuuAssault_count[this], 5) == 0 then
            //set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'z003', new_x, new_y, Rad2Deg(this.angle)) 
            //call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)

		set bj_lastCreatedEffect=AddSpecialEffect("Effects\\s_Wind.md", new_x, new_y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__FuuAssault_angle[this])
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100)
		call DestroyEffect(bj_lastCreatedEffect)

        endif
        set s__FuuAssault_count[this]=s__FuuAssault_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 180, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__FuuAssault_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__FuuAssault_damaged[this]) then
                call UnitDamageTarget(s__FuuAssault_caster[this], bj_lastCreatedUnit, 80 * GetUnitAbilityLevel(s__FuuAssault_caster[this], s__FuuAssault_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                call GroupAddUnit(s__FuuAssault_damaged[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__FuuAssault_count[this] > 30 then
            call PauseUnit(s__FuuAssault_caster[this], false)
            call SetUnitTimeScale(s__FuuAssault_caster[this], 1.0)
            call SetUnitAnimation(s__FuuAssault_caster[this], "stand")
            call DestroyGroup(s__FuuAssault_damaged[this])
            set s__FuuAssault_damaged[this]=null
            call s__FuuAssault_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__FuuAssault_actions takes nothing returns nothing
        local integer this= s__FuuAssault_allocate()
        set s__FuuAssault_caster[this]=GetTriggerUnit()
        set s__FuuAssault_count[this]=0
        set s__FuuAssault_angle[this]=Atan3(GetUnitX(s__FuuAssault_caster[this]) , GetUnitY(s__FuuAssault_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__FuuAssault_damaged[this]=CreateGroup()
        call PauseUnit(s__FuuAssault_caster[this], false)
        call SetUnitTimeScale(s__FuuAssault_caster[this], 3.0)
        call SetUnitAnimationByIndex(s__FuuAssault_caster[this], 1)

	set bj_lastCreatedEffect=AddSpecialEffect("DustWaveDash.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
	call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(GetTriggerUnit())))
	//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.5)
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetPointZ(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit())))
	call DestroyEffect(bj_lastCreatedEffect)

        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__FuuAssault_periodic , "FuuAssault_periodic")
    endfunction 
    
    function s__FuuAssault_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(70 , s__FuuAssault_SPELL_ID , function s__FuuAssault_actions)
    endfunction 
    
//===========================================================================
// Trigger: FuuPowder
//===========================================================================

//Implemented from module Alloc:
    
        function s__FuuPowder_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__FuuPowder_Alloc__recycle[(0)] == 0 ) then
                set s__FuuPowder_Alloc__instanceCount=s__FuuPowder_Alloc__instanceCount + 1
                set this=s__FuuPowder_Alloc__instanceCount
            else
                set this=s__FuuPowder_Alloc__recycle[(0)]
                set s__FuuPowder_Alloc__recycle[(0)]=s__FuuPowder_Alloc__recycle[s__FuuPowder_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__FuuPowder_deallocate takes integer this returns nothing
            set s__FuuPowder_Alloc__recycle[this]=s__FuuPowder_Alloc__recycle[(0)]
            set s__FuuPowder_Alloc__recycle[(0)]=this
        endfunction

    function s__FuuPowder_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
 local real x
 local real y
 local real new_x
 local real new_y
 local unit u
 local integer i= 0
	set s__FuuPowder_count[this]=s__FuuPowder_count[this] + 1
	loop
		exitwhen i > 8
		set x=(((s__FuuPowder_caster_x[this] )*1.0) + Cos((( Deg2Rad(30 * i) )*1.0)) * (( 14 * s__FuuPowder_count[this])*1.0)) // INLINED!!
		set y=(((s__FuuPowder_caster_y[this] )*1.0) + Sin((( Deg2Rad(30 * i) )*1.0)) * (( 14 * s__FuuPowder_count[this])*1.0)) // INLINED!!
		set new_x=(((s__FuuPowder_caster_x[this] )*1.0) + Cos((( Deg2Rad(GetRandomReal(0, 360)) )*1.0)) * (( GetRandomReal(7 * s__FuuPowder_count[this], 14 * s__FuuPowder_count[this]))*1.0)) // INLINED!!
		set new_y=(((s__FuuPowder_caster_y[this] )*1.0) + Sin((( Deg2Rad(GetRandomReal(0, 360)) )*1.0)) * (( GetRandomReal(7 * s__FuuPowder_count[this], 14 * s__FuuPowder_count[this]))*1.0)) // INLINED!!
        	call DestroyEffect(AddSpecialEffect(("war3mapImported\\File00000042.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
		set bj_lastCreatedGroup=CreateGroup()
        	call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 180, null)
        	loop
            		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            		exitwhen bj_lastCreatedUnit == null
            		if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__FuuPowder_damaged[this]) then
                		if IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(s__FuuPowder_caster[this])) then
                        		set u=CreateAbilityDummy(s__FuuPowder_caster[this] , 'A0XT')
                        		call IssueTargetOrder(u, "invisibility", bj_lastCreatedUnit)
                    			set u=CreateAbilityDummy(s__FuuPowder_caster[this] , 'A0XU')
                    			call SetUnitAbilityLevel(u, 'A0XU', GetUnitAbilityLevel(s__FuuPowder_caster[this], s__FuuPowder_SPELL_ID))
                    			call IssueTargetOrder(u, "bloodlust", bj_lastCreatedUnit)
                		else
                    			call UnitDamageTarget(s__FuuPowder_caster[this], bj_lastCreatedUnit, 700 * GetUnitAbilityLevel(s__FuuPowder_caster[this], s__FuuPowder_SPELL_ID) + 2 * GetHeroAgi(s__FuuPowder_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
              		  	endif
				call GroupAddUnit(s__FuuPowder_damaged[this], bj_lastCreatedUnit)
			endif
            		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        	endloop
        	call DestroyGroup(bj_lastCreatedGroup)
		set i=i + 1
	endloop
        set u=null
        if s__FuuPowder_count[this] > 35 then
            call DestroyGroup(s__FuuPowder_damaged[this])
            set s__FuuPowder_damaged[this]=null
            call s__FuuPowder_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__FuuPowder_actions takes nothing returns nothing
        local integer this= s__FuuPowder_allocate()
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            	call PlaySoundOnUnitBJ(gg_snd_Fuu_R, 80, GetTriggerUnit())
	endif
        set s__FuuPowder_caster[this]=GetTriggerUnit()
        set s__FuuPowder_count[this]=0
        set s__FuuPowder_damaged[this]=CreateGroup()
	set s__FuuPowder_caster_x[this]=GetUnitX(s__FuuPowder_caster[this])
	set s__FuuPowder_caster_y[this]=GetUnitY(s__FuuPowder_caster[this])
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__FuuPowder_periodic , "FuuPowder_periodic")
    endfunction 
    
    function s__FuuPowder_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(70 , s__FuuPowder_SPELL_ID , function s__FuuPowder_actions)
    endfunction 
    
//===========================================================================
// Trigger: FuuUltimate
//===========================================================================

//Implemented from module Alloc:
    
        function s__FuuUltimate_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__FuuUltimate_Alloc__recycle[(0)] == 0 ) then
                set s__FuuUltimate_Alloc__instanceCount=s__FuuUltimate_Alloc__instanceCount + 1
                set this=s__FuuUltimate_Alloc__instanceCount
            else
                set this=s__FuuUltimate_Alloc__recycle[(0)]
                set s__FuuUltimate_Alloc__recycle[(0)]=s__FuuUltimate_Alloc__recycle[s__FuuUltimate_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__FuuUltimate_deallocate takes integer this returns nothing
            set s__FuuUltimate_Alloc__recycle[this]=s__FuuUltimate_Alloc__recycle[(0)]
            set s__FuuUltimate_Alloc__recycle[(0)]=this
        endfunction
    
    function s__FuuUltimate_startDamage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        local integer j
        local real x
        local real y
        loop
            exitwhen i > s__FuuUltimate_count[this]
            set j=0
            loop
                set j=j + 1
                exitwhen j > 6
                set x=(((GetUnitX(s__FuuUltimate_bijuu[this]) )*1.0) + Cos((( Deg2Rad(72 * j) )*1.0)) * (( 60 * ( i + 1 ))*1.0)) // INLINED!!
                set y=(((GetUnitY(s__FuuUltimate_bijuu[this]) )*1.0) + Sin((( Deg2Rad(72 * j) )*1.0)) * (( 60 * ( i + 1 ))*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            endloop
            set i=i + 1
        endloop
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__FuuUltimate_bijuu[this]), GetUnitY(s__FuuUltimate_bijuu[this]), 250 + 60 * ( s__FuuUltimate_count[this] + 1 ), null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__FuuUltimate_caster[this])) then
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == true then
                    call UnitDamageTarget(s__FuuUltimate_caster[this], bj_lastCreatedUnit, ( 7 * GetHeroAgi(s__FuuUltimate_caster[this], true) ) / 5.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                else
                    call UnitDamageTarget(s__FuuUltimate_caster[this], bj_lastCreatedUnit, ( 15 * GetHeroAgi(s__FuuUltimate_caster[this], true) ) / 5.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__FuuUltimate_count[this]=s__FuuUltimate_count[this] + 1
        if s__FuuUltimate_count[this] >= 5 then
            call KillUnit(s__FuuUltimate_bijuu[this])
            call ShowUnit(s__FuuUltimate_bijuu[this], false)
            call SetUnitX(s__FuuUltimate_caster[this], GetUnitX(s__FuuUltimate_bijuu[this]))
            call SetUnitY(s__FuuUltimate_caster[this], GetUnitY(s__FuuUltimate_bijuu[this]))
            call ShowUnit(s__FuuUltimate_caster[this], true)
            call SetUnitInvulnerable(s__FuuUltimate_caster[this], false)
            call SelectUnitForPlayerSingle(s__FuuUltimate_caster[this], GetOwningPlayer(s__FuuUltimate_caster[this]))
            call PauseUnit(s__FuuUltimate_caster[this], false)
            call ReleaseTimer(s__FuuUltimate_spin[this])
            set s__FuuUltimate_spin[this]=null
            call s__FuuUltimate_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__FuuUltimate_damage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__FuuUltimate_count[this]=0
        call TimerStart(NewTimerEx(this), 0.05, true, function s__FuuUltimate_startDamage)
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=20
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_locations07[71]=GetRandomLocInRect(RectFromCenterSizeBJ(GetUnitLoc(s__FuuUltimate_bijuu[this]), 250.00, 250.00))
            call CreateNUnitsAtLoc(1, 'zhyd', GetOwningPlayer(s__FuuUltimate_caster[this]), udg_locations07[71], GetRandomReal(0, 360))
            call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(50.00, 200.00), 100.00)
            set udg_locations07[72]=PolarProjectionBJ(udg_locations07[71], 400.00, GetUnitFacing(bj_lastCreatedUnit))
            call IssuePointOrderLoc(bj_lastCreatedUnit, "move", udg_locations07[72])
            call UnitApplyTimedLifeBJ(1.50, 'BTLF', bj_lastCreatedUnit)
            call RemoveLocation(udg_locations07[71])
            call RemoveLocation(udg_locations07[72])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__FuuUltimate_bijuuSpin takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitFacing(s__FuuUltimate_bijuu[this], GetUnitFacing(s__FuuUltimate_bijuu[this]) + 20)
    endfunction 
    
    function s__FuuUltimate_down takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call TimerStart(s__FuuUltimate_spin[this], 0.03, true, function s__FuuUltimate_bijuuSpin)
        call SetUnitFlyHeight(s__FuuUltimate_bijuu[this], 0, 2000)
        call TimerStartEx(NewTimerEx(this) , 0.25 , false , function s__FuuUltimate_damage , "FuuUltimate_damage")
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__FuuUltimate_morph takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        if s__FuuUltimate_count[this] < 5 then
            loop
                exitwhen i > 10
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__FuuUltimate_caster[this]), 'z004', GetUnitX(s__FuuUltimate_caster[this]), GetUnitY(s__FuuUltimate_caster[this]), GetRandomReal(0, 360))
                call SetUnitScale(bj_lastCreatedUnit, GetRandomReal(1, 3), 0, 0)
                call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(3, 5))
                call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(40, 250), 0)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
                set i=i + 1
            endloop
        endif
        set s__FuuUltimate_count[this]=s__FuuUltimate_count[this] + 1
        if s__FuuUltimate_count[this] > 7 then
            call ShowUnit(s__FuuUltimate_caster[this], false)
            call SetUnitInvulnerable(s__FuuUltimate_caster[this], true)
            set s__FuuUltimate_bijuu[this]=CreateUnit(GetOwningPlayer(s__FuuUltimate_caster[this]), 'h0AK', GetUnitX(s__FuuUltimate_caster[this]), GetUnitY(s__FuuUltimate_caster[this]), GetUnitFacing(s__FuuUltimate_caster[this]))
            call SetUnitTimeScale(s__FuuUltimate_bijuu[this], 5.0)
            call SetUnitFlyHeight(s__FuuUltimate_bijuu[this], 0, 0)
            call SetUnitFlyHeight(s__FuuUltimate_bijuu[this], 1000, 2000)
	    call SetUnitScale(s__FuuUltimate_bijuu[this], 1.0, 1.0, 1.0)
            set s__FuuUltimate_spin[this]=NewTimerEx(this)
            call TimerStartEx(NewTimerEx(this) , 0.5 , false , function s__FuuUltimate_down , "FuuUltimate_down")
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__FuuUltimate_actions takes nothing returns nothing
        local integer this= s__FuuUltimate_allocate()
        set s__FuuUltimate_caster[this]=GetTriggerUnit()
        set s__FuuUltimate_target_x[this]=GetUnitX(s__FuuUltimate_caster[this])
        set s__FuuUltimate_target_y[this]=GetUnitY(s__FuuUltimate_caster[this])
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Fuu_T, 80, GetTriggerUnit())
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Fuu: I'll protect my friends no matter what!|r")
        endif
        call PauseUnit(s__FuuUltimate_caster[this], true)
        //call AddSpecialEffectEx("blackblink.mdx", GetUnitX(this.caster), GetUnitY(this.caster))
        //call AddSpecialEffectEx("blackblink.mdx", this.target_x, this.target_y)
        call SetUnitX(s__FuuUltimate_caster[this], s__FuuUltimate_target_x[this])
        call SetUnitY(s__FuuUltimate_caster[this], s__FuuUltimate_target_y[this])
        call SlowArea(s__FuuUltimate_caster[this] , s__FuuUltimate_target_x[this] , s__FuuUltimate_target_y[this] , 400)
        set s__FuuUltimate_count[this]=0
        call TimerStartEx(NewTimerEx(this) , 0.05 , true , function s__FuuUltimate_morph , "FuuUltimate_morph")
    endfunction 
    
    function s__FuuUltimate_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(70 , s__FuuUltimate_SPELL_ID , function s__FuuUltimate_actions)
    endfunction 
    
//===========================================================================
// Trigger: GaaraSandShield
//===========================================================================
// scope GaaraSandShield begins

    
//Implemented from module Alloc:
    
        function s__GaaraSandShield___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaaraSandShield___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__GaaraSandShield___Spell_Alloc__instanceCount=s__GaaraSandShield___Spell_Alloc__instanceCount + 1
                set this=s__GaaraSandShield___Spell_Alloc__instanceCount
            else
                set this=s__GaaraSandShield___Spell_Alloc__recycle[(0)]
                set s__GaaraSandShield___Spell_Alloc__recycle[(0)]=s__GaaraSandShield___Spell_Alloc__recycle[s__GaaraSandShield___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaaraSandShield___Spell_deallocate takes integer this returns nothing
            set s__GaaraSandShield___Spell_Alloc__recycle[this]=s__GaaraSandShield___Spell_Alloc__recycle[(0)]
            set s__GaaraSandShield___Spell_Alloc__recycle[(0)]=this
        endfunction
    
        
        function s__GaaraSandShield___Spell_finish takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real shield_x= GetUnitX(s__GaaraSandShield___Spell_shield[this])
            local real shield_y= GetUnitY(s__GaaraSandShield___Spell_shield[this])
            //set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'e06K', shield_x, shield_y, 270.0)
            //call SetUnitX(bj_lastCreatedUnit, shield_x)
            //call SetUnitY(bj_lastCreatedUnit, shield_y)
            //call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
            call KillUnit(s__GaaraSandShield___Spell_shield[this])
            call PauseUnit(s__GaaraSandShield___Spell_target[this], false)
            if IsUnitAlly(s__GaaraSandShield___Spell_target[this], GetOwningPlayer(s__GaaraSandShield___Spell_caster[this])) then
                call SetUnitInvulnerable(s__GaaraSandShield___Spell_target[this], false)
            else
            //    call Damage(this.caster, this.target, 50 * GetUnitAbilityLevel(this.caster, SPELL_ID), "fuuton", false)
            endif
            set s__GaaraSandShield___Spell_caster[this]=null
            set s__GaaraSandShield___Spell_target[this]=null
            set s__GaaraSandShield___Spell_shield[this]=null
            call s__GaaraSandShield___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__GaaraSandShield___Spell_actions takes nothing returns nothing
            local integer this
            local real caster_x
            local real caster_y
            local real target_x
            local real target_y
            local real angle
            local real shield_x
            local real shield_y
            //if GetSpellTargetUnit() != GetTriggerUnit() then
                set this=s__GaaraSandShield___Spell_allocate()
                set s__GaaraSandShield___Spell_caster[this]=GetTriggerUnit()
                set s__GaaraSandShield___Spell_target[this]=GetSpellTargetUnit()
                set caster_x=GetUnitX(s__GaaraSandShield___Spell_caster[this])
                set caster_y=GetUnitY(s__GaaraSandShield___Spell_caster[this])
                set target_x=GetUnitX(s__GaaraSandShield___Spell_target[this])
                set target_y=GetUnitY(s__GaaraSandShield___Spell_target[this])
                if s__GaaraSandShield___Spell_caster[this] == s__GaaraSandShield___Spell_target[this] then
                    set angle=Deg2Rad(GetUnitFacing(s__GaaraSandShield___Spell_caster[this]) + 180)
                    set shield_x=caster_x + Cos(Deg2Rad(GetUnitFacing(s__GaaraSandShield___Spell_caster[this]) + 180)) * 100
                    set shield_y=caster_y + Sin(Deg2Rad(GetUnitFacing(s__GaaraSandShield___Spell_caster[this]) + 180)) * 100
                else
                    set angle=Atan2(( target_y - caster_y ), ( target_x - caster_x ))
                    set shield_x=target_x + Cos(angle) * 100
                    set shield_y=target_y + Sin(angle) * 100
                endif
                set s__GaaraSandShield___Spell_shield[this]=(CreateUnit((GetTriggerPlayer() ), ( 'e01S' ), (( shield_x )*1.0), (( shield_y )*1.0), (( Rad2Deg(angle) + 180)*1.0))) // INLINED!!
                call SetUnitX(s__GaaraSandShield___Spell_shield[this], shield_x)
                call SetUnitY(s__GaaraSandShield___Spell_shield[this], shield_y)
                call SetUnitAnimation(s__GaaraSandShield___Spell_shield[this], "birth")
		call UnitAddAbility(s__GaaraSandShield___Spell_shield[this], 'Arav')
		call SetUnitFlyHeight(s__GaaraSandShield___Spell_shield[this], GetUnitFlyHeight(s__GaaraSandShield___Spell_target[this]), 0)
                call PauseUnit(s__GaaraSandShield___Spell_target[this], true)
                if IsUnitAlly(s__GaaraSandShield___Spell_target[this], GetTriggerPlayer()) then
                    call SetUnitInvulnerable(s__GaaraSandShield___Spell_target[this], true)
                endif
                call TimerStart(NewTimerEx(this), 2.0, false, function s__GaaraSandShield___Spell_finish)
            //endif 
        endfunction
        
        function s__GaaraSandShield___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(15 , s__GaaraSandShield___Spell_SPELL_ID , function s__GaaraSandShield___Spell_actions)
        endfunction
        
    
// scope GaaraSandShield ends
//===========================================================================
// Trigger: GaaraNewQ
//===========================================================================

    
    function s__GaaraNewQ_destroy takes integer this returns nothing
        call KillUnit(s__GaaraNewQ_dummy[this])
        set s__GaaraNewQ_caster[this]=null
        set s__GaaraNewQ_target[this]=null
        set s__GaaraNewQ_dummy[this]=null
        call s__GaaraNewQ_deallocate(this)
    endfunction
    
    function s__GaaraNewQ_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__GaaraNewQ_caster[this]), 'e007', GetUnitX(s__GaaraNewQ_caster[this]), GetUnitY(s__GaaraNewQ_caster[this]), 0)
        call UnitAddAbility(bj_lastCreatedUnit, 'A01V')
        call IssueTargetOrder(bj_lastCreatedUnit, "thunderbolt", s__GaaraNewQ_target[this])
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        call s__GaaraNewQ_destroy(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__GaaraNewQ_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__GaaraNewQ_dummy[this])
        local real y= GetUnitY(s__GaaraNewQ_dummy[this])
        local real new_x= (((x )*1.0) + Cos((( s__GaaraNewQ_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__GaaraNewQ_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local unit u= null
        set s__GaaraNewQ_count[this]=s__GaaraNewQ_count[this] + 1
        call SetUnitX(s__GaaraNewQ_dummy[this], new_x)
        call SetUnitY(s__GaaraNewQ_dummy[this], new_y)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 125.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetUnitAbilityLevel(bj_lastCreatedUnit, 'Binv') == 0 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__GaaraNewQ_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and GetUnitTypeId(bj_lastCreatedUnit) != 'h04R' and GetUnitTypeId(bj_lastCreatedUnit) != 'h04T' and GetUnitTypeId(bj_lastCreatedUnit) != 'h018' and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set s__GaaraNewQ_target[this]=bj_lastCreatedUnit
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set u=bj_lastCreatedUnit
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if u != null then
            set s__GaaraNewQ_target[this]=u
            call SetUnitTimeScale(s__GaaraNewQ_dummy[this], 2.0)
            call SetUnitAnimation(s__GaaraNewQ_dummy[this], "spell")
            call PauseUnit(s__GaaraNewQ_target[this], true)
            call TimerStart(NewTimerEx(this), 0.5, false, function s__GaaraNewQ_delay)
            call ReleaseTimer(GetExpiredTimer())
        elseif s__GaaraNewQ_count[this] > 32 then
            if s__GaaraNewQ_target[this] != null then
                call SetUnitAnimation(s__GaaraNewQ_dummy[this], "spell")
                call PauseUnit(s__GaaraNewQ_target[this], true)
                call TimerStart(NewTimerEx(this), 0.05, false, function s__GaaraNewQ_delay)
                call ReleaseTimer(GetExpiredTimer())
            else
                call s__GaaraNewQ_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction
    
    function s__GaaraNewQ_actions takes nothing returns nothing
        local integer this= s__GaaraNewQ__allocate()
        set s__GaaraNewQ_caster[this]=GetTriggerUnit()
        set s__GaaraNewQ_target_x[this]=GetSpellTargetX()
        set s__GaaraNewQ_target_y[this]=GetSpellTargetY()
        set s__GaaraNewQ_angle[this]=Atan3(GetUnitX(s__GaaraNewQ_caster[this]) , GetUnitY(s__GaaraNewQ_caster[this]) , s__GaaraNewQ_target_x[this] , s__GaaraNewQ_target_y[this])
        set s__GaaraNewQ_count[this]=0
        set s__GaaraNewQ_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e042', GetUnitX(s__GaaraNewQ_caster[this]), GetUnitY(s__GaaraNewQ_caster[this]), Rad2Deg(s__GaaraNewQ_angle[this]))
        //call SetUnitTimeScale(this.dummy, 4.0)
        call SetUnitAnimation(s__GaaraNewQ_dummy[this], "spell")
        call SetUnitX(s__GaaraNewQ_dummy[this], GetUnitX(s__GaaraNewQ_caster[this]))
        call SetUnitY(s__GaaraNewQ_dummy[this], GetUnitY(s__GaaraNewQ_caster[this]))
        set s__GaaraNewQ_target[this]=null
        call TimerStart(NewTimerEx(this), 0.03, true, function s__GaaraNewQ_periodic)
    endfunction
    
    function s__GaaraNewQ_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(15 , s__GaaraNewQ_SPELL_ID , function s__GaaraNewQ_actions)
    endfunction
    
//===========================================================================
// Trigger: GaaraSabakuKyuTrue
//===========================================================================

function Trig_GaaraSabakuKyuTrue_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A01V' ) )
endfunction

function Trig_GaaraSabakuKyuTrue_Actions takes nothing returns nothing
       // call PlaySoundOnUnitBJ( gg_snd_sabaku_kyu, 100.0, GetTriggerUnit() )
	set udg_units03[0]=udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
	set udg_units03[1]=GetSpellTargetUnit()
	set udg_locations03[9]=GetUnitLoc(GetSpellTargetUnit())
	call CreateNUnitsAtLoc(1, 'owyv', GetOwningPlayer(udg_units03[0]), udg_locations03[9], bj_UNIT_FACING)
	call SetUnitTimeScale(bj_lastCreatedUnit, 2.0)
	call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
	call UnitApplyTimedLifeBJ(3.00 - 1.5, 'BTLF', bj_lastCreatedUnit)
	call PauseUnit(udg_units03[1], true)
	call RemoveLocation(udg_locations03[9])
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=4
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		set udg_locations03[9]=PolarProjectionBJ(GetUnitLoc(udg_units03[1]), 100.00, ( 90.00 * I2R(bj_forLoopAIndex) ))
		call CreateNUnitsAtLoc(1, 'nskf', GetOwningPlayer(udg_units03[0]), udg_locations03[9], ( 90.00 * I2R(bj_forLoopAIndex) ))
		call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
		call UnitApplyTimedLifeBJ(4.00 - 1.5, 'BTLF', bj_lastCreatedUnit)
		call SetUnitScale(((bj_lastCreatedUnit ) ), (( (( 50.00 )*1.0) / 100 )*1.0), (( (( 50.00 )*1.0) / 100 )*1.0), (( (( 50.00)*1.0) / 100)*1.0)) // INLINED!!
		call RemoveLocation(udg_locations03[9])
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call SetUnitFlyHeight(udg_units03[1], 320.00, 350.00)
	//call TriggerSleepAction(1.50)
	//call SetUnitAnimation(udg_units03[0],"Spell")
	call TriggerSleepAction(1.00)
	call ShowUnitShow(udg_units03[1])
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=20
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		set udg_locations03[9]=PolarProjectionBJ(GetUnitLoc(udg_units03[1]), GetRandomReal(0, 100.00), GetRandomReal(0, 360))
		call CreateNUnitsAtLoc(1, 'nska', GetOwningPlayer(GetTriggerUnit()), udg_locations03[9], GetRandomReal(0, 360))
		call RemoveLocation(GetUnitLoc(bj_lastCreatedUnit))
		call GroupAddUnit(udg_groups03[3], bj_lastCreatedUnit)
		call SetUnitFlyHeight(bj_lastCreatedUnit, 0.00, 300.00)
		call KillUnit(bj_lastCreatedUnit)
		call RemoveLocation(udg_locations03[9])
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call SetUnitAnimation(udg_units03[1], "Death")
	call EnableTrigger(udg_trigger80)
	call SetUnitFlyHeight(udg_units03[1], 0.00, 700.00)
	call TriggerSleepAction(0.60)
	call UnitDamageTarget(udg_units03[0], udg_units03[1], ( I2R(GetUnitAbilityLevel(udg_units03[0], 'A0WR')) * I2R(GetHeroStatBJ(1, udg_units03[0], true)) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	call GroupClear(udg_groups03[3])
endfunction

function Trig_GaaraSabakuKyuTrue2_Func006A takes nothing returns nothing
	set udg_locations03[114]=GetUnitLoc(GetEnumUnit())
	set udg_locations03[104]=PolarProjectionBJ(udg_locations03[114], 20.00, GetUnitFacing(GetEnumUnit()))
	call SetUnitX(GetEnumUnit(), GetLocationX(udg_locations03[104]))
	call SetUnitY(GetEnumUnit(), GetLocationY(udg_locations03[104]))
	call RemoveLocation(udg_locations03[104])
	call RemoveLocation(udg_locations03[114])
endfunction

function Trig_GaaraSabakuKyuTrue2_Func007C takes nothing returns boolean
	return ( ( udg_integer05 >= 30 ) )
endfunction

function Trig_GaaraSabakuKyuTrue2_Actions takes nothing returns nothing
	set udg_integer05=( udg_integer05 + 1 )
	set udg_locations03[114]=PolarProjectionBJ(GetUnitLoc(udg_units03[1]), 10.00, AngleBetweenPoints(GetUnitLoc(udg_units03[0]), GetUnitLoc(udg_units03[1])))
	call SetUnitPositionLoc(udg_units03[1], udg_locations03[114])
	call RemoveLocation(udg_locations03[114])
	call SetUnitFacingTimed(udg_units03[1], ( GetUnitFacing(udg_units03[1]) + 90.00 ), 0)
	call ForGroupBJ(udg_groups03[3], function Trig_GaaraSabakuKyuTrue2_Func006A)
	if ( ( udg_integer05 >= 30 ) ) then
		set udg_integer05=0
		call DisableTrigger(GetTriggeringTrigger())
		call PauseUnit(udg_units03[1], false)
	endif
endfunction

function InitTrig_GaaraSabakuKyuTrue takes nothing returns nothing
	set udg_trigger79=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger79, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger79, Condition(function Trig_GaaraSabakuKyuTrue_Conditions))
	call TriggerAddAction(udg_trigger79, function Trig_GaaraSabakuKyuTrue_Actions)
        call EnableTriggerForId(15 , udg_trigger79)
	set udg_trigger80=CreateTrigger()
	call DisableTrigger(udg_trigger80)
	call TriggerRegisterTimerEventPeriodic(udg_trigger80, 0.02)
	call TriggerAddAction(udg_trigger80, function Trig_GaaraSabakuKyuTrue2_Actions)
endfunction 

//===========================================================================
// Trigger: GaaraGokusa
//===========================================================================

function Trig_GaaraGokusa_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A02Y' ) )
endfunction

function Trig_GaaraGokusa_Func010001003001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_GaaraGokusa_Func010001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction

function Trig_GaaraGokusa_Func010001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ))
endfunction

function Trig_GaaraGokusa_Func010A takes nothing returns nothing
	call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), ( 30.00 * I2R(GetUnitAbilityLevel(GetTriggerUnit(), 'A02Y')) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	set udg_locations03[150]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations03[150] ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[150])
endfunction

function Trig_GaaraGokusa_Actions takes nothing returns nothing
	set udg_locations01[7]=GetSpellTargetLoc()
	set udg_units30[1200]=GetTriggerUnit()
	call TriggerSleepAction(0.10)
	call SetUnitAnimation(GetTriggerUnit(), "spell")
        call CreateNUnitsAtLoc(1, 'n00R', GetOwningPlayer(GetTriggerUnit()), udg_locations01[7], 270)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.0)
        call SetUnitFlyHeight(bj_lastCreatedUnit, 0.00, 100.00)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=6
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		//call CreateNUnitsAtLoc(1,'efdr',GetOwningPlayer(GetTriggerUnit()),udg_locations01[7],GetRandomReal(0,360))
		//call UnitApplyTimedLifeBJ(4.00,'BTLF',bj_lastCreatedUnit)
		set udg_locations03[35]=PolarProjectionBJ(udg_locations01[7], 300.00, ( 60.00 * I2R(bj_forLoopAIndex) ))
		call CreateNUnitsAtLocFacingLocBJ(1, 'nw2w', GetOwningPlayer(GetTriggerUnit()), udg_locations03[35], udg_locations01[7])
		call SetUnitFlyHeight(bj_lastCreatedUnit, 0.00, 100.00)
		call UnitApplyTimedLifeBJ(4.00, 'BTLF', bj_lastCreatedUnit)
		call RemoveLocation(udg_locations03[35])
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call EnableTrigger(udg_trigger131)
	call TriggerSleepAction(2.50)
	call DisableTrigger(udg_trigger131)
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00, udg_locations01[7], Condition(function Trig_GaaraGokusa_Func010001003)), function Trig_GaaraGokusa_Func010A)
	call RemoveLocation(udg_locations01[7])
endfunction

function Trig_GaaraGokusa2_Func001001003001001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_GaaraGokusa2_Func001001003001002 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_GaaraGokusa2_Func001001003001 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitAliveBJ(GetFilterUnit()) ))
endfunction

function Trig_GaaraGokusa2_Func001001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units30[1200])) )
endfunction

function Trig_GaaraGokusa2_Func001001003 takes nothing returns boolean
	return GetBooleanAnd(( GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitAliveBJ(GetFilterUnit()) )) ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units30[1200])) ))
endfunction

function Trig_GaaraGokusa2_Func001A takes nothing returns nothing
	set udg_locations03[35]=PolarProjectionBJ(GetUnitLoc(GetEnumUnit()), 13.00, AngleBetweenPoints(GetUnitLoc(GetEnumUnit()), udg_locations01[7]))
	call SetUnitX(GetEnumUnit(), GetLocationX(udg_locations03[35]))
	call SetUnitY(GetEnumUnit(), GetLocationY(udg_locations03[35]))
	call RemoveLocation(udg_locations03[35])
	call UnitDamageTarget(udg_units30[1200], GetEnumUnit(), ( 1.25 * I2R(GetUnitAbilityLevel(udg_units30[1200], 'A02Y')) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction

function Trig_GaaraGokusa2_Actions takes nothing returns nothing
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00, udg_locations01[7], Condition(function Trig_GaaraGokusa2_Func001001003)), function Trig_GaaraGokusa2_Func001A)
endfunction

function InitTrig_GaaraGokusa takes nothing returns nothing
	set udg_trigger130=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger130, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger130, Condition(function Trig_GaaraGokusa_Conditions))
	call TriggerAddAction(udg_trigger130, function Trig_GaaraGokusa_Actions)
        call EnableTriggerForId(15 , udg_trigger130)
	set udg_trigger131=CreateTrigger()
	call DisableTrigger(udg_trigger131)
	call TriggerRegisterTimerEventPeriodic(udg_trigger131, 0.05)
	call TriggerAddAction(udg_trigger131, function Trig_GaaraGokusa2_Actions)
endfunction 

//===========================================================================
// Trigger: GaaraPassive
//===========================================================================

function Trig_GaaraPassive_Conditions takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetTriggerUnit(), 'A154') > 0 ) ) and ( ( GetRandomInt(1, ( 21 - GetUnitAbilityLevel(GetTriggerUnit(), 'A154') )) == 1 ) )
endfunction

function Trig_GaaraPassive_Actions takes nothing returns nothing
	set udg_locations03[503]=GetUnitLoc(GetTriggerUnit())
	call CreateNUnitsAtLoc(1, 'oshm', GetOwningPlayer(GetTriggerUnit()), udg_locations03[503], GetUnitFacing(GetTriggerUnit()))
	call CreateTextTagUnitBJ("____!", GetTriggerUnit(), 0, 10.50, 100, 100, 100.00, 0)
	call SetTextTagVelocityBJ(bj_lastCreatedTextTag, 64, 90.00)
	call SetTextTagPermanent(bj_lastCreatedTextTag, false)
	call SetTextTagLifespan(bj_lastCreatedTextTag, 1.20)
	call UnitApplyTimedLifeBJ(0.50, 'BTLF', bj_lastCreatedUnit)
	call SetWidgetLife(GetTriggerUnit(), ( GetUnitStateSwap(UNIT_STATE_LIFE, GetTriggerUnit()) + ( GetEventDamage() * 0.90 ) ))
endfunction

function Trig_GaaraPassive_2_Conditions takes nothing returns boolean
	return ( ( GetUnitAbilityLevel(GetAttacker(), 'A154') > 0 ) ) and ( ( GetRandomInt(1, 100) <= 25 ) )
endfunction

function Trig_GaaraPassive_2_Func003002003001001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_GaaraPassive_2_Func003002003001002 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_GaaraPassive_2_Func003002003001 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitAliveBJ(GetFilterUnit()) ))
endfunction

function Trig_GaaraPassive_2_Func003002003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) )
endfunction

function Trig_GaaraPassive_2_Func003002003 takes nothing returns boolean
	return GetBooleanAnd(( GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitAliveBJ(GetFilterUnit()) )) ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) ))
endfunction

function Trig_GaaraPassive_2_Func004A takes nothing returns nothing
	set udg_locations03[500]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations03[500] ), ( "Abilities\\Weapons\\BrewmasterMissile\\BrewmasterMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((udg_locations03[500] ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[500])
	call UnitDamageTarget(GetAttacker(), GetEnumUnit(), ( 30.00 * I2R(GetUnitAbilityLevel(GetAttacker(), 'A154')) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction

function Trig_GaaraPassive_2_Actions takes nothing returns nothing
	set udg_locations03[499]=GetUnitLoc(GetTriggerUnit())
	set bj_wantDestroyGroup=true
	set udg_groups02[499]=GetUnitsInRangeOfLocMatching(250.00, udg_locations03[499], Condition(function Trig_GaaraPassive_2_Func003002003))
	call ForGroupBJ(udg_groups02[499], function Trig_GaaraPassive_2_Func004A)
	call GroupClear(udg_groups02[499])
	call RemoveLocation(udg_locations03[499])
endfunction

function InitTrig_GaaraPassive takes nothing returns nothing
	set udg_trigger300=CreateTrigger()
	call TriggerRegisterUnitEvent(udg_trigger300, udg_unit64, EVENT_UNIT_DAMAGED)
	call TriggerAddCondition(udg_trigger300, Condition(function Trig_GaaraPassive_Conditions))
	call TriggerAddAction(udg_trigger300, function Trig_GaaraPassive_Actions)
	set udg_trigger301=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger301, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(udg_trigger301, Condition(function Trig_GaaraPassive_2_Conditions))
	call TriggerAddAction(udg_trigger301, function Trig_GaaraPassive_2_Actions)
        call EnableTriggerForId(15 , udg_trigger301)
endfunction 

//===========================================================================
// Trigger: GaaraFly
//===========================================================================


//Implemented from module Alloc:
    
        function s__GaaraFly_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaaraFly_Alloc__recycle[(0)] == 0 ) then
                set s__GaaraFly_Alloc__instanceCount=s__GaaraFly_Alloc__instanceCount + 1
                set this=s__GaaraFly_Alloc__instanceCount
            else
                set this=s__GaaraFly_Alloc__recycle[(0)]
                set s__GaaraFly_Alloc__recycle[(0)]=s__GaaraFly_Alloc__recycle[s__GaaraFly_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaaraFly_deallocate takes integer this returns nothing
            set s__GaaraFly_Alloc__recycle[this]=s__GaaraFly_Alloc__recycle[(0)]
            set s__GaaraFly_Alloc__recycle[(0)]=this
        endfunction

    function s__GaaraFly_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if GetUnitTypeId(s__GaaraFly_caster[this]) == 'H00C' then
            call SetUnitFlyHeight(s__GaaraFly_caster[this], 0, 0)
            call s__GaaraFly_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__GaaraFly_pause takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call TimerStart(NewTimerEx(this), 0.03, true, function s__GaaraFly_periodic)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

 function s__GaaraFly_actions takes nothing returns nothing
        local integer this
		if GetUnitTypeId(GetTriggerUnit()) == 'H00C' then
			set s__GaaraFly_gaara=GetTriggerUnit()
            		call UnitAddAbility(s__GaaraFly_gaara, 'Arav')
            		call UnitRemoveAbility(s__GaaraFly_gaara, 'Arav')
            		call SetUnitFlyHeight(s__GaaraFly_gaara, 300, 300)
			call AddLoadingBar(s__GaaraFly_gaara , 30.0)
            		set this=s__GaaraFly_allocate()
            		call TimerStart(NewTimerEx(this), 1.5, false, function s__GaaraFly_pause)
		endif
 endfunction

 function s__GaaraFly_leave takes nothing returns nothing
		if GetUnitTypeId(GetLeavingUnit()) == 'H00C' then
			call RegisterSpellEffectEvent2(('A0WQ' ) , Filter(( function s__GaaraFly_actions))) // INLINED!!
		endif
 endfunction

 function s__GaaraFly_onInit takes nothing returns nothing
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__GaaraFly_leave))) // INLINED!!
 endfunction

//===========================================================================
// Trigger: GaaraNewSemi
//===========================================================================

//Implemented from module Alloc:
    
        function s__GaaraNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaaraNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__GaaraNewSemi_Alloc__instanceCount=s__GaaraNewSemi_Alloc__instanceCount + 1
                set this=s__GaaraNewSemi_Alloc__instanceCount
            else
                set this=s__GaaraNewSemi_Alloc__recycle[(0)]
                set s__GaaraNewSemi_Alloc__recycle[(0)]=s__GaaraNewSemi_Alloc__recycle[s__GaaraNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaaraNewSemi_deallocate takes integer this returns nothing
            set s__GaaraNewSemi_Alloc__recycle[this]=s__GaaraNewSemi_Alloc__recycle[(0)]
            set s__GaaraNewSemi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__GaaraNewSemi_final takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local unit dummy
        local real new_x
        local real new_y
        local integer i
        loop
            set dummy=FirstOfGroup(s__GaaraNewSemi_dummies[this])
            exitwhen dummy == null
            set i=0
            loop
                set i=i + 1
                exitwhen i > 15
                set new_x=(((GetUnitX(dummy) )*1.0) + Cos((( s__GaaraNewSemi_angle[this] + bj_PI )*1.0)) * (( 60 * i)*1.0)) // INLINED!!
                set new_y=(((GetUnitY(dummy) )*1.0) + Sin((( s__GaaraNewSemi_angle[this] + bj_PI )*1.0)) * (( 60 * i)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 110.0, null)
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__GaaraNewSemi_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__GaaraNewSemi_damaged[this]) then
                        call UnitDamageTarget(s__GaaraNewSemi_caster[this], bj_lastCreatedUnit, 2 * GetHeroAgi(s__GaaraNewSemi_caster[this], true) * GetUnitAbilityLevel(s__GaaraNewSemi_caster[this], 'A0WQ'), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                        call GroupAddUnit(s__GaaraNewSemi_damaged[this], bj_lastCreatedUnit)
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
                set i=i + 1
            endloop
            call KillUnit(dummy)
            call GroupRemoveUnit(s__GaaraNewSemi_dummies[this], dummy)
        endloop
        call DestroyGroup(s__GaaraNewSemi_dummies[this])
        call DestroyGroup(s__GaaraNewSemi_damaged[this])
        set s__GaaraNewSemi_damaged[this]=null
        set dummy=null
        call SetUnitTimeScale(s__GaaraNewSemi_caster[this], 1.0)
        //call PauseUnit(this.caster, false) 
        set s__GaaraNewSemi_dummies[this]=null
        call s__GaaraNewSemi_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__GaaraNewSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local group d= CreateGroup()
        local unit dummy
        local real x
        local real y
        local real new_x
        local real new_y
        call GroupAddGroup(s__GaaraNewSemi_dummies[this], d)
        loop
            set dummy=FirstOfGroup(d)
            exitwhen dummy == null
            set x=GetUnitX(dummy)
            set y=GetUnitY(dummy)
            set new_x=(((x )*1.0) + Cos((( s__GaaraNewSemi_angle[this] )*1.0)) * (( 15)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( s__GaaraNewSemi_angle[this] )*1.0)) * (( 15)*1.0)) // INLINED!!
            call SetUnitX(dummy, new_x)
            call SetUnitY(dummy, new_y)
            call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 110.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__GaaraNewSemi_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__GaaraNewSemi_damaged[this]) then
                    call UnitDamageTarget(s__GaaraNewSemi_caster[this], bj_lastCreatedUnit, 900.0 * GetUnitAbilityLevel(s__GaaraNewSemi_caster[this], 'A0WQ'), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
                    call GroupAddUnit(s__GaaraNewSemi_damaged[this], bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            call GroupRemoveUnit(d, dummy)
        endloop
        call DestroyGroup(d)
        set d=null
        set dummy=null
        set s__GaaraNewSemi_count[this]=s__GaaraNewSemi_count[this] + 1
        if s__GaaraNewSemi_count[this] > 66 then
            call GroupClear(s__GaaraNewSemi_damaged[this])
            call SetUnitTimeScale(s__GaaraNewSemi_caster[this], 2.0)
            call SetUnitAnimation(s__GaaraNewSemi_caster[this], "spell slam alternate")
            call TimerStart(NewTimerEx(this), 0.5, false, function s__GaaraNewSemi_final)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__GaaraNewSemi_actions takes nothing returns nothing
        local integer this= s__GaaraNewSemi_allocate()
        local integer i= 0
        local real new_x
        local real new_y
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Gaara_D, 85, GetTriggerUnit())
        endif
        set s__GaaraNewSemi_caster[this]=GetTriggerUnit()
        set s__GaaraNewSemi_angle[this]=Atan3(GetUnitX(s__GaaraNewSemi_caster[this]) , GetUnitY(s__GaaraNewSemi_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__GaaraNewSemi_dummies[this]=CreateGroup()
        loop
            exitwhen i > 8
            set new_x=(((GetUnitX(s__GaaraNewSemi_caster[this]) )*1.0) + Cos((( s__GaaraNewSemi_angle[this] + bj_PI / 2 )*1.0)) * (( - 400 + 100 * i)*1.0)) // INLINED!!
            set new_y=(((GetUnitY(s__GaaraNewSemi_caster[this]) )*1.0) + Sin((( s__GaaraNewSemi_angle[this] + bj_PI / 2 )*1.0)) * (( - 400 + 100 * i)*1.0)) // INLINED!!
            set bj_lastCreatedUnit=(CreateUnit((GetTriggerPlayer() ), ( 'n00S' ), (( new_x )*1.0), (( new_y )*1.0), (( Rad2Deg(s__GaaraNewSemi_angle[this]))*1.0))) // INLINED!!
            call GroupAddUnit(s__GaaraNewSemi_dummies[this], bj_lastCreatedUnit)
            set i=i + 1
        endloop
        //call PauseUnit(this.caster, true)
        call SetUnitTimeScale(s__GaaraNewSemi_caster[this], 0.5)
        call SetUnitAnimation(s__GaaraNewSemi_caster[this], "spell channel alternate")
        set s__GaaraNewSemi_damaged[this]=CreateGroup()
        set s__GaaraNewSemi_count[this]=0
        call TimerStart(NewTimerEx(this), 0.02, true, function s__GaaraNewSemi_periodic)
    endfunction 
    
    function s__GaaraNewSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(15 , s__GaaraNewSemi_SPELL_ID , function s__GaaraNewSemi_actions)
    endfunction 
    
//===========================================================================
// Trigger: Sabaku Sotaiso INIT
//===========================================================================
function Trig_Sabaku_Sotaiso_INIT_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0AW' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Sabaku_Sotaiso_INIT_Func007A takes nothing returns nothing
    if IsUnitVisible(udg_Gaara_Sotaiso_Caster, GetEnumPlayer()) then
        call CameraSetEQNoiseForPlayer(GetEnumPlayer(), 5.00)
    endif
endfunction

function Trig_Sabaku_Sotaiso_INIT_Actions takes nothing returns nothing
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call PlaySoundOnUnitBJ(gg_snd_Gaara_T_Sabaku, 100, GetTriggerUnit())
    endif
    set udg_Gaara_Sotaiso_Caster=GetTriggerUnit()
    set udg_Gaara_Sotaiso_Count=0
    set udg_Gaara_Sotaiso_Point[1]=GetSpellTargetLoc()
    call CreateNUnitsAtLoc(1, 'h02S', GetTriggerPlayer(), udg_Gaara_Sotaiso_Point[1], bj_UNIT_FACING)
    call SetUnitTimeScale(bj_lastCreatedUnit, 1.3)
    set udg_Gaara_Sotaiso_Dummy=GetLastCreatedUnit()
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=10
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set bj_forLoopBIndex=1
        set bj_forLoopBIndexEnd=3
        loop
            exitwhen bj_forLoopBIndex > bj_forLoopBIndexEnd
            set udg_Gaara_Sotaiso_Point[2]=PolarProjectionBJ(udg_Gaara_Sotaiso_Point[1], ( 100.00 * I2R(GetForLoopIndexB()) ), ( 36.00 * I2R(GetForLoopIndexA()) ))
call AddSpecialEffectLocBJ((udg_Gaara_Sotaiso_Point[2] ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
            call DestroyEffect(GetLastCreatedEffectBJ())
            call RemoveLocation(udg_Gaara_Sotaiso_Point[2])
            set bj_forLoopBIndex=bj_forLoopBIndex + 1
        endloop
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call ForForce(GetPlayersAll(), function Trig_Sabaku_Sotaiso_INIT_Func007A)
    call EnableTrigger(gg_trg_Sabaku_Sotaiso_LOOP)
    call TriggerExecute(gg_trg_Sabaku_Sotaiso_Stop_Camera)
endfunction

//===========================================================================
function InitTrig_Sabaku_Sotaiso_INIT takes nothing returns nothing
    set gg_trg_Sabaku_Sotaiso_INIT=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Sabaku_Sotaiso_INIT, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_Sabaku_Sotaiso_INIT, Condition(function Trig_Sabaku_Sotaiso_INIT_Conditions))
    call TriggerAddAction(gg_trg_Sabaku_Sotaiso_INIT, function Trig_Sabaku_Sotaiso_INIT_Actions)
    call EnableTriggerForId(15 , gg_trg_Sabaku_Sotaiso_INIT)
endfunction


//===========================================================================
// Trigger: Sabaku Sotaiso LOOP
//===========================================================================
function Trig_Sabaku_Sotaiso_LOOP_Func002Func007001003 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Gaara_Sotaiso_Caster)) == true )
endfunction

function Trig_Sabaku_Sotaiso_LOOP_Func002Func007A takes nothing returns nothing
    //call StunUnitTimed(udg_Gaara_Sotaiso_Caster, GetEnumUnit(), 2.0) 
    call UnitDamageTargetBJ(udg_Gaara_Sotaiso_Caster, GetEnumUnit(), ( 800.00 + ( 10.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_Gaara_Sotaiso_Caster, true)) ) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
call AddSpecialEffectTargetUnitBJ(("origin" ), ( GetEnumUnit() ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
    call DestroyEffect(GetLastCreatedEffectBJ())
endfunction

function Trig_Sabaku_Sotaiso_LOOP_Func002C takes nothing returns boolean
    if ( not ( udg_Gaara_Sotaiso_Count > 700 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Sabaku_Sotaiso_LOOP_Actions takes nothing returns nothing
    set udg_Gaara_Sotaiso_Count=( udg_Gaara_Sotaiso_Count + 10 )
    if ( Trig_Sabaku_Sotaiso_LOOP_Func002C() ) then
        //call CreateNUnitsAtLoc( 1, 'h02T', GetOwningPlayer(udg_Gaara_Sotaiso_Caster), udg_Gaara_Sotaiso_Point[1], bj_UNIT_FACING )
        //call UnitApplyTimedLifeBJ( 1.00, 'BTLF', GetLastCreatedUnit() )
        //call IssueImmediateOrder( GetLastCreatedUnit(), "stomp" )
        //call UnitApplyTimedLifeBJ( 3.00, 'BTLF', GetLastCreatedUnit() )
        call UnitApplyTimedLife(udg_Gaara_Sotaiso_Dummy, 'BTLF', 2.0)
        set bj_wantDestroyGroup=true
        call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.00, udg_Gaara_Sotaiso_Point[1], Condition(function Trig_Sabaku_Sotaiso_LOOP_Func002Func007001003)), function Trig_Sabaku_Sotaiso_LOOP_Func002Func007A)
        call DisableTrigger(GetTriggeringTrigger())
    else
        //call SetUnitFlyHeightBJ( udg_Gaara_Sotaiso_Dummy, I2R(udg_Gaara_Sotaiso_Count), 0.00 )
    endif
    //call UnitApplyTimedLifeBJ( 3.00, 'BTLF', udg_Gaara_Sotaiso_Dummy )
endfunction

//===========================================================================
function InitTrig_Sabaku_Sotaiso_LOOP takes nothing returns nothing
    set gg_trg_Sabaku_Sotaiso_LOOP=CreateTrigger()
    call DisableTrigger(gg_trg_Sabaku_Sotaiso_LOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Sabaku_Sotaiso_LOOP, 0.01)
    call TriggerAddAction(gg_trg_Sabaku_Sotaiso_LOOP, function Trig_Sabaku_Sotaiso_LOOP_Actions)
endfunction


//===========================================================================
// Trigger: Sabaku Sotaiso Stop Camera
//===========================================================================
function Trig_Sabaku_Sotaiso_Stop_Camera_Func002A takes nothing returns nothing
    call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction

function Trig_Sabaku_Sotaiso_Stop_Camera_Actions takes nothing returns nothing
    call PolledWait(2)
    call ForForce(GetPlayersAll(), function Trig_Sabaku_Sotaiso_Stop_Camera_Func002A)
endfunction

//===========================================================================
function InitTrig_Sabaku_Sotaiso_Stop_Camera takes nothing returns nothing
    set gg_trg_Sabaku_Sotaiso_Stop_Camera=CreateTrigger()
    call TriggerAddAction(gg_trg_Sabaku_Sotaiso_Stop_Camera, function Trig_Sabaku_Sotaiso_Stop_Camera_Actions)
endfunction


//===========================================================================
// Trigger: Sabaku Sotaiso Dies
//===========================================================================


 function s__SabakuSotaisonDie_dies takes nothing returns nothing
		if GetUnitTypeId(GetTriggerUnit()) == 'h02S' then
			set bj_forLoopAIndex=1
			set bj_forLoopAIndexEnd=4
			loop
				exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
				call CreateNUnitsAtLoc(1, 'h02U', Player(PLAYER_NEUTRAL_PASSIVE), udg_Gaara_Sotaiso_Point[1], ( 90.00 * I2R(GetForLoopIndexA()) ))
				call KillUnit(GetLastCreatedUnit())
				set bj_forLoopAIndex=bj_forLoopAIndex + 1
    			endloop
		endif
 endfunction

 function s__SabakuSotaisonDie_onInit takes nothing returns nothing
		call RegisterPlayerUnitEventForId(15 , EVENT_PLAYER_UNIT_DEATH , function s__SabakuSotaisonDie_dies)
 endfunction 


//===========================================================================
// Trigger: GaaraShukakuSpearGlobal
//===========================================================================

//Implemented from module Alloc:
    
        function s__GaaraUltimate_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaaraUltimate_Alloc__recycle[(0)] == 0 ) then
                set s__GaaraUltimate_Alloc__instanceCount=s__GaaraUltimate_Alloc__instanceCount + 1
                set this=s__GaaraUltimate_Alloc__instanceCount
            else
                set this=s__GaaraUltimate_Alloc__recycle[(0)]
                set s__GaaraUltimate_Alloc__recycle[(0)]=s__GaaraUltimate_Alloc__recycle[s__GaaraUltimate_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaaraUltimate_deallocate takes integer this returns nothing
            set s__GaaraUltimate_Alloc__recycle[this]=s__GaaraUltimate_Alloc__recycle[(0)]
            set s__GaaraUltimate_Alloc__recycle[(0)]=this
        endfunction

    function s__GaaraUltimate_destroy takes integer this returns nothing
        call KillUnit(s__GaaraUltimate_arrow[this])
        call ShowUnit(s__GaaraUltimate_arrow[this], false)
        set s__GaaraUltimate_arrow[this]=null
        call KillUnit(s__GaaraUltimate_cloud[this])
        call ShowUnit(s__GaaraUltimate_cloud[this], false)
        set s__GaaraUltimate_cloud[this]=null
        call s__GaaraUltimate_deallocate(this)
    endfunction 

    function s__GaaraUltimate_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__GaaraUltimate_arrow[this])
        local real y= GetUnitY(s__GaaraUltimate_arrow[this])
        local real new_x= (((x )*1.0) + Cos((( s__GaaraUltimate_angle[this] )*1.0)) * (( RMinBJ(100, 30 + 2 * s__GaaraUltimate_count[this]))*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__GaaraUltimate_angle[this] )*1.0)) * (( RMinBJ(100, 30 + 2 * s__GaaraUltimate_count[this]))*1.0)) // INLINED!!
        call SetUnitX(s__GaaraUltimate_arrow[this], new_x)
        call SetUnitY(s__GaaraUltimate_arrow[this], new_y)
        call SetUnitX(s__GaaraUltimate_cloud[this], new_x)
        call SetUnitY(s__GaaraUltimate_cloud[this], new_y)
        set s__GaaraUltimate_count[this]=s__GaaraUltimate_count[this] + 1
        set s__GaaraUltimate_distance[this]=s__GaaraUltimate_distance[this] + RMinBJ(100, 30 + 2 * s__GaaraUltimate_count[this])
        if ModuloInteger(s__GaaraUltimate_count[this], 3) == 0 then
            set bj_lastCreatedEffect=AddSpecialEffect("SandWaveMissile.mdx", new_x, new_y)
            call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__GaaraUltimate_angle[this])
            call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100 + GetPointZ(new_x , new_y))
            call DestroyEffect(bj_lastCreatedEffect)
        endif
        if not RectContainsUnit(gg_rct_NinpouArea, s__GaaraUltimate_arrow[this]) or s__GaaraUltimate_count[this] > 220 then
            call s__GaaraUltimate_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__GaaraUltimate_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                	if RectContainsUnit(gg_rct_duel_area, bj_lastCreatedUnit) and ( s__GaaraUltimate_caster[this] != udg_Duel_Receiver or s__GaaraUltimate_caster[this] != udg_Duel_Inviter ) then
                        elseif RectContainsUnit(gg_rct_MissionB, bj_lastCreatedUnit) and ( s__GaaraUltimate_caster[this] != udg_MissionBUnit ) then
			elseif RectContainsUnit(gg_rct_MissionA, bj_lastCreatedUnit) and ( s__GaaraUltimate_caster[this] != udg_MissionAUnit ) then
			elseif RectContainsUnit(gg_rct_MissionS, bj_lastCreatedUnit) and ( s__GaaraUltimate_caster[this] != udg_MissionSUnit ) then
                    else
                    	call UnitDamageTarget(s__GaaraUltimate_caster[this], bj_lastCreatedUnit, 12 * GetHeroAgi(s__GaaraUltimate_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                    	call StunUnitTimed(s__GaaraUltimate_caster[this] , bj_lastCreatedUnit , 1.5)
		    	set bj_lastCreatedEffect=AddSpecialEffect("SandWaveMissile.mdx", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
                    	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
                    	call DestroyEffect(bj_lastCreatedEffect)
                    	call DestroyEffect(AddSpecialEffect(("war3mapImported\\shazitoushe.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    	call s__GaaraUltimate_destroy(this)
                    	call ReleaseTimer(GetExpiredTimer())
                    	exitwhen true
                    endif
                endif
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 

    function s__GaaraUltimate_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitTimeScale(s__GaaraUltimate_caster[this], 1.0)
        call PauseUnit(s__GaaraUltimate_caster[this], false)
        set s__GaaraUltimate_arrow[this]=CreateUnit(GetOwningPlayer(s__GaaraUltimate_caster[this]), 'h069', GetUnitX(s__GaaraUltimate_caster[this]), GetUnitY(s__GaaraUltimate_caster[this]), Rad2Deg(s__GaaraUltimate_angle[this]))
	set s__GaaraUltimate_cloud[this]=CreateUnit(GetOwningPlayer(s__GaaraUltimate_caster[this]), 'e07H', GetUnitX(s__GaaraUltimate_caster[this]), GetUnitY(s__GaaraUltimate_caster[this]), Rad2Deg(s__GaaraUltimate_angle[this]))
	call UnitAddAbility(s__GaaraUltimate_cloud[this], 'A0HD')
        call TimerStart(NewTimerEx(this), 0.03, true, function s__GaaraUltimate_periodic)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__GaaraUltimate_actions takes nothing returns nothing
        local integer this= s__GaaraUltimate_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call PlaySoundOnUnitBJ(gg_snd_Gaara_T2_Shukaku, 100.0, GetTriggerUnit())
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cFFFF0000Gaara: Protect your allies... That is the duty of the Kazekage!|r")
        endif
        set s__GaaraUltimate_caster[this]=GetTriggerUnit()
        set s__GaaraUltimate_angle[this]=Atan3(GetUnitX(s__GaaraUltimate_caster[this]) , GetUnitY(s__GaaraUltimate_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__GaaraUltimate_count[this]=0
        set s__GaaraUltimate_distance[this]=0
        call PauseUnit(s__GaaraUltimate_caster[this], true)
        call SetUnitTimeScale(s__GaaraUltimate_caster[this], 2.0)
        call SetUnitAnimation(s__GaaraUltimate_caster[this], "spell one")
        call TimerStart(NewTimerEx(this), 0.3, false, function s__GaaraUltimate_delay)
    endfunction 

    function s__GaaraUltimate_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(15 , s__GaaraUltimate_SPELL_ID , function s__GaaraUltimate_actions)
    endfunction

//===========================================================================
// Trigger: GaaraUltimateChoice
//===========================================================================
//textmacro instance: UltimateChoice("Gaara", "A0HF", "A16Q", "SHUKAKU_SPEAR", "Shukaku Spear", "A0AW", "SABAKU_SOTAISO", "Sabaku Sotaiso")

//Implemented from module Alloc:
    
        function s__GaaraUltimateChoice_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaaraUltimateChoice_Alloc__recycle[(0)] == 0 ) then
                set s__GaaraUltimateChoice_Alloc__instanceCount=s__GaaraUltimateChoice_Alloc__instanceCount + 1
                set this=s__GaaraUltimateChoice_Alloc__instanceCount
            else
                set this=s__GaaraUltimateChoice_Alloc__recycle[(0)]
                set s__GaaraUltimateChoice_Alloc__recycle[(0)]=s__GaaraUltimateChoice_Alloc__recycle[s__GaaraUltimateChoice_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaaraUltimateChoice_deallocate takes integer this returns nothing
            set s__GaaraUltimateChoice_Alloc__recycle[this]=s__GaaraUltimateChoice_Alloc__recycle[(0)]
            set s__GaaraUltimateChoice_Alloc__recycle[(0)]=this
        endfunction
    //private static boolean picked = false 
    
    function s__GaaraUltimateChoice_enableSkill takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__GaaraUltimateChoice_caster[this] != null then
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__GaaraUltimateChoice_caster[this]), 'A0HF', false)
        else
            call s__GaaraUltimateChoice_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__GaaraUltimateChoice_pickSkill takes nothing returns boolean
        local integer i
        local integer this
        if (GetClickedButton()) == s__s__GaaraUltimateChoice_b[0] then // INLINED!!
            call UnitAddAbility(s__GaaraUltimateChoice_u, s__GaaraUltimateChoice_SHUKAKU_SPEAR)
            call UnitMakeAbilityPermanent(s__GaaraUltimateChoice_u, true, s__GaaraUltimateChoice_SHUKAKU_SPEAR)
        else
            call UnitAddAbility(s__GaaraUltimateChoice_u, s__GaaraUltimateChoice_SABAKU_SOTAISO)
            call UnitMakeAbilityPermanent(s__GaaraUltimateChoice_u, true, s__GaaraUltimateChoice_SABAKU_SOTAISO)
        endif
        set i=0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0HF', false)
            set i=i + 1
        endloop
        //call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A0HF', false)
        set s__s__GaaraUltimateChoice_b[0]= null
        set s__s__GaaraUltimateChoice_b[1]= null
        set s__GaaraUltimateChoice_u=null
        call s__Dialog_destroy(s__GaaraUltimateChoice_d)
        call DestroyBoolExpr(s__GaaraUltimateChoice_pick)
        set s__GaaraUltimateChoice_pick=null
        set this=s__GaaraUltimateChoice_allocate()
        set s__GaaraUltimateChoice_caster[this]=s__GaaraUltimateChoice_u
        set s__GaaraUltimateChoice_pp[this]=GetOwningPlayer(s__GaaraUltimateChoice_u)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__GaaraUltimateChoice_enableSkill)
        return false
    endfunction 
    
    function s__GaaraUltimateChoice_actions takes nothing returns nothing
        if GetTriggerUnit() != udg_InoMental and GetUnitAbilityLevel(GetTriggerUnit(), s__GaaraUltimateChoice_SHUKAKU_SPEAR) == 0 and GetUnitAbilityLevel(GetTriggerUnit(), s__GaaraUltimateChoice_SABAKU_SOTAISO) == 0 then
            set s__GaaraUltimateChoice_d=s__Dialog_create()
            call s__Dialog__set_title(s__GaaraUltimateChoice_d,"Pick a skill")
            set s__s__GaaraUltimateChoice_b[0]= (DialogAddButton(s__Dialog_dg[(s__GaaraUltimateChoice_d)], ("Shukaku Spear" ), ( 0))) // INLINED!!
            set s__s__GaaraUltimateChoice_b[1]= (DialogAddButton(s__Dialog_dg[(s__GaaraUltimateChoice_d)], ("Sabaku Sotaiso" ), ( 1))) // INLINED!!
            call s__Dialog_display(s__GaaraUltimateChoice_d,GetTriggerPlayer() , true)
            call s__Dialog_registerClickEvent(s__GaaraUltimateChoice_d,s__GaaraUltimateChoice_pick)
            set s__GaaraUltimateChoice_u=GetTriggerUnit()
            //set picked = true 
        endif
    endfunction
    
    function s__GaaraUltimateChoice_learn takes nothing returns nothing
        if GetLearnedSkill() == 'A0HF' then
            set s__GaaraUltimateChoice_p=GetTriggerPlayer()
        endif
    endfunction 
    
    function s__GaaraUltimateChoice_onInit takes nothing returns nothing
        set s__GaaraUltimateChoice_pick=Condition(function s__GaaraUltimateChoice_pickSkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_SKILL ) , Filter(( function s__GaaraUltimateChoice_learn))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0HF' ) , Filter(( function s__GaaraUltimateChoice_actions))) // INLINED!!
    endfunction 
    
//end of: UltimateChoice("Gaara", "A0HF", "A16Q", "SHUKAKU_SPEAR", "Shukaku Spear", "A0AW", "SABAKU_SOTAISO", "Sabaku Sotaiso")

//===========================================================================
// Trigger: GaiDynamicEntry
//===========================================================================

function Trig_GaiDynamicEntry_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A04N' ) )
endfunction

function Trig_GaiDynamicEntry_Actions takes nothing returns nothing
        //if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then 
        //call PlaySoundOnUnitBJ( gg_snd_Gai_Q, 100.0, GetTriggerUnit() )
  //endif
	set udg_units14[3]=GetTriggerUnit()
	call TriggerSleepAction(0.06)
	//call PauseUnit(udg_units14[3],true)
	call SetUnitTimeScale(udg_units14[3], 3.0)
	//call SetUnitAnimation(udg_units14[3],"spell four")
	
	call SetUnitPathing(udg_units14[3], false)
	call SetUnitFlyHeight(GetTriggerUnit(), 50.00, 0.00)
	
call AddSpecialEffectTargetUnitBJ(("foot right" ), ( udg_units14[3] ), ( "Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedTarget.mdl")) // INLINED!!
	set udg_effects02[1213]=bj_lastCreatedEffect
	call EnableTrigger(udg_trigger394)
	call TriggerSleepAction(0.50)
	call DisableTrigger(udg_trigger394)
	call SetUnitFlyHeight(GetTriggerUnit(), 0.00, 500.00)
	//call PauseUnit(udg_units14[3],false)
	call SetUnitPathing(udg_units14[3], true)
	call SetUnitTimeScale(udg_units14[3], 1.0)
	call DestroyEffect(udg_effects02[1213])
	call SetUnitTimeScalePercent(GetTriggerUnit(), 100.00)
	call GroupClear(udg_groups03[0])
endfunction

function Trig_GaiDynamicEntry2_Func001C takes nothing returns boolean
	return ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units14[3]), 36.00, GetUnitFacing(udg_units14[3])), PATHING_TYPE_WALKABILITY) ) )
endfunction

function Trig_GaiDynamicEntry2_Func009001003001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_GaiDynamicEntry2_Func009001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) )
endfunction

function Trig_GaiDynamicEntry2_Func009001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) ))
endfunction

function Trig_GaiDynamicEntry2_Func009Func001C takes nothing returns boolean
	if ( not ( IsUnitInGroup(GetEnumUnit(), udg_groups03[0]) ) ) then
		return false
	endif
	return true
endfunction

function Trig_GaiDynamicEntry2_Func009A takes nothing returns nothing
	if ( Trig_GaiDynamicEntry2_Func009Func001C() ) then
	else
		call UnitDamageTarget(udg_units14[3], GetEnumUnit(), ( I2R(GetUnitAbilityLevel(udg_units14[3], 'A04N')) * 85.00 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
		call GroupAddUnit(udg_groups03[0], GetEnumUnit())
		set udg_locations03[127]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations03[127] ), ( "Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[127])
	endif
endfunction

function Trig_GaiDynamicEntry2_Func010001003001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_GaiDynamicEntry2_Func010001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) )
endfunction

function Trig_GaiDynamicEntry2_Func010001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) ))
endfunction

function Trig_GaiDynamicEntry2_Func010A takes nothing returns nothing
	call IssueTargetOrder(GetEnumUnit(), "attack", GetEnumUnit())
	set udg_locations03[127]=PolarProjectionBJ(GetUnitLoc(GetEnumUnit()), 20.00, AngleBetweenPoints(GetUnitLoc(udg_units14[3]), PolarProjectionBJ(GetUnitLoc(GetEnumUnit()), 600.00, GetUnitFacing(udg_units14[3]))))
	call SetUnitX(GetEnumUnit(), GetLocationX(udg_locations03[127]))
	call SetUnitY(GetEnumUnit(), GetLocationY(udg_locations03[127]))
call AddSpecialEffectLocBJ((udg_locations03[127] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[127])
endfunction

function Trig_GaiDynamicEntry2_Actions takes nothing returns nothing
	call SetUnitAnimationByIndex(udg_units14[3], 36)
	if ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units14[3]), 36.00, GetUnitFacing(udg_units14[3])), PATHING_TYPE_WALKABILITY) ) ) then
	else
		set udg_locations03[126]=PolarProjectionBJ(GetUnitLoc(udg_units14[3]), 36.00, GetUnitFacing(udg_units14[3]))
		//call SetUnitPositionLocFacingBJ(udg_units14[3],udg_locations03[126],GetUnitFacing(udg_units14[3]))
		call SetUnitX(udg_units14[3], GetLocationX(udg_locations03[126]))
		call SetUnitY(udg_units14[3], GetLocationY(udg_locations03[126]))
		//call SetUnitFacing(udg_units14[3],udg_GaiAngle)
		//call SetUnitFacing(udg_units14[3],Rad2Deg(Atan3(GetLocationX(udg_locations03[126]), GetLocationY(udg_locations03[126]), GetLocationX(), GetLocationY())))
		call RemoveLocation(udg_locations03[126])
	endif
	set udg_locations03[126]=GetUnitLoc(udg_units14[3])
call AddSpecialEffectLocBJ((udg_locations03[126] ), ( "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")) // INLINED!!
call AddSpecialEffectTargetUnitBJ(("foot left" ), ( udg_units14[3] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ(("foot right" ), ( udg_units14[3] ), ( "Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00, udg_locations03[126], Condition(function Trig_GaiDynamicEntry2_Func009001003)), function Trig_GaiDynamicEntry2_Func009A)
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00, udg_locations03[126], Condition(function Trig_GaiDynamicEntry2_Func010001003)), function Trig_GaiDynamicEntry2_Func010A)
	call RemoveLocation(udg_locations03[126])
endfunction

function InitTrig_GaiDynamicEntry takes nothing returns nothing
	set udg_trigger393=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger393, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger393, Condition(function Trig_GaiDynamicEntry_Conditions))
	call TriggerAddAction(udg_trigger393, function Trig_GaiDynamicEntry_Actions)
	call EnableTriggerForId(29 , udg_trigger393)
	set udg_trigger394=CreateTrigger()
	call DisableTrigger(udg_trigger394)
	call TriggerRegisterTimerEventPeriodic(udg_trigger394, 0.03)
	call TriggerAddAction(udg_trigger394, function Trig_GaiDynamicEntry2_Actions)
endfunction 

//===========================================================================
// Trigger: GaiOtomoteRenge
//===========================================================================
// scope GaiOmoteRenge begins

    
//Implemented from module Alloc:
    
        function s__GaiOmoteRenge___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaiOmoteRenge___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__GaiOmoteRenge___Spell_Alloc__instanceCount=s__GaiOmoteRenge___Spell_Alloc__instanceCount + 1
                set this=s__GaiOmoteRenge___Spell_Alloc__instanceCount
            else
                set this=s__GaiOmoteRenge___Spell_Alloc__recycle[(0)]
                set s__GaiOmoteRenge___Spell_Alloc__recycle[(0)]=s__GaiOmoteRenge___Spell_Alloc__recycle[s__GaiOmoteRenge___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaiOmoteRenge___Spell_deallocate takes integer this returns nothing
            set s__GaiOmoteRenge___Spell_Alloc__recycle[this]=s__GaiOmoteRenge___Spell_Alloc__recycle[(0)]
            set s__GaiOmoteRenge___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        //private unit target
		
  function s__GaiOmoteRenge___Spell_dealDamage takes nothing returns boolean
		                if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__GaiOmoteRenge___Spell_caster[s__GaiOmoteRenge___Spell_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
                    //call StunUnitTimed(instance.caster, GetFilterUnit(), 2.0)
                    call UnitDamageTarget(s__GaiOmoteRenge___Spell_caster[s__GaiOmoteRenge___Spell_instance], GetFilterUnit(), GetHeroStr(s__GaiOmoteRenge___Spell_caster[s__GaiOmoteRenge___Spell_instance], true) * GetUnitAbilityLevel(s__GaiOmoteRenge___Spell_caster[s__GaiOmoteRenge___Spell_instance], s__GaiOmoteRenge___Spell_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
      		return false
  endfunction

        function s__GaiOmoteRenge___Spell_actions3 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real target_x= GetUnitX(s__GaiOmoteRenge___Spell_caster[this])
            local real target_y= GetUnitY(s__GaiOmoteRenge___Spell_caster[this])
            local real new_x
            local real new_y
            local integer i= 0
            local integer i_2= 0
            local location l
            set l=Location(GetUnitX(s__GaiOmoteRenge___Spell_caster[this]), GetUnitY(s__GaiOmoteRenge___Spell_caster[this]))
            call TerrainDeformationRippleBJ(1.50, false, l, 100.00, 300.00, 128, 0.25, 50.00)
            call RemoveLocation(l)
            set l=null
            //call ShowUnit(this.target, true)
            //call SelectUnitForPlayerSingle(this.target, GetOwningPlayer(this.target)) 
            
	    call DestroyEffect(AddSpecialEffect(("war3mapImported\\bwaxec.mdx" ), (( target_x )*1.0), (( target_y)*1.0))) // INLINED!!
            set bj_lastCreatedGroup=CreateGroup()
			set s__GaiOmoteRenge___Spell_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, target_x, target_y, 300.0, Filter(function s__GaiOmoteRenge___Spell_dealDamage))
            call DestroyGroup(bj_lastCreatedGroup)
            call SlowArea(s__GaiOmoteRenge___Spell_caster[this] , target_x , target_y , 300.0)
            call SetUnitTimeScale(s__GaiOmoteRenge___Spell_caster[this], 1.0)
            call PauseUnit(s__GaiOmoteRenge___Spell_caster[this], false)
            //call PauseUnit(this.target, false)
            set s__GaiOmoteRenge___Spell_caster[this]=null
            //set this.target = null
            call s__GaiOmoteRenge___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__GaiOmoteRenge___Spell_actions2 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real caster_x= GetUnitX(s__GaiOmoteRenge___Spell_caster[this])
            local real caster_y= GetUnitY(s__GaiOmoteRenge___Spell_caster[this])
            call SetUnitTimeScale(s__GaiOmoteRenge___Spell_caster[this], 1.0)
            //call AddSpecialEffectEx("blackblink.mdx", caster_x, caster_y)
            call TimerStart(NewTimerEx(this), 0.1, false, function s__GaiOmoteRenge___Spell_actions3)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__GaiOmoteRenge___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real caster_x= GetUnitX(s__GaiOmoteRenge___Spell_caster[this])
            local real caster_y= GetUnitY(s__GaiOmoteRenge___Spell_caster[this])
            local real target_x= s__GaiOmoteRenge___Spell_target_x[this]
            local real target_y= s__GaiOmoteRenge___Spell_target_y[this]
            local real angle= Atan2(( target_y - caster_y ), ( target_x - caster_x ))
            local real new_x= caster_x + Cos(angle) * 35
            local real new_y= caster_y + Sin(angle) * 35
            local real distance_x= target_x - new_x
            local real distance_y= target_y - new_y
            local real distance= SquareRoot(distance_x * distance_x + distance_y * distance_y)
            call SetUnitX(s__GaiOmoteRenge___Spell_caster[this], new_x)
            call SetUnitY(s__GaiOmoteRenge___Spell_caster[this], new_y)
            call SetUnitFacing(s__GaiOmoteRenge___Spell_caster[this], Rad2Deg(angle))
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__GaiOmoteRenge___Spell_caster[this]), s__GaiOmoteRenge___Spell_DUMMY_ID, caster_x, caster_y, GetUnitFacing(s__GaiOmoteRenge___Spell_caster[this]))
            call SetUnitX(bj_lastCreatedUnit, caster_x)
            call SetUnitY(bj_lastCreatedUnit, caster_y)
            call SetUnitVertexColor((bj_lastCreatedUnit ), ( 200 ), ( 200 ), ( 200 ), ( 200)) // INLINED!!
            call SetUnitTimeScale(bj_lastCreatedUnit, 5.0)
            call SetUnitAnimationByIndex(bj_lastCreatedUnit, 31)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.15)
            call DestroyEffect(AddSpecialEffect(("Effects\\s_Earth_Smash.mdl" ), (( caster_x )*1.0), (( caster_y)*1.0))) // INLINED!!
            call SetUnitAnimationByIndex(s__GaiOmoteRenge___Spell_caster[this], 31)
            if distance <= 50 then
                call SetUnitTimeScale(s__GaiOmoteRenge___Spell_caster[this], 3.0)
                call SetUnitAnimation(s__GaiOmoteRenge___Spell_caster[this], "spell five")
                call SetUnitFlyHeight(s__GaiOmoteRenge___Spell_caster[this], 500, 0)
                call SetUnitFlyHeight(s__GaiOmoteRenge___Spell_caster[this], 0, 3000)
                call SetUnitTimeScale(s__GaiOmoteRenge___Spell_caster[this], 1.0)
                //call PauseUnit(this.target, false) 
                //call ShowUnit(this.target, false)
                call TimerStart(NewTimerEx(this), 0.1, false, function s__GaiOmoteRenge___Spell_actions2)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__GaiOmoteRenge___Spell_actions takes nothing returns nothing
            local integer this= s__GaiOmoteRenge___Spell_allocate()
            set s__GaiOmoteRenge___Spell_caster[this]=GetTriggerUnit()
            //set this.target = GetSpellTargetUnit()
            set s__GaiOmoteRenge___Spell_target_x[this]=GetSpellTargetX()
            set s__GaiOmoteRenge___Spell_target_y[this]=GetSpellTargetY()
            call PauseUnit(s__GaiOmoteRenge___Spell_caster[this], true)
            //call PauseUnit(this.target, true)
            call SetUnitAnimationByIndex(s__GaiOmoteRenge___Spell_caster[this], 31)
            call TimerStart(NewTimerEx(this), 0.03, true, function s__GaiOmoteRenge___Spell_periodic)
        endfunction
        
        function s__GaiOmoteRenge___Spell_dies takes nothing returns nothing
            if GetUnitTypeId(GetTriggerUnit()) == s__GaiOmoteRenge___Spell_DUMMY_ID then
                call ShowUnit(GetTriggerUnit(), false)
            endif
        endfunction
        
        function s__GaiOmoteRenge___Spell_onInit takes nothing returns nothing
            call RegisterPlayerUnitEventForId(29 , EVENT_PLAYER_UNIT_DEATH , function s__GaiOmoteRenge___Spell_dies)
            call RegisterSpellEffectEventForId(29 , s__GaiOmoteRenge___Spell_SPELL_ID , function s__GaiOmoteRenge___Spell_actions)
        endfunction
        
    
// scope GaiOmoteRenge ends
//===========================================================================
// Trigger: GaiYouth
//===========================================================================

function Trig_GaiYouth_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A04M' ) )
endfunction

function Trig_GaiYouth_Actions takes nothing returns nothing
	set udg_units13[2]=GetSpellTargetUnit()
	set udg_units14[2]=GetTriggerUnit()
	//call TriggerSleepAction(0.05)
	call SetUnitTimeScale(udg_units14[2], 2.50)
	call PauseUnit(udg_units14[2], true)
	call SetUnitPathing(udg_units14[2], false)
	call PauseUnit(udg_units13[2], true)
	call SetUnitTimeScalePercent(udg_units14[2], 300.00)
	call EnableTrigger(udg_trigger386)
	set udg_integers02[662]=1
	loop
		exitwhen udg_integers02[662] > 5
		set udg_real05=( udg_real05 + 72.00 )
		call TriggerSleepAction(0.05)
		set udg_integers02[662]=udg_integers02[662] + 1
	endloop
	call UnitDamageTarget(GetTriggerUnit(), udg_units13[2], ( I2R(GetHeroStatBJ(0, GetTriggerUnit(), true)) * I2R(GetUnitAbilityLevelSwapped('A04M', GetTriggerUnit())) ), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	set udg_locations03[16]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ((udg_locations03[16] ), ( "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((udg_locations03[16] ), ( "Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[16])
	set udg_locations03[16]=PolarProjectionBJ(GetUnitLoc(udg_units13[2]), 90.00, GetRandomReal(0, 360))
	call SetUnitPositionLocFacingLocBJ(GetTriggerUnit(), udg_locations03[16], GetUnitLoc(udg_units13[2]))
	call SetUnitAnimationByIndex(GetTriggerUnit(), 3)
call AddSpecialEffectLocBJ((udg_locations03[16] ), ( "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=5
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        	set bj_lastCreatedEffect=AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", GetLocationX(udg_locations03[16]), GetLocationY(udg_locations03[16]))
        	call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(GetTriggerUnit())))
        	call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 0.7 + 0.1 * bj_forLoopAIndex)
        	call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 2.0)*1.0) , false) // INLINED!!
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call RemoveLocation(udg_locations03[16])
	set udg_real05=GetUnitFacing(GetTriggerUnit())
	set udg_booleans01[114]=true
	call PauseUnit(udg_units14[2], false)
	call SetUnitTimeScale(udg_units14[2], 1.00)
	call SetUnitPathing(udg_units14[2], true)
	call TriggerSleepAction(0.15)
	call PauseUnit(udg_units13[2], false)
	call DisableTrigger(udg_trigger386)
	set udg_booleans01[114]=false
endfunction

function Trig_GaiYouth2_Func001C takes nothing returns boolean
	return ( ( udg_booleans01[114] ) )
endfunction

function Trig_GaiYouth2_Actions takes nothing returns nothing
    local real angle
	if ( ( udg_booleans01[114] ) ) then
		set udg_locations03[599]=GetUnitLoc(udg_units13[2])
		set udg_locations03[17]=PolarProjectionBJ(udg_locations03[599], 25.00, udg_real05)
		call SetUnitPositionLoc(udg_units13[2], udg_locations03[17])
call AddSpecialEffectLocBJ((udg_locations03[17] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[17])
		call RemoveLocation(udg_locations03[599])
		return
	endif
	set udg_locations03[599]=GetUnitLoc(udg_units13[2])
	set udg_locations03[17]=PolarProjectionBJ(udg_locations03[599], GetRandomReal(50.00, 120.00), GetRandomReal(0, 360))
	call SetUnitPositionLocFacingLocBJ(udg_units14[2], udg_locations03[17], udg_locations03[599])
	call SetUnitAnimation(udg_units14[2], "attack")
call AddSpecialEffectLocBJ((udg_locations03[599] ), ( "Abilities\\Weapons\\GryphonRiderMissile\\GryphonRiderMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[17])
	set udg_locations03[17]=PolarProjectionBJ(udg_locations03[599], GetRandomReal(50.00, 120.00), GetRandomReal(0, 360))
    set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\ak.mdl", GetLocationX(udg_locations03[17]), GetLocationY(udg_locations03[17]))
    set angle=Atan3(GetLocationX(udg_locations03[17]) , GetLocationY(udg_locations03[17]) , GetLocationX(udg_locations03[599]) , GetLocationY(udg_locations03[599]))
    call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, angle)
    call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 0.4)*1.0) , true) // INLINED!!
    call BlzSetSpecialEffectAlpha(bj_lastCreatedEffect, 150)
    call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 3.0)
    call BlzPlaySpecialEffect(bj_lastCreatedEffect, ANIM_TYPE_ATTACK)

	if ModuloInteger(udg_GaiCount, 3) == 0 then
		set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(udg_units13[2]), GetUnitY(udg_units13[2]))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(udg_units13[2]) , GetUnitY(udg_units13[2])))
		call DestroyEffect(bj_lastCreatedEffect)
	endif
	set udg_GaiCount=udg_GaiCount + 1

	call RemoveLocation(udg_locations03[17])
	set udg_locations03[17]=PolarProjectionBJ(udg_locations03[599], 15.00, udg_real05)
	call SetUnitPositionLoc(udg_units13[2], udg_locations03[17])
	call SetUnitAnimation(udg_units13[2], "death")
call AddSpecialEffectLocBJ((udg_locations03[17] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[17])
	call RemoveLocation(udg_locations03[599])
endfunction

function InitTrig_GaiYouth takes nothing returns nothing
	set udg_trigger385=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger385, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger385, Condition(function Trig_GaiYouth_Conditions))
	call TriggerAddAction(udg_trigger385, function Trig_GaiYouth_Actions)
	call EnableTriggerForId(29 , udg_trigger385)
	set udg_trigger386=CreateTrigger()
	call DisableTrigger(udg_trigger386)
	call TriggerRegisterTimerEventPeriodic(udg_trigger386, 0.03)
	call TriggerAddAction(udg_trigger386, function Trig_GaiYouth2_Actions)
endfunction 

//===========================================================================
// Trigger: Hachimon Actions
//===========================================================================
function Trig_Hachimon_Actions_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0WP' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Hachimon_Actions_Actions takes nothing returns nothing
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Gai_R1, 100, GetTriggerUnit())
        endif
    set udg_Newest_Hachimon_Caster=GetTriggerUnit()
    set udg_unit25=GetTriggerUnit()
    call AddLoadingBar(GetTriggerUnit() , 30.0)
    call UnitAddAbilityBJ('A0EX', udg_Newest_Hachimon_Caster)
    call UnitAddAbilityBJ('A0B5', udg_Newest_Hachimon_Caster)
    call UnitAddAbilityBJ('A04S', udg_Newest_Hachimon_Caster)
    call UnitAddAbilityBJ('A091', udg_Newest_Hachimon_Caster)
    call UnitAddAbilityBJ('A0D0', udg_Newest_Hachimon_Caster)
    call EnableTrigger(udg_trigger390)
    //call SetUnitVertexColorEx(GetTriggerUnit(), 255, 0, 0, 255)
    call AddUnitAnimationProperties(GetTriggerUnit(), "alternate", true)
    call SetPlayerAbilityAvailableBJ(true, 'A01T', GetOwningPlayer(udg_unit25))
    call ShowUnitHide(GetTriggerUnit())
    call ShowUnitShow(GetTriggerUnit())
    call SelectUnitForPlayerSingle(GetTriggerUnit(), GetTriggerPlayer())
    //call EnableTrigger( gg_trg_Hachimon_Collor )
    call TriggerSleepAction(0.01)
    call SetPlayerAbilityAvailable(GetOwningPlayer(udg_unit25), 'A0WP', false)
    call UnitAddAbility(udg_unit25, 'A04T')
    call PolledWait(30.00)
    call UnitRemoveAbility(udg_unit25, 'A04T')
    call SetPlayerAbilityAvailable(GetOwningPlayer(udg_unit25), 'A0WP', true)
    call UnitRemoveAbilityBJ('A04S', udg_Newest_Hachimon_Caster)
    call UnitRemoveAbilityBJ('A091', udg_Newest_Hachimon_Caster)
    call UnitRemoveAbilityBJ('A0D0', udg_Newest_Hachimon_Caster)
    call UnitRemoveAbilityBJ('A0EX', udg_Newest_Hachimon_Caster)
    call UnitRemoveAbilityBJ('A0B5', udg_Newest_Hachimon_Caster)
    call UnitRemoveBuffBJ('B00H', udg_Newest_Hachimon_Caster)
    call AddUnitAnimationProperties(GetTriggerUnit(), "alternate", false)
    call SetPlayerAbilityAvailableBJ(false, 'A01T', GetOwningPlayer(udg_unit25))
    //call DisableTrigger( gg_trg_Hachimon_Collor )
    //call SetUnitVertexColorEx(GetTriggerUnit(), 255, 255, 255, 255)
    call ShowUnitHide(GetTriggerUnit())
    call ShowUnitShow(GetTriggerUnit())
    call SelectUnitForPlayerSingle(GetTriggerUnit(), GetTriggerPlayer())
endfunction

//===========================================================================
function InitTrig_Hachimon_Actions takes nothing returns nothing
    local integer i= 0
    loop
    	exitwhen i > 11
	call SetPlayerAbilityAvailableBJ(false, 'A01T', Player(i))
        set i=i + 1
    endloop
    set gg_trg_Hachimon_Actions=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Hachimon_Actions, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_Hachimon_Actions, Condition(function Trig_Hachimon_Actions_Conditions))
    call TriggerAddAction(gg_trg_Hachimon_Actions, function Trig_Hachimon_Actions_Actions)
    call EnableTriggerForId(29 , gg_trg_Hachimon_Actions)
endfunction


//===========================================================================
// Trigger: Hachimon Life Drain
//===========================================================================



 function s__HachimonLifeDrain_periodic takes nothing returns nothing
		if s__HachimonLifeDrain_gai == null then
			call ReleaseTimer(GetExpiredTimer())
			return
		endif
		if UnitHasBuffBJ(s__HachimonLifeDrain_gai, 'B00H') then
    			call UnitDamageTargetBJ(s__HachimonLifeDrain_gai, s__HachimonLifeDrain_gai, 30.00, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
    			call SetUnitManaPercentBJ(s__HachimonLifeDrain_gai, 100)
		endif
 endfunction

 function s__HachimonLifeDrain_leave takes nothing returns nothing
		if GetUnitTypeId(GetTriggerUnit()) == 'H01Y' then
			set s__HachimonLifeDrain_gai=GetLeavingUnit()
			call TimerStartEx((NewTimerEx(0)) , 1.0 , true , function s__HachimonLifeDrain_periodic , "HachimonLifeDrain_periodic") // INLINED!!
		endif
 endfunction

 function s__HachimonLifeDrain_onInit takes nothing returns nothing
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__HachimonLifeDrain_leave))) // INLINED!!
 endfunction

//===========================================================================
// Trigger: GaiAsaKujaku
//===========================================================================
function Trig_GaiAsaKujaku_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A04T' ) )
endfunction

function Trig_GaiAsaKujaku_Actions takes nothing returns nothing
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call PlaySoundOnUnitBJ(gg_snd_Gai_R, 100.0, GetTriggerUnit())
	        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 5.00, "|cFFFF0000Gai: Let the power of youth explode!  |r")
	endif
	set udg_units13[1]=GetSpellTargetUnit()
	set udg_units14[1]=GetTriggerUnit()
	//call TriggerSleepAction(0.10)
	//call SetCameraFieldForPlayer(GetOwningPlayer(GetTriggerUnit()),CAMERA_FIELD_FIELD_OF_VIEW,2000.00,0)
	call PauseUnit(udg_units13[1], true)
	
	call PauseUnit(udg_units14[1], true)
	
	call SetUnitFlyHeight(udg_units14[1], 400.00, 2000.00)
	call SetUnitPositionLocFacingLocBJ(udg_units14[1], PolarProjectionBJ(GetUnitLoc(udg_units13[1]), 60.00, ( GetUnitFacing(udg_units14[1]) - 180.00 )), GetUnitLoc(udg_units13[1]))
	call SetUnitFlyHeight(udg_units13[1], 410.00, 2000.00)
	call SetUnitAnimation(udg_units14[1], "Spell Channel")
	//call SetUnitAnimation(udg_units13[1],"Death")
	set udg_locations03[17]=GetUnitLoc(udg_units13[1])
	call CreateNUnitsAtLoc(1, 'nwld', GetOwningPlayer(udg_units14[1]), udg_locations03[17], bj_UNIT_FACING)
	call KillUnit(bj_lastCreatedUnit)
	//call SetUnitTimeScalePercent(udg_units14[1],1000.00)
	//call AddSpecialEffectTargetUnitBJEx("lefthand",bj_lastCreatedUnit,"war3mapImported\\Asa_Kujaku.mdl")
	set udg_effects03[800]=bj_lastCreatedEffect
	call RemoveLocation(udg_locations03[17])
	call TriggerSleepAction(0.10)
	set udg_reals01[2010]=GetUnitFacing(GetTriggerUnit())
	call EnableTrigger(udg_trigger392)
	call TriggerSleepAction(2.00)
	call DisableTrigger(udg_trigger392)
	call SetUnitFlyHeight(udg_units13[1], 0.00, 5000.00)
	call SetUnitFlyHeight(udg_units14[1], 0.00, 5000.00)
	call DestroyEffect(udg_effects03[800])
	call TriggerSleepAction(0.10)
	
	
	call SetUnitTimeScalePercent(udg_units14[1], 100.00)
	call PauseUnit(udg_units13[1], false)
	call PauseUnit(udg_units14[1], false)
	call UnitDamageTarget(udg_units14[1], udg_units13[1], ( ( I2R(GetHeroStatBJ(0, udg_units14[1], true)) + 450 ) * ( GetUnitAbilityLevel(udg_units14[1], 'A0WP') ) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=10
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ((PolarProjectionBJ(GetUnitLoc(udg_units14[1]), 150.00, ( 36.00 * I2R(bj_forLoopAIndex) )) ), ( "Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")) // INLINED!!
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	//call ResetToGameCameraForPlayerEx(GetOwningPlayer(GetTriggerUnit()),0)
endfunction

function Trig_GaiAsaKujaku2_Func003Func009001003 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[1])) )
endfunction

function Trig_GaiAsaKujaku2_Func003Func009A takes nothing returns nothing
	call UnitDamageTarget(udg_units14[1], GetEnumUnit(), ( 15.00 * ( GetUnitAbilityLevel(udg_units14[1], 'A04T') ) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction

function Trig_GaiAsaKujaku2_Actions takes nothing returns nothing
	call SetUnitFacing(udg_units14[1], ( udg_reals01[2010] + GetRandomReal(- 80.00, 80.00) ))
	//call SetUnitAnimation(udg_units14[1],"attack")
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=3
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		set udg_locations03[17]=PolarProjectionBJ(GetUnitLoc(udg_units14[1]), ( 200.00 * I2R(bj_forLoopAIndex) ), GetUnitFacing(udg_units14[1]))
		call CreateNUnitsAtLoc(1, 'nwlg', GetOwningPlayer(udg_units14[1]), udg_locations03[17], GetUnitFacing(udg_units14[1]))
		call UnitApplyTimedLifeBJ(1.00, 'BTLF', bj_lastCreatedUnit)
		call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0, 800.00), GetRandomReal(200.00, 600.00))
		set udg_locations03[125]=PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit), 600.00, GetUnitFacing(bj_lastCreatedUnit))
		call IssuePointOrderLoc(bj_lastCreatedUnit, "move", udg_locations03[125])
		call RemoveLocation(udg_locations03[125])
		set bj_wantDestroyGroup=true
		call ForGroupBJ(GetUnitsInRangeOfLocMatching(250.00, udg_locations03[17], Condition(function Trig_GaiAsaKujaku2_Func003Func009001003)), function Trig_GaiAsaKujaku2_Func003Func009A)
		call RemoveLocation(udg_locations03[17])
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
endfunction

function InitTrig_GaiAsaKujaku takes nothing returns nothing
	set udg_trigger391=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger391, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger391, Condition(function Trig_GaiAsaKujaku_Conditions))
	call TriggerAddAction(udg_trigger391, function Trig_GaiAsaKujaku_Actions)
	call EnableTriggerForId(29 , udg_trigger391)
	set udg_trigger392=CreateTrigger()
	call DisableTrigger(udg_trigger392)
	call TriggerRegisterTimerEventPeriodic(udg_trigger392, 0.07)
	call TriggerAddAction(udg_trigger392, function Trig_GaiAsaKujaku2_Actions)
endfunction 
//===========================================================================
// Trigger: GaiSemiAttack
//===========================================================================

function Trig_GaiSemiAttack_Func002001 takes nothing returns boolean
	return ( ( UnitHasBuffBJ(GetAttacker(), 'B00H') ) ) //((GetUnitTypeId(GetAttacker())=='H03S'))
endfunction

function Trig_GaiSemiAttack_Func002002 takes nothing returns boolean
	return ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_GaiSemiAttack_Conditions takes nothing returns boolean
	return ( ( ( UnitHasBuffBJ(GetAttacker(), 'B00H') ) ) and ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false ) ) ) and GetRandomInt(1, 100) < 80
endfunction

function Trig_GaiSemiAttack_Actions takes nothing returns nothing
	set udg_locations03[124]=GetUnitLoc(udg_unit25)
call AddSpecialEffectLocBJ((udg_locations03[124] ), ( "blackblink.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((udg_locations03[124] ), ( "Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((udg_locations03[124] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[124])
	
	call SetUnitFlyHeight(udg_unit25, GetRandomReal(200.00, 350.00), 0.00)
	
	set udg_locations03[124]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), GetRandomReal(250.00, 400.00), GetRandomReal(0, 360))
	call SetUnitPositionLocFacingLocBJ(udg_unit25, udg_locations03[124], GetUnitLoc(GetTriggerUnit()))
	call SetUnitAnimationWithRarity(udg_unit25, "attack", RARITY_RARE)
	call RemoveLocation(udg_locations03[124])
	call TriggerSleepAction(0.05)
	set udg_locations03[124]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), 64.00, GetRandomReal(0, 360))
	call SetUnitPositionLocFacingLocBJ(udg_unit25, udg_locations03[124], GetUnitLoc(GetTriggerUnit()))
	call RemoveLocation(udg_locations03[124])
	call SetUnitFlyHeight(udg_unit25, 0.00, 0.00)
	call UnitDamageTarget(udg_unit25, GetTriggerUnit(), ( ( I2R(GetHeroStatBJ(0, udg_unit25, true)) * 1.00 ) + 20.00 ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	set udg_locations03[124]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ((udg_locations03[124] ), ( "abilities\\weapons\\catapult\\catapultmissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call IssueTargetOrder(udg_unit25, "attack", GetTriggerUnit())
	call RemoveLocation(udg_locations03[124])
endfunction

function InitTrig_GaiSemiAttack takes nothing returns nothing
	set udg_trigger390=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger390, EVENT_PLAYER_UNIT_ATTACKED)
	call TriggerAddCondition(udg_trigger390, Condition(function Trig_GaiSemiAttack_Conditions))
	call TriggerAddAction(udg_trigger390, function Trig_GaiSemiAttack_Actions)
        call DisableTrigger(udg_trigger390)
endfunction 

//===========================================================================
// Trigger: GaiEightGates
//===========================================================================

//Implemented from module Alloc:
    
        function s__GaiEighthGates_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaiEighthGates_Alloc__recycle[(0)] == 0 ) then
                set s__GaiEighthGates_Alloc__instanceCount=s__GaiEighthGates_Alloc__instanceCount + 1
                set this=s__GaiEighthGates_Alloc__instanceCount
            else
                set this=s__GaiEighthGates_Alloc__recycle[(0)]
                set s__GaiEighthGates_Alloc__recycle[(0)]=s__GaiEighthGates_Alloc__recycle[s__GaiEighthGates_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaiEighthGates_deallocate takes integer this returns nothing
            set s__GaiEighthGates_Alloc__recycle[this]=s__GaiEighthGates_Alloc__recycle[(0)]
            set s__GaiEighthGates_Alloc__recycle[(0)]=this
        endfunction
    
    function s__GaiEighthGates_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if GetUnitAbilityLevel(s__GaiEighthGates_caster[this], 'B03C') == 0 then
	    if udg_GaiKills > 2 then
		set udg_GaiKills=2
	    endif
	    call ModifyHeroStat(bj_HEROSTAT_STR, s__GaiEighthGates_caster[this], bj_MODIFYMETHOD_SUB, 10 - udg_GaiKills * 5)
            call UnitRemoveAbility(s__GaiEighthGates_caster[this], 'A0OA')
            call UnitRemoveAbility(s__GaiEighthGates_caster[this], 'A0OB')
            call UnitRemoveAbility(s__GaiEighthGates_caster[this], 'A0OC')
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__GaiEighthGates_caster[this]), 'A04N', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__GaiEighthGates_caster[this]), 'A04M', true)
            call SetUnitState(s__GaiEighthGates_caster[this], UNIT_STATE_LIFE, GetUnitState(s__GaiEighthGates_caster[this], UNIT_STATE_LIFE) * 0.1)
            //call SetUnitVertexColorEx(this.caster, 255, 255, 255, 255)
            set s__GaiEighthGates_caster[this]=null
            call s__GaiEighthGates_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__GaiEighthGates_actions takes nothing returns nothing
        local integer this= s__GaiEighthGates_allocate()
	call EnableTrigger(gg_trg_GaiMoveSuperHighSpeed)
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Gai: Being strong is not the capacity to defeat someone strong... It's the capacity to protect what is important to you!|r")
        set s__GaiEighthGates_caster[this]=GetTriggerUnit()
        set udg_GaiElephant=1
        call SetPlayerAbilityAvailable(GetOwningPlayer(s__GaiEighthGates_caster[this]), 'A04N', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(s__GaiEighthGates_caster[this]), 'A04M', false)
       //call SetUnitVertexColorEx(this.caster, 255, 0, 0, 255) 
        call UnitAddAbility(s__GaiEighthGates_caster[this], 'A0OA')
        call UnitAddAbility(s__GaiEighthGates_caster[this], 'A0OB')
        call UnitAddAbility(s__GaiEighthGates_caster[this], 'A0OC')
	set udg_GaiKills=0
        call TimerStart(NewTimerEx(this), 0.03, true, function s__GaiEighthGates_periodic)
    endfunction
    
    function s__GaiEighthGates_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(29 , 'A0O9' , function s__GaiEighthGates_actions)
    endfunction
    
//===========================================================================
// Trigger: GaiEveningElephant
//===========================================================================

//Implemented from module Alloc:
    
        function s__GaiEveningElephant_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GaiEveningElephant_Alloc__recycle[(0)] == 0 ) then
                set s__GaiEveningElephant_Alloc__instanceCount=s__GaiEveningElephant_Alloc__instanceCount + 1
                set this=s__GaiEveningElephant_Alloc__instanceCount
            else
                set this=s__GaiEveningElephant_Alloc__recycle[(0)]
                set s__GaiEveningElephant_Alloc__recycle[(0)]=s__GaiEveningElephant_Alloc__recycle[s__GaiEveningElephant_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GaiEveningElephant_deallocate takes integer this returns nothing
            set s__GaiEveningElephant_Alloc__recycle[this]=s__GaiEveningElephant_Alloc__recycle[(0)]
            set s__GaiEveningElephant_Alloc__recycle[(0)]=this
        endfunction
    
    function s__GaiEveningElephant_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__GaiEveningElephant_target[this])
        local real y= GetUnitY(s__GaiEveningElephant_target[this])
        local real angle= Atan3(GetUnitX(s__GaiEveningElephant_missile[this]) , GetUnitY(s__GaiEveningElephant_missile[this]) , x , y)
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        set s__GaiEveningElephant_count[this]=s__GaiEveningElephant_count[this] + 1
        call SetUnitX(s__GaiEveningElephant_missile[this], x)
        call SetUnitY(s__GaiEveningElephant_missile[this], y)
        if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
            call SetUnitX(s__GaiEveningElephant_target[this], new_x)
            call SetUnitY(s__GaiEveningElephant_target[this], new_y)
        endif
        if s__GaiEveningElephant_count[this] > 30 then
            call KillUnit(s__GaiEveningElephant_missile[this])
            call UnitDamageTarget(s__GaiEveningElephant_caster[this], s__GaiEveningElephant_target[this], ( 5.0 + udg_GaiElephant ) * GetHeroStr(s__GaiEveningElephant_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            set s__GaiEveningElephant_caster[this]=null
            set s__GaiEveningElephant_target[this]=null
            call s__GaiEveningElephant_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
     
    function s__GaiEveningElephant_actions takes nothing returns nothing
        local integer this= s__GaiEveningElephant_allocate()
        local real x
        local real y
        local real angle
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call PlaySoundOnUnitBJ(gg_snd_Gai_E_Sekizo, 100.0, GetTriggerUnit())
            endif
        if udg_GaiElephant < 5 then
            set udg_GaiElephant=udg_GaiElephant + 1
        endif
        set s__GaiEveningElephant_caster[this]=GetTriggerUnit()
        set s__GaiEveningElephant_target[this]=GetSpellTargetUnit()
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__GaiEveningElephant_caster[this]) )*1.0), (( GetUnitY(s__GaiEveningElephant_caster[this]))*1.0))) // INLINED!!
        set angle=Atan3(GetUnitX(s__GaiEveningElephant_caster[this]) , GetUnitY(s__GaiEveningElephant_caster[this]) , GetUnitX(s__GaiEveningElephant_target[this]) , GetUnitY(s__GaiEveningElephant_target[this]))
        set x=(((GetUnitX(s__GaiEveningElephant_target[this]) )*1.0) + Cos((( angle + bj_PI )*1.0)) * (( 150.0)*1.0)) // INLINED!!
        set y=(((GetUnitY(s__GaiEveningElephant_target[this]) )*1.0) + Sin((( angle + bj_PI )*1.0)) * (( 150.0)*1.0)) // INLINED!!
        call SetUnitX(s__GaiEveningElephant_caster[this], x)
        call SetUnitY(s__GaiEveningElephant_caster[this], y)
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e01D', GetUnitX(s__GaiEveningElephant_target[this]), GetUnitY(s__GaiEveningElephant_target[this]), Rad2Deg(angle))
        call SetUnitScale((bj_lastCreatedUnit ), (( 1.5 )*1.0), (( 1.5 )*1.0), (( 1.5)*1.0)) // INLINED!!
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        set s__GaiEveningElephant_missile[this]=CreateUnit(GetTriggerPlayer(), 'odoc', x, y, Rad2Deg(angle))
        call SetUnitScale((s__GaiEveningElephant_missile[this] ), (( 1.0 )*1.0), (( 1.0 )*1.0), (( 1.0)*1.0)) // INLINED!!
        set s__GaiEveningElephant_count[this]=0
        call TimerStart(NewTimerEx(this), 0.03, true, function s__GaiEveningElephant_periodic)
    endfunction
    
    function s__GaiEveningElephant_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(29 , 'A0OB' , function s__GaiEveningElephant_actions)
    endfunction
    
//===========================================================================
// Trigger: GaiNightGuy
//===========================================================================
// scope GaiYagai begins


function Trig_Yagai_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A0OC' ) )
endfunction

function Trig_Yagai_Actions takes nothing returns nothing
        call PlaySoundOnUnitBJ(gg_snd_Gai_Q_Yagai, 100.0, GetTriggerUnit())
	set udg_units14[3]=GetTriggerUnit()
	set GaiYagai___angle=Rad2Deg(Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY()))
	
    call TriggerSleepAction(0.06)
	call PauseUnit(udg_units14[3], true)
    call SetUnitTimeScale(GetTriggerUnit(), 3.0)
	call SetUnitAnimation(GetTriggerUnit(), "spell three")
    
	call SetUnitPathing(udg_units14[3], false)
	call SetUnitFlyHeight(GetTriggerUnit(), 50.00, 0.00)
	
call AddSpecialEffectTargetUnitBJ(("foot right" ), ( udg_units14[3] ), ( "Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedTarget.mdl")) // INLINED!!
	set udg_effects02[1213]=bj_lastCreatedEffect
    
    set GaiYagai___dragon=CreateUnit(GetTriggerPlayer(), 'n01X', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GaiYagai___angle)
    call SetUnitTimeScale(GaiYagai___dragon, 3.0)
    call SetUnitAnimation(GaiYagai___dragon, "birth")
    call TriggerSleepAction(0.3)
    call SetUnitTimeScale(GaiYagai___dragon, 1.0)
    call SetUnitAnimation(GaiYagai___dragon, "stand")
	call EnableTrigger(GaiYagai___t2)
	call TriggerSleepAction(0.60)
	call DisableTrigger(GaiYagai___t2)
	call SetUnitFlyHeight(GetTriggerUnit(), 0.00, 500.00)
	call PauseUnit(udg_units14[3], false)
	call SetUnitPathing(udg_units14[3], true)
    call SetUnitTimeScale(GetTriggerUnit(), 1.0)
	call DestroyEffect(udg_effects02[1213])
	call SetUnitTimeScalePercent(GetTriggerUnit(), 100.00)
    call KillUnit(GaiYagai___dragon)
	call GroupClear(udg_groups03[0])
endfunction

function Trig_Yagai2_Func001C takes nothing returns boolean
	return ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units14[3]), 36.00, GetUnitFacing(udg_units14[3])), PATHING_TYPE_WALKABILITY) ) )
endfunction

function Trig_Yagai2_Func009001003001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_Yagai2_Func009001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) )
endfunction

function Trig_Yagai2_Func009001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) ))
endfunction

function Trig_Yagai2_Func009Func001C takes nothing returns boolean
	if ( not ( IsUnitInGroup(GetEnumUnit(), udg_groups03[0]) ) ) then
		return false
	endif
	return true
endfunction

function Trig_Yagai2_Func009A takes nothing returns nothing
	if ( Trig_Yagai2_Func009Func001C() ) then
	else
		call UnitDamageTarget(udg_units14[3], GetEnumUnit(), 10.0 * GetHeroStr(udg_units14[3], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
		call GroupAddUnit(udg_groups03[0], GetEnumUnit())
		set udg_locations03[127]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations03[127] ), ( "Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[127])
	endif
endfunction

function Trig_Yagai2_Func010001003001 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_Yagai2_Func010001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) )
endfunction

function Trig_Yagai2_Func010001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_units14[3])) ))
endfunction

function Trig_Yagai2_Func010A takes nothing returns nothing
	call IssueTargetOrder(GetEnumUnit(), "attack", GetEnumUnit())
	set udg_locations03[127]=PolarProjectionBJ(GetUnitLoc(GetEnumUnit()), 50.00, AngleBetweenPoints(GetUnitLoc(udg_units14[3]), PolarProjectionBJ(GetUnitLoc(GetEnumUnit()), 600.00, GetUnitFacing(udg_units14[3]))))
	call SetUnitX(GetEnumUnit(), GetLocationX(udg_locations03[127]))
	call SetUnitY(GetEnumUnit(), GetLocationY(udg_locations03[127]))
call AddSpecialEffectLocBJ((udg_locations03[127] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[127])
endfunction

function Trig_Yagai2_Actions takes nothing returns nothing
    local real x
    local real y
    local integer i
    set GaiYagai___count=GaiYagai___count + 1
	if ( ( IsTerrainPathableBJ(PolarProjectionBJ(GetUnitLoc(udg_units14[3]), 50.00, GetUnitFacing(udg_units14[3])), PATHING_TYPE_WALKABILITY) ) ) then
	else
		set udg_locations03[126]=PolarProjectionBJ(GetUnitLoc(udg_units14[3]), 50.00, GaiYagai___angle)
		//call SetUnitPositionLocFacingBJ(udg_units14[3],udg_locations03[126],GetUnitFacing(udg_units14[3]))
        call SetUnitX(udg_units14[3], GetLocationX(udg_locations03[126]))
        call SetUnitY(udg_units14[3], GetLocationY(udg_locations03[126]))
        call SetUnitFacing(udg_units14[3], GaiYagai___angle)
        call SetUnitX(GaiYagai___dragon, GetUnitX(udg_units14[3]))
        call SetUnitY(GaiYagai___dragon, GetUnitY(udg_units14[3]))
        call SetUnitFacing(GaiYagai___dragon, GaiYagai___angle)
        if ModuloInteger(GaiYagai___count, 3) == 0 then
            //call TerrainDeformationRippleBJ( 1.0, true, udg_locations03[126], 300.00, 300.00, 300.00, 0.2, 50.00 )
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(udg_units14[3]), 'n01D', GetLocationX(udg_locations03[126]), GetLocationY(udg_locations03[126]), GetUnitFacing(udg_units14[3]))
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        endif
        //call AddSpecialEffectEx("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetLocationX(udg_locations03[126]), GetLocationY(udg_locations03[126]))
		call RemoveLocation(udg_locations03[126])
	endif
	set udg_locations03[126]=GetUnitLoc(udg_units14[3])
call AddSpecialEffectLocBJ((udg_locations03[126] ), ( "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")) // INLINED!!
call AddSpecialEffectTargetUnitBJ(("foot left" ), ( udg_units14[3] ), ( "Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ(("foot right" ), ( udg_units14[3] ), ( "Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00, udg_locations03[126], Condition(function Trig_Yagai2_Func009001003)), function Trig_Yagai2_Func009A)
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(250.00, udg_locations03[126], Condition(function Trig_Yagai2_Func010001003)), function Trig_Yagai2_Func010A)
	call RemoveLocation(udg_locations03[126])
endfunction

function GaiYagai___init takes nothing returns nothing
        set GaiYagai___t1=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(GaiYagai___t1, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(GaiYagai___t1, Condition(function Trig_Yagai_Conditions))
	call TriggerAddAction(GaiYagai___t1, function Trig_Yagai_Actions)
        call EnableTriggerForId(29 , GaiYagai___t1)
	set GaiYagai___t2=CreateTrigger()
	call DisableTrigger(GaiYagai___t2)
	call TriggerRegisterTimerEventPeriodic(GaiYagai___t2, 0.03)
	call TriggerAddAction(GaiYagai___t2, function Trig_Yagai2_Actions)
endfunction

// scope GaiYagai ends
//===========================================================================
// Trigger: GaiMoveSuperHighSpeed
//===========================================================================
function Trig_GaiMoveSuperHighSpeed_Conditions takes nothing returns boolean
    if ( not ( GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") ) ) then
        return false
    endif
    return true
endfunction

function Trig_GaiMoveSuperHighSpeed_Actions takes nothing returns nothing
    local real x
    local real y
    local real angle
    local real new_x
    local real new_y
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B03C') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'A0OA') > 0 then
        set x=GetUnitX(GetTriggerUnit())
        set y=GetUnitY(GetTriggerUnit())
        set angle=Atan3(x , y , GetOrderPointX() , GetOrderPointY())
        if GetUnitAbilityLevel(GetTriggerUnit(), 'A0OA') > 0 then
            set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 100)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 100)*1.0)) // INLINED!!
        else
            set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 100)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 100)*1.0)) // INLINED!!
        endif
        call SetUnitX(GetTriggerUnit(), new_x)
        call SetUnitY(GetTriggerUnit(), new_y)
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
    endif
endfunction

//===========================================================================
function InitTrig_GaiMoveSuperHighSpeed takes nothing returns nothing
    set gg_trg_GaiMoveSuperHighSpeed=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_GaiMoveSuperHighSpeed, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(gg_trg_GaiMoveSuperHighSpeed, Condition(function Trig_GaiMoveSuperHighSpeed_Conditions))
    call TriggerAddAction(gg_trg_GaiMoveSuperHighSpeed, function Trig_GaiMoveSuperHighSpeed_Actions)
    call DisableTrigger(gg_trg_GaiMoveSuperHighSpeed)
endfunction


//===========================================================================
// Trigger: NidaimeMizukageMirage
//===========================================================================
function Trig_NidaimeMizukageMirage_RemoveInvul takes nothing returns nothing
 local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
	set udg_GengetsuCooldowns[(GetUnitUserData((u)))]=false // INLINED!!
	call SetUnitInvulnerable(u, false)
	call ReleaseTimer(GetExpiredTimer())
endfunction 

function Trig_NidaimeMizukageMirage_Actions takes nothing returns nothing
    local real angle
    local real offset
    local real x
    local real y
    if GetUnitAbilityLevel(GetTriggerUnit(), 'Bfzy') > 0 and GetEventDamage() > 100 and not udg_GengetsuCooldowns[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
        //call UnitRemoveBuffs(GetTriggerUnit(), false, true)
        set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e02J', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 10.0)
        call SetUnitX(bj_lastCreatedUnit, GetUnitX(GetTriggerUnit()))
        call SetUnitY(bj_lastCreatedUnit, GetUnitY(GetTriggerUnit()))
        set angle=Deg2Rad(GetRandomReal(0, 360))
        set offset=GetRandomReal(0, 200)
        set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
        set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
        call SetUnitX(GetTriggerUnit(), x)
        call SetUnitY(GetTriggerUnit(), y)
        call SetUnitInvulnerable(GetTriggerUnit(), true)
        set udg_GengetsuCooldowns[(GetUnitUserData((GetTriggerUnit())))]=true // INLINED!!
        call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.2, false, function Trig_NidaimeMizukageMirage_RemoveInvul) // INLINED!!
    endif
endfunction

function Trig_NidaimeMizukageMirage_AddBar takes nothing returns nothing
    call AddLoadingBar(GetTriggerUnit() , 10.0)
    set udg_GengetsuCooldowns[(GetUnitUserData((GetTriggerUnit())))]=false // INLINED!!
endfunction 

function InitTrig_NidaimeMizukageMirage_Leave takes nothing returns nothing
	if GetUnitTypeId(GetLeavingUnit()) == 'H06L' then
    	    call TriggerRegisterUnitEvent(gg_trg_NidaimeMizukageMirage, GetLeavingUnit(), EVENT_UNIT_DAMAGED)
            call GroupAddUnit(udg_Gengetsus, GetLeavingUnit())
	endif
endfunction

//===========================================================================
function InitTrig_NidaimeMizukageMirage takes nothing returns nothing
    call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function InitTrig_NidaimeMizukageMirage_Leave))) // INLINED!!
    call RegisterSpellEffectEventForId(47 , 'Afzy' , function Trig_NidaimeMizukageMirage_AddBar)
    set gg_trg_NidaimeMizukageMirage=CreateTrigger()
    call TriggerAddAction(gg_trg_NidaimeMizukageMirage, function Trig_NidaimeMizukageMirage_Actions)
endfunction


//===========================================================================
// Trigger: NidaimeMizukageWaterPistol
//===========================================================================
// scope NidaimeMizukageWaterPistol begins

    
//Implemented from module Alloc:
    
        function s__NidaimeMizukageWaterPistol___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__NidaimeMizukageWaterPistol___Spell_Alloc__instanceCount=s__NidaimeMizukageWaterPistol___Spell_Alloc__instanceCount + 1
                set this=s__NidaimeMizukageWaterPistol___Spell_Alloc__instanceCount
            else
                set this=s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[(0)]
                set s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[(0)]=s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NidaimeMizukageWaterPistol___Spell_deallocate takes integer this returns nothing
            set s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[this]=s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[(0)]
            set s__NidaimeMizukageWaterPistol___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
 function s__NidaimeMizukageWaterPistol___Spell_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		if GetWidgetLife(s__NidaimeMizukageWaterPistol___Spell_mirage[this]) < 0.405 then
			call UnitRemoveAbility(s__NidaimeMizukageWaterPistol___Spell_caster[this], 'A178')
			call SetPlayerAbilityAvailable(GetOwningPlayer(s__NidaimeMizukageWaterPistol___Spell_caster[this]), s__NidaimeMizukageWaterPistol___Spell_SPELL_ID, true)
			call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__NidaimeMizukageWaterPistol___Spell_mirage[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageWaterPistol___Spell_mirage[this]))*1.0))) // INLINED!!
			call ShowUnit(s__NidaimeMizukageWaterPistol___Spell_mirage[this], false)
			call s__NidaimeMizukageWaterPistol___Spell_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

        function s__NidaimeMizukageWaterPistol___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real pistol_x= GetUnitX(s__NidaimeMizukageWaterPistol___Spell_pistol[this])
            local real pistol_y= GetUnitY(s__NidaimeMizukageWaterPistol___Spell_pistol[this])
            local real new_x= pistol_x + Cos(s__NidaimeMizukageWaterPistol___Spell_angle[this]) * 50
            local real new_y= pistol_y + Sin(s__NidaimeMizukageWaterPistol___Spell_angle[this]) * 50
            call SetUnitX(s__NidaimeMizukageWaterPistol___Spell_pistol[this], new_x)
            call SetUnitY(s__NidaimeMizukageWaterPistol___Spell_pistol[this], new_y)
            set s__NidaimeMizukageWaterPistol___Spell_count[this]=s__NidaimeMizukageWaterPistol___Spell_count[this] + 1
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 150.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__NidaimeMizukageWaterPistol___Spell_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__NidaimeMizukageWaterPistol___Spell_damaged[this]) then
                    //if bj_lastCreatedUnit == this.target then
                    //    
                    //endif 
                    //if GetUnitAbilityLevel(this.caster, 'Bfzy') > 0 then
                    //    call UnitDamageTarget(this.caster, bj_lastCreatedUnit, GetHeroInt(this.caster, true) * GetUnitAbilityLevel(this.caster, SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                    //else
			if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
				set s__NidaimeMizukageWaterPistol___Spell_hithero[this]=true
			endif
                        call StunUnitTimed(s__NidaimeMizukageWaterPistol___Spell_caster[this] , bj_lastCreatedUnit , 1.0)
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                        call UnitDamageTarget(s__NidaimeMizukageWaterPistol___Spell_caster[this], bj_lastCreatedUnit, GetHeroInt(s__NidaimeMizukageWaterPistol___Spell_caster[this], true) * GetUnitAbilityLevel(s__NidaimeMizukageWaterPistol___Spell_caster[this], s__NidaimeMizukageWaterPistol___Spell_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                    //endif
                    call GroupAddUnit(s__NidaimeMizukageWaterPistol___Spell_damaged[this], bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if s__NidaimeMizukageWaterPistol___Spell_count[this] >= 22 then
                call DestroyGroup(s__NidaimeMizukageWaterPistol___Spell_damaged[this])
		if s__NidaimeMizukageWaterPistol___Spell_hithero[this] then
			set s__NidaimeMizukageWaterPistol___Spell_mirage[this]=CreateUnit(GetOwningPlayer(s__NidaimeMizukageWaterPistol___Spell_caster[this]), 'e05N', GetUnitX(s__NidaimeMizukageWaterPistol___Spell_pistol[this]), GetUnitY(s__NidaimeMizukageWaterPistol___Spell_pistol[this]), GetUnitFacing(s__NidaimeMizukageWaterPistol___Spell_pistol[this]))
			call UnitApplyTimedLife(s__NidaimeMizukageWaterPistol___Spell_mirage[this], 'BTLF', 6.0)
			call SetPlayerAbilityAvailable(GetOwningPlayer(s__NidaimeMizukageWaterPistol___Spell_caster[this]), s__NidaimeMizukageWaterPistol___Spell_SPELL_ID, false)
			call UnitAddAbility(s__NidaimeMizukageWaterPistol___Spell_caster[this], 'A178')
			call TimerStart(NewTimerEx(this), 0.1, true, function s__NidaimeMizukageWaterPistol___Spell_finish)
		endif
                call KillUnit(s__NidaimeMizukageWaterPistol___Spell_pistol[this])
                set s__NidaimeMizukageWaterPistol___Spell_damaged[this]=null
                set s__NidaimeMizukageWaterPistol___Spell_pistol[this]=null
		if not s__NidaimeMizukageWaterPistol___Spell_hithero[this] then
			call s__NidaimeMizukageWaterPistol___Spell_deallocate(this)
		endif
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__NidaimeMizukageWaterPistol___Spell_actions takes nothing returns nothing
            local integer this= s__NidaimeMizukageWaterPistol___Spell_allocate()
            local real caster_x
            local real caster_y
	    set s__NidaimeMizukageWaterPistol___Spell_instance=this
            set s__NidaimeMizukageWaterPistol___Spell_damaged[this]=CreateGroup()
            set s__NidaimeMizukageWaterPistol___Spell_caster[this]=GetTriggerUnit()
            set caster_x=GetUnitX(s__NidaimeMizukageWaterPistol___Spell_caster[this])
            set caster_y=GetUnitY(s__NidaimeMizukageWaterPistol___Spell_caster[this])
            set s__NidaimeMizukageWaterPistol___Spell_pistol[this]=CreateUnit(GetTriggerPlayer(), 'e007', caster_x, caster_y, GetUnitFacing(s__NidaimeMizukageWaterPistol___Spell_caster[this]))
            call SetUnitX(s__NidaimeMizukageWaterPistol___Spell_pistol[this], caster_x)
            call SetUnitY(s__NidaimeMizukageWaterPistol___Spell_pistol[this], caster_y)
            set s__NidaimeMizukageWaterPistol___Spell_count[this]=0
	    set s__NidaimeMizukageWaterPistol___Spell_hithero[this]=false
            //call SetUnitAnimation(this.caster, "attack")
            set s__NidaimeMizukageWaterPistol___Spell_angle[this]=Atan3(caster_x , caster_y , GetSpellTargetX() , GetSpellTargetY())
            call TimerStart(NewTimerEx(this), 0.03, true, function s__NidaimeMizukageWaterPistol___Spell_periodic)
        endfunction
        
 function s__NidaimeMizukageWaterPistol___Spell_teleport takes nothing returns nothing
  local integer this= s__NidaimeMizukageWaterPistol___Spell_instance
		call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( GetUnitX(s__NidaimeMizukageWaterPistol___Spell_caster[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageWaterPistol___Spell_caster[this]))*1.0))) // INLINED!!
		call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( GetUnitX(s__NidaimeMizukageWaterPistol___Spell_mirage[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageWaterPistol___Spell_mirage[this]))*1.0))) // INLINED!!
		call SetUnitX(s__NidaimeMizukageWaterPistol___Spell_caster[this], GetUnitX(s__NidaimeMizukageWaterPistol___Spell_mirage[this]))
		call SetUnitY(s__NidaimeMizukageWaterPistol___Spell_caster[this], GetUnitY(s__NidaimeMizukageWaterPistol___Spell_mirage[this]))
		call SetUnitFacing(s__NidaimeMizukageWaterPistol___Spell_caster[this], GetUnitFacing(s__NidaimeMizukageWaterPistol___Spell_mirage[this]))
		call KillUnit(s__NidaimeMizukageWaterPistol___Spell_mirage[this])
 endfunction 

        function s__NidaimeMizukageWaterPistol___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(47 , s__NidaimeMizukageWaterPistol___Spell_SPELL_ID , function s__NidaimeMizukageWaterPistol___Spell_actions)
	    call RegisterSpellEffectEventForId(47 , 'A178' , function s__NidaimeMizukageWaterPistol___Spell_teleport)
        endfunction
        
    
// scope NidaimeMizukageWaterPistol ends
//===========================================================================
// Trigger: NidaimeMizukageBubbles
//===========================================================================
// scope NidaimeMizukageBubbles begins

    
//Implemented from module Alloc:
    
        function s__NidaimeMizukageBubbles___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NidaimeMizukageBubbles___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__NidaimeMizukageBubbles___Spell_Alloc__instanceCount=s__NidaimeMizukageBubbles___Spell_Alloc__instanceCount + 1
                set this=s__NidaimeMizukageBubbles___Spell_Alloc__instanceCount
            else
                set this=s__NidaimeMizukageBubbles___Spell_Alloc__recycle[(0)]
                set s__NidaimeMizukageBubbles___Spell_Alloc__recycle[(0)]=s__NidaimeMizukageBubbles___Spell_Alloc__recycle[s__NidaimeMizukageBubbles___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NidaimeMizukageBubbles___Spell_deallocate takes integer this returns nothing
            set s__NidaimeMizukageBubbles___Spell_Alloc__recycle[this]=s__NidaimeMizukageBubbles___Spell_Alloc__recycle[(0)]
            set s__NidaimeMizukageBubbles___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__NidaimeMizukageBubbles___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real dummy_x= GetUnitX(s__NidaimeMizukageBubbles___Spell_dummy[this])
            local real dummy_y= GetUnitY(s__NidaimeMizukageBubbles___Spell_dummy[this])
            local real new_x= dummy_x + Cos(s__NidaimeMizukageBubbles___Spell_angle[this]) * 25
            local real new_y= dummy_y + Sin(s__NidaimeMizukageBubbles___Spell_angle[this]) * 25
            local real new_x_2
            local real new_y_2
            local real new_x_3
            local real new_y_3
            local real target_x
            local real target_y
            local integer i= 0
            local unit u
            set s__NidaimeMizukageBubbles___Spell_count[this]=s__NidaimeMizukageBubbles___Spell_count[this] + 1
            call SetUnitX(s__NidaimeMizukageBubbles___Spell_dummy[this], new_x)
            call SetUnitY(s__NidaimeMizukageBubbles___Spell_dummy[this], new_y)
            set new_x_2=new_x + Cos(s__NidaimeMizukageBubbles___Spell_angle[this] + bj_PI / 2) * 100
            set new_y_2=new_y + Sin(s__NidaimeMizukageBubbles___Spell_angle[this] + bj_PI / 2) * 100
            set new_x_3=new_x + Cos(s__NidaimeMizukageBubbles___Spell_angle[this] - bj_PI / 2) * 100
            set new_y_3=new_y + Sin(s__NidaimeMizukageBubbles___Spell_angle[this] - bj_PI / 2) * 100
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__NidaimeMizukageBubbles___Spell_caster[this]), 'e00U', new_x, new_y, GetRandomReal(0, 360))
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__NidaimeMizukageBubbles___Spell_caster[this]), 'e00U', new_x_2, new_y_2, GetRandomReal(0, 360))
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__NidaimeMizukageBubbles___Spell_caster[this]), 'e00U', new_x_3, new_y_3, GetRandomReal(0, 360))
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__NidaimeMizukageBubbles___Spell_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__NidaimeMizukageBubbles___Spell_damaged[this]) then
                    set target_x=GetUnitX(bj_lastCreatedUnit)
                    set target_y=GetUnitY(bj_lastCreatedUnit)
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl" ), (( target_x )*1.0), (( target_y)*1.0))) // INLINED!!
                    call UnitDamageTarget(s__NidaimeMizukageBubbles___Spell_caster[this], bj_lastCreatedUnit, 80.0 * GetUnitAbilityLevel(s__NidaimeMizukageBubbles___Spell_caster[this], s__NidaimeMizukageBubbles___Spell_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                    call GroupAddUnit(s__NidaimeMizukageBubbles___Spell_damaged[this], bj_lastCreatedUnit)
                    set u=CreateUnit(GetOwningPlayer(s__NidaimeMizukageBubbles___Spell_caster[this]), 'e007', target_x, target_y, 0)
                    //call UnitAddAbility(u, 'A0VW')
                    //call IssueTargetOrder(u, "slow", bj_lastCreatedUnit)
                    //call UnitApplyTimedLife(u, 'BTLF', 2.0)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            set u=null
            call DestroyGroup(bj_lastCreatedGroup)
            if s__NidaimeMizukageBubbles___Spell_count[this] > 30 then
                call KillUnit(s__NidaimeMizukageBubbles___Spell_dummy[this])
                call DestroyGroup(s__NidaimeMizukageBubbles___Spell_damaged[this])
                set s__NidaimeMizukageBubbles___Spell_damaged[this]=null
                set s__NidaimeMizukageBubbles___Spell_caster[this]=null
                set s__NidaimeMizukageBubbles___Spell_dummy[this]=null
                call s__NidaimeMizukageBubbles___Spell_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__NidaimeMizukageBubbles___Spell_actions takes nothing returns nothing
            local integer this= s__NidaimeMizukageBubbles___Spell_allocate()
            local real caster_x= GetUnitX(GetTriggerUnit())
            local real caster_y= GetUnitY(GetTriggerUnit())
            local real target_x= GetSpellTargetX()
            local real target_y= GetSpellTargetY()
            set s__NidaimeMizukageBubbles___Spell_angle[this]=Atan2(( target_y - caster_y ), ( target_x - caster_x ))
            set s__NidaimeMizukageBubbles___Spell_damaged[this]=CreateGroup()
            set s__NidaimeMizukageBubbles___Spell_caster[this]=GetTriggerUnit()
            set s__NidaimeMizukageBubbles___Spell_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', caster_x, caster_y, Rad2Deg(s__NidaimeMizukageBubbles___Spell_angle[this]))
            call SetUnitX(s__NidaimeMizukageBubbles___Spell_dummy[this], caster_x)
            call SetUnitY(s__NidaimeMizukageBubbles___Spell_dummy[this], caster_y)
            set s__NidaimeMizukageBubbles___Spell_count[this]=0
            call TimerStart(NewTimerEx(this), 0.03, true, function s__NidaimeMizukageBubbles___Spell_periodic)
        endfunction
        
        function s__NidaimeMizukageBubbles___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(47 , s__NidaimeMizukageBubbles___Spell_SPELL_ID , function s__NidaimeMizukageBubbles___Spell_actions)
        endfunction
        
    
// scope NidaimeMizukageBubbles ends
//===========================================================================
// Trigger: NidaimeMizukageSuikaNoJutsu
//===========================================================================
// scope NidaimeMizukageSuikaNoJutsu begins

    
//Implemented from module Alloc:
    
        function s__NidaimeMizukageSuikaNoJutsu___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__instanceCount=s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__instanceCount + 1
                set this=s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__instanceCount
            else
                set this=s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[(0)]
                set s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[(0)]=s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NidaimeMizukageSuikaNoJutsu___Spell_deallocate takes integer this returns nothing
            set s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[this]=s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[(0)]
            set s__NidaimeMizukageSuikaNoJutsu___Spell_Alloc__recycle[(0)]=this
        endfunction
    
	
        
 function s__NidaimeMizukageSuikaNoJutsu___Spell_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		if GetWidgetLife(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]) < 0.405 then
			call SetPlayerAbilityAvailable(GetOwningPlayer(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]), s__NidaimeMizukageSuikaNoJutsu___Spell_SPELL_ID, true)
			call UnitRemoveAbility(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], 'A177')
			call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]))*1.0))) // INLINED!!
			call ShowUnit(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this], false)
			call s__NidaimeMizukageSuikaNoJutsu___Spell_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__NidaimeMizukageSuikaNoJutsu___Spell_goback takes integer this returns nothing
		call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( GetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]))*1.0))) // INLINED!!
		call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( GetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]))*1.0))) // INLINED!!
		call SetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], GetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]))
		call SetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], GetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]))
		call SetUnitFacing(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], GetUnitFacing(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]))
		call KillUnit(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this])
 endfunction 

        function s__NidaimeMizukageSuikaNoJutsu___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real caster_x= GetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this])
            local real caster_y= GetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this])
            local real angle= Atan2(( s__NidaimeMizukageSuikaNoJutsu___Spell_target_y[this] - caster_y ), ( s__NidaimeMizukageSuikaNoJutsu___Spell_target_x[this] - caster_x ))
            local real new_x= caster_x + Cos(angle) * 25
            local real new_y= caster_y + Sin(angle) * 25
            local real distance_x= new_x - s__NidaimeMizukageSuikaNoJutsu___Spell_target_x[this]
            local real distance_y= new_y - s__NidaimeMizukageSuikaNoJutsu___Spell_target_y[this]
            local real distance= SquareRoot(distance_x * distance_x + distance_y * distance_y)
            set s__NidaimeMizukageSuikaNoJutsu___Spell_count[this]=s__NidaimeMizukageSuikaNoJutsu___Spell_count[this] + 1
            call SetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], new_x)
            call SetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], new_y)
            call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            if distance <= 50 or s__NidaimeMizukageSuikaNoJutsu___Spell_count[this] >= 35 then
            	call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( GetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]))*1.0))) // INLINED!!
                call PauseUnit(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], false)
                call ShowUnit(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], true)
                call SetUnitAnimation(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], "stand")
                call SelectUnitForPlayerSingle(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], GetOwningPlayer(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]))
		call UnitApplyTimedLife(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this], 'BTLF', 6.0)
		if true then // GetUnitState(this.caster, UNIT_STATE_LIFE) / GetUnitState(this.caster, UNIT_STATE_MAX_LIFE) < 0.7 then
			call KillUnit(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this])
		endif
		call TimerStart(NewTimerEx(this), 0.1, true, function s__NidaimeMizukageSuikaNoJutsu___Spell_finish)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__NidaimeMizukageSuikaNoJutsu___Spell_pause takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call ShowUnit(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], false)
            call TimerStart(NewTimerEx(this), 0.03, true, function s__NidaimeMizukageSuikaNoJutsu___Spell_periodic)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__NidaimeMizukageSuikaNoJutsu___Spell_actions takes nothing returns nothing
            local integer this= s__NidaimeMizukageSuikaNoJutsu___Spell_allocate()
            set s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]=GetTriggerUnit()
            set s__NidaimeMizukageSuikaNoJutsu___Spell_target_x[this]=GetSpellTargetX()
            set s__NidaimeMizukageSuikaNoJutsu___Spell_target_y[this]=GetSpellTargetY()
            set s__NidaimeMizukageSuikaNoJutsu___Spell_count[this]=0
	    set s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this]=CreateUnit(GetTriggerPlayer(), 'e05N', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
            call UnitApplyTimedLife(s__NidaimeMizukageSuikaNoJutsu___Spell_mirage[this], 'BTLF', 6.0)
	    call PauseUnit(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], true)
            call SetUnitAnimation(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], "morph")
            call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( GetUnitX(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]))*1.0))) // INLINED!!
	    call UnitAddAbility(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this], 'A177')
	    call SetPlayerAbilityAvailable(GetOwningPlayer(s__NidaimeMizukageSuikaNoJutsu___Spell_caster[this]), s__NidaimeMizukageSuikaNoJutsu___Spell_SPELL_ID, false)
            call TimerStart(NewTimerEx(this), 0.07, false, function s__NidaimeMizukageSuikaNoJutsu___Spell_pause)
	    set s__NidaimeMizukageSuikaNoJutsu___Spell_instance=this
        endfunction
        
 function s__NidaimeMizukageSuikaNoJutsu___Spell_teleport takes nothing returns nothing
		call s__NidaimeMizukageSuikaNoJutsu___Spell_goback(s__NidaimeMizukageSuikaNoJutsu___Spell_instance)
 endfunction 	

        function s__NidaimeMizukageSuikaNoJutsu___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(47 , s__NidaimeMizukageSuikaNoJutsu___Spell_SPELL_ID , function s__NidaimeMizukageSuikaNoJutsu___Spell_actions)
	    call RegisterSpellEffectEventForId(47 , 'A177' , function s__NidaimeMizukageSuikaNoJutsu___Spell_teleport)
        endfunction
        
    
// scope NidaimeMizukageSuikaNoJutsu ends
//===========================================================================
// Trigger: NidaimeMizukageClamDrop
//===========================================================================

    
//Implemented from module Alloc:
    
        function s__NidaimeMIzukageClamDrop_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NidaimeMIzukageClamDrop_Alloc__recycle[(0)] == 0 ) then
                set s__NidaimeMIzukageClamDrop_Alloc__instanceCount=s__NidaimeMIzukageClamDrop_Alloc__instanceCount + 1
                set this=s__NidaimeMIzukageClamDrop_Alloc__instanceCount
            else
                set this=s__NidaimeMIzukageClamDrop_Alloc__recycle[(0)]
                set s__NidaimeMIzukageClamDrop_Alloc__recycle[(0)]=s__NidaimeMIzukageClamDrop_Alloc__recycle[s__NidaimeMIzukageClamDrop_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NidaimeMIzukageClamDrop_deallocate takes integer this returns nothing
            set s__NidaimeMIzukageClamDrop_Alloc__recycle[this]=s__NidaimeMIzukageClamDrop_Alloc__recycle[(0)]
            set s__NidaimeMIzukageClamDrop_Alloc__recycle[(0)]=this
        endfunction
    
        
 function s__NidaimeMIzukageClamDrop_damagefix takes nothing returns boolean
	if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__NidaimeMIzukageClamDrop_caster[s__NidaimeMIzukageClamDrop_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
                    call UnitDamageTarget(s__NidaimeMIzukageClamDrop_caster[s__NidaimeMIzukageClamDrop_instance], GetFilterUnit(), 1.5 * GetHeroInt(s__NidaimeMIzukageClamDrop_caster[s__NidaimeMIzukageClamDrop_instance], true) * GetUnitAbilityLevel(s__NidaimeMIzukageClamDrop_caster[s__NidaimeMIzukageClamDrop_instance], s__NidaimeMIzukageClamDrop_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
	return false
 endfunction

        function s__NidaimeMIzukageClamDrop_destroy takes integer this returns nothing
            set s__NidaimeMIzukageClamDrop_caster[this]=null
            set s__NidaimeMIzukageClamDrop_gamahiro[this]=null
            call s__NidaimeMIzukageClamDrop_deallocate(this)
        endfunction
        
        function s__NidaimeMIzukageClamDrop_shake takes nothing returns nothing
            local integer i= 0
            loop
                exitwhen i > 11
                 call CameraClearNoiseForPlayer(Player(i))
                set i=i + 1
            endloop
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
 function s__NidaimeMIzukageClamDrop_finish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            	call UnitRemoveAbility(s__NidaimeMIzukageClamDrop_caster[this], 'Apiv')
		call UnitRemoveAbility(s__NidaimeMIzukageClamDrop_caster[this], 'A17M')
		call SetPlayerAbilityAvailable(GetOwningPlayer(s__NidaimeMIzukageClamDrop_caster[this]), s__NidaimeMIzukageClamDrop_SPELL_ID, true)
		call s__NidaimeMIzukageClamDrop_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

        function s__NidaimeMIzukageClamDrop_damage takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real new_x
            local real new_y
            local integer i= 0
            local integer i_2= 0
            local real unit_x
            local real unit_y
            local real angle
            local real offset
            local real new_x_2
            local real new_y_2
            local real height
            local unit u
            set bj_lastCreatedGroup=CreateGroup()
	    set s__NidaimeMIzukageClamDrop_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__NidaimeMIzukageClamDrop_target_x[this], s__NidaimeMIzukageClamDrop_target_y[this], 600.0, Filter(function s__NidaimeMIzukageClamDrop_damagefix))
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                set unit_x=GetUnitX(bj_lastCreatedUnit)
                set unit_y=GetUnitY(bj_lastCreatedUnit)
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
	    call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack Big.mdx" ), (( s__NidaimeMIzukageClamDrop_target_x[this] )*1.0), (( s__NidaimeMIzukageClamDrop_target_y[this])*1.0))) // INLINED!!
	    set bj_lastCreatedEffect=AddSpecialEffect("DustWave.mdx", s__NidaimeMIzukageClamDrop_target_x[this], s__NidaimeMIzukageClamDrop_target_y[this])
	    call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 4.0)
	    call DestroyEffect(bj_lastCreatedEffect)
            set i=0
            loop
                exitwhen i > 30
                set angle=GetRandomReal(0, 360)
                set offset=GetRandomReal(0, 500)
                set new_x_2=s__NidaimeMIzukageClamDrop_target_x[this] + Cos(Deg2Rad(angle)) * offset
                set new_y_2=s__NidaimeMIzukageClamDrop_target_y[this] + Sin(Deg2Rad(angle)) * offset
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__NidaimeMIzukageClamDrop_caster[this]), 'z00B', s__NidaimeMIzukageClamDrop_target_x[this], s__NidaimeMIzukageClamDrop_target_y[this], GetRandomReal(0, 360))
                call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 25)
                call SetUnitMoveSpeed(bj_lastCreatedUnit, 522.0)
                call IssuePointOrder(bj_lastCreatedUnit, "move", new_x_2, new_y_2)
                set height=GetRandomReal(100, 150)
                call SetUnitFlyHeight(bj_lastCreatedUnit, height, height)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.5)
                call CameraSetEQNoiseForPlayer(Player(i), 4.00)
                set i=i + 1
            endloop
            call SlowArea(s__NidaimeMIzukageClamDrop_caster[this] , s__NidaimeMIzukageClamDrop_target_x[this] , s__NidaimeMIzukageClamDrop_target_y[this] , 500.0)
            call UnitApplyTimedLife(s__NidaimeMIzukageClamDrop_gamahiro[this], 'BTLF', 8.0)
            call UnitAddAbility(s__NidaimeMIzukageClamDrop_caster[this], 'Apiv')
	    call SetPlayerAbilityAvailable(GetOwningPlayer(s__NidaimeMIzukageClamDrop_caster[this]), s__NidaimeMIzukageClamDrop_SPELL_ID, false)
	    call UnitAddAbility(s__NidaimeMIzukageClamDrop_caster[this], 'A17M')
            call TimerStart(CreateTimer(), 1.0, false, function s__NidaimeMIzukageClamDrop_shake)
	    call TimerStart(NewTimerEx(this), 8.0, false, function s__NidaimeMIzukageClamDrop_finish)
	    set s__NidaimeMIzukageClamDrop_clam=s__NidaimeMIzukageClamDrop_gamahiro[this]
            call ReleaseTimer(GetExpiredTimer())
            set u=null
        endfunction
        
        function s__NidaimeMIzukageClamDrop_create_frog takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            set s__NidaimeMIzukageClamDrop_gamahiro[this]=CreateUnit(GetOwningPlayer(s__NidaimeMIzukageClamDrop_caster[this]), 'e00X', s__NidaimeMIzukageClamDrop_target_x[this], s__NidaimeMIzukageClamDrop_target_y[this], s__NidaimeMIzukageClamDrop_angle[this])
            call SetUnitX(s__NidaimeMIzukageClamDrop_gamahiro[this], s__NidaimeMIzukageClamDrop_target_x[this])
            call SetUnitY(s__NidaimeMIzukageClamDrop_gamahiro[this], s__NidaimeMIzukageClamDrop_target_y[this])
            call UnitAddAbility(s__NidaimeMIzukageClamDrop_gamahiro[this], 'Arav')
            call UnitRemoveAbility(s__NidaimeMIzukageClamDrop_gamahiro[this], 'Arav')
            call SetUnitFlyHeight(s__NidaimeMIzukageClamDrop_gamahiro[this], 700, 0)
            call SetUnitFlyHeight(s__NidaimeMIzukageClamDrop_gamahiro[this], 0, 1400)
            call SetUnitAnimation(s__NidaimeMIzukageClamDrop_gamahiro[this], "walk")
            call TimerStart(NewTimerEx(this), 0.5, false, function s__NidaimeMIzukageClamDrop_damage)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__NidaimeMIzukageClamDrop_actions takes nothing returns nothing
            local integer this= s__NidaimeMIzukageClamDrop_allocate()
            set s__NidaimeMIzukageClamDrop_caster[this]=GetTriggerUnit()
            set s__NidaimeMIzukageClamDrop_target_x[this]=GetSpellTargetX()
            set s__NidaimeMIzukageClamDrop_target_y[this]=GetSpellTargetY()
            set s__NidaimeMIzukageClamDrop_angle[this]=GetUnitFacing(s__NidaimeMIzukageClamDrop_caster[this])
            call SetUnitAnimation(s__NidaimeMIzukageClamDrop_caster[this], "spell slam")
            set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h01V', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
            call SetUnitAnimation(bj_lastCreatedUnit, "birth")
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
            //call AddSpecialEffectEx("Effects\\s_Summoning.mdx", GetUnitX(this.caster), GetUnitY(this.caster))
            call TimerStart(NewTimerEx(this), 0.1, true, function s__NidaimeMIzukageClamDrop_create_frog)
        endfunction
        
        function s__NidaimeMIzukageClamDrop_death takes nothing returns nothing
            local real new_x
            local real new_y
            local integer i= 0
            local integer i_2= 0
            if GetUnitTypeId(GetTriggerUnit()) == 'e00X' then
                call ShowUnit(GetTriggerUnit(), false)
                loop
                    set i=i + 1
                    exitwhen i > 3
                    set i_2=0
                    loop
                        set i_2=i_2 + 1
                        exitwhen i_2 > 10
                        set new_x=GetUnitX(GetTriggerUnit()) + Cos(Deg2Rad(36 * i_2)) * 75 * i
                        set new_y=GetUnitY(GetTriggerUnit()) + Sin(Deg2Rad(36 * i_2)) * 75 * i
                        call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                    endloop
                endloop
            endif
        endfunction
        
        function s__NidaimeMIzukageClamDrop_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(47 , s__NidaimeMIzukageClamDrop_SPELL_ID , function s__NidaimeMIzukageClamDrop_actions)
            call RegisterPlayerUnitEventForId(47 , EVENT_PLAYER_UNIT_DEATH , function s__NidaimeMIzukageClamDrop_death)
        endfunction
        
    
//===========================================================================
// Trigger: NidaimeMizukageGenjutsu
//===========================================================================
// scope NidaimeMizukageGenjutsu begins

    
    
//Implemented from module Alloc:
    
        function s__NidaimeMizukageGenjutsu___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__NidaimeMizukageGenjutsu___Spell_Alloc__instanceCount=s__NidaimeMizukageGenjutsu___Spell_Alloc__instanceCount + 1
                set this=s__NidaimeMizukageGenjutsu___Spell_Alloc__instanceCount
            else
                set this=s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[(0)]
                set s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[(0)]=s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NidaimeMizukageGenjutsu___Spell_deallocate takes integer this returns nothing
            set s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[this]=s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[(0)]
            set s__NidaimeMizukageGenjutsu___Spell_Alloc__recycle[(0)]=this
        endfunction
    
        
        function s__NidaimeMizukageGenjutsu___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real angle
            local real offset
            local real new_x
            local real new_y
            local real angle2
            local real clam_x
            local real clam_y
            local integer i= 0
            set s__NidaimeMizukageGenjutsu___Spell_count[this]=s__NidaimeMizukageGenjutsu___Spell_count[this] + 1
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__NidaimeMizukageGenjutsu___Spell_target_x[this], s__NidaimeMizukageGenjutsu___Spell_target_y[this], 600.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__NidaimeMizukageGenjutsu___Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) then
                    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl", bj_lastCreatedUnit, "chest"))
                    call UnitDamageTarget(s__NidaimeMizukageGenjutsu___Spell_caster[this], bj_lastCreatedUnit, ( ( 3.0 * GetHeroInt(s__NidaimeMizukageGenjutsu___Spell_caster[this], true) + 750 ) * GetUnitAbilityLevel(s__NidaimeMizukageGenjutsu___Spell_caster[this], 'A0I7') ) / 70.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            loop
                set i=i + 1
                exitwhen i > 5
                set angle=GetRandomReal(0, 360)
                set offset=GetRandomReal(0, 500)
                set new_x=s__NidaimeMizukageGenjutsu___Spell_target_x[this] + Cos(Deg2Rad(angle)) * offset
                set new_y=s__NidaimeMizukageGenjutsu___Spell_target_y[this] + Sin(Deg2Rad(angle)) * offset
                set angle2=Atan2(( s__NidaimeMizukageGenjutsu___Spell_target_y[this] - new_y ), ( s__NidaimeMizukageGenjutsu___Spell_target_x[this] - new_x ))
                call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i]) )*1.0), (( GetUnitY(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i]))*1.0))) // INLINED!!
                call SetUnitX(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i], new_x)
                call SetUnitY(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i], new_y)
                call SetUnitFacing(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i], Rad2Deg(angle2))
            endloop
            if s__NidaimeMizukageGenjutsu___Spell_count[this] > 70 then
                set s__NidaimeMizukageGenjutsu___Spell_caster[this]=null
                set s__NidaimeMizukageGenjutsu___Spell_clam[this]=null
                call s__NidaimeMizukageGenjutsu___Spell_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__NidaimeMizukageGenjutsu___Spell_pause2 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local integer i= 0
            loop
                set i=i + 1
                exitwhen i > 5
                set s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i]= CreateUnit(GetOwningPlayer(s__NidaimeMizukageGenjutsu___Spell_caster[this]), 'e00W', s__NidaimeMizukageGenjutsu___Spell_target_x[this], s__NidaimeMizukageGenjutsu___Spell_target_y[this], GetRandomReal(0, 360))
                call AddSpecialEffectTarget("Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl", s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i], "chest")
                call UnitApplyTimedLife(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i], 'BTLF', 3.0)
                call SetUnitTimeScale(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i], 5.0)
                call SetUnitAnimationByIndex(s__NidaimeMizukageGenjutsu___mirages[(this)*(1)+i], 4)
            endloop
            call TimerStart(NewTimerEx(this), 0.03, true, function s__NidaimeMizukageGenjutsu___Spell_periodic)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__NidaimeMizukageGenjutsu___Spell_pause takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real clam_x= GetUnitX(s__NidaimeMizukageGenjutsu___Spell_clam[this])
            local real clam_y= GetUnitY(s__NidaimeMizukageGenjutsu___Spell_clam[this])
            local real new_x= clam_x + Cos(Deg2Rad(GetUnitFacing(s__NidaimeMizukageGenjutsu___Spell_clam[this]))) * 100
            local real new_y= clam_y + Sin(Deg2Rad(GetUnitFacing(s__NidaimeMizukageGenjutsu___Spell_clam[this]))) * 100
            local real angle
            local real offset
            local real new_x_2
            local real new_y_2
            local real height
            local integer i= 0
            loop
                set i=i + 1
                exitwhen i > 100
                set angle=GetRandomReal(0, 360)
                set offset=GetRandomReal(0, 500)
                set new_x_2=s__NidaimeMizukageGenjutsu___Spell_target_x[this] + Cos(Deg2Rad(angle)) * offset
                set new_y_2=s__NidaimeMizukageGenjutsu___Spell_target_y[this] + Sin(Deg2Rad(angle)) * offset
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__NidaimeMizukageGenjutsu___Spell_caster[this]), 'z008', new_x, new_y, GetRandomReal(0, 360))
                call UnitAddAbility(bj_lastCreatedUnit, 'A0A1')
                call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 25)
                call SetUnitMoveSpeed(bj_lastCreatedUnit, 522.0)
                call IssuePointOrder(bj_lastCreatedUnit, "move", new_x_2, new_y_2)
                set height=GetRandomReal(100, 300)
                call SetUnitFlyHeight(bj_lastCreatedUnit, height, height)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.5)
            endloop
            call TimerStart(NewTimerEx(this), 0.5, false, function s__NidaimeMizukageGenjutsu___Spell_pause2)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__NidaimeMizukageGenjutsu___Spell_actions takes nothing returns nothing
            local integer this= s__NidaimeMizukageGenjutsu___Spell_allocate()
            local real caster_x
            local real caster_y
            local real angle
            local real new_x
            local real new_y
            local real smoke_x
            local real smoke_y
            local integer i= 0
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Gengetsu_R, 80, GetTriggerUnit())
            endif
            set s__NidaimeMizukageGenjutsu___Spell_caster[this]=GetTriggerUnit()
            set s__NidaimeMizukageGenjutsu___Spell_clam[this]=s__NidaimeMIzukageClamDrop_clam
            set s__NidaimeMizukageGenjutsu___Spell_target_x[this]=GetUnitX(s__NidaimeMizukageGenjutsu___Spell_clam[this])
            set s__NidaimeMizukageGenjutsu___Spell_target_y[this]=GetUnitY(s__NidaimeMizukageGenjutsu___Spell_clam[this])
            set s__NidaimeMizukageGenjutsu___Spell_count[this]=0
            call TimerStart(NewTimerEx(this), 0.1, false, function s__NidaimeMizukageGenjutsu___Spell_pause)
        endfunction
        
        function s__NidaimeMizukageGenjutsu___Spell_dies takes nothing returns nothing
            local real unit_x
            local real unit_y
            local real new_x
            local real new_y
            local integer i= 0
            if GetUnitTypeId(GetTriggerUnit()) == 'e00W' then
                call ShowUnit(GetTriggerUnit(), false)
                set unit_x=GetUnitX(GetTriggerUnit())
                set unit_y=GetUnitY(GetTriggerUnit())
                call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( unit_x )*1.0), (( unit_y)*1.0))) // INLINED!!
            endif
        endfunction
        
        function s__NidaimeMizukageGenjutsu___Spell_onInit takes nothing returns nothing
            call RegisterPlayerUnitEventForId(47 , EVENT_PLAYER_UNIT_DEATH , function s__NidaimeMizukageGenjutsu___Spell_dies)
            call RegisterSpellEffectEventForId(47 , s__NidaimeMizukageGenjutsu___Spell_SPELL_ID , function s__NidaimeMizukageGenjutsu___Spell_actions)
        endfunction
        
    
// scope NidaimeMizukageGenjutsu ends
//===========================================================================
// Trigger: NidaimeMizukageJokiBoi
//===========================================================================
// scope NidaimeMizukageJokiBoi begins

    
//Implemented from module Alloc:
    
        function s__NidaimeMizukageJokiBoi___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__NidaimeMizukageJokiBoi___Spell_Alloc__instanceCount=s__NidaimeMizukageJokiBoi___Spell_Alloc__instanceCount + 1
                set this=s__NidaimeMizukageJokiBoi___Spell_Alloc__instanceCount
            else
                set this=s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[(0)]
                set s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[(0)]=s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__NidaimeMizukageJokiBoi___Spell_deallocate takes integer this returns nothing
            set s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[this]=s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[(0)]
            set s__NidaimeMizukageJokiBoi___Spell_Alloc__recycle[(0)]=this
        endfunction
        

 function s__NidaimeMizukageJokiBoi___Spell_damagefix takes nothing returns boolean
	if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__NidaimeMizukageJokiBoi___Spell_caster[s__NidaimeMizukageJokiBoi___Spell_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
                    call StunUnitTimed(s__NidaimeMizukageJokiBoi___Spell_caster[s__NidaimeMizukageJokiBoi___Spell_instance] , GetFilterUnit() , 2.0)
                    call UnitDamageTarget(s__NidaimeMizukageJokiBoi___Spell_caster[s__NidaimeMizukageJokiBoi___Spell_instance], GetFilterUnit(), 10.0 * GetHeroInt(s__NidaimeMizukageJokiBoi___Spell_caster[s__NidaimeMizukageJokiBoi___Spell_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                endif
	return false
 endfunction

 function s__NidaimeMizukageJokiBoi___Spell_damagefix2 takes nothing returns boolean
	if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__NidaimeMizukageJokiBoi___Spell_caster[s__NidaimeMizukageJokiBoi___Spell_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
                    call UnitDamageTarget(s__NidaimeMizukageJokiBoi___Spell_caster[s__NidaimeMizukageJokiBoi___Spell_instance], GetFilterUnit(), 8.0 * GetHeroInt(s__NidaimeMizukageJokiBoi___Spell_caster[s__NidaimeMizukageJokiBoi___Spell_instance], true), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                endif
	return false
 endfunction
        
        function s__NidaimeMizukageJokiBoi___Spell_finalExplosion takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real x= GetUnitX(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])
            local real y= GetUnitY(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])
            local real randomAngle
            local real randomOffset
            local real new_x
            local real new_y
            local integer i
            call SetUnitTimeScale(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], 1.0)
            call DestroyEffect(AddSpecialEffect(("Effects\\s_Frost_Nova.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=1
            loop
                exitwhen i > 30
                set randomAngle=GetRandomReal(1, 360)
                set randomOffset=GetRandomReal(0, 600)
                set new_x=x + Cos(randomAngle * bj_DEGTORAD) * randomOffset
                set new_y=y + Sin(randomAngle * bj_DEGTORAD) * randomOffset
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__NidaimeMizukageJokiBoi___Spell_caster[this]), 'e00Z', new_x, new_y, GetRandomReal(1, 360))
                call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(0.7, 1.2))
                call SetUnitScale(bj_lastCreatedUnit, 4.0, 0, 0)
                call KillUnit(bj_lastCreatedUnit)
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
	    set s__NidaimeMizukageJokiBoi___Spell_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 600.0, Filter(function s__NidaimeMizukageJokiBoi___Spell_damagefix))
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set s__NidaimeMizukageJokiBoi___Spell_size[this]=0.7
            call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]) )*1.0), (( GetUnitY(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]))*1.0))) // INLINED!!
            call KillUnit(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])
            call ShowUnit(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], false)
            set s__NidaimeMizukageJokiBoi___Spell_caster[this]=null
            set s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]=null
            call s__NidaimeMizukageJokiBoi___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__NidaimeMizukageJokiBoi___Spell_explosion takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real x= GetUnitX(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])
            local real y= GetUnitY(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])
            local real randomAngle
            local real randomOffset
            local real new_x
            local real new_y
            local integer i
            call SetUnitTimeScale(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], 1.0)
            call DestroyEffect(AddSpecialEffect(("Effects\\s_Frost_Nova.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=1
            loop
                exitwhen i > 30
                set randomAngle=GetRandomReal(1, 360)
                set randomOffset=GetRandomReal(0, 400)
                set new_x=x + Cos(randomAngle * bj_DEGTORAD) * randomOffset
                set new_y=y + Sin(randomAngle * bj_DEGTORAD) * randomOffset
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__NidaimeMizukageJokiBoi___Spell_caster[this]), 'e00Z', new_x, new_y, GetRandomReal(1, 360))
                call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(0.7, 1.2))
                call KillUnit(bj_lastCreatedUnit)
                set i=i + 1
            endloop
            set bj_lastCreatedGroup=CreateGroup()
	    set s__NidaimeMizukageJokiBoi___Spell_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 400.0, Filter(function s__NidaimeMizukageJokiBoi___Spell_damagefix2))
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            call PauseUnit(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], false)
            call SetUnitAnimation(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], "stand")
            set s__NidaimeMizukageJokiBoi___Spell_size[this]=0.7
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__NidaimeMizukageJokiBoi___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real x= GetUnitX(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])
            local real y= GetUnitY(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])
            if s__s__NidaimeMizukageJokiBoi___Spell_suicide[(GetUnitUserData((s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])))] then // INLINED!!
                if s__NidaimeMizukageJokiBoi___Spell_size[this] < 5.0 then
                    set s__NidaimeMizukageJokiBoi___Spell_size[this]=s__NidaimeMizukageJokiBoi___Spell_size[this] + 0.2
                    call SetUnitScale(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], s__NidaimeMizukageJokiBoi___Spell_size[this], s__NidaimeMizukageJokiBoi___Spell_size[this], s__NidaimeMizukageJokiBoi___Spell_size[this])
                else
                    call SetUnitAnimation(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], "spell one")
                    call TimerStart(NewTimerEx(this), 0.5, false, function s__NidaimeMizukageJokiBoi___Spell_finalExplosion)
                endif
            else
                if GetWidgetLife(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]) < 0.405 then
                    call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    call ShowUnit(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], false)
                    set s__NidaimeMizukageJokiBoi___Spell_caster[this]=null
                    set s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]=null
                    call s__NidaimeMizukageJokiBoi___Spell_deallocate(this)
                    call ReleaseTimer(GetExpiredTimer())
                else
                    if s__NidaimeMizukageJokiBoi___Spell_size[this] < 3.0 then
                        set s__NidaimeMizukageJokiBoi___Spell_size[this]=s__NidaimeMizukageJokiBoi___Spell_size[this] + 0.03
                        call SetUnitScale(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], s__NidaimeMizukageJokiBoi___Spell_size[this], s__NidaimeMizukageJokiBoi___Spell_size[this], s__NidaimeMizukageJokiBoi___Spell_size[this])
                    elseif IsUnitPaused(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]) == false then
                        call PauseUnit(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], true)
                        call SetUnitAnimation(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], "spell one")
                        call SetUnitTimeScale(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], 2.0)
                        call TimerStart(NewTimerEx(this), 0.5, false, function s__NidaimeMizukageJokiBoi___Spell_explosion)
                    endif
                endif
            endif
        endfunction
        
        function s__NidaimeMizukageJokiBoi___Spell_actions takes nothing returns nothing
            local integer this= s__NidaimeMizukageJokiBoi___Spell_allocate()
            set s__NidaimeMizukageJokiBoi___Spell_caster[this]=GetTriggerUnit()
            set s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]=CreateUnit(GetTriggerPlayer(), 'e00Y', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
            set s__NidaimeMizukageJokiBoi___Spell_size[this]=0.7
            set s__s__NidaimeMizukageJokiBoi___Spell_suicide[(GetUnitUserData((s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this])))]= false // INLINED!!
            //call SetUnitLifePercentBJ(GetTriggerUnit(), GetUnitLifePercent(GetTriggerUnit()) - 15)
            call UnitApplyTimedLife(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], 'BTLF', 20.0)
	    call SelectUnitForPlayerSingle(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this], GetOwningPlayer(s__NidaimeMizukageJokiBoi___Spell_jokiBoi[this]))
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Gengetsu_T, 80.0, GetTriggerUnit())
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Gengetsu: I'll show you that the name of Mizukage is not just for show.|r")
            endif
            call TimerStart(NewTimerEx(this), 0.05, true, function s__NidaimeMizukageJokiBoi___Spell_periodic)
        endfunction 
        
        function s__NidaimeMizukageJokiBoi___Spell_explode takes nothing returns nothing
            set s__s__NidaimeMizukageJokiBoi___Spell_suicide[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
            call PauseUnit(GetTriggerUnit(), true)
        endfunction 
        
        function s__NidaimeMizukageJokiBoi___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(47 , 'A0YY' , function s__NidaimeMizukageJokiBoi___Spell_explode)
            call RegisterSpellEffectEventForId(47 , s__NidaimeMizukageJokiBoi___Spell_SPELL_ID , function s__NidaimeMizukageJokiBoi___Spell_actions)
        endfunction 
        
    
// scope NidaimeMizukageJokiBoi ends
//===========================================================================
// Trigger: GurenSuishoRo
//===========================================================================

//Implemented from module Alloc:
    
        function s__GureNewQ_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GureNewQ_Alloc__recycle[(0)] == 0 ) then
                set s__GureNewQ_Alloc__instanceCount=s__GureNewQ_Alloc__instanceCount + 1
                set this=s__GureNewQ_Alloc__instanceCount
            else
                set this=s__GureNewQ_Alloc__recycle[(0)]
                set s__GureNewQ_Alloc__recycle[(0)]=s__GureNewQ_Alloc__recycle[s__GureNewQ_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GureNewQ_deallocate takes integer this returns nothing
            set s__GureNewQ_Alloc__recycle[this]=s__GureNewQ_Alloc__recycle[(0)]
            set s__GureNewQ_Alloc__recycle[(0)]=this
        endfunction
    
 function s__GureNewQ_dealDamage takes nothing returns boolean
	    if GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
                if IsUnitEnemy(GetFilterUnit(), GetTriggerPlayer()) then
                    call StunUnitTimed(s__GureNewQ_caster[s__GureNewQ_instance] , GetFilterUnit() , 2.0)
                    call UnitDamageTarget(s__GureNewQ_caster[s__GureNewQ_instance], GetFilterUnit(), GetUnitAbilityLevel(s__GureNewQ_caster[s__GureNewQ_instance], s__GureNewQ_SPELL_ID) * GetHeroInt(s__GureNewQ_caster[s__GureNewQ_instance], true), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
                elseif GetUnitAbilityLevel(GetFilterUnit(), 'B02O') > 0 then
                    call SetUnitInvulnerable(GetFilterUnit(), true)
                    call PauseUnit(GetFilterUnit(), true)
                    call GroupAddUnit(s__GureNewQ_allies[s__GureNewQ_instance], GetFilterUnit())
                endif
            endif
	    return false
 endfunction
	
    function s__GureNewQ_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        loop
            set bj_lastCreatedUnit=FirstOfGroup(s__GureNewQ_allies[this])
            exitwhen bj_lastCreatedUnit == null
            call PauseUnit(bj_lastCreatedUnit, false)
            call SetUnitInvulnerable(bj_lastCreatedUnit, false)
            call GroupRemoveUnit(s__GureNewQ_allies[this], bj_lastCreatedUnit)
        endloop
        call DestroyGroup(s__GureNewQ_allies[this])
        set s__GureNewQ_allies[this]=null
        call s__GureNewQ_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__GureNewQ_actions takes nothing returns nothing
        local integer this= s__GureNewQ_allocate()
        set s__GureNewQ_caster[this]=GetTriggerUnit()
        set s__GureNewQ_allies[this]=CreateGroup()
	call DestroyEffect(AddSpecialEffect(("war3mapImported\\Purple Explosion.mdx" ), (( GetSpellTargetX() )*1.0), (( GetSpellTargetY())*1.0))) // INLINED!!
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h06A', GetSpellTargetX(), GetSpellTargetY(), 270)
	call SetUnitScale(bj_lastCreatedUnit, 2.0, 0, 0)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        set bj_lastCreatedGroup=CreateGroup()
		set s__GureNewQ_instance=this
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 200, Filter(function s__GureNewQ_dealDamage))
        call DestroyGroup(bj_lastCreatedGroup)
        call TimerStart(NewTimerEx(this), 2.0, false, function s__GureNewQ_finish)
    endfunction 
    
    function s__GureNewQ_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(58 , s__GureNewQ_SPELL_ID , function s__GureNewQ_actions)
    endfunction 
    
//===========================================================================
// Trigger: GurenSuishoHibari
//===========================================================================
function Trig_GurenSuishoHibari_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0HI' ) ) then
        return false
    endif
    return true
endfunction

function Trig_GurenSuishoHibari_Actions takes nothing returns nothing
    set udg_Guren_W_Caster=GetTriggerUnit()
    set udg_Guren_W_Point[1]=GetUnitLoc(GetTriggerUnit())
    set udg_Guren_W_Point[2]=GetSpellTargetLoc()
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=8
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Guren_W_Point[( 2 + GetForLoopIndexA() )]=PolarProjectionBJ(udg_Guren_W_Point[1], ( 0.00 + ( 100.00 * I2R(GetForLoopIndexA()) ) ), AngleBetweenPoints(udg_Guren_W_Point[1], udg_Guren_W_Point[2]))
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    set udg_Guren_W_Count=0
    call GroupClear(udg_Guren_W_Group)
    call TriggerSleepAction(0.10)
    call EnableTrigger(gg_trg_GurenSuishoHibariLOOP)
endfunction

//===========================================================================
function InitTrig_GurenSuishoHibari takes nothing returns nothing
    set gg_trg_GurenSuishoHibari=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_GurenSuishoHibari, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_GurenSuishoHibari, Condition(function Trig_GurenSuishoHibari_Conditions))
    call TriggerAddAction(gg_trg_GurenSuishoHibari, function Trig_GurenSuishoHibari_Actions)
    call EnableTriggerForId(58 , gg_trg_GurenSuishoHibari)
endfunction


//===========================================================================
// Trigger: GurenSuishoHibariLOOP
//===========================================================================
function Trig_GurenSuishoHibariLOOP_Func002Func002001003001 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Guren_W_Caster)) == true )
endfunction

function Trig_GurenSuishoHibariLOOP_Func002Func002001003002 takes nothing returns boolean
    return ( IsUnitInGroup(GetFilterUnit(), udg_Guren_W_Group) == false )
endfunction

function Trig_GurenSuishoHibariLOOP_Func002Func002001003 takes nothing returns boolean
    return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Guren_W_Caster)) == true), (IsUnitInGroup(GetFilterUnit(), udg_Guren_W_Group) == false)) // INLINED!!
endfunction

function Trig_GurenSuishoHibariLOOP_Func002Func002A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Guren_W_Caster, GetEnumUnit(), ( 80.00 * I2R(GetUnitAbilityLevelSwapped('A0HI', udg_Guren_W_Caster)) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
    call GroupAddUnitSimple(GetEnumUnit(), udg_Guren_W_Group)
endfunction

function Trig_GurenSuishoHibariLOOP_Func002C takes nothing returns boolean
    if ( not ( udg_Guren_W_Count > 8 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GurenSuishoHibariLOOP_Actions takes nothing returns nothing
    set udg_Guren_W_Count=( udg_Guren_W_Count + 1 )
    if ( Trig_GurenSuishoHibariLOOP_Func002C() ) then
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=10
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call RemoveLocation(udg_Guren_W_Point[GetForLoopIndexA()])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call DisableTrigger(GetTriggeringTrigger())
    else
        set bj_wantDestroyGroup=true
        call ForGroupBJ(GetUnitsInRangeOfLocMatching(180.00, udg_Guren_W_Point[( udg_Guren_W_Count + 2 )], Condition(function Trig_GurenSuishoHibariLOOP_Func002Func002001003)), function Trig_GurenSuishoHibariLOOP_Func002Func002A)
        //if ModuloInteger(udg_Guren_W_Count, 2) == 0 then
		call CreateNUnitsAtLoc(1, 'h06A', Player(PLAYER_NEUTRAL_PASSIVE), udg_Guren_W_Point[( 2 + udg_Guren_W_Count )], AngleBetweenPoints(udg_Guren_W_Point[1], udg_Guren_W_Point[2]))
        	call SetUnitScale(bj_lastCreatedUnit, 1.0, 0, 0)
		call UnitApplyTimedLifeBJ(1.00, 'BTLF', GetLastCreatedUnit())
		//set bj_lastCreatedEffect = AddSpecialEffect("war3mapImported\\Purple Explosion.mdx", GetLocationX(udg_Guren_W_Point[( 2 + udg_Guren_W_Count )]), GetLocationY(udg_Guren_W_Point[( 2 + udg_Guren_W_Count )]))
		//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.7)
		//call DestroyEffect(bj_lastCreatedEffect)
	//endif
    endif
endfunction

//===========================================================================
function InitTrig_GurenSuishoHibariLOOP takes nothing returns nothing
    set gg_trg_GurenSuishoHibariLOOP=CreateTrigger()
    call DisableTrigger(gg_trg_GurenSuishoHibariLOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_GurenSuishoHibariLOOP, 0.15)
    call TriggerAddAction(gg_trg_GurenSuishoHibariLOOP, function Trig_GurenSuishoHibariLOOP_Actions)
endfunction


//===========================================================================
// Trigger: GurenNewSemi
//===========================================================================

//Implemented from module Alloc:
    
        function s__GurenNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GurenNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__GurenNewSemi_Alloc__instanceCount=s__GurenNewSemi_Alloc__instanceCount + 1
                set this=s__GurenNewSemi_Alloc__instanceCount
            else
                set this=s__GurenNewSemi_Alloc__recycle[(0)]
                set s__GurenNewSemi_Alloc__recycle[(0)]=s__GurenNewSemi_Alloc__recycle[s__GurenNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GurenNewSemi_deallocate takes integer this returns nothing
            set s__GurenNewSemi_Alloc__recycle[this]=s__GurenNewSemi_Alloc__recycle[(0)]
            set s__GurenNewSemi_Alloc__recycle[(0)]=this
        endfunction

 function s__GurenNewSemi_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x
  local real y
  local real new_x
  local real new_y
  local group g
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__GurenNewSemi_missiles[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			set x=GetUnitX(bj_lastCreatedUnit)
			set y=GetUnitY(bj_lastCreatedUnit)
			set new_x=(((x )*1.0) + Cos((( Deg2Rad(GetUnitFacing(bj_lastCreatedUnit)) )*1.0)) * (( 25)*1.0)) // INLINED!!
			set new_y=(((y )*1.0) + Sin((( Deg2Rad(GetUnitFacing(bj_lastCreatedUnit)) )*1.0)) * (( 25)*1.0)) // INLINED!!
			call SetUnitX(bj_lastCreatedUnit, new_x)
			call SetUnitY(bj_lastCreatedUnit, new_y)
			if ModuloInteger(s__GurenNewSemi_count[this], 2) == 0 then
				call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
				call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
			endif
			set g=CreateGroup()
			call GroupEnumUnitsInRange(g, new_x, new_y, 180, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(g)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(g, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__GurenNewSemi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__GurenNewSemi_damaged[this]) then
					call GroupAddUnit(s__GurenNewSemi_damaged[this], bj_lastCreatedUnit)
					call UnitDamageTarget(s__GurenNewSemi_caster[this], bj_lastCreatedUnit, 6 * GetHeroInt(s__GurenNewSemi_caster[this], true) + 1250 * GetUnitAbilityLevel(s__GurenNewSemi_caster[this], s__GurenNewSemi_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
					//call AddSpecialEffectEx("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
				endif
			endloop
			call DestroyGroup(g)
			set g=null
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__GurenNewSemi_count[this]=s__GurenNewSemi_count[this] + 1
		if s__GurenNewSemi_count[this] > 24 then
			//call SetUnitInvulnerable(this.caster, false)
			call PauseUnit(s__GurenNewSemi_caster[this], false)
			call SetUnitFlyHeight(s__GurenNewSemi_caster[this], 0, 2000)
			call KillUnit(s__GurenNewSemi_crystal[this])
			call ShowUnit(s__GurenNewSemi_crystal[this], false)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__GurenNewSemi_missiles[this])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__GurenNewSemi_missiles[this], bj_lastCreatedUnit)
				call s__Lightning_release((s__s__GurenNewSemi_lights[(GetUnitUserData((bj_lastCreatedUnit)))]),0.) // INLINED!!
				call KillUnit(bj_lastCreatedUnit)
			endloop
			call DestroyGroup(s__GurenNewSemi_missiles[this])
			set s__GurenNewSemi_missiles[this]=null
			set s__GurenNewSemi_crystal[this]=null
			call DestroyGroup(s__GurenNewSemi_damaged[this])
			set s__GurenNewSemi_damaged[this]=null
			call s__GurenNewSemi_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__GurenNewSemi_delay takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer i= 0
		loop
			set i=i + 1
			exitwhen i > 12
			set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__GurenNewSemi_caster[this]), 'e007', GetUnitX(s__GurenNewSemi_caster[this]), GetUnitY(s__GurenNewSemi_caster[this]), 30 * i)
			set s__s__GurenNewSemi_lights[(GetUnitUserData((bj_lastCreatedUnit)))]= s__Lightning_create("DRAM" , true , 0.2) // INLINED!!
			call s__Lightning_attachToPoint(s__s__GurenNewSemi_lights[(GetUnitUserData((bj_lastCreatedUnit)))],true , GetUnitX(s__GurenNewSemi_crystal[this]) , GetUnitY(s__GurenNewSemi_crystal[this]) , GetUnitFlyHeight(s__GurenNewSemi_crystal[this]) - 50 , true) // INLINED!!
			call s__Lightning_attachToUnit(s__s__GurenNewSemi_lights[(GetUnitUserData((bj_lastCreatedUnit)))],false , bj_lastCreatedUnit , 0) // INLINED!!
			call GroupAddUnit(s__GurenNewSemi_missiles[this], bj_lastCreatedUnit)
		endloop
		call TimerStart(NewTimerEx(this), 0.03, true, function s__GurenNewSemi_periodic)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__GurenNewSemi_actions takes nothing returns nothing
  local integer this= s__GurenNewSemi_allocate()
		set s__GurenNewSemi_caster[this]=GetTriggerUnit()
		set s__GurenNewSemi_crystal[this]=CreateUnit(GetTriggerPlayer(), 'e01X', GetUnitX(s__GurenNewSemi_caster[this]), GetUnitY(s__GurenNewSemi_caster[this]), 270)
		set s__GurenNewSemi_count[this]=0
		set s__GurenNewSemi_dist[this]=150
		set s__GurenNewSemi_damaged[this]=CreateGroup()
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call PlaySoundOnUnitBJ(gg_snd_Guren_R, 80.0, GetTriggerUnit())
    endif
		call PauseUnit(s__GurenNewSemi_caster[this], true)
		call SetUnitAnimation(s__GurenNewSemi_caster[this], "stand")
		call UnitAddAbility(s__GurenNewSemi_caster[this], 'Arav')
		call UnitRemoveAbility(s__GurenNewSemi_caster[this], 'Arav')
		call UnitAddAbility(s__GurenNewSemi_crystal[this], 'Arav')
		call UnitRemoveAbility(s__GurenNewSemi_crystal[this], 'Arav')
		call SetUnitFlyHeight(s__GurenNewSemi_caster[this], 450, 5000)
		call SetUnitFlyHeight(s__GurenNewSemi_crystal[this], 500, 5000)
		set s__GurenNewSemi_missiles[this]=CreateGroup()
		//call SetUnitInvulnerable(this.caster, true)
		call TimerStart(NewTimerEx(this), 0.1, false, function s__GurenNewSemi_delay)
 endfunction 

 function s__GurenNewSemi_onInit takes nothing returns nothing
        	call RegisterSpellEffectEventForId(58 , s__GurenNewSemi_SPELL_ID , function s__GurenNewSemi_actions)
 endfunction 

//===========================================================================
// Trigger: GurenHasho
//===========================================================================
function Trig_GurenHasho_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0HL' ) ) then
        return false
    endif
    return true
endfunction

function Trig_GurenHasho_Actions takes nothing returns nothing
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call PlaySoundOnUnitBJ(gg_snd_Guren_T, 100.0, GetTriggerUnit())
    endif
    set udg_Guren_T_Caster=GetTriggerUnit()
    set udg_Guren_T_Target=CreateUnit(GetTriggerPlayer(), 'e007', GetSpellTargetX(), GetSpellTargetY(), 270)
    set udg_Guren_T_Point[1]=GetUnitLoc(GetTriggerUnit())
    set udg_Guren_T_Point[2]=GetUnitLoc(udg_Guren_T_Target)
    set udg_Guren_T_Angle=AngleBetweenPoints(udg_Guren_T_Point[1], udg_Guren_T_Point[2])
    set udg_Guren_T_Count=0
    set udg_Guren_T_Count2=0
    set udg_Guren_T_Count3=0
    set udg_Guren_T_Bool=false
    call CreateNUnitsAtLoc(1, 'e007', GetTriggerPlayer(), udg_Guren_T_Point[1], udg_Guren_T_Angle)
    set udg_Guren_T_Dummy=GetLastCreatedUnit()
    call PauseUnitBJ(true, udg_Guren_T_Caster)
    call SetUnitFlyHeightBJ(udg_Guren_T_Caster, 200.00, 220.00)
    //call SetUnitAnimation( udg_Guren_T_Caster, "morph" )
    call AddUnitAnimationProperties(udg_Guren_T_Caster, "alternate", true)
    call SetUnitAnimationByIndex(udg_Guren_T_Caster, 0)
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "TRIGSTR_1234")
    endif
    call EnableTrigger(gg_trg_GurenHashoLOOP)
endfunction

//===========================================================================
function InitTrig_GurenHasho takes nothing returns nothing
    set gg_trg_GurenHasho=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_GurenHasho, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_GurenHasho, Condition(function Trig_GurenHasho_Conditions))
    call TriggerAddAction(gg_trg_GurenHasho, function Trig_GurenHasho_Actions)
    call EnableTriggerForId(58 , gg_trg_GurenHasho)
endfunction


//===========================================================================
// Trigger: GurenHashoLOOP
//===========================================================================
function Trig_GurenHashoLOOP_Func001Func001C takes nothing returns boolean
    if ( not ( udg_Guren_T_Count2 < - 15 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GurenHashoLOOP_Func001C takes nothing returns boolean
    if ( not ( udg_Guren_T_Count2 > 15 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GurenHashoLOOP_Func002C takes nothing returns boolean
    if ( not ( udg_Guren_T_Bool == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GurenHashoLOOP_Func007Func003001003 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Guren_T_Caster)) == true )
endfunction

function Trig_GurenHashoLOOP_Func007Func003A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_Guren_T_Caster, GetEnumUnit(), ( 10.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_Guren_T_Caster, true)) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_GurenHashoLOOP_Func007C takes nothing returns boolean
    return DistanceBetweenPoints(udg_Guren_T_Point[3], udg_Guren_T_Point[4]) <= 50.00 and udg_Guren_T_Count3 > 1
endfunction

function Trig_GurenHashoLOOP_Actions takes nothing returns nothing
    if ( Trig_GurenHashoLOOP_Func001C() ) then
        set udg_Guren_T_Bool=true
    else
        if ( Trig_GurenHashoLOOP_Func001Func001C() ) then
            set udg_Guren_T_Bool=false
        else
        endif
    endif
    if ( Trig_GurenHashoLOOP_Func002C() ) then
        set udg_Guren_T_Count2=( udg_Guren_T_Count2 - 1 )
    else
        set udg_Guren_T_Count2=( udg_Guren_T_Count2 + 1 )
    endif
    set udg_Guren_T_Count3=udg_Guren_T_Count3 + 1
    if udg_Guren_T_Count3 == 1 then
	call SetUnitAnimationByIndex(udg_Guren_T_Caster, 0)
    endif
    set udg_Guren_T_Point[3]=GetUnitLoc(udg_Guren_T_Dummy)
    set udg_Guren_T_Point[4]=GetUnitLoc(udg_Guren_T_Target)
    set udg_Guren_T_Angle=( AngleBetweenPoints(udg_Guren_T_Point[3], udg_Guren_T_Point[4]) + ( I2R(udg_Guren_T_Count2) * 6.00 ) )
    set udg_Guren_T_Point[5]=PolarProjectionBJ(udg_Guren_T_Point[3], 35.00, udg_Guren_T_Angle)
    if ( (DistanceBetweenPoints(udg_Guren_T_Point[3], udg_Guren_T_Point[4]) <= 50.00 and udg_Guren_T_Count3 > 1) ) then // INLINED!!
        //call StunUnitTimed(udg_Guren_T_Caster, udg_Guren_T_Target, 1.5)
        set bj_wantDestroyGroup=true
        call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00, udg_Guren_T_Point[4], Condition(function Trig_GurenHashoLOOP_Func007Func003001003)), function Trig_GurenHashoLOOP_Func007Func003A)
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=5
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call CreateNUnitsAtLoc(1, 'h03E', Player(PLAYER_NEUTRAL_PASSIVE), udg_Guren_T_Point[4], GetRandomDirectionDeg())
	    call SetUnitScale(bj_lastCreatedUnit, 3.0, 0, 0)
	    call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(0.3, 0.5))
	    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)

        	call CreateNUnitsAtLoc(1, 'h06A', Player(PLAYER_NEUTRAL_PASSIVE), udg_Guren_T_Point[4], GetRandomReal(0, 360))
        	call h__SetUnitScalePercent(GetLastCreatedUnit(), 400.00, 400.00, 400.00)
        	call KillUnit(GetLastCreatedUnit())

            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call RemoveUnit(udg_Guren_T_Dummy)
	
	call DestroyEffect(AddSpecialEffect(("war3mapImported\\Purple Explosion.mdx" ), (( GetLocationX(udg_Guren_T_Point[4]) )*1.0), (( GetLocationY(udg_Guren_T_Point[4]))*1.0))) // INLINED!!

        call PauseUnitBJ(false, udg_Guren_T_Caster)
	call SetUnitAnimation(udg_Guren_T_Caster, "morph")
        call AddUnitAnimationProperties(udg_Guren_T_Caster, "alternate", false)
        call SetUnitFlyHeightBJ(udg_Guren_T_Caster, 0.00, 2000.00)
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=5
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call RemoveLocation(udg_Guren_T_Point[GetForLoopIndexA()])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
	call KillUnit(udg_Guren_T_Target)
        call DisableTrigger(GetTriggeringTrigger())
    else
        call SetUnitPositionLocFacingBJ(udg_Guren_T_Dummy, udg_Guren_T_Point[5], udg_Guren_T_Angle)
        call SetUnitPositionLocFacingBJ(udg_Guren_T_Caster, udg_Guren_T_Point[5], udg_Guren_T_Angle)
        call CreateNUnitsAtLoc(1, 'h06A', Player(PLAYER_NEUTRAL_PASSIVE), udg_Guren_T_Point[3], bj_UNIT_FACING)
        call KillUnit(GetLastCreatedUnit())
        set bj_forLoopAIndex=3
        set bj_forLoopAIndexEnd=5
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call RemoveLocation(udg_Guren_T_Point[GetForLoopIndexA()])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    endif
endfunction

//===========================================================================
function InitTrig_GurenHashoLOOP takes nothing returns nothing
    set gg_trg_GurenHashoLOOP=CreateTrigger()
    call DisableTrigger(gg_trg_GurenHashoLOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_GurenHashoLOOP, 0.02)
    call TriggerAddAction(gg_trg_GurenHashoLOOP, function Trig_GurenHashoLOOP_Actions)
endfunction


//===========================================================================
// Trigger: GurenBash
//===========================================================================
//TESH.scrollpos=0
//TESH.alwaysfold=0
//A0DE
//A0DD => STUN
//Implemented from module Alloc:
    
        function s__GurenBash_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GurenBash_Alloc__recycle[(0)] == 0 ) then
                set s__GurenBash_Alloc__instanceCount=s__GurenBash_Alloc__instanceCount + 1
                set this=s__GurenBash_Alloc__instanceCount
            else
                set this=s__GurenBash_Alloc__recycle[(0)]
                set s__GurenBash_Alloc__recycle[(0)]=s__GurenBash_Alloc__recycle[s__GurenBash_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GurenBash_deallocate takes integer this returns nothing
            set s__GurenBash_Alloc__recycle[this]=s__GurenBash_Alloc__recycle[(0)]
            set s__GurenBash_Alloc__recycle[(0)]=this
        endfunction
    
    function s__GurenBash_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if GetUnitAbilityLevel(s__GurenBash_target[this], 'B02O') == 0 then
            call UnitRemoveAbility(s__GurenBash_target[this], 'A0DE')
            set s__GurenBash_target[this]=null
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__GurenBash_actions takes nothing returns nothing
        local integer this= s__GurenBash_allocate()
        set s__GurenBash_target[this]=GetSpellTargetUnit()
        call UnitAddAbility(s__GurenBash_target[this], 'A0DE')
        call SetUnitAbilityLevel(s__GurenBash_target[this], 'A0DD', GetUnitAbilityLevel(GetTriggerUnit(), s__GurenBash_SPELL_ID))
        call TimerStart(NewTimerEx(this), 0.1, true, function s__GurenBash_periodic)
    endfunction
    
    function s__GurenBash_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(58 , s__GurenBash_SPELL_ID , function s__GurenBash_actions)
    endfunction
    
//===========================================================================
// Trigger: GurenCrystalLabyrinth
//===========================================================================

//Implemented from module Alloc:
    
        function s__GurenCrystalLabyrinth_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__GurenCrystalLabyrinth_Alloc__recycle[(0)] == 0 ) then
                set s__GurenCrystalLabyrinth_Alloc__instanceCount=s__GurenCrystalLabyrinth_Alloc__instanceCount + 1
                set this=s__GurenCrystalLabyrinth_Alloc__instanceCount
            else
                set this=s__GurenCrystalLabyrinth_Alloc__recycle[(0)]
                set s__GurenCrystalLabyrinth_Alloc__recycle[(0)]=s__GurenCrystalLabyrinth_Alloc__recycle[s__GurenCrystalLabyrinth_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__GurenCrystalLabyrinth_deallocate takes integer this returns nothing
            set s__GurenCrystalLabyrinth_Alloc__recycle[this]=s__GurenCrystalLabyrinth_Alloc__recycle[(0)]
            set s__GurenCrystalLabyrinth_Alloc__recycle[(0)]=this
        endfunction
    
    function s__GurenCrystalLabyrinth_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        loop
            set bj_lastCreatedUnit=FirstOfGroup(s__GurenCrystalLabyrinth_units[this])
            exitwhen bj_lastCreatedUnit == null
            //if IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(this.caster)) then
                call SetUnitInvulnerable(bj_lastCreatedUnit, false)
            //endif
            call PauseUnit(bj_lastCreatedUnit, false)
            call GroupRemoveUnit(s__GurenCrystalLabyrinth_units[this], bj_lastCreatedUnit)
        endloop
        call DestroyGroup(s__GurenCrystalLabyrinth_units[this])
        set s__GurenCrystalLabyrinth_units[this]=null
        set s__GurenCrystalLabyrinth_caster[this]=null
        call s__GurenCrystalLabyrinth_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__GurenCrystalLabyrinth_actions takes nothing returns nothing
        local integer this= s__GurenCrystalLabyrinth_allocate()
        set s__GurenCrystalLabyrinth_caster[this]=GetTriggerUnit()
        set s__GurenCrystalLabyrinth_units[this]=CreateGroup()
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__GurenCrystalLabyrinth_caster[this]), GetUnitY(s__GurenCrystalLabyrinth_caster[this]), 1000, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and bj_lastCreatedUnit != s__GurenCrystalLabyrinth_caster[this] then
                //if GetUnitAbilityLevel(bj_lastCreatedUnit, 'B02O') == 0 then
                    call PauseUnit(bj_lastCreatedUnit, true)
                //endif
                //if IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(this.caster)) then
                    call SetUnitInvulnerable(bj_lastCreatedUnit, true)
                //endif 
                call GroupAddUnit(s__GurenCrystalLabyrinth_units[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
	set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h03E', GetUnitX(s__GurenCrystalLabyrinth_caster[this]), GetUnitY(s__GurenCrystalLabyrinth_caster[this]), 270)
	call SetUnitScale(bj_lastCreatedUnit, 2.0, 0.0, 0.0)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h06A', GetUnitX(s__GurenCrystalLabyrinth_caster[this]), GetUnitY(s__GurenCrystalLabyrinth_caster[this]), GetUnitFacing(s__GurenCrystalLabyrinth_caster[this]))
	call UnitAddAbility(bj_lastCreatedUnit, 'A00I')
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
        call SetUnitScale((bj_lastCreatedUnit ), (( 10 )*1.0), (( 10 )*1.0), (( 10)*1.0)) // INLINED!!
        call AddLoadingBar(s__GurenCrystalLabyrinth_caster[this] , 3.0)
        call TimerStart(NewTimerEx(this), 3.0, false, function s__GurenCrystalLabyrinth_finish)
    endfunction
    
    function s__GurenCrystalLabyrinth_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(58 , s__GurenCrystalLabyrinth_SPELL_ID , function s__GurenCrystalLabyrinth_actions)
    endfunction
    
//===========================================================================
// Trigger: HakuNewD
//===========================================================================

    //B04U
//Implemented from module Alloc:
    
        function s__HakuDomo_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HakuDomo_Alloc__recycle[(0)] == 0 ) then
                set s__HakuDomo_Alloc__instanceCount=s__HakuDomo_Alloc__instanceCount + 1
                set this=s__HakuDomo_Alloc__instanceCount
            else
                set this=s__HakuDomo_Alloc__recycle[(0)]
                set s__HakuDomo_Alloc__recycle[(0)]=s__HakuDomo_Alloc__recycle[s__HakuDomo_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HakuDomo_deallocate takes integer this returns nothing
            set s__HakuDomo_Alloc__recycle[this]=s__HakuDomo_Alloc__recycle[(0)]
            set s__HakuDomo_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HakuDomo_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        local real x
        local real y
        local real angle
        set bj_lastCreatedGroup=CreateGroup()
        call GroupAddGroup(s__HakuDomo_damaged[this], bj_lastCreatedGroup)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(s__HakuDomo_damaged[this])
            exitwhen bj_lastCreatedUnit == null
            if GetDistanceUnits(bj_lastCreatedUnit , s__HakuDomo_domo[this]) > 400 then
                if not IsUnitPaused(bj_lastCreatedUnit) and not IsUnitHidden(bj_lastCreatedUnit) then
                    set angle=Atan3(GetUnitX(s__HakuDomo_domo[this]) , GetUnitY(s__HakuDomo_domo[this]) , GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit))
                    set x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( angle )*1.0)) * (( 400)*1.0)) // INLINED!!
                    set y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( angle )*1.0)) * (( 400)*1.0)) // INLINED!!
                    call SetUnitX(bj_lastCreatedUnit, x)
                    call SetUnitY(bj_lastCreatedUnit, y)
                else
                    call GroupRemoveUnit(s__HakuDomo_damaged[this], bj_lastCreatedUnit)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__HakuDomo_count[this]=s__HakuDomo_count[this] + 1
        if s__HakuDomo_count[this] > 33 * 5 then
            set i=0
            loop
                exitwhen i > 23
                call RemoveDestructable(s__s__HakuDomo_blocks[(this)*(1)+i])
                set s__s__HakuDomo_blocks[(this)*(1)+i]= null
                set i=i + 1
            endloop
            call SetUnitPathing(s__HakuDomo_caster[this], true)
            set s__HakuDomo_caster[this]=null
            call KillUnit(s__HakuDomo_domo[this])
            set s__HakuDomo_domo[this]=null
            call DestroyGroup(s__HakuDomo_damaged[this])
            set s__HakuDomo_damaged[this]=null
            call s__HakuDomo_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__HakuDomo_actions takes nothing returns nothing
        local integer this= s__HakuDomo_allocate()
        local integer i
        local real x
        local real y
        set s__HakuDomo_caster[this]=GetTriggerUnit()
        set s__HakuDomo_domo[this]=CreateUnit(GetTriggerPlayer(), 'e05T', GetUnitX(s__HakuDomo_caster[this]), GetUnitY(s__HakuDomo_caster[this]), 270)
        set i=0
        loop
            exitwhen i > 23
            set x=(((GetUnitX(s__HakuDomo_caster[this]) )*1.0) + Cos((( Deg2Rad(360 / 24.0 * i) )*1.0)) * (( 400.0)*1.0)) // INLINED!!
            set y=(((GetUnitY(s__HakuDomo_caster[this]) )*1.0) + Sin((( Deg2Rad(360 / 24.0 * i) )*1.0)) * (( 400.0)*1.0)) // INLINED!!
            set s__s__HakuDomo_blocks[(this)*(1)+i]= CreateDestructable('YTfb', x, y, GetRandomReal(0, 360), 1.0, 0)
            set i=i + 1
        endloop
        set bj_lastCreatedUnit=GetInvisibleDummy(GetTriggerPlayer() , GetUnitX(s__HakuDomo_caster[this]) , GetUnitY(s__HakuDomo_caster[this]))
call UnitAddAbility((bj_lastCreatedUnit ), ( 'A0VO')) // INLINED!!
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        call AddLoadingBar(s__HakuDomo_caster[this] , 5.0)
        set s__HakuDomo_damaged[this]=CreateGroup()
        set bj_lastCreatedGroup=CreateGroup()
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) then
                call GroupAddUnit(s__HakuDomo_damaged[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__HakuDomo_count[this]=0
        call SetUnitPathing(s__HakuDomo_caster[this], false)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HakuDomo_finish)
    endfunction
    
    function s__HakuDomo_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(52 , s__HakuDomo_SPELL_ID , function s__HakuDomo_actions)
    endfunction
    
//===========================================================================
// Trigger: HakuNewBackslash
//===========================================================================

//Implemented from module Alloc:
    
        function s__HakuNewBackslash_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HakuNewBackslash_Alloc__recycle[(0)] == 0 ) then
                set s__HakuNewBackslash_Alloc__instanceCount=s__HakuNewBackslash_Alloc__instanceCount + 1
                set this=s__HakuNewBackslash_Alloc__instanceCount
            else
                set this=s__HakuNewBackslash_Alloc__recycle[(0)]
                set s__HakuNewBackslash_Alloc__recycle[(0)]=s__HakuNewBackslash_Alloc__recycle[s__HakuNewBackslash_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HakuNewBackslash_deallocate takes integer this returns nothing
            set s__HakuNewBackslash_Alloc__recycle[this]=s__HakuNewBackslash_Alloc__recycle[(0)]
            set s__HakuNewBackslash_Alloc__recycle[(0)]=this
        endfunction
    
 function s__HakuNewBackslash_dealDamage takes nothing returns boolean
     local unit u
	    if GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HakuNewBackslash_caster[s__HakuNewBackslash_instance])) then
                    call UnitDamageTarget(s__HakuNewBackslash_caster[s__HakuNewBackslash_instance], GetFilterUnit(), GetHeroInt(s__HakuNewBackslash_caster[s__HakuNewBackslash_instance], true) * GetUnitAbilityLevel(s__HakuNewBackslash_caster[s__HakuNewBackslash_instance], s__HakuNewBackslash_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
                    //call StunUnitTimed(instance.caster, GetFilterUnit(), 2.0)
		    if GetUnitAbilityLevel(GetFilterUnit(), 'B015') > 0 then
			call StunUnitTimed(s__HakuNewBackslash_caster[s__HakuNewBackslash_instance] , GetFilterUnit() , 1.0)
		    endif
		    if GetUnitAbilityLevel(s__HakuNewBackslash_caster[s__HakuNewBackslash_instance], 'B04U') > 0 and GetRandomInt(1, 4) == 1 then
                        set u=CreateAbilityDummy(s__HakuNewBackslash_caster[s__HakuNewBackslash_instance] , 'A0VP')
                        call IssueTargetOrder(u, "entanglingroots", GetFilterUnit())
                    endif
	
                endif
	
	
	    return false
 endfunction
	
    function s__HakuNewBackslash_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= Atan3(GetUnitX(s__HakuNewBackslash_caster[this]) , GetUnitY(s__HakuNewBackslash_caster[this]) , s__HakuNewBackslash_target_x[this] , s__HakuNewBackslash_target_y[this])
        local real x= (((GetUnitX(s__HakuNewBackslash_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 50.0)*1.0)) // INLINED!!
        local real y= (((GetUnitY(s__HakuNewBackslash_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 50.0)*1.0)) // INLINED!!
        local integer i
        local integer j
        local unit u
        call SetUnitX(s__HakuNewBackslash_caster[this], x)
        call SetUnitY(s__HakuNewBackslash_caster[this], y)
        call SetUnitX(s__HakuNewBackslash_light[this], x)
        call SetUnitY(s__HakuNewBackslash_light[this], y)
        set s__HakuNewBackslash_count[this]=s__HakuNewBackslash_count[this] + 1
        if GetDistance(x , y , s__HakuNewBackslash_target_x[this] , s__HakuNewBackslash_target_y[this]) <= 100 or s__HakuNewBackslash_count[this] >= 20 then
            set i=0
            loop
                set i=i + 1
                exitwhen i > 3
                set j=0
                loop
                    set j=j + 1
                    exitwhen j > 10
                    set x=(((s__HakuNewBackslash_target_x[this] )*1.0) + Cos((( Deg2Rad(36 * j) )*1.0)) * (( 60 * i)*1.0)) // INLINED!!
                    set y=(((s__HakuNewBackslash_target_y[this] )*1.0) + Sin((( Deg2Rad(36 * j) )*1.0)) * (( 60 * i)*1.0)) // INLINED!!
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                endloop
            endloop
            set bj_lastCreatedUnit=CreateAbilityDummy(s__HakuNewBackslash_caster[this] , 'A0VN')
            call IssueImmediateOrder(bj_lastCreatedUnit, "thunderclap")
            set bj_lastCreatedGroup=CreateGroup()
			set s__HakuNewBackslash_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HakuNewBackslash_target_x[this], s__HakuNewBackslash_target_y[this], 300.0, Filter(function s__HakuNewBackslash_dealDamage))
            set u=null
            call DestroyGroup(bj_lastCreatedGroup)
            call PauseUnit(s__HakuNewBackslash_caster[this], false)
            call ShowUnit(s__HakuNewBackslash_caster[this], true)
            call SelectUnitForPlayerSingle(s__HakuNewBackslash_caster[this], GetOwningPlayer(s__HakuNewBackslash_caster[this]))
            call RecycleUnit(s__HakuNewBackslash_light[this])
            call RecycleUnit(s__HakuNewBackslash_mirror[this])
            set s__HakuNewBackslash_light[this]=null
            set s__HakuNewBackslash_mirror[this]=null
            call s__HakuNewBackslash_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HakuNewBackslash_actions takes nothing returns nothing
        local integer this= s__HakuNewBackslash_allocate()
        set s__HakuNewBackslash_caster[this]=GetTriggerUnit()
        set s__HakuNewBackslash_mirror[this]=(CreateUnit((GetTriggerPlayer() ), ( 'e01L' ), (( GetSpellTargetX() )*1.0), (( GetSpellTargetY() )*1.0), (( GetUnitFacing(GetTriggerUnit()))*1.0))) // INLINED!!
	call SetUnitScale(s__HakuNewBackslash_mirror[this], 1.3, 1.3, 1.3)
        set s__HakuNewBackslash_count[this]=0
        set s__HakuNewBackslash_light[this]=GetDummy(GetTriggerPlayer() , "Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl" , GetUnitX(s__HakuNewBackslash_caster[this]) , GetUnitY(s__HakuNewBackslash_caster[this]) , GetUnitFacing(s__HakuNewBackslash_caster[this]))
        call SetUnitFlyHeight(s__HakuNewBackslash_light[this], 60, 0)
        set s__HakuNewBackslash_target_x[this]=GetSpellTargetX()
        set s__HakuNewBackslash_target_y[this]=GetSpellTargetY()
        call PauseUnit(s__HakuNewBackslash_caster[this], true)
        call ShowUnit(s__HakuNewBackslash_caster[this], false)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HakuNewBackslash_periodic)
    endfunction 
    
    function s__HakuNewBackslash_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(52 , s__HakuNewBackslash_SPELL_ID , function s__HakuNewBackslash_actions)
    endfunction 
    

//===========================================================================
// Trigger: HakuHissatsu
//===========================================================================

//Implemented from module Alloc:
    
        function s__HakuHissatsu_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HakuHissatsu_Alloc__recycle[(0)] == 0 ) then
                set s__HakuHissatsu_Alloc__instanceCount=s__HakuHissatsu_Alloc__instanceCount + 1
                set this=s__HakuHissatsu_Alloc__instanceCount
            else
                set this=s__HakuHissatsu_Alloc__recycle[(0)]
                set s__HakuHissatsu_Alloc__recycle[(0)]=s__HakuHissatsu_Alloc__recycle[s__HakuHissatsu_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HakuHissatsu_deallocate takes integer this returns nothing
            set s__HakuHissatsu_Alloc__recycle[this]=s__HakuHissatsu_Alloc__recycle[(0)]
            set s__HakuHissatsu_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HakuHissatsu_destroy takes integer this returns nothing
        local unit v
        local integer i
        set i=1
        loop
            exitwhen i > 30
            set v=(s__UnitDex_Unit[((LoadInteger(Table___ht, (s__HakuHissatsu_needles[this]), (i))))]) // INLINED!!
            call RecycleUnit(v)
            set i=i + 1
        endloop
        call s__Table_destroy(s__HakuHissatsu_needles[this])
        call KillUnit(s__HakuHissatsu_missile[this])
        set s__HakuHissatsu_missile[this]=null
        call DestroyGroup(s__HakuHissatsu_damaged[this])
        set s__HakuHissatsu_damaged[this]=null
        set s__HakuHissatsu_caster[this]=null
        call s__HakuHissatsu_deallocate(this)
        set v=null
    endfunction
    
    function s__HakuHissatsu_moveUnits takes integer this returns boolean
        local unit v
        local real x
        local real y
        local real angle
        local integer i
        local unit u
        set i=1
        loop
            exitwhen i > 30
            set v=(s__UnitDex_Unit[((LoadInteger(Table___ht, (s__HakuHissatsu_needles[this]), (i))))]) // INLINED!!
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(v), GetUnitY(v), 110.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HakuHissatsu_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HakuHissatsu_damaged[this]) then
                    set x=GetUnitX(bj_lastCreatedUnit)
                    set y=GetUnitY(bj_lastCreatedUnit)
                    call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                    call UnitDamageTarget(s__HakuHissatsu_caster[this], bj_lastCreatedUnit, ( s__HakuHissatsu_distance[this] * ( 15 / 500.0 ) + 80.0 ) * GetUnitAbilityLevel(s__HakuHissatsu_caster[this], 'A0K4'), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    if GetUnitAbilityLevel(s__HakuHissatsu_caster[this], 'B04U') > 0 and GetRandomInt(1, 4) == 1 then
                        set u=CreateAbilityDummy(s__HakuHissatsu_caster[this] , 'A0VP')
                        call IssueTargetOrder(u, "entanglingroots", bj_lastCreatedUnit)
                    endif
                    call GroupAddUnit(s__HakuHissatsu_damaged[this], bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            set u=null
            call DestroyGroup(bj_lastCreatedGroup)
            //set angle = Atan3(GetUnitX(v), GetUnitY(v), this.target_x, this.target_y)
            set x=(((GetUnitX(v) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(v)) )*1.0)) * (( 20)*1.0)) // INLINED!!
            set y=(((GetUnitY(v) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(v)) )*1.0)) * (( 20)*1.0)) // INLINED!!
            call SetUnitX(v, x)
            call SetUnitY(v, y)
            set i=i + 1
        endloop
        set v=null
        return true
    endfunction
    
    function s__HakuHissatsu_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__HakuHissatsu_count[this]=s__HakuHissatsu_count[this] + 1
        call s__HakuHissatsu_moveUnits(this)
        if s__HakuHissatsu_count[this] > 50 then
            call s__HakuHissatsu_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HakuHissatsu_actions takes nothing returns nothing
        local integer this= s__HakuHissatsu_allocate()
        local unit v
        local real angle
        local integer i
        local real x
        local real y
        set s__HakuHissatsu_count[this]=0
        set s__HakuHissatsu_caster[this]=GetTriggerUnit()
        set s__HakuHissatsu_missile[this]=GetInvisibleDummy(GetTriggerPlayer() , GetUnitX(s__HakuHissatsu_caster[this]) , GetUnitY(s__HakuHissatsu_caster[this]))
        set s__HakuHissatsu_target_x[this]=GetSpellTargetX()
        set s__HakuHissatsu_target_y[this]=GetSpellTargetY()
        set angle=Atan3(GetUnitX(s__HakuHissatsu_caster[this]) , GetUnitY(s__HakuHissatsu_caster[this]) , s__HakuHissatsu_target_x[this] , s__HakuHissatsu_target_y[this])
        set s__HakuHissatsu_angle[this]=angle
        set s__HakuHissatsu_distance[this]=GetDistance(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        set s__HakuHissatsu_needles[this]=s__Table_create()
        set i=1
        loop
            exitwhen i > 30
            call GenerateRandomRect(GetUnitX(s__HakuHissatsu_caster[this]) , GetUnitY(s__HakuHissatsu_caster[this]) , 300)
            set x=GetRandomX()
            set y=GetRandomY()
            set angle=Atan3(x , y , s__HakuHissatsu_target_x[this] , s__HakuHissatsu_target_y[this])
            set v=CreateUnit(GetTriggerPlayer(), 'h01I', x, y, Rad2Deg(angle))
            call SetUnitScale(v, 0.5, 0.5, 0.5)
            call SetUnitFlyHeight(v, 60, 0)
            call SaveInteger(Table___ht, (s__HakuHissatsu_needles[this]), (i), ( (GetUnitUserData((v))))) // INLINED!!
            set i=i + 1
        endloop
        set s__HakuHissatsu_damaged[this]=CreateGroup()
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HakuHissatsu_periodic)
        set v=null
    endfunction
    
    function s__HakuHissatsu_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(52 , 'A0K4' , function s__HakuHissatsu_actions)
    endfunction 
    
//===========================================================================
// Trigger: HakuNewE
//===========================================================================

//Implemented from module Alloc:
    
        function s__HakuNewE_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HakuNewE_Alloc__recycle[(0)] == 0 ) then
                set s__HakuNewE_Alloc__instanceCount=s__HakuNewE_Alloc__instanceCount + 1
                set this=s__HakuNewE_Alloc__instanceCount
            else
                set this=s__HakuNewE_Alloc__recycle[(0)]
                set s__HakuNewE_Alloc__recycle[(0)]=s__HakuNewE_Alloc__recycle[s__HakuNewE_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HakuNewE_deallocate takes integer this returns nothing
            set s__HakuNewE_Alloc__recycle[this]=s__HakuNewE_Alloc__recycle[(0)]
            set s__HakuNewE_Alloc__recycle[(0)]=this
        endfunction

    function s__HakuNewE_actions takes nothing returns nothing
        local unit u
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetSpellTargetX(), GetSpellTargetY(), 250, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) then
                set u=CreateAbilityDummy(GetTriggerUnit() , 'A0K5')
                call SetUnitAbilityLevel(u, 'A0K5', GetUnitAbilityLevel(GetTriggerUnit(), s__HakuNewE_SPELL_ID))
                call IssueTargetOrder(u, "entanglingroots", bj_lastCreatedUnit)
                set u=null
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
    endfunction 
    
    function s__HakuNewE_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(52 , s__HakuNewE_SPELL_ID , function s__HakuNewE_actions)
    endfunction 
    
//===========================================================================
// Trigger: HakuNewSemi
//===========================================================================
// scope HakuNewSemiS begins



//Implemented from module Alloc:
    
        function s__HakuNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HakuNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__HakuNewSemi_Alloc__instanceCount=s__HakuNewSemi_Alloc__instanceCount + 1
                set this=s__HakuNewSemi_Alloc__instanceCount
            else
                set this=s__HakuNewSemi_Alloc__recycle[(0)]
                set s__HakuNewSemi_Alloc__recycle[(0)]=s__HakuNewSemi_Alloc__recycle[s__HakuNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HakuNewSemi_deallocate takes integer this returns nothing
            set s__HakuNewSemi_Alloc__recycle[this]=s__HakuNewSemi_Alloc__recycle[(0)]
            set s__HakuNewSemi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HakuNewSemi_dealDamage takes nothing returns boolean
        local unit u
        if GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HakuNewSemi_caster[s__HakuNewSemi_instance])) then
            if GetUnitAbilityLevel(s__HakuNewSemi_caster[s__HakuNewSemi_instance], 'B04U') > 0 and GetRandomInt(1, 4) == 1 then
                set u=CreateAbilityDummy(s__HakuNewSemi_caster[s__HakuNewSemi_instance] , 'A0VP')
                call IssueTargetOrder(u, "entanglingroots", GetFilterUnit())
                set u=null
            endif
            set u=CreateAbilityDummy(s__HakuNewSemi_caster[s__HakuNewSemi_instance] , 'A09J')
            call IssueTargetOrder(u, "frostnova", GetFilterUnit())
            set u=null
            call UnitDamageTarget(s__HakuNewSemi_caster[s__HakuNewSemi_instance], GetFilterUnit(), s__HakuNewSemi_waveDamage[s__HakuNewSemi_instance] * GetUnitAbilityLevel(s__HakuNewSemi_caster[s__HakuNewSemi_instance], s__HakuNewSemi_SPELL_ID) + GetHeroInt(s__HakuNewSemi_caster[s__HakuNewSemi_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
        endif
        return false
    endfunction 

    function s__HakuNewSemi_wave takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x
        local real y
        local real new_x
        local real new_y
        local real angle
        local unit u
        local integer i= s__HakuNewSemi_waveBegin[this]
        loop
            exitwhen i > s__HakuNewSemi_waveBegin[this] + 11
            set x=GetUnitX(s__HakuNewSemiS___needles[(this)*(1)+i])
            set y=GetUnitY(s__HakuNewSemiS___needles[(this)*(1)+i])
            set angle=Deg2Rad(GetUnitFacing(s__HakuNewSemiS___needles[(this)*(1)+i]))
            set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
            call SetUnitX(s__HakuNewSemiS___needles[(this)*(1)+i], new_x)
            call SetUnitY(s__HakuNewSemiS___needles[(this)*(1)+i], new_y)
            call SetUnitFlyHeight(s__HakuNewSemiS___needles[(this)*(1)+i], 300 + s__HakuNewSemi_waveCount[this] * 100 - 30 * s__HakuNewSemi_count[this], 0)
            set i=i + 1
        endloop
        set s__HakuNewSemi_count[this]=s__HakuNewSemi_count[this] + 1
        if s__HakuNewSemi_count[this] >= s__HakuNewSemi_waveMax[this] then
            set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(s__HakuNewSemi_caster[this]) ), ( 'h0A8' ), (( s__HakuNewSemi_target_x[this] )*1.0), (( s__HakuNewSemi_target_y[this] )*1.0), (( 270)*1.0))) // INLINED!!
            call SetUnitScale(bj_lastCreatedUnit, 1 + s__HakuNewSemi_waveCount[this], 0, 0)
            call KillUnit(bj_lastCreatedUnit)
            set bj_lastCreatedGroup=CreateGroup()
            set s__HakuNewSemi_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HakuNewSemi_target_x[this], s__HakuNewSemi_target_y[this], 300 + 100 * s__HakuNewSemi_waveCount[this], Filter(function s__HakuNewSemi_dealDamage))
            call DestroyGroup(bj_lastCreatedGroup)
            set i=s__HakuNewSemi_waveBegin[this]
            loop
                exitwhen i > s__HakuNewSemi_waveBegin[this] + 11
                call RecycleUnit(s__HakuNewSemiS___needles[(this)*(1)+i])
                set s__HakuNewSemiS___needles[(this)*(1)+i]= null
                set i=i + 1
            endloop
            if s__HakuNewSemi_waveCount[this] == 2 then
                call s__HakuNewSemi_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            else
                set s__HakuNewSemi_count[this]=0
                set s__HakuNewSemi_waveCount[this]=s__HakuNewSemi_waveCount[this] + 1
                set s__HakuNewSemi_waveMax[this]=s__HakuNewSemi_waveMax[this] + 3
                set s__HakuNewSemi_waveDamage[this]=2 * s__HakuNewSemi_waveDamage[this]
                set s__HakuNewSemi_waveBegin[this]=s__HakuNewSemi_waveBegin[this] + 12
                //call TimerStart(NewTimerEx(this), 0.03, true, function thistype.wave)
            endif
        endif
    endfunction 
    
    function s__HakuNewSemi_backoff takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HakuNewSemi_caster[this])
        local real y= GetUnitY(s__HakuNewSemi_caster[this])
        local real angle= Deg2Rad(GetUnitFacing(s__HakuNewSemi_caster[this]) + 180)
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
            call SetUnitX(s__HakuNewSemi_caster[this], new_x)
            call SetUnitY(s__HakuNewSemi_caster[this], new_y)
        else
            set s__HakuNewSemi_count[this]=16
        endif
        set s__HakuNewSemi_count[this]=s__HakuNewSemi_count[this] + 1
        if s__HakuNewSemi_count[this] > 15 then
            set s__HakuNewSemi_count[this]=0
            set s__HakuNewSemi_waveBegin[this]=0
            set s__HakuNewSemi_waveCount[this]=0
            set s__HakuNewSemi_waveMax[this]=10
            set s__HakuNewSemi_waveDamage[this]=150
            call PauseUnit(s__HakuNewSemi_caster[this], false)
            call TimerStart(NewTimerEx(this), 0.03, true, function s__HakuNewSemi_wave)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HakuNewSemi_actions takes nothing returns nothing
        local integer this= s__HakuNewSemi_allocate()
        local real x
        local real y
        local real angle
        local integer i
        local integer j
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Haku_R, 100, GetTriggerUnit())
        endif
        set s__HakuNewSemi_caster[this]=GetTriggerUnit()
        set s__HakuNewSemi_target_x[this]=GetUnitX(s__HakuNewSemi_caster[this])
        set s__HakuNewSemi_target_y[this]=GetUnitY(s__HakuNewSemi_caster[this])
        set s__HakuNewSemi_count[this]=0
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl" ), (( GetUnitX(s__HakuNewSemi_caster[this]) )*1.0), (( GetUnitY(s__HakuNewSemi_caster[this]))*1.0))) // INLINED!!
        set bj_lastCreatedUnit=GetDummy(GetTriggerPlayer() , "Abilities\\Spells\\NightElf\\MoonWell\\MoonWellTarget.mdl" , GetUnitX(s__HakuNewSemi_caster[this]) , GetUnitY(s__HakuNewSemi_caster[this]) , 270)
        call SetUnitScale(bj_lastCreatedUnit, 2.0, 2.0, 2.0)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
        set j=0
        loop
            exitwhen j > 2
            set i=0
            loop
                exitwhen i > 11
                set x=(((GetUnitX(s__HakuNewSemi_caster[this]) )*1.0) + Cos((( Deg2Rad(30 * i) )*1.0)) * (( 300 + 100 * j)*1.0)) // INLINED!!
                set y=(((GetUnitY(s__HakuNewSemi_caster[this]) )*1.0) + Sin((( Deg2Rad(30 * i) )*1.0)) * (( 300 + 100 * j)*1.0)) // INLINED!!
                set angle=Rad2Deg(Atan3(x , y , GetUnitX(s__HakuNewSemi_caster[this]) , GetUnitY(s__HakuNewSemi_caster[this])))
                set s__HakuNewSemiS___needles[(this)*(1)+j * 12 + i]= (CreateUnit((GetTriggerPlayer() ), ( 'e01K' ), (( x )*1.0), (( y )*1.0), (( angle)*1.0))) // INLINED!!
                call SetUnitFlyHeight(s__HakuNewSemiS___needles[(this)*(1)+j * 12 + i], 300 + 100 * j, 0)
                set i=i + 1
            endloop
            set j=j + 1
        endloop
        call PauseUnit(s__HakuNewSemi_caster[this], true)
        call SetUnitAnimation(s__HakuNewSemi_caster[this], "spell two")
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HakuNewSemi_backoff)
    endfunction 
    
    function s__HakuNewSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(52 , s__HakuNewSemi_SPELL_ID , function s__HakuNewSemi_actions)
    endfunction 
    

// scope HakuNewSemiS ends
//===========================================================================
// Trigger: HakuNewUltimate
//===========================================================================
// scope HakuNewUltimateS begins


//Implemented from module Alloc:
    
        function s__HakuNewUltimate_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HakuNewUltimate_Alloc__recycle[(0)] == 0 ) then
                set s__HakuNewUltimate_Alloc__instanceCount=s__HakuNewUltimate_Alloc__instanceCount + 1
                set this=s__HakuNewUltimate_Alloc__instanceCount
            else
                set this=s__HakuNewUltimate_Alloc__recycle[(0)]
                set s__HakuNewUltimate_Alloc__recycle[(0)]=s__HakuNewUltimate_Alloc__recycle[s__HakuNewUltimate_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HakuNewUltimate_deallocate takes integer this returns nothing
            set s__HakuNewUltimate_Alloc__recycle[this]=s__HakuNewUltimate_Alloc__recycle[(0)]
            set s__HakuNewUltimate_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HakuNewUltimate_damage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i
        local real x
        local real y
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HakuNewUltimate_caster_x[this], s__HakuNewUltimate_caster_y[this], 500, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HakuNewUltimate_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__HakuNewUltimate_damaged[this]) then
                call GroupAddUnit(s__HakuNewUltimate_damaged[this], bj_lastCreatedUnit)
                call PauseUnit(bj_lastCreatedUnit, true)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupAddGroup(s__HakuNewUltimate_damaged[this], bj_lastCreatedGroup)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call UnitDamageTarget(s__HakuNewUltimate_caster[this], bj_lastCreatedUnit, 13 / 100.0 * GetHeroInt(s__HakuNewUltimate_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            if ModuloInteger(s__HakuNewUltimate_count[this], 20) == 0 then
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                call SetUnitAnimation(bj_lastCreatedUnit, "death")
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set i=GetRandomInt(0, s__HakuNewUltimate_count_mirror[this] - 1)
        //set bj_lastCreatedUnit = GroupPickRandomUnit(this.mirrors)
        call SetUnitX(s__HakuNewUltimate_dummy[this], s__s__HakuNewUltimate_mirrors_x[(this)*(1)+i])
        call SetUnitY(s__HakuNewUltimate_dummy[this], s__s__HakuNewUltimate_mirrors_y[(this)*(1)+i])
        call SetUnitFlyHeight(s__HakuNewUltimate_dummy[this], s__s__HakuNewUltimate_mirrors_z[(this)*(1)+i], 0)
        set s__HakuNewUltimate_count[this]=s__HakuNewUltimate_count[this] + 1
        if s__HakuNewUltimate_count[this] > 100 then
            set i=0
            loop
                exitwhen i > 35
                set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(10 * i) )*1.0)) * (( 500)*1.0)) // INLINED!!
                set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(10 * i) )*1.0)) * (( 500)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set i=i + 1
            endloop
            
		set i=0
		loop
			exitwhen i >= s__HakuNewUltimate_count_mirror[this]
			call DestroyEffect(s__s__HakuNewUltimate_mirrors[(this)*(1)+i])
			set s__s__HakuNewUltimate_mirrors[(this)*(1)+i]= null
			set i=i + 1
		endloop
            loop
                set bj_lastCreatedUnit=FirstOfGroup(s__HakuNewUltimate_damaged[this])
                exitwhen bj_lastCreatedUnit == null
                call PauseUnit(bj_lastCreatedUnit, false)
                call GroupRemoveUnit(s__HakuNewUltimate_damaged[this], bj_lastCreatedUnit)
            endloop
            call DestroyGroup(s__HakuNewUltimate_damaged[this])
            call PauseUnit(s__HakuNewUltimate_caster[this], false)
            call SetUnitInvulnerable(s__HakuNewUltimate_caster[this], false)
            call ShowUnit(s__HakuNewUltimate_caster[this], true)
            call SelectUnitForPlayerSingle(s__HakuNewUltimate_caster[this], GetOwningPlayer(s__HakuNewUltimate_caster[this]))
            call SetUnitVertexColor((s__HakuNewUltimate_caster[this] ), ( 255 ), ( 255 ), ( 255 ), ( 255)) // INLINED!!
            call SetUnitX(s__HakuNewUltimate_caster[this], s__HakuNewUltimate_caster_x[this])
            call SetUnitY(s__HakuNewUltimate_caster[this], s__HakuNewUltimate_caster_y[this])
            call RecycleUnit(s__HakuNewUltimate_dummy[this])
            set s__HakuNewUltimate_dummy[this]=null
            //set this.mirrors = null 
            set s__HakuNewUltimate_damaged[this]=null
            call s__HakuNewUltimate_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HakuNewUltimate_createMirrors takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x
        local real y
        local integer i= 0
        if s__HakuNewUltimate_count[this] == 0 then
            loop
                exitwhen i > 35
                set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(10 * i) )*1.0)) * (( 500)*1.0)) // INLINED!!
                set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(10 * i) )*1.0)) * (( 500)*1.0)) // INLINED!!

		set bj_lastCreatedEffect=AddSpecialEffect("Haku Mirror.mdl", x, y)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(10 * i + 180))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 0 + GetPointZ(s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this]))
		set s__s__HakuNewUltimate_mirrors[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= bj_lastCreatedEffect
		set s__s__HakuNewUltimate_mirrors_x[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= x
		set s__s__HakuNewUltimate_mirrors_y[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= y
		set s__s__HakuNewUltimate_mirrors_z[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= 0
		set s__HakuNewUltimate_count_mirror[this]=s__HakuNewUltimate_count_mirror[this] + 1

                
                set i=i + 1
            endloop
        elseif s__HakuNewUltimate_count[this] == 1 then
            loop
                exitwhen i > 29
                set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(12 * i) )*1.0)) * (( 480)*1.0)) // INLINED!!
                set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(12 * i) )*1.0)) * (( 480)*1.0)) // INLINED!!

		set bj_lastCreatedEffect=AddSpecialEffect("Haku Mirror.mdl", x, y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, 0.26)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(12 * i + 180))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 130 + GetPointZ(s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this]))
		set s__s__HakuNewUltimate_mirrors[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= bj_lastCreatedEffect
		set s__s__HakuNewUltimate_mirrors_x[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= x
		set s__s__HakuNewUltimate_mirrors_y[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= y
		set s__s__HakuNewUltimate_mirrors_z[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= 130
		set s__HakuNewUltimate_count_mirror[this]=s__HakuNewUltimate_count_mirror[this] + 1

                
 
                set i=i + 1
            endloop
        elseif s__HakuNewUltimate_count[this] == 2 then
            loop
                exitwhen i > 26
                set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(13.3 * i) )*1.0)) * (( 433)*1.0)) // INLINED!!
                set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(13.3 * i) )*1.0)) * (( 433)*1.0)) // INLINED!!
		
		set bj_lastCreatedEffect=AddSpecialEffect("Haku Mirror.mdl", x, y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, 0.52)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(13.3 * i + 180))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 250 + GetPointZ(s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this]))
		set s__s__HakuNewUltimate_mirrors[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= bj_lastCreatedEffect
		set s__s__HakuNewUltimate_mirrors_x[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= x
		set s__s__HakuNewUltimate_mirrors_y[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= y
		set s__s__HakuNewUltimate_mirrors_z[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= 250
		set s__HakuNewUltimate_count_mirror[this]=s__HakuNewUltimate_count_mirror[this] + 1

                
                set i=i + 1
            endloop
        elseif s__HakuNewUltimate_count[this] == 3 then
            loop
                exitwhen i > 23
                set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(15 * i) )*1.0)) * (( 350)*1.0)) // INLINED!!
                set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(15 * i) )*1.0)) * (( 350)*1.0)) // INLINED!!
		
		set bj_lastCreatedEffect=AddSpecialEffect("Haku Mirror.mdl", x, y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, 0.78)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(15 * i + 180))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 350 + GetPointZ(s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this]))
		set s__s__HakuNewUltimate_mirrors[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= bj_lastCreatedEffect
		set s__s__HakuNewUltimate_mirrors_x[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= x
		set s__s__HakuNewUltimate_mirrors_y[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= y
		set s__s__HakuNewUltimate_mirrors_z[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= 350
		set s__HakuNewUltimate_count_mirror[this]=s__HakuNewUltimate_count_mirror[this] + 1

                
                set i=i + 1
            endloop
        elseif s__HakuNewUltimate_count[this] == 4 then
            loop
                exitwhen i > 17
                set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(20 * i) )*1.0)) * (( 250)*1.0)) // INLINED!!
                set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(20 * i) )*1.0)) * (( 250)*1.0)) // INLINED!!
		
		set bj_lastCreatedEffect=AddSpecialEffect("Haku Mirror.mdl", x, y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, 1.04)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(20 * i + 180))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 430 + GetPointZ(s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this]))
		set s__s__HakuNewUltimate_mirrors[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= bj_lastCreatedEffect
		set s__s__HakuNewUltimate_mirrors_x[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= x
		set s__s__HakuNewUltimate_mirrors_y[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= y
		set s__s__HakuNewUltimate_mirrors_z[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= 430
		set s__HakuNewUltimate_count_mirror[this]=s__HakuNewUltimate_count_mirror[this] + 1

                
                set i=i + 1
            endloop
        elseif s__HakuNewUltimate_count[this] == 5 then
            loop
                exitwhen i > 11
                set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(30 * i) )*1.0)) * (( 130)*1.0)) // INLINED!!
                set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(30 * i) )*1.0)) * (( 130)*1.0)) // INLINED!!

		set bj_lastCreatedEffect=AddSpecialEffect("Haku Mirror.mdl", x, y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, 1.30)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(30 * i + 180))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 480 + GetPointZ(s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this]))
		set s__s__HakuNewUltimate_mirrors[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= bj_lastCreatedEffect
		set s__s__HakuNewUltimate_mirrors_x[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= x
		set s__s__HakuNewUltimate_mirrors_y[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= y
		set s__s__HakuNewUltimate_mirrors_z[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= 480
		set s__HakuNewUltimate_count_mirror[this]=s__HakuNewUltimate_count_mirror[this] + 1

                
                set i=i + 1
            endloop
        elseif s__HakuNewUltimate_count[this] == 6 then
            set x=(((s__HakuNewUltimate_caster_x[this] )*1.0) + Cos((( Deg2Rad(90) )*1.0)) * (( 25)*1.0)) // INLINED!!
            set y=(((s__HakuNewUltimate_caster_y[this] )*1.0) + Sin((( Deg2Rad(90) )*1.0)) * (( 25)*1.0)) // INLINED!!
		
		set bj_lastCreatedEffect=AddSpecialEffect("Haku Mirror.mdl", x, y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, 1.57)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(270))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 500 + GetPointZ(s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this]))
		set s__s__HakuNewUltimate_mirrors[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= bj_lastCreatedEffect
		set s__s__HakuNewUltimate_mirrors_x[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= x
		set s__s__HakuNewUltimate_mirrors_y[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= y
		set s__s__HakuNewUltimate_mirrors_z[(this)*(1)+s__HakuNewUltimate_count_mirror[this]]= 500
		set s__HakuNewUltimate_count_mirror[this]=s__HakuNewUltimate_count_mirror[this] + 1

            
        endif
        set s__HakuNewUltimate_count[this]=s__HakuNewUltimate_count[this] + 1
        if s__HakuNewUltimate_count[this] > 6 then
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HakuNewUltimate_caster_x[this], s__HakuNewUltimate_caster_y[this], 500, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HakuNewUltimate_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    call PauseUnit(bj_lastCreatedUnit, true)
                    call GroupAddUnit(s__HakuNewUltimate_damaged[this], bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set s__HakuNewUltimate_count[this]=0
            set s__HakuNewUltimate_dummy[this]=GetDummy(GetOwningPlayer(s__HakuNewUltimate_caster[this]) , "Spectral Missile.mdl" , s__HakuNewUltimate_caster_x[this] , s__HakuNewUltimate_caster_y[this] , 270)
            call SetUnitScale(s__HakuNewUltimate_dummy[this], 1.0, 1.0, 1.0)
            call TimerStart(NewTimerEx(this), 0.03, true, function s__HakuNewUltimate_damage)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HakuNewUltimate_fade takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__HakuNewUltimate_alpha[this]=s__HakuNewUltimate_alpha[this] + 1
        call SetUnitVertexColor(s__HakuNewUltimate_caster[this], 255, 255, 255, 255 - 7 * s__HakuNewUltimate_alpha[this])
        if s__HakuNewUltimate_alpha[this] > 35 then
            call PauseUnit(s__HakuNewUltimate_caster[this], true)
            call ShowUnit(s__HakuNewUltimate_caster[this], false)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HakuNewUltimate_actions takes nothing returns nothing
        local integer this= s__HakuNewUltimate_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "TRIGSTR_11397")
            call PlaySoundOnUnitBJ(gg_snd_Haku_T, 100.0, GetTriggerUnit())
        endif
        set s__HakuNewUltimate_caster[this]=GetTriggerUnit()
        set s__HakuNewUltimate_caster_x[this]=GetUnitX(s__HakuNewUltimate_caster[this])
        set s__HakuNewUltimate_caster_y[this]=GetUnitY(s__HakuNewUltimate_caster[this])
        set s__HakuNewUltimate_count[this]=0
        set s__HakuNewUltimate_alpha[this]=0
	set s__HakuNewUltimate_count_mirror[this]=0
        set s__HakuNewUltimate_damaged[this]=CreateGroup()
        call SetUnitInvulnerable(s__HakuNewUltimate_caster[this], true)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HakuNewUltimate_fade)
        call TimerStart(NewTimerEx(this), 0.2, true, function s__HakuNewUltimate_createMirrors)
	set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__HakuNewUltimate_caster[this]), GetUnitY(s__HakuNewUltimate_caster[this]), 270)
	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 5.0)
    endfunction 
    
    function s__HakuNewUltimate_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(52 , s__HakuNewUltimate_SPELL_ID , function s__HakuNewUltimate_actions)
    endfunction 
    

// scope HakuNewUltimateS ends
//===========================================================================
// Trigger: HanFugokyaku
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanFugokyaku_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanFugokyaku_Alloc__recycle[(0)] == 0 ) then
                set s__HanFugokyaku_Alloc__instanceCount=s__HanFugokyaku_Alloc__instanceCount + 1
                set this=s__HanFugokyaku_Alloc__instanceCount
            else
                set this=s__HanFugokyaku_Alloc__recycle[(0)]
                set s__HanFugokyaku_Alloc__recycle[(0)]=s__HanFugokyaku_Alloc__recycle[s__HanFugokyaku_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanFugokyaku_deallocate takes integer this returns nothing
            set s__HanFugokyaku_Alloc__recycle[this]=s__HanFugokyaku_Alloc__recycle[(0)]
            set s__HanFugokyaku_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HanFugokyaku_destroy takes integer this returns nothing
        call PauseUnit(s__HanFugokyaku_caster[this], false)
        call SetUnitAnimation(s__HanFugokyaku_caster[this], "stand")
        call DestroyGroup(s__HanFugokyaku_damaged[this])
        set s__HanFugokyaku_caster[this]=null
        set s__HanFugokyaku_damaged[this]=null
    endfunction
    
    function s__HanFugokyaku_disableAbilities takes nothing returns nothing
        local unit caster= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
        call UnitRemoveAbility(caster, s__HanFugokyaku_SPELL_ID2)
        call SetPlayerAbilityAvailable(GetOwningPlayer(caster), s__HanFugokyaku_SPELL_ID, true)
        call ReleaseTimer(GetExpiredTimer())
        set caster=null
    endfunction
    
    function s__HanFugokyaku_enableAbilities takes nothing returns nothing
        local unit caster= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
        call UnitAddAbility(caster, s__HanFugokyaku_SPELL_ID2)
        call SetPlayerAbilityAvailable(GetOwningPlayer(caster), s__HanFugokyaku_SPELL_ID, false)
        call ReleaseTimer(GetExpiredTimer())
        set caster=null
    endfunction
    
    function s__HanFugokyaku_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanFugokyaku_caster[this])
        local real y= GetUnitY(s__HanFugokyaku_caster[this])
        local real new_x= (((x )*1.0) + Cos((( s__HanFugokyaku_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__HanFugokyaku_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real dist= GetDistance(new_x , new_y , s__HanFugokyaku_target_x[this] , s__HanFugokyaku_target_y[this])
        set s__HanFugokyaku_count[this]=s__HanFugokyaku_count[this] + 1
        set s__HanFugokyaku_angle[this]=Atan3(x , y , s__HanFugokyaku_target_x[this] , s__HanFugokyaku_target_y[this])
        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
        if ModuloInteger(s__HanFugokyaku_count[this], 5) == 0 then
            //set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'z003', new_x, new_y, Rad2Deg(this.angle)) 
            //call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanFugokyaku_caster[this]), 'z008', new_x, new_y, Rad2Deg(s__HanFugokyaku_angle[this]))
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
		set bj_lastCreatedEffect=AddSpecialEffect("Effects\\s_Wind.md", new_x, new_y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__HanFugokyaku_angle[this])
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100)
		call DestroyEffect(bj_lastCreatedEffect)
        endif
        if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
            if not s__HanFugokyaku_second[this] then
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 180.0, null)
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanFugokyaku_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__HanFugokyaku_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                        call UnitDamageTarget(s__HanFugokyaku_caster[this], bj_lastCreatedUnit, s__HanFugokyaku_damage[this], true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                        call GroupAddUnit(s__HanFugokyaku_damaged[this], bj_lastCreatedUnit)
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
            endif
            call SetUnitX(s__HanFugokyaku_caster[this], new_x)
            call SetUnitY(s__HanFugokyaku_caster[this], new_y)
            call SetUnitFacing(s__HanFugokyaku_caster[this], Rad2Deg(s__HanFugokyaku_angle[this]))
        else
            set dist=0
        endif
        if dist <= 50 then
            //if this.second then
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanFugokyaku_caster[this]), 'h04J', new_x, new_y, 270.0)
                call IssueImmediateOrder(bj_lastCreatedUnit, "thunderclap")
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
                call DestroyEffect(AddSpecialEffect(("NewDirtEXNofire.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300.0, null)
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanFugokyaku_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HanFugokyaku_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                        call UnitDamageTarget(s__HanFugokyaku_caster[this], bj_lastCreatedUnit, s__HanFugokyaku_damage[this], true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                        call GroupAddUnit(s__HanFugokyaku_damaged[this], bj_lastCreatedUnit)
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
                //call TimerStart(NewTimerEx(GetUnitId(this.caster)), 0.1, false, function thistype.disableAbilities)
            //else
            //    call TimerStart(NewTimerEx(GetUnitId(this.caster)), 0.1, false, function thistype.enableAbilities)
            //    call TimerStart(NewTimerEx(GetUnitId(this.caster)), 5.0, false, function thistype.disableAbilities)
            //endif
            call GroupClear(s__HanFugokyaku_damaged[this])
            call s__HanFugokyaku_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__HanFugokyaku_actions takes nothing returns nothing
        local integer this= s__HanFugokyaku_allocate()
        set s__HanFugokyaku_caster[this]=GetTriggerUnit()
        set s__HanFugokyaku_angle[this]=Atan3(GetUnitX(s__HanFugokyaku_caster[this]) , GetUnitY(s__HanFugokyaku_caster[this]) , GetSpellTargetX() , GetSpellTargetY())

	set bj_lastCreatedEffect=AddSpecialEffect("DustWaveDash.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
	call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__HanFugokyaku_angle[this])
	//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.5)
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetPointZ(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit())))
	call DestroyEffect(bj_lastCreatedEffect)

        if GetSpellAbilityId() == s__HanFugokyaku_SPELL_ID then
            set s__HanFugokyaku_damage[this]=( 50.0 + GetHeroStr(s__HanFugokyaku_caster[this], true) / 3.0 ) * GetUnitAbilityLevel(s__HanFugokyaku_caster[this], s__HanFugokyaku_SPELL_ID)
            set s__HanFugokyaku_second[this]=false
            set s__HanFugokyaku_target_x[this]=(((GetUnitX(s__HanFugokyaku_caster[this]) )*1.0) + Cos((( s__HanFugokyaku_angle[this] )*1.0)) * (( 800)*1.0)) // INLINED!!
            set s__HanFugokyaku_target_y[this]=(((GetUnitY(s__HanFugokyaku_caster[this]) )*1.0) + Sin((( s__HanFugokyaku_angle[this] )*1.0)) * (( 800)*1.0)) // INLINED!!
        else
            set s__HanFugokyaku_second[this]=true
            set s__HanFugokyaku_damage[this]=GetHeroStr(s__HanFugokyaku_caster[this], true) * GetUnitAbilityLevel(s__HanFugokyaku_caster[this], s__HanFugokyaku_SPELL_ID) / 3.0
            set s__HanFugokyaku_target_x[this]=GetSpellTargetX()
            set s__HanFugokyaku_target_y[this]=GetSpellTargetY()
        endif
        set s__HanFugokyaku_damaged[this]=CreateGroup()
        set s__HanFugokyaku_count[this]=0
        call PauseUnit(s__HanFugokyaku_caster[this], true)
        call SetUnitAnimation(s__HanFugokyaku_caster[this], "spell channel")
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanFugokyaku_periodic)
    endfunction
    
    function s__HanFugokyaku_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(62 , s__HanFugokyaku_SPELL_ID , function s__HanFugokyaku_actions)
        call RegisterSpellEffectEventForId(62 , s__HanFugokyaku_SPELL_ID2 , function s__HanFugokyaku_actions)
    endfunction
    
//===========================================================================
// Trigger: HanFunseiken
//===========================================================================
// scope HanFunseiken begins

    
//Implemented from module Alloc:
    
        function s__HanFunseiken___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanFunseiken___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__HanFunseiken___Spell_Alloc__instanceCount=s__HanFunseiken___Spell_Alloc__instanceCount + 1
                set this=s__HanFunseiken___Spell_Alloc__instanceCount
            else
                set this=s__HanFunseiken___Spell_Alloc__recycle[(0)]
                set s__HanFunseiken___Spell_Alloc__recycle[(0)]=s__HanFunseiken___Spell_Alloc__recycle[s__HanFunseiken___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanFunseiken___Spell_deallocate takes integer this returns nothing
            set s__HanFunseiken___Spell_Alloc__recycle[this]=s__HanFunseiken___Spell_Alloc__recycle[(0)]
            set s__HanFunseiken___Spell_Alloc__recycle[(0)]=this
        endfunction
    
        
        function s__HanFunseiken___Spell_destroy takes integer this returns nothing
            call PauseUnit(s__HanFunseiken___Spell_target[this], false)
            call DestroyGroup(s__HanFunseiken___Spell_damaged[this])
            set s__HanFunseiken___Spell_damaged[this]=null
            set s__HanFunseiken___Spell_caster[this]=null
            set s__HanFunseiken___Spell_target[this]=null
            call s__HanFunseiken___Spell_deallocate(this)
        endfunction
        
        function s__HanFunseiken___Spell_knockback takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real target_x= GetUnitX(s__HanFunseiken___Spell_target[this])
            local real target_y= GetUnitY(s__HanFunseiken___Spell_target[this])
            local real new_x= target_x + Cos(s__HanFunseiken___Spell_angle[this]) * 30
            local real new_y= target_y + Sin(s__HanFunseiken___Spell_angle[this]) * 30
            set s__HanFunseiken___Spell_count[this]=s__HanFunseiken___Spell_count[this] + 1
            set s__HanFunseiken___Spell_angle[this]=Atan3(GetUnitX(s__HanFunseiken___Spell_caster[this]) , GetUnitY(s__HanFunseiken___Spell_caster[this]) , GetUnitX(s__HanFunseiken___Spell_target[this]) , GetUnitY(s__HanFunseiken___Spell_target[this]))
            if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
		set bj_lastCreatedEffect=AddSpecialEffect("Effects\\s_Wind.md", new_x, new_y)
		call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__HanFunseiken___Spell_angle[this])
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100)
		call DestroyEffect(bj_lastCreatedEffect)
		
                call SetUnitPosition(s__HanFunseiken___Spell_target[this], new_x, new_y)
                call DestroyEffect(AddSpecialEffect(("Effects\\s_Earth_Smash.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 110.0, null)
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanFunseiken___Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) and not IsUnitInGroup(bj_lastCreatedUnit, s__HanFunseiken___Spell_damaged[this]) then
                        call UnitDamageTarget(s__HanFunseiken___Spell_caster[this], bj_lastCreatedUnit, GetHeroStr(s__HanFunseiken___Spell_caster[this], true) * GetUnitAbilityLevel(s__HanFunseiken___Spell_caster[this], s__HanFunseiken___Spell_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                        call GroupAddUnit(s__HanFunseiken___Spell_damaged[this], bj_lastCreatedUnit)
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
            else
                set s__HanFunseiken___Spell_count[this]=11
            endif
            if s__HanFunseiken___Spell_count[this] >= 11 then
                call s__HanFunseiken___Spell_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__HanFunseiken___Spell_delay takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call PauseUnit(s__HanFunseiken___Spell_caster[this], false)
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( GetUnitX(s__HanFunseiken___Spell_target[this]) )*1.0), (( GetUnitY(s__HanFunseiken___Spell_target[this]))*1.0))) // INLINED!!
	    set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(s__HanFunseiken___Spell_target[this]), GetUnitY(s__HanFunseiken___Spell_target[this]))
	    call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(s__HanFunseiken___Spell_target[this]) , GetUnitY(s__HanFunseiken___Spell_target[this])))
	    call DestroyEffect(bj_lastCreatedEffect)

	set bj_lastCreatedEffect=AddSpecialEffect("PunchImpact.mdl", GetUnitX(s__HanFunseiken___Spell_target[this]), GetUnitY(s__HanFunseiken___Spell_target[this]))
	call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(s__HanFunseiken___Spell_caster[this]) + 180))
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.3)
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(s__HanFunseiken___Spell_target[this]) , GetUnitY(s__HanFunseiken___Spell_target[this])))
	call DestroyEffect(bj_lastCreatedEffect)

	call KillUnit(CreateUnit(GetOwningPlayer(s__HanFunseiken___Spell_caster[this]), 'e068', GetUnitX(s__HanFunseiken___Spell_target[this]), GetUnitY(s__HanFunseiken___Spell_target[this]), Rad2Deg(s__HanFunseiken___Spell_angle[this])))

            call TimerStart(NewTimerEx(this), 0.03, true, function s__HanFunseiken___Spell_knockback)
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
        function s__HanFunseiken___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real caster_x= GetUnitX(s__HanFunseiken___Spell_caster[this])
            local real caster_y= GetUnitY(s__HanFunseiken___Spell_caster[this])
            local real target_x= GetUnitX(s__HanFunseiken___Spell_target[this])
            local real target_y= GetUnitY(s__HanFunseiken___Spell_target[this])
            local real angle= Atan2(( target_y - caster_y ), ( target_x - caster_x ))
            local real new_x= caster_x + Cos(angle) * 20
            local real new_y= caster_y + Sin(angle) * 20
            local real distance_x= new_x - target_x
            local real distance_y= new_y - target_y
            local real distance= SquareRoot(distance_x * distance_x + distance_y * distance_y)
            call SetUnitX(s__HanFunseiken___Spell_caster[this], new_x)
            call SetUnitY(s__HanFunseiken___Spell_caster[this], new_y)
            call SetUnitFacing(s__HanFunseiken___Spell_caster[this], Rad2Deg(angle))
            if distance <= 100 then
                call UnitDamageTarget(s__HanFunseiken___Spell_caster[this], s__HanFunseiken___Spell_target[this], GetHeroStr(s__HanFunseiken___Spell_caster[this], true) * GetUnitAbilityLevel(s__HanFunseiken___Spell_caster[this], s__HanFunseiken___Spell_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
                call GroupAddUnit(s__HanFunseiken___Spell_damaged[this], s__HanFunseiken___Spell_target[this])
                call StunUnitTimed(s__HanFunseiken___Spell_caster[this] , s__HanFunseiken___Spell_target[this] , 2.0)
                set s__HanFunseiken___Spell_angle[this]=angle
                call SetUnitTimeScale(s__HanFunseiken___Spell_caster[this], 1.0)
                call SetUnitAnimation(s__HanFunseiken___Spell_caster[this], "spell throw")
                call TimerStart(NewTimerEx(this), 0.4, false, function s__HanFunseiken___Spell_delay)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__HanFunseiken___Spell_actions takes nothing returns nothing
            local integer this= s__HanFunseiken___Spell_allocate()
            set s__HanFunseiken___Spell_damaged[this]=CreateGroup()
            set s__HanFunseiken___Spell_caster[this]=GetTriggerUnit()
            set s__HanFunseiken___Spell_target[this]=GetSpellTargetUnit()
            set s__HanFunseiken___Spell_count[this]=0
            call PauseUnit(s__HanFunseiken___Spell_caster[this], true)
            //call PauseUnit(this.target, true)
            call SetUnitAnimationByIndex(s__HanFunseiken___Spell_caster[this], 1)
            call TimerStart(NewTimerEx(this), 0.015, true, function s__HanFunseiken___Spell_periodic)
        endfunction
        
        function s__HanFunseiken___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(62 , s__HanFunseiken___Spell_SPELL_ID , function s__HanFunseiken___Spell_actions)
        endfunction
        
    
// scope HanFunseiken ends
//===========================================================================
// Trigger: HanJokiNoYoroi
//===========================================================================

    
    function s__HanJokiNoyoroi_destroy takes integer this returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
            call KillUnit(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i])
            set s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i]=null
            set i=i + 1
        endloop
        call DestroyGroup(s__HanJokiNoyoroi_damaged[this])
        set s__HanJokiNoyoroi_damaged[this]=null
        set s__HanJokiNoyoroi_caster[this]=null
        call s__HanJokiNoyoroi_deallocate(this)
    endfunction
    
    function s__HanJokiNoyoroi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i
        local real x
        local real y
        set s__HanJokiNoyoroi_count[this]=s__HanJokiNoyoroi_count[this] + 1
        set i=0
        loop
            exitwhen i > 11
            if s__HanJokiNoyoroi_count[this] < 50 then
                set x=(((s__HanJokiNoyoroi_x[this] )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i]) + 18) )*1.0)) * (( s__HanJokiNoyoroi_count[this] * 12)*1.0)) // INLINED!!
                set y=(((s__HanJokiNoyoroi_y[this] )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i]) + 18) )*1.0)) * (( s__HanJokiNoyoroi_count[this] * 12)*1.0)) // INLINED!!
            else
                set x=(((s__HanJokiNoyoroi_x[this] )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i]) + 18) )*1.0)) * (( 1200 - s__HanJokiNoyoroi_count[this] * 12)*1.0)) // INLINED!!
                set y=(((s__HanJokiNoyoroi_y[this] )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i]) + 18) )*1.0)) * (( 1200 - s__HanJokiNoyoroi_count[this] * 12)*1.0)) // INLINED!!
            endif
            if ModuloInteger(s__HanJokiNoyoroi_count[this], 2) == 0 then
                call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            endif
            if ModuloInteger(s__HanJokiNoyoroi_count[this], 10) == 0 then
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanJokiNoyoroi_caster[this]), 'z008', x, y, 270.0)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
            endif
            call SetUnitX(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i], x)
            call SetUnitY(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i], y)
            call SetUnitFacing(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i], GetUnitFacing(s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i]) + 18)
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 110.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanJokiNoyoroi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.40 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                    if s__HanJokiNoyoroi_count[this] < 50 then
                        set x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( GetAngleUnits(s__HanJokiNoyoroi_caster[this] , bj_lastCreatedUnit) )*1.0)) * (( 12)*1.0)) // INLINED!!
                        set y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( GetAngleUnits(s__HanJokiNoyoroi_caster[this] , bj_lastCreatedUnit) )*1.0)) * (( 12)*1.0)) // INLINED!!
                    else
                        set x=(((GetUnitX(bj_lastCreatedUnit) )*1.0) + Cos((( GetAngleUnits(bj_lastCreatedUnit , s__HanJokiNoyoroi_caster[this]) )*1.0)) * (( 12)*1.0)) // INLINED!!
                        set y=(((GetUnitY(bj_lastCreatedUnit) )*1.0) + Sin((( GetAngleUnits(bj_lastCreatedUnit , s__HanJokiNoyoroi_caster[this]) )*1.0)) * (( 12)*1.0)) // INLINED!!
                    endif
                  //  call SetUnitX(bj_lastCreatedUnit, x)
                  //  call SetUnitY(bj_lastCreatedUnit, y)
                endif
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanJokiNoyoroi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HanJokiNoyoroi_damaged[this]) then
                    call UnitDamageTarget(s__HanJokiNoyoroi_caster[this], bj_lastCreatedUnit, 90.0 * GetUnitAbilityLevel(s__HanJokiNoyoroi_caster[this], s__HanJokiNoyoroi_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    call GroupAddUnit(s__HanJokiNoyoroi_damaged[this], bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set i=i + 1
        endloop
        if s__HanJokiNoyoroi_count[this] > 40 then
            call s__HanJokiNoyoroi_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__HanJokiNoyoroi_actions takes nothing returns nothing
        local integer this= s__HanJokiNoyoroi__allocate()
        local integer i
        set s__HanJokiNoyoroi_caster[this]=GetTriggerUnit()
        set s__HanJokiNoyoroi_x[this]=GetUnitX(s__HanJokiNoyoroi_caster[this])
        set s__HanJokiNoyoroi_y[this]=GetUnitY(s__HanJokiNoyoroi_caster[this])
        set s__HanJokiNoyoroi_damaged[this]=CreateGroup()
        set s__HanJokiNoyoroi_count[this]=0
        set i=0
        loop
            exitwhen i > 11
            set s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i]=CreateUnit(GetTriggerPlayer(), 'e007', s__HanJokiNoyoroi_x[this], s__HanJokiNoyoroi_y[this], 360 / 12 * i)
            call SetUnitScale((s___HanJokiNoyoroi_orbs[s__HanJokiNoyoroi_orbs[this]+i] ), (( 0.1 )*1.0), (( 0.1 )*1.0), (( 0.1)*1.0)) // INLINED!!
            set i=i + 1
        endloop
        call TimerStart(NewTimerEx(this), 0.025, true, function s__HanJokiNoyoroi_periodic)
    endfunction
    
    function s__HanJokiNoyoroi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(62 , s__HanJokiNoyoroi_SPELL_ID , function s__HanJokiNoyoroi_actions)
    endfunction
    
//===========================================================================
// Trigger: HanSemi
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanSemi_Alloc__recycle[(0)] == 0 ) then
                set s__HanSemi_Alloc__instanceCount=s__HanSemi_Alloc__instanceCount + 1
                set this=s__HanSemi_Alloc__instanceCount
            else
                set this=s__HanSemi_Alloc__recycle[(0)]
                set s__HanSemi_Alloc__recycle[(0)]=s__HanSemi_Alloc__recycle[s__HanSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanSemi_deallocate takes integer this returns nothing
            set s__HanSemi_Alloc__recycle[this]=s__HanSemi_Alloc__recycle[(0)]
            set s__HanSemi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HanSemi_destroy takes integer this returns nothing
        set s__HanSemi_caster[this]=null
        set s__HanSemi_target[this]=null
        call s__HanSemi_deallocate(this)
    endfunction
    
    function s__HanSemi_damage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i
        local integer j
        local real x= GetUnitX(s__HanSemi_target[this])
        local real y= GetUnitY(s__HanSemi_target[this])
        local real new_x
        local real new_y
	set bj_lastCreatedEffect=AddSpecialEffect("DustWave.mdx", x, y)
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
	call DestroyEffect(bj_lastCreatedEffect)
        
	call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
        set i=0
        loop
            exitwhen i > 1
	    set i=i + 1
            set j=0
            loop
                exitwhen j > 6
                set new_x=(((x )*1.0) + Cos((( Deg2Rad(60 * j) )*1.0)) * (( 80 * i)*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( Deg2Rad(60 * j) )*1.0)) * (( 80 * i)*1.0)) // INLINED!!
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanSemi_caster[this]), 'z008', new_x, new_y, 270.0)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
                set j=j + 1
            endloop
        endloop
	//call AddSpecialEffectEx("war3mapImported\\Ground Crack.mdx", GetUnitX(this.target), GetUnitY(this.target))
	call UnitDamageTarget(s__HanSemi_caster[this], s__HanSemi_target[this], ( 750.0 + 3.0 * GetHeroStr(s__HanSemi_caster[this], true) ) * GetUnitAbilityLevel(s__HanSemi_caster[this], s__HanSemi_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
       
        call s__HanSemi_destroy(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__HanSemi_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call ShowUnit(s__HanSemi_target[this], true)
        call SelectUnitForPlayerSingle(s__HanSemi_target[this], GetOwningPlayer(s__HanSemi_target[this]))
        call SetUnitFlyHeight(s__HanSemi_target[this], 0, 2000.0)
        call SetUnitAnimation(s__HanSemi_target[this], "death")
	call PauseUnit(s__HanSemi_target[this], false)
	call StunUnitTimed(s__HanSemi_caster[this] , s__HanSemi_target[this] , 1.0)
        call TimerStart(NewTimerEx(this), 0.5, false, function s__HanSemi_damage)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__HanSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__HanSemi_count[this]=s__HanSemi_count[this] + 1
        call SetUnitFlyHeight(s__HanSemi_target[this], 50 * s__HanSemi_count[this], 0)
	call PauseUnit(s__HanSemi_target[this], true)
        if ModuloInteger(s__HanSemi_count[this], 3) == 0 then
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanSemi_caster[this]), 'z004', GetUnitX(s__HanSemi_target[this]), GetUnitY(s__HanSemi_target[this]), 270.0)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
            call SetUnitFlyHeight(bj_lastCreatedUnit, 50 * s__HanSemi_count[this], 0)
        endif
        if s__HanSemi_count[this] > 20 then
            call ShowUnit(s__HanSemi_target[this], false)
            call TimerStart(NewTimerEx(this), 2.0, false, function s__HanSemi_finish)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction

   function s__HanSemi_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	call TimerStart(NewTimerEx(this), 0.03, true, function s__HanSemi_periodic)
   endfunction
    
    function s__HanSemi_actions takes nothing returns nothing
        local integer this= s__HanSemi_allocate()
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            	call PlaySoundOnUnitBJ(gg_snd_Han_R, 100, GetTriggerUnit())
	endif
	set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\Ground Crack.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.0)
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 300, null)
	loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
			set this=s__HanSemi_allocate()
			set s__HanSemi_caster[this]=GetTriggerUnit()
			set s__HanSemi_target[this]=bj_lastCreatedUnit
			set s__HanSemi_count[this]=0
        		call TimerStart(NewTimerEx(this), 0.45, false, function s__HanSemi_delay)
		endif
	endloop
	call DestroyGroup(bj_lastCreatedGroup)
    endfunction
    
    function s__HanSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(62 , s__HanSemi_SPELL_ID , function s__HanSemi_actions)
    endfunction
    
//===========================================================================
// Trigger: HanNewUltimate
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanNewUltimate_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanNewUltimate_Alloc__recycle[(0)] == 0 ) then
                set s__HanNewUltimate_Alloc__instanceCount=s__HanNewUltimate_Alloc__instanceCount + 1
                set this=s__HanNewUltimate_Alloc__instanceCount
            else
                set this=s__HanNewUltimate_Alloc__recycle[(0)]
                set s__HanNewUltimate_Alloc__recycle[(0)]=s__HanNewUltimate_Alloc__recycle[s__HanNewUltimate_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanNewUltimate_deallocate takes integer this returns nothing
            set s__HanNewUltimate_Alloc__recycle[this]=s__HanNewUltimate_Alloc__recycle[(0)]
            set s__HanNewUltimate_Alloc__recycle[(0)]=this
        endfunction

    function s__HanNewUltimate_dealDamage takes nothing returns boolean
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HanNewUltimate_caster[s__HanNewUltimate_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
            call UnitDamageTarget(s__HanNewUltimate_caster[s__HanNewUltimate_instance], GetFilterUnit(), 500 + ( ( 8 + s__HanNewUltimate_range[s__HanNewUltimate_instance] / 1000 ) * GetHeroStr(s__HanNewUltimate_caster[s__HanNewUltimate_instance], true) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
        endif
        return false
    endfunction 

 function s__HanNewUltimate_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__HanNewUltimate_dummy[this])
  local real y= GetUnitY(s__HanNewUltimate_dummy[this])
  local real angle= Atan3(x , y , s__HanNewUltimate_target_x[this] , s__HanNewUltimate_target_y[this])
  local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 50)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 50)*1.0)) // INLINED!!
		call SetUnitX(s__HanNewUltimate_dummy[this], new_x)
		call SetUnitY(s__HanNewUltimate_dummy[this], new_y)
		call SetUnitX(s__HanNewUltimate_caster[this], new_x)
		call SetUnitY(s__HanNewUltimate_caster[this], new_y)
		call SetUnitFacing(s__HanNewUltimate_dummy[this], Rad2Deg(angle))
		call SetUnitFacing(s__HanNewUltimate_caster[this], Rad2Deg(angle))
		set s__HanNewUltimate_count[this]=s__HanNewUltimate_count[this] + 1
        set s__HanNewUltimate_range[this]=s__HanNewUltimate_range[this] + 50
		if ModuloInteger(s__HanNewUltimate_count[this], 5) == 0 then
			set bj_lastCreatedEffect=AddSpecialEffect("DustWaveGeneric.mdx", new_x, new_y)
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, angle)
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100 + GetPointZ(new_x , new_y))
			call DestroyEffect(bj_lastCreatedEffect)
        endif
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanNewUltimate_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                set s__HanNewUltimate_target_x[this]=GetUnitX(bj_lastCreatedUnit)
                set s__HanNewUltimate_target_y[this]=GetUnitY(bj_lastCreatedUnit)
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
		if GetDistance(new_x , new_y , s__HanNewUltimate_target_x[this] , s__HanNewUltimate_target_y[this]) < 100 then
			set bj_lastCreatedGroup=CreateGroup()
            		set s__HanNewUltimate_instance=this
            		call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HanNewUltimate_target_x[this], s__HanNewUltimate_target_y[this], 400.0, Filter(function s__HanNewUltimate_dealDamage))
            		call DestroyGroup(bj_lastCreatedGroup)
			set bj_lastCreatedEffect=AddSpecialEffect("DustWave.mdx", s__HanNewUltimate_target_x[this], s__HanNewUltimate_target_y[this])
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
			call DestroyEffect(bj_lastCreatedEffect)
	    		call DestroyEffect(AddSpecialEffect(("war3mapImported\\WarStompCaster.mdx" ), (( s__HanNewUltimate_target_x[this] )*1.0), (( s__HanNewUltimate_target_y[this])*1.0))) // INLINED!!
			call PauseUnit(s__HanNewUltimate_caster[this], false)
			call ShowUnit(s__HanNewUltimate_caster[this], true)
			call SelectUnitForPlayerSingle(s__HanNewUltimate_caster[this], GetOwningPlayer(s__HanNewUltimate_caster[this]))
			call KillUnit(s__HanNewUltimate_dummy[this])
			call ShowUnit(s__HanNewUltimate_dummy[this], false)
			set s__HanNewUltimate_dummy[this]=null
			call s__HanNewUltimate_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction

 function s__HanNewUltimate_actions takes nothing returns nothing
  local integer this= s__HanNewUltimate_allocate()
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            		call PlaySoundOnUnitBJ(gg_snd_Han_T, 100, GetTriggerUnit())
		endif
		set s__HanNewUltimate_caster[this]=GetTriggerUnit()
		set s__HanNewUltimate_target_x[this]=GetSpellTargetX()
		set s__HanNewUltimate_target_y[this]=GetSpellTargetY()
		set s__HanNewUltimate_count[this]=0
		call PauseUnit(s__HanNewUltimate_caster[this], true)
		call ShowUnit(s__HanNewUltimate_caster[this], false)
		set s__HanNewUltimate_dummy[this]=CreateUnit(GetOwningPlayer(s__HanNewUltimate_caster[this]), 'e054', GetUnitX(s__HanNewUltimate_caster[this]), GetUnitY(s__HanNewUltimate_caster[this]), Rad2Deg(Atan3(GetUnitX(s__HanNewUltimate_caster[this]) , GetUnitY(s__HanNewUltimate_caster[this]) , s__HanNewUltimate_target_x[this] , s__HanNewUltimate_target_y[this])))
        	call SetUnitTimeScale(s__HanNewUltimate_dummy[this], 3.0)
        	call SetUnitAnimationByIndex(s__HanNewUltimate_dummy[this], 5)
		set s__HanNewUltimate_range[this]=0 //GetDistance(GetUnitX(this.caster), GetUnitY(this.caster), this.target_x, this.target_y)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__HanNewUltimate_periodic)
 endfunction 

 function s__HanNewUltimate_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(62 , s__HanNewUltimate_SPELL_ID , function s__HanNewUltimate_actions)
 endfunction

//===========================================================================
// Trigger: HanInhumanStrength
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanMoveSpeed_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanMoveSpeed_Alloc__recycle[(0)] == 0 ) then
                set s__HanMoveSpeed_Alloc__instanceCount=s__HanMoveSpeed_Alloc__instanceCount + 1
                set this=s__HanMoveSpeed_Alloc__instanceCount
            else
                set this=s__HanMoveSpeed_Alloc__recycle[(0)]
                set s__HanMoveSpeed_Alloc__recycle[(0)]=s__HanMoveSpeed_Alloc__recycle[s__HanMoveSpeed_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanMoveSpeed_deallocate takes integer this returns nothing
            set s__HanMoveSpeed_Alloc__recycle[this]=s__HanMoveSpeed_Alloc__recycle[(0)]
            set s__HanMoveSpeed_Alloc__recycle[(0)]=this
        endfunction

 function s__HanMoveSpeed_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__HanMoveSpeed_caster[this])
  local real y= GetUnitY(s__HanMoveSpeed_caster[this])
  local real new_x= (((x )*1.0) + Cos((( s__HanMoveSpeed_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__HanMoveSpeed_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
		call SetUnitX(s__HanMoveSpeed_caster[this], new_x)
		call SetUnitY(s__HanMoveSpeed_caster[this], new_y)
		if ModuloInteger(s__HanMoveSpeed_count[this], 5) == 0 then
			set bj_lastCreatedEffect=AddSpecialEffect("Effects\\s_Wind.md", new_x, new_y)
			call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
			call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__HanMoveSpeed_angle[this])
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 100)
			call DestroyEffect(bj_lastCreatedEffect)
            		//set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'z003', new_x, new_y, Rad2Deg(this.angle)) 
            		//call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
            		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanMoveSpeed_caster[this]), 'z008', new_x, new_y, Rad2Deg(s__HanMoveSpeed_angle[this]))
            		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
        	endif
		set s__HanMoveSpeed_count[this]=s__HanMoveSpeed_count[this] - 1
		if s__HanMoveSpeed_count[this] <= 0 then
			set s__HanMoveSpeed_active=false
			call s__HanMoveSpeed_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__HanMoveSpeed_actions takes nothing returns nothing
  local integer this
		if GetIssuedOrderIdBJ() == String2OrderIdBJ("smart") and GetUnitAbilityLevel(GetTriggerUnit(), 'B04C') > 0 and not s__HanMoveSpeed_active then
			set this=s__HanMoveSpeed_allocate()
			set s__HanMoveSpeed_caster[this]=GetTriggerUnit()
			set s__HanMoveSpeed_count[this]=R2I(GetDistance(GetUnitX(s__HanMoveSpeed_caster[this]) , GetUnitY(s__HanMoveSpeed_caster[this]) , GetOrderPointX() , GetOrderPointY()) / 25)
			if s__HanMoveSpeed_count[this] > 16 then
				set s__HanMoveSpeed_count[this]=16
			endif
                        set s__HanMoveSpeed_angle[this]=Atan3(GetUnitX(s__HanMoveSpeed_caster[this]) , GetUnitY(s__HanMoveSpeed_caster[this]) , GetOrderPointX() , GetOrderPointY())
			call TimerStart(NewTimerEx(this), 0.03, true, function s__HanMoveSpeed_periodic)
			set s__HanMoveSpeed_active=true
		endif
 endfunction 

 function s__HanMoveSpeed_onInit takes nothing returns nothing
		call RegisterPlayerUnitEventForId(62 , EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER , function s__HanMoveSpeed_actions)
		set s__HanMoveSpeed_active=false
 endfunction 

//===========================================================================
// Trigger: HanabiD
//===========================================================================


   function s__HanabiD_death takes nothing returns nothing
	if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and GetUnitTypeId(GetKillingUnit()) == 'H06Z' then
		set s__HanabiD_hanabi_kills=s__HanabiD_hanabi_kills + 15
	elseif GetUnitTypeId(GetKillingUnit()) == 'H06Z' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
		set s__HanabiD_hanabi_kills=s__HanabiD_hanabi_kills + 1
	endif
    endfunction

    function s__HanabiD_text takes nothing returns nothing
		call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, I2S(s__HanabiD_hanabi_kills))
    endfunction 


    function s__HanabiD_onInit takes nothing returns nothing
        local trigger t= CreateTrigger()
        local integer i= 0
	set s__HanabiD_hanabi_kills=0
        loop
            exitwhen i > 11
            if i != 3 and i != 7 and i != 11 then
                call TriggerRegisterPlayerChatEvent(t, Player(i), "-kills", true)
            endif
            set i=i + 1
        endloop
        call TriggerAddAction(t, function s__HanabiD_text)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__HanabiD_death))) // INLINED!!
    endfunction 


//===========================================================================
// Trigger: HanabiQ
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanabiQ_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanabiQ_Alloc__recycle[(0)] == 0 ) then
                set s__HanabiQ_Alloc__instanceCount=s__HanabiQ_Alloc__instanceCount + 1
                set this=s__HanabiQ_Alloc__instanceCount
            else
                set this=s__HanabiQ_Alloc__recycle[(0)]
                set s__HanabiQ_Alloc__recycle[(0)]=s__HanabiQ_Alloc__recycle[s__HanabiQ_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanabiQ_deallocate takes integer this returns nothing
            set s__HanabiQ_Alloc__recycle[this]=s__HanabiQ_Alloc__recycle[(0)]
            set s__HanabiQ_Alloc__recycle[(0)]=this
        endfunction


    function s__HanabiQ_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanabiQ_caster[this])
        local real y= GetUnitY(s__HanabiQ_caster[this])
        local real new_x= (((x )*1.0) + Cos((( s__HanabiQ_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__HanabiQ_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
 local unit u
        call SetUnitX(s__HanabiQ_caster[this], new_x)
        call SetUnitY(s__HanabiQ_caster[this], new_y)
        call SetUnitFacing(s__HanabiQ_caster[this], Rad2Deg(s__HanabiQ_angle[this]))
        call SetUnitAnimationByIndex(s__HanabiQ_caster[this], 1)
        set s__HanabiQ_count[this]=s__HanabiQ_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanabiQ_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
		if GetUnitAbilityLevel(s__HanabiQ_caster[this], 'B06C') > 0 then
                	call UnitDamageTarget(s__HanabiQ_caster[this], bj_lastCreatedUnit, GetHeroAgi(s__HanabiQ_caster[this], true) / 2.5 * GetUnitAbilityLevel(s__HanabiQ_caster[this], s__HanabiQ_SPELL_ID) + s__HanabiD_hanabi_kills * 2, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
		else
                	call UnitDamageTarget(s__HanabiQ_caster[this], bj_lastCreatedUnit, GetHeroAgi(s__HanabiQ_caster[this], true) / 2.5 * GetUnitAbilityLevel(s__HanabiQ_caster[this], s__HanabiQ_SPELL_ID) + s__HanabiD_hanabi_kills, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
		endif
        	call BlzEndUnitAbilityCooldown(s__HanabiQ_caster[this], 'A04W')
        	call BlzStartUnitAbilityCooldown(s__HanabiQ_caster[this], 'A04W', 1)

            	call PauseUnit(s__HanabiQ_caster[this], false)
            	call SetUnitAnimation(s__HanabiQ_caster[this], "attack")
            	call SetUnitTimeScale(s__HanabiQ_caster[this], 1.0)
                   
		set bj_lastCreatedEffect=AddSpecialEffectTarget("AnimeFlashEffect.mdx", bj_lastCreatedUnit, "chest")
		call BlzSetSpecialEffectColor(bj_lastCreatedEffect, 0, 255, 255)
		call DestroyEffect(bj_lastCreatedEffect)

		set u=CreateUnit(GetOwningPlayer(s__HanabiQ_caster[this]), 'n03F', GetUnitX(s__HanabiQ_caster[this]), GetUnitY(s__HanabiQ_caster[this]), GetUnitFacing(s__HanabiQ_caster[this]))
		call UnitAddAbility(u, 'A057')
		call IssueTargetOrderBJ(u, "attack", bj_lastCreatedUnit)
		call UnitApplyTimedLife(u, 'BTLF', 0.3)

                call ReleaseTimer(GetExpiredTimer())
                call DestroyGroup(bj_lastCreatedGroup)
                return
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__HanabiQ_count[this] > 350 / 35.0 then
            call PauseUnit(s__HanabiQ_caster[this], false)
            call SetUnitAnimation(s__HanabiQ_caster[this], "stand")
            call SetUnitTimeScale(s__HanabiQ_caster[this], 1.0)
            call s__HanabiQ_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanabiQ_actions takes nothing returns nothing
        local integer this= s__HanabiQ_allocate()
        set s__HanabiQ_caster[this]=GetTriggerUnit()
        set s__HanabiQ_count[this]=0
        set s__HanabiQ_angle[this]=Atan3(GetUnitX(s__HanabiQ_caster[this]) , GetUnitY(s__HanabiQ_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        call SetUnitTimeScale(s__HanabiQ_caster[this], 2.0)
        call SetUnitAnimationByIndex(s__HanabiQ_caster[this], 10)
        call PauseUnit(s__HanabiQ_caster[this], true)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanabiQ_periodic)
    endfunction 

    function s__HanabiQ_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(68 , s__HanabiQ_SPELL_ID , function s__HanabiQ_actions)
    endfunction 

//===========================================================================
// Trigger: HanabiW
//===========================================================================
    
//Implemented from module Alloc:
    
        function s__HanabiW_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanabiW_Alloc__recycle[(0)] == 0 ) then
                set s__HanabiW_Alloc__instanceCount=s__HanabiW_Alloc__instanceCount + 1
                set this=s__HanabiW_Alloc__instanceCount
            else
                set this=s__HanabiW_Alloc__recycle[(0)]
                set s__HanabiW_Alloc__recycle[(0)]=s__HanabiW_Alloc__recycle[s__HanabiW_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanabiW_deallocate takes integer this returns nothing
            set s__HanabiW_Alloc__recycle[this]=s__HanabiW_Alloc__recycle[(0)]
            set s__HanabiW_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HanabiW_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanabiW_dummy[this])
        local real y= GetUnitY(s__HanabiW_dummy[this])
        local real new_x= (((x )*1.0) + Cos((( s__HanabiW_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__HanabiW_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__HanabiW_dummy[this], new_x)
        call SetUnitY(s__HanabiW_dummy[this], new_y)
	set bj_lastCreatedEffect=AddSpecialEffect("DustWindFaster3.mdl", new_x, new_y)
	call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
	call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__HanabiW_angle[this])
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, GetRandomReal(0.8, 1.0))
	call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 300)
	call BlzSetSpecialEffectAlpha(bj_lastCreatedEffect, 200)
	call DestroyEffect(bj_lastCreatedEffect)
        set s__HanabiW_count[this]=s__HanabiW_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 200, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanabiW_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set x=GetUnitX(bj_lastCreatedUnit)
                set y=GetUnitY(bj_lastCreatedUnit)
                set new_x=(((x )*1.0) + Cos((( s__HanabiW_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( s__HanabiW_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
                if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) and GetUnitTypeId(bj_lastCreatedUnit) != 'e03B' then
                    call SetUnitX(bj_lastCreatedUnit, new_x)
                    call SetUnitY(bj_lastCreatedUnit, new_y)
                endif
		    if IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) and not IsUnitInGroup(bj_lastCreatedUnit, s__HanabiW_stun[this]) then
                	call GroupAddUnit(s__HanabiW_stun[this], bj_lastCreatedUnit)
			if GetUnitAbilityLevel(s__HanabiW_caster[this], 'B06C') > 0 then
        	    		call UnitDamageTarget(s__HanabiW_caster[this], bj_lastCreatedUnit, 2 * s__HanabiD_hanabi_kills, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			else
        	    		call UnitDamageTarget(s__HanabiW_caster[this], bj_lastCreatedUnit, s__HanabiD_hanabi_kills, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			endif
	            	call DestroyEffect(AddSpecialEffect(("Effects\\s_Earth_Smash.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                    	call StunUnitTimed(s__HanabiW_caster[this] , bj_lastCreatedUnit , 1.5)
		    endif
                if not IsUnitInGroup(bj_lastCreatedUnit, s__HanabiW_damaged[this]) then
                    call GroupAddUnit(s__HanabiW_damaged[this], bj_lastCreatedUnit)
                    call UnitDamageTarget(s__HanabiW_caster[this], bj_lastCreatedUnit, 95 * GetUnitAbilityLevel(s__HanabiW_caster[this], s__HanabiW_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__HanabiW_count[this] > 24 then
            call KillUnit(s__HanabiW_dummy[this])
	    call ShowUnit(s__HanabiW_dummy[this], false)
            call DestroyGroup(s__HanabiW_damaged[this])
            set s__HanabiW_damaged[this]=null
	    set s__HanabiW_stun[this]=null
            set s__HanabiW_dummy[this]=null
            call s__HanabiW_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HanabiW_actions takes nothing returns nothing
        local integer this= s__HanabiW_allocate()
        set s__HanabiW_caster[this]=GetTriggerUnit()
        set s__HanabiW_damaged[this]=CreateGroup()
        set s__HanabiW_stun[this]=CreateGroup()
        set s__HanabiW_angle[this]=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        set s__HanabiW_count[this]=0
        set s__HanabiW_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__HanabiW_caster[this]), GetUnitY(s__HanabiW_caster[this]), Rad2Deg(Atan3(GetUnitX(s__HanabiW_caster[this]) , GetUnitY(s__HanabiW_caster[this]) , GetSpellTargetX() , GetSpellTargetY())))
	call SetUnitAnimationByIndex(s__HanabiW_caster[this], 6)
        call TimerStart(NewTimerEx(this), 0.02, true, function s__HanabiW_periodic)
    endfunction 
    
    function s__HanabiW_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(68 , s__HanabiW_SPELL_ID , function s__HanabiW_actions)
    endfunction 
    
//===========================================================================
// Trigger: HanabiE
//===========================================================================

//Implemented from module Alloc:
    
        function s__Counter_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Counter_Alloc__recycle[(0)] == 0 ) then
                set s__Counter_Alloc__instanceCount=s__Counter_Alloc__instanceCount + 1
                set this=s__Counter_Alloc__instanceCount
            else
                set this=s__Counter_Alloc__recycle[(0)]
                set s__Counter_Alloc__recycle[(0)]=s__Counter_Alloc__recycle[s__Counter_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Counter_deallocate takes integer this returns nothing
            set s__Counter_Alloc__recycle[this]=s__Counter_Alloc__recycle[(0)]
            set s__Counter_Alloc__recycle[(0)]=this
        endfunction
    
    function s__Counter_damage takes nothing returns nothing
   local real caster_x= GetUnitX(GetTriggerUnit())
        local real caster_y= GetUnitY(GetTriggerUnit())
        local real target_x= GetUnitX(GetEventDamageSource())
        local real target_y= GetUnitY(GetEventDamageSource())
 local real angle= Atan3(caster_x , caster_y , target_x , target_y)
        local real x= (((target_x )*1.0) + Cos((( angle )*1.0)) * (( 90)*1.0)) // INLINED!!
        local real y= (((target_y )*1.0) + Sin((( angle )*1.0)) * (( 90)*1.0)) // INLINED!!
        if GetEventDamage() > 100 and GetUnitAbilityLevel(GetTriggerUnit(), 'B06D') > 0 and IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) == true then
	    if not IsTerrainPathable(target_x, target_y, PATHING_TYPE_WALKABILITY) then
		call SetUnitX(GetTriggerUnit(), x)
		call SetUnitY(GetTriggerUnit(), y)
           	call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( target_x )*1.0), (( target_y)*1.0))) // INLINED!!
	    endif
        endif
    endfunction 
    
    function s__Counter_actions takes nothing returns nothing
	    call TriggerRegisterUnitEvent(s__Counter_t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
    endfunction
    
    function s__Counter_onInit takes nothing returns nothing
	set s__Counter_t=CreateTrigger()
	call TriggerAddAction(s__Counter_t, function s__Counter_damage)
        call RegisterSpellEffectEvent2(('A02K' ) , Filter(( function s__Counter_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: HanabiR
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanabiR_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanabiR_Alloc__recycle[(0)] == 0 ) then
                set s__HanabiR_Alloc__instanceCount=s__HanabiR_Alloc__instanceCount + 1
                set this=s__HanabiR_Alloc__instanceCount
            else
                set this=s__HanabiR_Alloc__recycle[(0)]
                set s__HanabiR_Alloc__recycle[(0)]=s__HanabiR_Alloc__recycle[s__HanabiR_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanabiR_deallocate takes integer this returns nothing
            set s__HanabiR_Alloc__recycle[this]=s__HanabiR_Alloc__recycle[(0)]
            set s__HanabiR_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HanabiR_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x
        local real y
        local real angle
	call SetUnitX(s__HanabiR_kaiten[this], GetUnitX(s__HanabiR_caster[this]))
	call SetUnitY(s__HanabiR_kaiten[this], GetUnitY(s__HanabiR_caster[this]))
        call SetUnitFacing(s__HanabiR_caster[this], ( GetUnitFacing(s__HanabiR_caster[this]) + 50.00 ))
	call SetUnitScale(s__HanabiR_kaiten[this], 1.79, 0, 0)
	call SetUnitScale(s__HanabiR_dust[this], 3.1, 0, 0)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HanabiR_caster[this]), GetUnitY(s__HanabiR_caster[this]), 350, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanabiR_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
		call IssueTargetOrder(bj_lastCreatedUnit, "attack", s__HanabiR_caster[this])
		set angle=Atan3(GetUnitX(s__HanabiR_caster[this]) , GetUnitY(s__HanabiR_caster[this]) , GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit))
		set x=(((GetUnitX(s__HanabiR_caster[this]) )*1.0) + Cos((( angle + Deg2Rad(5) )*1.0)) * (( 330)*1.0)) // INLINED!!
		set y=(((GetUnitY(s__HanabiR_caster[this]) )*1.0) + Sin((( angle + Deg2Rad(5) )*1.0)) * (( 330)*1.0)) // INLINED!!
                if not IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) then
                    call SetUnitX(bj_lastCreatedUnit, x)
                    call SetUnitY(bj_lastCreatedUnit, y)
		    call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                endif
		if GetUnitAbilityLevel(s__HanabiR_caster[this], 'B06C') > 0 then
                	call UnitDamageTarget(s__HanabiR_caster[this], bj_lastCreatedUnit, ( 2.0 * GetHeroAgi(s__HanabiR_caster[this], true) + 650 ) * GetUnitAbilityLevel(s__HanabiR_caster[this], s__HanabiR_SPELL_ID) / 85 + s__HanabiD_hanabi_kills / 85, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		else
                	call UnitDamageTarget(s__HanabiR_caster[this], bj_lastCreatedUnit, ( 2.0 * GetHeroAgi(s__HanabiR_caster[this], true) + 650 ) * GetUnitAbilityLevel(s__HanabiR_caster[this], s__HanabiR_SPELL_ID) / 85 + ( s__HanabiD_hanabi_kills * 2 ) / 85, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__HanabiR_count[this]=s__HanabiR_count[this] + 1
        if s__HanabiR_count[this] > 85 then
            call SetUnitTimeScale(s__HanabiR_caster[this], 1.00)
	    call ResetUnitAnimation(s__HanabiR_caster[this])
	    call SetUnitInvulnerable(s__HanabiR_caster[this], false)
	    call PauseUnit(s__HanabiR_caster[this], false)
	    call KillUnit(s__HanabiR_kaiten[this])
	    call ShowUnit(s__HanabiR_kaiten[this], false)
	    call KillUnit(s__HanabiR_dust[this])
	    call ShowUnit(s__HanabiR_dust[this], false)
	    set s__HanabiR_kaiten[this]=null
	    set s__HanabiR_dust[this]=null
            call s__HanabiR_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

   function s__HanabiR_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	call TimerStart(NewTimerEx(this), 0.03, true, function s__HanabiR_periodic)
   endfunction

    
    function s__HanabiR_actions takes nothing returns nothing
        local integer this= s__HanabiR_allocate()
        set s__HanabiR_caster[this]=GetTriggerUnit()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            	call PlaySoundOnUnitBJ(gg_snd_Hanabi_R, 100.0, GetTriggerUnit())
        endif
	set s__HanabiR_kaiten[this]=CreateUnit(GetTriggerPlayer(), 'ovlj', GetUnitX(s__HanabiR_caster[this]), GetUnitY(s__HanabiR_caster[this]), 270)
       	call SetUnitTimeScale(s__HanabiR_kaiten[this], 0.25)
	set s__HanabiR_dust[this]=CreateUnit(GetTriggerPlayer(), 'h0B8', GetUnitX(s__HanabiR_caster[this]), GetUnitY(s__HanabiR_caster[this]), 270)
       	call SetUnitTimeScale(s__HanabiR_dust[this], 0.02)
        call PauseUnit(s__HanabiR_caster[this], true)
        set s__HanabiR_count[this]=0
	call SetUnitInvulnerable(s__HanabiR_caster[this], true)
	call SetUnitAnimationByIndex(s__HanabiR_caster[this], 7)
        call SetUnitTimeScale(s__HanabiR_caster[this], 0.5)
        call TimerStart(NewTimerEx(this), 0.20, false, function s__HanabiR_delay)
    endfunction 
    
    function s__HanabiR_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(68 , s__HanabiR_SPELL_ID , function s__HanabiR_actions)
    endfunction 
    
//===========================================================================
// Trigger: HanabiT
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanabiT_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanabiT_Alloc__recycle[(0)] == 0 ) then
                set s__HanabiT_Alloc__instanceCount=s__HanabiT_Alloc__instanceCount + 1
                set this=s__HanabiT_Alloc__instanceCount
            else
                set this=s__HanabiT_Alloc__recycle[(0)]
                set s__HanabiT_Alloc__recycle[(0)]=s__HanabiT_Alloc__recycle[s__HanabiT_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanabiT_deallocate takes integer this returns nothing
            set s__HanabiT_Alloc__recycle[this]=s__HanabiT_Alloc__recycle[(0)]
            set s__HanabiT_Alloc__recycle[(0)]=this
        endfunction
	
 function s__HanabiT_destroy takes integer this returns nothing
		call SetUnitTimeScale(s__HanabiT_caster[this], 1.0)
		call ShowUnit(s__HanabiT_caster[this], true)
            	call SelectUnitForPlayerSingle(s__HanabiT_caster[this], GetOwningPlayer(s__HanabiT_caster[this]))


		call SetUnitInvulnerable(s__HanabiT_caster[this], false)
		call KillUnit(s__HanabiT_domo[this])
		call ShowUnit(s__HanabiT_domo[this], false)
        	call KillUnit(s__HanabiT_domo2[this])
		call PauseUnit(s__HanabiT_caster[this], false)
        	set s__HanabiT_domo2[this]=null
		set s__HanabiT_domo[this]=null
		call s__HanabiT_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction
	
 function s__HanabiT_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real new_x
  local real new_y
  local real angle
  local real offset
         local unit u
  local unit array UnitArray
		set s__HanabiT_count[this]=s__HanabiT_count[this] + 1
		set s__HanabiT_count2[this]=0
		call sc__HanabiT_start(this)
		call UnitRemoveBuffs(s__HanabiT_caster[this], false, true)
		//call AddSpecialEffectEx("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetUnitX(this.caster), GetUnitY(this.caster))
		set angle=Atan3(GetUnitX(s__HanabiT_caster[this]) , GetUnitY(s__HanabiT_caster[this]) , s__HanabiT_target_x[this] , s__HanabiT_target_y[this])
		set new_x=(((GetUnitX(s__HanabiT_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
		set new_y=(((GetUnitY(s__HanabiT_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        	if GetDistance(new_x , new_y , s__HanabiT_target_x[this] , s__HanabiT_target_y[this]) > 50 then
            		call SetUnitX(s__HanabiT_caster[this], new_x)
            		call SetUnitY(s__HanabiT_caster[this], new_y)
	    		call SetUnitFacing(s__HanabiT_caster[this], Rad2Deg(angle))
        	endif
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HanabiT_domo[this]), GetUnitY(s__HanabiT_domo[this]), 600, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanabiT_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
				//call UnitDamageTarget(this.caster, bj_lastCreatedUnit, 13 * GetHeroAgi(this.caster, true) / 133.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				set s__HanabiT_count2[this]=s__HanabiT_count2[this] + 1
				set UnitArray[s__HanabiT_count2[this]]=bj_lastCreatedUnit
				set u=UnitArray[GetRandomInt(1, s__HanabiT_count2[this])]
			endif
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		if s__HanabiT_count[this] > 64 * 5 then
			call s__HanabiT_destroy(this)
		elseif GetDistance(new_x , new_y , s__HanabiT_target_x[this] , s__HanabiT_target_y[this]) <= 50 then
			if GetUnitAbilityLevel(s__HanabiT_caster[this], 'B06C') > 0 then
				call UnitDamageTarget(s__HanabiT_caster[this], u, ( s__HanabiD_hanabi_kills + s__HanabiD_hanabi_kills ) / 20, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			else
				call UnitDamageTarget(s__HanabiT_caster[this], u, s__HanabiD_hanabi_kills / 20, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			endif
	        	set s__HanabiT_target_x[this]=GetUnitX(u)
                	set s__HanabiT_target_y[this]=GetUnitY(u)
		endif
 endfunction 

 function s__HanabiT_start takes integer this returns nothing
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanabiT_caster[this]), 'h0B7', GetUnitX(s__HanabiT_caster[this]), GetUnitY(s__HanabiT_caster[this]), GetUnitFacing(s__HanabiT_caster[this]))
		call SetUnitTimeScale(bj_lastCreatedUnit, 3.0)
		call SetUnitAnimationWithRarity(bj_lastCreatedUnit, "attack", RARITY_FREQUENT)
		call SetUnitVertexColorBJEx(bj_lastCreatedUnit , 100 , 100 , 100 , 60.00)
		call UnitApplyTimedLifeBJ(0.2, 'BTLF', bj_lastCreatedUnit)
        	call SetUnitX(bj_lastCreatedUnit, GetUnitX(s__HanabiT_caster[this]))
        	call SetUnitY(bj_lastCreatedUnit, GetUnitY(s__HanabiT_caster[this]))
 endfunction 


 function s__HanabiT_actions takes nothing returns nothing
  local integer this= s__HanabiT_allocate()
  local real new_x
  local real new_y
		set s__HanabiT_caster[this]=GetTriggerUnit()
        	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            		call PlaySoundOnUnitBJ(gg_snd_Hanabi_T, 100.0, GetTriggerUnit())
        	endif
		set s__HanabiT_domo[this]=CreateUnit(GetTriggerPlayer(), 'h06M', GetUnitX(s__HanabiT_caster[this]), GetUnitY(s__HanabiT_caster[this]), 270)
        	set s__HanabiT_domo2[this]=CreateUnit(GetTriggerPlayer(), 'h025', GetUnitX(s__HanabiT_domo[this]), GetUnitY(s__HanabiT_domo[this]), 270)
		call UnitAddAbility(s__HanabiT_domo[this], 'A1EZ')
		call SetUnitTimeScale(s__HanabiT_domo2[this], 0.2)
		call PauseUnit(s__HanabiT_caster[this], true)
		set s__HanabiT_count[this]=0
		set s__HanabiT_angle[this]=0
		call ShowUnit(s__HanabiT_caster[this], false)
		call SetUnitInvulnerable(s__HanabiT_caster[this], true)
		set s__HanabiT_target_x[this]=GetUnitX(s__HanabiT_caster[this])
		set s__HanabiT_target_y[this]=GetUnitY(s__HanabiT_caster[this])
            	call TimerStart(NewTimerEx(this), 0.02, true, function s__HanabiT_periodic)
 endfunction 
	

        function s__HanabiT_dies takes nothing returns nothing
        	if GetUnitTypeId(GetTriggerUnit()) == 'h0B7' then
            		call ShowUnit(GetTriggerUnit(), false)
        	endif
     endfunction

 function s__HanabiT_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(68 , s__HanabiT_SPELL_ID , function s__HanabiT_actions)
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__HanabiT_dies))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: HanzoReveal
//===========================================================================



 function s__HanzoReveal_actions takes nothing returns nothing
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 2000, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and ( GetUnitAbilityLevel(bj_lastCreatedUnit, 'Bapl') > 0 or GetUnitAbilityLevel(bj_lastCreatedUnit, 'B06W') > 0 ) then
				set bj_lastCreatedUnit=GetInvisibleDummy(GetTriggerPlayer() , GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit))
call UnitAddAbility((bj_lastCreatedUnit ), ( 'A0DO')) // INLINED!!
    				call IssuePointOrder(bj_lastCreatedUnit, "farsight", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
    				call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 5.0)
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction 

 function s__HanzoReveal_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(86 , s__HanzoReveal_SPELL_ID , function s__HanzoReveal_actions)
 endfunction


//===========================================================================
// Trigger: HanzoThrowScythe
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanzoThrowScythe_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanzoThrowScythe_Alloc__recycle[(0)] == 0 ) then
                set s__HanzoThrowScythe_Alloc__instanceCount=s__HanzoThrowScythe_Alloc__instanceCount + 1
                set this=s__HanzoThrowScythe_Alloc__instanceCount
            else
                set this=s__HanzoThrowScythe_Alloc__recycle[(0)]
                set s__HanzoThrowScythe_Alloc__recycle[(0)]=s__HanzoThrowScythe_Alloc__recycle[s__HanzoThrowScythe_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanzoThrowScythe_deallocate takes integer this returns nothing
            set s__HanzoThrowScythe_Alloc__recycle[this]=s__HanzoThrowScythe_Alloc__recycle[(0)]
            set s__HanzoThrowScythe_Alloc__recycle[(0)]=this
        endfunction

    function s__HanzoThrowScythe_destroy takes integer this returns nothing
        call UnitRemoveAbility(s__HanzoThrowScythe_caster[this], s__HanzoThrowScythe_SPELL_ID_2)
        call SetPlayerAbilityAvailable(GetOwningPlayer(s__HanzoThrowScythe_caster[this]), s__HanzoThrowScythe_SPELL_ID, true)
        if GetWidgetLife(s__HanzoThrowScythe_scythe[this]) > 0.405 then
            call KillUnit(s__HanzoThrowScythe_scythe[this])
            call ShowUnit(s__HanzoThrowScythe_scythe[this], false)
        endif
        set s__HanzoThrowScythe_scythe[this]=null
        call s__HanzoThrowScythe_deallocate(this)
    endfunction 

    function s__HanzoThrowScythe_move takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanzoThrowScythe_caster[this])
        local real y= GetUnitY(s__HanzoThrowScythe_caster[this])
        local real angle= Atan3(GetUnitX(s__HanzoThrowScythe_caster[this]) , GetUnitY(s__HanzoThrowScythe_caster[this]) , s__HanzoThrowScythe_target_x[this] , s__HanzoThrowScythe_target_y[this])
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__HanzoThrowScythe_caster[this], new_x)
        call SetUnitY(s__HanzoThrowScythe_caster[this], new_y)
        call SetUnitFacing(s__HanzoThrowScythe_caster[this], Rad2Deg(angle))
        if GetDistance(new_x , new_y , s__HanzoThrowScythe_target_x[this] , s__HanzoThrowScythe_target_y[this]) < 50 then
            if GetWidgetLife(s__HanzoThrowScythe_scythe[this]) > 0.405 then
                call UnitRemoveAbility(s__HanzoThrowScythe_caster[this], s__HanzoThrowScythe_SPELL_ID_2)
                call SetPlayerAbilityAvailable(GetOwningPlayer(s__HanzoThrowScythe_caster[this]), s__HanzoThrowScythe_SPELL_ID, true)
                call KillUnit(s__HanzoThrowScythe_scythe[this])
                call ShowUnit(s__HanzoThrowScythe_scythe[this], false)
            endif
            call s__HanzoThrowScythe_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoThrowScythe_pullActions takes nothing returns nothing
        local integer this= s__HanzoThrowScythe_allocate()
        set s__HanzoThrowScythe_caster[this]=GetTriggerUnit()
        set s__HanzoThrowScythe_target[this]=s__HanzoThrowScythe_target[s__HanzoThrowScythe_instance]
        set s__HanzoThrowScythe_scythe[this]=s__HanzoThrowScythe_scythe[s__HanzoThrowScythe_instance]
        call SetUnitAnimation(s__HanzoThrowScythe_caster[this], "walk")
        call IssueTargetOrder(s__HanzoThrowScythe_caster[this], "attack", s__HanzoThrowScythe_target[this])
        set s__HanzoThrowScythe_target_x[this]=GetUnitX(s__HanzoThrowScythe_scythe[this])
        set s__HanzoThrowScythe_target_y[this]=GetUnitY(s__HanzoThrowScythe_scythe[this])
		set bj_lastCreatedEffect=AddSpecialEffect("DustWaveDash.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Atan3(GetUnitX(s__HanzoThrowScythe_caster[this]) , GetUnitY(s__HanzoThrowScythe_caster[this]) , s__HanzoThrowScythe_target_x[this] , s__HanzoThrowScythe_target_y[this]))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetPointZ(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit())))
		call DestroyEffect(bj_lastCreatedEffect)
        call TimerStart(NewTimerEx(this), 0.02, true, function s__HanzoThrowScythe_move)
    endfunction 

    function s__HanzoThrowScythe_removeSpell takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call s__HanzoThrowScythe_destroy(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoThrowScythe_pull takes integer this returns nothing
        call SetPlayerAbilityAvailable(GetOwningPlayer(s__HanzoThrowScythe_caster[this]), s__HanzoThrowScythe_SPELL_ID, false)
        call UnitAddAbility(s__HanzoThrowScythe_caster[this], s__HanzoThrowScythe_SPELL_ID_2)
        call EsnareUnitTimed(s__HanzoThrowScythe_caster[this] , s__HanzoThrowScythe_target[this] , 2.0)
        call UnitDamageTarget(s__HanzoThrowScythe_caster[this], s__HanzoThrowScythe_target[this], GetHeroAgi(s__HanzoThrowScythe_caster[this], true) * GetUnitAbilityLevel(s__HanzoThrowScythe_caster[this], s__HanzoThrowScythe_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(s__HanzoThrowScythe_target[this]) )*1.0), (( GetUnitY(s__HanzoThrowScythe_target[this]))*1.0))) // INLINED!!
        call TimerStart(NewTimerEx(this), 2.0, false, function s__HanzoThrowScythe_removeSpell)
    endfunction 

    function s__HanzoThrowScythe_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanzoThrowScythe_scythe[this])
        local real y= GetUnitY(s__HanzoThrowScythe_scythe[this])
        local real new_x= (((x )*1.0) + Cos((( s__HanzoThrowScythe_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__HanzoThrowScythe_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
        call SetUnitX(s__HanzoThrowScythe_scythe[this], new_x)
        call SetUnitY(s__HanzoThrowScythe_scythe[this], new_y)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 180, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanzoThrowScythe_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set s__HanzoThrowScythe_target[this]=bj_lastCreatedUnit
                elseif s__HanzoThrowScythe_target[this] == null or IsUnitType(s__HanzoThrowScythe_target[this], UNIT_TYPE_HERO) == false then
		    set s__HanzoThrowScythe_target[this]=bj_lastCreatedUnit
                endif
            endif
        endloop
        set s__HanzoThrowScythe_count[this]=s__HanzoThrowScythe_count[this] + 1
        if s__HanzoThrowScythe_target[this] != null and IsUnitType(s__HanzoThrowScythe_target[this], UNIT_TYPE_HERO) == true then
            call SetUnitX(s__HanzoThrowScythe_scythe[this], GetUnitX(s__HanzoThrowScythe_target[this]))
            call SetUnitY(s__HanzoThrowScythe_scythe[this], GetUnitY(s__HanzoThrowScythe_target[this]))
            set s__HanzoThrowScythe_target[s__HanzoThrowScythe_instance]=s__HanzoThrowScythe_target[this]
            call s__HanzoThrowScythe_pull(this)
            call ReleaseTimer(GetExpiredTimer())
        elseif s__HanzoThrowScythe_count[this] >= 30 then
            if s__HanzoThrowScythe_target[this] != null then
                set s__HanzoThrowScythe_target[s__HanzoThrowScythe_instance]=s__HanzoThrowScythe_target[this]
                call s__HanzoThrowScythe_pull(this)
                call ReleaseTimer(GetExpiredTimer())
            else
                call s__HanzoThrowScythe_destroy(this)
            endif
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoThrowScythe_periodicChains takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle
        local real new_x
        local real new_y
        if GetWidgetLife(s__HanzoThrowScythe_scythe[this]) < 0.405 then
            loop
                set s__HanzoThrowScythe_count[this]=s__HanzoThrowScythe_count[this] - 1
                if s__HanzoThrowScythe_count[this] < 0 then
                    exitwhen true
                else
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" ), (( s__s__HanzoThrowScythe_chains_x[(this)*(1)+s__HanzoThrowScythe_count[this]] )*1.0), (( s__s__HanzoThrowScythe_chains_y[(this)*(1)+s__HanzoThrowScythe_count[this]])*1.0))) // INLINED!!
		    call BlzSetSpecialEffectX(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], 5180)
        	    call BlzSetSpecialEffectY(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], - 6940)
        	    call BlzSetSpecialEffectScale(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], 0)
        	    call DestroyEffect(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]])
        	    set s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]]= null
                endif
            endloop
            call s__HanzoThrowScythe_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            set angle=Atan3(GetUnitX(s__HanzoThrowScythe_caster[this]) , GetUnitY(s__HanzoThrowScythe_caster[this]) , GetUnitX(s__HanzoThrowScythe_scythe[this]) , GetUnitY(s__HanzoThrowScythe_scythe[this]))
            loop
                set s__HanzoThrowScythe_count[this]=s__HanzoThrowScythe_count[this] - 1
                if s__HanzoThrowScythe_count[this] < 0 then
                    exitwhen true
                else
                    call BlzSetSpecialEffectX(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], 5180)
                    call BlzSetSpecialEffectY(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], - 6940)
                    call BlzSetSpecialEffectScale(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], 0)
                    call DestroyEffect(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]])
                    set s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]]= null
                endif
            endloop
            set s__HanzoThrowScythe_count[this]=0
            loop
                set new_x=(((GetUnitX(s__HanzoThrowScythe_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 30 * s__HanzoThrowScythe_count[this])*1.0)) // INLINED!!
                set new_y=(((GetUnitY(s__HanzoThrowScythe_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 30 * s__HanzoThrowScythe_count[this])*1.0)) // INLINED!!
                if GetDistance(new_x , new_y , GetUnitX(s__HanzoThrowScythe_scythe[this]) , GetUnitY(s__HanzoThrowScythe_scythe[this])) < 50 then
                    exitwhen true
                else
                    set s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]]= AddSpecialEffect("war3mapImported\\ChainElement.mdl", new_x, new_y)
                    call BlzSetSpecialEffectYaw(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], angle)
                    call BlzSetSpecialEffectScale(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], 2.0)
                    call BlzSetSpecialEffectHeight(s__s__HanzoThrowScythe_chains[(this)*(1)+s__HanzoThrowScythe_count[this]], 100 + GetPointZ(new_x , new_y))
                    set s__s__HanzoThrowScythe_chains_x[(this)*(1)+s__HanzoThrowScythe_count[this]]= new_x
                    set s__s__HanzoThrowScythe_chains_y[(this)*(1)+s__HanzoThrowScythe_count[this]]= new_y
                    set s__HanzoThrowScythe_count[this]=s__HanzoThrowScythe_count[this] + 1
                endif
            endloop
        endif
    endfunction 

    function s__HanzoThrowScythe_actions takes nothing returns nothing
        local integer this= s__HanzoThrowScythe_allocate()
        local unit u
        set s__HanzoThrowScythe_caster[this]=GetTriggerUnit()
        set s__HanzoThrowScythe_angle[this]=Atan3(GetUnitX(s__HanzoThrowScythe_caster[this]) , GetUnitY(s__HanzoThrowScythe_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__HanzoThrowScythe_count[this]=0
        set u=CreateUnit(GetTriggerPlayer(), 'e06F', GetUnitX(s__HanzoThrowScythe_caster[this]), GetUnitY(s__HanzoThrowScythe_caster[this]), Rad2Deg(s__HanzoThrowScythe_angle[this]) - 90)
        set s__HanzoThrowScythe_scythe[this]=u
        set s__HanzoThrowScythe_target[this]=null
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoThrowScythe_periodic)
        set this=s__HanzoThrowScythe_allocate()
        set s__HanzoThrowScythe_caster[this]=GetTriggerUnit()
        set s__HanzoThrowScythe_scythe[this]=u
        set s__HanzoThrowScythe_count[this]=0
        set s__HanzoThrowScythe_instance=this
        call TimerStart(NewTimerEx(this), 0.04, true, function s__HanzoThrowScythe_periodicChains)
    endfunction 

    function s__HanzoThrowScythe_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(86 , s__HanzoThrowScythe_SPELL_ID , function s__HanzoThrowScythe_actions)
        call RegisterSpellEffectEventForId(86 , s__HanzoThrowScythe_SPELL_ID_2 , function s__HanzoThrowScythe_pullActions)
    endfunction

//===========================================================================
// Trigger: HanzoPoisonFog
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanzoPoisonFog_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanzoPoisonFog_Alloc__recycle[(0)] == 0 ) then
                set s__HanzoPoisonFog_Alloc__instanceCount=s__HanzoPoisonFog_Alloc__instanceCount + 1
                set this=s__HanzoPoisonFog_Alloc__instanceCount
            else
                set this=s__HanzoPoisonFog_Alloc__recycle[(0)]
                set s__HanzoPoisonFog_Alloc__recycle[(0)]=s__HanzoPoisonFog_Alloc__recycle[s__HanzoPoisonFog_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanzoPoisonFog_deallocate takes integer this returns nothing
            set s__HanzoPoisonFog_Alloc__recycle[this]=s__HanzoPoisonFog_Alloc__recycle[(0)]
            set s__HanzoPoisonFog_Alloc__recycle[(0)]=this
        endfunction

    function s__HanzoPoisonFog_removeBlindness takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i
     local integer j

                set i=0
                loop
                    exitwhen i > 11
		    set j=0
		    loop
			
			exitwhen j > 11
			if IsPlayerAlly(Player(i), Player(j)) then
				call SetPlayerAllianceBJ(Player(i), ALLIANCE_SHARED_VISION, true, Player(j))
				call SetPlayerAllianceBJ(Player(j), ALLIANCE_SHARED_VISION, true, Player(i))
			endif
			    set j=j + 1
		    endloop
				set i=i + 1
		endloop

        call DestroyGroup(s__HanzoPoisonFog_damaged[this])
        call KillUnit(s__HanzoPoisonFog_dummy[this])
        set s__HanzoPoisonFog_damaged[this]=null
        set s__HanzoPoisonFog_dummy[this]=null
        call s__HanzoPoisonFog_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoPoisonFog_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanzoPoisonFog_dummy[this])
        local real y= GetUnitY(s__HanzoPoisonFog_dummy[this])
        local real new_x= (((x )*1.0) + Cos((( s__HanzoPoisonFog_angle[this] )*1.0)) * (( 20)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__HanzoPoisonFog_angle[this] )*1.0)) * (( 20)*1.0)) // INLINED!!
        local real offset
        local real new_angle
        local integer i
        call SetUnitX(s__HanzoPoisonFog_dummy[this], new_x)
        call SetUnitY(s__HanzoPoisonFog_dummy[this], new_y)
        set s__HanzoPoisonFog_count[this]=s__HanzoPoisonFog_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 400, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanzoPoisonFog_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HanzoPoisonFog_damaged[this]) then
                call UnitDamageTarget(s__HanzoPoisonFog_caster[this], bj_lastCreatedUnit, 90 * GetUnitAbilityLevel(s__HanzoPoisonFog_caster[this], s__HanzoPoisonFog_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                call GroupAddUnit(s__HanzoPoisonFog_damaged[this], bj_lastCreatedUnit)
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set i=0
                    loop
                        exitwhen i > 11
                        if i != GetPlayerId(GetOwningPlayer(bj_lastCreatedUnit)) and IsPlayerAlly(Player(i), GetOwningPlayer(bj_lastCreatedUnit)) then
                            call SetPlayerAllianceBJ(Player(i), ALLIANCE_SHARED_VISION, false, GetOwningPlayer(bj_lastCreatedUnit))
			    call SetPlayerAllianceBJ(GetOwningPlayer(bj_lastCreatedUnit), ALLIANCE_SHARED_VISION, false, Player(i))
                        endif
                        set i=i + 1
                    endloop
                endif
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if ModuloInteger(s__HanzoPoisonFog_count[this], 5) == 0 then
            set offset=GetRandomReal(0, 150)
            set new_angle=GetRandomReal(0, 2 * bj_PI)
            set new_x=(((new_x )*1.0) + Cos((( new_angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set new_y=(((new_y )*1.0) + Sin((( new_angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanzoPoisonFog_caster[this]), 'h03V', new_x, new_y, GetRandomReal(0, 360))
            call SetUnitTimeScale(bj_lastCreatedUnit, 2.5)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        endif
        if s__HanzoPoisonFog_count[this] >= 30 then
            call TimerStart(NewTimerEx(this), 3.0, false, function s__HanzoPoisonFog_removeBlindness)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoPoisonFog_actions takes nothing returns nothing
        local integer this= s__HanzoPoisonFog_allocate()
        set s__HanzoPoisonFog_caster[this]=GetTriggerUnit()
        set s__HanzoPoisonFog_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__HanzoPoisonFog_caster[this]), GetUnitY(s__HanzoPoisonFog_caster[this]), 270)
        set s__HanzoPoisonFog_count[this]=0
        set s__HanzoPoisonFog_angle[this]=Atan3(GetUnitX(s__HanzoPoisonFog_caster[this]) , GetUnitY(s__HanzoPoisonFog_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__HanzoPoisonFog_damaged[this]=CreateGroup()
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoPoisonFog_periodic)
    endfunction 

    function s__HanzoPoisonFog_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(86 , s__HanzoPoisonFog_SPELL_ID , function s__HanzoPoisonFog_actions)
    endfunction 

//===========================================================================
// Trigger: HanzoUppercut
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanzoUppercut_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanzoUppercut_Alloc__recycle[(0)] == 0 ) then
                set s__HanzoUppercut_Alloc__instanceCount=s__HanzoUppercut_Alloc__instanceCount + 1
                set this=s__HanzoUppercut_Alloc__instanceCount
            else
                set this=s__HanzoUppercut_Alloc__recycle[(0)]
                set s__HanzoUppercut_Alloc__recycle[(0)]=s__HanzoUppercut_Alloc__recycle[s__HanzoUppercut_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanzoUppercut_deallocate takes integer this returns nothing
            set s__HanzoUppercut_Alloc__recycle[this]=s__HanzoUppercut_Alloc__recycle[(0)]
            set s__HanzoUppercut_Alloc__recycle[(0)]=this
        endfunction

    function s__HanzoUppercut_knockback takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanzoUppercut_target[this])
        local real y= GetUnitY(s__HanzoUppercut_target[this])
        local real new_x= (((x )*1.0) + Cos((( s__HanzoUppercut_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__HanzoUppercut_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real height= ParabolaZ(500 , 15 , s__HanzoUppercut_count[this])
        if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
           call SetUnitX(s__HanzoUppercut_target[this], new_x)
           call SetUnitY(s__HanzoUppercut_target[this], new_y)
        endif
        call UnitAddAbility(s__HanzoUppercut_target[this], 'Arav')
        call UnitRemoveAbility(s__HanzoUppercut_target[this], 'Arav')
        call SetUnitFlyHeight(s__HanzoUppercut_target[this], height, 0)
        set s__HanzoUppercut_count[this]=s__HanzoUppercut_count[this] + 1
        if s__HanzoUppercut_count[this] == 6 then
            call PauseUnit(s__HanzoUppercut_caster[this], false)
        endif
        if s__HanzoUppercut_count[this] >= 15 then
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( GetUnitX(s__HanzoUppercut_target[this]) )*1.0), (( GetUnitY(s__HanzoUppercut_target[this]))*1.0))) // INLINED!!
            call PauseUnit(s__HanzoUppercut_target[this], false)
            if ( GetUnitAbilityLevel(s__HanzoUppercut_target[this], 'Bapl') > 0 or GetUnitAbilityLevel(s__HanzoUppercut_target[this], 'B06W') > 0 ) then


            call StunUnitTimed(s__HanzoUppercut_caster[this] , s__HanzoUppercut_target[this] , 1.0)
        endif
            call SetUnitFlyHeight(s__HanzoUppercut_target[this], 0, 0)
            call s__HanzoUppercut_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoUppercut_comedown takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitFlyHeight(s__HanzoUppercut_caster[this], 0, 2500)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoUppercut_punch takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= Atan3(GetUnitX(s__HanzoUppercut_caster[this]) , GetUnitY(s__HanzoUppercut_caster[this]) , GetUnitX(s__HanzoUppercut_target[this]) , GetUnitY(s__HanzoUppercut_target[this]))
        local real new_x= (((GetUnitX(s__HanzoUppercut_target[this]) )*1.0) + Cos((( angle + bj_PI )*1.0)) * (( 100)*1.0)) // INLINED!!
        local real new_y= (((GetUnitY(s__HanzoUppercut_target[this]) )*1.0) + Sin((( angle + bj_PI )*1.0)) * (( 100)*1.0)) // INLINED!!
        call ShowUnit(s__HanzoUppercut_caster[this], true)
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__HanzoUppercut_caster[this]) )*1.0), (( GetUnitY(s__HanzoUppercut_caster[this]))*1.0))) // INLINED!!
        call SelectUnitForPlayerSingle(s__HanzoUppercut_caster[this], GetOwningPlayer(s__HanzoUppercut_caster[this]))
        call SetUnitX(s__HanzoUppercut_caster[this], new_x)
        call SetUnitY(s__HanzoUppercut_caster[this], new_y)
        call SetUnitAnimation(s__HanzoUppercut_caster[this], "attack")
        call UnitAddAbility(s__HanzoUppercut_caster[this], 'Arav')
        call UnitRemoveAbility(s__HanzoUppercut_caster[this], 'Arav')
        call SetUnitFlyHeight(s__HanzoUppercut_caster[this], 500, 2500)
        set s__HanzoUppercut_angle[this]=angle
        call PauseUnit(s__HanzoUppercut_target[this], true)
        call SetUnitAnimation(s__HanzoUppercut_target[this], "death")
        call UnitDamageTarget(s__HanzoUppercut_caster[this], s__HanzoUppercut_target[this], GetHeroStr(s__HanzoUppercut_caster[this], true) * GetUnitAbilityLevel(s__HanzoUppercut_caster[this], s__HanzoUppercut_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
    
        call DestroyEffect(AddSpecialEffect(("Effects\\s_Earth_Smash.mdx" ), (( GetUnitX(s__HanzoUppercut_target[this]) )*1.0), (( GetUnitY(s__HanzoUppercut_target[this]))*1.0))) // INLINED!!
        set bj_lastCreatedEffect=AddSpecialEffect("PunchImpact.mdl", GetUnitX(s__HanzoUppercut_target[this]), GetUnitY(s__HanzoUppercut_target[this]))
        call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(s__HanzoUppercut_caster[this]) + 180))
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.3)
        call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(s__HanzoUppercut_target[this]) , GetUnitY(s__HanzoUppercut_target[this])))
        call DestroyEffect(bj_lastCreatedEffect)
        set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(s__HanzoUppercut_target[this]), GetUnitY(s__HanzoUppercut_target[this]))
        call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60 + GetPointZ(GetUnitX(s__HanzoUppercut_target[this]) , GetUnitY(s__HanzoUppercut_target[this])))
        call DestroyEffect(bj_lastCreatedEffect)

        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoUppercut_knockback)
        call TimerStart(NewTimerEx(this), 0.2, false, function s__HanzoUppercut_comedown)
    endfunction 

    function s__HanzoUppercut_actions takes nothing returns nothing
        local integer this
        local unit target= null
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 1000, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitVisible(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true and ( GetUnitAbilityLevel(bj_lastCreatedUnit, 'Bapl') > 0 or GetUnitAbilityLevel(bj_lastCreatedUnit, 'B06W') > 0 ) then
                if target == null or GetWidgetLife(bj_lastCreatedUnit) < GetWidgetLife(target) then
                    set target=bj_lastCreatedUnit
                endif
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if target == null then
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 800, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitVisible(bj_lastCreatedUnit, GetTriggerPlayer()) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    if target == null or GetDistanceUnits(GetTriggerUnit() , bj_lastCreatedUnit) < GetDistanceUnits(GetTriggerUnit() , target) then
                        set target=bj_lastCreatedUnit
                    endif
                endif
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
        if target != null then
            set this=s__HanzoUppercut_allocate()
            set s__HanzoUppercut_caster[this]=GetTriggerUnit()
            set s__HanzoUppercut_target[this]=target
            set s__HanzoUppercut_count[this]=0
            call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__HanzoUppercut_caster[this]) )*1.0), (( GetUnitY(s__HanzoUppercut_caster[this]))*1.0))) // INLINED!!
            call ShowUnit(s__HanzoUppercut_caster[this], false)
            call PauseUnit(s__HanzoUppercut_caster[this], true)
            call TimerStart(NewTimerEx(this), 0.2, false, function s__HanzoUppercut_punch)
	else
	    call IssueImmediateOrder(GetTriggerUnit(), "stop")
    	    call BlzStartUnitAbilityCooldown(GetTriggerUnit(), 'A18B', 10.00)
        endif
    endfunction 

    function s__HanzoUppercut_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(86 , s__HanzoUppercut_SPELL_ID , function s__HanzoUppercut_actions)
    endfunction 

//===========================================================================
// Trigger: HanzoSemi
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanzoSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanzoSemi_Alloc__recycle[(0)] == 0 ) then
                set s__HanzoSemi_Alloc__instanceCount=s__HanzoSemi_Alloc__instanceCount + 1
                set this=s__HanzoSemi_Alloc__instanceCount
            else
                set this=s__HanzoSemi_Alloc__recycle[(0)]
                set s__HanzoSemi_Alloc__recycle[(0)]=s__HanzoSemi_Alloc__recycle[s__HanzoSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanzoSemi_deallocate takes integer this returns nothing
            set s__HanzoSemi_Alloc__recycle[this]=s__HanzoSemi_Alloc__recycle[(0)]
            set s__HanzoSemi_Alloc__recycle[(0)]=this
        endfunction

    function s__HanzoSemi_secondDamage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( GetUnitX(s__HanzoSemi_target[this]) )*1.0), (( GetUnitY(s__HanzoSemi_target[this]))*1.0))) // INLINED!!
        call UnitDamageTarget(s__HanzoSemi_caster[this], s__HanzoSemi_target[this], 2 * GetHeroStr(s__HanzoSemi_caster[this], true) + 500 * GetUnitAbilityLevel(s__HanzoSemi_caster[this], s__HanzoSemi_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
        //call PauseUnit(this.target, false)
        call KillUnit(s__HanzoSemi_scythe[this])
        call ShowUnit(s__HanzoSemi_scythe[this], false)
        set s__HanzoSemi_scythe[this]=null
        call s__HanzoSemi_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoSemi_secondDown takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] + 1
        call SetUnitFlyHeight(s__HanzoSemi_scythe[this], GetUnitFlyHeight(s__HanzoSemi_scythe[this]) - s__HanzoSemi_height[this] / 10.0, 0)
        if s__HanzoSemi_count[this] >= 10 then
            call TimerStart(NewTimerEx(this), 0.03, false, function s__HanzoSemi_secondDamage)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoSemi_secondPeriodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanzoSemi_scythe[this])
        local real y= GetUnitY(s__HanzoSemi_scythe[this])
        local real angle= Atan3(GetUnitX(s__HanzoSemi_scythe[this]) , GetUnitY(s__HanzoSemi_scythe[this]) , GetUnitX(s__HanzoSemi_target[this]) , GetUnitY(s__HanzoSemi_target[this]))
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real height= ParabolaZ(1500 , s__HanzoSemi_distance[this] * 2 , s__HanzoSemi_distance[this] - GetDistanceUnits(s__HanzoSemi_scythe[this] , s__HanzoSemi_target[this]))
        call SetUnitX(s__HanzoSemi_scythe[this], new_x)
        call SetUnitY(s__HanzoSemi_scythe[this], new_y)
        call SetUnitFacing(s__HanzoSemi_scythe[this], Rad2Deg(angle) - 90)
        call SetUnitFlyHeight(s__HanzoSemi_scythe[this], height, 0)
        if GetDistanceUnits(s__HanzoSemi_target[this] , s__HanzoSemi_scythe[this]) <= 50 then
            //call PauseUnit(this.target, true)
            set s__HanzoSemi_count[this]=0
            set s__HanzoSemi_height[this]=GetUnitFlyHeight(s__HanzoSemi_scythe[this])
            call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoSemi_secondDown)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoSemi_secondActions takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local unit u
        local unit caster
        if GetWidgetLife(s__HanzoSemi_target[this]) > 0.405 then
            set u=CreateUnit(GetOwningPlayer(s__HanzoSemi_caster[this]), 'e06K', GetUnitX(s__HanzoSemi_caster[this]), GetUnitY(s__HanzoSemi_caster[this]), Rad2Deg(Atan3(GetUnitX(s__HanzoSemi_caster[this]) , GetUnitY(s__HanzoSemi_caster[this]) , GetUnitX(s__HanzoSemi_target[this]) , GetUnitY(s__HanzoSemi_target[this]))) - 90)
            set caster=s__HanzoSemi_caster[this]
            set s__HanzoSemi_scythe[this]=u
            call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoSemi_secondPeriodic)
            set this=s__HanzoSemi_allocate()
            set s__HanzoSemi_caster[this]=caster
            set s__HanzoSemi_scythe[this]=u
            set s__HanzoSemi_count[this]=0
            call TimerStart(NewTimerEx(this), 0.05, true, function sc__HanzoSemi_periodicChains)
        else
            call s__HanzoSemi_deallocate(this)
        endif
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoSemi_damage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( GetUnitX(s__HanzoSemi_target[this]) )*1.0), (( GetUnitY(s__HanzoSemi_target[this]))*1.0))) // INLINED!!
        call UnitDamageTarget(s__HanzoSemi_caster[this], s__HanzoSemi_target[this], 600 * GetUnitAbilityLevel(s__HanzoSemi_caster[this], s__HanzoSemi_SPELL_ID) + 6 * GetHeroAgi(s__HanzoSemi_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
        //set bj_lastCreatedUnit = CreateAbilityDummy(this.caster, 'A18T')
        call IssueTargetOrder(bj_lastCreatedUnit, "soulburn", s__HanzoSemi_target[this])
        //call PauseUnit(this.target, false)
        call KillUnit(s__HanzoSemi_scythe[this])
        call ShowUnit(s__HanzoSemi_scythe[this], false)
        set s__HanzoSemi_scythe[this]=null
        if GetUnitAbilityLevel(s__HanzoSemi_target[this], 'Bapl') > 0 or GetUnitAbilityLevel(s__HanzoSemi_target[this], 'B06W') > 0 then
            call TimerStart(NewTimerEx(this), 3.0, false, function s__HanzoSemi_secondActions)
        else
            call s__HanzoSemi_deallocate(this)
        endif
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoSemi_down takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] + 1
        call SetUnitFlyHeight(s__HanzoSemi_scythe[this], GetUnitFlyHeight(s__HanzoSemi_scythe[this]) - s__HanzoSemi_height[this] / 10.0, 0)
        if s__HanzoSemi_count[this] >= 10 then
            call TimerStart(NewTimerEx(this), 0.03, false, function s__HanzoSemi_damage)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HanzoSemi_scythe[this])
        local real y= GetUnitY(s__HanzoSemi_scythe[this])
        local real angle= Atan3(GetUnitX(s__HanzoSemi_scythe[this]) , GetUnitY(s__HanzoSemi_scythe[this]) , GetUnitX(s__HanzoSemi_target[this]) , GetUnitY(s__HanzoSemi_target[this]))
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 30)*1.0)) // INLINED!!
        local real height= ParabolaZ(1500 , s__HanzoSemi_distance[this] * 2 , s__HanzoSemi_distance[this] - GetDistanceUnits(s__HanzoSemi_scythe[this] , s__HanzoSemi_target[this]))
        call SetUnitX(s__HanzoSemi_scythe[this], new_x)
        call SetUnitY(s__HanzoSemi_scythe[this], new_y)
        call SetUnitFacing(s__HanzoSemi_scythe[this], Rad2Deg(angle) - 90)
        call SetUnitFlyHeight(s__HanzoSemi_scythe[this], height, 0)
        if GetDistanceUnits(s__HanzoSemi_target[this] , s__HanzoSemi_scythe[this]) <= 50 then
            //call PauseUnit(this.target, true)
            set s__HanzoSemi_count[this]=0
            set s__HanzoSemi_height[this]=GetUnitFlyHeight(s__HanzoSemi_scythe[this])
            call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoSemi_down)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoSemi_periodicChains takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle
        local real new_x
        local real new_y
        local real new_z
        local real dx
        local real dy
        local real dz
        local real height
        local real distance
     local real offset
        local integer icount= 0
        if GetWidgetLife(s__HanzoSemi_scythe[this]) < 0.405 then
            loop
                set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] - 1
                if s__HanzoSemi_count[this] < 0 then
                    exitwhen true
                else
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" ), (( s__s__HanzoSemi_chains_x[(this)*(1)+s__HanzoSemi_count[this]] )*1.0), (( s__s__HanzoSemi_chains_y[(this)*(1)+s__HanzoSemi_count[this]])*1.0))) // INLINED!!
        	    call BlzSetSpecialEffectX(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 5180)
        	    call BlzSetSpecialEffectY(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], - 6940)
        	    call BlzSetSpecialEffectScale(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 0)
        	    call DestroyEffect(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]])
        	    set s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]]= null
                endif
            endloop
            call s__HanzoSemi_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            set angle=Atan3(GetUnitX(s__HanzoSemi_caster[this]) , GetUnitY(s__HanzoSemi_caster[this]) , GetUnitX(s__HanzoSemi_scythe[this]) , GetUnitY(s__HanzoSemi_scythe[this]))
            loop
                set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] - 1
                if s__HanzoSemi_count[this] < 0 then
                    exitwhen true
                else
                    call BlzSetSpecialEffectX(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 5180)
                    call BlzSetSpecialEffectY(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], - 6940)
                    call BlzSetSpecialEffectScale(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 0)
                    call DestroyEffect(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]])
                    set s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]]= null
                endif
            endloop
            set s__HanzoSemi_count[this]=0
            set distance=GetDistanceUnits(s__HanzoSemi_caster[this] , s__HanzoSemi_scythe[this])
            if distance > 1500 then
		        return
	        endif
            loop
                set offset=10
                set new_x=(((GetUnitX(s__HanzoSemi_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( offset * s__HanzoSemi_count[this])*1.0)) // INLINED!!
                set new_y=(((GetUnitY(s__HanzoSemi_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( offset * s__HanzoSemi_count[this])*1.0)) // INLINED!!
                set new_z=GetUnitFlyHeight(s__HanzoSemi_scythe[this]) * ( distance - GetDistance(new_x , new_y , GetUnitX(s__HanzoSemi_scythe[this]) , GetUnitY(s__HanzoSemi_scythe[this])) ) / distance
                set dx=new_x - GetUnitX(s__HanzoSemi_scythe[this])
                set dy=new_y - GetUnitY(s__HanzoSemi_scythe[this])
                set dz=new_z - GetUnitFlyHeight(s__HanzoSemi_scythe[this])
                set icount=icount + 1
                if SquareRoot(dx * dx + dy * dy + dz * dz) < 100 or icount > 200 then
                    exitwhen true
                else
                    set s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]]= AddSpecialEffect("war3mapImported\\ChainElement.mdl", new_x, new_y)
                    call BlzSetSpecialEffectYaw(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], angle)
                    call BlzSetSpecialEffectPitch(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], Deg2Rad(- 45.0))
                    call BlzSetSpecialEffectScale(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 2.0)
                    call BlzSetSpecialEffectHeight(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 100 + GetPointZ(new_x , new_y) + new_z)
                    set s__s__HanzoSemi_chains_x[(this)*(1)+s__HanzoSemi_count[this]]= new_x
                    set s__s__HanzoSemi_chains_y[(this)*(1)+s__HanzoSemi_count[this]]= new_y
                    set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] + 1
                endif
            endloop
        endif
    endfunction 

    function s__HanzoSemi_actions takes nothing returns nothing
        local integer this= s__HanzoSemi_allocate()
        local unit u
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Hanzo_R, 100.0, GetTriggerUnit())
        endif
        set s__HanzoSemi_caster[this]=GetTriggerUnit()
        set s__HanzoSemi_target[this]=GetSpellTargetUnit()
        set s__HanzoSemi_distance[this]=GetDistanceUnits(s__HanzoSemi_caster[this] , s__HanzoSemi_target[this])
        set u=CreateUnit(GetTriggerPlayer(), 'e06K', GetUnitX(s__HanzoSemi_caster[this]), GetUnitY(s__HanzoSemi_caster[this]), Rad2Deg(Atan3(GetUnitX(s__HanzoSemi_caster[this]) , GetUnitY(s__HanzoSemi_caster[this]) , GetUnitX(s__HanzoSemi_target[this]) , GetUnitY(s__HanzoSemi_target[this]))) - 90)
        set s__HanzoSemi_scythe[this]=u
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoSemi_periodic)
        set this=s__HanzoSemi_allocate()
        set s__HanzoSemi_caster[this]=GetTriggerUnit()
        set s__HanzoSemi_scythe[this]=u
        set s__HanzoSemi_count[this]=0
        call TimerStart(NewTimerEx(this), 0.05, true, function s__HanzoSemi_periodicChains)
    endfunction 

    function s__HanzoSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(86 , s__HanzoSemi_SPELL_ID , function s__HanzoSemi_actions)
    endfunction 

//===========================================================================
// Trigger: HanzoMist
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanzoMist_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanzoMist_Alloc__recycle[(0)] == 0 ) then
                set s__HanzoMist_Alloc__instanceCount=s__HanzoMist_Alloc__instanceCount + 1
                set this=s__HanzoMist_Alloc__instanceCount
            else
                set this=s__HanzoMist_Alloc__recycle[(0)]
                set s__HanzoMist_Alloc__recycle[(0)]=s__HanzoMist_Alloc__recycle[s__HanzoMist_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanzoMist_deallocate takes integer this returns nothing
            set s__HanzoMist_Alloc__recycle[this]=s__HanzoMist_Alloc__recycle[(0)]
            set s__HanzoMist_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HanzoMist_destroy takes integer this returns nothing
        call KillUnit(s__HanzoMist_cloud[this])
        set s__HanzoMist_cloud[this]=null
        call s__HanzoMist_deallocate(this)
    endfunction 
    
    function s__HanzoMist_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
 local real dist
 local real angle
 local real x
 local real y
 local integer i
        call SetUnitX(s__HanzoMist_cloud[this], GetUnitX(s__HanzoMist_caster[this]))
        call SetUnitY(s__HanzoMist_cloud[this], GetUnitY(s__HanzoMist_caster[this]))
        set s__HanzoMist_count[this]=s__HanzoMist_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
	if ModuloInteger(s__HanzoMist_count[this], 15) == 1 then
		set i=0
		loop
                	set i=i + 1
                	exitwhen i > 12
			set dist=GetRandomReal(25, 150)
			set angle=Deg2Rad(GetRandomReal(0, 360))
			set x=(((GetUnitX(s__HanzoMist_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( dist)*1.0)) // INLINED!!
			set y=(((GetUnitY(s__HanzoMist_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( dist)*1.0)) // INLINED!!
                	set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanzoMist_caster[this]), 'h03W', x, y, 24 * i)
                	set x=GetUnitX(s__HanzoMist_caster[this]) + Cos(Deg2Rad(30 * i)) * 800
                	set y=GetUnitY(s__HanzoMist_caster[this]) + Sin(Deg2Rad(30 * i)) * 800
			call SetUnitScale(bj_lastCreatedUnit, 1, 0, 0)
			call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 25)
			call SetUnitMoveSpeed(bj_lastCreatedUnit, 300)
                	call IssuePointOrder(bj_lastCreatedUnit, "move", x, y)
                	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
           	 endloop
	endif
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HanzoMist_caster[this]), GetUnitY(s__HanzoMist_caster[this]), 800, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
             if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanzoMist_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__HanzoMist_caster[this], bj_lastCreatedUnit, 0.06 * GetHeroAgi(s__HanzoMist_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__HanzoMist_count[this] > 230 then
            call s__HanzoMist_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HanzoMist_actions takes nothing returns nothing
        local integer this= s__HanzoMist_allocate()
 local integer i= 0
 local integer j= 0
 local real x
 local real y
        set s__HanzoMist_caster[this]=GetTriggerUnit()
        set s__HanzoMist_cloud[this]=(CreateUnit((GetTriggerPlayer() ), ( 'e007' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( 270)*1.0))) // INLINED!!
        set s__HanzoMist_count[this]=0
        call AddLoadingBar(s__HanzoMist_caster[this] , 7)
        call UnitDamageTarget(s__HanzoMist_caster[this], s__HanzoMist_caster[this], GetUnitState(s__HanzoMist_caster[this], UNIT_STATE_MAX_LIFE) * 0.1, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoMist_periodic)
    endfunction 
    
    function s__HanzoMist_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(86 , s__HanzoMist_SPELL_ID , function s__HanzoMist_actions)
    endfunction 
    
//===========================================================================
// Trigger: HanzoIbuse
//===========================================================================

//Implemented from module Alloc:
    
        function s__HanzoIbsue_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanzoIbsue_Alloc__recycle[(0)] == 0 ) then
                set s__HanzoIbsue_Alloc__instanceCount=s__HanzoIbsue_Alloc__instanceCount + 1
                set this=s__HanzoIbsue_Alloc__instanceCount
            else
                set this=s__HanzoIbsue_Alloc__recycle[(0)]
                set s__HanzoIbsue_Alloc__recycle[(0)]=s__HanzoIbsue_Alloc__recycle[s__HanzoIbsue_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanzoIbsue_deallocate takes integer this returns nothing
            set s__HanzoIbsue_Alloc__recycle[this]=s__HanzoIbsue_Alloc__recycle[(0)]
            set s__HanzoIbsue_Alloc__recycle[(0)]=this
        endfunction

    function s__HanzoIbsue_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        local integer i_2
        local real angle
        local real x
        local real y
        local real new_x
        local real new_y
        if ModuloInteger(s__HanzoIbsue_count[this], 15) == 0 then
            loop
                exitwhen i > 12
                set angle=GetRandomReal(0, 360)
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanzoIbsue_caster[this]), 'h03W', GetUnitX(s__HanzoIbsue_ibuse[this]), GetUnitY(s__HanzoIbsue_ibuse[this]), angle)
		call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 150)
                set x=(((GetUnitX(s__HanzoIbsue_ibuse[this]) )*1.0) + Cos((( Deg2Rad(angle) )*1.0)) * (( 800)*1.0)) // INLINED!!
                set y=(((GetUnitY(s__HanzoIbsue_ibuse[this]) )*1.0) + Sin((( Deg2Rad(angle) )*1.0)) * (( 800)*1.0)) // INLINED!!
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
                call IssuePointOrder(bj_lastCreatedUnit, "move", x, y)
                set i=i + 1
            endloop
        endif
        set s__HanzoIbsue_count[this]=s__HanzoIbsue_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HanzoIbsue_ibuse[this]), GetUnitY(s__HanzoIbsue_ibuse[this]), RMinBJ(800, 25 * s__HanzoIbsue_count[this]), null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HanzoIbsue_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HanzoIbsue_damaged[this]) then
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                call UnitDamageTarget(s__HanzoIbsue_caster[this], bj_lastCreatedUnit, 3500, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                call GroupAddUnit(s__HanzoIbsue_damaged[this], bj_lastCreatedUnit)
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set i=0
                    loop
                        exitwhen i > 11
                        if i != GetPlayerId(GetOwningPlayer(bj_lastCreatedUnit)) and IsPlayerAlly(Player(i), GetOwningPlayer(bj_lastCreatedUnit)) then
                            call SetPlayerAllianceBJ(Player(i), ALLIANCE_SHARED_VISION, false, GetOwningPlayer(bj_lastCreatedUnit))
                        endif
                        set i=i + 1
                    endloop
                endif
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__HanzoIbsue_count[this] > 33 * 4 then
            set i=0
             loop
                set i=i + 1
                exitwhen i > 2
                set i_2=0
                loop
                    set i_2=i_2 + 1
                    exitwhen i_2 > 10
                    set new_x=GetUnitX(s__HanzoIbsue_ibuse[this]) + Cos(Deg2Rad(36 * i_2)) * 75 * i
                    set new_y=GetUnitY(s__HanzoIbsue_ibuse[this]) + Sin(Deg2Rad(36 * i_2)) * 75 * i
                    call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                endloop
            endloop
            call KillUnit(s__HanzoIbsue_ibuse[this])
            call ShowUnit(s__HanzoIbsue_ibuse[this], false)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(s__HanzoIbsue_damaged[this])
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(s__HanzoIbsue_damaged[this], bj_lastCreatedUnit)
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    set i=0
                    loop
                        exitwhen i > 11
                        if i != GetPlayerId(GetOwningPlayer(bj_lastCreatedUnit)) and IsPlayerAlly(Player(i), GetOwningPlayer(bj_lastCreatedUnit)) then
                            call SetPlayerAllianceBJ(Player(i), ALLIANCE_SHARED_VISION, true, GetOwningPlayer(bj_lastCreatedUnit))
                        endif
                        set i=i + 1
                    endloop
                endif
            endloop
            call DestroyGroup(s__HanzoIbsue_damaged[this])
            call s__HanzoIbsue_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__HanzoIbsue_delay2 takes nothing returns nothing
     local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HanzoIbsue_periodic)
	    call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoIbsue_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        local integer i_2
        local real new_x
        local real new_y
        set s__HanzoIbsue_ibuse[this]=CreateUnit(GetOwningPlayer(s__HanzoIbsue_caster[this]), 'e06M', s__HanzoIbsue_target_x[this], s__HanzoIbsue_target_y[this], GetUnitFacing(s__HanzoIbsue_caster[this]))
        loop
            set i=i + 1
            exitwhen i > 2
            set i_2=0
            loop
                set i_2=i_2 + 1
                exitwhen i_2 > 10
                set new_x=GetUnitX(s__HanzoIbsue_ibuse[this]) + Cos(Deg2Rad(36 * i_2)) * 75 * i
                set new_y=GetUnitY(s__HanzoIbsue_ibuse[this]) + Sin(Deg2Rad(36 * i_2)) * 75 * i
                call DestroyEffect(AddSpecialEffect(("shadowclone.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            endloop
        endloop
        call TimerStart(NewTimerEx(this), 0.5, false, function s__HanzoIbsue_delay2)
	    call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HanzoIbsue_actions takes nothing returns nothing
        local integer this= s__HanzoIbsue_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Hanzo: The weak needs to succumb before me.|r")
            call PlaySoundOnUnitBJ(gg_snd_Hanzo_T_Ibuse, 100.0, GetTriggerUnit())
        endif
        set s__HanzoIbsue_caster[this]=GetTriggerUnit()
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h01V', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
        call SetUnitAnimation(bj_lastCreatedUnit, "birth")
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
        set s__HanzoIbsue_target_x[this]=GetSpellTargetX()
        set s__HanzoIbsue_target_y[this]=GetSpellTargetY()
        set s__HanzoIbsue_damaged[this]=CreateGroup()
        set s__HanzoIbsue_count[this]=0
        call TimerStart(NewTimerEx(this), 0.1, false, function s__HanzoIbsue_delay)
    endfunction 

    function s__HanzoIbsue_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(86 , s__HanzoIbsue_SPELL_ID , function s__HanzoIbsue_actions)
    endfunction 

//===========================================================================
// Trigger: HanzoUltimateChoice
//===========================================================================
//textmacro instance: UltimateChoice("Hanzo", "A18X", "A10W", "DOKUGIRI", "Dokugiri", "A18W", "IBUSE", "Kuchiyose no Jutsu: Ibuse")

//Implemented from module Alloc:
    
        function s__HanzoUltimateChoice_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HanzoUltimateChoice_Alloc__recycle[(0)] == 0 ) then
                set s__HanzoUltimateChoice_Alloc__instanceCount=s__HanzoUltimateChoice_Alloc__instanceCount + 1
                set this=s__HanzoUltimateChoice_Alloc__instanceCount
            else
                set this=s__HanzoUltimateChoice_Alloc__recycle[(0)]
                set s__HanzoUltimateChoice_Alloc__recycle[(0)]=s__HanzoUltimateChoice_Alloc__recycle[s__HanzoUltimateChoice_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HanzoUltimateChoice_deallocate takes integer this returns nothing
            set s__HanzoUltimateChoice_Alloc__recycle[this]=s__HanzoUltimateChoice_Alloc__recycle[(0)]
            set s__HanzoUltimateChoice_Alloc__recycle[(0)]=this
        endfunction
    //private static boolean picked = false 
    
    function s__HanzoUltimateChoice_enableSkill takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__HanzoUltimateChoice_caster[this] != null then
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__HanzoUltimateChoice_caster[this]), 'A18X', false)
        else
            call s__HanzoUltimateChoice_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HanzoUltimateChoice_pickSkill takes nothing returns boolean
        local integer i
        local integer this
        if (GetClickedButton()) == s__s__HanzoUltimateChoice_b[0] then // INLINED!!
            call UnitAddAbility(s__HanzoUltimateChoice_u, s__HanzoUltimateChoice_DOKUGIRI)
            call UnitMakeAbilityPermanent(s__HanzoUltimateChoice_u, true, s__HanzoUltimateChoice_DOKUGIRI)
        else
            call UnitAddAbility(s__HanzoUltimateChoice_u, s__HanzoUltimateChoice_IBUSE)
            call UnitMakeAbilityPermanent(s__HanzoUltimateChoice_u, true, s__HanzoUltimateChoice_IBUSE)
        endif
        set i=0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A18X', false)
            set i=i + 1
        endloop
        //call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A18X', false)
        set s__s__HanzoUltimateChoice_b[0]= null
        set s__s__HanzoUltimateChoice_b[1]= null
        set s__HanzoUltimateChoice_u=null
        call s__Dialog_destroy(s__HanzoUltimateChoice_d)
        call DestroyBoolExpr(s__HanzoUltimateChoice_pick)
        set s__HanzoUltimateChoice_pick=null
        set this=s__HanzoUltimateChoice_allocate()
        set s__HanzoUltimateChoice_caster[this]=s__HanzoUltimateChoice_u
        set s__HanzoUltimateChoice_pp[this]=GetOwningPlayer(s__HanzoUltimateChoice_u)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__HanzoUltimateChoice_enableSkill)
        return false
    endfunction 
    
    function s__HanzoUltimateChoice_actions takes nothing returns nothing
        if GetTriggerUnit() != udg_InoMental and GetUnitAbilityLevel(GetTriggerUnit(), s__HanzoUltimateChoice_DOKUGIRI) == 0 and GetUnitAbilityLevel(GetTriggerUnit(), s__HanzoUltimateChoice_IBUSE) == 0 then
            set s__HanzoUltimateChoice_d=s__Dialog_create()
            call s__Dialog__set_title(s__HanzoUltimateChoice_d,"Pick a skill")
            set s__s__HanzoUltimateChoice_b[0]= (DialogAddButton(s__Dialog_dg[(s__HanzoUltimateChoice_d)], ("Dokugiri" ), ( 0))) // INLINED!!
            set s__s__HanzoUltimateChoice_b[1]= (DialogAddButton(s__Dialog_dg[(s__HanzoUltimateChoice_d)], ("Kuchiyose no Jutsu: Ibuse" ), ( 1))) // INLINED!!
            call s__Dialog_display(s__HanzoUltimateChoice_d,GetTriggerPlayer() , true)
            call s__Dialog_registerClickEvent(s__HanzoUltimateChoice_d,s__HanzoUltimateChoice_pick)
            set s__HanzoUltimateChoice_u=GetTriggerUnit()
            //set picked = true 
        endif
    endfunction
    
    function s__HanzoUltimateChoice_learn takes nothing returns nothing
        if GetLearnedSkill() == 'A18X' then
            set s__HanzoUltimateChoice_p=GetTriggerPlayer()
        endif
    endfunction 
    
    function s__HanzoUltimateChoice_onInit takes nothing returns nothing
        set s__HanzoUltimateChoice_pick=Condition(function s__HanzoUltimateChoice_pickSkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_SKILL ) , Filter(( function s__HanzoUltimateChoice_learn))) // INLINED!!
        call RegisterSpellEffectEvent2(('A18X' ) , Filter(( function s__HanzoUltimateChoice_actions))) // INLINED!!
    endfunction 
    
//end of: UltimateChoice("Hanzo", "A18X", "A10W", "DOKUGIRI", "Dokugiri", "A18W", "IBUSE", "Kuchiyose no Jutsu: Ibuse")

//===========================================================================
// Trigger: HashiramaWoodDragon
//===========================================================================
// scope HashiramaWoodDragon begins

    
//Implemented from module Alloc:
    
        function s__HashiramaWoodDragon___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HashiramaWoodDragon___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__HashiramaWoodDragon___Spell_Alloc__instanceCount=s__HashiramaWoodDragon___Spell_Alloc__instanceCount + 1
                set this=s__HashiramaWoodDragon___Spell_Alloc__instanceCount
            else
                set this=s__HashiramaWoodDragon___Spell_Alloc__recycle[(0)]
                set s__HashiramaWoodDragon___Spell_Alloc__recycle[(0)]=s__HashiramaWoodDragon___Spell_Alloc__recycle[s__HashiramaWoodDragon___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HashiramaWoodDragon___Spell_deallocate takes integer this returns nothing
            set s__HashiramaWoodDragon___Spell_Alloc__recycle[this]=s__HashiramaWoodDragon___Spell_Alloc__recycle[(0)]
            set s__HashiramaWoodDragon___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
  function s__HashiramaWoodDragon___Spell_heal takes nothing returns nothing
			call SetUnitState(GetSpellTargetUnit(), UNIT_STATE_MANA, GetUnitState(GetSpellTargetUnit(), UNIT_STATE_MANA) + s__HashiramaWoodDragon___Spell_stolen)
			call SetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE, GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) + s__HashiramaWoodDragon___Spell_stolen)
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl" ), (( GetUnitX(GetSpellTargetUnit()) )*1.0), (( GetUnitY(GetSpellTargetUnit()))*1.0))) // INLINED!!
  endfunction 
		
  function s__HashiramaWoodDragon___Spell_finish takes nothing returns nothing
   local unit caster= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
			call UnitRemoveAbility(caster, 'A05Z')
			call SetPlayerAbilityAvailable(GetOwningPlayer(caster), s__HashiramaWoodDragon___Spell_SPELL_ID, true)
			call ReleaseTimer(GetExpiredTimer())
  endfunction 
		
        function s__HashiramaWoodDragon___Spell_trueDamage takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real mana= ( GetUnitState(s__HashiramaWoodDragon___Spell_target[this], UNIT_STATE_MAX_MANA) * 0.01 + 30 ) * GetUnitAbilityLevel(s__HashiramaWoodDragon___Spell_caster[this], s__HashiramaWoodDragon___Spell_SPELL_ID)
            local real previous_hp= GetUnitState(s__HashiramaWoodDragon___Spell_target[this], UNIT_STATE_LIFE)
            call UnitDamageTarget(s__HashiramaWoodDragon___Spell_caster[this], s__HashiramaWoodDragon___Spell_target[this], GetHeroStr(s__HashiramaWoodDragon___Spell_caster[this], true) * GetUnitAbilityLevel(s__HashiramaWoodDragon___Spell_caster[this], s__HashiramaWoodDragon___Spell_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
            if previous_hp > GetUnitState(s__HashiramaWoodDragon___Spell_target[this], UNIT_STATE_LIFE) then
                call SetUnitState(s__HashiramaWoodDragon___Spell_target[this], UNIT_STATE_MANA, GetUnitState(s__HashiramaWoodDragon___Spell_target[this], UNIT_STATE_MANA) - mana)
            endif
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl" ), (( GetUnitX(s__HashiramaWoodDragon___Spell_target[this]) )*1.0), (( GetUnitY(s__HashiramaWoodDragon___Spell_target[this]))*1.0))) // INLINED!!
            call UnitAddAbility(s__HashiramaWoodDragon___Spell_caster[this], 'A05Z')
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__HashiramaWoodDragon___Spell_caster[this]), s__HashiramaWoodDragon___Spell_SPELL_ID, false)
            set s__HashiramaWoodDragon___Spell_stolen=mana + 80
            call TimerStart(NewTimerEx((GetUnitUserData((s__HashiramaWoodDragon___Spell_caster[this])))), 7.0, false, function s__HashiramaWoodDragon___Spell_finish) // INLINED!!
            call UnitApplyTimedLife(s__HashiramaWoodDragon___Spell_dragon[this], 'BTLF', 2.0)
            set s__HashiramaWoodDragon___Spell_dragon[this]=null
            call s__HashiramaWoodDragon___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
        function s__HashiramaWoodDragon___Spell_damage takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call SetUnitTimeScale(s__HashiramaWoodDragon___Spell_dragon[this], 1.0)
            call SetUnitAnimation(s__HashiramaWoodDragon___Spell_dragon[this], "attack spell")
            call TimerStartEx(NewTimerEx(this) , 0.5 , false , function s__HashiramaWoodDragon___Spell_trueDamage , "HashiramaWoodDragon_trueDamage")
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
        function s__HashiramaWoodDragon___Spell_test takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            set s__HashiramaWoodDragon___Spell_dragon[this]=CreateUnit(GetOwningPlayer(s__HashiramaWoodDragon___Spell_caster[this]), 'e03C', GetUnitX(s__HashiramaWoodDragon___Spell_target[this]), GetUnitY(s__HashiramaWoodDragon___Spell_target[this]), GetUnitFacing(s__HashiramaWoodDragon___Spell_target[this]))
            call SetUnitTimeScale(s__HashiramaWoodDragon___Spell_dragon[this], 4.0)
            call SetUnitAnimation(s__HashiramaWoodDragon___Spell_dragon[this], "spell")
            call TimerStartEx(NewTimerEx(this) , 0.5 , false , function s__HashiramaWoodDragon___Spell_damage , "HashiramaWoodDragon_damage")
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
        function s__HashiramaWoodDragon___Spell_actions takes nothing returns nothing
            local integer this= s__HashiramaWoodDragon___Spell_allocate()
            set s__HashiramaWoodDragon___Spell_caster[this]=GetTriggerUnit()
            set s__HashiramaWoodDragon___Spell_target[this]=GetSpellTargetUnit()
            set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h038', GetUnitX(s__HashiramaWoodDragon___Spell_target[this]), GetUnitY(s__HashiramaWoodDragon___Spell_target[this]), 270.0)
            call IssueTargetOrder(bj_lastCreatedUnit, "entanglingroots", s__HashiramaWoodDragon___Spell_target[this])
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
            call TimerStartEx(NewTimerEx(this) , 0.1 , false , function s__HashiramaWoodDragon___Spell_test , "HashiramaWoodDragon_test")
        endfunction
        
 function s__HashiramaWoodDragon___Spell_death takes nothing returns nothing
		if GetUnitTypeId(GetTriggerUnit()) == 'e03C' then
			call ShowUnit(GetTriggerUnit(), false)
		endif
 endfunction 

        function s__HashiramaWoodDragon___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(35 , s__HashiramaWoodDragon___Spell_SPELL_ID , function s__HashiramaWoodDragon___Spell_actions)
	    call RegisterSpellEffectEventForId(35 , 'A05Z' , function s__HashiramaWoodDragon___Spell_heal)
	    call RegisterPlayerUnitEventForId(35 , EVENT_PLAYER_UNIT_DEATH , function s__HashiramaWoodDragon___Spell_death)
        endfunction
        
    
// scope HashiramaWoodDragon ends
//===========================================================================
// Trigger: HashiramaGate
//===========================================================================
// scope HashiramaGate begins

    
    
//Implemented from module Alloc:
    
        function s__HashiramaGate___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HashiramaGate___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__HashiramaGate___Spell_Alloc__instanceCount=s__HashiramaGate___Spell_Alloc__instanceCount + 1
                set this=s__HashiramaGate___Spell_Alloc__instanceCount
            else
                set this=s__HashiramaGate___Spell_Alloc__recycle[(0)]
                set s__HashiramaGate___Spell_Alloc__recycle[(0)]=s__HashiramaGate___Spell_Alloc__recycle[s__HashiramaGate___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HashiramaGate___Spell_deallocate takes integer this returns nothing
            set s__HashiramaGate___Spell_Alloc__recycle[this]=s__HashiramaGate___Spell_Alloc__recycle[(0)]
            set s__HashiramaGate___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__HashiramaGate___Spell_catchEnemies takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real x
            local real y
            local real angle
            set bj_lastCreatedGroup=CreateGroup()
            call GroupAddGroup(s__HashiramaGate___Spell_damaged[this], bj_lastCreatedGroup)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetDistance(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , s__HashiramaGate___Spell_target_x[this] , s__HashiramaGate___Spell_target_y[this]) > 300 then
                    if not IsUnitPaused(bj_lastCreatedUnit) and not IsUnitHidden(bj_lastCreatedUnit) then
                        set angle=Atan3(s__HashiramaGate___Spell_target_x[this] , s__HashiramaGate___Spell_target_y[this] , GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit))
                        set x=(((s__HashiramaGate___Spell_target_x[this] )*1.0) + Cos((( angle )*1.0)) * (( 300)*1.0)) // INLINED!!
                        set y=(((s__HashiramaGate___Spell_target_y[this] )*1.0) + Sin((( angle )*1.0)) * (( 300)*1.0)) // INLINED!!
                        //call SetUnitX(bj_lastCreatedUnit, x)
                        //call SetUnitY(bj_lastCreatedUnit, y) 
                    else
                        call GroupRemoveUnit(s__HashiramaGate___Spell_damaged[this], bj_lastCreatedUnit)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endfunction 
        
        function s__HashiramaGate___Spell_finish takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local integer i
            set i=1
            loop
                exitwhen i > 36
                call RemoveDestructable(s__HashiramaGate___blocks[(this)*(1)+i])
                set s__HashiramaGate___blocks[(this)*(1)+i]= null
                set i=i + 1
            endloop
            call SetUnitPathing(s__HashiramaGate___Spell_caster[this], true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(s__HashiramaGate___Spell_caster[this]), s__HashiramaGate___Spell_SPELL_ID, true)
		call UnitRemoveAbility(s__HashiramaGate___Spell_caster[this], 'A15U')
		set s__HashiramaGate___Spell_finishSpell=false
            set s__HashiramaGate___Spell_caster[this]=null
            call ReleaseTimer(s__HashiramaGate___Spell_catch[this])
            set s__HashiramaGate___Spell_catch[this]=null
            call DestroyGroup(s__HashiramaGate___Spell_damaged[this])
            set s__HashiramaGate___Spell_damaged[this]=null
            call s__HashiramaGate___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
 function s__HashiramaGate___Spell_checkFinish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__HashiramaGate___Spell_count[this]=s__HashiramaGate___Spell_count[this] + 1
		if s__HashiramaGate___Spell_count[this] == 40 or s__HashiramaGate___Spell_finishSpell then
			call KillUnit(s__HashiramaGate___Spell_gates[this])
			call TimerStart(NewTimerEx(this), 0.1, false, function s__HashiramaGate___Spell_finish)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

        function s__HashiramaGate___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real size
            local real angle
            set s__HashiramaGate___Spell_count[this]=s__HashiramaGate___Spell_count[this] + 1
            set size=1.0 + 0.1 * s__HashiramaGate___Spell_count[this]
            set angle=( ModuloInteger(s__HashiramaGate___Spell_count[this], 8) + 1 ) * 45
            //set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'e02D', this.target_x, this.target_y, angle) 
            //call SetUnitScale(bj_lastCreatedUnit, size, size, size) 
            //call SetUnitFlyHeight(bj_lastCreatedUnit, 700, 0)
            //call SetUnitFlyHeight(bj_lastCreatedUnit, 0, 1400)
            //call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 5.0 - 0.1 * this.count)
            if ModuloInteger(s__HashiramaGate___Spell_count[this], 3) == 1 then
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HashiramaGate___Spell_caster[this]), 'e02G', s__HashiramaGate___Spell_target_x[this], s__HashiramaGate___Spell_target_y[this], GetRandomReal(0, 360))
                call KillUnit(bj_lastCreatedUnit)
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HashiramaGate___Spell_target_x[this], s__HashiramaGate___Spell_target_y[this], 300.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HashiramaGate___Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__HashiramaGate___Spell_caster[this], bj_lastCreatedUnit, ( 30 + GetHeroStr(s__HashiramaGate___Spell_caster[this], true) / 2.0 ) * GetUnitAbilityLevel(s__HashiramaGate___Spell_caster[this], s__HashiramaGate___Spell_SPELL_ID) / 20.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                    if not IsUnitInGroup(bj_lastCreatedUnit, s__HashiramaGate___Spell_damaged[this]) then
                        call GroupAddUnit(s__HashiramaGate___Spell_damaged[this], bj_lastCreatedUnit)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if s__HashiramaGate___Spell_count[this] >= 20 then
		set s__HashiramaGate___Spell_count[this]=0
                call TimerStartEx(NewTimerEx(this) , 0.1 , true , function s__HashiramaGate___Spell_checkFinish , "HashiramaGate_finish")
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction 

 function s__HashiramaGate___Spell_disableSpell takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__HashiramaGate___Spell_finishSpell=false
		call SetPlayerAbilityAvailable(GetOwningPlayer(s__HashiramaGate___Spell_caster[this]), s__HashiramaGate___Spell_SPELL_ID, false)
		call UnitAddAbility(s__HashiramaGate___Spell_caster[this], 'A15U')
		call ReleaseTimer(GetExpiredTimer())
 endfunction
        
        function s__HashiramaGate___Spell_actions takes nothing returns nothing
            local integer this= s__HashiramaGate___Spell_allocate()
            local real new_x
            local real new_y
            local integer i
            set s__HashiramaGate___Spell_caster[this]=GetTriggerUnit()
            set s__HashiramaGate___Spell_target_x[this]=GetSpellTargetX()
            set s__HashiramaGate___Spell_target_y[this]=GetSpellTargetY()
            set s__HashiramaGate___Spell_count[this]=0
            set s__HashiramaGate___Spell_damaged[this]=CreateGroup()
            set i=1
            loop
                exitwhen i > 36
                set new_x=s__HashiramaGate___Spell_target_x[this] + Cos(i * 10 * bj_DEGTORAD) * 350
                set new_y=s__HashiramaGate___Spell_target_y[this] + Sin(i * 10 * bj_DEGTORAD) * 350
                set s__HashiramaGate___blocks[(this)*(1)+i]= CreateDestructable('YTfc', new_x, new_y, 10 * i, 1.0, 0)
                set i=i + 1
            endloop
            set s__HashiramaGate___Spell_gates[this]=CreateUnit(GetOwningPlayer(s__HashiramaGate___Spell_caster[this]), 'e02D', s__HashiramaGate___Spell_target_x[this], s__HashiramaGate___Spell_target_y[this], 270)
	    call UnitApplyTimedLife(s__HashiramaGate___Spell_gates[this], 'BTLF', 5.0)
            set s__HashiramaGate___Spell_catch[this]=NewTimerEx(this)
	    call SetUnitPathing(s__HashiramaGate___Spell_caster[this], false)
            call TimerStartEx(s__HashiramaGate___Spell_catch[this] , 0.05 , true , function s__HashiramaGate___Spell_catchEnemies , "HashiramaGate_catchEnemies")
            call TimerStartEx(NewTimerEx(this) , 0.05 , true , function s__HashiramaGate___Spell_periodic , "HashiramaGate_periodic")
	    call TimerStart(NewTimerEx(this), 0.1, false, function s__HashiramaGate___Spell_disableSpell)
        endfunction 
        
        function s__HashiramaGate___Spell_dies takes nothing returns nothing
            if GetUnitTypeId(GetTriggerUnit()) == 'e02D' then
                call ShowUnit(GetTriggerUnit(), false)
            endif
        endfunction
        
 function s__HashiramaGate___Spell_disable takes nothing returns nothing
		set s__HashiramaGate___Spell_finishSpell=true
 endfunction 

        function s__HashiramaGate___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(35 , s__HashiramaGate___Spell_SPELL_ID , function s__HashiramaGate___Spell_actions)
	    call RegisterSpellEffectEventForId(35 , 'A15U' , function s__HashiramaGate___Spell_disable)
            call RegisterPlayerUnitEventForId(35 , EVENT_PLAYER_UNIT_DEATH , function s__HashiramaGate___Spell_dies)
        endfunction 
        
    
// scope HashiramaGate ends
//===========================================================================
// Trigger: HashiramaWoodHuman
//===========================================================================

//Implemented from module Alloc:
    
        function s__HashiramaWoodHuman_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HashiramaWoodHuman_Alloc__recycle[(0)] == 0 ) then
                set s__HashiramaWoodHuman_Alloc__instanceCount=s__HashiramaWoodHuman_Alloc__instanceCount + 1
                set this=s__HashiramaWoodHuman_Alloc__instanceCount
            else
                set this=s__HashiramaWoodHuman_Alloc__recycle[(0)]
                set s__HashiramaWoodHuman_Alloc__recycle[(0)]=s__HashiramaWoodHuman_Alloc__recycle[s__HashiramaWoodHuman_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HashiramaWoodHuman_deallocate takes integer this returns nothing
            set s__HashiramaWoodHuman_Alloc__recycle[this]=s__HashiramaWoodHuman_Alloc__recycle[(0)]
            set s__HashiramaWoodHuman_Alloc__recycle[(0)]=this
        endfunction

    function s__HashiramaWoodHuman_dealDamage takes nothing returns boolean
            if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HashiramaWoodHuman_caster[s__HashiramaWoodHuman_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
                if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
                ///    call StunUnitTimed(instance.caster, GetFilterUnit(), 2.0)
                endif
                call UnitDamageTarget(s__HashiramaWoodHuman_caster[s__HashiramaWoodHuman_instance], GetFilterUnit(), 90 * GetUnitAbilityLevel(s__HashiramaWoodHuman_caster[s__HashiramaWoodHuman_instance], s__HashiramaWoodHuman_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            endif
	    return false
 endfunction

    function s__HashiramaWoodHuman_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call KillUnit(s__HashiramaWoodHuman_human[this])
        set s__HashiramaWoodHuman_caster[this]=null
        set s__HashiramaWoodHuman_human[this]=null
        call s__HashiramaWoodHuman_deallocate(this)
    endfunction
    
    function s__HashiramaWoodHuman_damage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x
        local real y
        local integer i
	set bj_lastCreatedEffect=AddSpecialEffect("DustWave.mdx", GetUnitX(s__HashiramaWoodHuman_human[this]), GetUnitY(s__HashiramaWoodHuman_human[this]))
	call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 4.0)
	call DestroyEffect(bj_lastCreatedEffect)

        set i=1
        loop
            exitwhen i > 10
            set x=(((GetUnitX(s__HashiramaWoodHuman_human[this]) )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 250)*1.0)) // INLINED!!
            set y=(((GetUnitY(s__HashiramaWoodHuman_human[this]) )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 250)*1.0)) // INLINED!!
            set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\WarStompCaster.mdx", x, y)
	    call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.5)
	    call DestroyEffect(bj_lastCreatedEffect)
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            set i=i + 1
        endloop
        set bj_lastCreatedGroup=CreateGroup()
		set s__HashiramaWoodHuman_instance=this
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HashiramaWoodHuman_human[this]), GetUnitY(s__HashiramaWoodHuman_human[this]), 400.0, Filter(function s__HashiramaWoodHuman_dealDamage))
        call DestroyGroup(bj_lastCreatedGroup)
        call SlowArea(s__HashiramaWoodHuman_caster[this] , GetUnitX(s__HashiramaWoodHuman_human[this]) , GetUnitY(s__HashiramaWoodHuman_human[this]) , 400.0)
        call TimerStartEx(NewTimerEx(this) , 0.5 , false , function s__HashiramaWoodHuman_finish , "HashiramaWoodHuman_finish")
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__HashiramaWoodHuman_birth takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitTimeScale(s__HashiramaWoodHuman_human[this], 1)
        call SetUnitAnimation(s__HashiramaWoodHuman_human[this], "attack slam")
        call TimerStart(NewTimerEx(this), 0.5, false, function s__HashiramaWoodHuman_damage)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__HashiramaWoodHuman_actions takes nothing returns nothing
        local integer this= s__HashiramaWoodHuman_allocate()
        local real caster_x= GetUnitX(GetTriggerUnit())
        local real caster_y= GetUnitY(GetTriggerUnit())
        local real angle= Deg2Rad(GetUnitFacing(GetTriggerUnit()))
        set s__HashiramaWoodHuman_caster[this]=GetTriggerUnit()
        set s__HashiramaWoodHuman_human[this]=CreateUnit(GetTriggerPlayer(), 'h08P', GetSpellTargetX(), GetSpellTargetY(), Rad2Deg(angle))
        call SetUnitAnimation(s__HashiramaWoodHuman_human[this], "birth")
        call SetUnitTimeScale(s__HashiramaWoodHuman_human[this], 4.0)
        call TimerStartEx(NewTimerEx(this) , 0.5 , false , function s__HashiramaWoodHuman_birth , "HashiramaWoodHuman_birth")
    endfunction
    
    function s__HashiramaWoodHuman_death takes nothing returns nothing
	if GetUnitTypeId(GetTriggerUnit()) == 'h08P' then
		call ShowUnit(GetTriggerUnit(), false)
	endif
    endfunction 

    function s__HashiramaWoodHuman_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(35 , s__HashiramaWoodHuman_SPELL_ID , function s__HashiramaWoodHuman_actions)
        call RegisterPlayerUnitEventForId(35 , EVENT_PLAYER_UNIT_DEATH , function s__HashiramaWoodHuman_death)
    endfunction
    
//===========================================================================
// Trigger: HashiramaAdamantinePunch
//===========================================================================
function Trig_Adamantine_Punch_INIT_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0CD' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Adamantine_Punch_INIT_Actions takes nothing returns nothing
    set udg_SU10_Caster=GetTriggerUnit()
    set udg_SU10_Point[1]=GetSpellTargetLoc()
    call SetUnitPositionLoc(udg_SU10_Caster, udg_SU10_Point[1])
    call PauseUnitBJ(true, udg_SU10_Caster)
    call SetUnitAnimation(udg_SU10_Caster, "spell one")
    call SetUnitTimeScale(udg_SU10_Caster, 0.5)
    call EnableTrigger(gg_trg_HashiramaAdamantinePunchLOOP1)
call AddSpecialEffectTargetUnitBJ(("right,hand" ), ( udg_SU10_Caster ), ( "Abilities\\Spells\\NightElf\\Barkskin\\BarkSkinTarget.mdl")) // INLINED!!
    set udg_SU10_Effect=GetLastCreatedEffectBJ()
endfunction

//===========================================================================
function InitTrig_HashiramaAdamantinePunch takes nothing returns nothing
    set gg_trg_HashiramaAdamantinePunch=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_HashiramaAdamantinePunch, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_HashiramaAdamantinePunch, Condition(function Trig_Adamantine_Punch_INIT_Conditions))
    call TriggerAddAction(gg_trg_HashiramaAdamantinePunch, function Trig_Adamantine_Punch_INIT_Actions)
    call EnableTriggerForId(35 , gg_trg_HashiramaAdamantinePunch)
endfunction


//===========================================================================
// Trigger: HashiramaAdamantinePunchLOOP1
//===========================================================================
function Trig_HashiramaAdamantinePunchLOOP1_Func001C takes nothing returns boolean
    if ( not ( GetUnitFlyHeight(udg_SU10_Caster) >= 300.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_HashiramaAdamantinePunchLOOP1_Actions takes nothing returns nothing
    if ( Trig_HashiramaAdamantinePunchLOOP1_Func001C() ) then
        call EnableTrigger(gg_trg_HashiramaAdamantinePunchLOOP2)
        call DisableTrigger(GetTriggeringTrigger())
    else
        call SetUnitFlyHeightBJ(udg_SU10_Caster, ( GetUnitFlyHeight(udg_SU10_Caster) + 15.00 ), 0.00)
    endif
endfunction

//===========================================================================
function InitTrig_HashiramaAdamantinePunchLOOP1 takes nothing returns nothing
    set gg_trg_HashiramaAdamantinePunchLOOP1=CreateTrigger()
    call DisableTrigger(gg_trg_HashiramaAdamantinePunchLOOP1)
    call TriggerRegisterTimerEventPeriodic(gg_trg_HashiramaAdamantinePunchLOOP1, 0.03)
    call TriggerAddAction(gg_trg_HashiramaAdamantinePunchLOOP1, function Trig_HashiramaAdamantinePunchLOOP1_Actions)
endfunction


//===========================================================================
// Trigger: HashiramaAdamantinePunchLOOP2
//===========================================================================
function Trig_Adamantine_Punch_LOOP_2_Func002C takes nothing returns boolean
    if ( not ( GetUnitFlyHeight(udg_SU10_Caster) <= 20.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Adamantine_Punch_LOOP_2_Actions takes nothing returns nothing
    if ( Trig_Adamantine_Punch_LOOP_2_Func002C() ) then
        //call CreateNUnitsAtLoc( 1, 'h038', GetOwningPlayer(udg_SU10_Caster), udg_SU10_Point[1], bj_UNIT_FACING )
        //call IssueImmediateOrder( GetLastCreatedUnit(), "stomp" )
        //call UnitApplyTimedLifeBJ( 1.00, 'BTLF', GetLastCreatedUnit() )
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=10
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_SU10_Point[3]=PolarProjectionBJ(udg_SU10_Point[1], 256, ( 36.00 * I2R(GetForLoopIndexA()) ))
call AddSpecialEffectLocBJ(((udg_SU10_Point[3] ) ), ( ( "Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl"))) // INLINED!!
            call DestroyEffect(udg_SU10_Effect)
            call RemoveLocation(udg_SU10_Point[3])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call PauseUnitBJ(false, udg_SU10_Caster)
        call SetUnitFlyHeightBJ(udg_SU10_Caster, 0.00, 0.00)
        call EnableTrigger(gg_trg_HashiramaAdamantinePunchACTIONS)
        call DisableTrigger(GetTriggeringTrigger())
    else
        call SetUnitFlyHeightBJ(udg_SU10_Caster, ( GetUnitFlyHeight(udg_SU10_Caster) - 25.00 ), 0.00)
    endif
endfunction

//===========================================================================
function InitTrig_HashiramaAdamantinePunchLOOP2 takes nothing returns nothing
    set gg_trg_HashiramaAdamantinePunchLOOP2=CreateTrigger()
    call DisableTrigger(gg_trg_HashiramaAdamantinePunchLOOP2)
    call TriggerRegisterTimerEventPeriodic(gg_trg_HashiramaAdamantinePunchLOOP2, 0.03)
    call TriggerAddAction(gg_trg_HashiramaAdamantinePunchLOOP2, function Trig_Adamantine_Punch_LOOP_2_Actions)
endfunction


//===========================================================================
// Trigger: HashiramaAdamantinePunchACTIONS
//===========================================================================
function Trig_Adamantine_Punch_Actions_Func001002003 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_SU10_Caster)) == true )
endfunction

function Trig_Adamantine_Punch_Actions_Func002A takes nothing returns nothing
    call UnitDamageTarget(udg_SU10_Caster, GetEnumUnit(), 600 + 6 * GetHeroStr(udg_SU10_Caster, true) * GetUnitAbilityLevel(udg_SU10_Caster, 'A0CD'), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
endfunction

function Trig_Adamantine_Punch_Actions_Actions takes nothing returns nothing
    set udg_SU10_Group=GetUnitsInRangeOfLocMatching(370.00, udg_SU10_Point[1], Condition(function Trig_Adamantine_Punch_Actions_Func001002003))
    call ForGroupBJ(udg_SU10_Group, function Trig_Adamantine_Punch_Actions_Func002A)
    call SetUnitTimeScale(udg_SU10_Caster, 1.0)
    call DestroyGroup(udg_SU10_Group)
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=10
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_SU10_Point[2]=PolarProjectionBJ(udg_SU10_Point[1], 100.00, ( 36.00 * I2R(GetForLoopIndexA()) ))
        call CreateNUnitsAtLoc(1, 'h03B', GetOwningPlayer(udg_SU10_Caster), udg_SU10_Point[2], GetRandomDirectionDeg())
        call UnitApplyTimedLifeBJ(2.00, 'BTLF', GetLastCreatedUnit())
        call CreateNUnitsAtLoc(1, 'h036', GetOwningPlayer(udg_SU10_Caster), udg_SU10_Point[2], GetRandomDirectionDeg())
        call UnitApplyTimedLifeBJ(2.00, 'BTLF', GetLastCreatedUnit())
        call CreateNUnitsAtLoc(1, 'h037', GetOwningPlayer(udg_SU10_Caster), udg_SU10_Point[2], GetRandomDirectionDeg())
        call UnitApplyTimedLifeBJ(2.00, 'BTLF', GetLastCreatedUnit())
call AddSpecialEffectLocBJ((udg_SU10_Point[2] ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
        call DestroyEffect(GetLastCreatedEffectBJ())
        call RemoveLocation(udg_SU10_Point[2])
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call RemoveLocation(udg_SU10_Point[1])
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_HashiramaAdamantinePunchACTIONS takes nothing returns nothing
    set gg_trg_HashiramaAdamantinePunchACTIONS=CreateTrigger()
    call DisableTrigger(gg_trg_HashiramaAdamantinePunchACTIONS)
    call TriggerRegisterTimerEventPeriodic(gg_trg_HashiramaAdamantinePunchACTIONS, 0.50)
    call TriggerAddAction(gg_trg_HashiramaAdamantinePunchACTIONS, function Trig_Adamantine_Punch_Actions_Actions)
endfunction


//===========================================================================
// Trigger: HashiramaStatue
//===========================================================================
// scope HashiramaStatue begins

    
//Implemented from module Alloc:
    
        function s__HashiramaStatue___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HashiramaStatue___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__HashiramaStatue___Spell_Alloc__instanceCount=s__HashiramaStatue___Spell_Alloc__instanceCount + 1
                set this=s__HashiramaStatue___Spell_Alloc__instanceCount
            else
                set this=s__HashiramaStatue___Spell_Alloc__recycle[(0)]
                set s__HashiramaStatue___Spell_Alloc__recycle[(0)]=s__HashiramaStatue___Spell_Alloc__recycle[s__HashiramaStatue___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HashiramaStatue___Spell_deallocate takes integer this returns nothing
            set s__HashiramaStatue___Spell_Alloc__recycle[this]=s__HashiramaStatue___Spell_Alloc__recycle[(0)]
            set s__HashiramaStatue___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__HashiramaStatue___Spell_finish takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call KillUnit(s__HashiramaStatue___Spell_statue[this])
            call KillUnit(s__HashiramaStatue___Spell_statue_hands[this])
            call KillUnit(s__HashiramaStatue___Spell_statue_hands_dmg[this])
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue[this], "death")
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue_hands[this], "death")
            //call SetUnitAnimation(this.statue_hands_dmg, "death")
            call ShowUnit(s__HashiramaStatue___Spell_statue_hands_dmg[this], false)
            set s__HashiramaStatue___Spell_caster[this]=null
            set s__HashiramaStatue___Spell_statue[this]=null
            set s__HashiramaStatue___Spell_statue_hands[this]=null
            set s__HashiramaStatue___Spell_statue_hands_dmg[this]=null
            call s__HashiramaStatue___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__HashiramaStatue___Spell_cast takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            set s__HashiramaStatue___Spell_count[this]=s__HashiramaStatue___Spell_count[this] + 1
            if ModuloInteger(s__HashiramaStatue___Spell_count[this], 5) == 0 then
                 call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( s__HashiramaStatue___Spell_target_x[this] )*1.0), (( s__HashiramaStatue___Spell_target_y[this])*1.0))) // INLINED!!
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HashiramaStatue___Spell_target_x[this], s__HashiramaStatue___Spell_target_y[this], 400.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HashiramaStatue___Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__HashiramaStatue___Spell_caster[this], bj_lastCreatedUnit, ( GetHeroStr(s__HashiramaStatue___Spell_caster[this], true) * 11 ) / 66.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		    call IssueTargetOrder(bj_lastCreatedUnit, "attack", bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if s__HashiramaStatue___Spell_count[this] > 66 then
                call TimerStart(NewTimerEx(this), 0.1, false, function s__HashiramaStatue___Spell_finish)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__HashiramaStatue___Spell_delay takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            //set this.target_x = GetPolarX(GetUnitX(this.statue), Deg2Rad(GetUnitFacing(this.statue)), 100)//GetUnitX(this.statue) + Cos(GetUnitFacing(this.statue) * bj_DEGTORAD) * 100 
            //set this.target_y = GetPolarY(GetUnitY(this.statue), Deg2Rad(GetUnitFacing(this.statue)), 100)//GetUnitY(this.statue) + Sin(GetUnitFacing(this.statue) * bj_DEGTORAD) * 100 
            //call UnitAddAbility(this.statue, 'A0M0')
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue[this], "spell")
            call SetUnitTimeScale(s__HashiramaStatue___Spell_statue[this], 1.0)
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue_hands[this], "spell")
            call SetUnitTimeScale(s__HashiramaStatue___Spell_statue_hands[this], 1.0)
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue_hands_dmg[this], "spell")
            call SetUnitTimeScale(s__HashiramaStatue___Spell_statue_hands_dmg[this], 1.0)
            set s__HashiramaStatue___Spell_count[this]=0
            call SlowArea(s__HashiramaStatue___Spell_caster[this] , s__HashiramaStatue___Spell_target_x[this] , s__HashiramaStatue___Spell_target_y[this] , 400)
            call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__HashiramaStatue___Spell_cast , "HashiramaStatue_cast")
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
        function s__HashiramaStatue___Spell_actions takes nothing returns nothing
            local real caster_x= GetUnitX(GetTriggerUnit())
            local real caster_y= GetUnitY(GetTriggerUnit())
            local real angle
            local integer this= s__HashiramaStatue___Spell_allocate()
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Hashirama_T_Senpou, 100.0, GetTriggerUnit())
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Hashirama: I must protect the will of fire!|r")
            endif
            set s__HashiramaStatue___Spell_caster[this]=GetTriggerUnit()
            set angle=GetUnitFacing(s__HashiramaStatue___Spell_caster[this])
            set s__HashiramaStatue___Spell_target_x[this]=GetSpellTargetX() //GetPolarX(caster_x, Deg2Rad(angle), 500.0)
            set s__HashiramaStatue___Spell_target_y[this]=GetSpellTargetY() //GetPolarY(caster_y, Deg2Rad(angle), 500.0)
            set angle=Rad2Deg(Atan3(caster_x , caster_y , s__HashiramaStatue___Spell_target_x[this] , s__HashiramaStatue___Spell_target_y[this]))
            call DestroyEffect(AddSpecialEffect(("s_Kuchiyose.mdx" ), (( caster_x )*1.0), (( caster_y)*1.0))) // INLINED!!
            set s__HashiramaStatue___Spell_statue[this]=CreateUnit(GetTriggerPlayer(), 'e02H', caster_x, caster_y, angle)
            set s__HashiramaStatue___Spell_statue_hands[this]=CreateUnit(GetTriggerPlayer(), 'e03D', caster_x, caster_y, angle)
            set s__HashiramaStatue___Spell_statue_hands_dmg[this]=CreateUnit(GetTriggerPlayer(), 'e03E', caster_x, caster_y, angle)
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue[this], "birth")
            call SetUnitTimeScale(s__HashiramaStatue___Spell_statue[this], 1.33)
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue_hands[this], "birth")
            call SetUnitTimeScale(s__HashiramaStatue___Spell_statue_hands[this], 1.33)
            call SetUnitAnimation(s__HashiramaStatue___Spell_statue_hands_dmg[this], "birth")
            call SetUnitTimeScale(s__HashiramaStatue___Spell_statue_hands_dmg[this], 1.33)
            call TimerStartEx(NewTimerEx(this) , 1.0 , false , function s__HashiramaStatue___Spell_delay , "HashiramaStatue_delay")
        endfunction 
        
        function s__HashiramaStatue___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(35 , s__HashiramaStatue___Spell_SPELL_ID , function s__HashiramaStatue___Spell_actions)
        endfunction 
        
    
// scope HashiramaStatue ends
//===========================================================================
// Trigger: HashiramaNewKoutan
//===========================================================================

//Implemented from module Alloc:
    
        function s__HashiramaNewKoutan_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HashiramaNewKoutan_Alloc__recycle[(0)] == 0 ) then
                set s__HashiramaNewKoutan_Alloc__instanceCount=s__HashiramaNewKoutan_Alloc__instanceCount + 1
                set this=s__HashiramaNewKoutan_Alloc__instanceCount
            else
                set this=s__HashiramaNewKoutan_Alloc__recycle[(0)]
                set s__HashiramaNewKoutan_Alloc__recycle[(0)]=s__HashiramaNewKoutan_Alloc__recycle[s__HashiramaNewKoutan_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HashiramaNewKoutan_deallocate takes integer this returns nothing
            set s__HashiramaNewKoutan_Alloc__recycle[this]=s__HashiramaNewKoutan_Alloc__recycle[(0)]
            set s__HashiramaNewKoutan_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HashiramaNewKoutan_dealDamage takes nothing returns boolean
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HashiramaNewKoutan_caster[s__HashiramaNewKoutan_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
            if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true then
                call UnitDamageTarget(s__HashiramaNewKoutan_caster[s__HashiramaNewKoutan_instance], GetFilterUnit(), 30 * GetHeroStr(s__HashiramaNewKoutan_caster[s__HashiramaNewKoutan_instance], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            else
                call UnitDamageTarget(s__HashiramaNewKoutan_caster[s__HashiramaNewKoutan_instance], GetFilterUnit(), 15 * GetHeroStr(s__HashiramaNewKoutan_caster[s__HashiramaNewKoutan_instance], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            endif
        endif
        return false
    endfunction 

    function s__HashiramaNewKoutan_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= s__HashiramaNewKoutan_caster_x[this]
        local real y= s__HashiramaNewKoutan_caster_y[this]
        local real angle
        local real offset
        local real new_x
        local real new_y
        local real scale
        local integer i= 0
        loop
            exitwhen i > 1
                set angle=Deg2Rad(GetRandomReal(0, 360))
                set offset=GetRandomReal(0, 1000)
                set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HashiramaNewKoutan_caster[this]), 'h039', new_x, new_y, GetRandomReal(0, 360))
                call SetUnitTimeScale(bj_lastCreatedUnit, 6.0)
                call SetUnitScale(bj_lastCreatedUnit, GetRandomReal(1.0, 2.0), 0, 0)
                call SetUnitAnimation(bj_lastCreatedUnit, "birth")
                call GroupAddUnit(s__HashiramaNewKoutan_trees[this], bj_lastCreatedUnit)
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            set i=i + 1
        endloop
        set s__HashiramaNewKoutan_count[this]=s__HashiramaNewKoutan_count[this] + 1
        if s__HashiramaNewKoutan_count[this] > 66 then
            loop
		set bj_lastCreatedUnit=FirstOfGroup(s__HashiramaNewKoutan_trees[this])
		exitwhen bj_lastCreatedUnit == null
		call GroupRemoveUnit(s__HashiramaNewKoutan_trees[this], bj_lastCreatedUnit)
		call KillUnit(bj_lastCreatedUnit)
		call ShowUnit(bj_lastCreatedUnit, false)
	    endloop
	    call DestroyGroup(s__HashiramaNewKoutan_trees[this])
	    set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HashiramaNewKoutan_caster[this]), 'h03F', s__HashiramaNewKoutan_caster_x[this], s__HashiramaNewKoutan_caster_y[this], 270)
	    call SetUnitTimeScale(bj_lastCreatedUnit, 2.0)
	    call KillUnit(bj_lastCreatedUnit)
        set s__HashiramaNewKoutan_instance=this
	    set bj_lastCreatedGroup=CreateGroup()
	    call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HashiramaNewKoutan_caster_x[this], s__HashiramaNewKoutan_caster_y[this], 1200, Filter(function s__HashiramaNewKoutan_dealDamage))
	    call DestroyGroup(bj_lastCreatedGroup)
	    set s__HashiramaNewKoutan_trees[this]=null
            call s__HashiramaNewKoutan_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HashiramaNewKoutan_actions takes nothing returns nothing
        local integer this= s__HashiramaNewKoutan_allocate()
        set s__HashiramaNewKoutan_caster[this]=GetTriggerUnit()
        set s__HashiramaNewKoutan_count[this]=0
	set s__HashiramaNewKoutan_trees[this]=CreateGroup()
	set s__HashiramaNewKoutan_caster_x[this]=GetUnitX(s__HashiramaNewKoutan_caster[this])
	set s__HashiramaNewKoutan_caster_y[this]=GetUnitY(s__HashiramaNewKoutan_caster[this])
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call PlaySoundOnUnitBJ(gg_snd_Hashirama_T2_Mokuton, 100.0, GetTriggerUnit())
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Hashirama: This is konoha's will of fire!|r")
            endif
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__HashiramaNewKoutan_periodic , "HashiramaEdoMokuton_periodic")
    endfunction 
    
    function s__HashiramaNewKoutan_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__HashiramaNewKoutan_SPELL_ID ) , Filter(( function s__HashiramaNewKoutan_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: HashiramaUltimateChoice
//===========================================================================
//textmacro instance: UltimateChoice("Hashirama", "A0NR", "A0TK", "SHIN_SUSENJU", "Senpou: Mokuton: Shin Susenju", "A0S6", "KOUTAN", "Mokuton Hijutsu: Jukai Koutan")

//Implemented from module Alloc:
    
        function s__HashiramaUltimateChoice_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HashiramaUltimateChoice_Alloc__recycle[(0)] == 0 ) then
                set s__HashiramaUltimateChoice_Alloc__instanceCount=s__HashiramaUltimateChoice_Alloc__instanceCount + 1
                set this=s__HashiramaUltimateChoice_Alloc__instanceCount
            else
                set this=s__HashiramaUltimateChoice_Alloc__recycle[(0)]
                set s__HashiramaUltimateChoice_Alloc__recycle[(0)]=s__HashiramaUltimateChoice_Alloc__recycle[s__HashiramaUltimateChoice_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HashiramaUltimateChoice_deallocate takes integer this returns nothing
            set s__HashiramaUltimateChoice_Alloc__recycle[this]=s__HashiramaUltimateChoice_Alloc__recycle[(0)]
            set s__HashiramaUltimateChoice_Alloc__recycle[(0)]=this
        endfunction
    //private static boolean picked = false 
    
    function s__HashiramaUltimateChoice_enableSkill takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__HashiramaUltimateChoice_caster[this] != null then
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__HashiramaUltimateChoice_caster[this]), 'A0NR', false)
        else
            call s__HashiramaUltimateChoice_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HashiramaUltimateChoice_pickSkill takes nothing returns boolean
        local integer i
        local integer this
        if (GetClickedButton()) == s__s__HashiramaUltimateChoice_b[0] then // INLINED!!
            call UnitAddAbility(s__HashiramaUltimateChoice_u, s__HashiramaUltimateChoice_SHIN_SUSENJU)
            call UnitMakeAbilityPermanent(s__HashiramaUltimateChoice_u, true, s__HashiramaUltimateChoice_SHIN_SUSENJU)
        else
            call UnitAddAbility(s__HashiramaUltimateChoice_u, s__HashiramaUltimateChoice_KOUTAN)
            call UnitMakeAbilityPermanent(s__HashiramaUltimateChoice_u, true, s__HashiramaUltimateChoice_KOUTAN)
        endif
        set i=0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0NR', false)
            set i=i + 1
        endloop
        //call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A0NR', false)
        set s__s__HashiramaUltimateChoice_b[0]= null
        set s__s__HashiramaUltimateChoice_b[1]= null
        set s__HashiramaUltimateChoice_u=null
        call s__Dialog_destroy(s__HashiramaUltimateChoice_d)
        call DestroyBoolExpr(s__HashiramaUltimateChoice_pick)
        set s__HashiramaUltimateChoice_pick=null
        set this=s__HashiramaUltimateChoice_allocate()
        set s__HashiramaUltimateChoice_caster[this]=s__HashiramaUltimateChoice_u
        set s__HashiramaUltimateChoice_pp[this]=GetOwningPlayer(s__HashiramaUltimateChoice_u)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__HashiramaUltimateChoice_enableSkill)
        return false
    endfunction 
    
    function s__HashiramaUltimateChoice_actions takes nothing returns nothing
        if GetTriggerUnit() != udg_InoMental and GetUnitAbilityLevel(GetTriggerUnit(), s__HashiramaUltimateChoice_SHIN_SUSENJU) == 0 and GetUnitAbilityLevel(GetTriggerUnit(), s__HashiramaUltimateChoice_KOUTAN) == 0 then
            set s__HashiramaUltimateChoice_d=s__Dialog_create()
            call s__Dialog__set_title(s__HashiramaUltimateChoice_d,"Pick a skill")
            set s__s__HashiramaUltimateChoice_b[0]= (DialogAddButton(s__Dialog_dg[(s__HashiramaUltimateChoice_d)], ("Senpou: Mokuton: Shin Susenju" ), ( 0))) // INLINED!!
            set s__s__HashiramaUltimateChoice_b[1]= (DialogAddButton(s__Dialog_dg[(s__HashiramaUltimateChoice_d)], ("Mokuton Hijutsu: Jukai Koutan" ), ( 1))) // INLINED!!
            call s__Dialog_display(s__HashiramaUltimateChoice_d,GetTriggerPlayer() , true)
            call s__Dialog_registerClickEvent(s__HashiramaUltimateChoice_d,s__HashiramaUltimateChoice_pick)
            set s__HashiramaUltimateChoice_u=GetTriggerUnit()
            //set picked = true 
        endif
    endfunction
    
    function s__HashiramaUltimateChoice_learn takes nothing returns nothing
        if GetLearnedSkill() == 'A0NR' then
            set s__HashiramaUltimateChoice_p=GetTriggerPlayer()
        endif
    endfunction 
    
    function s__HashiramaUltimateChoice_onInit takes nothing returns nothing
        set s__HashiramaUltimateChoice_pick=Condition(function s__HashiramaUltimateChoice_pickSkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_SKILL ) , Filter(( function s__HashiramaUltimateChoice_learn))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0NR' ) , Filter(( function s__HashiramaUltimateChoice_actions))) // INLINED!!
    endfunction 
    
//end of: UltimateChoice("Hashirama", "A0NR", "A0TK", "SHIN_SUSENJU", "Senpou: Mokuton: Shin Susenju", "A0S6", "KOUTAN", "Mokuton Hijutsu: Jukai Koutan")

//===========================================================================
// Trigger: HashiramaFlowers
//===========================================================================

//Implemented from module Alloc:
    
        function s__HashiramaFlowers_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HashiramaFlowers_Alloc__recycle[(0)] == 0 ) then
                set s__HashiramaFlowers_Alloc__instanceCount=s__HashiramaFlowers_Alloc__instanceCount + 1
                set this=s__HashiramaFlowers_Alloc__instanceCount
            else
                set this=s__HashiramaFlowers_Alloc__recycle[(0)]
                set s__HashiramaFlowers_Alloc__recycle[(0)]=s__HashiramaFlowers_Alloc__recycle[s__HashiramaFlowers_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HashiramaFlowers_deallocate takes integer this returns nothing
            set s__HashiramaFlowers_Alloc__recycle[this]=s__HashiramaFlowers_Alloc__recycle[(0)]
            set s__HashiramaFlowers_Alloc__recycle[(0)]=this
        endfunction
    
 function s__HashiramaFlowers_dealDamage takes nothing returns boolean
            local unit u
            if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HashiramaFlowers_caster[s__HashiramaFlowers_instance])) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
		call UnitDamageTarget(s__HashiramaFlowers_caster[s__HashiramaFlowers_instance], GetFilterUnit(), 3 * GetHeroStr(s__HashiramaFlowers_caster[s__HashiramaFlowers_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		set u=CreateAbilityDummy(s__HashiramaFlowers_caster[s__HashiramaFlowers_instance] , 'A18D')
                call IssueTargetOrder(u, "slow", GetFilterUnit())
                call UnitApplyTimedLife(u, 'BTLF', 3.0)
                set u=null
            endif
	    return false
 endfunction
	
    function s__HashiramaFlowers_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local unit u
        set bj_lastCreatedGroup=CreateGroup()
	set s__HashiramaFlowers_instance=this
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HashiramaFlowers_x[this], s__HashiramaFlowers_y[this], 700.0, Filter(function s__HashiramaFlowers_dealDamage))
        call DestroyGroup(bj_lastCreatedGroup)
        call s__HashiramaFlowers_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__HashiramaFlowers_actions takes nothing returns nothing
        local integer this= s__HashiramaFlowers_allocate()
        local real x= GetUnitX(GetTriggerUnit())
        local real y= GetUnitY(GetTriggerUnit())
        local real new_x
        local real new_y
        local real scale
        local integer i
        local integer j
        set i=0
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e03M', x, y, 0)
        call SetUnitTimeScale(bj_lastCreatedUnit, 2.0)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.0)
        loop
            exitwhen i > 12
            set new_x=(((x )*1.0) + Cos((( Deg2Rad(30 * i) )*1.0)) * (( 400.0)*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( Deg2Rad(30 * i) )*1.0)) * (( 400.0)*1.0)) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            if ModuloInteger(i, 3) == 0 then
                set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e03M', new_x, new_y, 30 * i)
                call SetUnitTimeScale(bj_lastCreatedUnit, 2.0)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.0)
            endif
            set j=0
            loop
                exitwhen j > 3
                set j=j + 1
                set new_x=(((x )*1.0) + Cos((( Deg2Rad(30 * i) )*1.0)) * (( 150 * j)*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( Deg2Rad(30 * i) )*1.0)) * (( 150 * j)*1.0)) // INLINED!!
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                set scale=GetRandomReal(0.5, 1.5)
                set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e00D', new_x, new_y, 30 * i)
                call SetUnitScale(bj_lastCreatedUnit, scale, scale, scale)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 4.0)
            endloop
            
            set i=i + 1
        endloop
        set s__HashiramaFlowers_x[this]=x
        set s__HashiramaFlowers_y[this]=y
        set s__HashiramaFlowers_caster[this]=GetTriggerUnit()
        call TimerStartEx(NewTimerEx(this) , 1.0 , false , function s__HashiramaFlowers_delay , "HashiramaFlowers_delay")
    endfunction 
    
    function s__HashiramaFlowers_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(35 , s__HashiramaFlowers_SPELL_ID , function s__HashiramaFlowers_actions)
    endfunction 
    

//===========================================================================
// Trigger: HashiramaFireWill
//===========================================================================
function Trig_universe_Conditions takes nothing returns boolean
 return ( GetSpellAbilityId() == 'A0VG' )
endfunction
//
function Trig_universe_Actions takes nothing returns nothing
 local unit caster= GetTriggerUnit()
 local unit target= GetSpellTargetUnit()
 local location loc= GetUnitLoc(caster)
 local location loc2= GetUnitLoc(target)
 //local integer level = GetUnitAbilityLevelSwapped('A0C8', caster)
 local integer str= GetHeroStatBJ(bj_HEROSTAT_STR, caster, true)
 local real damage= 10 * I2R(str)
 set udg_Universe_DamageValue=damage
 call PauseUnit(caster, true)
 //call PauseUnit(target, true)
 call SetUnitPathing(caster, false)
 
 call RemoveLocation(loc)
 //call SetUnitPathing(target, false)
 set udg_Universe_Integer=0
 call SetUnitAnimation(caster, "spell two")
 set udg_Universe_Effects[2]=AddSpecialEffectTarget("s_PowerCharge_Effect.mdx", caster, "right,hand")
// call TriggerSleepAction(0.05)
 call CreateNUnitsAtLoc(1, 'h036', GetOwningPlayer(caster), loc2, 270)
 set udg_Universe_Dummy=bj_lastCreatedUnit
 call SetUnitAnimation(udg_Universe_Dummy, "birth")
 call SetUnitTimeScale(udg_Universe_Dummy, 2.0)
// set udg_Universe_Effects[1] = AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\EntangleMine\\Roots.mdl", target, "origin")
 call TriggerSleepAction(0.15)
 call SetUnitTimeScale(caster, 2.0)
 call SetUnitAnimationByIndex(caster, 8)
 //call SetUnitAnimation(caster, "attack")
 //call TriggerSleepAction(0.10)
 set udg_Universe_Caster=caster
 set udg_Universe_Target=target
 call AddSpecialEffectLocEx("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" , loc)
 call EnableTrigger(gg_trg_HashiramaFireWillLOOP)
endfunction
//===========================================================================
function InitTrig_HashiramaFireWill takes nothing returns nothing
    set gg_trg_HashiramaFireWill=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_HashiramaFireWill, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(gg_trg_HashiramaFireWill, function Trig_universe_Actions)
    call TriggerAddCondition(gg_trg_HashiramaFireWill, Condition(function Trig_universe_Conditions))
endfunction


//===========================================================================
// Trigger: HashiramaFireWillLOOP
//===========================================================================
function Trig_universe_loop_Damage_Group_Conditions takes nothing returns boolean
 if ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_Universe_Caster)) ) == true then
   if ( IsUnitInGroup(GetFilterUnit(), udg_Universe_Damaged) ) == false then
     return true
   endif
 endif
 return false
endfunction

function Trig_universe_loop_Damage_Group takes nothing returns nothing
 call UnitDamageTarget(udg_Universe_Caster, GetEnumUnit(), ( ( udg_Universe_DamageValue ) ), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
 call GroupAddUnit(udg_Universe_Damaged, GetEnumUnit())
endfunction

function Trig_universe_loop_Actions takes nothing returns nothing
 local unit caster= udg_Universe_Caster
 local unit target= udg_Universe_Target
 local location loc1= GetUnitLoc(caster)
 local location loc2= GetUnitLoc(target)
 local location loc3= PolarProjectionBJ(loc1, 30, AngleBetweenPoints(loc1, loc2))
 local location loc4= PolarProjectionBJ(loc2, 30, AngleBetweenPoints(loc1, loc2))
 if ( DistanceBetweenPoints(loc1, loc2) < 100 ) then
   if ( udg_Universe_Integer == 0 ) then
     //call SetUnitTimeScale(caster, 3.0)
     call SetUnitAnimation(caster, "attack")
     call AddSpecialEffectLocEx("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" , loc2)
     //call UnitDamageTarget(caster, target, ((udg_Universe_DamageValue)), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
     set udg_Universe_DamageGroup=GetUnitsInRangeOfLocMatching(200, loc4, Condition(function Trig_universe_loop_Damage_Group_Conditions))
     call ForGroupBJ(udg_Universe_DamageGroup, function Trig_universe_loop_Damage_Group)
     call DestroyGroup(udg_Universe_DamageGroup)
     call GroupAddUnit(udg_Universe_Damaged, target)
     //call UnitRemoveBuffBJ('B017', target)
     call KillUnit(udg_Universe_Dummy)
     //call DestroyEffect(udg_Universe_Effects[1])
     call DestroyEffect(udg_Universe_Effects[2])
     call SetUnitPathing(caster, true)
     call PauseUnit(target, true)
     call PauseUnit(caster, false)
     //call SetUnitPathing(target, false)
     set udg_Universe_Integer=udg_Universe_Integer + 1
   endif
 else
   if ( udg_Universe_Integer == 0 ) then
     call SetUnitPositionLoc(caster, loc3)
   endif
 endif
 //
 if ( udg_Universe_Integer > 0 ) then
  call UnitAddAbility(target, 'Arav')
  if ( udg_Universe_Integer < 7 ) then
    call SetUnitFlyHeight(target, GetUnitFlyHeight(target) + 30, 0.0)
  else
    if ( GetUnitFlyHeight(caster) > 50 ) then
      call SetUnitFlyHeight(target, GetUnitFlyHeight(target) - 30, 0.0)
    endif
  endif
  call UnitRemoveAbility(target, 'Arav')
   //set udg_Universe_DamageGroup = GetUnitsInRangeOfLocMatching(200, loc4, Condition(function Trig_universe_loop_Damage_Group_Conditions))
   //call ForGroupBJ(udg_Universe_DamageGroup, function Trig_universe_loop_Damage_Group)
   call DestroyGroup(udg_Universe_DamageGroup)
  // call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", loc4))
   //call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl", loc4))
   call SetUnitPositionLoc(target, loc4)
   set udg_Universe_Integer=udg_Universe_Integer + 1
 endif
 call RemoveLocation(loc1)
 call RemoveLocation(loc2)
 call RemoveLocation(loc3)
 call RemoveLocation(loc4)
 set loc1=null
 set loc2=null
 set loc3=null
 set loc4=null
 if ( udg_Universe_Integer > 13 ) then
   call UnitAddAbility(target, 'Arav')
   call SetUnitFlyHeight(target, 0.0, 0.0)
   call UnitRemoveAbility(target, 'Arav')
   call SetUnitTimeScale(caster, 1.0)
  // call PauseUnit(caster, false)
   call GroupClear(udg_Universe_Damaged)
   call PauseUnit(target, false)
   call SetUnitPathing(target, true)
   call DisableTrigger(GetTriggeringTrigger())
 endif
endfunction

//===========================================================================
function InitTrig_HashiramaFireWillLOOP takes nothing returns nothing
    set gg_trg_HashiramaFireWillLOOP=CreateTrigger()
    call DisableTrigger(gg_trg_HashiramaFireWillLOOP)
    call TriggerRegisterTimerEvent(gg_trg_HashiramaFireWillLOOP, 0.03, true)
    call TriggerAddAction(gg_trg_HashiramaFireWillLOOP, function Trig_universe_loop_Actions)
endfunction


//===========================================================================
// Trigger: HashiramaEdoGate
//===========================================================================
// scope EdoHashiramaGate begins

    
    
//Implemented from module Alloc:
    
        function s__EdoHashiramaGate___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__EdoHashiramaGate___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__EdoHashiramaGate___Spell_Alloc__instanceCount=s__EdoHashiramaGate___Spell_Alloc__instanceCount + 1
                set this=s__EdoHashiramaGate___Spell_Alloc__instanceCount
            else
                set this=s__EdoHashiramaGate___Spell_Alloc__recycle[(0)]
                set s__EdoHashiramaGate___Spell_Alloc__recycle[(0)]=s__EdoHashiramaGate___Spell_Alloc__recycle[s__EdoHashiramaGate___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__EdoHashiramaGate___Spell_deallocate takes integer this returns nothing
            set s__EdoHashiramaGate___Spell_Alloc__recycle[this]=s__EdoHashiramaGate___Spell_Alloc__recycle[(0)]
            set s__EdoHashiramaGate___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__EdoHashiramaGate___Spell_catchEnemies takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real x
            local real y
            local real angle
            set bj_lastCreatedGroup=CreateGroup()
            call GroupAddGroup(s__EdoHashiramaGate___Spell_damaged[this], bj_lastCreatedGroup)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetDistance(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , s__EdoHashiramaGate___Spell_target_x[this] , s__EdoHashiramaGate___Spell_target_y[this]) > 300 then
                    if not IsUnitPaused(bj_lastCreatedUnit) and not IsUnitHidden(bj_lastCreatedUnit) then
                        set angle=Atan3(s__EdoHashiramaGate___Spell_target_x[this] , s__EdoHashiramaGate___Spell_target_y[this] , GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit))
                        set x=(((s__EdoHashiramaGate___Spell_target_x[this] )*1.0) + Cos((( angle )*1.0)) * (( 300)*1.0)) // INLINED!!
                        set y=(((s__EdoHashiramaGate___Spell_target_y[this] )*1.0) + Sin((( angle )*1.0)) * (( 300)*1.0)) // INLINED!!
                        //call SetUnitX(bj_lastCreatedUnit, x)
                        //call SetUnitY(bj_lastCreatedUnit, y) 
                    else
                        call GroupRemoveUnit(s__EdoHashiramaGate___Spell_damaged[this], bj_lastCreatedUnit)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endfunction 
        
        function s__EdoHashiramaGate___Spell_finish takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local integer i
            set i=1
            loop
                exitwhen i > 36
                call RemoveDestructable(s__EdoHashiramaGate___blocks[(this)*(1)+i])
                set s__EdoHashiramaGate___blocks[(this)*(1)+i]= null
                set i=i + 1
            endloop
            call SetUnitPathing(s__EdoHashiramaGate___Spell_caster[this], true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(s__EdoHashiramaGate___Spell_caster[this]), s__EdoHashiramaGate___Spell_SPELL_ID, true)
		call UnitRemoveAbility(s__EdoHashiramaGate___Spell_caster[this], 'A15U')
		set s__EdoHashiramaGate___Spell_finishSpell=false
            set s__EdoHashiramaGate___Spell_caster[this]=null
            call ReleaseTimer(s__EdoHashiramaGate___Spell_catch[this])
            set s__EdoHashiramaGate___Spell_catch[this]=null
            call DestroyGroup(s__EdoHashiramaGate___Spell_damaged[this])
            set s__EdoHashiramaGate___Spell_damaged[this]=null
            call s__EdoHashiramaGate___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
 function s__EdoHashiramaGate___Spell_checkFinish takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__EdoHashiramaGate___Spell_count[this]=s__EdoHashiramaGate___Spell_count[this] + 1
		if s__EdoHashiramaGate___Spell_count[this] == 40 or s__EdoHashiramaGate___Spell_finishSpell then
			call KillUnit(s__EdoHashiramaGate___Spell_gates[this])
			call TimerStart(NewTimerEx(this), 0.1, false, function s__EdoHashiramaGate___Spell_finish)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

        function s__EdoHashiramaGate___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real size
            local real angle
            set s__EdoHashiramaGate___Spell_count[this]=s__EdoHashiramaGate___Spell_count[this] + 1
            set size=1.0 + 0.1 * s__EdoHashiramaGate___Spell_count[this]
            set angle=( ModuloInteger(s__EdoHashiramaGate___Spell_count[this], 8) + 1 ) * 45
            //set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'e02D', this.target_x, this.target_y, angle) 
            //call SetUnitScale(bj_lastCreatedUnit, size, size, size) 
            //call SetUnitFlyHeight(bj_lastCreatedUnit, 700, 0)
            //call SetUnitFlyHeight(bj_lastCreatedUnit, 0, 1400)
            //call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 5.0 - 0.1 * this.count)
            if ModuloInteger(s__EdoHashiramaGate___Spell_count[this], 3) == 1 then
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__EdoHashiramaGate___Spell_caster[this]), 'e02G', s__EdoHashiramaGate___Spell_target_x[this], s__EdoHashiramaGate___Spell_target_y[this], GetRandomReal(0, 360))
                call KillUnit(bj_lastCreatedUnit)
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__EdoHashiramaGate___Spell_target_x[this], s__EdoHashiramaGate___Spell_target_y[this], 300.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__EdoHashiramaGate___Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                call UnitDamageTarget(s__EdoHashiramaGate___Spell_caster[this], bj_lastCreatedUnit, 1200 / 20.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                    if not IsUnitInGroup(bj_lastCreatedUnit, s__EdoHashiramaGate___Spell_damaged[this]) then
                        call GroupAddUnit(s__EdoHashiramaGate___Spell_damaged[this], bj_lastCreatedUnit)
                    endif
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if s__EdoHashiramaGate___Spell_count[this] >= 20 then
		set s__EdoHashiramaGate___Spell_count[this]=0
                call TimerStartEx(NewTimerEx(this) , 0.1 , true , function s__EdoHashiramaGate___Spell_checkFinish , "EdoHashiramaGate_finish")
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction 

 function s__EdoHashiramaGate___Spell_disableSpell takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__EdoHashiramaGate___Spell_finishSpell=false
		call SetPlayerAbilityAvailable(GetOwningPlayer(s__EdoHashiramaGate___Spell_caster[this]), s__EdoHashiramaGate___Spell_SPELL_ID, false)
		call UnitAddAbility(s__EdoHashiramaGate___Spell_caster[this], 'A15U')
		call ReleaseTimer(GetExpiredTimer())
 endfunction
        
        function s__EdoHashiramaGate___Spell_actions takes nothing returns nothing
            local integer this= s__EdoHashiramaGate___Spell_allocate()
            local real new_x
            local real new_y
            local integer i
            set s__EdoHashiramaGate___Spell_caster[this]=GetTriggerUnit()
            set s__EdoHashiramaGate___Spell_target_x[this]=GetSpellTargetX()
            set s__EdoHashiramaGate___Spell_target_y[this]=GetSpellTargetY()
            set s__EdoHashiramaGate___Spell_count[this]=0
            set s__EdoHashiramaGate___Spell_damaged[this]=CreateGroup()
            set i=1
            loop
                exitwhen i > 36
                set new_x=s__EdoHashiramaGate___Spell_target_x[this] + Cos(i * 10 * bj_DEGTORAD) * 350
                set new_y=s__EdoHashiramaGate___Spell_target_y[this] + Sin(i * 10 * bj_DEGTORAD) * 350
                set s__EdoHashiramaGate___blocks[(this)*(1)+i]= CreateDestructable('YTfc', new_x, new_y, 10 * i, 1.0, 0)
                set i=i + 1
            endloop
            set s__EdoHashiramaGate___Spell_gates[this]=CreateUnit(GetOwningPlayer(s__EdoHashiramaGate___Spell_caster[this]), 'e02D', s__EdoHashiramaGate___Spell_target_x[this], s__EdoHashiramaGate___Spell_target_y[this], 270)
	    call UnitApplyTimedLife(s__EdoHashiramaGate___Spell_gates[this], 'BTLF', 5.0)
            set s__EdoHashiramaGate___Spell_catch[this]=NewTimerEx(this)
	    call SetUnitPathing(s__EdoHashiramaGate___Spell_caster[this], false)
            call TimerStartEx(s__EdoHashiramaGate___Spell_catch[this] , 0.05 , true , function s__EdoHashiramaGate___Spell_catchEnemies , "EdoHashiramaGate_catchEnemies")
            call TimerStartEx(NewTimerEx(this) , 0.05 , true , function s__EdoHashiramaGate___Spell_periodic , "EdoHashiramaGate_periodic")
	    call TimerStart(NewTimerEx(this), 0.1, false, function s__EdoHashiramaGate___Spell_disableSpell)
        endfunction 
        
        function s__EdoHashiramaGate___Spell_dies takes nothing returns nothing
            if GetUnitTypeId(GetTriggerUnit()) == 'e02D' then
                call ShowUnit(GetTriggerUnit(), false)
            endif
        endfunction
        
 function s__EdoHashiramaGate___Spell_disable takes nothing returns nothing
		set s__EdoHashiramaGate___Spell_finishSpell=true
 endfunction 

        function s__EdoHashiramaGate___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__EdoHashiramaGate___Spell_SPELL_ID ) , Filter(( function s__EdoHashiramaGate___Spell_actions))) // INLINED!!
	    call RegisterSpellEffectEvent2(('A15U' ) , Filter(( function s__EdoHashiramaGate___Spell_disable))) // INLINED!!
            call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__EdoHashiramaGate___Spell_dies))) // INLINED!!
        endfunction 
        
    
// scope EdoHashiramaGate ends
//===========================================================================
// Trigger: EdoTenseiHashiramaStatue
//===========================================================================
// scope EdoTenseiHashiramaStatue begins

    
//Implemented from module Alloc:
    
        function s__EdoTenseiHashiramaStatue___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__EdoTenseiHashiramaStatue___Spell_Alloc__instanceCount=s__EdoTenseiHashiramaStatue___Spell_Alloc__instanceCount + 1
                set this=s__EdoTenseiHashiramaStatue___Spell_Alloc__instanceCount
            else
                set this=s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[(0)]
                set s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[(0)]=s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__EdoTenseiHashiramaStatue___Spell_deallocate takes integer this returns nothing
            set s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[this]=s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[(0)]
            set s__EdoTenseiHashiramaStatue___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__EdoTenseiHashiramaStatue___Spell_finish takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call KillUnit(s__EdoTenseiHashiramaStatue___Spell_statue[this])
            call KillUnit(s__EdoTenseiHashiramaStatue___Spell_statue_hands[this])
            call KillUnit(s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this])
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue[this], "death")
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue_hands[this], "death")
            //call SetUnitAnimation(this.statue_hands_dmg, "death")
            call ShowUnit(s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this], false)
            set s__EdoTenseiHashiramaStatue___Spell_caster[this]=null
            set s__EdoTenseiHashiramaStatue___Spell_statue[this]=null
            set s__EdoTenseiHashiramaStatue___Spell_statue_hands[this]=null
            set s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this]=null
            call s__EdoTenseiHashiramaStatue___Spell_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__EdoTenseiHashiramaStatue___Spell_cast takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            set s__EdoTenseiHashiramaStatue___Spell_count[this]=s__EdoTenseiHashiramaStatue___Spell_count[this] + 1
            if ModuloInteger(s__EdoTenseiHashiramaStatue___Spell_count[this], 5) == 0 then
                 call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( s__EdoTenseiHashiramaStatue___Spell_target_x[this] )*1.0), (( s__EdoTenseiHashiramaStatue___Spell_target_y[this])*1.0))) // INLINED!!
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__EdoTenseiHashiramaStatue___Spell_target_x[this], s__EdoTenseiHashiramaStatue___Spell_target_y[this], 400.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__EdoTenseiHashiramaStatue___Spell_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__EdoTenseiHashiramaStatue___Spell_caster[this], bj_lastCreatedUnit, ( GetHeroStr(s__EdoTenseiHashiramaStatue___Spell_caster[this], true) * 6 + 1000 ) / 66.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		    call IssueTargetOrder(bj_lastCreatedUnit, "attack", bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if s__EdoTenseiHashiramaStatue___Spell_count[this] > 66 then
                call TimerStart(NewTimerEx(this), 0.1, false, function s__EdoTenseiHashiramaStatue___Spell_finish)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__EdoTenseiHashiramaStatue___Spell_delay takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            //set this.target_x = GetPolarX(GetUnitX(this.statue), Deg2Rad(GetUnitFacing(this.statue)), 100)//GetUnitX(this.statue) + Cos(GetUnitFacing(this.statue) * bj_DEGTORAD) * 100 
            //set this.target_y = GetPolarY(GetUnitY(this.statue), Deg2Rad(GetUnitFacing(this.statue)), 100)//GetUnitY(this.statue) + Sin(GetUnitFacing(this.statue) * bj_DEGTORAD) * 100 
            //call UnitAddAbility(this.statue, 'A0M0')
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue[this], "spell")
            call SetUnitTimeScale(s__EdoTenseiHashiramaStatue___Spell_statue[this], 1.0)
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue_hands[this], "spell")
            call SetUnitTimeScale(s__EdoTenseiHashiramaStatue___Spell_statue_hands[this], 1.0)
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this], "spell")
            call SetUnitTimeScale(s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this], 1.0)
            set s__EdoTenseiHashiramaStatue___Spell_count[this]=0
            call SlowArea(s__EdoTenseiHashiramaStatue___Spell_caster[this] , s__EdoTenseiHashiramaStatue___Spell_target_x[this] , s__EdoTenseiHashiramaStatue___Spell_target_y[this] , 400)
            call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__EdoTenseiHashiramaStatue___Spell_cast , "EdoTenseiHashiramaStatue_cast")
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
        function s__EdoTenseiHashiramaStatue___Spell_actions takes nothing returns nothing
            local real caster_x= GetUnitX(GetTriggerUnit())
            local real caster_y= GetUnitY(GetTriggerUnit())
            local real angle
            local integer this= s__EdoTenseiHashiramaStatue___Spell_allocate()
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Hashirama_T_Senpou, 100.0, GetTriggerUnit())
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Hashirama: I must protect the will of fire!|r")
            endif
            set s__EdoTenseiHashiramaStatue___Spell_caster[this]=GetTriggerUnit()
            set angle=GetUnitFacing(s__EdoTenseiHashiramaStatue___Spell_caster[this])
            set s__EdoTenseiHashiramaStatue___Spell_target_x[this]=GetSpellTargetX() //GetPolarX(caster_x, Deg2Rad(angle), 500.0)
            set s__EdoTenseiHashiramaStatue___Spell_target_y[this]=GetSpellTargetY() //GetPolarY(caster_y, Deg2Rad(angle), 500.0)
            set angle=Rad2Deg(Atan3(caster_x , caster_y , s__EdoTenseiHashiramaStatue___Spell_target_x[this] , s__EdoTenseiHashiramaStatue___Spell_target_y[this]))
            call DestroyEffect(AddSpecialEffect(("s_Kuchiyose.mdx" ), (( caster_x )*1.0), (( caster_y)*1.0))) // INLINED!!
            set s__EdoTenseiHashiramaStatue___Spell_statue[this]=CreateUnit(GetTriggerPlayer(), 'e02H', caster_x, caster_y, angle)
            set s__EdoTenseiHashiramaStatue___Spell_statue_hands[this]=CreateUnit(GetTriggerPlayer(), 'e03D', caster_x, caster_y, angle)
            set s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this]=CreateUnit(GetTriggerPlayer(), 'e03E', caster_x, caster_y, angle)
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue[this], "birth")
            call SetUnitTimeScale(s__EdoTenseiHashiramaStatue___Spell_statue[this], 1.33)
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue_hands[this], "birth")
            call SetUnitTimeScale(s__EdoTenseiHashiramaStatue___Spell_statue_hands[this], 1.33)
            call SetUnitAnimation(s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this], "birth")
            call SetUnitTimeScale(s__EdoTenseiHashiramaStatue___Spell_statue_hands_dmg[this], 1.33)
            call TimerStartEx(NewTimerEx(this) , 1.0 , false , function s__EdoTenseiHashiramaStatue___Spell_delay , "EdoTenseiHashiramaStatue_delay")
        endfunction 
        
        function s__EdoTenseiHashiramaStatue___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__EdoTenseiHashiramaStatue___Spell_SPELL_ID ) , Filter(( function s__EdoTenseiHashiramaStatue___Spell_actions))) // INLINED!!
        endfunction 
        
    
// scope EdoTenseiHashiramaStatue ends
//===========================================================================
// Trigger: HayateSwordStrike
//===========================================================================
// scope HayateSwordStrike begins

    
//Implemented from module Alloc:
    
        function s__HayateSwordStrike___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HayateSwordStrike___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__HayateSwordStrike___Spell_Alloc__instanceCount=s__HayateSwordStrike___Spell_Alloc__instanceCount + 1
                set this=s__HayateSwordStrike___Spell_Alloc__instanceCount
            else
                set this=s__HayateSwordStrike___Spell_Alloc__recycle[(0)]
                set s__HayateSwordStrike___Spell_Alloc__recycle[(0)]=s__HayateSwordStrike___Spell_Alloc__recycle[s__HayateSwordStrike___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HayateSwordStrike___Spell_deallocate takes integer this returns nothing
            set s__HayateSwordStrike___Spell_Alloc__recycle[this]=s__HayateSwordStrike___Spell_Alloc__recycle[(0)]
            set s__HayateSwordStrike___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__HayateSwordStrike___Spell_knockback takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real target_x= GetUnitX(s__HayateSwordStrike___Spell_target[this])
            local real target_y= GetUnitY(s__HayateSwordStrike___Spell_target[this])
            local real new_x= target_x + Cos(s__HayateSwordStrike___Spell_angle[this]) * 50
            local real new_y= target_y + Sin(s__HayateSwordStrike___Spell_angle[this]) * 50
            local real distance_x
            local real distance_y
            set s__HayateSwordStrike___Spell_count[this]=s__HayateSwordStrike___Spell_count[this] + 1
            if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
                call SetUnitX(s__HayateSwordStrike___Spell_target[this], new_x)
                call SetUnitY(s__HayateSwordStrike___Spell_target[this], new_y)
                //call AddSpecialEffectEx("Effects\\s_Earth_Smash.mdx", new_x, new_y)
	    else
		set s__HayateSwordStrike___Spell_count[this]=6
            endif
            if s__HayateSwordStrike___Spell_count[this] > 5 then
                set distance_x=GetUnitX(s__HayateSwordStrike___Spell_caster[this]) - new_x
                set distance_y=GetUnitY(s__HayateSwordStrike___Spell_caster[this]) - new_y
                set s__HayateSwordStrike___Spell_distance[this]=SquareRoot(distance_x * distance_x + distance_y * distance_y)
                //call StunUnitTimed(this.caster, this.target, 0.5)
		call SetUnitTimeScale(s__HayateSwordStrike___Spell_caster[this], 1.0)
                call PauseUnit(s__HayateSwordStrike___Spell_caster[this], false)
                call PauseUnit(s__HayateSwordStrike___Spell_target[this], false)
                call UnitDamageTarget(s__HayateSwordStrike___Spell_caster[this], s__HayateSwordStrike___Spell_target[this], GetHeroAgi(s__HayateSwordStrike___Spell_caster[this], true) * GetUnitAbilityLevel(s__HayateSwordStrike___Spell_caster[this], s__HayateSwordStrike___Spell_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                call EsnareUnitTimed(s__HayateSwordStrike___Spell_caster[this] , s__HayateSwordStrike___Spell_target[this] , 2.0)
                set s__HayateSwordStrike___Spell_caster[this]=null
                set s__HayateSwordStrike___Spell_target[this]=null
                call s__HayateSwordStrike___Spell_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__HayateSwordStrike___Spell_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		
		call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl" ), (( GetUnitX(s__HayateSwordStrike___Spell_target[this]) )*1.0), (( GetUnitY(s__HayateSwordStrike___Spell_target[this]))*1.0))) // INLINED!!

		set bj_lastCreatedEffect=AddSpecialEffect("GoodDashWave.mdl", GetUnitX(s__HayateSwordStrike___Spell_target[this]), GetUnitY(s__HayateSwordStrike___Spell_target[this]))
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, s__HayateSwordStrike___Spell_angle[this])
		call DestroyEffect(bj_lastCreatedEffect)

                call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__HayateSwordStrike___Spell_knockback , "HayateQ_knockback")
                call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__HayateSwordStrike___Spell_actions takes nothing returns nothing
            local integer this= s__HayateSwordStrike___Spell_allocate()
     local real angle
     local real x
     local real y
     local real new_x
     local real new_y

            set s__HayateSwordStrike___Spell_caster[this]=GetTriggerUnit()
            set s__HayateSwordStrike___Spell_target[this]=GetSpellTargetUnit()
            call PauseUnit(s__HayateSwordStrike___Spell_caster[this], true)
            call PauseUnit(s__HayateSwordStrike___Spell_target[this], true)
            set s__HayateSwordStrike___Spell_count[this]=0
	    call SetUnitAnimation(s__HayateSwordStrike___Spell_caster[this], "spell three")
	    call SetUnitTimeScale(s__HayateSwordStrike___Spell_caster[this], 0.5)
	    call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__HayateSwordStrike___Spell_caster[this]) )*1.0), (( GetUnitY(s__HayateSwordStrike___Spell_caster[this]))*1.0))) // INLINED!!

	    set angle=Atan3(GetUnitX(s__HayateSwordStrike___Spell_caster[this]) , GetUnitY(s__HayateSwordStrike___Spell_caster[this]) , GetUnitX(s__HayateSwordStrike___Spell_target[this]) , GetUnitY(s__HayateSwordStrike___Spell_target[this]))
	    set x=GetUnitX(s__HayateSwordStrike___Spell_target[this])
	    set y=GetUnitY(s__HayateSwordStrike___Spell_target[this])
	    set new_x=(((x )*1.0) + Cos((( angle + bj_PI )*1.0)) * (( 100)*1.0)) // INLINED!!
	    set new_y=(((y )*1.0) + Sin((( angle + bj_PI )*1.0)) * (( 100)*1.0)) // INLINED!!
            call SetUnitX(s__HayateSwordStrike___Spell_caster[this], new_x)
	    call SetUnitY(s__HayateSwordStrike___Spell_caster[this], new_y)

	    set s__HayateSwordStrike___Spell_angle[this]=angle

            call TimerStartEx(NewTimerEx(this) , 0.5 , true , function s__HayateSwordStrike___Spell_periodic , "HayateQ_periodic")
        endfunction
        
        function s__HayateSwordStrike___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEventForId(82 , s__HayateSwordStrike___Spell_SPELL_ID , function s__HayateSwordStrike___Spell_actions)
        endfunction
        
    
// scope HayateSwordStrike ends
//===========================================================================
// Trigger: HayateExplosiveKunai
//===========================================================================

//Implemented from module Alloc:
    
        function s__HayateExplosiveKunai_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HayateExplosiveKunai_Alloc__recycle[(0)] == 0 ) then
                set s__HayateExplosiveKunai_Alloc__instanceCount=s__HayateExplosiveKunai_Alloc__instanceCount + 1
                set this=s__HayateExplosiveKunai_Alloc__instanceCount
            else
                set this=s__HayateExplosiveKunai_Alloc__recycle[(0)]
                set s__HayateExplosiveKunai_Alloc__recycle[(0)]=s__HayateExplosiveKunai_Alloc__recycle[s__HayateExplosiveKunai_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HayateExplosiveKunai_deallocate takes integer this returns nothing
            set s__HayateExplosiveKunai_Alloc__recycle[this]=s__HayateExplosiveKunai_Alloc__recycle[(0)]
            set s__HayateExplosiveKunai_Alloc__recycle[(0)]=this
        endfunction

 function s__HayateExplosiveKunai_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__HayateExplosiveKunai_kunai[this])
  local real y= GetUnitY(s__HayateExplosiveKunai_kunai[this])
  local real new_x= (((x )*1.0) + Cos((( s__HayateExplosiveKunai_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__HayateExplosiveKunai_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real ex
  local real ey
  local integer i
		if s__HayateExplosiveKunai_count[this] < 30 then
			call SetUnitX(s__HayateExplosiveKunai_kunai[this], new_x)
			call SetUnitY(s__HayateExplosiveKunai_kunai[this], new_y)
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HayateExplosiveKunai_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateExplosiveKunai_damaged[this]) then
					call UnitDamageTarget(s__HayateExplosiveKunai_caster[this], bj_lastCreatedUnit, 80 * GetUnitAbilityLevel(s__HayateExplosiveKunai_caster[this], s__HayateExplosiveKunai_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
					call GroupAddUnit(s__HayateExplosiveKunai_damaged[this], bj_lastCreatedUnit)
					call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
		endif
		set s__HayateExplosiveKunai_count[this]=s__HayateExplosiveKunai_count[this] + 1
		if s__HayateExplosiveKunai_explode[this] then
			call SlowArea(s__HayateExplosiveKunai_caster[this] , new_x , new_y , 400)
            		call DestroyEffect(AddSpecialEffect(("war3mapImported\\FlameBomb.mdx" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            		call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
            		set i=1
            		loop
                		exitwhen i > 30
                		call GenerateRandomCircle(new_x , new_y , 250)
                		
				set ex=GetRandomX()
				set ey=GetRandomY()
				set bj_lastCreatedEffect=AddSpecialEffect("Boom.mdx", ex, ey)
				//call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetRandomReal(0, 150) + GetPointZ(ex, ey))
				call BlzSetSpecialEffectScale(bj_lastCreatedEffect, GetRandomReal(0.5, 1.0))
				call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, GetRandomReal(0.8, 1.2))
				call DestroyEffect(bj_lastCreatedEffect)
                		set i=i + 1
            		endloop
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 400, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HayateExplosiveKunai_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
					call UnitDamageTarget(s__HayateExplosiveKunai_caster[this], bj_lastCreatedUnit, GetHeroAgi(s__HayateExplosiveKunai_caster[this], true) / 2 * GetUnitAbilityLevel(s__HayateExplosiveKunai_caster[this], s__HayateExplosiveKunai_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
					//call StunUnitTimed(this.caster, bj_lastCreatedUnit, 1.0)
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			set s__HayateExplosiveKunai_count[this]=28 + 5 * 33 + 10
		endif
		if s__HayateExplosiveKunai_count[this] > 30 + 5 * 33 then
			call UnitRemoveAbility(s__HayateExplosiveKunai_caster[this], 'A0UF')
			call SetPlayerAbilityAvailable(GetOwningPlayer(s__HayateExplosiveKunai_caster[this]), s__HayateExplosiveKunai_SPELL_ID, true)
			call KillUnit(s__HayateExplosiveKunai_kunai[this])
			set s__HayateExplosiveKunai_kunai[this]=null
			call DestroyGroup(s__HayateExplosiveKunai_damaged[this])
			set s__HayateExplosiveKunai_damaged[this]=null
			call s__HayateExplosiveKunai_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__HayateExplosiveKunai_skill takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call UnitAddAbility(s__HayateExplosiveKunai_caster[this], 'A0UF')
		call SetPlayerAbilityAvailable(GetOwningPlayer(s__HayateExplosiveKunai_caster[this]), s__HayateExplosiveKunai_SPELL_ID, false)
		call ReleaseTimer(GetExpiredTimer())
 endfunction

 function s__HayateExplosiveKunai_actions takes nothing returns nothing
  local integer this= s__HayateExplosiveKunai_allocate()
		set s__HayateExplosiveKunai_instance=this
		set s__HayateExplosiveKunai_caster[this]=GetTriggerUnit()
		set s__HayateExplosiveKunai_count[this]=0
		set s__HayateExplosiveKunai_damaged[this]=CreateGroup()
		set s__HayateExplosiveKunai_explode[this]=false
		set s__HayateExplosiveKunai_angle[this]=Atan3(GetUnitX(s__HayateExplosiveKunai_caster[this]) , GetUnitY(s__HayateExplosiveKunai_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		set s__HayateExplosiveKunai_kunai[this]=CreateUnit(GetTriggerPlayer(), 'e046', GetUnitX(s__HayateExplosiveKunai_caster[this]), GetUnitY(s__HayateExplosiveKunai_caster[this]), Rad2Deg(s__HayateExplosiveKunai_angle[this]))
		call SetUnitFlyHeight(s__HayateExplosiveKunai_kunai[this], 0, 200)
		call TimerStart(NewTimerEx(this), 0.1, false, function s__HayateExplosiveKunai_skill)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__HayateExplosiveKunai_periodic)
 endfunction

 function s__HayateExplosiveKunai_explodeFunc takes nothing returns nothing
		set s__HayateExplosiveKunai_explode[s__HayateExplosiveKunai_instance]=true
 endfunction 

 function s__HayateExplosiveKunai_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(82 , s__HayateExplosiveKunai_SPELL_ID , function s__HayateExplosiveKunai_actions)
		call RegisterSpellEffectEventForId(82 , 'A0UF' , function s__HayateExplosiveKunai_explodeFunc)
 endfunction 

//===========================================================================
// Trigger: HayateNewSemi
//===========================================================================

//Implemented from module Alloc:
    
        function s__HayateNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HayateNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__HayateNewSemi_Alloc__instanceCount=s__HayateNewSemi_Alloc__instanceCount + 1
                set this=s__HayateNewSemi_Alloc__instanceCount
            else
                set this=s__HayateNewSemi_Alloc__recycle[(0)]
                set s__HayateNewSemi_Alloc__recycle[(0)]=s__HayateNewSemi_Alloc__recycle[s__HayateNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HayateNewSemi_deallocate takes integer this returns nothing
            set s__HayateNewSemi_Alloc__recycle[this]=s__HayateNewSemi_Alloc__recycle[(0)]
            set s__HayateNewSemi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HayateNewSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HayateNewSemi_caster[this])
        local real y= GetUnitY(s__HayateNewSemi_caster[this])
        local real angle= Atan3(x , y , s__HayateNewSemi_cx[this] , s__HayateNewSemi_cy[this])
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 60)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 60)*1.0)) // INLINED!!
        local real distance= GetDistance(new_x , new_y , s__HayateNewSemi_cx[this] , s__HayateNewSemi_cy[this])
        call SetUnitX(s__HayateNewSemi_caster[this], new_x)
        call SetUnitY(s__HayateNewSemi_caster[this], new_y)
        call SetUnitFacing(s__HayateNewSemi_caster[this], Rad2Deg(angle))
        call SetUnitX(s__HayateNewSemi_dummy[this], new_x)
        call SetUnitY(s__HayateNewSemi_dummy[this], new_y)
        call SetUnitFacing(s__HayateNewSemi_dummy[this], Rad2Deg(angle))

	    set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HayateNewSemi_caster[this]), 'e044', x, y, Rad2Deg(s__HayateNewSemi_angle[this]))
	    call SetUnitX(bj_lastCreatedUnit, x)
            call SetUnitY(bj_lastCreatedUnit, y)
            call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 100)
	    call SetUnitTimeScale(bj_lastCreatedUnit, 0.5)
            call SetUnitAnimation(bj_lastCreatedUnit, "spell three")
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)

        

        

	    set bj_lastCreatedGroup=CreateGroup()
	    call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300, null)
	    loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HayateNewSemi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateNewSemi_damaged[this]) then
			call GroupAddUnit(s__HayateNewSemi_damaged[this], bj_lastCreatedUnit)
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			call UnitDamageTarget(s__HayateNewSemi_caster[this], bj_lastCreatedUnit, 800 + 6.0 * GetHeroAgi(s__HayateNewSemi_caster[this], true) * GetUnitAbilityLevel(s__HayateNewSemi_caster[this], s__HayateNewSemi_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
			call SetUnitAnimation(bj_lastCreatedUnit, "death")
			call DestroyEffect(AddSpecialEffect(("animeslashfinal.mdx" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
				//call AddSpecialEffectEx("SlashHitEffect.mdl", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
			endif
		endif
	    endloop
	    call DestroyGroup(bj_lastCreatedGroup)

        if distance <= 100 then
	    call DestroyEffect(AddSpecialEffect(("animeslashfinal.mdx" ), (( GetUnitX(s__HayateNewSemi_caster[this]) )*1.0), (( GetUnitY(s__HayateNewSemi_caster[this]))*1.0))) // INLINED!!
            if s__HayateNewSemi_waves[this] == 0 then
                set s__HayateNewSemi_cx[this]=s__HayateNewSemi_p2x[this]
                set s__HayateNewSemi_cy[this]=s__HayateNewSemi_p2y[this]
                set s__HayateNewSemi_waves[this]=s__HayateNewSemi_waves[this] + 1
            elseif s__HayateNewSemi_waves[this] == 1 then
                set s__HayateNewSemi_cx[this]=s__HayateNewSemi_p3x[this]
                set s__HayateNewSemi_cy[this]=s__HayateNewSemi_p3y[this]
                set s__HayateNewSemi_waves[this]=s__HayateNewSemi_waves[this] + 1
            elseif s__HayateNewSemi_waves[this] == 2 then
                set s__HayateNewSemi_cx[this]=s__HayateNewSemi_p4x[this]
                set s__HayateNewSemi_cy[this]=s__HayateNewSemi_p4y[this]
                set s__HayateNewSemi_waves[this]=s__HayateNewSemi_waves[this] + 1
            else
		
		call PauseUnit(s__HayateNewSemi_caster[this], false)
	    	call SetUnitTimeScale(s__HayateNewSemi_caster[this], 1.0)
	    	call SetUnitAnimation(s__HayateNewSemi_caster[this], "spell two")

                //call UnitRemoveAbility(this.dummy, 'A091')
                call RecycleUnit(s__HayateNewSemi_dummy[this])
                set s__HayateNewSemi_dummy[this]=null
                //call SetUnitInvulnerable(this.caster, false)
                //call ShowUnit(this.caster, true) 
                //call SelectUnitForPlayerSingle(this.caster, GetOwningPlayer(this.caster))
                //call PauseUnit(this.caster, false) 
                //call SetUnitAnimation(this.caster, "stand")
                call s__HayateNewSemi_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction 
    
    function s__HayateNewSemi_actions takes nothing returns nothing
        local integer this= s__HayateNewSemi_allocate()
        set s__HayateNewSemi_caster[this]=GetTriggerUnit()
        set s__HayateNewSemi_count[this]=0
        set s__HayateNewSemi_waves[this]=0
        set s__HayateNewSemi_angle[this]=Atan3(GetUnitX(s__HayateNewSemi_caster[this]) , GetUnitY(s__HayateNewSemi_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        
        set s__HayateNewSemi_p1x[this]=(((GetUnitX(s__HayateNewSemi_caster[this]) )*1.0) + Cos((( s__HayateNewSemi_angle[this] )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__HayateNewSemi_p1x[this]=(((s__HayateNewSemi_p1x[this] )*1.0) + Cos((( s__HayateNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__HayateNewSemi_p1y[this]=(((GetUnitY(s__HayateNewSemi_caster[this]) )*1.0) + Sin((( s__HayateNewSemi_angle[this] )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__HayateNewSemi_p1y[this]=(((s__HayateNewSemi_p1y[this] )*1.0) + Sin((( s__HayateNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        
        set s__HayateNewSemi_p2x[this]=(((GetUnitX(s__HayateNewSemi_caster[this]) )*1.0) + Cos((( s__HayateNewSemi_angle[this] )*1.0)) * (( 400)*1.0)) // INLINED!!
        set s__HayateNewSemi_p2x[this]=(((s__HayateNewSemi_p2x[this] )*1.0) + Cos((( s__HayateNewSemi_angle[this] + Deg2Rad(- 90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__HayateNewSemi_p2y[this]=(((GetUnitY(s__HayateNewSemi_caster[this]) )*1.0) + Sin((( s__HayateNewSemi_angle[this] )*1.0)) * (( 400)*1.0)) // INLINED!!
        set s__HayateNewSemi_p2y[this]=(((s__HayateNewSemi_p2y[this] )*1.0) + Sin((( s__HayateNewSemi_angle[this] + Deg2Rad(- 90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        
        set s__HayateNewSemi_p3x[this]=(((GetUnitX(s__HayateNewSemi_caster[this]) )*1.0) + Cos((( s__HayateNewSemi_angle[this] )*1.0)) * (( 600)*1.0)) // INLINED!!
        set s__HayateNewSemi_p3x[this]=(((s__HayateNewSemi_p3x[this] )*1.0) + Cos((( s__HayateNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        set s__HayateNewSemi_p3y[this]=(((GetUnitY(s__HayateNewSemi_caster[this]) )*1.0) + Sin((( s__HayateNewSemi_angle[this] )*1.0)) * (( 600)*1.0)) // INLINED!!
        set s__HayateNewSemi_p3y[this]=(((s__HayateNewSemi_p3y[this] )*1.0) + Sin((( s__HayateNewSemi_angle[this] + Deg2Rad(90) )*1.0)) * (( 200)*1.0)) // INLINED!!
        
        set s__HayateNewSemi_p4x[this]=(((GetUnitX(s__HayateNewSemi_caster[this]) )*1.0) + Cos((( s__HayateNewSemi_angle[this] )*1.0)) * (( 800)*1.0)) // INLINED!!
        set s__HayateNewSemi_p4y[this]=(((GetUnitY(s__HayateNewSemi_caster[this]) )*1.0) + Sin((( s__HayateNewSemi_angle[this] )*1.0)) * (( 800)*1.0)) // INLINED!!
        
        set s__HayateNewSemi_cx[this]=s__HayateNewSemi_p1x[this]
        set s__HayateNewSemi_cy[this]=s__HayateNewSemi_p1y[this]
        
        set s__HayateNewSemi_damaged[this]=CreateGroup()
        
        call PauseUnit(s__HayateNewSemi_caster[this], true)
        //call UnitAddAbility(this.caster, 'A091')
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Hayate_R, 100.0, GetTriggerUnit())
        endif
        //call SetUnitAnimation(this.caster, "spell three")
        set s__HayateNewSemi_dummy[this]=(CreateUnit((GetOwningPlayer(s__HayateNewSemi_caster[this]) ), ( 'e007' ), (( GetUnitX(s__HayateNewSemi_caster[this]) )*1.0), (( GetUnitY(s__HayateNewSemi_caster[this]) )*1.0), (( GetUnitFacing(s__HayateNewSemi_caster[this]))*1.0))) // INLINED!!
        //call UnitAddAbility(this.dummy, 'A091')
        call SetUnitAnimation(s__HayateNewSemi_dummy[this], "spell three")
        //call ShowUnit(this.caster, false)
        //call SetUnitInvulnerable(this.caster, true )
	
            call SetUnitTimeScale(s__HayateNewSemi_caster[this], 2.0)
            call SetUnitAnimation(s__HayateNewSemi_caster[this], "spell five")

        call TimerStart(NewTimerEx(this), 0.03, true, function s__HayateNewSemi_periodic)
    endfunction 
    
        function s__HayateNewSemi_death takes nothing returns nothing
		if GetUnitTypeId(GetTriggerUnit()) == 'e044' or GetUnitTypeId(GetTriggerUnit()) == 'nwlg' then
			call ShowUnit(GetTriggerUnit(), false)
		endif
        endfunction 

    function s__HayateNewSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__HayateNewSemi_SPELL_ID ) , Filter(( function s__HayateNewSemi_actions))) // INLINED!!
	call RegisterPlayerUnitEventForId(82 , EVENT_PLAYER_UNIT_DEATH , function s__HayateNewSemi_death)
    endfunction 
    
//===========================================================================
// Trigger: HayateUltimate
//===========================================================================

//Implemented from module Alloc:
    
        function s__HayateUltimate_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HayateUltimate_Alloc__recycle[(0)] == 0 ) then
                set s__HayateUltimate_Alloc__instanceCount=s__HayateUltimate_Alloc__instanceCount + 1
                set this=s__HayateUltimate_Alloc__instanceCount
            else
                set this=s__HayateUltimate_Alloc__recycle[(0)]
                set s__HayateUltimate_Alloc__recycle[(0)]=s__HayateUltimate_Alloc__recycle[s__HayateUltimate_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HayateUltimate_deallocate takes integer this returns nothing
            set s__HayateUltimate_Alloc__recycle[this]=s__HayateUltimate_Alloc__recycle[(0)]
            set s__HayateUltimate_Alloc__recycle[(0)]=this
        endfunction

 function s__HayateUltimate_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__HayateUltimate_caster[this])
  local real y= GetUnitY(s__HayateUltimate_caster[this])
  local real angle= Atan3(x , y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])
  local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
  local real x1= (((new_x )*1.0) + Cos((( angle + bj_PI / 2 )*1.0)) * (( ParabolaZ(250 , s__HayateUltimate_dist_clone_1[this] , s__HayateUltimate_dist_clone_1[this] - GetDistance(new_x , new_y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])))*1.0)) // INLINED!!
  local real y1= (((new_y )*1.0) + Sin((( angle + bj_PI / 2 )*1.0)) * (( ParabolaZ(250 , s__HayateUltimate_dist_clone_1[this] , s__HayateUltimate_dist_clone_1[this] - GetDistance(new_x , new_y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])))*1.0)) // INLINED!!
  local real x2= (((new_x )*1.0) + Cos((( angle - bj_PI / 2 )*1.0)) * (( ParabolaZ(250 , s__HayateUltimate_dist_clone_2[this] , s__HayateUltimate_dist_clone_2[this] - GetDistance(new_x , new_y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])))*1.0)) // INLINED!!
  local real y2= (((new_y )*1.0) + Sin((( angle - bj_PI / 2 )*1.0)) * (( ParabolaZ(250 , s__HayateUltimate_dist_clone_2[this] , s__HayateUltimate_dist_clone_2[this] - GetDistance(new_x , new_y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])))*1.0)) // INLINED!!
  local real h= ParabolaZ(400 , s__HayateUltimate_dist_caster[this] , s__HayateUltimate_dist_caster[this] - GetDistance(new_x , new_y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this]))
		if GetDistance(x , y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this]) < 150 and not s__HayateUltimate_hit[this] then
			call SetUnitAnimation(s__HayateUltimate_caster[this], "spell channel three")
			call SetUnitAnimation(s__HayateUltimate_clone1[this], "spell channel tree")
			call SetUnitAnimation(s__HayateUltimate_clone2[this], "spell channel tree")
			set s__HayateUltimate_hit[this]=true
		endif
		if not s__HayateUltimate_caster_freed[this] then
			// caster
			call SetUnitX(s__HayateUltimate_caster[this], new_x)
			call SetUnitY(s__HayateUltimate_caster[this], new_y)
			call UnitAddAbility(s__HayateUltimate_caster[this], 'Arav')
			call UnitRemoveAbility(s__HayateUltimate_caster[this], 'Arav')
			call SetUnitFlyHeight(s__HayateUltimate_caster[this], h, 0)
			call SetUnitFacing(s__HayateUltimate_caster[this], Rad2Deg(angle))
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HayateUltimate_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_caster[this]) then
					call UnitDamageTarget(s__HayateUltimate_caster[this], bj_lastCreatedUnit, 4 * GetHeroAgi(s__HayateUltimate_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
					call GroupAddUnit(s__HayateUltimate_damaged_caster[this], bj_lastCreatedUnit)
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			if GetDistance(new_x , new_y , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this]) < 100 then
				call PauseUnit(s__HayateUltimate_caster[this], false)
				set s__HayateUltimate_caster_freed[this]=true
			endif
			// clone 1
			call SetUnitX(s__HayateUltimate_clone1[this], x1)
			call SetUnitY(s__HayateUltimate_clone1[this], y1)
			call SetUnitFacing(s__HayateUltimate_clone1[this], Rad2Deg(Atan3(s__HayateUltimate_previous_clone1_x[this] , s__HayateUltimate_previous_clone1_y[this] , x1 , y1)))
			set s__HayateUltimate_previous_clone1_x[this]=x1
			set s__HayateUltimate_previous_clone1_y[this]=y1
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, x1, y1, 300, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HayateUltimate_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_clone1[this]) then
					call UnitDamageTarget(s__HayateUltimate_caster[this], bj_lastCreatedUnit, 4 * GetHeroAgi(s__HayateUltimate_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
					call GroupAddUnit(s__HayateUltimate_damaged_clone1[this], bj_lastCreatedUnit)
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			// clone 2
			call SetUnitX(s__HayateUltimate_clone2[this], x2)
			call SetUnitY(s__HayateUltimate_clone2[this], y2)
			call SetUnitFacing(s__HayateUltimate_clone2[this], Rad2Deg(Atan3(s__HayateUltimate_previous_clone2_x[this] , s__HayateUltimate_previous_clone2_y[this] , x2 , y2)))
			set s__HayateUltimate_previous_clone2_x[this]=x2
			set s__HayateUltimate_previous_clone2_y[this]=y2
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, x2, y2, 300, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HayateUltimate_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_clone2[this]) then
					call UnitDamageTarget(s__HayateUltimate_caster[this], bj_lastCreatedUnit, 4 * GetHeroAgi(s__HayateUltimate_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
					call GroupAddUnit(s__HayateUltimate_damaged_clone2[this], bj_lastCreatedUnit)
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
		endif
		if s__HayateUltimate_caster_freed[this] then
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HayateUltimate_target_x[this], s__HayateUltimate_target_y[this], 350, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HayateUltimate_caster[this])) and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_caster[this]) and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_clone1[this]) and not IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_clone2[this]) then
					call UnitDamageTarget(s__HayateUltimate_caster[this], bj_lastCreatedUnit, 4 * GetHeroAgi(s__HayateUltimate_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				endif
				if IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_caster[this]) and IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_clone1[this]) and IsUnitInGroup(bj_lastCreatedUnit, s__HayateUltimate_damaged_clone2[this]) then
					call UnitDamageTarget(s__HayateUltimate_caster[this], bj_lastCreatedUnit, 700, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call DestroyEffect(AddSpecialEffect(("war3mapImported\\Blood.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			call PauseUnit(s__HayateUltimate_caster[this], false)
			call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HayateUltimate_clone1[this]) )*1.0), (( GetUnitY(s__HayateUltimate_clone1[this]))*1.0))) // INLINED!!
			call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HayateUltimate_clone2[this]) )*1.0), (( GetUnitY(s__HayateUltimate_clone2[this]))*1.0))) // INLINED!!
			call DestroyEffect(AddSpecialEffect(("war3mapImported\\Ground Crack.mdx" ), (( s__HayateUltimate_target_x[this] )*1.0), (( s__HayateUltimate_target_y[this])*1.0))) // INLINED!!
			call KillUnit(s__HayateUltimate_clone1[this])
			call ShowUnit(s__HayateUltimate_clone1[this], false)
			call KillUnit(s__HayateUltimate_clone2[this])
			call ShowUnit(s__HayateUltimate_clone2[this], false)
			call SetUnitFlyHeight(s__HayateUltimate_caster[this], 0, 0)
			call UnitRemoveAbility(s__HayateUltimate_caster[this], 'A17R')
			call SetUnitTimeScale(s__HayateUltimate_caster[this], 1.0)
			set s__HayateUltimate_clone1[this]=null
			set s__HayateUltimate_clone2[this]=null
			call DestroyGroup(s__HayateUltimate_damaged_caster[this])
			set s__HayateUltimate_damaged_caster[this]=null
			call DestroyGroup(s__HayateUltimate_damaged_clone1[this])
			set s__HayateUltimate_damaged_clone1[this]=null
			call DestroyGroup(s__HayateUltimate_damaged_clone2[this])
			set s__HayateUltimate_damaged_clone2[this]=null
			call s__HayateUltimate_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__HayateUltimate_pause takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call SetUnitAnimation(s__HayateUltimate_caster[this], "spell channel four")
		call SetUnitAnimation(s__HayateUltimate_clone1[this], "spell channel four")
		call SetUnitAnimation(s__HayateUltimate_clone2[this], "spell channel four")
		call TimerStart(NewTimerEx(this), 0.03, true, function s__HayateUltimate_periodic)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__HayateUltimate_actions takes nothing returns nothing
  local integer this= s__HayateUltimate_allocate()
  local real x1= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(GetTriggerUnit()) + 60) )*1.0)) * (( 150)*1.0)) // INLINED!!
  local real y1= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(GetTriggerUnit()) + 60) )*1.0)) * (( 150)*1.0)) // INLINED!!
  local real x2= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(GetTriggerUnit()) - 60) )*1.0)) * (( 150)*1.0)) // INLINED!!
  local real y2= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(GetTriggerUnit()) - 60) )*1.0)) * (( 150)*1.0)) // INLINED!!
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
			call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Hayate: I won’t let you surpass me that easily!|r")
            		call PlaySoundOnUnitBJ(gg_snd_Hayate_T, 100, GetTriggerUnit())
		endif
		set s__HayateUltimate_caster[this]=GetTriggerUnit()
		set s__HayateUltimate_damaged_caster[this]=CreateGroup()
		set s__HayateUltimate_damaged_clone1[this]=CreateGroup()
		set s__HayateUltimate_damaged_clone2[this]=CreateGroup()
		set s__HayateUltimate_target_x[this]=GetSpellTargetX()
		set s__HayateUltimate_target_y[this]=GetSpellTargetY()
		call PauseUnit(s__HayateUltimate_caster[this], true)
		call SetUnitAnimation(s__HayateUltimate_caster[this], "spell channel one")
		set s__HayateUltimate_clone1[this]=CreateUnit(GetOwningPlayer(s__HayateUltimate_caster[this]), 'e044', x1, y1, GetUnitFacing(s__HayateUltimate_caster[this]))
		set s__HayateUltimate_clone2[this]=CreateUnit(GetOwningPlayer(s__HayateUltimate_caster[this]), 'e044', x2, y2, GetUnitFacing(s__HayateUltimate_caster[this]))
		call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( x1 )*1.0), (( y1)*1.0))) // INLINED!!
		call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( x2 )*1.0), (( y2)*1.0))) // INLINED!!
		call SetUnitAnimation(s__HayateUltimate_clone1[this], "spell channel one")
		call SetUnitAnimation(s__HayateUltimate_clone2[this], "spell channel one")
		call UnitAddAbility(s__HayateUltimate_caster[this], 'A17R')
		call UnitAddAbility(s__HayateUltimate_clone1[this], 'A17R')
		call UnitAddAbility(s__HayateUltimate_clone2[this], 'A17R')
		//call SetUnitTimeScale(this.caster, 0.5)
		//call SetUnitTimeScale(this.clone1, 0.5)
		//call SetUnitTimeScale(this.clone2, 0.5)
		set s__HayateUltimate_dist_caster[this]=GetDistance(GetUnitX(s__HayateUltimate_caster[this]) , GetUnitY(s__HayateUltimate_caster[this]) , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])
		set s__HayateUltimate_dist_clone_1[this]=GetDistance(x1 , y1 , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])
		set s__HayateUltimate_dist_clone_2[this]=GetDistance(x2 , y2 , s__HayateUltimate_target_x[this] , s__HayateUltimate_target_y[this])
		set s__HayateUltimate_caster_freed[this]=false
		set s__HayateUltimate_clone1_freed[this]=false
		set s__HayateUltimate_clone2_freed[this]=false
		set s__HayateUltimate_previous_clone1_x[this]=x1
		set s__HayateUltimate_previous_clone1_y[this]=y1
		set s__HayateUltimate_previous_clone2_x[this]=x2
		set s__HayateUltimate_previous_clone2_y[this]=y2
		set s__HayateUltimate_hit[this]=false
		call TimerStart(NewTimerEx(this), 0.4, false, function s__HayateUltimate_pause)
 endfunction 

 function s__HayateUltimate_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(82 , s__HayateUltimate_SPELL_ID , function s__HayateUltimate_actions)
 endfunction 

//===========================================================================
// Trigger: HayateKageBunshin
//===========================================================================

//Implemented from module Alloc:
    
        function s__HayateKageBunshin_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HayateKageBunshin_Alloc__recycle[(0)] == 0 ) then
                set s__HayateKageBunshin_Alloc__instanceCount=s__HayateKageBunshin_Alloc__instanceCount + 1
                set this=s__HayateKageBunshin_Alloc__instanceCount
            else
                set this=s__HayateKageBunshin_Alloc__recycle[(0)]
                set s__HayateKageBunshin_Alloc__recycle[(0)]=s__HayateKageBunshin_Alloc__recycle[s__HayateKageBunshin_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HayateKageBunshin_deallocate takes integer this returns nothing
            set s__HayateKageBunshin_Alloc__recycle[this]=s__HayateKageBunshin_Alloc__recycle[(0)]
            set s__HayateKageBunshin_Alloc__recycle[(0)]=this
        endfunction

    function s__HayateKageBunshin_actions takes nothing returns nothing
 local integer this= s__HayateKageBunshin_allocate()
	set udg_HayateClone=GetTriggerUnit()
	set s__HayateKageBunshin_clone[this]=CreateUnit(GetTriggerPlayer(), 'E04B', (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(GetTriggerUnit())) )*1.0)) * (( 100)*1.0)), (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(GetTriggerUnit())) )*1.0)) * (( 100)*1.0)), GetUnitFacing(GetTriggerUnit())) // INLINED!!
	call UnitApplyTimedLife(s__HayateKageBunshin_clone[this], 'BTLF', 15.0)
	call SetUnitAbilityLevel(s__HayateKageBunshin_clone[this], 'A0UO', GetUnitAbilityLevel(GetTriggerUnit(), 'A0TJ'))
	call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HayateKageBunshin_clone[this]) )*1.0), (( GetUnitY(s__HayateKageBunshin_clone[this]))*1.0))) // INLINED!!
	call SetHeroLevel(s__HayateKageBunshin_clone[this], GetHeroLevel(GetTriggerUnit()), false)
        call SetHeroAgi(s__HayateKageBunshin_clone[this], GetHeroAgi(GetTriggerUnit(), false) / 2, true)
        call SetHeroInt(s__HayateKageBunshin_clone[this], GetHeroInt(GetTriggerUnit(), false) / 2, true)
        call SetHeroStr(s__HayateKageBunshin_clone[this], GetHeroStr(GetTriggerUnit(), false) / 2, true)
	call SetUnitMoveSpeed(s__HayateKageBunshin_clone[this], GetUnitMoveSpeed(GetTriggerUnit()))
    endfunction 
    
    function s__HayateKageBunshin_cloneDeath takes nothing returns nothing
        if GetUnitTypeId(GetTriggerUnit()) == 'E04B' then
            call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            call ShowUnit(GetTriggerUnit(), false)
	    set udg_HayateClone=null
        endif
    endfunction 


    function s__HayateKageBunshin_onInit takes nothing returns nothing
        call RegisterPlayerUnitEventForId(82 , EVENT_PLAYER_UNIT_DEATH , function s__HayateKageBunshin_cloneDeath)
	call RegisterSpellEffectEventForId(82 , s__HayateKageBunshin_SPELL_ID , function s__HayateKageBunshin_actions)
    endfunction 
    
//===========================================================================
// Trigger: HayateKageBunshinSwap
//===========================================================================

//Implemented from module Alloc:
    
        function s__HayateKageBunshinSwap_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HayateKageBunshinSwap_Alloc__recycle[(0)] == 0 ) then
                set s__HayateKageBunshinSwap_Alloc__instanceCount=s__HayateKageBunshinSwap_Alloc__instanceCount + 1
                set this=s__HayateKageBunshinSwap_Alloc__instanceCount
            else
                set this=s__HayateKageBunshinSwap_Alloc__recycle[(0)]
                set s__HayateKageBunshinSwap_Alloc__recycle[(0)]=s__HayateKageBunshinSwap_Alloc__recycle[s__HayateKageBunshinSwap_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HayateKageBunshinSwap_deallocate takes integer this returns nothing
            set s__HayateKageBunshinSwap_Alloc__recycle[this]=s__HayateKageBunshinSwap_Alloc__recycle[(0)]
            set s__HayateKageBunshinSwap_Alloc__recycle[(0)]=this
        endfunction

    function s__HayateKageBunshinSwap_swap takes nothing returns nothing
 local integer this= s__HayateKageBunshinSwap_allocate()
   local real caster_x= GetUnitX(udg_HayateClone)
        local real caster_y= GetUnitY(udg_HayateClone)
        local real target_x= GetUnitX(GetTriggerUnit())
        local real target_y= GetUnitY(GetTriggerUnit())
        //call AddSpecialEffectEx("war3mapImported\\Eldritch Scroll.mdl", target_x, target_y) 
        //call AddSpecialEffectEx("war3mapImported\\Eldritch Scroll.mdl", caster_x, caster_y) 
 	call SetUnitPosition(GetTriggerUnit(), caster_x, caster_y)
        call SetUnitX(udg_HayateClone, target_x)
        call SetUnitY(udg_HayateClone, target_y)
        call SelectUnitForPlayerSingle(udg_HayateClone, GetOwningPlayer(GetTriggerUnit()))


	call KillUnit(GetTriggerUnit())
     endfunction

    function s__HayateKageBunshinSwap_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__HayateKageBunshinSwap_SPELL_ID ) , Filter(( function s__HayateKageBunshinSwap_swap))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: HidanPassive
//===========================================================================
function Trig_HidanPassive_Actions takes nothing returns nothing
	if udg_unit67 == null then
		return
	endif
    call ModifyHeroStat(bj_HEROSTAT_STR, udg_unit67, bj_MODIFYMETHOD_SUB, udg_HidanPreviousStr)
    set udg_HidanPreviousStr=R2I(( 1 - GetUnitState(udg_unit67, UNIT_STATE_LIFE) / GetUnitState(udg_unit67, UNIT_STATE_MAX_LIFE) ) * GetHeroStr(udg_unit67, false) * 0.1)
    call ModifyHeroStat(bj_HEROSTAT_STR, udg_unit67, bj_MODIFYMETHOD_ADD, udg_HidanPreviousStr)
endfunction

//===========================================================================
function InitTrig_HidanPassive takes nothing returns nothing
    set gg_trg_HidanPassive=CreateTrigger()
    call DisableTrigger(gg_trg_HidanPassive)
    call TriggerRegisterTimerEventPeriodic(gg_trg_HidanPassive, 0.50)
    call TriggerAddAction(gg_trg_HidanPassive, function Trig_HidanPassive_Actions)
endfunction


//===========================================================================
// Trigger: Get Blood
//===========================================================================
function Trig_Get_Blood_Func002C takes nothing returns boolean
    if ( not ( udg_Get_blood_timer == 150 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Get_Blood_Actions takes nothing returns nothing
    set udg_Get_blood_timer=( udg_Get_blood_timer + 1 )
    if ( Trig_Get_Blood_Func002C() ) then
        call DisableTrigger(GetTriggeringTrigger())
        set udg_Ritual_Hidan_target=null
        set udg_Get_blood_timer=0
    else
    endif
endfunction

//===========================================================================
function InitTrig_Get_Blood takes nothing returns nothing
    set gg_trg_Get_Blood=CreateTrigger()
    call DisableTrigger(gg_trg_Get_Blood)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Get_Blood, 0.10)
    call TriggerAddAction(gg_trg_Get_Blood, function Trig_Get_Blood_Actions)
endfunction


//===========================================================================
// Trigger: HidanTakeBlood
//===========================================================================
// scope HidanQ begins


//Implemented from module Alloc:
    
        function s__HidanNewQ_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HidanNewQ_Alloc__recycle[(0)] == 0 ) then
                set s__HidanNewQ_Alloc__instanceCount=s__HidanNewQ_Alloc__instanceCount + 1
                set this=s__HidanNewQ_Alloc__instanceCount
            else
                set this=s__HidanNewQ_Alloc__recycle[(0)]
                set s__HidanNewQ_Alloc__recycle[(0)]=s__HidanNewQ_Alloc__recycle[s__HidanNewQ_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HidanNewQ_deallocate takes integer this returns nothing
            set s__HidanNewQ_Alloc__recycle[this]=s__HidanNewQ_Alloc__recycle[(0)]
            set s__HidanNewQ_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HidanNewQ_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HidanNewQ_caster[this])
        local real y= GetUnitY(s__HidanNewQ_caster[this])
        local real new_x= (((x )*1.0) + Cos((( s__HidanNewQ_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__HidanNewQ_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
        local unit u= null
        local integer i
        set s__HidanNewQ_count[this]=s__HidanNewQ_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 140.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HidanNewQ_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                if u == null or GetWidgetLife(bj_lastCreatedUnit) < GetWidgetLife(u) then
                    set u=bj_lastCreatedUnit
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if u != null then
            call sc__HidanFlyingScythe_actions(s__HidanNewQ_caster[this] , u)
            call s__HidanNewQ_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        elseif s__HidanNewQ_count[this] > 20 then
            call ResetUnitAnimation(s__HidanNewQ_caster[this])
            call PauseUnit(s__HidanNewQ_caster[this], false)
            call SetUnitTimeScale(s__HidanNewQ_caster[this], 1.0)
            call SetUnitVertexColor((s__HidanNewQ_caster[this] ), ( 255 ), ( 255 ), ( 255 ), ( 255)) // INLINED!!
            call s__HidanNewQ_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        elseif not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
            call SetUnitX(s__HidanNewQ_caster[this], new_x)
            call SetUnitY(s__HidanNewQ_caster[this], new_y)
            
        else
            set s__HidanNewQ_count[this]=21
        endif
    endfunction 
    
    function s__HidanNewQ_actions takes nothing returns nothing
        local integer this= s__HidanNewQ_allocate()
        set s__HidanNewQ_caster[this]=GetTriggerUnit()
        set s__HidanNewQ_angle[this]=Atan3(GetUnitX(s__HidanNewQ_caster[this]) , GetUnitY(s__HidanNewQ_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__HidanNewQ_count[this]=0
        call EnableTrigger(gg_trg_HidanPassive)
        call PauseUnit(s__HidanNewQ_caster[this], true)
        call SetUnitTimeScale(s__HidanNewQ_caster[this], 2.0)
        call SetUnitVertexColor((s__HidanNewQ_caster[this] ), ( 100 ), ( 100 ), ( 100 ), ( 255)) // INLINED!!
        if GetUnitTypeId(s__HidanNewQ_caster[this]) == 'U004' then
            call SetUnitAnimationByIndex(s__HidanNewQ_caster[this], GetRandomInt(3, 4))
        else
            call SetUnitAnimationByIndex(s__HidanNewQ_caster[this], GetRandomInt(10, 11))
        endif
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanNewQ_periodic)
    endfunction 
    
    function s__HidanNewQ_death takes nothing returns nothing
	if GetUnitTypeId(GetDyingUnit()) == 'U004' or GetUnitTypeId(GetDyingUnit()) == 'U00B' then
		set udg_Hidan_morph[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
    	endif
	if GetUnitTypeId(GetTriggerUnit()) == ( 'h04X' ) then
		call ShowUnitHide(GetTriggerUnit())
	endif
	if GetUnitTypeId(GetDyingUnit()) == 'h00T' then
		call RemoveUnit(GetDyingUnit())
	endif
    endfunction 

    function s__HidanNewQ_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(28 , s__HidanNewQ_SPELL_ID , function s__HidanNewQ_actions)
	call RegisterPlayerUnitEventForId(28 , EVENT_PLAYER_UNIT_DEATH , function s__HidanNewQ_death)
    endfunction 
    



//Implemented from module Alloc:
    
        function s__HidanFlyingScythe_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HidanFlyingScythe_Alloc__recycle[(0)] == 0 ) then
                set s__HidanFlyingScythe_Alloc__instanceCount=s__HidanFlyingScythe_Alloc__instanceCount + 1
                set this=s__HidanFlyingScythe_Alloc__instanceCount
            else
                set this=s__HidanFlyingScythe_Alloc__recycle[(0)]
                set s__HidanFlyingScythe_Alloc__recycle[(0)]=s__HidanFlyingScythe_Alloc__recycle[s__HidanFlyingScythe_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HidanFlyingScythe_deallocate takes integer this returns nothing
            set s__HidanFlyingScythe_Alloc__recycle[this]=s__HidanFlyingScythe_Alloc__recycle[(0)]
            set s__HidanFlyingScythe_Alloc__recycle[(0)]=this
        endfunction
    
    
    function s__HidanFlyingScythe_destroy takes integer this returns nothing
        call CreateTextTagUnitBJ("Got blood for 15 seconds", s__HidanFlyingScythe_caster[this], 0, 10.00, 100, 100.00, 100.00, 0)
        call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
        call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 3.00)
        if not IsUnitVisible(s__HidanFlyingScythe_caster[this], GetLocalPlayer()) then
            call SetTextTagVisibility(GetLastCreatedTextTag(), false)
        endif
        set udg_Get_blood_timer=0
        set udg_Ritual_Hidan_target=s__HidanFlyingScythe_target[this]
        call EnableTrigger(gg_trg_Get_Blood)
        set s__HidanFlyingScythe_target[this]=null
        set s__HidanFlyingScythe_caster[this]=null
        call s__HidanFlyingScythe_deallocate(this)
    endfunction
    
    function s__HidanFlyingScythe_knockback takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle
        local real new_crow_x
        local real new_crow_y
        local real new_target_x
        local real new_target_y
        set angle=Atan3(GetUnitX(s__HidanFlyingScythe_caster[this]) , GetUnitY(s__HidanFlyingScythe_caster[this]) , GetUnitX(s__HidanFlyingScythe_target[this]) , GetUnitY(s__HidanFlyingScythe_target[this]))
        set new_crow_x=(((GetUnitX(s__HidanFlyingScythe_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 20)*1.0)) // INLINED!!
        set new_crow_y=(((GetUnitY(s__HidanFlyingScythe_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 20)*1.0)) // INLINED!!
        set new_target_x=(((GetUnitX(s__HidanFlyingScythe_target[this]) )*1.0) + Cos((( angle )*1.0)) * (( 20)*1.0)) // INLINED!!
        set new_target_y=(((GetUnitY(s__HidanFlyingScythe_target[this]) )*1.0) + Sin((( angle )*1.0)) * (( 20)*1.0)) // INLINED!!
        
        if ModuloInteger(s__HidanFlyingScythe_count[this], 3) == 0 then
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HidanFlyingScythe_caster[this]), 'h04X', new_crow_x, new_crow_y, GetUnitFacing(s__HidanFlyingScythe_caster[this]))
            call SetUnitVertexColor(bj_lastCreatedUnit, 150, 150, 150, 150)
            call SetUnitTimeScale(bj_lastCreatedUnit, 2.0)
            if GetUnitTypeId(s__HidanFlyingScythe_caster[this]) == 'U004' then
                call SetUnitAnimationByIndex(bj_lastCreatedUnit, GetRandomInt(3, 4))
            else
                call SetUnitAnimationByIndex(bj_lastCreatedUnit, GetRandomInt(10, 11))
            endif
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
        endif
        set s__HidanFlyingScythe_count[this]=s__HidanFlyingScythe_count[this] + 1
        call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( new_crow_x )*1.0), (( new_crow_y)*1.0))) // INLINED!!
        if s__HidanFlyingScythe_count[this] > 20 then
            call SetUnitTimeScale(s__HidanFlyingScythe_caster[this], 1.0)
            call PauseUnit(s__HidanFlyingScythe_caster[this], false)
            call PauseUnit(s__HidanFlyingScythe_target[this], false)
            call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( new_target_x )*1.0), (( new_target_y)*1.0))) // INLINED!!
            call PauseUnit(s__HidanFlyingScythe_target[this], false)
            call StunUnitTimed(s__HidanFlyingScythe_caster[this] , s__HidanFlyingScythe_target[this] , 2.0)
            call SetUnitAnimation(s__HidanFlyingScythe_target[this], "death")
            call UnitDamageTarget(s__HidanFlyingScythe_caster[this], s__HidanFlyingScythe_target[this], GetUnitAbilityLevel(s__HidanFlyingScythe_caster[this], s__HidanFlyingScythe_SPELL_ID) * GetHeroStr(s__HidanFlyingScythe_caster[this], true), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
            call s__HidanFlyingScythe_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        elseif not IsTerrainPathable(new_target_x, new_target_y, PATHING_TYPE_WALKABILITY) then
            call SetUnitX(s__HidanFlyingScythe_caster[this], new_crow_x)
            call SetUnitY(s__HidanFlyingScythe_caster[this], new_crow_y)
            call SetUnitFacing(s__HidanFlyingScythe_caster[this], Rad2Deg(angle))
            call SetUnitX(s__HidanFlyingScythe_target[this], new_target_x)
            call SetUnitY(s__HidanFlyingScythe_target[this], new_target_y)
            call SetUnitFacing(s__HidanFlyingScythe_target[this], Rad2Deg(angle) + 180)
        endif
    endfunction
    
    function s__HidanFlyingScythe_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HidanFlyingScythe_caster[this])
        local real y= GetUnitY(s__HidanFlyingScythe_caster[this])
        local real angle= Atan3(x , y , GetUnitX(s__HidanFlyingScythe_target[this]) , GetUnitY(s__HidanFlyingScythe_target[this]))
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 15)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 15)*1.0)) // INLINED!!
        local real distance= GetDistance(new_x , new_y , GetUnitX(s__HidanFlyingScythe_target[this]) , GetUnitY(s__HidanFlyingScythe_target[this]))
        call SetUnitX(s__HidanFlyingScythe_caster[this], new_x)
        call SetUnitY(s__HidanFlyingScythe_caster[this], new_y)
        call SetUnitFacing(s__HidanFlyingScythe_caster[this], Rad2Deg(angle))
        if distance <= 50 then
            call SetUnitVertexColor((s__HidanFlyingScythe_caster[this] ), ( 255 ), ( 255 ), ( 255 ), ( 255)) // INLINED!!
            call PauseUnit(s__HidanFlyingScythe_target[this], true)
            set s__HidanFlyingScythe_count[this]=0
            call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanFlyingScythe_knockback)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__HidanFlyingScythe_actions takes unit caster,unit target returns nothing
        local integer this= s__HidanFlyingScythe_allocate()
        local real new_x
        local real new_y
        local real angle
        set s__HidanFlyingScythe_caster[this]=caster
        set s__HidanFlyingScythe_target[this]=target
        call PauseUnit(s__HidanFlyingScythe_caster[this], true)
        call PauseUnit(s__HidanFlyingScythe_target[this], true)
        call SetUnitVertexColor((s__HidanFlyingScythe_caster[this] ), ( 100 ), ( 100 ), ( 100 ), ( 255)) // INLINED!!
        if GetUnitTypeId(s__HidanFlyingScythe_caster[this]) == 'U004' then
            call SetUnitAnimationByIndex(s__HidanFlyingScythe_caster[this], 1)
        else
            call SetUnitAnimationByIndex(s__HidanFlyingScythe_caster[this], 15)
        endif
        call SetUnitTimeScale(s__HidanFlyingScythe_caster[this], 2.0)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanFlyingScythe_periodic)
    endfunction
    

// scope HidanQ ends
//===========================================================================
// Trigger: HidanNewW
//===========================================================================

//Implemented from module Alloc:
    
        function s__HidanNewW_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HidanNewW_Alloc__recycle[(0)] == 0 ) then
                set s__HidanNewW_Alloc__instanceCount=s__HidanNewW_Alloc__instanceCount + 1
                set this=s__HidanNewW_Alloc__instanceCount
            else
                set this=s__HidanNewW_Alloc__recycle[(0)]
                set s__HidanNewW_Alloc__recycle[(0)]=s__HidanNewW_Alloc__recycle[s__HidanNewW_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HidanNewW_deallocate takes integer this returns nothing
            set s__HidanNewW_Alloc__recycle[this]=s__HidanNewW_Alloc__recycle[(0)]
            set s__HidanNewW_Alloc__recycle[(0)]=this
        endfunction
    

    function s__HidanNewW_periodic2 takes nothing returns nothing
     local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
     local real x= GetUnitX(s__HidanNewW_caster[this])
     local real y= GetUnitY(s__HidanNewW_caster[this])
     local integer i
     set s__HidanNewW_count[this]=s__HidanNewW_count[this] + 1
     set bj_lastCreatedGroup=CreateGroup()
     call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HidanNewW_caster[this]), GetUnitY(s__HidanNewW_caster[this]), 400, null)
     loop
       set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
       exitwhen bj_lastCreatedUnit == null
       if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HidanNewW_caster[this])) then
           call UnitDamageTarget(s__HidanNewW_caster[this], bj_lastCreatedUnit, 2.3333 * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
       endif
       call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
     endloop
     if GetUnitTypeId(s__HidanNewW_caster[this]) == 'U00B' then
	if (UnitHasItemOfTypeBJ((s__HidanNewW_caster[this] ), ( 'I01W'))) then // INLINED!!
		call UnitDamageTarget(s__HidanNewW_caster[this], s__HidanNewW_caster[this], 0.0125 * GetHeroStr(s__HidanNewW_caster[this], true) * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	else
		call UnitDamageTarget(s__HidanNewW_caster[this], s__HidanNewW_caster[this], 2.3333 * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	endif
     endif
     call DestroyGroup(bj_lastCreatedGroup)
     if s__HidanNewW_count[this] > 40 then
        call SetUnitLifeBJ(s__HidanNewW_caster[this], GetUnitState(s__HidanNewW_caster[this], UNIT_STATE_LIFE) + 0.5 * GetHeroStr(s__HidanNewW_caster[this], true) * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID))
        set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\WarStompCaster.mdx", GetUnitX(s__HidanNewW_caster[this]), GetUnitY(s__HidanNewW_caster[this]))
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.5)
        call DestroyEffect(bj_lastCreatedEffect)
        call SetUnitAnimation(s__HidanNewW_caster[this], "attack slam")
        call PauseUnit(s__HidanNewW_caster[this], false)
        call SetUnitTimeScale(s__HidanNewW_caster[this], 1.0)
        loop
           set bj_lastCreatedUnit=FirstOfGroup(s__HidanNewW_tornadoes[this])
           exitwhen bj_lastCreatedUnit == null
           call KillUnit(bj_lastCreatedUnit)
           call ShowUnit(bj_lastCreatedUnit, false)
           call GroupRemoveUnit(s__HidanNewW_tornadoes[this], bj_lastCreatedUnit)
        endloop
        call DestroyGroup(s__HidanNewW_tornadoes[this])
        set s__HidanNewW_tornadoes[this]=null
        call DestroyEffect(s__HidanNewW_e1[this])
	set s__HidanNewW_e1[this]=null
        call s__HidanNewW_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
     endif
    endfunction


    function s__HidanNewW_periodic1 takes nothing returns nothing
       local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
       local real x= GetUnitX(s__HidanNewW_caster[this])
       local real y= GetUnitY(s__HidanNewW_caster[this])
       set s__HidanNewW_count[this]=s__HidanNewW_count[this] + 1
       set bj_lastCreatedGroup=CreateGroup()
       call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HidanNewW_caster[this]), GetUnitY(s__HidanNewW_caster[this]), 250, null)
       loop
      	  set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
          exitwhen bj_lastCreatedUnit == null
      	  if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HidanNewW_caster[this])) then
             call UnitDamageTarget(s__HidanNewW_caster[this], bj_lastCreatedUnit, 3.0 * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
      	  endif
      	  call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
       endloop
       if GetUnitTypeId(s__HidanNewW_caster[this]) == 'U00B' then
	  if (UnitHasItemOfTypeBJ((s__HidanNewW_caster[this] ), ( 'I01W'))) then // INLINED!!
        	call UnitDamageTarget(s__HidanNewW_caster[this], s__HidanNewW_caster[this], 0.0125 * GetHeroStr(s__HidanNewW_caster[this], true) * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	  else
		call UnitDamageTarget(s__HidanNewW_caster[this], s__HidanNewW_caster[this], 3.0 * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	  endif
       endif
       call DestroyGroup(bj_lastCreatedGroup)
       if s__HidanNewW_count[this] > 16 then
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanNewW_periodic2)
        call ReleaseTimer(GetExpiredTimer())
       endif
    endfunction

    function s__HidanNewW_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__HidanNewW_count[this]=s__HidanNewW_count[this] + 1
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HidanNewW_caster[this]), GetUnitY(s__HidanNewW_caster[this]), 150, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HidanNewW_caster[this])) then
                call UnitDamageTarget(s__HidanNewW_caster[this], bj_lastCreatedUnit, 2.0 * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
	if GetUnitTypeId(s__HidanNewW_caster[this]) == 'U00B' then
	   if (UnitHasItemOfTypeBJ((s__HidanNewW_caster[this] ), ( 'I01W'))) then // INLINED!!
            	call UnitDamageTarget(s__HidanNewW_caster[this], s__HidanNewW_caster[this], 0.0125 * GetHeroStr(s__HidanNewW_caster[this], true) * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	   else
		call UnitDamageTarget(s__HidanNewW_caster[this], s__HidanNewW_caster[this], 2.0 * GetUnitAbilityLevel(s__HidanNewW_caster[this], s__HidanNewW_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	   endif
	endif
        call DestroyGroup(bj_lastCreatedGroup)
        if s__HidanNewW_count[this] > 8 then
           call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanNewW_periodic1)
           call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HidanNewW_actions takes nothing returns nothing
        local integer this= s__HidanNewW_allocate()
        local real x= GetUnitX(GetTriggerUnit())
        local real y= GetUnitY(GetTriggerUnit())
        local integer i= 0
        set s__HidanNewW_caster[this]=GetTriggerUnit()
        set s__HidanNewW_count[this]=0
        call PauseUnit(s__HidanNewW_caster[this], true)
        call SetUnitAnimation(s__HidanNewW_caster[this], "spell channel")
        call SetUnitTimeScale(s__HidanNewW_caster[this], 1.0)
        set s__HidanNewW_tornadoes[this]=CreateGroup()
        set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(s__HidanNewW_caster[this]) ), ( 'e00K' ), (( GetUnitX(s__HidanNewW_caster[this]) )*1.0), (( GetUnitY(s__HidanNewW_caster[this]) )*1.0), (( 270)*1.0))) // INLINED!!
        call GroupAddUnit(s__HidanNewW_tornadoes[this], bj_lastCreatedUnit)
        set bj_lastCreatedUnit=(CreateUnit((GetOwningPlayer(s__HidanNewW_caster[this]) ), ( 'e00J' ), (( GetUnitX(s__HidanNewW_caster[this]) )*1.0), (( GetUnitY(s__HidanNewW_caster[this]) )*1.0), (( 270)*1.0))) // INLINED!!
        call GroupAddUnit(s__HidanNewW_tornadoes[this], bj_lastCreatedUnit)
	set s__HidanNewW_e1[this]=AddSpecialEffectTarget("war3mapImported\\Windwalk Blue Soul.mdx", s__HidanNewW_caster[this], "weapon")
       	    set i=0
            loop
              exitwhen i > 10
            	set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h04X', x, y, GetUnitFacing(s__HidanNewW_caster[this]))
            	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.20)
		call SetUnitScale(bj_lastCreatedUnit, 1.1, 0, 0)
            	call SetUnitVertexColor((bj_lastCreatedUnit ), ( 100 ), ( 100 ), ( 100 ), ( 60)) // INLINED!!
            	//call SetUnitTimeScale(bj_lastCreatedUnit, 200.0)  
            	call SetUnitAnimation(bj_lastCreatedUnit, "attack")
            	set i=i + 1
            endloop
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanNewW_periodic)
    endfunction 
    
    function s__HidanNewW_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(28 , s__HidanNewW_SPELL_ID , function s__HidanNewW_actions)
    endfunction 
    
//===========================================================================
// Trigger: HidanThrowScythe
//===========================================================================

//Implemented from module Alloc:
    
        function s__HidanThrowScythe_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HidanThrowScythe_Alloc__recycle[(0)] == 0 ) then
                set s__HidanThrowScythe_Alloc__instanceCount=s__HidanThrowScythe_Alloc__instanceCount + 1
                set this=s__HidanThrowScythe_Alloc__instanceCount
            else
                set this=s__HidanThrowScythe_Alloc__recycle[(0)]
                set s__HidanThrowScythe_Alloc__recycle[(0)]=s__HidanThrowScythe_Alloc__recycle[s__HidanThrowScythe_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HidanThrowScythe_deallocate takes integer this returns nothing
            set s__HidanThrowScythe_Alloc__recycle[this]=s__HidanThrowScythe_Alloc__recycle[(0)]
            set s__HidanThrowScythe_Alloc__recycle[(0)]=this
        endfunction

 function s__HidanThrowScythe_dealDamage takes nothing returns boolean
		if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HidanThrowScythe_caster[s__HidanThrowScythe_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 and not IsUnitInGroup(GetFilterUnit(), s__HidanThrowScythe_damaged[s__HidanThrowScythe_instance]) then
                        call GroupAddUnit(s__HidanThrowScythe_damaged[s__HidanThrowScythe_instance], GetFilterUnit())

 
			call UnitDamageTarget(s__HidanThrowScythe_caster[s__HidanThrowScythe_instance], GetFilterUnit(), GetHeroAgi(s__HidanThrowScythe_caster[s__HidanThrowScythe_instance], true) * GetUnitAbilityLevel(s__HidanThrowScythe_caster[s__HidanThrowScythe_instance], s__HidanThrowScythe_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl" ), (( GetUnitX(GetFilterUnit()) )*1.0), (( GetUnitY(GetFilterUnit()))*1.0))) // INLINED!!
		endif
		return false
 endfunction 

 function s__HidanThrowScythe_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__HidanThrowScythe_effect[this])
  local real y= GetUnitY(s__HidanThrowScythe_effect[this])
  local real new_x= (((x )*1.0) + Cos((( s__HidanThrowScythe_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__HidanThrowScythe_angle[this] )*1.0)) * (( 30)*1.0)) // INLINED!!
		call SetUnitX(s__HidanThrowScythe_effect[this], new_x)
		call SetUnitY(s__HidanThrowScythe_effect[this], new_y)
		call BlzSetSpecialEffectX(s__HidanThrowScythe_scythe[this], new_x)
		call BlzSetSpecialEffectY(s__HidanThrowScythe_scythe[this], new_y)

		//call BlzSetSpecialEffectYaw(this.scythe, Deg2Rad(this.count * 40))
		call BlzSetSpecialEffectHeight(s__HidanThrowScythe_scythe[this], 100 + GetPointZ(new_x , new_y))

		set s__HidanThrowScythe_count[this]=s__HidanThrowScythe_count[this] + 1
		set bj_lastCreatedGroup=CreateGroup()
		set s__HidanThrowScythe_instance=this
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220, Filter(function s__HidanThrowScythe_dealDamage))
		call DestroyGroup(bj_lastCreatedGroup)
		if s__HidanThrowScythe_count[this] > 27 then
			call KillUnit(s__HidanThrowScythe_effect[this])
			call s__EffectUtils___EffectTimer_create((s__HidanThrowScythe_scythe[this] ) , (( 0.03)*1.0) , true) // INLINED!!
			set s__HidanThrowScythe_scythe[this]=null
			set s__HidanThrowScythe_effect[this]=null
			call s__HidanThrowScythe_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__HidanThrowScythe_actions takes nothing returns nothing
  local integer this= s__HidanThrowScythe_allocate()
		set s__HidanThrowScythe_caster[this]=GetTriggerUnit()
		set s__HidanThrowScythe_angle[this]=Atan3(GetUnitX(s__HidanThrowScythe_caster[this]) , GetUnitY(s__HidanThrowScythe_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
		
		set s__HidanThrowScythe_count[this]=0
		set s__HidanThrowScythe_damaged[this]=CreateGroup()
		set s__HidanThrowScythe_scythe[this]=AddSpecialEffect("feiduanliandao.mdl", GetUnitX(s__HidanThrowScythe_caster[this]), GetUnitY(s__HidanThrowScythe_caster[this]))
		//call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, -1.57)
		call BlzSetSpecialEffectYaw(s__HidanThrowScythe_scythe[this], s__HidanThrowScythe_angle[this] + Deg2Rad(270))
		call BlzSetSpecialEffectHeight(s__HidanThrowScythe_scythe[this], 100 + GetPointZ(GetUnitX(s__HidanThrowScythe_caster[this]) , GetUnitY(s__HidanThrowScythe_caster[this])))
		call BlzSetSpecialEffectScale(s__HidanThrowScythe_scythe[this], 1.5)

		set s__HidanThrowScythe_effect[this]=CreateUnit(GetTriggerPlayer(), 'e074', GetUnitX(s__HidanThrowScythe_caster[this]), GetUnitY(s__HidanThrowScythe_caster[this]), Rad2Deg(s__HidanThrowScythe_angle[this]))
		call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanThrowScythe_periodic)
 endfunction 

 function s__HidanThrowScythe_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(28 , s__HidanThrowScythe_SPELL_ID , function s__HidanThrowScythe_actions)
 endfunction 

//===========================================================================
// Trigger: HidanNewR
//===========================================================================

//Implemented from module Alloc:
    
        function s__HidanNewR_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HidanNewR_Alloc__recycle[(0)] == 0 ) then
                set s__HidanNewR_Alloc__instanceCount=s__HidanNewR_Alloc__instanceCount + 1
                set this=s__HidanNewR_Alloc__instanceCount
            else
                set this=s__HidanNewR_Alloc__recycle[(0)]
                set s__HidanNewR_Alloc__recycle[(0)]=s__HidanNewR_Alloc__recycle[s__HidanNewR_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HidanNewR_deallocate takes integer this returns nothing
            set s__HidanNewR_Alloc__recycle[this]=s__HidanNewR_Alloc__recycle[(0)]
            set s__HidanNewR_Alloc__recycle[(0)]=this
        endfunction

 function s__HidanNewR_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real new_caster_hp= GetUnitState(s__HidanNewR_caster[this], UNIT_STATE_LIFE)
  local real new_target_hp= GetUnitState(udg_Ritual_Hidan_target, UNIT_STATE_LIFE)
		set s__HidanNewR_count[this]=s__HidanNewR_count[this] + 0.03
		if s__HidanNewR_count[this] > 15 then
			call s__HidanNewR_deallocate(this)
			set udg_Ritual_Hidan_target=null
			set udg_HidanCircle=null
			call ReleaseTimer(GetExpiredTimer())
		else
			if new_caster_hp < s__HidanNewR_caster_hp[this] and GetDistanceUnits(s__HidanNewR_caster[this] , s__HidanNewR_circle[this]) <= 450 then
				call UnitDamageTarget(s__HidanNewR_caster[this], udg_Ritual_Hidan_target, ( s__HidanNewR_caster_hp[this] - new_caster_hp ) / 2.0 * GetUnitAbilityLevel(s__HidanNewR_caster[this], s__HidanNewR_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			endif
			set s__HidanNewR_caster_hp[this]=GetUnitState(s__HidanNewR_caster[this], UNIT_STATE_LIFE)
			set s__HidanNewR_target_hp[this]=GetUnitState(udg_Ritual_Hidan_target, UNIT_STATE_LIFE)
		endif
 endfunction 

 function s__HidanNewR_actions takes nothing returns nothing
  local integer this= s__HidanNewR_allocate()
		if udg_Ritual_Hidan_target != null and GetUnitTypeId(GetTriggerUnit()) == 'U004' then
			if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
				call PlaySoundOnUnitBJ(gg_snd_Hidan_R, 100, GetTriggerUnit())
			endif
			set s__HidanNewR_caster[this]=GetTriggerUnit()
			set s__HidanNewR_caster_hp[this]=GetUnitState(s__HidanNewR_caster[this], UNIT_STATE_LIFE)
			set s__HidanNewR_target_hp[this]=GetUnitState(udg_Ritual_Hidan_target, UNIT_STATE_LIFE)
			set s__HidanNewR_count[this]=0
        		set s__HidanNewR_circle[this]=(CreateUnit((GetOwningPlayer(GetTriggerUnit()) ), ( 'nanb' ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()) )*1.0), (( 270.0)*1.0))) // INLINED!!
			set udg_HidanCircle=s__HidanNewR_circle[this]
        		set udg_Get_blood_timer=0
        		call SetUnitX(s__HidanNewR_circle[this], GetUnitX(GetTriggerUnit()))
        		call SetUnitY(s__HidanNewR_circle[this], GetUnitY(GetTriggerUnit()))
        		call UnitApplyTimedLife(s__HidanNewR_circle[this], 'BTLF', 15.0)
			set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h06S', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetRandomReal(0, 360))
			if UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I035') then
				call UnitAddAbility(bj_lastCreatedUnit, 'A0NG')
			else
       				call UnitAddAbility(bj_lastCreatedUnit, 'A0ID')
			endif
			call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 35.0)

			call TimerStart(NewTimerEx(this), 0.03, true, function s__HidanNewR_periodic)
    		else
        		call IssueImmediateOrder(GetTriggerUnit(), "stop")
            		call BlzStartUnitAbilityCooldown(GetTriggerUnit(), 'A05D', 0.00)
        	endif
 endfunction 

 function s__HidanNewR_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__HidanNewR_SPELL_ID ) , Filter(( function s__HidanNewR_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: HidanNewT
//===========================================================================

//Implemented from module Alloc:
    
        function s__HidanNewT_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HidanNewT_Alloc__recycle[(0)] == 0 ) then
                set s__HidanNewT_Alloc__instanceCount=s__HidanNewT_Alloc__instanceCount + 1
                set this=s__HidanNewT_Alloc__instanceCount
            else
                set this=s__HidanNewT_Alloc__recycle[(0)]
                set s__HidanNewT_Alloc__recycle[(0)]=s__HidanNewT_Alloc__recycle[s__HidanNewT_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HidanNewT_deallocate takes integer this returns nothing
            set s__HidanNewT_Alloc__recycle[this]=s__HidanNewT_Alloc__recycle[(0)]
            set s__HidanNewT_Alloc__recycle[(0)]=this
        endfunction

  function s__HidanNewT_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	if GetDistanceUnits(s__HidanNewT_caster[this] , udg_HidanCircle) <= 450 then
		call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl" ), (( GetUnitX(s__HidanNewT_caster[this]) )*1.0), (( GetUnitY(s__HidanNewT_caster[this]))*1.0))) // INLINED!!
		call UnitDamageTarget(s__HidanNewT_caster[this], s__HidanNewT_target[this], 10.0 * GetHeroStr(s__HidanNewT_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		call UnitDamageTarget(s__HidanNewT_caster[this], s__HidanNewT_caster[this], 3000, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		call DestroyEffect(AddSpecialEffect(("war3mapImported\\Heal.mdx" ), (( GetUnitX(s__HidanNewT_caster[this]) )*1.0), (( GetUnitY(s__HidanNewT_caster[this]))*1.0))) // INLINED!!
	endif
        call ReleaseTimer(GetExpiredTimer())
   endfunction
    
    function s__HidanNewT_actions takes nothing returns nothing
        local integer this= s__HidanNewT_allocate()
	set s__HidanNewT_caster[this]=GetTriggerUnit()
	if udg_Ritual_Hidan_target != null and GetUnitTypeId(GetTriggerUnit()) == 'U00B' then
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            		call PlaySoundOnUnitBJ(gg_snd_Hidan_T, 100, GetTriggerUnit())
			call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cFFFF0000Hidan: Jashin, receive my sacrifice!|r")
		endif
		set s__HidanNewT_target[this]=udg_Ritual_Hidan_target
		call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
        	call TimerStart(NewTimerEx(this), 1.75, false, function s__HidanNewT_delay)
	else
        	call IssueImmediateOrder(GetTriggerUnit(), "stop")
            	call BlzStartUnitAbilityCooldown(GetTriggerUnit(), 'A05F', 0.00)
        endif
    endfunction
    
    function s__HidanNewT_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(28 , s__HidanNewT_SPELL_ID , function s__HidanNewT_actions)
    endfunction
    
//===========================================================================
// Trigger: HinataShotei
//===========================================================================

function Trig_HinataShotei_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A010' ) )
endfunction

function Trig_HinataShotei_Actions takes nothing returns nothing
	set udg_units14[900]=GetTriggerUnit()
	set udg_units14[901]=GetSpellTargetUnit()
	call TriggerSleepAction(0.03)
	if GetUnitAbilityLevel(GetTriggerUnit(), 'B00F') > 0 then
		call SetUnitManaBJ(GetSpellTargetUnit(), GetUnitStateSwap(UNIT_STATE_MANA, GetSpellTargetUnit()) - GetUnitStateSwap(UNIT_STATE_MANA, GetSpellTargetUnit()) * 0.1)
	endif
	call PauseUnit(udg_units14[900], true)
	call PauseUnit(udg_units14[901], true)
	call UnitAddAbility(udg_units14[900], 'A02Q')

	//set bj_lastCreatedEffect = AddSpecialEffect("Hit.mdx", GetUnitX(udg_units14[901]), GetUnitY(udg_units14[901]))
	//call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60)
	//call DestroyEffect(bj_lastCreatedEffect)

	call SetUnitPositionLocFacingLocBJ(udg_units14[900], PolarProjectionBJ(GetUnitLoc(udg_units14[901]), 90.00, ( GetUnitFacing(udg_units14[900]) - 180.00 )), GetUnitLoc(udg_units14[901]))
	call SetUnitTimeScale(GetTriggerUnit(), 5.00)
call AddSpecialEffectTargetUnitBJ(("lefthand" ), ( GetTriggerUnit() ), ( "Abilities\\Spells\\NightElf\\Rejuvenation\\RejuvenationTarget.mdl")) // INLINED!!
	set udg_effects02[110]=bj_lastCreatedEffect
call AddSpecialEffectTargetUnitBJ(("righthand" ), ( GetTriggerUnit() ), ( "Abilities\\Spells\\NightElf\\Rejuvenation\\RejuvenationTarget.mdl")) // INLINED!!
	set udg_effects02[111]=bj_lastCreatedEffect
	call EnableTrigger(udg_trigger133)
	call TriggerSleepAction(1.00)
	call DisableTrigger(udg_trigger133)
	call DestroyEffect(udg_effects02[110])
	call DestroyEffect(udg_effects02[111])
	call UnitRemoveAbility(udg_units14[900], 'A02Q')
	call SetUnitTimeScale(udg_units14[900], 1.00)

	//set bj_lastCreatedEffect = AddSpecialEffect("Hit.mdx", GetUnitX(udg_units14[901]), GetUnitY(udg_units14[901]))
	//call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60)
	//call DestroyEffect(bj_lastCreatedEffect)

call AddSpecialEffectLocBJ((GetUnitLoc(udg_units14[901]) ), ( "Units\\NightElf\\Wisp\\WispExplode.mdl")) // INLINED!!
	call PauseUnit(udg_units14[900], false)
	call PauseUnit(udg_units14[901], false)
	if ( GetUnitAbilityLevel(udg_units14[900], 'B03U') > 0 or GetUnitAbilityLevel(udg_units14[900], 'B04Q') > 0 ) then
		call UnitDamageTarget(udg_units14[900], udg_units14[901], ( I2R(GetHeroStatBJ(1, udg_units14[900], true)) * ( I2R(GetUnitAbilityLevel(udg_units14[900], 'A010')) / 1.00 ) ) * 0.8, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	else
		call UnitDamageTarget(udg_units14[900], udg_units14[901], ( I2R(GetHeroStatBJ(1, udg_units14[900], true)) * ( I2R(GetUnitAbilityLevel(udg_units14[900], 'A010')) / 1.00 ) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	endif
	call SetUnitAnimation(udg_units14[901], "death")
endfunction

function Trig_HinataShotei2_Actions takes nothing returns nothing
	call SetUnitAnimation(udg_units14[900], "attack")
endfunction

function InitTrig_HinataShotei takes nothing returns nothing
	set udg_trigger132=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger132, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger132, Condition(function Trig_HinataShotei_Conditions))
	call TriggerAddAction(udg_trigger132, function Trig_HinataShotei_Actions)
	call EnableTriggerForId(8 , udg_trigger132)
	set udg_trigger133=CreateTrigger()
	call DisableTrigger(udg_trigger133)
	call TriggerRegisterTimerEventPeriodic(udg_trigger133, 0.05)
	call TriggerAddAction(udg_trigger133, function Trig_HinataShotei2_Actions)
endfunction 

//===========================================================================
// Trigger: HinataFarm
//===========================================================================

function Trig_HinataFarm_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'A03M' ) )
endfunction

function Trig_HinataFarm_Func008Func011001003001001 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_HinataFarm_Func008Func011001003001002 takes nothing returns boolean
	return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_HinataFarm_Func008Func011001003001 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false ))
endfunction

function Trig_HinataFarm_Func008Func011001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction

function Trig_HinataFarm_Func008Func011001003 takes nothing returns boolean
	return GetBooleanAnd(( GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )) ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ))
endfunction

function Trig_HinataFarm_Func008Func011A takes nothing returns nothing
	call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), ( 15.00 * I2R(GetUnitAbilityLevelSwapped('A03M', GetTriggerUnit())) ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
	set udg_locations03[111]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations03[111] ), ( "Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations03[111])
	call IssueTargetOrder(GetEnumUnit(), "attack", GetEnumUnit())
	call SetUnitAnimation(GetEnumUnit(), "death")
endfunction

function Trig_HinataFarm_Actions takes nothing returns nothing
	call TriggerSleepAction(0.05)
	set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h028', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
	call SetUnitTimeScale(bj_lastCreatedUnit, 2.0)
	call KillUnit(bj_lastCreatedUnit)
    set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A02A')
	call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", GetTriggerUnit())
	call SetUnitTimeScalePercent(GetTriggerUnit(), 300.0)
	call PauseUnit(GetTriggerUnit(), true)
	if GetUnitTypeId(GetTriggerUnit()) == 'E07T' then
		call SetUnitAnimation(GetTriggerUnit(), "Spell")
	else
		call SetUnitAnimation(GetTriggerUnit(), "attack")
	endif
	set udg_locations03[517]=GetUnitLoc(GetTriggerUnit())
    //set bj_lastCreatedEffect = AddSpecialEffect("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl", GetLocationX(udg_locations03[517]), GetLocationY(udg_locations03[517]))
   // call BlzSetSpecialEffectColor(bj_lastCreatedEffect, 100, 100, 255)
    //call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(GetTriggerUnit())-180.00))
   // call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.5)
   // call DestroyEffectTimed(bj_lastCreatedEffect, 2.0)
	call RemoveLocation(udg_locations03[517])
	set udg_integers01[107]=1
	loop
		exitwhen udg_integers01[107] > 5
		set udg_locations03[517]=GetUnitLoc(GetTriggerUnit())
		set udg_locations03[5]=PolarProjectionBJ(udg_locations03[517], 50.00, GetRandomReal(0, 360))

        set bj_lastCreatedEffect=AddSpecialEffect("ct.mdl", GetLocationX(udg_locations03[5]), GetLocationY(udg_locations03[5]))
        call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, GetRandomReal(0, 2 * bj_PI))
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.9)
        call BlzPlaySpecialEffect(bj_lastCreatedEffect, ANIM_TYPE_SPELL)
        call BlzSpecialEffectAddSubAnimation(bj_lastCreatedEffect, SUBANIM_TYPE_ONE)
        call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 1.5)
        call BlzSetSpecialEffectAlpha(bj_lastCreatedEffect, 100)
        call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 0.2)*1.0) , true) // INLINED!!

       // set bj_lastCreatedEffect = AddSpecialEffect("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl", GetLocationX(udg_locations03[5]), GetLocationY(udg_locations03[5]))
       // call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, GetRandomReal(0, 2*bj_PI))
       // call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
       // call BlzSetSpecialEffectColor(bj_lastCreatedEffect, 200, 200, 255)
       // call DestroyEffectTimed(bj_lastCreatedEffect, 0.75)
		set bj_wantDestroyGroup=true
		call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.00, udg_locations03[5], Condition(function Trig_HinataFarm_Func008Func011001003)), function Trig_HinataFarm_Func008Func011A)
call AddSpecialEffectLocBJ((udg_locations03[5] ), ( "Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		//call AddSpecialEffectLocBJEX(udg_locations03[5],"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
		//call DestroyEffect(bj_lastCreatedEffect)
		call RemoveLocation(udg_locations03[5])
		//call AddSpecialEffectLocBJEX(udg_locations03[517],"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
		//call DestroyEffect(bj_lastCreatedEffect)
		call TriggerSleepAction(0.01)
		set udg_integers01[107]=udg_integers01[107] + 1
		call RemoveLocation(udg_locations03[517])
		if GetUnitTypeId(GetTriggerUnit()) == 'E07T' then
			call SetUnitAnimation(GetTriggerUnit(), "Spell")
		else
			call SetUnitAnimation(GetTriggerUnit(), "attack")
		endif
	endloop
	//call RemoveLocation(udg_locations03[517])
	call SetUnitTimeScalePercent(GetTriggerUnit(), 100)
    call PauseUnit(GetTriggerUnit(), false)
	call ResetUnitAnimation(GetTriggerUnit())
endfunction

function InitTrig_HinataFarm takes nothing returns nothing
	set udg_trigger78=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger78, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger78, Condition(function Trig_HinataFarm_Conditions))
	call TriggerAddAction(udg_trigger78, function Trig_HinataFarm_Actions)
	call EnableTriggerForId(8 , udg_trigger78)
endfunction 

//===========================================================================
// Trigger: HinataNewSemi
//===========================================================================

//Implemented from module Alloc:
    
        function s__HinataNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HinataNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__HinataNewSemi_Alloc__instanceCount=s__HinataNewSemi_Alloc__instanceCount + 1
                set this=s__HinataNewSemi_Alloc__instanceCount
            else
                set this=s__HinataNewSemi_Alloc__recycle[(0)]
                set s__HinataNewSemi_Alloc__recycle[(0)]=s__HinataNewSemi_Alloc__recycle[s__HinataNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HinataNewSemi_deallocate takes integer this returns nothing
            set s__HinataNewSemi_Alloc__recycle[this]=s__HinataNewSemi_Alloc__recycle[(0)]
            set s__HinataNewSemi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HinataNewSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= Atan3(GetUnitX(s__HinataNewSemi_caster[this]) , GetUnitY(s__HinataNewSemi_caster[this]) , GetUnitX(s__HinataNewSemi_target[this]) , GetUnitY(s__HinataNewSemi_target[this]))
        local real caster_x= (((GetUnitX(s__HinataNewSemi_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( 7)*1.0)) // INLINED!!
        local real caster_y= (((GetUnitY(s__HinataNewSemi_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( 7)*1.0)) // INLINED!!
        local real target_x= (((GetUnitX(s__HinataNewSemi_target[this]) )*1.0) + Cos((( angle )*1.0)) * (( 7)*1.0)) // INLINED!!
        local real target_y= (((GetUnitY(s__HinataNewSemi_target[this]) )*1.0) + Sin((( angle )*1.0)) * (( 7)*1.0)) // INLINED!!

        set bj_lastCreatedEffect=AddSpecialEffect("ct.mdl", GetUnitX(s__HinataNewSemi_caster[this]), GetUnitY(s__HinataNewSemi_caster[this]))
        call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, Deg2Rad(GetUnitFacing(s__HinataNewSemi_caster[this]) + GetRandomReal(- 20, 20)))
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.9)
        call BlzPlaySpecialEffect(bj_lastCreatedEffect, ANIM_TYPE_SPELL)
        call BlzSpecialEffectAddSubAnimation(bj_lastCreatedEffect, SUBANIM_TYPE_ONE)
        call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 5.0)
        call BlzSetSpecialEffectAlpha(bj_lastCreatedEffect, 150)
        call BlzSetSpecialEffectColor(bj_lastCreatedEffect, 200, 200, 200)
        call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 0.15)*1.0) , true) // INLINED!!

        if not IsTerrainPathable(target_x, target_y, PATHING_TYPE_WALKABILITY) then
            call SetUnitX(s__HinataNewSemi_caster[this], caster_x)
            call SetUnitY(s__HinataNewSemi_caster[this], caster_y)
            call SetUnitX(s__HinataNewSemi_target[this], target_x)
            call SetUnitY(s__HinataNewSemi_target[this], target_y)
        endif
        call SetUnitAnimation(s__HinataNewSemi_target[this], "death")
	if ModuloInteger(s__HinataNewSemi_count[this], 3) == 0 then
		set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(s__HinataNewSemi_target[this]), GetUnitY(s__HinataNewSemi_target[this]))
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 80 + GetPointZ(GetUnitX(s__HinataNewSemi_target[this]) , GetUnitY(s__HinataNewSemi_target[this])))
		call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, GetRandomReal(0.5, 1.5))
		call DestroyEffect(bj_lastCreatedEffect)
	endif
        //call AddSpecialEffectEx("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", GetUnitX(this.target), GetUnitY(this.target))
        //call AddSpecialEffectEx("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetUnitX(this.target), GetUnitY(this.target)) 
        set s__HinataNewSemi_count[this]=s__HinataNewSemi_count[this] + 1
	if s__HinataNewSemi_count[this] == 10 then
        	set s__HinataNewSemi_domo[this]=CreateUnit(GetOwningPlayer(s__HinataNewSemi_caster[this]), 'h016', GetUnitX(s__HinataNewSemi_domo2[this]), GetUnitY(s__HinataNewSemi_domo2[this]), GetUnitFacing(s__HinataNewSemi_caster[this]))
		call SetUnitTimeScale(s__HinataNewSemi_domo2[this], 0.5)
	endif
        if s__HinataNewSemi_count[this] > 60 then
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\Blood.mdl" ), (( GetUnitX(s__HinataNewSemi_target[this]) )*1.0), (( GetUnitY(s__HinataNewSemi_target[this]))*1.0))) // INLINED!!
            call PauseUnit(s__HinataNewSemi_caster[this], false)
            call PauseUnit(s__HinataNewSemi_target[this], false)
            call UnitDamageTarget(s__HinataNewSemi_caster[this], s__HinataNewSemi_target[this], 850 * GetUnitAbilityLevel(s__HinataNewSemi_caster[this], s__HinataNewSemi_SPELL_ID) + GetHeroAgi(s__HinataNewSemi_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            if GetUnitAbilityLevel(s__HinataNewSemi_caster[this], 'B00F') > 0 then
                call SetUnitManaBJ(s__HinataNewSemi_target[this], GetUnitState(s__HinataNewSemi_target[this], UNIT_STATE_MANA) - 300 * GetUnitAbilityLevel(s__HinataNewSemi_caster[this], s__HinataNewSemi_SPELL_ID))
                set bj_lastCreatedUnit=CreateAbilityDummy(s__HinataNewSemi_caster[this] , 'A0VR')
                call IssueTargetOrder(bj_lastCreatedUnit, "soulburn", s__HinataNewSemi_target[this])
            endif
            call KillUnit(s__HinataNewSemi_domo[this])
	    call ShowUnit(s__HinataNewSemi_domo[this], false)
            call KillUnit(s__HinataNewSemi_domo2[this])
	    set s__HinataNewSemi_domo2[this]=null
            set s__HinataNewSemi_domo[this]=null
            call SetUnitAnimation(s__HinataNewSemi_target[this], "death")
            call s__HinataNewSemi_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__HinataNewSemi_actions takes nothing returns nothing
        local integer this= s__HinataNewSemi_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Hinata_R, 100.0, GetTriggerUnit())
        endif
        set s__HinataNewSemi_caster[this]=GetTriggerUnit()
        set s__HinataNewSemi_target[this]=GetSpellTargetUnit()
        set s__HinataNewSemi_count[this]=0
        call PauseUnit(s__HinataNewSemi_caster[this], true)
        call PauseUnit(s__HinataNewSemi_target[this], true)
	if GetUnitTypeId(s__HinataNewSemi_caster[this]) == 'E07T' then
		call SetUnitAnimation(s__HinataNewSemi_caster[this], "Attack Slam")
	else
		call SetUnitAnimation(s__HinataNewSemi_caster[this], "spell one")
	endif
	set s__HinataNewSemi_domo2[this]=CreateUnit(GetOwningPlayer(s__HinataNewSemi_caster[this]), 'h025', GetUnitX(s__HinataNewSemi_caster[this]), GetUnitY(s__HinataNewSemi_caster[this]), 270)
        call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__HinataNewSemi_periodic , "HinataNewSemi_periodic")
    endfunction
    
    function s__HinataNewSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(8 , s__HinataNewSemi_SPELL_ID , function s__HinataNewSemi_actions)
    endfunction
    
//===========================================================================
// Trigger: HinataNewShoshiken
//===========================================================================

//Implemented from module Alloc:
    
        function s__HinataNewShoshiken_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HinataNewShoshiken_Alloc__recycle[(0)] == 0 ) then
                set s__HinataNewShoshiken_Alloc__instanceCount=s__HinataNewShoshiken_Alloc__instanceCount + 1
                set this=s__HinataNewShoshiken_Alloc__instanceCount
            else
                set this=s__HinataNewShoshiken_Alloc__recycle[(0)]
                set s__HinataNewShoshiken_Alloc__recycle[(0)]=s__HinataNewShoshiken_Alloc__recycle[s__HinataNewShoshiken_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HinataNewShoshiken_deallocate takes integer this returns nothing
            set s__HinataNewShoshiken_Alloc__recycle[this]=s__HinataNewShoshiken_Alloc__recycle[(0)]
            set s__HinataNewShoshiken_Alloc__recycle[(0)]=this
        endfunction

 function s__HinataNewShoshiken_knockback takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__HinataNewShoshiken_target[this])
  local real y= GetUnitY(s__HinataNewShoshiken_target[this])
  local real new_x= (((x )*1.0) + Cos((( s__HinataNewShoshiken_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( s__HinataNewShoshiken_angle[this] )*1.0)) * (( 35)*1.0)) // INLINED!!
		if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
			call SetUnitX(s__HinataNewShoshiken_target[this], new_x)
			call SetUnitY(s__HinataNewShoshiken_target[this], new_y)
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
		else
			set s__HinataNewShoshiken_count[this]=10
		endif
		set s__HinataNewShoshiken_count[this]=s__HinataNewShoshiken_count[this] + 1
		if s__HinataNewShoshiken_count[this] >= 10 then
			call PauseUnit(s__HinataNewShoshiken_target[this], false)
			set s__HinataNewShoshiken_target[this]=null
			call SelectUnitForPlayerSingle(s__HinataNewShoshiken_caster[this], GetOwningPlayer(s__HinataNewShoshiken_caster[this]))
			call s__HinataNewShoshiken_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__HinataNewShoshiken_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= GetUnitX(s__HinataNewShoshiken_caster[this])
  local real y= GetUnitY(s__HinataNewShoshiken_caster[this])
  local real angle= Atan3(x , y , GetUnitX(s__HinataNewShoshiken_target[this]) , GetUnitY(s__HinataNewShoshiken_target[this]))
  local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 35)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 35)*1.0)) // INLINED!!
  local integer i
		call SetUnitAnimationByIndex(s__HinataNewShoshiken_caster[this], 7)
		call SetUnitX(s__HinataNewShoshiken_caster[this], new_x)
		call SetUnitY(s__HinataNewShoshiken_caster[this], new_y)
		call SetUnitFacing(s__HinataNewShoshiken_caster[this], Rad2Deg(angle))
		call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
		if GetDistanceUnits(s__HinataNewShoshiken_caster[this] , s__HinataNewShoshiken_target[this]) < 100 then
			set bj_lastCreatedEffect=AddSpecialEffect("Hit.mdx", GetUnitX(s__HinataNewShoshiken_target[this]), GetUnitY(s__HinataNewShoshiken_target[this]))
			call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 60)
			call DestroyEffect(bj_lastCreatedEffect)
			call UnitDamageTarget(s__HinataNewShoshiken_caster[this], s__HinataNewShoshiken_target[this], 1000 + 18 * GetHeroAgi(s__HinataNewShoshiken_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
			call PauseUnit(s__HinataNewShoshiken_caster[this], false)
			call SetUnitAnimation(s__HinataNewShoshiken_caster[this], "spell one")
			call SetUnitTimeScale(s__HinataNewShoshiken_caster[this], 1.0)
			call SetUnitAnimation(s__HinataNewShoshiken_target[this], "death")
			set i=0
			loop
				exitwhen i >= 20
				set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HinataNewShoshiken_caster[this]), 'ncnk', GetUnitX(s__HinataNewShoshiken_target[this]), GetUnitY(s__HinataNewShoshiken_caster[this]), 18 * i)
				call SetUnitFlyHeight(bj_lastCreatedUnit, 0, 0)
				set new_x=(((GetUnitX(s__HinataNewShoshiken_target[this]) )*1.0) + Cos((( Deg2Rad(18 * i) )*1.0)) * (( 2000)*1.0)) // INLINED!!
				set new_y=(((GetUnitY(s__HinataNewShoshiken_target[this]) )*1.0) + Sin((( Deg2Rad(18 * i) )*1.0)) * (( 2000)*1.0)) // INLINED!!
				call IssuePointOrder(bj_lastCreatedUnit, "move", new_x, new_y)
				call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.5)
				set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HinataNewShoshiken_caster[this]), 'ucsC', GetUnitX(s__HinataNewShoshiken_target[this]), GetUnitY(s__HinataNewShoshiken_target[this]), 18 * i)
				call SetUnitTimeScale(bj_lastCreatedUnit, 0.35)
				call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
				set i=i + 1
			endloop
			set s__HinataNewShoshiken_angle[this]=angle
			set s__HinataNewShoshiken_count[this]=0
			call PauseUnit(s__HinataNewShoshiken_target[this], true)
			call TimerStart(NewTimerEx(this), 0.03, true, function s__HinataNewShoshiken_knockback)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__HinataNewShoshiken_actions takes nothing returns nothing
  local integer this= s__HinataNewShoshiken_allocate()
		set s__HinataNewShoshiken_caster[this]=GetTriggerUnit()
		set s__HinataNewShoshiken_target[this]=GetSpellTargetUnit()
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
			call PlaySoundOnUnitBJ(gg_snd_Hinata_T_Juuho, 100.0, GetTriggerUnit())
			call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cFFFF0000Hinata: I want to be... stronger... that is my ninja way!!|r")
		endif
		set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A07S')
		call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", GetTriggerUnit())
		call SetUnitTimeScale(s__HinataNewShoshiken_caster[this], 3.0)
		call PauseUnit(s__HinataNewShoshiken_caster[this], true)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__HinataNewShoshiken_periodic)
 endfunction 

 function s__HinataNewShoshiken_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(8 , s__HinataNewShoshiken_SPELL_ID , function s__HinataNewShoshiken_actions)
 endfunction 

//===========================================================================
// Trigger: HinataKuutenNew
//===========================================================================

//Implemented from module Alloc:
    
        function s__HinataKuutenNew_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HinataKuutenNew_Alloc__recycle[(0)] == 0 ) then
                set s__HinataKuutenNew_Alloc__instanceCount=s__HinataKuutenNew_Alloc__instanceCount + 1
                set this=s__HinataKuutenNew_Alloc__instanceCount
            else
                set this=s__HinataKuutenNew_Alloc__recycle[(0)]
                set s__HinataKuutenNew_Alloc__recycle[(0)]=s__HinataKuutenNew_Alloc__recycle[s__HinataKuutenNew_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HinataKuutenNew_deallocate takes integer this returns nothing
            set s__HinataKuutenNew_Alloc__recycle[this]=s__HinataKuutenNew_Alloc__recycle[(0)]
            set s__HinataKuutenNew_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HinataKuutenNew_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x
        local real y
        local real angle
        local real new_x
        local real new_y
	call SetUnitX(s__HinataKuutenNew_kaiten[this], GetUnitX(s__HinataKuutenNew_caster[this]))
	call SetUnitY(s__HinataKuutenNew_kaiten[this], GetUnitY(s__HinataKuutenNew_caster[this]))
        call SetUnitFacing(s__HinataKuutenNew_caster[this], ( GetUnitFacing(s__HinataKuutenNew_caster[this]) + 120.00 ))
	call SetUnitScale(s__HinataKuutenNew_kaiten[this], 0.01 + 0.036 * s__HinataKuutenNew_count[this], 0, 0)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__HinataKuutenNew_caster[this]), GetUnitY(s__HinataKuutenNew_caster[this]), 7.2 * s__HinataKuutenNew_count[this], null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HinataKuutenNew_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                set x=GetUnitX(bj_lastCreatedUnit)
                set y=GetUnitY(bj_lastCreatedUnit)
                set angle=Atan3(GetUnitX(s__HinataKuutenNew_caster[this]) , GetUnitY(s__HinataKuutenNew_caster[this]) , x , y)
                set new_x=(((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
                if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
		    call IssueTargetOrder(bj_lastCreatedUnit, "attack", s__HinataKuutenNew_caster[this])
                    call SetUnitX(bj_lastCreatedUnit, new_x)
                    call SetUnitY(bj_lastCreatedUnit, new_y)
		    call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
                endif
                if not IsUnitInGroup(bj_lastCreatedUnit, s__HinataKuutenNew_damaged[this]) then
                    call GroupAddUnit(s__HinataKuutenNew_damaged[this], bj_lastCreatedUnit)
                    call UnitDamageTarget(s__HinataKuutenNew_caster[this], bj_lastCreatedUnit, 11 * GetHeroAgi(s__HinataKuutenNew_caster[this], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__HinataKuutenNew_count[this]=s__HinataKuutenNew_count[this] + 1
        if s__HinataKuutenNew_count[this] > 85 then
            call SetUnitTimeScale(s__HinataKuutenNew_caster[this], 1.00)
	    call ResetUnitAnimation(s__HinataKuutenNew_caster[this])
	    call SetUnitFlyHeight(s__HinataKuutenNew_caster[this], 0.00, 6000.00)
	    call PauseUnit(s__HinataKuutenNew_caster[this], false)
	    call KillUnit(s__HinataKuutenNew_kaiten[this])
	    call ShowUnit(s__HinataKuutenNew_kaiten[this], false)
            call SetUnitVertexColor((s__HinataKuutenNew_caster[this] ), ( 255 ), ( 255 ), ( 255 ), ( 255)) // INLINED!!
	    call SetUnitInvulnerable(s__HinataKuutenNew_caster[this], false)
            call DestroyGroup(s__HinataKuutenNew_damaged[this])
            set s__HinataKuutenNew_damaged[this]=null
	    set s__HinataKuutenNew_kaiten[this]=null
            call s__HinataKuutenNew_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HinataKuutenNew_actions takes nothing returns nothing
        local integer this= s__HinataKuutenNew_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Hinata_T2_Kuuten, 100, GetTriggerUnit())
        endif
        set s__HinataKuutenNew_caster[this]=GetTriggerUnit()
	set s__HinataKuutenNew_kaiten[this]=CreateUnit(GetTriggerPlayer(), 'ovlj', GetUnitX(s__HinataKuutenNew_caster[this]), GetUnitY(s__HinataKuutenNew_caster[this]), 270)
        call SetUnitTimeScale(s__HinataKuutenNew_kaiten[this], 0.25)
        call PauseUnit(s__HinataKuutenNew_caster[this], true)
        set s__HinataKuutenNew_count[this]=0
        set s__HinataKuutenNew_damaged[this]=CreateGroup()
	call SetUnitInvulnerable(s__HinataKuutenNew_caster[this], true)
        call SetUnitAnimation(s__HinataKuutenNew_caster[this], "spell three")
        call SetUnitTimeScale(s__HinataKuutenNew_caster[this], 0.00)
        call SetUnitFlyHeight(s__HinataKuutenNew_caster[this], 200.00, 70.00)
        call SetUnitFlyHeight(s__HinataKuutenNew_kaiten[this], 200.00, 70.00)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HinataKuutenNew_periodic)
    endfunction 
    
    function s__HinataKuutenNew_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(8 , s__HinataKuutenNew_SPELL_ID , function s__HinataKuutenNew_actions)
    endfunction 
    
//===========================================================================
// Trigger: HinataUltimateChoice
//===========================================================================
//textmacro instance: UltimateChoice("Hinata", "A10G", "A0VQ", "SOSHIKEN", "Juuho Soshiken", "A02P", "KUUTEN", "Hakkesho Kuuten")

//Implemented from module Alloc:
    
        function s__HinataUltimateChoice_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HinataUltimateChoice_Alloc__recycle[(0)] == 0 ) then
                set s__HinataUltimateChoice_Alloc__instanceCount=s__HinataUltimateChoice_Alloc__instanceCount + 1
                set this=s__HinataUltimateChoice_Alloc__instanceCount
            else
                set this=s__HinataUltimateChoice_Alloc__recycle[(0)]
                set s__HinataUltimateChoice_Alloc__recycle[(0)]=s__HinataUltimateChoice_Alloc__recycle[s__HinataUltimateChoice_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HinataUltimateChoice_deallocate takes integer this returns nothing
            set s__HinataUltimateChoice_Alloc__recycle[this]=s__HinataUltimateChoice_Alloc__recycle[(0)]
            set s__HinataUltimateChoice_Alloc__recycle[(0)]=this
        endfunction
    //private static boolean picked = false 
    
    function s__HinataUltimateChoice_enableSkill takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__HinataUltimateChoice_caster[this] != null then
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__HinataUltimateChoice_caster[this]), 'A10G', false)
        else
            call s__HinataUltimateChoice_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HinataUltimateChoice_pickSkill takes nothing returns boolean
        local integer i
        local integer this
        if (GetClickedButton()) == s__s__HinataUltimateChoice_b[0] then // INLINED!!
            call UnitAddAbility(s__HinataUltimateChoice_u, s__HinataUltimateChoice_SOSHIKEN)
            call UnitMakeAbilityPermanent(s__HinataUltimateChoice_u, true, s__HinataUltimateChoice_SOSHIKEN)
        else
            call UnitAddAbility(s__HinataUltimateChoice_u, s__HinataUltimateChoice_KUUTEN)
            call UnitMakeAbilityPermanent(s__HinataUltimateChoice_u, true, s__HinataUltimateChoice_KUUTEN)
        endif
        set i=0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A10G', false)
            set i=i + 1
        endloop
        //call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A10G', false)
        set s__s__HinataUltimateChoice_b[0]= null
        set s__s__HinataUltimateChoice_b[1]= null
        set s__HinataUltimateChoice_u=null
        call s__Dialog_destroy(s__HinataUltimateChoice_d)
        call DestroyBoolExpr(s__HinataUltimateChoice_pick)
        set s__HinataUltimateChoice_pick=null
        set this=s__HinataUltimateChoice_allocate()
        set s__HinataUltimateChoice_caster[this]=s__HinataUltimateChoice_u
        set s__HinataUltimateChoice_pp[this]=GetOwningPlayer(s__HinataUltimateChoice_u)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__HinataUltimateChoice_enableSkill)
        return false
    endfunction 
    
    function s__HinataUltimateChoice_actions takes nothing returns nothing
        if GetTriggerUnit() != udg_InoMental and GetUnitAbilityLevel(GetTriggerUnit(), s__HinataUltimateChoice_SOSHIKEN) == 0 and GetUnitAbilityLevel(GetTriggerUnit(), s__HinataUltimateChoice_KUUTEN) == 0 then
            set s__HinataUltimateChoice_d=s__Dialog_create()
            call s__Dialog__set_title(s__HinataUltimateChoice_d,"Pick a skill")
            set s__s__HinataUltimateChoice_b[0]= (DialogAddButton(s__Dialog_dg[(s__HinataUltimateChoice_d)], ("Juuho Soshiken" ), ( 0))) // INLINED!!
            set s__s__HinataUltimateChoice_b[1]= (DialogAddButton(s__Dialog_dg[(s__HinataUltimateChoice_d)], ("Hakkesho Kuuten" ), ( 1))) // INLINED!!
            call s__Dialog_display(s__HinataUltimateChoice_d,GetTriggerPlayer() , true)
            call s__Dialog_registerClickEvent(s__HinataUltimateChoice_d,s__HinataUltimateChoice_pick)
            set s__HinataUltimateChoice_u=GetTriggerUnit()
            //set picked = true 
        endif
    endfunction
    
    function s__HinataUltimateChoice_learn takes nothing returns nothing
        if GetLearnedSkill() == 'A10G' then
            set s__HinataUltimateChoice_p=GetTriggerPlayer()
        endif
    endfunction 
    
    function s__HinataUltimateChoice_onInit takes nothing returns nothing
        set s__HinataUltimateChoice_pick=Condition(function s__HinataUltimateChoice_pickSkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_SKILL ) , Filter(( function s__HinataUltimateChoice_learn))) // INLINED!!
        call RegisterSpellEffectEvent2(('A10G' ) , Filter(( function s__HinataUltimateChoice_actions))) // INLINED!!
    endfunction 
    
//end of: UltimateChoice("Hinata", "A10G", "A0VQ", "SOSHIKEN", "Juuho Soshiken", "A02P", "KUUTEN", "Hakkesho Kuuten")

//===========================================================================
// Trigger: HiruzenEnma
//===========================================================================

//Implemented from module Alloc:
    
        function s__HiruzenSummonEnma_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenSummonEnma_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenSummonEnma_Alloc__instanceCount=s__HiruzenSummonEnma_Alloc__instanceCount + 1
                set this=s__HiruzenSummonEnma_Alloc__instanceCount
            else
                set this=s__HiruzenSummonEnma_Alloc__recycle[(0)]
                set s__HiruzenSummonEnma_Alloc__recycle[(0)]=s__HiruzenSummonEnma_Alloc__recycle[s__HiruzenSummonEnma_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenSummonEnma_deallocate takes integer this returns nothing
            set s__HiruzenSummonEnma_Alloc__recycle[this]=s__HiruzenSummonEnma_Alloc__recycle[(0)]
            set s__HiruzenSummonEnma_Alloc__recycle[(0)]=this
        endfunction
	
 function s__HiruzenSummonEnma_actions takes nothing returns nothing
  local real x= (((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(GetTriggerUnit())) )*1.0)) * (( 200)*1.0)) // INLINED!!
  local real y= (((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(GetTriggerUnit())) )*1.0)) * (( 200)*1.0)) // INLINED!!
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
			call PlaySoundOnUnitBJ(gg_snd_Hiruzen_R2_Enma, 100.0, GetTriggerUnit())
		endif
		set s__HiruzenSummonEnma_hiruzen=GetTriggerUnit()
		if s__HiruzenSummonEnma_enma != null then
			call KillUnit(s__HiruzenSummonEnma_enma)
		endif
		if UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I06B') then
			set s__HiruzenSummonEnma_enma=CreateUnit(GetTriggerPlayer(), 'h018', x, y, GetUnitFacing(GetTriggerUnit()))
		elseif GetUnitAbilityLevel(GetTriggerUnit(), s__HiruzenSummonEnma_SPELL_ID) == 2 then
			set s__HiruzenSummonEnma_enma=CreateUnit(GetTriggerPlayer(), 'h04T', x, y, GetUnitFacing(GetTriggerUnit()))
			call UnitApplyTimedLife(s__HiruzenSummonEnma_enma, 'B029', 40.0)
		else
			set s__HiruzenSummonEnma_enma=CreateUnit(GetTriggerPlayer(), 'h04R', x, y, GetUnitFacing(GetTriggerUnit()))
			call UnitApplyTimedLife(s__HiruzenSummonEnma_enma, 'B029', 40.0)
		endif
		set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h01V', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270)
		call SetUnitAnimation(bj_lastCreatedUnit, "birth")
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.5)
		call KillUnit(CreateUnit(GetTriggerPlayer(), 'h04S', x, y, 270))
		set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A09Q')
		call IssueImmediateOrder(bj_lastCreatedUnit, "stomp")
		call SelectUnitForPlayerSingle(s__HiruzenSummonEnma_enma, GetTriggerPlayer())
 endfunction 
	
 function s__HiruzenSummonEnma_death takes nothing returns nothing
		if GetUnitTypeId(GetTriggerUnit()) == 'H03L' and not IsUnitIllusion(GetTriggerUnit()) and s__HiruzenSummonEnma_enma != null then
			call KillUnit(s__HiruzenSummonEnma_enma)
			call ShowUnit(s__HiruzenSummonEnma_enma, false)
			set s__HiruzenSummonEnma_enma=null
		elseif GetUnitTypeId(GetTriggerUnit()) == 'h018' or GetUnitTypeId(GetTriggerUnit()) == 'h04T' or GetUnitTypeId(GetTriggerUnit()) == 'h04R' then
			call SetPlayerAbilityAvailableBJ(true, 'A0F1', GetOwningPlayer(s__HiruzenSummonEnma_hiruzen))
			call UnitRemoveAbilityBJ('A0FA', s__HiruzenSummonEnma_hiruzen)
			call UnitRemoveAbilityBJ('A0FB', s__HiruzenSummonEnma_hiruzen)
			call UnitRemoveAbilityBJ('A0FE', s__HiruzenSummonEnma_hiruzen)
			call ShowUnit(GetTriggerUnit(), false)
			call KillUnit(CreateUnit(GetTriggerPlayer(), 'h04S', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 270))
		endif
 endfunction 
	
 function s__HiruzenSummonEnma_henge takes nothing returns nothing
		call SetPlayerAbilityAvailableBJ(false, 'A0F1', GetTriggerPlayer())
		if GetUnitTypeId(s__HiruzenSummonEnma_enma) == 'h04R' then
			call UnitAddAbilityBJ('A0FA', s__HiruzenSummonEnma_hiruzen)
		else
			call UnitAddAbilityBJ('A0FB', s__HiruzenSummonEnma_hiruzen)
		endif
		call UnitAddAbilityBJ('A0FE', s__HiruzenSummonEnma_hiruzen)
		call ShowUnit(s__HiruzenSummonEnma_enma, false)
		call SetUnitPositionLoc(s__HiruzenSummonEnma_enma, GetRectCenter(gg_rct_nowheretogo))
		call SelectUnitForPlayerSingle(s__HiruzenSummonEnma_hiruzen, GetOwningPlayer(s__HiruzenSummonEnma_hiruzen))
 endfunction 
	
 function s__HiruzenSummonEnma_back takes nothing returns nothing
		call SetPlayerAbilityAvailableBJ(true, 'A0F1', GetTriggerPlayer())
		call ShowUnit(s__HiruzenSummonEnma_enma, true)
		call SetUnitPosition(s__HiruzenSummonEnma_enma, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
		call UnitRemoveAbilityBJ('A0FA', s__HiruzenSummonEnma_hiruzen)
		call UnitRemoveAbilityBJ('A0FB', s__HiruzenSummonEnma_hiruzen)
		call UnitRemoveAbilityBJ('A0FE', s__HiruzenSummonEnma_hiruzen)
		call SelectUnitForPlayerSingle(s__HiruzenSummonEnma_enma, GetOwningPlayer(s__HiruzenSummonEnma_enma))
 endfunction 
	
 function s__HiruzenSummonEnma_onInit takes nothing returns nothing
		set s__HiruzenSummonEnma_enma=null
		call RegisterSpellEffectEventForId(36 , s__HiruzenSummonEnma_SPELL_ID , function s__HiruzenSummonEnma_actions)
		call RegisterSpellEffectEventForId(36 , s__HiruzenSummonEnma_HENGE_SPELL_ID , function s__HiruzenSummonEnma_henge)
		call RegisterSpellEffectEventForId(36 , s__HiruzenSummonEnma_BACK_SPELL_ID , function s__HiruzenSummonEnma_back)
		call RegisterPlayerUnitEventForId(36 , EVENT_PLAYER_UNIT_DEATH , function s__HiruzenSummonEnma_death)
 endfunction 
	


//===========================================================================
// Trigger: HiruzenCageNew
//===========================================================================
// scope HiruzenCageNew begins
    



//Implemented from module Alloc:
    
        function s__HiruzenCageNew___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenCageNew___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenCageNew___Spell_Alloc__instanceCount=s__HiruzenCageNew___Spell_Alloc__instanceCount + 1
                set this=s__HiruzenCageNew___Spell_Alloc__instanceCount
            else
                set this=s__HiruzenCageNew___Spell_Alloc__recycle[(0)]
                set s__HiruzenCageNew___Spell_Alloc__recycle[(0)]=s__HiruzenCageNew___Spell_Alloc__recycle[s__HiruzenCageNew___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenCageNew___Spell_deallocate takes integer this returns nothing
            set s__HiruzenCageNew___Spell_Alloc__recycle[this]=s__HiruzenCageNew___Spell_Alloc__recycle[(0)]
            set s__HiruzenCageNew___Spell_Alloc__recycle[(0)]=this
        endfunction


        function s__HiruzenCageNew___Spell_destroy takes integer this returns nothing
            set s__HiruzenCageNew___Spell_caster[this]=null
            set s__HiruzenCageNew___Spell_box[this]=null
            call s__HiruzenCageNew___Spell_deallocate(this)
        endfunction

        function s__HiruzenCageNew___Spell_delay2 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local integer i
            set i=1
            loop
                exitwhen i > 18
                call RemoveDestructable(s__HiruzenCageNew___blocks[(this)*(1)+i])
                set s__HiruzenCageNew___blocks[(this)*(1)+i]= null
                set i=i + 1
            endloop
            call KillUnit(s__HiruzenCageNew___Spell_box[this])
            call ShowUnit(s__HiruzenCageNew___Spell_caster[this], true)
            if IsUnitEnemy(s__HiruzenCageNew___Spell_target[this], GetOwningPlayer(s__HiruzenCageNew___Spell_caster[this])) then
            else
            call PauseUnit(s__HiruzenCageNew___Spell_target[this], false)
                call SetUnitInvulnerable(s__HiruzenCageNew___Spell_target[this], false)
            endif
            call SelectUnitForPlayerSingle(s__HiruzenCageNew___Spell_caster[this], GetOwningPlayer(s__HiruzenCageNew___Spell_caster[this]))


            set s__HiruzenCageNew___Spell_target[this]=null
            call s__HiruzenCageNew___Spell_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction

        function s__HiruzenCageNew___Spell_delay1 takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real new_x
        local real new_y
        local integer i
            set s__HiruzenCageNew___Spell_box[this]=CreateUnit(GetOwningPlayer(s__HiruzenCageNew___Spell_caster[this]), 'h03M', s__HiruzenCageNew___Spell_target_x[this], s__HiruzenCageNew___Spell_target_y[this], 270)
            call SetUnitTimeScale(s__HiruzenCageNew___Spell_box[this], 100000000.00)
	    call SetUnitScale(s__HiruzenCageNew___Spell_box[this], 3.00, 0, 0)
            call SetUnitX(s__HiruzenCageNew___Spell_box[this], s__HiruzenCageNew___Spell_target_x[this])
            call SetUnitY(s__HiruzenCageNew___Spell_box[this], s__HiruzenCageNew___Spell_target_y[this])
            set i=1
            loop
                exitwhen i > 18
                set new_x=s__HiruzenCageNew___Spell_target_x[this] + Cos(i * 20 * bj_DEGTORAD) * 200
                set new_y=s__HiruzenCageNew___Spell_target_y[this] + Sin(i * 20 * bj_DEGTORAD) * 200
                set s__HiruzenCageNew___blocks[(this)*(1)+i]= CreateDestructable('YTfc', new_x, new_y, 20 * i, 1.0, 0)
                set i=i + 1
            endloop
            call TimerStartEx(NewTimerEx(this) , 2.0 , false , function s__HiruzenCageNew___Spell_delay2 , "AdamantineStaff_delay2")
            call ReleaseTimer(GetExpiredTimer())
        endfunction

        function s__HiruzenCageNew___Spell_actions takes nothing returns nothing
            local integer this= s__HiruzenCageNew___Spell_allocate()
            local real caster_x
            local real caster_y
            set s__HiruzenCageNew___Spell_caster[this]=GetTriggerUnit()
            set s__HiruzenCageNew___Spell_target[this]=GetSpellTargetUnit()
            set s__HiruzenCageNew___Spell_target_x[this]=GetUnitX(GetSpellTargetUnit())
            set s__HiruzenCageNew___Spell_target_y[this]=GetUnitY(GetSpellTargetUnit())
            set caster_x=GetUnitX(s__HiruzenCageNew___Spell_caster[this])
            set caster_y=GetUnitY(s__HiruzenCageNew___Spell_caster[this])
            if IsUnitEnemy(s__HiruzenCageNew___Spell_target[this], GetOwningPlayer(s__HiruzenCageNew___Spell_caster[this])) then
            else
                call SetUnitInvulnerable(s__HiruzenCageNew___Spell_target[this], true)
            endif
            call ShowUnit(s__HiruzenCageNew___Spell_caster[this], false)
            call TimerStartEx(NewTimerEx(this) , 0.05 , false , function s__HiruzenCageNew___Spell_delay1 , "AdamantineStaff_delay1")
        endfunction

        function s__HiruzenCageNew___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__HiruzenCageNew___Spell_SPELL_ID ) , Filter(( function s__HiruzenCageNew___Spell_actions))) // INLINED!!
        endfunction


// scope HiruzenCageNew ends
//===========================================================================
// Trigger: EnmaGiveGold
//===========================================================================
function Trig_EnmaGiveGold_Conditions takes nothing returns boolean
    return GetUnitTypeId(GetTriggerUnit()) == 'h04R' or GetUnitTypeId(GetTriggerUnit()) == 'h04T' or GetUnitTypeId(GetTriggerUnit()) == 'h018'
endfunction

function Trig_EnmaGiveGold_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ(500, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD)
endfunction

//===========================================================================
function InitTrig_EnmaGiveGold takes nothing returns nothing
    set gg_trg_EnmaGiveGold=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_EnmaGiveGold, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_EnmaGiveGold, Condition(function Trig_EnmaGiveGold_Conditions))
    call TriggerAddAction(gg_trg_EnmaGiveGold, function Trig_EnmaGiveGold_Actions)
    call EnableTriggerForId(36 , gg_trg_EnmaGiveGold)
endfunction


//===========================================================================
// Trigger: HiruzenQ
//===========================================================================
    
//Implemented from module Alloc:
    
        function s__HiruzenQ_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenQ_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenQ_Alloc__instanceCount=s__HiruzenQ_Alloc__instanceCount + 1
                set this=s__HiruzenQ_Alloc__instanceCount
            else
                set this=s__HiruzenQ_Alloc__recycle[(0)]
                set s__HiruzenQ_Alloc__recycle[(0)]=s__HiruzenQ_Alloc__recycle[s__HiruzenQ_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenQ_deallocate takes integer this returns nothing
            set s__HiruzenQ_Alloc__recycle[this]=s__HiruzenQ_Alloc__recycle[(0)]
            set s__HiruzenQ_Alloc__recycle[(0)]=this
        endfunction
   
   
   function s__HiruzenQ_periodic takes nothing returns nothing
       local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
       local real x= GetUnitX(s__HiruzenQ_dummy_mud)
       local real y= GetUnitY(s__HiruzenQ_dummy_mud)
       local real angle= Atan3(x , y , s__HiruzenQ_target_x[this] , s__HiruzenQ_target_y[this])
       local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
       local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
   call SetUnitX(s__HiruzenQ_dummy_mud, new_x)
   call SetUnitY(s__HiruzenQ_dummy_mud, new_y)
       set s__HiruzenQ_count[this]=s__HiruzenQ_count[this] + 1

       set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HiruzenQ_caster[this]), 'hbot', new_x, new_y, Rad2Deg(angle))
   call SetUnitScale(bj_lastCreatedUnit, ( 1 + 0.1 * s__HiruzenQ_count[this] ), 0, 0)
       call SetUnitX(bj_lastCreatedUnit, new_x)
       call SetUnitY(bj_lastCreatedUnit, new_y)
       call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)

       call DestroyEffect(AddSpecialEffect(("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
       set bj_lastCreatedGroup=CreateGroup()
       call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 220.0, null)
       loop
           set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
           exitwhen bj_lastCreatedUnit == null
           if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HiruzenQ_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
               call UnitDamageTarget(s__HiruzenQ_caster[this], bj_lastCreatedUnit, 3 * GetUnitAbilityLevel(s__HiruzenQ_caster[this], s__HiruzenQ_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
           endif
           call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
       endloop
       call DestroyGroup(bj_lastCreatedGroup)
       if s__HiruzenQ_count[this] > 42 or s__HiruzenQ_move == 1 then
       call KillUnit(s__HiruzenQ_dummy_mud)
           call ShowUnit(s__HiruzenQ_dummy_mud, false)
       set s__HiruzenQ_dummy_mud=null
           set s__HiruzenQ_caster[this]=null
           call s__HiruzenQ_deallocate(this)
           call ReleaseTimer(GetExpiredTimer())
       endif
   endfunction
   
   function s__HiruzenQ_actions takes nothing returns nothing
       local integer this= s__HiruzenQ_allocate()
       set s__HiruzenQ_target_x[this]=GetSpellTargetX()
       set s__HiruzenQ_target_y[this]=GetSpellTargetY()
       set s__HiruzenQ_caster[this]=GetTriggerUnit()
   set s__HiruzenQ_dummy_mud=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__HiruzenQ_caster[this]), GetUnitY(s__HiruzenQ_caster[this]), 270)
       set s__HiruzenQ_count[this]=0
   set s__HiruzenQ_move=0
       call TimerStart(NewTimerEx(this), 0.03, true, function s__HiruzenQ_periodic)
   endfunction

   function s__HiruzenQ_order takes nothing returns nothing
     if GetUnitTypeId(GetTriggerUnit()) == 'H03L' then
   set s__HiruzenQ_move=1
 endif
   endfunction
   
   function s__HiruzenQ_onInit takes nothing returns nothing
       call RegisterSpellEffectEventForId(36 , s__HiruzenQ_SPELL_ID , function s__HiruzenQ_actions)
   call RegisterPlayerUnitEventForId(36 , EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER , function s__HiruzenQ_order)
   endfunction
   

//===========================================================================
// Trigger: HiruzenShuriken
//===========================================================================

//Implemented from module Alloc:
    
        function s__HiruzenShuriken_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenShuriken_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenShuriken_Alloc__instanceCount=s__HiruzenShuriken_Alloc__instanceCount + 1
                set this=s__HiruzenShuriken_Alloc__instanceCount
            else
                set this=s__HiruzenShuriken_Alloc__recycle[(0)]
                set s__HiruzenShuriken_Alloc__recycle[(0)]=s__HiruzenShuriken_Alloc__recycle[s__HiruzenShuriken_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenShuriken_deallocate takes integer this returns nothing
            set s__HiruzenShuriken_Alloc__recycle[this]=s__HiruzenShuriken_Alloc__recycle[(0)]
            set s__HiruzenShuriken_Alloc__recycle[(0)]=this
        endfunction
    
 function s__HiruzenShuriken_dealDamage takes nothing returns boolean
                if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
		  if GetUnitAbilityLevel(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], 'A167') > 0 then
		    call UnitDamageTarget(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], GetFilterUnit(), ( ( ( 60 * GetHeroStr(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], true) / 5.5 ) + 10 ) / 2 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
		  elseif GetUnitAbilityLevel(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], 'A0F2') > 0 then
 		    call UnitDamageTarget(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], GetFilterUnit(), ( GetHeroStr(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], true) ) * GetUnitAbilityLevel(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], s__HiruzenShuriken_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
		  else
                    call UnitDamageTarget(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], GetFilterUnit(), ( 0.5 * GetHeroStr(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], true) ) * GetUnitAbilityLevel(s__HiruzenShuriken_caster[s__HiruzenShuriken_instance], s__HiruzenShuriken_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
		  endif
                endif
	    return false
 endfunction
	
    function s__HiruzenShuriken_destroy takes integer this returns nothing
        call KillUnit(s__HiruzenShuriken_missile[this])
        call ShowUnit(s__HiruzenShuriken_missile[this], false)
        set s__HiruzenShuriken_caster[this]=null
        set s__HiruzenShuriken_target[this]=null
        set s__HiruzenShuriken_missile[this]=null
    endfunction
    
    function s__HiruzenShuriken_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__HiruzenShuriken_missile[this])
        local real y= GetUnitY(s__HiruzenShuriken_missile[this])
        local real angle= Atan3(x , y , GetUnitX(s__HiruzenShuriken_target[this]) , GetUnitY(s__HiruzenShuriken_target[this]))
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real dist= GetDistanceUnits(s__HiruzenShuriken_missile[this] , s__HiruzenShuriken_target[this])
        local integer i
        call SetUnitX(s__HiruzenShuriken_missile[this], new_x)
        call SetUnitY(s__HiruzenShuriken_missile[this], new_y)
        if dist <= 50 then
	    call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HiruzenShuriken_missile[this]) )*1.0), (( GetUnitY(s__HiruzenShuriken_missile[this]))*1.0))) // INLINED!!
            set i=0
            loop
                exitwhen i > 5
                set new_x=GetRandomReal(x - 100, x + 100)
                set new_y=GetRandomReal(y - 100, y + 100)
                set angle=Atan3(GetUnitX(s__HiruzenShuriken_target[this]) , GetUnitY(s__HiruzenShuriken_target[this]) , new_x , new_y)
                //call AddSpecialEffectEx("Abilities\\Spells\\NightElf\\FanOfKnives\\FanOfKnivesCaster.md", new_x, new_y)
                //call AddSpecialEffectEx("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", new_x, new_y)
                //set bj_lastCreatedUnit = CreateUnit(GetOwningPlayer(this.caster), 'h07W', new_x, new_y, Rad2Deg(angle)) 
                //call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
		set bj_lastCreatedUnit=CreateAbilityDummy(s__HiruzenShuriken_caster[this] , 'A155')
		call SetUnitX(bj_lastCreatedUnit, new_x)
		call SetUnitY(bj_lastCreatedUnit, new_y)
		call IssuePointOrder(bj_lastCreatedUnit, "clusterrockets", new_x, new_y)
                set i=i + 1
            endloop
            //if GetHeroLevel(this.caster) < 35 then
            //    call StunUnitTimed(this.caster, this.target, 2.0)
            //endif
            set bj_lastCreatedGroup=CreateGroup()
			set s__HiruzenShuriken_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 250, Filter(function s__HiruzenShuriken_dealDamage))
            call s__HiruzenShuriken_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__HiruzenShuriken_actions takes nothing returns nothing
        local integer this= s__HiruzenShuriken_allocate()
        set s__HiruzenShuriken_caster[this]=GetTriggerUnit()
        set s__HiruzenShuriken_target[this]=GetSpellTargetUnit()
        set s__HiruzenShuriken_missile[this]=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'h07V', GetUnitX(s__HiruzenShuriken_caster[this]), GetUnitY(s__HiruzenShuriken_caster[this]), GetUnitFacing(s__HiruzenShuriken_caster[this]))
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HiruzenShuriken_periodic)
    endfunction
    
    function s__HiruzenShuriken_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(36 , s__HiruzenShuriken_SPELL_ID , function s__HiruzenShuriken_actions)
        call RegisterSpellEffectEvent2(('A167' ) , Filter(( function s__HiruzenShuriken_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: HiruzenE
//===========================================================================
// scope HiruzenE begins


    
//Implemented from module Alloc:
    
        function s__HiruzenE_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenE_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenE_Alloc__instanceCount=s__HiruzenE_Alloc__instanceCount + 1
                set this=s__HiruzenE_Alloc__instanceCount
            else
                set this=s__HiruzenE_Alloc__recycle[(0)]
                set s__HiruzenE_Alloc__recycle[(0)]=s__HiruzenE_Alloc__recycle[s__HiruzenE_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenE_deallocate takes integer this returns nothing
            set s__HiruzenE_Alloc__recycle[this]=s__HiruzenE_Alloc__recycle[(0)]
            set s__HiruzenE_Alloc__recycle[(0)]=this
        endfunction


    function s__HiruzenE_dealDamage takes nothing returns boolean
            if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HiruzenE_caster[s__HiruzenE_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
             call UnitDamageTarget(s__HiruzenE_caster[s__HiruzenE_instance], GetFilterUnit(), 100.0 * GetUnitAbilityLevel(s__HiruzenE_caster[s__HiruzenE_instance], s__HiruzenE_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
        return false
    endfunction 

    function s__HiruzenE_damagemud takes nothing returns nothing
      local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
      set bj_lastCreatedGroup=CreateGroup()
      set s__HiruzenE_instance=this
      call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HiruzenE_target_x[this], s__HiruzenE_target_y[this], 300, Filter(function s__HiruzenE_dealDamage))
      loop
        set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
        exitwhen bj_lastCreatedUnit == null
        call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
      endloop
      call DestroyGroup(bj_lastCreatedGroup)
      call ReleaseTimer(GetExpiredTimer())
    endfunction 


        
        function s__HiruzenE_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real unit_x
            local real unit_y
            local real angle
            local real new_x
            local real new_y
            local integer i
            set s__HiruzenE_count[this]=s__HiruzenE_count[this] + 1

            if not s__HiruzenE_hitmud[this] and s__HiruzenQ_dummy_mud != null and GetWidgetLife(s__HiruzenQ_dummy_mud) > 0.405 and GetDistanceUnits(s__HiruzenE_dummy[this] , s__HiruzenQ_dummy_mud) < 410 then
            	set s__HiruzenE_hitmud[this]=true
            endif

            if s__HiruzenE_hitmud[this] and s__HiruzenE_effect[this] == 0 then
            	call DestroyEffect(AddSpecialEffect(("LW10.mdx" ), (( s__HiruzenE_target_x[this] )*1.0), (( s__HiruzenE_target_y[this])*1.0))) // INLINED!!
            endif

            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HiruzenE_target_x[this], s__HiruzenE_target_y[this], 300.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__HiruzenE_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) then
                    set unit_x=GetUnitX(bj_lastCreatedUnit)
                    set unit_y=GetUnitY(bj_lastCreatedUnit)
                    set angle=Atan2(( s__HiruzenE_target_y[this] - unit_y ), ( s__HiruzenE_target_x[this] - unit_x ))
                    set new_x=unit_x + Cos(angle) * 8
                    set new_y=unit_y + Sin(angle) * 8
                    call SetUnitX(bj_lastCreatedUnit, new_x)
                    call SetUnitY(bj_lastCreatedUnit, new_y)
		    call UnitDamageTarget(s__HiruzenE_caster[this], bj_lastCreatedUnit, ( GetHeroStr(s__HiruzenE_caster[this], true) ) * GetUnitAbilityLevel(s__HiruzenE_caster[this], s__HiruzenE_SPELL_ID) / ( 25.0 * 4 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
        	    if s__HiruzenE_hitmud[this] and s__HiruzenE_effect[this] == 0 then
            		call TimerStart(NewTimerEx(this), 0.03, false, function s__HiruzenE_damagemud)
      			set s__HiruzenE_effect[this]=1
            	    endif
                endif
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            if s__HiruzenE_count[this] > 4 * 25 then
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(s__HiruzenE_damaged[this])
                    exitwhen bj_lastCreatedUnit == null
                    call PauseUnit(bj_lastCreatedUnit, false)
                    call GroupRemoveUnit(s__HiruzenE_damaged[this], bj_lastCreatedUnit)
                endloop
                set i=0
                loop
                  set i=i + 1
                  exitwhen i > 6
                  call KillUnit(s__HiruzenE___mud[(this)*(1)+i])
                  call ShowUnit(s__HiruzenE___mud[(this)*(1)+i], false)
                  set s__HiruzenE___mud[(this)*(1)+i]= null
                endloop
                call DestroyGroup(s__HiruzenE_damaged[this])
                set s__HiruzenE_damaged[this]=null
                set s__HiruzenE_caster[this]=null
		call KillUnit(s__HiruzenE_dummy[this])
		call ShowUnit(s__HiruzenE_dummy[this], false)
		set s__HiruzenE_dummy[this]=null
                call s__HiruzenE_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__HiruzenE_actions takes nothing returns nothing
            local integer this= s__HiruzenE_allocate()
            local real new_x
            local real new_y
            local real angle
            local real offset
            local integer n
            local integer i= 0
	    set s__HiruzenE_effect[this]=0
            set s__HiruzenE_damaged[this]=CreateGroup()
            set s__HiruzenE_caster[this]=GetTriggerUnit()
            set s__HiruzenE_target_x[this]=GetSpellTargetX()
            set s__HiruzenE_target_y[this]=GetSpellTargetY()
            set s__HiruzenE_hitmud[this]=false
	    set s__HiruzenE_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', s__HiruzenE_target_x[this], s__HiruzenE_target_y[this], 270)
            set n=6
            loop
                set i=i + 1
                exitwhen i > n
                set angle=( 360 / n ) * i
                set offset=5
                set new_x=s__HiruzenE_target_x[this] + Cos(Deg2Rad(angle)) * offset
                set new_y=s__HiruzenE_target_y[this] + Sin(Deg2Rad(angle)) * offset
                set angle=Atan2(( s__HiruzenE_target_y[this] - new_y ), ( s__HiruzenE_target_x[this] - new_x ))
                set s__HiruzenE___mud[(this)*(1)+i]= CreateUnit(GetTriggerPlayer(), 'n00X', new_x, new_y, Rad2Deg(angle))
                call SetUnitVertexColor((s__HiruzenE___mud[(this)*(1)+i] ), ( 200 ), ( 20 ), ( 0 ), ( 255)) // INLINED!!
                call SetUnitX(s__HiruzenE___mud[(this)*(1)+i], new_x)
                call SetUnitY(s__HiruzenE___mud[(this)*(1)+i], new_y)
            endloop
            set s__HiruzenE_count[this]=0
            call TimerStart(NewTimerEx(this), 0.03, true, function s__HiruzenE_periodic)
        endfunction
        
        function s__HiruzenE_onInit takes nothing returns nothing
	    set s__HiruzenQ_dummy_mud=null
            call RegisterSpellEffectEventForId(36 , s__HiruzenE_SPELL_ID , function s__HiruzenE_actions)
        endfunction
        

// scope HiruzenE ends
//===========================================================================
// Trigger: HiruzenKongoRohekiNew
//===========================================================================

//Implemented from module Alloc:
    
        function s__HiruzenKongoRoheki_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenKongoRoheki_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenKongoRoheki_Alloc__instanceCount=s__HiruzenKongoRoheki_Alloc__instanceCount + 1
                set this=s__HiruzenKongoRoheki_Alloc__instanceCount
            else
                set this=s__HiruzenKongoRoheki_Alloc__recycle[(0)]
                set s__HiruzenKongoRoheki_Alloc__recycle[(0)]=s__HiruzenKongoRoheki_Alloc__recycle[s__HiruzenKongoRoheki_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenKongoRoheki_deallocate takes integer this returns nothing
            set s__HiruzenKongoRoheki_Alloc__recycle[this]=s__HiruzenKongoRoheki_Alloc__recycle[(0)]
            set s__HiruzenKongoRoheki_Alloc__recycle[(0)]=this
        endfunction

    function s__HiruzenKongoRoheki_shake takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i > 11
                call CameraClearNoiseForPlayer(Player(i))
            set i=i + 1
        endloop
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__HiruzenKongoRoheki_finish takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x
        local real y
        local real angle
        local real offset
        local integer i= 0
        loop
            exitwhen i > 10
            set angle=GetRandomReal(0, 2 * bj_PI)
            set offset=150
            set x=(((GetUnitX(s__HiruzenKongoRoheki_cage[this]) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set y=(((GetUnitY(s__HiruzenKongoRoheki_cage[this]) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set bj_lastCreatedEffect=AddSpecialEffect("Boom.mdx", x, y)
            call BlzSetSpecialEffectRoll(bj_lastCreatedEffect, GetRandomReal(0, 2 * bj_PI))
            //call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
            //call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 0.3)
            call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetRandomReal(0, 300))
            call DestroyEffect(bj_lastCreatedEffect)
            set i=i + 1
        endloop
        set bj_lastCreatedEffect=AddSpecialEffect("DustWave.mdx", GetUnitX(s__HiruzenKongoRoheki_cage[this]), GetUnitY(s__HiruzenKongoRoheki_cage[this]))
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 4.0)
        call DestroyEffect(bj_lastCreatedEffect)
        set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HiruzenKongoRoheki_caster[this]), 'h058', GetUnitX(s__HiruzenKongoRoheki_cage[this]), GetUnitY(s__HiruzenKongoRoheki_cage[this]), 270.0)
        call SetUnitScale(bj_lastCreatedUnit, 4.0, 4.0, 4.0)
        call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 200)
        call KillUnit(bj_lastCreatedUnit)
        call DestroyEffect(AddSpecialEffect(("LW10.mdx" ), (( GetUnitX(s__HiruzenKongoRoheki_cage[this]) )*1.0), (( GetUnitY(s__HiruzenKongoRoheki_cage[this]))*1.0))) // INLINED!!
        set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HiruzenKongoRoheki_caster[this]), 'h02Z', GetUnitX(s__HiruzenKongoRoheki_cage[this]), GetUnitY(s__HiruzenKongoRoheki_cage[this]), GetRandomReal(0, 360))
        call SetUnitScale(bj_lastCreatedUnit, 3.0, 0, 0)
        call SetUnitTimeScale(bj_lastCreatedUnit, 0.5)
        call KillUnit(bj_lastCreatedUnit)
        if IsUnitVisible(s__HiruzenKongoRoheki_caster[this], GetLocalPlayer()) then
            call CameraSetEQNoiseForPlayer(GetLocalPlayer(), 10.00)
        endif
        call TimerStart(CreateTimer(), 1.5, false, function s__HiruzenKongoRoheki_shake)
	if GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'H06D' then
	   call UnitDamageTarget(s__HiruzenKongoRoheki_caster[this], s__HiruzenKongoRoheki_target[this], 1600, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	elseif ( GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h04T' or GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h018' ) then
           call UnitDamageTarget(s__HiruzenKongoRoheki_caster[this], s__HiruzenKongoRoheki_target[this], 800, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	elseif ( GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'H03L' ) then
	   call UnitDamageTarget(s__HiruzenKongoRoheki_caster[this], s__HiruzenKongoRoheki_target[this], 800 * GetUnitAbilityLevel(s__HiruzenKongoRoheki_caster[this], s__HiruzenKongoRoheki_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	else
	   call UnitDamageTarget(s__HiruzenKongoRoheki_caster[this], s__HiruzenKongoRoheki_target[this], 400, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
	endif
	if ( GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h04T' or GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h018' or GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h04R' ) then
		call ShowUnit(s__HiruzenKongoRoheki_caster[this], true)
	endif
	call SelectUnitForPlayerSingle(s__HiruzenKongoRoheki_caster[this], GetOwningPlayer(s__HiruzenKongoRoheki_caster[this]))


        call SetUnitAnimation(s__HiruzenKongoRoheki_target[this], "death")
        call KillUnit(s__HiruzenKongoRoheki_cage[this])
        call ShowUnit(s__HiruzenKongoRoheki_cage[this], false)
        set s__HiruzenKongoRoheki_cage[this]=null
        set s__HiruzenKongoRoheki_target[this]=null
	set s__HiruzenKongoRoheki_caster[this]=null
        call s__HiruzenKongoRoheki_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HiruzenKongoRoheki_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitFlyHeight(s__HiruzenKongoRoheki_cage[this], 0, 800 * 8)
        call SetUnitFlyHeight(s__HiruzenKongoRoheki_target[this], 0, 800 * 8)
        call TimerStart(NewTimerEx(this), 0.125, false, function s__HiruzenKongoRoheki_finish)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__HiruzenKongoRoheki_actions takes nothing returns nothing
        local integer this= s__HiruzenKongoRoheki_allocate()
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call PlaySoundOnUnitBJ(gg_snd_Hiruzen_R_Kongo, 100, GetTriggerUnit())
	endif
        set s__HiruzenKongoRoheki_caster[this]=GetTriggerUnit()
        set s__HiruzenKongoRoheki_target[this]=GetSpellTargetUnit()
        set s__HiruzenKongoRoheki_cage[this]=CreateUnit(GetTriggerPlayer(), 'h03M', GetUnitX(s__HiruzenKongoRoheki_target[this]), GetUnitY(s__HiruzenKongoRoheki_target[this]), 270)
        call SetUnitFlyHeight(s__HiruzenKongoRoheki_cage[this], 800, 800)
        call StunUnitTimed(s__HiruzenKongoRoheki_caster[this] , s__HiruzenKongoRoheki_target[this] , 2.0)
	if ( GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h04T' or GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h018' or GetUnitTypeId(s__HiruzenKongoRoheki_caster[this]) == 'h04R' ) then
		call ShowUnit(s__HiruzenKongoRoheki_caster[this], false)
	endif
        call KillUnit(CreateUnit(GetTriggerPlayer(), 'h03N', GetUnitX(s__HiruzenKongoRoheki_target[this]), GetUnitY(s__HiruzenKongoRoheki_target[this]), 270))
        call UnitAddAbility(s__HiruzenKongoRoheki_target[this], 'Arav')
        call UnitRemoveAbility(s__HiruzenKongoRoheki_target[this], 'Arav')
        call SetUnitFlyHeight(s__HiruzenKongoRoheki_target[this], 800, 800)
        call TimerStart(NewTimerEx(this), 1.0, false, function s__HiruzenKongoRoheki_delay)
    endfunction 

    function s__HiruzenKongoRoheki_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__HiruzenKongoRoheki_SPELL_ID ) , Filter(( function s__HiruzenKongoRoheki_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A16D' ) , Filter(( function s__HiruzenKongoRoheki_actions))) // INLINED!!
    endfunction 

//===========================================================================
// Trigger: HiruzenSemiChoice
//===========================================================================
//textmacro instance: UltimateChoice("HiruzenSemi", "A036", "A0F2", "ENMA", "Kuchiyose: Enma", "A1A7", "ROHEKI", "Kongo Roheki")

//Implemented from module Alloc:
    
        function s__HiruzenSemiUltimateChoice_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenSemiUltimateChoice_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenSemiUltimateChoice_Alloc__instanceCount=s__HiruzenSemiUltimateChoice_Alloc__instanceCount + 1
                set this=s__HiruzenSemiUltimateChoice_Alloc__instanceCount
            else
                set this=s__HiruzenSemiUltimateChoice_Alloc__recycle[(0)]
                set s__HiruzenSemiUltimateChoice_Alloc__recycle[(0)]=s__HiruzenSemiUltimateChoice_Alloc__recycle[s__HiruzenSemiUltimateChoice_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenSemiUltimateChoice_deallocate takes integer this returns nothing
            set s__HiruzenSemiUltimateChoice_Alloc__recycle[this]=s__HiruzenSemiUltimateChoice_Alloc__recycle[(0)]
            set s__HiruzenSemiUltimateChoice_Alloc__recycle[(0)]=this
        endfunction
    //private static boolean picked = false 
    
    function s__HiruzenSemiUltimateChoice_enableSkill takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__HiruzenSemiUltimateChoice_caster[this] != null then
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__HiruzenSemiUltimateChoice_caster[this]), 'A036', false)
        else
            call s__HiruzenSemiUltimateChoice_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HiruzenSemiUltimateChoice_pickSkill takes nothing returns boolean
        local integer i
        local integer this
        if (GetClickedButton()) == s__s__HiruzenSemiUltimateChoice_b[0] then // INLINED!!
            call UnitAddAbility(s__HiruzenSemiUltimateChoice_u, s__HiruzenSemiUltimateChoice_ENMA)
            call UnitMakeAbilityPermanent(s__HiruzenSemiUltimateChoice_u, true, s__HiruzenSemiUltimateChoice_ENMA)
        else
            call UnitAddAbility(s__HiruzenSemiUltimateChoice_u, s__HiruzenSemiUltimateChoice_ROHEKI)
            call UnitMakeAbilityPermanent(s__HiruzenSemiUltimateChoice_u, true, s__HiruzenSemiUltimateChoice_ROHEKI)
        endif
        set i=0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A036', false)
            set i=i + 1
        endloop
        //call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A036', false)
        set s__s__HiruzenSemiUltimateChoice_b[0]= null
        set s__s__HiruzenSemiUltimateChoice_b[1]= null
        set s__HiruzenSemiUltimateChoice_u=null
        call s__Dialog_destroy(s__HiruzenSemiUltimateChoice_d)
        call DestroyBoolExpr(s__HiruzenSemiUltimateChoice_pick)
        set s__HiruzenSemiUltimateChoice_pick=null
        set this=s__HiruzenSemiUltimateChoice_allocate()
        set s__HiruzenSemiUltimateChoice_caster[this]=s__HiruzenSemiUltimateChoice_u
        set s__HiruzenSemiUltimateChoice_pp[this]=GetOwningPlayer(s__HiruzenSemiUltimateChoice_u)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__HiruzenSemiUltimateChoice_enableSkill)
        return false
    endfunction 
    
    function s__HiruzenSemiUltimateChoice_actions takes nothing returns nothing
        if GetTriggerUnit() != udg_InoMental and GetUnitAbilityLevel(GetTriggerUnit(), s__HiruzenSemiUltimateChoice_ENMA) == 0 and GetUnitAbilityLevel(GetTriggerUnit(), s__HiruzenSemiUltimateChoice_ROHEKI) == 0 then
            set s__HiruzenSemiUltimateChoice_d=s__Dialog_create()
            call s__Dialog__set_title(s__HiruzenSemiUltimateChoice_d,"Pick a skill")
            set s__s__HiruzenSemiUltimateChoice_b[0]= (DialogAddButton(s__Dialog_dg[(s__HiruzenSemiUltimateChoice_d)], ("Kuchiyose: Enma" ), ( 0))) // INLINED!!
            set s__s__HiruzenSemiUltimateChoice_b[1]= (DialogAddButton(s__Dialog_dg[(s__HiruzenSemiUltimateChoice_d)], ("Kongo Roheki" ), ( 1))) // INLINED!!
            call s__Dialog_display(s__HiruzenSemiUltimateChoice_d,GetTriggerPlayer() , true)
            call s__Dialog_registerClickEvent(s__HiruzenSemiUltimateChoice_d,s__HiruzenSemiUltimateChoice_pick)
            set s__HiruzenSemiUltimateChoice_u=GetTriggerUnit()
            //set picked = true 
        endif
    endfunction
    
    function s__HiruzenSemiUltimateChoice_learn takes nothing returns nothing
        if GetLearnedSkill() == 'A036' then
            set s__HiruzenSemiUltimateChoice_p=GetTriggerPlayer()
        endif
    endfunction 
    
    function s__HiruzenSemiUltimateChoice_onInit takes nothing returns nothing
        set s__HiruzenSemiUltimateChoice_pick=Condition(function s__HiruzenSemiUltimateChoice_pickSkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_SKILL ) , Filter(( function s__HiruzenSemiUltimateChoice_learn))) // INLINED!!
        call RegisterSpellEffectEvent2(('A036' ) , Filter(( function s__HiruzenSemiUltimateChoice_actions))) // INLINED!!
    endfunction 
    
//end of: UltimateChoice("HiruzenSemi", "A036", "A0F2", "ENMA", "Kuchiyose: Enma", "A1A7", "ROHEKI", "Kongo Roheki")

//===========================================================================
// Trigger: HiruzenLevel
//===========================================================================



 function s__HiruzenLevel_periodic takes nothing returns nothing
		if s__HiruzenLevel_hiruzen == null then
			call ReleaseTimer(GetExpiredTimer())
		endif
		if GetHeroLevel(s__HiruzenLevel_hiruzen) >= 15 and GetUnitAbilityLevel(s__HiruzenLevel_hiruzen, 'A0F2') > 0 then
			call SetUnitAbilityLevel(s__HiruzenLevel_hiruzen, 'A0F2', 2)
			call ReleaseTimer(GetExpiredTimer())
		elseif GetHeroLevel(s__HiruzenLevel_hiruzen) >= 15 and GetUnitAbilityLevel(s__HiruzenLevel_hiruzen, 'A1A7') > 0 then
			call SetUnitAbilityLevel(s__HiruzenLevel_hiruzen, 'A1A7', 2)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 
	
 function s__HiruzenLevel_leave takes nothing returns nothing
		if GetUnitTypeId(GetLeavingUnit()) == 'H03L' then
			set s__HiruzenLevel_hiruzen=GetLeavingUnit()
			call TimerStartEx((NewTimerEx(0)) , 1.0 , true , function s__HiruzenLevel_periodic , "HiruzenLevel_periodic") // INLINED!!
		endif
 endfunction

 function s__HiruzenLevel_onInit takes nothing returns nothing
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__HiruzenLevel_leave))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: HiruzenShikiFuujinINIT
//===========================================================================
function Trig_Sandaime_Shiki_Fuujin_INIT_Conditions takes nothing returns boolean
    return GetSpellAbilityId() == 'A0FF' or GetSpellAbilityId() == 'A0SB' or GetSpellAbilityId() == 'A0YP'
endfunction

function Trig_Sandaime_Shiki_Fuujin_INIT_Func022001 takes nothing returns boolean
    return ( IsTriggerEnabled(gg_trg_HiruzenShikiFuujinLOOP) == false )
endfunction

function Trig_Sandaime_Shiki_Fuujin_INIT_Actions takes nothing returns nothing
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) and GetUnitTypeId(GetTriggerUnit()) != 'H0AR' and GetUnitTypeId(GetTriggerUnit()) != 'H086' and GetUnitTypeId(GetTriggerUnit()) != 'H072' then
        call PlaySoundOnUnitBJ(gg_snd_Hiruzen_T2_Shiki, 100.0, GetTriggerUnit())
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Hiruzen: I'm the pillar for the next generation!|r")
    elseif IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        call PlaySoundOnUnitBJ(gg_snd_Minato_Hokage_T_Shiki, 100, GetTriggerUnit())
    endif
    set udg_San_Shiki_Count=0
    set udg_San_Shiki_Caster=GetTriggerUnit()
    set udg_San_Shiki_Target=GetSpellTargetUnit()
    call PauseUnitBJ(true, udg_San_Shiki_Caster)
    call PauseUnitBJ(true, udg_San_Shiki_Target)
    set udg_San_Shiki_Point[1]=GetUnitLoc(GetTriggerUnit())
    set udg_San_Shiki_Point[2]=GetUnitLoc(GetSpellTargetUnit())
    call AddLightningLoc("DRAM", udg_San_Shiki_Point[1], udg_San_Shiki_Point[2])
    set udg_San_Shiki_Lightning=GetLastCreatedLightningBJ()
call AddSpecialEffectTargetUnitBJ(("origin" ), ( GetTriggerUnit() ), ( "BlueChakra.mdx")) // INLINED!!
    set udg_San_Shiki_Effect=GetLastCreatedEffectBJ()
    call CreateNUnitsAtLoc(1, 'h00U', GetTriggerPlayer(), udg_San_Shiki_Point[1], Rad2Deg(Atan3(GetUnitX(udg_San_Shiki_Caster) , GetUnitY(udg_San_Shiki_Caster) , GetUnitX(udg_San_Shiki_Target) , GetUnitY(udg_San_Shiki_Target))))
    call UnitApplyTimedLifeBJ(10.00, 'BTLF', GetLastCreatedUnit())
    set udg_San_Shiki_Dummy=GetLastCreatedUnit()
    call CreateNUnitsAtLoc(1, 'h04J', GetTriggerPlayer(), udg_San_Shiki_Point[1], bj_UNIT_FACING)
    call UnitApplyTimedLifeBJ(1.00, 'BTLF', GetLastCreatedUnit())
    if GetUnitTypeId(udg_San_Shiki_Caster) == 'H086' or GetUnitTypeId(udg_San_Shiki_Caster) == 'H072' then
	call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A0FG', 2)
    endif
    call IssueTargetOrder(GetLastCreatedUnit(), "soulburn", udg_San_Shiki_Target)
    call CreateNUnitsAtLoc(1, 'e007', GetTriggerPlayer(), udg_San_Shiki_Point[2], GetUnitFacing(udg_San_Shiki_Target))
call AddSpecialEffectTargetUnitBJ(("origin" ), ( GetLastCreatedUnit() ), ( "")) // INLINED!!
    call UnitApplyTimedLifeBJ(10.00, 'BTLF', GetLastCreatedUnit())
    call h__SetUnitVertexColorBJ(GetLastCreatedUnit(), 100, 100, 100, 50.00)
    set udg_San_Shiki_Ghost=GetLastCreatedUnit()
    call EnableTrigger(gg_trg_HiruzenShikiFuujinLOOP)
    loop
        exitwhen ( (IsTriggerEnabled(gg_trg_HiruzenShikiFuujinLOOP) == false) ) // INLINED!!
        call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 0.10))
    endloop
    call KillUnit(udg_San_Shiki_Ghost)
    call KillUnit(udg_San_Shiki_Dummy)
    call DestroyEffect(udg_San_Shiki_Effect)
    call DestroyLightning(udg_San_Shiki_Lightning)
    call PauseUnitBJ(false, udg_San_Shiki_Caster)
    call PauseUnitBJ(false, udg_San_Shiki_Target)
    if GetUnitTypeId(udg_San_Shiki_Caster) == 'H086' or GetUnitTypeId(udg_San_Shiki_Caster) == 'H072' then
	call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Target, ( ( 10.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_San_Shiki_Caster, true)) ) + 600 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Caster, ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_San_Shiki_Caster) * 0.20 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
      elseif GetUnitTypeId(GetTriggerUnit()) == 'H072' then
        call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Target, ( ( 10.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_San_Shiki_Caster, true)) ) + 600 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Caster, ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_San_Shiki_Caster) * 0.20 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
      elseif GetUnitTypeId(GetTriggerUnit()) == 'H0AR' then
        call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Target, ( ( 10.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_AGI, udg_San_Shiki_Caster, true)) ) + 0 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Caster, ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_San_Shiki_Caster) * 0.20 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
	else
        call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Target, ( ( 10.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_INT, udg_San_Shiki_Caster, true)) ) + 1500.00 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
        call UnitDamageTargetBJ(udg_San_Shiki_Caster, udg_San_Shiki_Caster, ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_San_Shiki_Caster) * 0.20 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
    endif
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=2
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call RemoveLocation(udg_San_Shiki_Point[GetForLoopIndexA()])
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_HiruzenShikiFuujinINIT takes nothing returns nothing
    set gg_trg_HiruzenShikiFuujinINIT=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_HiruzenShikiFuujinINIT, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_HiruzenShikiFuujinINIT, Condition(function Trig_Sandaime_Shiki_Fuujin_INIT_Conditions))
    call TriggerAddAction(gg_trg_HiruzenShikiFuujinINIT, function Trig_Sandaime_Shiki_Fuujin_INIT_Actions)
    //call EnableTriggerForId(36, gg_trg_HiruzenShikiFuujinINIT)
endfunction


//===========================================================================
// Trigger: HiruzenShikiFuujinLOOP
//===========================================================================
function Trig_HiruzenShikiFuujinLOOP_Func005C takes nothing returns boolean
    return DistanceBetweenPoints(udg_San_Shiki_Point[1], udg_San_Shiki_Point[4]) <= 50.00 or udg_San_Shiki_Count > 300
endfunction

function Trig_HiruzenShikiFuujinLOOP_Actions takes nothing returns nothing
    set udg_San_Shiki_Point[3]=GetUnitLoc(udg_San_Shiki_Ghost)
    set udg_San_Shiki_Point[4]=PolarProjectionBJ(udg_San_Shiki_Point[3], 10.00, AngleBetweenPoints(udg_San_Shiki_Point[3], udg_San_Shiki_Point[1]))
    call SetUnitPositionLoc(udg_San_Shiki_Ghost, udg_San_Shiki_Point[4])
    //call MoveLightningLoc( udg_San_Shiki_Lightning, udg_San_Shiki_Point[1], udg_San_Shiki_Point[4] )
    set udg_San_Shiki_Count=udg_San_Shiki_Count + 1
    if ( (DistanceBetweenPoints(udg_San_Shiki_Point[1], udg_San_Shiki_Point[4]) <= 50.00 or udg_San_Shiki_Count > 300) ) then // INLINED!!
        set bj_forLoopAIndex=3
        set bj_forLoopAIndexEnd=4
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call RemoveLocation(udg_San_Shiki_Point[GetForLoopIndexA()])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call DisableTrigger(GetTriggeringTrigger())
    else
        set bj_forLoopAIndex=3
        set bj_forLoopAIndexEnd=4
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call RemoveLocation(udg_San_Shiki_Point[GetForLoopIndexA()])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    endif
endfunction

//===========================================================================
function InitTrig_HiruzenShikiFuujinLOOP takes nothing returns nothing
    set gg_trg_HiruzenShikiFuujinLOOP=CreateTrigger()
    call DisableTrigger(gg_trg_HiruzenShikiFuujinLOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_HiruzenShikiFuujinLOOP, 0.03)
    call TriggerAddAction(gg_trg_HiruzenShikiFuujinLOOP, function Trig_HiruzenShikiFuujinLOOP_Actions)
endfunction


//===========================================================================
// Trigger: HiruzenNewUltimate
//===========================================================================

//Implemented from module Alloc:
    
        function s__HiruzenNewUltimate_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenNewUltimate_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenNewUltimate_Alloc__instanceCount=s__HiruzenNewUltimate_Alloc__instanceCount + 1
                set this=s__HiruzenNewUltimate_Alloc__instanceCount
            else
                set this=s__HiruzenNewUltimate_Alloc__recycle[(0)]
                set s__HiruzenNewUltimate_Alloc__recycle[(0)]=s__HiruzenNewUltimate_Alloc__recycle[s__HiruzenNewUltimate_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenNewUltimate_deallocate takes integer this returns nothing
            set s__HiruzenNewUltimate_Alloc__recycle[this]=s__HiruzenNewUltimate_Alloc__recycle[(0)]
            set s__HiruzenNewUltimate_Alloc__recycle[(0)]=this
        endfunction
    
    function s__HiruzenNewUltimate_damagefix takes nothing returns boolean
 local integer this= s__HiruzenNewUltimate_allocate()
        if GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__HiruzenNewUltimate_caster[s__HiruzenNewUltimate_instance])) then
                    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true then
                        call UnitDamageTarget(s__HiruzenNewUltimate_caster[s__HiruzenNewUltimate_instance], GetFilterUnit(), 20.0 * GetHeroStr(s__HiruzenNewUltimate_caster[s__HiruzenNewUltimate_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		    else
                        call UnitDamageTarget(s__HiruzenNewUltimate_caster[s__HiruzenNewUltimate_instance], GetFilterUnit(), 10.0 * GetHeroStr(s__HiruzenNewUltimate_caster[s__HiruzenNewUltimate_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                    endif
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" ), (( GetUnitX(GetFilterUnit()) )*1.0), (( GetUnitY(GetFilterUnit()))*1.0))) // INLINED!!
                endif
	return false
    endfunction

    function s__HiruzenNewUltimate_shake takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        loop
            exitwhen i > 11
             call CameraClearNoiseForPlayer(Player(i))
            set i=i + 1
        endloop
        call s__HiruzenNewUltimate_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__HiruzenNewUltimate_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle1= Atan3(GetUnitX(s__HiruzenNewUltimate_missle1[this]) , GetUnitY(s__HiruzenNewUltimate_missle1[this]) , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])
        local real angle2= Atan3(GetUnitX(s__HiruzenNewUltimate_missle2[this]) , GetUnitY(s__HiruzenNewUltimate_missle2[this]) , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])
        local real angle3= Atan3(GetUnitX(s__HiruzenNewUltimate_missle3[this]) , GetUnitY(s__HiruzenNewUltimate_missle3[this]) , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])
        local real angle4= Atan3(GetUnitX(s__HiruzenNewUltimate_missle4[this]) , GetUnitY(s__HiruzenNewUltimate_missle4[this]) , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])
        local real angle5= Atan3(GetUnitX(s__HiruzenNewUltimate_missle5[this]) , GetUnitY(s__HiruzenNewUltimate_missle5[this]) , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])
        local real x1= (((GetUnitX(s__HiruzenNewUltimate_missle1[this]) )*1.0) + Cos((( angle1 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real y1= (((GetUnitY(s__HiruzenNewUltimate_missle1[this]) )*1.0) + Sin((( angle1 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real x2= (((GetUnitX(s__HiruzenNewUltimate_missle2[this]) )*1.0) + Cos((( angle2 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real y2= (((GetUnitY(s__HiruzenNewUltimate_missle2[this]) )*1.0) + Sin((( angle2 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real x3= (((GetUnitX(s__HiruzenNewUltimate_missle3[this]) )*1.0) + Cos((( angle3 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real y3= (((GetUnitY(s__HiruzenNewUltimate_missle3[this]) )*1.0) + Sin((( angle3 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real x4= (((GetUnitX(s__HiruzenNewUltimate_missle4[this]) )*1.0) + Cos((( angle4 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real y4= (((GetUnitY(s__HiruzenNewUltimate_missle4[this]) )*1.0) + Sin((( angle4 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real x5= (((GetUnitX(s__HiruzenNewUltimate_missle5[this]) )*1.0) + Cos((( angle5 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real y5= (((GetUnitY(s__HiruzenNewUltimate_missle5[this]) )*1.0) + Sin((( angle5 )*1.0)) * (( 25.0)*1.0)) // INLINED!!
        local real angle
        local real offset
        local real explosion_x
        local real explosion_y
        local integer i
        call SetUnitX(s__HiruzenNewUltimate_missle1[this], x1)
        call SetUnitY(s__HiruzenNewUltimate_missle1[this], y1)
        call SetUnitX(s__HiruzenNewUltimate_missle2[this], x2)
        call SetUnitY(s__HiruzenNewUltimate_missle2[this], y2)
        call SetUnitX(s__HiruzenNewUltimate_missle3[this], x3)
        call SetUnitY(s__HiruzenNewUltimate_missle3[this], y3)
        call SetUnitX(s__HiruzenNewUltimate_missle4[this], x4)
        call SetUnitY(s__HiruzenNewUltimate_missle4[this], y4)
        call SetUnitX(s__HiruzenNewUltimate_missle5[this], x5)
        call SetUnitY(s__HiruzenNewUltimate_missle5[this], y5)
        call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl" ), (( x5 )*1.0), (( y5)*1.0))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl" ), (( x1 )*1.0), (( y1)*1.0))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl" ), (( x2 )*1.0), (( y2)*1.0))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl" ), (( x3 )*1.0), (( y3)*1.0))) // INLINED!!
        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl" ), (( x4 )*1.0), (( y4)*1.0))) // INLINED!!
        if GetDistance(x5 , y5 , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this]) <= 100 then
            set bj_lastCreatedGroup=CreateGroup()
	    set s__HiruzenNewUltimate_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__HiruzenNewUltimate_target_x[this], s__HiruzenNewUltimate_target_y[this], 600.0, Filter(function s__HiruzenNewUltimate_damagefix))
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                exitwhen bj_lastCreatedUnit == null
                
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            call KillUnit(s__HiruzenNewUltimate_missle1[this])
            call KillUnit(s__HiruzenNewUltimate_missle2[this])
            call KillUnit(s__HiruzenNewUltimate_missle3[this])
            call KillUnit(s__HiruzenNewUltimate_missle4[this])
            call KillUnit(s__HiruzenNewUltimate_missle5[this])
            set s__HiruzenNewUltimate_missle1[this]=null
            set s__HiruzenNewUltimate_missle2[this]=null
            set s__HiruzenNewUltimate_missle3[this]=null
            set s__HiruzenNewUltimate_missle4[this]=null
            set s__HiruzenNewUltimate_missle5[this]=null
            call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HiruzenNewUltimate_clone1[this]) )*1.0), (( GetUnitY(s__HiruzenNewUltimate_clone1[this]))*1.0))) // INLINED!!
            call KillUnit(s__HiruzenNewUltimate_clone1[this])
            call ShowUnit(s__HiruzenNewUltimate_clone1[this], false)
            set s__HiruzenNewUltimate_clone1[this]=null
            call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HiruzenNewUltimate_clone2[this]) )*1.0), (( GetUnitY(s__HiruzenNewUltimate_clone2[this]))*1.0))) // INLINED!!
            call KillUnit(s__HiruzenNewUltimate_clone2[this])
            call ShowUnit(s__HiruzenNewUltimate_clone2[this], false)
            set s__HiruzenNewUltimate_clone2[this]=null
            call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HiruzenNewUltimate_clone3[this]) )*1.0), (( GetUnitY(s__HiruzenNewUltimate_clone3[this]))*1.0))) // INLINED!!
            call KillUnit(s__HiruzenNewUltimate_clone3[this])
            call ShowUnit(s__HiruzenNewUltimate_clone3[this], false)
            set s__HiruzenNewUltimate_clone3[this]=null
            call DestroyEffect(AddSpecialEffect(("s_Shadow_Smoke.mdx" ), (( GetUnitX(s__HiruzenNewUltimate_clone4[this]) )*1.0), (( GetUnitY(s__HiruzenNewUltimate_clone4[this]))*1.0))) // INLINED!!
            call KillUnit(s__HiruzenNewUltimate_clone4[this])
            call ShowUnit(s__HiruzenNewUltimate_clone4[this], false)
            set s__HiruzenNewUltimate_clone4[this]=null
            call PauseUnit(s__HiruzenNewUltimate_caster[this], false)
            set i=0
            loop
                set i=i + 1
                exitwhen i > 3
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'h058', s__HiruzenNewUltimate_target_x[this], s__HiruzenNewUltimate_target_y[this], GetRandomReal(0, 360))
                call SetUnitScale(bj_lastCreatedUnit, 5.0, 5.0, 5.0)
                call SetUnitTimeScale(bj_lastCreatedUnit, 0.2)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
            endloop
            call DestroyEffect(AddSpecialEffect(("s_LW10.mdx" ), (( s__HiruzenNewUltimate_target_x[this] )*1.0), (( s__HiruzenNewUltimate_target_y[this])*1.0))) // INLINED!!
            if IsUnitVisible(s__HiruzenNewUltimate_caster[this], GetLocalPlayer()) then
                call CameraSetEQNoiseForPlayer(GetLocalPlayer(), 10.00)
            endif
            call TimerStart(CreateTimer(), 1.5, false, function s__HiruzenNewUltimate_shake)
            set i=0
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'nhef', s__HiruzenNewUltimate_target_x[this], s__HiruzenNewUltimate_target_y[this], GetRandomReal(0, 360))
            call SetUnitX(bj_lastCreatedUnit, s__HiruzenNewUltimate_target_x[this])
            call SetUnitY(bj_lastCreatedUnit, s__HiruzenNewUltimate_target_y[this])
            call SetUnitTimeScale(bj_lastCreatedUnit, 0.5)
            call KillUnit(bj_lastCreatedUnit)
            loop
                set i=i + 1
                exitwhen i > 20
                set angle=32 * i
                set offset=400
                set explosion_x=s__HiruzenNewUltimate_target_x[this] + Cos(Deg2Rad(angle)) * offset
                set explosion_y=s__HiruzenNewUltimate_target_y[this] + Sin(Deg2Rad(angle)) * offset
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'nhef', explosion_x, explosion_y, GetRandomReal(0, 360))
                call SetUnitX(bj_lastCreatedUnit, explosion_x)
                call SetUnitY(bj_lastCreatedUnit, explosion_y)
                call SetUnitTimeScale(bj_lastCreatedUnit, GetRandomReal(0.5, 0.7))
                call KillUnit(bj_lastCreatedUnit)
            endloop
            
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HiruzenNewUltimate_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= Atan3(s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this] , GetUnitX(s__HiruzenNewUltimate_caster[this]) , GetUnitY(s__HiruzenNewUltimate_caster[this]))
        local real distance= GetDistance(s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this] , GetUnitX(s__HiruzenNewUltimate_caster[this]) , GetUnitY(s__HiruzenNewUltimate_caster[this]))
        local real x1= (((s__HiruzenNewUltimate_target_x[this] )*1.0) + Cos((( angle + Deg2Rad(15.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        local real y1= (((s__HiruzenNewUltimate_target_y[this] )*1.0) + Sin((( angle + Deg2Rad(15.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        local real x2= (((s__HiruzenNewUltimate_target_x[this] )*1.0) + Cos((( angle + Deg2Rad(30.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        local real y2= (((s__HiruzenNewUltimate_target_y[this] )*1.0) + Sin((( angle + Deg2Rad(30.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        local real x3= (((s__HiruzenNewUltimate_target_x[this] )*1.0) + Cos((( angle - Deg2Rad(15.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        local real y3= (((s__HiruzenNewUltimate_target_y[this] )*1.0) + Sin((( angle - Deg2Rad(15.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        local real x4= (((s__HiruzenNewUltimate_target_x[this] )*1.0) + Cos((( angle - Deg2Rad(30.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        local real y4= (((s__HiruzenNewUltimate_target_y[this] )*1.0) + Sin((( angle - Deg2Rad(30.0) )*1.0)) * (( distance)*1.0)) // INLINED!!
        set s__HiruzenNewUltimate_clone1[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'h09K', x1, y1, Rad2Deg(Atan3(x1 , y1 , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])))
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x1 )*1.0), (( y1)*1.0))) // INLINED!!
        call SetUnitAnimation(s__HiruzenNewUltimate_clone1[this], "spell")
        set s__HiruzenNewUltimate_missle1[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'e007', x1, y1, GetUnitFacing(s__HiruzenNewUltimate_clone1[this]))
        set s__HiruzenNewUltimate_clone2[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'h09K', x2, y2, Rad2Deg(Atan3(x2 , y2 , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])))
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x2 )*1.0), (( y2)*1.0))) // INLINED!!
        call SetUnitAnimation(s__HiruzenNewUltimate_clone2[this], "spell")
        set s__HiruzenNewUltimate_missle2[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'e007', x2, y2, GetUnitFacing(s__HiruzenNewUltimate_clone2[this]))
        set s__HiruzenNewUltimate_clone3[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'h09K', x3, y3, Rad2Deg(Atan3(x3 , y3 , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])))
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x3 )*1.0), (( y3)*1.0))) // INLINED!!
        call SetUnitAnimation(s__HiruzenNewUltimate_clone3[this], "spell")
        set s__HiruzenNewUltimate_missle3[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'e007', x3, y3, GetUnitFacing(s__HiruzenNewUltimate_clone3[this]))
        set s__HiruzenNewUltimate_clone4[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'h09K', x4, y4, Rad2Deg(Atan3(x4 , y4 , s__HiruzenNewUltimate_target_x[this] , s__HiruzenNewUltimate_target_y[this])))
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x4 )*1.0), (( y4)*1.0))) // INLINED!!
        call SetUnitAnimation(s__HiruzenNewUltimate_clone4[this], "spell")
        set s__HiruzenNewUltimate_missle4[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'e007', x4, y4, GetUnitFacing(s__HiruzenNewUltimate_clone4[this]))
        set s__HiruzenNewUltimate_missle5[this]=CreateUnit(GetOwningPlayer(s__HiruzenNewUltimate_caster[this]), 'e007', GetUnitX(s__HiruzenNewUltimate_caster[this]), GetUnitY(s__HiruzenNewUltimate_caster[this]), GetUnitFacing(s__HiruzenNewUltimate_caster[this]))
        call ShowUnit(s__HiruzenNewUltimate_caster[this], true)
        call SetUnitAnimation(s__HiruzenNewUltimate_caster[this], "spell")
        call SelectUnitForPlayerSingle(s__HiruzenNewUltimate_caster[this], GetOwningPlayer(s__HiruzenNewUltimate_caster[this]))
        call TimerStart(NewTimerEx(this), 0.03, true, function s__HiruzenNewUltimate_periodic)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__HiruzenNewUltimate_actions takes nothing returns nothing
        local integer this= s__HiruzenNewUltimate_allocate()
        set s__HiruzenNewUltimate_caster[this]=GetTriggerUnit()
        set s__HiruzenNewUltimate_target_x[this]=GetSpellTargetX()
        set s__HiruzenNewUltimate_target_y[this]=GetSpellTargetY()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Hiruzen_T_Goton, 100.0, GetTriggerUnit())
        endif
        call PauseUnit(s__HiruzenNewUltimate_caster[this], true)
        call ShowUnit(s__HiruzenNewUltimate_caster[this], false)
        call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__HiruzenNewUltimate_caster[this]) )*1.0), (( GetUnitY(s__HiruzenNewUltimate_caster[this]))*1.0))) // INLINED!!
        call TimerStart(NewTimerEx(this), 0.1, false, function s__HiruzenNewUltimate_delay)
    endfunction 
    
    function s__HiruzenNewUltimate_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(36 , s__HiruzenNewUltimate_SPELL_ID , function s__HiruzenNewUltimate_actions)
        call RegisterSpellEffectEvent2(('A168' ) , Filter(( function s__HiruzenNewUltimate_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: HiruzenUltimateChoice
//===========================================================================
//textmacro instance: UltimateChoice("Hiruzen", "A0UI", "A0FF", "SHIKI_FUUJIN", "Shiki Fuujin", "A0UH", "GOTON", "Goton Dairendan no Jutsu")

//Implemented from module Alloc:
    
        function s__HiruzenUltimateChoice_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HiruzenUltimateChoice_Alloc__recycle[(0)] == 0 ) then
                set s__HiruzenUltimateChoice_Alloc__instanceCount=s__HiruzenUltimateChoice_Alloc__instanceCount + 1
                set this=s__HiruzenUltimateChoice_Alloc__instanceCount
            else
                set this=s__HiruzenUltimateChoice_Alloc__recycle[(0)]
                set s__HiruzenUltimateChoice_Alloc__recycle[(0)]=s__HiruzenUltimateChoice_Alloc__recycle[s__HiruzenUltimateChoice_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HiruzenUltimateChoice_deallocate takes integer this returns nothing
            set s__HiruzenUltimateChoice_Alloc__recycle[this]=s__HiruzenUltimateChoice_Alloc__recycle[(0)]
            set s__HiruzenUltimateChoice_Alloc__recycle[(0)]=this
        endfunction
    //private static boolean picked = false 
    
    function s__HiruzenUltimateChoice_enableSkill takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__HiruzenUltimateChoice_caster[this] != null then
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__HiruzenUltimateChoice_caster[this]), 'A0UI', false)
        else
            call s__HiruzenUltimateChoice_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__HiruzenUltimateChoice_pickSkill takes nothing returns boolean
        local integer i
        local integer this
        if (GetClickedButton()) == s__s__HiruzenUltimateChoice_b[0] then // INLINED!!
            call UnitAddAbility(s__HiruzenUltimateChoice_u, s__HiruzenUltimateChoice_SHIKI_FUUJIN)
            call UnitMakeAbilityPermanent(s__HiruzenUltimateChoice_u, true, s__HiruzenUltimateChoice_SHIKI_FUUJIN)
        else
            call UnitAddAbility(s__HiruzenUltimateChoice_u, s__HiruzenUltimateChoice_GOTON)
            call UnitMakeAbilityPermanent(s__HiruzenUltimateChoice_u, true, s__HiruzenUltimateChoice_GOTON)
        endif
        set i=0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), 'A0UI', false)
            set i=i + 1
        endloop
        //call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A0UI', false)
        set s__s__HiruzenUltimateChoice_b[0]= null
        set s__s__HiruzenUltimateChoice_b[1]= null
        set s__HiruzenUltimateChoice_u=null
        call s__Dialog_destroy(s__HiruzenUltimateChoice_d)
        call DestroyBoolExpr(s__HiruzenUltimateChoice_pick)
        set s__HiruzenUltimateChoice_pick=null
        set this=s__HiruzenUltimateChoice_allocate()
        set s__HiruzenUltimateChoice_caster[this]=s__HiruzenUltimateChoice_u
        set s__HiruzenUltimateChoice_pp[this]=GetOwningPlayer(s__HiruzenUltimateChoice_u)
        call TimerStart(NewTimerEx(this), 0.1, true, function s__HiruzenUltimateChoice_enableSkill)
        return false
    endfunction 
    
    function s__HiruzenUltimateChoice_actions takes nothing returns nothing
        if GetTriggerUnit() != udg_InoMental and GetUnitAbilityLevel(GetTriggerUnit(), s__HiruzenUltimateChoice_SHIKI_FUUJIN) == 0 and GetUnitAbilityLevel(GetTriggerUnit(), s__HiruzenUltimateChoice_GOTON) == 0 then
            set s__HiruzenUltimateChoice_d=s__Dialog_create()
            call s__Dialog__set_title(s__HiruzenUltimateChoice_d,"Pick a skill")
            set s__s__HiruzenUltimateChoice_b[0]= (DialogAddButton(s__Dialog_dg[(s__HiruzenUltimateChoice_d)], ("Shiki Fuujin" ), ( 0))) // INLINED!!
            set s__s__HiruzenUltimateChoice_b[1]= (DialogAddButton(s__Dialog_dg[(s__HiruzenUltimateChoice_d)], ("Goton Dairendan no Jutsu" ), ( 1))) // INLINED!!
            call s__Dialog_display(s__HiruzenUltimateChoice_d,GetTriggerPlayer() , true)
            call s__Dialog_registerClickEvent(s__HiruzenUltimateChoice_d,s__HiruzenUltimateChoice_pick)
            set s__HiruzenUltimateChoice_u=GetTriggerUnit()
            //set picked = true 
        endif
    endfunction
    
    function s__HiruzenUltimateChoice_learn takes nothing returns nothing
        if GetLearnedSkill() == 'A0UI' then
            set s__HiruzenUltimateChoice_p=GetTriggerPlayer()
        endif
    endfunction 
    
    function s__HiruzenUltimateChoice_onInit takes nothing returns nothing
        set s__HiruzenUltimateChoice_pick=Condition(function s__HiruzenUltimateChoice_pickSkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_SKILL ) , Filter(( function s__HiruzenUltimateChoice_learn))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0UI' ) , Filter(( function s__HiruzenUltimateChoice_actions))) // INLINED!!
    endfunction 
    
//end of: UltimateChoice("Hiruzen", "A0UI", "A0FF", "SHIKI_FUUJIN", "Shiki Fuujin", "A0UH", "GOTON", "Goton Dairendan no Jutsu")

//===========================================================================
// Trigger: IchigoQ
//===========================================================================

//Implemented from module Alloc:
    
        function s__IchigoQ_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IchigoQ_Alloc__recycle[(0)] == 0 ) then
                set s__IchigoQ_Alloc__instanceCount=s__IchigoQ_Alloc__instanceCount + 1
                set this=s__IchigoQ_Alloc__instanceCount
            else
                set this=s__IchigoQ_Alloc__recycle[(0)]
                set s__IchigoQ_Alloc__recycle[(0)]=s__IchigoQ_Alloc__recycle[s__IchigoQ_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IchigoQ_deallocate takes integer this returns nothing
            set s__IchigoQ_Alloc__recycle[this]=s__IchigoQ_Alloc__recycle[(0)]
            set s__IchigoQ_Alloc__recycle[(0)]=this
        endfunction

    function s__IchigoQ_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__IchigoQ_slash[this])
        local real y= GetUnitY(s__IchigoQ_slash[this])
        local real new_x= (((x )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__IchigoQ_slash[this])) )*1.0)) * (( 24)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__IchigoQ_slash[this])) )*1.0)) * (( 24)*1.0)) // INLINED!!
        call SetUnitX(s__IchigoQ_slash[this], new_x)
        call SetUnitY(s__IchigoQ_slash[this], new_y)

        //set bj_lastCreatedEffect = AddSpecialEffect("war3mapImported\\bossbirth.mdl", new_x, new_y)
        //call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.5)
        //call DestroyEffect(bj_lastCreatedEffect)

        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 250, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IchigoQ_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__IchigoQ_damaged[this]) then
                call GroupAddUnit(s__IchigoQ_damaged[this], bj_lastCreatedUnit)
                if ( GetUnitTypeId(s__IchigoQ_caster[this]) == 'U00A' or GetUnitAbilityLevel(s__IchigoQ_caster[this], 'B067') > 0 or GetUnitTypeId(s__IchigoQ_caster[this]) == 'U00G' ) then
                    call UnitDamageTarget(s__IchigoQ_caster[this], bj_lastCreatedUnit, ( 0.3 * GetHeroInt(s__IchigoQ_caster[this], true) + 0.3 * GetHeroStr(s__IchigoQ_caster[this], true) + 0.8 * GetHeroAgi(s__IchigoQ_caster[this], true) ) * GetUnitAbilityLevel(s__IchigoQ_caster[this], s__IchigoQ_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                else
                    call UnitDamageTarget(s__IchigoQ_caster[this], bj_lastCreatedUnit, ( 0.2 * GetHeroInt(s__IchigoQ_caster[this], true) + 0.2 * GetHeroStr(s__IchigoQ_caster[this], true) + 0.7 * GetHeroAgi(s__IchigoQ_caster[this], true) ) * GetUnitAbilityLevel(s__IchigoQ_caster[this], s__IchigoQ_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                endif
                if udg_integers13[GetPlayerId(GetOwningPlayer(s__IchigoQ_caster[this])) + 1] >= 15 then
                    call UnitDamageTarget(s__IchigoQ_caster[this], bj_lastCreatedUnit, ( 0.25 * GetHeroInt(s__IchigoQ_caster[this], true) + 0.25 * GetHeroStr(s__IchigoQ_caster[this], true) + 0.5 * GetHeroAgi(s__IchigoQ_caster[this], true) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__IchigoQ_count[this]=s__IchigoQ_count[this] + 1
        if s__IchigoQ_count[this] >= 25 then
            call KillUnit(s__IchigoQ_slash[this])
            call ShowUnit(s__IchigoQ_slash[this], false)
            set s__IchigoQ_slash[this]=null
            call DestroyGroup(s__IchigoQ_damaged[this])
            set s__IchigoQ_damaged[this]=null
            call s__IchigoQ_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__IchigoQ_actions takes nothing returns nothing
        local integer this= s__IchigoQ_allocate()
        local real angle= Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
        set s__IchigoQ_caster[this]=GetTriggerUnit()
		if ( GetUnitTypeId(s__IchigoQ_caster[this]) == 'U00A' or GetUnitAbilityLevel(s__IchigoQ_caster[this], 'B067') > 0 or GetUnitTypeId(s__IchigoQ_caster[this]) == 'U00G' ) then
			set s__IchigoQ_slash[this]=CreateUnit(GetTriggerPlayer(), 'h023', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), Rad2Deg(angle))
		else
			set s__IchigoQ_slash[this]=CreateUnit(GetTriggerPlayer(), 'h0AU', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), Rad2Deg(angle))
		endif
        set s__IchigoQ_damaged[this]=CreateGroup()
        set s__IchigoQ_count[this]=0
        call SetUnitAnimation(s__IchigoQ_caster[this], "Attack")
	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) and ( GetUnitTypeId(s__IchigoQ_caster[this]) == 'U00A' or GetUnitAbilityLevel(s__IchigoQ_caster[this], 'B067') > 0 or GetUnitTypeId(s__IchigoQ_caster[this]) == 'U00G' ) then
	call PlaySoundOnUnitBJ(gg_snd_Ichigo_Q, 100.0, GetTriggerUnit())
    	endif
        call TimerStart(NewTimerEx(this), 0.03, true, function s__IchigoQ_periodic)
    endfunction 

    function s__IchigoQ_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(49 , s__IchigoQ_SPELL_ID , function s__IchigoQ_actions)
    endfunction

//===========================================================================
// Trigger: IchigoDies
//===========================================================================

    function s__IchigoDies_dies takes nothing returns nothing
        if GetUnitTypeId(GetTriggerUnit()) == 'U00G' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A092', true)
        endif
    endfunction

    function s__IchigoDies_onInit takes nothing returns nothing
        call RegisterPlayerUnitEventForId(49 , EVENT_PLAYER_UNIT_DEATH , function s__IchigoDies_dies)
    endfunction


//===========================================================================
// Trigger: IchigoW
//===========================================================================

//Implemented from module Alloc:
    
        function s__IchigoW_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IchigoW_Alloc__recycle[(0)] == 0 ) then
                set s__IchigoW_Alloc__instanceCount=s__IchigoW_Alloc__instanceCount + 1
                set this=s__IchigoW_Alloc__instanceCount
            else
                set this=s__IchigoW_Alloc__recycle[(0)]
                set s__IchigoW_Alloc__recycle[(0)]=s__IchigoW_Alloc__recycle[s__IchigoW_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IchigoW_deallocate takes integer this returns nothing
            set s__IchigoW_Alloc__recycle[this]=s__IchigoW_Alloc__recycle[(0)]
            set s__IchigoW_Alloc__recycle[(0)]=this
        endfunction
    
    function s__IchigoW_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__IchigoW_caster[this])
        local real y= GetUnitY(s__IchigoW_caster[this])
        local real angle= Atan3(x , y , s__IchigoW_cx[this] , s__IchigoW_cy[this])
        local real new_x= (((x )*1.0) + Cos((( angle )*1.0)) * (( 60)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( angle )*1.0)) * (( 60)*1.0)) // INLINED!!
        local real distance= GetDistance(new_x , new_y , s__IchigoW_cx[this] , s__IchigoW_cy[this])
        call SetUnitX(s__IchigoW_caster[this], new_x)
        call SetUnitY(s__IchigoW_caster[this], new_y)
        call SetUnitFacing(s__IchigoW_caster[this], Rad2Deg(angle))
        call SetUnitX(s__IchigoW_dummy[this], new_x)
        call SetUnitY(s__IchigoW_dummy[this], new_y)
        call SetUnitFacing(s__IchigoW_dummy[this], Rad2Deg(angle))
	set s__IchigoW_count2[this]=s__IchigoW_count2[this] + 1

	if distance <= 50 and distance >= 25 then
	    call ShowUnit(s__IchigoW_caster[this], true)
	    if GetUnitTypeId(s__IchigoW_caster[this]) == 'U00G' then
		call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(s__IchigoW_caster[this]) )*1.0), (( GetUnitY(s__IchigoW_caster[this]))*1.0))) // INLINED!!
	    else
	      set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__IchigoW_caster[this]), 'e085', x, y, Rad2Deg(s__IchigoW_angle[this]))
	      call SetUnitX(bj_lastCreatedUnit, x)
              call SetUnitY(bj_lastCreatedUnit, y)
              call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 100)
	      call SetUnitTimeScale(bj_lastCreatedUnit, 0.5)
	      call SetUnitAnimation(bj_lastCreatedUnit, "spell three")
              call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.3)
	    endif
	else
	    call ShowUnit(s__IchigoW_caster[this], false)
	endif

	    set bj_lastCreatedGroup=CreateGroup()
	    call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300, null)
	    loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IchigoW_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__IchigoW_damaged[this]) then
			call GroupAddUnit(s__IchigoW_damaged[this], bj_lastCreatedUnit)
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			if ( GetUnitTypeId(s__IchigoW_caster[this]) == 'U00G' ) then
				call UnitDamageTarget(s__IchigoW_caster[this], bj_lastCreatedUnit, 80 * GetUnitAbilityLevel(s__IchigoW_caster[this], s__IchigoW_SPELL_ID) + 3 * GetHeroAgi(s__IchigoW_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
			else
				call UnitDamageTarget(s__IchigoW_caster[this], bj_lastCreatedUnit, 80 * GetUnitAbilityLevel(s__IchigoW_caster[this], s__IchigoW_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
			endif
			if udg_integers13[GetPlayerId(GetOwningPlayer(s__IchigoW_caster[this])) + 1] >= 15 then
				call UnitDamageTarget(s__IchigoW_caster[this], bj_lastCreatedUnit, ( 0.25 * GetHeroInt(s__IchigoW_caster[this], true) + 0.25 * GetHeroStr(s__IchigoW_caster[this], true) + 0.5 * GetHeroAgi(s__IchigoW_caster[this], true) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			endif
			//call SetUnitAnimation(bj_lastCreatedUnit, "death")
			//call AddSpecialEffectEx("animeslashfinal.mdx", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
		endif
	    endloop
	    call DestroyGroup(bj_lastCreatedGroup)

	if s__IchigoW_count2[this] >= 20 then
        	call ShowUnit(s__IchigoW_caster[this], true)
        	//call PauseUnit(this.caster, false)
                call SetUnitTimeScale(s__IchigoW_caster[this], 1.0)
                call SetUnitAnimation(s__IchigoW_caster[this], "Stand")
                call SelectUnitForPlayerSingle(s__IchigoW_caster[this], GetOwningPlayer(s__IchigoW_caster[this]))
                call RecycleUnit(s__IchigoW_dummy[this])
                set s__IchigoW_dummy[this]=null
                call s__IchigoW_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
   	endif

        if distance <= 50 then
	    //call AddSpecialEffectEx("animeslashfinal.mdx", GetUnitX(this.caster), GetUnitY(this.caster))
            if s__IchigoW_waves[this] == 0 then
                set s__IchigoW_cx[this]=s__IchigoW_p2x[this]
                set s__IchigoW_cy[this]=s__IchigoW_p2y[this]
                set s__IchigoW_waves[this]=s__IchigoW_waves[this] + 1
            elseif s__IchigoW_waves[this] == 1 then
                set s__IchigoW_cx[this]=s__IchigoW_p3x[this]
                set s__IchigoW_cy[this]=s__IchigoW_p3y[this]
                set s__IchigoW_waves[this]=s__IchigoW_waves[this] + 1
            elseif s__IchigoW_waves[this] == 2 then
                set s__IchigoW_cx[this]=s__IchigoW_p4x[this]
                set s__IchigoW_cy[this]=s__IchigoW_p4y[this]
                set s__IchigoW_waves[this]=s__IchigoW_waves[this] + 1
            else
		call ShowUnit(s__IchigoW_caster[this], true)
		//call PauseUnit(this.caster, false)
	    	call SetUnitTimeScale(s__IchigoW_caster[this], 1.0)
	    	call SetUnitAnimation(s__IchigoW_caster[this], "Stand")
            	call SelectUnitForPlayerSingle(s__IchigoW_caster[this], GetOwningPlayer(s__IchigoW_caster[this]))



                call RecycleUnit(s__IchigoW_dummy[this])
                set s__IchigoW_dummy[this]=null
                call s__IchigoW_deallocate(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endif
    endfunction 
    
    function s__IchigoW_actions takes nothing returns nothing
        local integer this= s__IchigoW_allocate()
 local real angle= Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
 local real new_x= GetUnitX(GetTriggerUnit()) + Cos(angle) * 100
        local real new_y= GetUnitY(GetTriggerUnit()) + Sin(angle) * 100
        local real distance_x= new_x - GetSpellTargetX()
        local real distance_y= new_y - GetSpellTargetY()
        local real distance= SquareRoot(distance_x * distance_x + distance_y * distance_y)
        set s__IchigoW_caster[this]=GetTriggerUnit()
        set s__IchigoW_count[this]=0
        set s__IchigoW_waves[this]=0
        set s__IchigoW_angle[this]=Atan3(GetUnitX(s__IchigoW_caster[this]) , GetUnitY(s__IchigoW_caster[this]) , GetSpellTargetX() , GetSpellTargetY())

        set s__IchigoW_p1x[this]=(((GetUnitX(s__IchigoW_caster[this]) )*1.0) + Cos((( s__IchigoW_angle[this] )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        set s__IchigoW_p1x[this]=(((s__IchigoW_p1x[this] )*1.0) + Cos((( s__IchigoW_angle[this] + Deg2Rad(90) )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        set s__IchigoW_p1y[this]=(((GetUnitY(s__IchigoW_caster[this]) )*1.0) + Sin((( s__IchigoW_angle[this] )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        set s__IchigoW_p1y[this]=(((s__IchigoW_p1y[this] )*1.0) + Sin((( s__IchigoW_angle[this] + Deg2Rad(90) )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        
        set s__IchigoW_p2x[this]=(((GetUnitX(s__IchigoW_caster[this]) )*1.0) + Cos((( s__IchigoW_angle[this] )*1.0)) * (( distance / 2)*1.0)) // INLINED!!
        set s__IchigoW_p2x[this]=(((s__IchigoW_p2x[this] )*1.0) + Cos((( s__IchigoW_angle[this] + Deg2Rad(- 90) )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        set s__IchigoW_p2y[this]=(((GetUnitY(s__IchigoW_caster[this]) )*1.0) + Sin((( s__IchigoW_angle[this] )*1.0)) * (( distance / 2)*1.0)) // INLINED!!
        set s__IchigoW_p2y[this]=(((s__IchigoW_p2y[this] )*1.0) + Sin((( s__IchigoW_angle[this] + Deg2Rad(- 90) )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        
        set s__IchigoW_p3x[this]=(((GetUnitX(s__IchigoW_caster[this]) )*1.0) + Cos((( s__IchigoW_angle[this] )*1.0)) * (( distance * 0.75)*1.0)) // INLINED!!
        set s__IchigoW_p3x[this]=(((s__IchigoW_p3x[this] )*1.0) + Cos((( s__IchigoW_angle[this] + Deg2Rad(90) )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        set s__IchigoW_p3y[this]=(((GetUnitY(s__IchigoW_caster[this]) )*1.0) + Sin((( s__IchigoW_angle[this] )*1.0)) * (( distance * 0.75)*1.0)) // INLINED!!
        set s__IchigoW_p3y[this]=(((s__IchigoW_p3y[this] )*1.0) + Sin((( s__IchigoW_angle[this] + Deg2Rad(90) )*1.0)) * (( distance / 4)*1.0)) // INLINED!!
        
        set s__IchigoW_p4x[this]=(((GetUnitX(s__IchigoW_caster[this]) )*1.0) + Cos((( s__IchigoW_angle[this] )*1.0)) * (( distance)*1.0)) // INLINED!!
        set s__IchigoW_p4y[this]=(((GetUnitY(s__IchigoW_caster[this]) )*1.0) + Sin((( s__IchigoW_angle[this] )*1.0)) * (( distance)*1.0)) // INLINED!!
        
        set s__IchigoW_cx[this]=s__IchigoW_p1x[this]
        set s__IchigoW_cy[this]=s__IchigoW_p1y[this]
        
        set s__IchigoW_damaged[this]=CreateGroup()
        
        //call PauseUnit(this.caster, true)
        set s__IchigoW_dummy[this]=(CreateUnit((GetOwningPlayer(s__IchigoW_caster[this]) ), ( 'e007' ), (( GetUnitX(s__IchigoW_caster[this]) )*1.0), (( GetUnitY(s__IchigoW_caster[this]) )*1.0), (( GetUnitFacing(s__IchigoW_caster[this]))*1.0))) // INLINED!!
        call SetUnitAnimation(s__IchigoW_dummy[this], "spell three")
        call SetUnitTimeScale(s__IchigoW_caster[this], 2.0)
	set s__IchigoW_count2[this]=0
        call TimerStart(NewTimerEx(this), 0.03, true, function s__IchigoW_periodic)
    endfunction 
    
        function s__IchigoW_death takes nothing returns nothing
		if GetUnitTypeId(GetTriggerUnit()) == 'e085' or GetUnitTypeId(GetTriggerUnit()) == 'nwlg' then
			call ShowUnit(GetTriggerUnit(), false)
		endif
        endfunction 
		
  function s__IchigoW_death2 takes nothing returns nothing
  local integer this2
		if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetKillingUnit()) == 'U00G' and IsUnitType(GetKillingUnit(), UNIT_TYPE_HERO) == true then
		call BlzEndUnitAbilityCooldown(GetKillingUnit(), 'A1DN')
		//call BlzStartUnitAbilityCooldown( GetTriggerUnit(), 'A1DN', 0.00 )
		endif
  endfunction

    function s__IchigoW_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__IchigoW_SPELL_ID ) , Filter(( function s__IchigoW_actions))) // INLINED!!
	call RegisterPlayerUnitEventForId(49 , EVENT_PLAYER_UNIT_DEATH , function s__IchigoW_death)
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__IchigoW_death2))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: IchigoCero
//===========================================================================
// scope IchigoCero begins

        
//Implemented from module Alloc:
    
        function s__IchigoCero___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IchigoCero___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__IchigoCero___Spell_Alloc__instanceCount=s__IchigoCero___Spell_Alloc__instanceCount + 1
                set this=s__IchigoCero___Spell_Alloc__instanceCount
            else
                set this=s__IchigoCero___Spell_Alloc__recycle[(0)]
                set s__IchigoCero___Spell_Alloc__recycle[(0)]=s__IchigoCero___Spell_Alloc__recycle[s__IchigoCero___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IchigoCero___Spell_deallocate takes integer this returns nothing
            set s__IchigoCero___Spell_Alloc__recycle[this]=s__IchigoCero___Spell_Alloc__recycle[(0)]
            set s__IchigoCero___Spell_Alloc__recycle[(0)]=this
        endfunction
    
        function s__IchigoCero___Spell_destroy takes integer this returns nothing
            call KillUnit(s__IchigoCero___Spell_arrow[this])
            call ShowUnit(s__IchigoCero___Spell_arrow[this], false)
            set s__IchigoCero___Spell_caster[this]=null
            set s__IchigoCero___Spell_arrow[this]=null
            call s__IchigoCero___Spell_deallocate(this)
        endfunction
        
        function s__IchigoCero___Spell_dealDamage takes nothing returns boolean
            local real new_x
            local real new_y
            if GetWidgetLife(GetFilterUnit()) > 0.405 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__IchigoCero___Spell_caster[s__IchigoCero___Spell_instance])) then
                set new_x=GetUnitX(GetFilterUnit())
                set new_y=GetUnitY(GetFilterUnit())
                call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl" ), (( new_x )*1.0), (( new_y)*1.0))) // INLINED!!
                call UnitDamageTarget(s__IchigoCero___Spell_caster[s__IchigoCero___Spell_instance], GetFilterUnit(), 8.0 * GetHeroAgi(s__IchigoCero___Spell_caster[s__IchigoCero___Spell_instance], true) + 3.0 * GetHeroInt(s__IchigoCero___Spell_caster[s__IchigoCero___Spell_instance], true) + 4.0 * GetHeroStr(s__IchigoCero___Spell_caster[s__IchigoCero___Spell_instance], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                call StunUnitTimed(s__IchigoCero___Spell_caster[s__IchigoCero___Spell_instance] , GetFilterUnit() , 2.0)
            endif
            return false
        endfunction 

        function s__IchigoCero___Spell_explode takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local integer i
            local real arrow_x= GetUnitX(s__IchigoCero___Spell_arrow[this])
            local real arrow_y= GetUnitY(s__IchigoCero___Spell_arrow[this])
            local real new_x
            local real new_y
            set i=1
            loop
                exitwhen i > 10
                set new_x=(((arrow_x )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                set new_y=(((arrow_y )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100.0)*1.0)) // INLINED!!
                set i=i + 1
            endloop
            call KillUnit(CreateUnit(GetOwningPlayer(s__IchigoCero___Spell_caster[this]), 'h07I', arrow_x, arrow_y, 270.0))
			set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\bossbirth.mdx", arrow_x, arrow_y)
			call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 1)
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2)
			call DestroyEffect(bj_lastCreatedEffect)
            set bj_lastCreatedGroup=CreateGroup()
            set s__IchigoCero___Spell_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, arrow_x, arrow_y, 500.0, Filter(function s__IchigoCero___Spell_dealDamage))
            call DestroyGroup(bj_lastCreatedGroup)
            call s__IchigoCero___Spell_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__IchigoCero___Spell_move takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local real arrow_x= GetUnitX(s__IchigoCero___Spell_arrow[this])
            local real arrow_y= GetUnitY(s__IchigoCero___Spell_arrow[this])
            local real new_x= (((arrow_x )*1.0) + Cos((( s__IchigoCero___Spell_angle[this] )*1.0)) * (( 75.0)*1.0)) // INLINED!!
            local real new_y= (((arrow_y )*1.0) + Sin((( s__IchigoCero___Spell_angle[this] )*1.0)) * (( 75.0)*1.0)) // INLINED!!
            local integer i
            local boolean finish= false
            set s__IchigoCero___Spell_count[this]=s__IchigoCero___Spell_count[this] + 1
            if s__IchigoCero___Spell_count[this] > 26 then
                set finish=true
            else
                call SetUnitX(s__IchigoCero___Spell_arrow[this], new_x)
                call SetUnitY(s__IchigoCero___Spell_arrow[this], new_y)
                if ModuloInteger(s__IchigoCero___Spell_count[this], 3) == 0 then
                    call SetUnitFlyHeight(bj_lastCreatedUnit, GetUnitFlyHeight(s__IchigoCero___Spell_arrow[this]), 0)
                    call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
                endif
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 300.0, null)
                loop
                    set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen bj_lastCreatedUnit == null
                    if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IchigoCero___Spell_caster[this])) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false then
                        set finish=true
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
            endif
            if finish then
                call KillUnit(s__IchigoCero___Spell_arrow[this])
                set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__IchigoCero___Spell_caster[this]), 'h07I', new_x, new_y, GetRandomReal(0, 360))
                call SetUnitTimeScale(bj_lastCreatedUnit, 2.0)
                call SetUnitScale(bj_lastCreatedUnit, 2.0, 2.0, 2.0)
                call KillUnit(bj_lastCreatedUnit)
                call TimerStart(NewTimerEx(this), 0.3, false, function s__IchigoCero___Spell_explode)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__IchigoCero___Spell_delay takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call PauseUnit(s__IchigoCero___Spell_caster[this], false)
            set s__IchigoCero___Spell_arrow[this]=CreateUnit(GetOwningPlayer(s__IchigoCero___Spell_caster[this]), 'h00Q', GetUnitX(s__IchigoCero___Spell_caster[this]), GetUnitY(s__IchigoCero___Spell_caster[this]), Rad2Deg(s__IchigoCero___Spell_angle[this]))
			call SetUnitAnimation(GetTriggerUnit(), "spell three")
            call TimerStart(NewTimerEx(this), 0.03, true, function s__IchigoCero___Spell_move)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__IchigoCero___Spell_actions takes nothing returns nothing
            local integer this= s__IchigoCero___Spell_allocate()
            set s__IchigoCero___Spell_caster[this]=GetTriggerUnit()
            set s__IchigoCero___Spell_angle[this]=Atan3(GetUnitX(s__IchigoCero___Spell_caster[this]) , GetUnitY(s__IchigoCero___Spell_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
            call PauseUnit(s__IchigoCero___Spell_caster[this], true)
            set s__IchigoCero___Spell_count[this]=0
            call SetUnitAnimation(GetTriggerUnit(), "spell three")
            call TimerStart(NewTimerEx(this), 0.6, false, function s__IchigoCero___Spell_delay)
        endfunction
        
        function s__IchigoCero___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__IchigoCero___Spell_SPELL_ID ) , Filter(( function s__IchigoCero___Spell_actions))) // INLINED!!
        endfunction
        
    
// scope IchigoCero ends
//===========================================================================
// Trigger: IchigoVastoLord
//===========================================================================

function Trig_IchigoVastoLord_Actions takes nothing returns nothing

    if GetUnitAbilityLevel(GetTriggerUnit(), 'B066') > 0 and GetEventDamage() > GetWidgetLife(GetTriggerUnit()) and GetRandomInt(0, 100) < 2 then
		call SetUnitInvulnerable(GetTriggerUnit(), true)
		call SetUnitAnimation(GetTriggerUnit(), "Stand Wounded")
		call PauseUnit(GetTriggerUnit(), true)
    		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
         		call PlaySoundOnUnitBJ(gg_snd_Ichigo_Vasto_Lorde, 110.0, GetTriggerUnit())
    		endif
		call PolledWait(2.0)
		call BlzSetUnitSkin(GetTriggerUnit(), 'e087')
		call CreateNUnitsAtLoc(1, 'h0AR', GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 270)
        	call UnitApplyTimedLifeBJ(3.00, 'BTLF', bj_lastCreatedUnit)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1D3', false)
        	call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1DS', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1DT', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1DU', false)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A092', false)
		call UnitAddAbility(GetTriggerUnit(), 'A08M')
		set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A1AK')
		call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", GetTriggerUnit())
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)
		call BlzEndUnitAbilityCooldown(GetTriggerUnit(), 'A1DQ')
		call PauseUnit(GetTriggerUnit(), false)
		call PolledWait(10.0)
		call UnitRemoveAbility(GetTriggerUnit(), 'A08M')
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1D3', true)
		if GetHeroLevel(GetTriggerUnit()) < 35 then
       			call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1DS', true)
		endif
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1DT', true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1DU', true)
		call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A092', true)
		if GetHeroLevel(GetTriggerUnit()) >= 35 then
			call BlzSetUnitSkin(GetTriggerUnit(), 'U00A')
		else
			call BlzSetUnitSkin(GetTriggerUnit(), 'H0A7')
		endif
		call SetUnitInvulnerable(GetTriggerUnit(), false)
		call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), 9999.00, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, null)
		

    endif
endfunction

function Trig_IchigoVastoLord_AddBar takes nothing returns nothing
    call AddLoadingBar(GetTriggerUnit() , 10.0)
endfunction 

function InitTrig_IchigoVastoLord_Leave takes nothing returns nothing
	if ( GetUnitTypeId(GetLeavingUnit()) == 'U00A' or GetUnitTypeId(GetLeavingUnit()) == 'U00G' or GetUnitTypeId(GetLeavingUnit()) == 'H0A7' ) then
    	    call TriggerRegisterUnitEvent(gg_trg_IchigoVastoLord, GetLeavingUnit(), EVENT_UNIT_DAMAGED)
            call GroupAddUnit(udg_Gengetsus, GetLeavingUnit())
	endif
endfunction

//===========================================================================
function InitTrig_IchigoVastoLord takes nothing returns nothing
    call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function InitTrig_IchigoVastoLord_Leave))) // INLINED!!
    call RegisterSpellEffectEventForId(49 , 'A1DQ' , function Trig_IchigoVastoLord_AddBar)
    set gg_trg_IchigoVastoLord=CreateTrigger()
    call TriggerAddAction(gg_trg_IchigoVastoLord, function Trig_IchigoVastoLord_Actions)
endfunction


//===========================================================================
// Trigger: IchigoE
//===========================================================================

//Implemented from module Alloc:
    
        function s__IchigoE_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IchigoE_Alloc__recycle[(0)] == 0 ) then
                set s__IchigoE_Alloc__instanceCount=s__IchigoE_Alloc__instanceCount + 1
                set this=s__IchigoE_Alloc__instanceCount
            else
                set this=s__IchigoE_Alloc__recycle[(0)]
                set s__IchigoE_Alloc__recycle[(0)]=s__IchigoE_Alloc__recycle[s__IchigoE_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IchigoE_deallocate takes integer this returns nothing
            set s__IchigoE_Alloc__recycle[this]=s__IchigoE_Alloc__recycle[(0)]
            set s__IchigoE_Alloc__recycle[(0)]=this
        endfunction

 function s__IchigoE_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__IchigoE_count[this]=s__IchigoE_count[this] + 1
		call SetUnitX(s__IchigoE_dummy[this], GetUnitX(s__IchigoE_dummy[this]))
		call SetUnitY(s__IchigoE_dummy[this], GetUnitY(s__IchigoE_dummy[this]))
		if s__IchigoE_count[this] > s__IchigoE_duration or GetWidgetLife(s__IchigoE_caster[this]) < 0.405 then
			set s__IchigoE_active=false
			set s__IchigoE_charges=0
			call UnitRemoveAbility(s__IchigoE_caster[this], 'A1DR')
			call SetPlayerAbilityAvailable(GetOwningPlayer(s__IchigoE_caster[this]), s__IchigoE_SPELL_ID, true)
			call RemoveUnit(s__IchigoE_dummy[this])
			set s__IchigoE_dummy[this]=null
			call s__IchigoE_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 
	
 function s__IchigoE_death takes nothing returns nothing
  local integer this2
		if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetKillingUnit()) == 'H0A7' or GetUnitTypeId(GetKillingUnit()) == 'U00A' or GetUnitTypeId(GetKillingUnit()) == 'U00G' and IsUnitType(GetKillingUnit(), UNIT_TYPE_HERO) == true and GetUnitAbilityLevel(GetKillingUnit(), 'A1DR') > 0 then
		set s__IchigoE_charges=s__IchigoE_charges + 1
		set s__IchigoE_duration=s__IchigoE_duration + 4.44 * 30
		endif
 endfunction

 function s__IchigoE_disable takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		call SetPlayerAbilityAvailable(GetOwningPlayer(s__IchigoE_caster[this]), s__IchigoE_SPELL_ID, false)
		call UnitAddAbility(s__IchigoE_caster[this], 'A1DR')
		if ( GetUnitAbilityLevel(s__IchigoE_caster[this], 'B069') > 0 ) then
			set s__IchigoE_charges=4
		elseif ( GetUnitTypeId(s__IchigoE_caster[this]) == 'U00A' or GetUnitAbilityLevel(s__IchigoE_caster[this], 'B067') > 0 or GetUnitTypeId(s__IchigoE_caster[this]) == 'U00G' ) then
			set s__IchigoE_charges=2
		else
			set s__IchigoE_charges=1
		endif
		call TimerStart(NewTimerEx(this), 0.03, true, function s__IchigoE_periodic)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__IchigoE_actions takes nothing returns nothing
  local integer this= s__IchigoE_allocate()
  local integer this2
		set s__IchigoE_duration=13.33 * 30
		set s__IchigoE_caster[this]=GetTriggerUnit()
		set s__IchigoE_count[this]=0
		set s__IchigoE_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e007', GetUnitX(s__IchigoE_caster[this]), GetUnitY(s__IchigoE_caster[this]), 270)
		call DestroyEffect(AddSpecialEffect(("RedFlash.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
		set s__IchigoE_active=true
        	call TimerStart(NewTimerEx(this), 0.1, false, function s__IchigoE_disable)
     endfunction 

    function s__IchigoE_silentkill takes nothing returns nothing
        local real x
        local real y
        local unit u
        local unit uu
        if s__IchigoE_charges > 0 then
            set x=(((GetUnitX(GetSpellTargetUnit()) )*1.0) + Cos((( Deg2Rad(GetUnitFacing(GetSpellTargetUnit())) )*1.0)) * (( 120)*1.0)) // INLINED!!
            set y=(((GetUnitY(GetSpellTargetUnit()) )*1.0) + Sin((( Deg2Rad(GetUnitFacing(GetSpellTargetUnit())) )*1.0)) * (( 120)*1.0)) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( x )*1.0), (( y)*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("war3mapImported\\Blood.mdl" ), (( GetUnitX(GetSpellTargetUnit()) )*1.0), (( GetUnitY(GetSpellTargetUnit()))*1.0))) // INLINED!!
            call UnitDamageTarget(GetTriggerUnit(), GetSpellTargetUnit(), 0.4 * GetHeroAgi(GetTriggerUnit(), true) * GetUnitAbilityLevel(GetTriggerUnit(), s__IchigoE_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
            if udg_integers13[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] >= 15 then
                call UnitDamageTarget(GetTriggerUnit(), GetSpellTargetUnit(), ( 0.25 * GetHeroInt(GetTriggerUnit(), true) + 0.25 * GetHeroStr(GetTriggerUnit(), true) + 0.5 * GetHeroAgi(GetTriggerUnit(), true) ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
            set s__IchigoE_charges=s__IchigoE_charges - 1

            set bj_lastCreatedUnit=CreateAbilityDummy(GetTriggerUnit() , 'A1DP')
	    call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A1DP', GetUnitAbilityLevel(GetTriggerUnit(), s__IchigoE_SPELL_ID))
            call IssueTargetOrder(bj_lastCreatedUnit, "innerfire", GetTriggerUnit())
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)

		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n03F', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
		call UnitAddAbility(bj_lastCreatedUnit, 'A057')
		call IssueTargetOrderBJ(bj_lastCreatedUnit, "attack", GetSpellTargetUnit())
		call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 1.0)

            
            call SetUnitFacing(GetTriggerUnit(), Rad2Deg(Atan3(x , y , GetUnitX(GetSpellTargetUnit()) , GetUnitY(GetSpellTargetUnit()))))
            set u=GetTriggerUnit()
            set uu=GetSpellTargetUnit()
            call SetUnitPosition(GetTriggerUnit(), x, y)
            call IssueTargetOrder(u, "attack", uu)
        endif
    endfunction 

    function s__IchigoE_onInit takes nothing returns nothing
        set s__IchigoE_active=false
        call RegisterSpellEffectEventForId(49 , s__IchigoE_SPELL_ID , function s__IchigoE_actions)
        call RegisterSpellEffectEventForId(49 , 'A1DR' , function s__IchigoE_silentkill)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__IchigoE_death))) // INLINED!!
    endfunction 


//===========================================================================
// Trigger: IchigoBankai
//===========================================================================
function Trig_IchigoBankai_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == ( 'A1DS' ) ) ) then
        return false
    endif
    return true
endfunction

function Trig_IchigoBankai_Actions takes nothing returns nothing
    local real x= GetUnitX(GetTriggerUnit())
    local real y= GetUnitY(GetTriggerUnit())
    local real x2
    local real y2
    local integer i
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) and GetUnitTypeId(GetTriggerUnit()) == 'H0A7' then
         call PlaySoundOnUnitBJ(gg_snd_Ichigo_R, 100.0, GetTriggerUnit())
    endif
    set i=0
    loop
        exitwhen i > 10
        set x2=(((x )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
        set y2=(((y )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h07D', x2, y2, GetRandomReal(0, 360))
        call SetUnitTimeScale(bj_lastCreatedUnit, 0.3)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        set i=i + 1
    endloop
endfunction

//===========================================================================
function InitTrig_IchigoBankai takes nothing returns nothing
    set gg_trg_IchigoBankai=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_IchigoBankai, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_IchigoBankai, Condition(function Trig_IchigoBankai_Conditions))
    call TriggerAddAction(gg_trg_IchigoBankai, function Trig_IchigoBankai_Actions)
endfunction

//===========================================================================
// Trigger: IchigoMugetsu
//===========================================================================
function Trig_IchigoMugetsu_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == ( 'A1DT' ) ) ) then
        return false
    endif
    return true
endfunction

function Trig_IchigoMugetsu_Actions takes nothing returns nothing
    local real x= GetUnitX(GetTriggerUnit())
    local real y= GetUnitY(GetTriggerUnit())
    local real x2
    local real y2
    local integer i
    set i=0
    if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) and GetUnitTypeId(GetTriggerUnit()) == 'H0A7' then
         call PlaySoundOnUnitBJ(gg_snd_Ichigo_T, 100.0, GetTriggerUnit())
    endif
    loop
        exitwhen i > 10
        set x2=(((x )*1.0) + Cos((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
        set y2=(((y )*1.0) + Sin((( Deg2Rad(36 * i) )*1.0)) * (( 100)*1.0)) // INLINED!!
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'h07D', x2, y2, GetRandomReal(0, 360))
        call SetUnitTimeScale(bj_lastCreatedUnit, 0.3)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        set i=i + 1
    endloop
endfunction

//===========================================================================
function InitTrig_IchigoMugetsu takes nothing returns nothing
    set gg_trg_IchigoMugetsu=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_IchigoMugetsu, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_IchigoMugetsu, Condition(function Trig_IchigoMugetsu_Conditions))
    call TriggerAddAction(gg_trg_IchigoMugetsu, function Trig_IchigoMugetsu_Actions)
endfunction


//===========================================================================
// Trigger: IchigoUnleash
//===========================================================================
 

    function s__IchigoUnleash_actions takes nothing returns nothing
        local unit u
    	if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call PlaySoundOnUnitBJ(gg_snd_Ichigo_R_Active, 100.0, GetTriggerUnit())
        endif
        set u=CreateAbilityDummy(GetTriggerUnit() , 'A08V')
        call IssueTargetOrder(u, "bloodlust", GetTriggerUnit())
        set u=null
    endfunction 

    function s__IchigoUnleash_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__IchigoUnleash_SPELL_ID ) , Filter(( function s__IchigoUnleash_actions))) // INLINED!!
    endfunction 

//===========================================================================
// Trigger: IchigoTLevel
//===========================================================================

 function s__IchigoTLevel_periodic takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
		if u == null then
			call ReleaseTimer(GetExpiredTimer())
		else
			if GetHeroLevel(u) >= 35 and GetUnitTypeId(GetLeavingUnit()) != 'U00A' then
				call BlzSetUnitSkin(u, 'U00A')
				call UnitRemoveAbility(u, 'A1DS')
				call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A1DS', false)

				call UnitAddAbility(u, 'A092')
				call UnitMakeAbilityPermanent(u, true, 'A092')

				call ReleaseTimer(GetExpiredTimer())
			endif
		endif
 endfunction 

 function s__IchigoTLevel_leave takes nothing returns nothing
		if GetUnitTypeId(GetLeavingUnit()) == 'H0A7' then
			call TimerStart(NewTimerEx((GetUnitUserData((GetLeavingUnit())))), 1.0, true, function s__IchigoTLevel_periodic) // INLINED!!
		endif
 endfunction 

 function s__IchigoTLevel_onInit takes nothing returns nothing
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__IchigoTLevel_leave))) // INLINED!!
 endfunction 




//===========================================================================
// Trigger: IchigoD
//===========================================================================

 function s__IchigoD_periodic takes nothing returns nothing
  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
		if u == null then
			call ReleaseTimer(GetExpiredTimer())
		else
			if udg_assists[GetPlayerId(GetOwningPlayer(u)) + 1] >= 15 and udg_integers13[GetPlayerId(GetOwningPlayer(u)) + 1] >= 15 and udg_integers14[GetPlayerId(GetOwningPlayer(u)) + 1] >= 10 and udg_integers11[GetPlayerId(GetOwningPlayer(u)) + 1] >= 150 and udg_Farm[GetPlayerId(GetOwningPlayer(u)) + 1] >= 2400 then
				
			call ModifyHeroStat(bj_HEROSTAT_INT, u, bj_MODIFYMETHOD_ADD, 25)
			call ModifyHeroStat(bj_HEROSTAT_STR, u, bj_MODIFYMETHOD_ADD, 25)
			call ModifyHeroStat(bj_HEROSTAT_AGI, u, bj_MODIFYMETHOD_ADD, 25)

			call ReleaseTimer(GetExpiredTimer())
			endif
		endif
 endfunction 

 function s__IchigoD_leave takes nothing returns nothing
		if ( GetUnitTypeId(GetLeavingUnit()) == 'H0A7' or GetUnitTypeId(GetLeavingUnit()) == 'U00A' or GetUnitTypeId(GetLeavingUnit()) == 'U00G' ) then
			call TimerStart(NewTimerEx((GetUnitUserData((GetLeavingUnit())))), 1.0, true, function s__IchigoD_periodic) // INLINED!!
		endif
 endfunction 

 function s__IchigoD_onInit takes nothing returns nothing
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__IchigoD_leave))) // INLINED!!
 endfunction 




//===========================================================================
// Trigger: IchigoSlash
//===========================================================================

//Implemented from module Alloc:
    
        function s__IchigoSlash_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IchigoSlash_Alloc__recycle[(0)] == 0 ) then
                set s__IchigoSlash_Alloc__instanceCount=s__IchigoSlash_Alloc__instanceCount + 1
                set this=s__IchigoSlash_Alloc__instanceCount
            else
                set this=s__IchigoSlash_Alloc__recycle[(0)]
                set s__IchigoSlash_Alloc__recycle[(0)]=s__IchigoSlash_Alloc__recycle[s__IchigoSlash_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IchigoSlash_deallocate takes integer this returns nothing
            set s__IchigoSlash_Alloc__recycle[this]=s__IchigoSlash_Alloc__recycle[(0)]
            set s__IchigoSlash_Alloc__recycle[(0)]=this
        endfunction

 function s__IchigoSlash_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real damage
  local real damage2
  local real x= GetUnitX(s__IchigoSlash_slash[this])
  local real y= GetUnitY(s__IchigoSlash_slash[this])
  local real new_x= (((x )*1.0) + Cos((( Deg2Rad(GetUnitFacing(s__IchigoSlash_slash[this])) )*1.0)) * (( 50)*1.0)) // INLINED!!
  local real new_y= (((y )*1.0) + Sin((( Deg2Rad(GetUnitFacing(s__IchigoSlash_slash[this])) )*1.0)) * (( 50)*1.0)) // INLINED!!
		if udg_Bounty[GetPlayerId(GetOwningPlayer(s__IchigoSlash_caster[this])) + 1] < 0 then
			set udg_Bounty[GetPlayerId(GetOwningPlayer(s__IchigoSlash_caster[this])) + 1]=0
		endif
		set damage=8 * GetHeroAgi(s__IchigoSlash_caster[this], true) + udg_Bounty[GetPlayerId(GetOwningPlayer(s__IchigoSlash_caster[this])) + 1] * 400
		set damage2=( 4 * GetHeroAgi(s__IchigoSlash_caster[this], true) + 3 * GetHeroStr(s__IchigoSlash_caster[this], true) + 3 * GetHeroInt(s__IchigoSlash_caster[this], true) ) + udg_Bounty[GetPlayerId(GetOwningPlayer(s__IchigoSlash_caster[this])) + 1] * 200
		call SetUnitX(s__IchigoSlash_slash[this], new_x)
		call SetUnitY(s__IchigoSlash_slash[this], new_y)

		set bj_lastCreatedEffect=AddSpecialEffect("war3mapImported\\ShadowAssault.mdl", new_x, new_y)
		call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 1.8)
		call DestroyEffect(bj_lastCreatedEffect)

		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 200, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IchigoSlash_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__IchigoSlash_damaged[this]) then
				call GroupAddUnit(s__IchigoSlash_damaged[this], bj_lastCreatedUnit)
				if damage >= damage2 then
					call UnitDamageTarget(s__IchigoSlash_caster[this], bj_lastCreatedUnit, damage, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				else
					call UnitDamageTarget(s__IchigoSlash_caster[this], bj_lastCreatedUnit, damage2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
				endif
				//call AddSpecialEffectEx("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetUnitX(bj_lastCreatedUnit), GetUnitY(bj_lastCreatedUnit))
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__IchigoSlash_count[this]=s__IchigoSlash_count[this] + 1
		if s__IchigoSlash_count[this] >= 25 then
			set udg_Bounty[GetPlayerId(GetOwningPlayer(s__IchigoSlash_caster[this])) + 1]=0
			call KillUnit(s__IchigoSlash_slash[this])
			call PauseUnit(s__IchigoSlash_caster[this], false)
			set s__IchigoSlash_slash[this]=null
			call DestroyGroup(s__IchigoSlash_damaged[this])
			set s__IchigoSlash_damaged[this]=null
			call s__IchigoSlash_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__IchigoSlash_actions takes nothing returns nothing
  local integer this= s__IchigoSlash_allocate()
  local real angle= Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
		set s__IchigoSlash_caster[this]=GetTriggerUnit()
		set s__IchigoSlash_slash[this]=CreateUnit(GetTriggerPlayer(), 'h0AE', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), Rad2Deg(angle))
		set s__IchigoSlash_damaged[this]=CreateGroup()
		set s__IchigoSlash_count[this]=0
    		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
	 		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Ichigo: The Final Getsuga Tensho is when I become Getsuga itself!|r")
         		call PlaySoundOnUnitBJ(gg_snd_Ichigo_R_Transform, 100.0, GetTriggerUnit())
    		endif
		call PauseUnit(s__IchigoSlash_caster[this], true)
		call TimerStart(NewTimerEx(this), 0.03, true, function s__IchigoSlash_periodic)
 endfunction 

 function s__IchigoSlash_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(49 , s__IchigoSlash_SPELL_ID , function s__IchigoSlash_actions)
 endfunction

//===========================================================================
// Trigger: IchigoAttacks
//===========================================================================
        
//Implemented from module Alloc:
    
        function s__IchigoAttacks_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IchigoAttacks_Alloc__recycle[(0)] == 0 ) then
                set s__IchigoAttacks_Alloc__instanceCount=s__IchigoAttacks_Alloc__instanceCount + 1
                set this=s__IchigoAttacks_Alloc__instanceCount
            else
                set this=s__IchigoAttacks_Alloc__recycle[(0)]
                set s__IchigoAttacks_Alloc__recycle[(0)]=s__IchigoAttacks_Alloc__recycle[s__IchigoAttacks_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IchigoAttacks_deallocate takes integer this returns nothing
            set s__IchigoAttacks_Alloc__recycle[this]=s__IchigoAttacks_Alloc__recycle[(0)]
            set s__IchigoAttacks_Alloc__recycle[(0)]=this
        endfunction
        
        function s__IchigoAttacks_critical_actions takes unit caster,unit target returns nothing
            local real caster_x= GetUnitX(caster)
            local real caster_y= GetUnitY(caster)
            local real target_x= GetUnitX(target)
            local real target_y= GetUnitY(target)
            local real angle= Atan2(( target_y - caster_y ), ( target_x - caster_x ))
            local real distance_x= target_x - caster_x
            local real distance_y= target_y - caster_y
            local real distance= SquareRoot(distance_x * distance_x + distance_y * distance_y)
            local real new_x= target_x + Cos(angle) * distance
            local real new_y= target_y + Sin(angle) * distance
	    if not IsTerrainPathable(new_x, new_y, PATHING_TYPE_WALKABILITY) then
		call SetUnitX(caster, new_x)
		call SetUnitY(caster, new_y)
	    endif
            call DestroyEffect(AddSpecialEffect(("blackblink.mdx" ), (( caster_x )*1.0), (( caster_y)*1.0))) // INLINED!!
            call DestroyEffect(AddSpecialEffect(("RedFlash.mdl" ), (( target_x )*1.0), (( target_y)*1.0))) // INLINED!!
            call UnitDamageTarget(caster, target, ( GetHeroStr(caster, true) + GetHeroAgi(caster, true) + GetHeroInt(caster, true) ), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
        endfunction
        
        function s__IchigoAttacks_critical takes nothing returns nothing
            local integer i= GetRandomInt(1, 100)
            if GetUnitTypeId(GetAttacker()) == 'U00G' and IsUnitEnemy(GetAttacker(), GetTriggerPlayer()) and i <= 100 then
                call s__IchigoAttacks_critical_actions(GetAttacker() , GetTriggerUnit())
            endif
        endfunction
        
        function s__IchigoAttacks_onInit takes nothing returns nothing
            call RegisterPlayerUnitEventForId(49 , EVENT_PLAYER_UNIT_ATTACKED , function s__IchigoAttacks_critical)
        endfunction
        

//===========================================================================
// Trigger: IchigoAbillities
//===========================================================================
// scope IchigoAbiltiies begins

    
//Implemented from module Alloc:
    
        function s__IchigoAbiltiies___Spell_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IchigoAbiltiies___Spell_Alloc__recycle[(0)] == 0 ) then
                set s__IchigoAbiltiies___Spell_Alloc__instanceCount=s__IchigoAbiltiies___Spell_Alloc__instanceCount + 1
                set this=s__IchigoAbiltiies___Spell_Alloc__instanceCount
            else
                set this=s__IchigoAbiltiies___Spell_Alloc__recycle[(0)]
                set s__IchigoAbiltiies___Spell_Alloc__recycle[(0)]=s__IchigoAbiltiies___Spell_Alloc__recycle[s__IchigoAbiltiies___Spell_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IchigoAbiltiies___Spell_deallocate takes integer this returns nothing
            set s__IchigoAbiltiies___Spell_Alloc__recycle[this]=s__IchigoAbiltiies___Spell_Alloc__recycle[(0)]
            set s__IchigoAbiltiies___Spell_Alloc__recycle[(0)]=this
        endfunction
        
        
        function s__IchigoAbiltiies___Spell_destroy takes integer this returns nothing
            set s__IchigoAbiltiies___Spell_caster[this]=null
            call s__IchigoAbiltiies___Spell_deallocate(this)
        endfunction
        
        function s__IchigoAbiltiies___Spell_periodic takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            if GetUnitTypeId(s__IchigoAbiltiies___Spell_caster[this]) != 'U00G' then
            	call SetPlayerAbilityAvailable(GetOwningPlayer(s__IchigoAbiltiies___Spell_caster[this]), 'A092', true)
                call s__IchigoAbiltiies___Spell_destroy(this)
                call ReleaseTimer(GetExpiredTimer())
            endif
        endfunction
        
        function s__IchigoAbiltiies___Spell_delay takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__IchigoAbiltiies___Spell_caster[this]), 'A092', false)
            call TimerStart(NewTimerEx(this), 0.03, true, function s__IchigoAbiltiies___Spell_periodic)
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__IchigoAbiltiies___Spell_actions takes nothing returns nothing
            local integer this= s__IchigoAbiltiies___Spell_allocate()
            set s__IchigoAbiltiies___Spell_caster[this]=GetTriggerUnit()
            if GetUnitTypeId(s__IchigoAbiltiies___Spell_caster[this]) == 'H0A7' then
                call TimerStart(NewTimerEx(this), 1.5, false, function s__IchigoAbiltiies___Spell_delay)
            endif
        endfunction
        
        function s__IchigoAbiltiies___Spell_onInit takes nothing returns nothing
            call RegisterSpellEffectEvent2((s__IchigoAbiltiies___Spell_SPELL_ID ) , Filter(( function s__IchigoAbiltiies___Spell_actions))) // INLINED!!
        endfunction
        
    
// scope IchigoAbiltiies ends
//===========================================================================
// Trigger: InoMindDistraction
//===========================================================================

//Implemented from module Alloc:
    
        function s__InoMindDistraction_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__InoMindDistraction_Alloc__recycle[(0)] == 0 ) then
                set s__InoMindDistraction_Alloc__instanceCount=s__InoMindDistraction_Alloc__instanceCount + 1
                set this=s__InoMindDistraction_Alloc__instanceCount
            else
                set this=s__InoMindDistraction_Alloc__recycle[(0)]
                set s__InoMindDistraction_Alloc__recycle[(0)]=s__InoMindDistraction_Alloc__recycle[s__InoMindDistraction_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__InoMindDistraction_deallocate takes integer this returns nothing
            set s__InoMindDistraction_Alloc__recycle[this]=s__InoMindDistraction_Alloc__recycle[(0)]
            set s__InoMindDistraction_Alloc__recycle[(0)]=this
        endfunction
    
    function s__InoMindDistraction_destroy takes integer this returns nothing
	call PauseUnit(s__InoMindDistraction_caster[this], false)
        call KillUnit(s__InoMindDistraction_bomb[this])
        call ShowUnit(s__InoMindDistraction_bomb[this], false)
        set s__InoMindDistraction_bomb[this]=null
        set s__InoMindDistraction_caster[this]=null
	set s__InoMindDistraction_target[this]=null
        call s__InoMindDistraction_deallocate(this)
    endfunction
    
    function s__InoMindDistraction_damage takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set bj_lastCreatedEffect=AddSpecialEffect("AnimationExplosion.mdx", GetUnitX(s__InoMindDistraction_bomb[this]), GetUnitY(s__InoMindDistraction_bomb[this]))
        call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 3.0)
        call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 0.7)
        call DestroyEffect(bj_lastCreatedEffect)

        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__InoMindDistraction_bomb[this]), GetUnitY(s__InoMindDistraction_bomb[this]), 250.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__InoMindDistraction_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                call UnitDamageTarget(s__InoMindDistraction_caster[this], bj_lastCreatedUnit, 80 * GetUnitAbilityLevel(s__InoMindDistraction_caster[this], s__InoMindDistraction_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		if bj_lastCreatedUnit != s__InoMindDistraction_target[this] then
			call StunUnitTimed(s__InoMindDistraction_caster[this] , bj_lastCreatedUnit , 2.0)
		endif
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        call s__InoMindDistraction_destroy(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__InoMindDistraction_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call StunUnitTimed(s__InoMindDistraction_caster[this] , s__InoMindDistraction_target[this] , 2.0)
        call SetUnitFacing(s__InoMindDistraction_caster[this], s__InoMindDistraction_angle[this])
        call IssueImmediateOrder(s__InoMindDistraction_caster[this], "stop")
        call SetUnitAnimation(s__InoMindDistraction_caster[this], "Spell Channel")
        call PauseUnit(s__InoMindDistraction_caster[this], true)
        call SetUnitAnimation(s__InoMindDistraction_target[this], "death")
        call TimerStart(NewTimerEx(this), 0.5, false, function s__InoMindDistraction_damage)
    endfunction

    function s__InoMindDistraction_actions takes nothing returns nothing
        local integer this= s__InoMindDistraction_allocate()
        set s__InoMindDistraction_caster[this]=GetTriggerUnit()
        set s__InoMindDistraction_target[this]=GetSpellTargetUnit()
	set s__InoMindDistraction_angle[this]=Atan3(GetUnitX(s__InoMindDistraction_caster[this]) , GetUnitY(s__InoMindDistraction_caster[this]) , GetUnitX(s__InoMindDistraction_target[this]) , GetUnitY(s__InoMindDistraction_target[this]))
        set s__InoMindDistraction_bomb[this]=CreateUnit(GetTriggerPlayer(), 'h00I', GetUnitX(s__InoMindDistraction_target[this]), GetUnitY(s__InoMindDistraction_target[this]), 270)
        call TimerStart(NewTimerEx(this), 0.1, false, function s__InoMindDistraction_delay)
    endfunction
    
    function s__InoMindDistraction_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__InoMindDistraction_SPELL_ID ) , Filter(( function s__InoMindDistraction_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: InoPetals
//===========================================================================

//Implemented from module Alloc:
    
        function s__InoPetals_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__InoPetals_Alloc__recycle[(0)] == 0 ) then
                set s__InoPetals_Alloc__instanceCount=s__InoPetals_Alloc__instanceCount + 1
                set this=s__InoPetals_Alloc__instanceCount
            else
                set this=s__InoPetals_Alloc__recycle[(0)]
                set s__InoPetals_Alloc__recycle[(0)]=s__InoPetals_Alloc__recycle[s__InoPetals_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__InoPetals_deallocate takes integer this returns nothing
            set s__InoPetals_Alloc__recycle[this]=s__InoPetals_Alloc__recycle[(0)]
            set s__InoPetals_Alloc__recycle[(0)]=this
        endfunction
    
    function s__InoPetals_destroy takes integer this returns nothing
        call KillUnit(s__InoPetals_flowers[this])
        call ShowUnit(s__InoPetals_flowers[this], false)
        call DestroyGroup(s__InoPetals_damaged[this])
        set s__InoPetals_flowers[this]=null
        set s__InoPetals_damaged[this]=null
        set s__InoPetals_caster[this]=null
        call s__InoPetals_deallocate(this)
    endfunction
    
    function s__InoPetals_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__InoPetals_flowers[this])
        local real y= GetUnitY(s__InoPetals_flowers[this])
        local real new_x= (((x )*1.0) + Cos((( s__InoPetals_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__InoPetals_angle[this] )*1.0)) * (( 25)*1.0)) // INLINED!!
        local real angle
        local real offset
        local real x1
        local real y1
        set s__InoPetals_count[this]=s__InoPetals_count[this] + 1
        call SetUnitX(s__InoPetals_flowers[this], new_x)
        call SetUnitY(s__InoPetals_flowers[this], new_y)

        if ModuloInteger(s__InoPetals_count[this], 5) == 0 then
            set angle=Deg2Rad(GetRandomReal(0, 360))
            set offset=GetRandomReal(- 150, 150)
            set x1=(((GetUnitX(s__InoPetals_flowers[this]) )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set y1=(((GetUnitY(s__InoPetals_flowers[this]) )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
            set bj_lastCreatedEffect=AddSpecialEffect("Boom.mdx", x1, y1)
            call BlzSetSpecialEffectScale(bj_lastCreatedEffect, GetRandomReal(0.4, 0.6))
            call DestroyEffect(bj_lastCreatedEffect)
            set bj_lastCreatedEffect=AddSpecialEffect("AnimationExplosion.mdx", x1, y1)
            call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, 50 + GetPointZ(new_x , new_y))
            call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.0)
            call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 0.5)
            call DestroyEffect(bj_lastCreatedEffect)
        endif

        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, new_x, new_y, 250.0, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__InoPetals_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and not IsUnitInGroup(bj_lastCreatedUnit, s__InoPetals_damaged[this]) then
             call UnitDamageTarget(s__InoPetals_caster[this], bj_lastCreatedUnit, GetHeroInt(s__InoPetals_caster[this], true) * GetUnitAbilityLevel(s__InoPetals_caster[this], s__InoPetals_SPELL_ID), true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
             call GroupAddUnit(s__InoPetals_damaged[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        if s__InoPetals_count[this] > 39 then
            call s__InoPetals_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction
    
    function s__InoPetals_actions takes nothing returns nothing
        local integer this= s__InoPetals_allocate()
        set s__InoPetals_caster[this]=GetTriggerUnit()
        set s__InoPetals_damaged[this]=CreateGroup()
        set s__InoPetals_angle[this]=Atan3(GetUnitX(s__InoPetals_caster[this]) , GetUnitY(s__InoPetals_caster[this]) , GetSpellTargetX() , GetSpellTargetY())
        set s__InoPetals_flowers[this]=CreateUnit(GetTriggerPlayer(), 'h01G', GetUnitX(s__InoPetals_caster[this]), GetUnitY(s__InoPetals_caster[this]), s__InoPetals_angle[this])
        set s__InoPetals_count[this]=0
        call TimerStart(NewTimerEx(this), 0.03, true, function s__InoPetals_periodic)
    endfunction
    
    function s__InoPetals_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2((s__InoPetals_SPELL_ID ) , Filter(( function s__InoPetals_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: InoHealingPetals
//===========================================================================

//Implemented from module Alloc:
    
        function s__InoHealingPetals_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__InoHealingPetals_Alloc__recycle[(0)] == 0 ) then
                set s__InoHealingPetals_Alloc__instanceCount=s__InoHealingPetals_Alloc__instanceCount + 1
                set this=s__InoHealingPetals_Alloc__instanceCount
            else
                set this=s__InoHealingPetals_Alloc__recycle[(0)]
                set s__InoHealingPetals_Alloc__recycle[(0)]=s__InoHealingPetals_Alloc__recycle[s__InoHealingPetals_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__InoHealingPetals_deallocate takes integer this returns nothing
            set s__InoHealingPetals_Alloc__recycle[this]=s__InoHealingPetals_Alloc__recycle[(0)]
            set s__InoHealingPetals_Alloc__recycle[(0)]=this
        endfunction

 function s__InoHealingPetals_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		set s__InoHealingPetals_count[this]=s__InoHealingPetals_count[this] + 1
		if s__InoHealingPetals_count[this] > 10 then
			set s__InoHealingPetals_caster[this]=null
			call s__InoHealingPetals_deallocate(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__InoHealingPetals_actions takes nothing returns nothing
  local integer this= s__InoHealingPetals_allocate()
		set s__InoHealingPetals_caster[this]=GetTriggerUnit()
		set s__InoHealingPetals_FlowerLevel=GetUnitAbilityLevel(s__InoHealingPetals_caster[this], s__InoHealingPetals_SPELL_ID)
		call TimerStart(NewTimerEx(this), 1.0, true, function s__InoHealingPetals_periodic)
 endfunction 

 function s__InoHealingPetals_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2((s__InoHealingPetals_SPELL_ID ) , Filter(( function s__InoHealingPetals_actions))) // INLINED!!
 endfunction

//===========================================================================
// Trigger: Kekka Giji
//===========================================================================

//Implemented from module Alloc:
    
        function s__InoNewSemi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__InoNewSemi_Alloc__recycle[(0)] == 0 ) then
                set s__InoNewSemi_Alloc__instanceCount=s__InoNewSemi_Alloc__instanceCount + 1
                set this=s__InoNewSemi_Alloc__instanceCount
            else
                set this=s__InoNewSemi_Alloc__recycle[(0)]
                set s__InoNewSemi_Alloc__recycle[(0)]=s__InoNewSemi_Alloc__recycle[s__InoNewSemi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__InoNewSemi_deallocate takes integer this returns nothing
            set s__InoNewSemi_Alloc__recycle[this]=s__InoNewSemi_Alloc__recycle[(0)]
            set s__InoNewSemi_Alloc__recycle[(0)]=this
        endfunction

    function s__InoNewSemi_damagefix takes nothing returns boolean
	    if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__InoNewSemi_caster[s__InoNewSemi_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
            call UnitDamageTarget(s__InoNewSemi_caster[s__InoNewSemi_instance], GetFilterUnit(), 5 * GetHeroInt(s__InoNewSemi_caster[s__InoNewSemi_instance], true) + 600 * GetUnitAbilityLevel(s__InoNewSemi_caster[s__InoNewSemi_instance], s__InoNewSemi_SPELL_ID), true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_MAGIC, null)
        endif
        return false
    endfunction

    function s__InoNewSemi_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle= Atan3(GetUnitX(s__InoNewSemi_caster[this]) , GetUnitY(s__InoNewSemi_caster[this]) , s__InoNewSemi_x[this] , s__InoNewSemi_y[this])
        local real x= (((GetUnitX(s__InoNewSemi_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( s__InoNewSemi_dist[this] / 33.0)*1.0)) // INLINED!!
        local real y= (((GetUnitY(s__InoNewSemi_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( s__InoNewSemi_dist[this] / 33.0)*1.0)) // INLINED!!
        local integer i= 0
        call SetUnitX(s__InoNewSemi_caster[this], x)
        call SetUnitY(s__InoNewSemi_caster[this], y)
        call SetUnitFlyHeight(s__InoNewSemi_caster[this], ParabolaZ(500 , s__InoNewSemi_dist[this] , s__InoNewSemi_dist[this] / 33.0 * s__InoNewSemi_count[this]), 0)
        loop
            exitwhen i > 23
            set x=(((s__InoNewSemi_x[this] )*1.0) + Cos((( Deg2Rad(15 * i) )*1.0)) * (( 300 - 9 * s__InoNewSemi_count[this])*1.0)) // INLINED!!
            set y=(((s__InoNewSemi_y[this] )*1.0) + Sin((( Deg2Rad(15 * i) )*1.0)) * (( 300 - 9 * s__InoNewSemi_count[this])*1.0)) // INLINED!!
            call BlzSetSpecialEffectX(s__s__InoNewSemi_petals[(this)*(1)+i], x)
            call BlzSetSpecialEffectY(s__s__InoNewSemi_petals[(this)*(1)+i], y)
            set i=i + 1
        endloop
        set s__InoNewSemi_count[this]=s__InoNewSemi_count[this] + 1
        if s__InoNewSemi_count[this] == 10 then
            call SetUnitAnimation(s__InoNewSemi_caster[this], "spell one")
        endif
        if s__InoNewSemi_count[this] == 20 then
            call SetUnitAnimation(s__InoNewSemi_caster[this], "spell three")
        endif
        if s__InoNewSemi_count[this] > 33 then
            set i=0
            loop
                exitwhen i > 23
                call DestroyEffect(s__s__InoNewSemi_petals[(this)*(1)+i])
                set s__s__InoNewSemi_petals[(this)*(1)+i]= null
                set i=i + 1
            endloop
            call SetUnitFlyHeight(s__InoNewSemi_caster[this], 0, 0)
            call SetUnitTimeScale(s__InoNewSemi_caster[this], 1.0)
            call SetUnitX(s__InoNewSemi_caster[this], s__InoNewSemi_x[this])
            call SetUnitY(s__InoNewSemi_caster[this], s__InoNewSemi_y[this])
	//set bj_lastCreatedEffect = AddSpecialEffect("DustWave.mdx", this.x, this.y)
	//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.0)
	//call DestroyEffect(bj_lastCreatedEffect)

           // call AddSpecialEffectEx("war3mapImported\\Ground Crack.mdx", this.x, this.y)
	    call DestroyEffect(AddSpecialEffect(("AnimeGroundSmack.mdx" ), (( s__InoNewSemi_x[this] )*1.0), (( s__InoNewSemi_y[this])*1.0))) // INLINED!!
            call TerrainDeformationRippleBJ(1.00, false, Location(s__InoNewSemi_x[this], s__InoNewSemi_y[this]), 300.00, 300.00, 300.00, 1, 512)
            set bj_lastCreatedGroup=CreateGroup()
            set s__InoNewSemi_instance=this
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__InoNewSemi_x[this], s__InoNewSemi_y[this], 350, Filter(function s__InoNewSemi_damagefix))
            call DestroyGroup(bj_lastCreatedGroup)
            call DestroyEffect(s__InoNewSemi_e[this])
            set s__InoNewSemi_e[this]=null
            call s__InoNewSemi_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__InoNewSemi_actions takes nothing returns nothing
        local integer this= s__InoNewSemi_allocate()
        local integer i= 0
        local real x
        local real y
        set s__InoNewSemi_caster[this]=GetTriggerUnit()
        set s__InoNewSemi_x[this]=GetSpellTargetX()
        set s__InoNewSemi_y[this]=GetSpellTargetY()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Ino_R, 100.0, GetTriggerUnit())
        endif
        call SetUnitTimeScale(s__InoNewSemi_caster[this], 2.0)
        call SetUnitAnimation(s__InoNewSemi_caster[this], "spell two")
        loop
            exitwhen i > 23
            set x=(((s__InoNewSemi_x[this] )*1.0) + Cos((( Deg2Rad(15 * i) )*1.0)) * (( 300)*1.0)) // INLINED!!
            set y=(((s__InoNewSemi_y[this] )*1.0) + Sin((( Deg2Rad(15 * i) )*1.0)) * (( 300)*1.0)) // INLINED!!
            set s__s__InoNewSemi_petals[(this)*(1)+i]= AddSpecialEffect("s_MagicElectricMissile.mdl", x, y)
            call BlzSetSpecialEffectScale(s__s__InoNewSemi_petals[(this)*(1)+i], 2.0)
            set i=i + 1
        endloop
        set s__InoNewSemi_e[this]=AddSpecialEffectTargetUnitBJ("origin", s__InoNewSemi_caster[this], "Abilities\\Weapons\\FaerieDragonMissile\\FaerieDragonMissile.mdl")
        set s__InoNewSemi_dist[this]=GetDistance(GetUnitX(s__InoNewSemi_caster[this]) , GetUnitY(s__InoNewSemi_caster[this]) , s__InoNewSemi_x[this] , s__InoNewSemi_y[this])
        set s__InoNewSemi_count[this]=0
	set bj_lastCreatedGroup=CreateGroup()
	set s__InoNewSemi_instance=this
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__InoNewSemi_x[this], s__InoNewSemi_y[this], 350, null)
        loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__InoNewSemi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call EsnareUnitTimed(s__InoNewSemi_caster[this] , bj_lastCreatedUnit , 2.0)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__InoNewSemi_periodic)
    endfunction 

    function s__InoNewSemi_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(31 , s__InoNewSemi_SPELL_ID , function s__InoNewSemi_actions)
    endfunction 


//===========================================================================
// Trigger: InoNewChouShinka
//===========================================================================

//Implemented from module Alloc:
    
        function s__InoNewChouShinka_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__InoNewChouShinka_Alloc__recycle[(0)] == 0 ) then
                set s__InoNewChouShinka_Alloc__instanceCount=s__InoNewChouShinka_Alloc__instanceCount + 1
                set this=s__InoNewChouShinka_Alloc__instanceCount
            else
                set this=s__InoNewChouShinka_Alloc__recycle[(0)]
                set s__InoNewChouShinka_Alloc__recycle[(0)]=s__InoNewChouShinka_Alloc__recycle[s__InoNewChouShinka_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__InoNewChouShinka_deallocate takes integer this returns nothing
            set s__InoNewChouShinka_Alloc__recycle[this]=s__InoNewChouShinka_Alloc__recycle[(0)]
            set s__InoNewChouShinka_Alloc__recycle[(0)]=this
        endfunction
	
 function s__InoNewChouShinka_damagefix takes nothing returns boolean
		if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__InoNewChouShinka_caster[s__InoNewChouShinka_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
			call UnitDamageTarget(s__InoNewChouShinka_caster[s__InoNewChouShinka_instance], GetFilterUnit(), 12 * GetHeroInt(s__InoNewChouShinka_caster[s__InoNewChouShinka_instance], true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
			endif
	return false
 endfunction

 function s__InoNewChouShinka_delay takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
		loop
			set s__InoNewChouShinka_count[this]=s__InoNewChouShinka_count[this] - 1
			exitwhen s__InoNewChouShinka_count[this] < 0
			call DestroyEffect(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]])
			set s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]]= null
		endloop
		set bj_lastCreatedEffect=AddSpecialEffect("DeidaraNewT.mdl", s__InoNewChouShinka_target_x[this], s__InoNewChouShinka_target_y[this])
		//call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 0.7)
		call BlzSetSpecialEffectTimeScale(bj_lastCreatedEffect, 2.0)
		call DestroyEffect(bj_lastCreatedEffect)
		set bj_lastCreatedGroup=CreateGroup()
		set s__InoNewChouShinka_instance=this
		call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__InoNewChouShinka_target_x[this], s__InoNewChouShinka_target_y[this], 600, Filter(function s__InoNewChouShinka_damagefix))
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		call s__InoNewChouShinka_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
 endfunction 

 function s__InoNewChouShinka_periodic2 takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= (((s__InoNewChouShinka_target_x[this] )*1.0) + Cos((( s__InoNewChouShinka_angle[this] )*1.0)) * (( s__InoNewChouShinka_dist[this])*1.0)) // INLINED!!
  local real y= (((s__InoNewChouShinka_target_y[this] )*1.0) + Sin((( s__InoNewChouShinka_angle[this] )*1.0)) * (( s__InoNewChouShinka_dist[this])*1.0)) // INLINED!!
		set s__InoNewChouShinka_angle[this]=s__InoNewChouShinka_angle[this] + 15
		set s__InoNewChouShinka_dist[this]=s__InoNewChouShinka_dist[this] - 6
		call DestroyEffect(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]])
		set s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]]= AddSpecialEffect("note.mdl", x, y)
		call BlzSetSpecialEffectScale(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]], GetRandomReal(2, 2.5))
		call BlzSetSpecialEffectHeight(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]], GetRandomReal(25, 50) + GetPointZ(x , y) + 20)
		call BlzSetSpecialEffectRoll(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]], GetRandomReal(0, 2 * bj_PI))
		set s__InoNewChouShinka_count[this]=s__InoNewChouShinka_count[this] + 1
		if s__InoNewChouShinka_count[this] > 66 then
			call TimerStart(NewTimerEx(this), 0.25, false, function s__InoNewChouShinka_delay)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__InoNewChouShinka_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local real x= (((s__InoNewChouShinka_target_x[this] )*1.0) + Cos((( s__InoNewChouShinka_angle[this] )*1.0)) * (( s__InoNewChouShinka_dist[this])*1.0)) // INLINED!!
  local real y= (((s__InoNewChouShinka_target_y[this] )*1.0) + Sin((( s__InoNewChouShinka_angle[this] )*1.0)) * (( s__InoNewChouShinka_dist[this])*1.0)) // INLINED!!
		set s__InoNewChouShinka_angle[this]=s__InoNewChouShinka_angle[this] + 15
		set s__InoNewChouShinka_dist[this]=s__InoNewChouShinka_dist[this] - 6
		set s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]]= AddSpecialEffect("war3mapImported\\Senbonzakura.mdx", x, y) //s_ArcaneRocket Projectile.mdl", x, y)
		call BlzSetSpecialEffectScale(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]], GetRandomReal(1, 1.5))
		call BlzSetSpecialEffectHeight(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]], GetRandomReal(75, 125) + GetPointZ(x , y))
		call BlzSetSpecialEffectYaw(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]], GetRandomReal(0, 2 * bj_PI))
		call BlzSetSpecialEffectPitch(s__s__InoNewChouShinka_petals[(this)*(1)+s__InoNewChouShinka_count[this]], - 1.57)
		set s__InoNewChouShinka_count[this]=s__InoNewChouShinka_count[this] + 1
		if s__InoNewChouShinka_count[this] > 66 then
			set s__InoNewChouShinka_dist[this]=500
			set s__InoNewChouShinka_angle[this]=0
			set s__InoNewChouShinka_count[this]=0
			call TimerStart(NewTimerEx(this), 0.01, true, function s__InoNewChouShinka_periodic2)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__InoNewChouShinka_actions takes nothing returns nothing
  local integer this= s__InoNewChouShinka_allocate()
		if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
        		call PlaySoundOnUnitBJ(gg_snd_Ino_T_Cho_Shinka, 100.0, GetTriggerUnit())
    		endif
		set s__InoNewChouShinka_caster[this]=GetTriggerUnit()
		set s__InoNewChouShinka_count[this]=0
		set s__InoNewChouShinka_dist[this]=500
		set s__InoNewChouShinka_angle[this]=0
		set s__InoNewChouShinka_target_x[this]=GetSpellTargetX()
		set s__InoNewChouShinka_target_y[this]=GetSpellTargetY()
		call TimerStart(NewTimerEx(this), 0.02, true, function s__InoNewChouShinka_periodic)
 endfunction 

 function s__InoNewChouShinka_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(31 , s__InoNewChouShinka_SPELL_ID , function s__InoNewChouShinka_actions)
 endfunction 

//===========================================================================
// Trigger: InoNewD
//===========================================================================

//Implemented from module Alloc:
    
        function s__InoNewD_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__InoNewD_Alloc__recycle[(0)] == 0 ) then
                set s__InoNewD_Alloc__instanceCount=s__InoNewD_Alloc__instanceCount + 1
                set this=s__InoNewD_Alloc__instanceCount
            else
                set this=s__InoNewD_Alloc__recycle[(0)]
                set s__InoNewD_Alloc__recycle[(0)]=s__InoNewD_Alloc__recycle[s__InoNewD_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__InoNewD_deallocate takes integer this returns nothing
            set s__InoNewD_Alloc__recycle[this]=s__InoNewD_Alloc__recycle[(0)]
            set s__InoNewD_Alloc__recycle[(0)]=this
        endfunction

    function s__InoNewD_destroy takes integer this returns nothing
       call KillUnit(s__InoNewD_dummy[this])
       set s__InoNewD_target[this]=null
       set s__InoNewD_dummy[this]=null
       set udg_InoMindControlTarget=null
       call s__InoNewD_deallocate(this)
       call ReleaseTimer(GetExpiredTimer())
    endfunction

    function s__InoNewD_delay takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call s__InoNewD_destroy(this)
    endfunction
    
    function s__InoNewD_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call SetUnitX(s__InoNewD_dummy[this], GetUnitX(s__InoNewD_target[this]))
        call SetUnitY(s__InoNewD_dummy[this], GetUnitY(s__InoNewD_target[this]))
        call TimerStart(NewTimerEx(this), 20.0, true, function s__InoNewD_delay)
	if GetWidgetLife(s__InoNewD_target[this]) < 0.405 then
		call s__InoNewD_destroy(this)
	endif
    endfunction
    
    function s__InoNewD_actions takes nothing returns nothing
        local integer this= s__InoNewD_allocate()
        set s__InoNewD_target[this]=GetSpellTargetUnit()
        set s__InoNewD_dummy[this]=CreateUnit(GetTriggerPlayer(), 'e07R', GetUnitX(s__InoNewD_target[this]), GetUnitY(s__InoNewD_target[this]), 270)
	set udg_InoMindControlTarget=GetSpellTargetUnit()
        call TimerStart(NewTimerEx(this), 0.1, true, function s__InoNewD_periodic)
    endfunction
    
    function s__InoNewD_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(31 , 'A1CE' , function s__InoNewD_actions)
    endfunction
    
//===========================================================================
// Trigger: IrukaMakibishi
//===========================================================================


//Implemented from module Alloc:
    
        function s__IrukaMakibishi_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IrukaMakibishi_Alloc__recycle[(0)] == 0 ) then
                set s__IrukaMakibishi_Alloc__instanceCount=s__IrukaMakibishi_Alloc__instanceCount + 1
                set this=s__IrukaMakibishi_Alloc__instanceCount
            else
                set this=s__IrukaMakibishi_Alloc__recycle[(0)]
                set s__IrukaMakibishi_Alloc__recycle[(0)]=s__IrukaMakibishi_Alloc__recycle[s__IrukaMakibishi_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IrukaMakibishi_deallocate takes integer this returns nothing
            set s__IrukaMakibishi_Alloc__recycle[this]=s__IrukaMakibishi_Alloc__recycle[(0)]
            set s__IrukaMakibishi_Alloc__recycle[(0)]=this
        endfunction
    
    function s__IrukaMakibishi_periodic takes nothing returns nothing
 local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
	set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__IrukaMakibishi_x[this], s__IrukaMakibishi_y[this], 400, null)
	loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IrukaMakibishi_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and not IsUnitInGroup(bj_lastCreatedUnit, s__IrukaMakibishi_damaged[this]) then
			call UnitDamageTarget(s__IrukaMakibishi_caster[this], bj_lastCreatedUnit, 3 * GetHeroAgi(s__IrukaMakibishi_caster[this], true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			call GroupAddUnit(s__IrukaMakibishi_damaged[this], bj_lastCreatedUnit)
		endif
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
	endloop
	call DestroyGroup(bj_lastCreatedGroup)
	set s__IrukaMakibishi_count[this]=s__IrukaMakibishi_count[this] + 1
	if s__IrukaMakibishi_count[this] > 80.0 then
		call DestroyGroup(s__IrukaMakibishi_damaged[this])
		set s__IrukaMakibishi_damaged[this]=null
		call s__IrukaMakibishi_deallocate(this)
		call ReleaseTimer(GetExpiredTimer())
	endif
    endfunction 

    function s__IrukaMakibishi_actions takes nothing returns nothing
        local integer this= s__IrukaMakibishi_allocate()
        local integer i= 0
        local integer j
        local real x
        local real y
        local real offset
        local real angle
        loop
            set i=i + 1
            exitwhen i > 5
            set j=0
            loop
                exitwhen j > 11
                set angle=GetRandomReal(0, 2 * bj_PI)
                set offset=GetRandomReal(0, 350)
                set x=(((GetSpellTargetX() )*1.0) + Cos((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
                set y=(((GetSpellTargetY() )*1.0) + Sin((( angle )*1.0)) * (( offset)*1.0)) // INLINED!!
		set bj_lastCreatedEffect=AddSpecialEffect("Abilities\\Weapons\\WardenMissile\\WardenMissile.mdl", x, y)
		call BlzSetSpecialEffectYaw(bj_lastCreatedEffect, Deg2Rad(GetRandomReal(0, 360)))
            	call BlzSetSpecialEffectPitch(bj_lastCreatedEffect, - 1.57)
		call BlzSetSpecialEffectHeight(bj_lastCreatedEffect, GetPointZ(x , y))
		call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.0)
		call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 8.0)*1.0) , false) // INLINED!!
                set j=j + 1
            endloop
        endloop
        set bj_lastCreatedUnit=CreateUnit(GetTriggerPlayer(), 'e007', GetSpellTargetX(), GetSpellTargetY(), 270)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0XG')
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 8.0)
        set s__IrukaMakibishi_caster[this]=GetTriggerUnit()
        set s__IrukaMakibishi_x[this]=GetSpellTargetX()
        set s__IrukaMakibishi_y[this]=GetSpellTargetY()
        set s__IrukaMakibishi_count[this]=0
	set s__IrukaMakibishi_damaged[this]=CreateGroup()
        call TimerStartEx(NewTimerEx(this) , 0.1 , true , function s__IrukaMakibishi_periodic , "Makibishi_periodic")
    endfunction 
    
    
    function s__IrukaMakibishi_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('A1D5' ) , Filter(( function s__IrukaMakibishi_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: IrukaFuumaShuriken
//===========================================================================

//Implemented from module Alloc:
    
        function s__IrukaFuumaShuriken_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IrukaFuumaShuriken_Alloc__recycle[(0)] == 0 ) then
                set s__IrukaFuumaShuriken_Alloc__instanceCount=s__IrukaFuumaShuriken_Alloc__instanceCount + 1
                set this=s__IrukaFuumaShuriken_Alloc__instanceCount
            else
                set this=s__IrukaFuumaShuriken_Alloc__recycle[(0)]
                set s__IrukaFuumaShuriken_Alloc__recycle[(0)]=s__IrukaFuumaShuriken_Alloc__recycle[s__IrukaFuumaShuriken_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IrukaFuumaShuriken_deallocate takes integer this returns nothing
            set s__IrukaFuumaShuriken_Alloc__recycle[this]=s__IrukaFuumaShuriken_Alloc__recycle[(0)]
            set s__IrukaFuumaShuriken_Alloc__recycle[(0)]=this
        endfunction

    
    function s__IrukaFuumaShuriken_destroy takes integer this returns nothing
        call DestroyGroup(s__IrukaFuumaShuriken_damaged[this])
        call KillUnit(s__IrukaFuumaShuriken_shuriken[this])
        set s__IrukaFuumaShuriken_shuriken[this]=null
        set s__IrukaFuumaShuriken_damaged[this]=null
        call s__IrukaFuumaShuriken_deallocate(this)
    endfunction 
    
    function s__IrukaFuumaShuriken_back takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__IrukaFuumaShuriken_shuriken[this])
        local real y= GetUnitY(s__IrukaFuumaShuriken_shuriken[this])
        local real new_x= (((x )*1.0) + Cos((( s__IrukaFuumaShuriken_angle[this] + bj_PI )*1.0)) * (( 26)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__IrukaFuumaShuriken_angle[this] + bj_PI )*1.0)) * (( 26)*1.0)) // INLINED!!
        local real enemy_x
        local real enemy_y
        local unit u
        local integer maxCount
	if GetHeroLevel(s__IrukaFuumaShuriken_u) >= 50 then
		set new_x=(((x )*1.0) + Cos((( s__IrukaFuumaShuriken_angle[this] + bj_PI )*1.0)) * (( 54)*1.0)) // INLINED!!
		set new_y=(((y )*1.0) + Sin((( s__IrukaFuumaShuriken_angle[this] + bj_PI )*1.0)) * (( 54)*1.0)) // INLINED!!
	endif
        //call AddSpecialEffectEx("Abilities\\Spells\\Other\\StrongDrink\\BrewmasterMissile.mdl", x, y)
        set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 300, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IrukaFuumaShuriken_u)) and not IsUnitInGroup(bj_lastCreatedUnit, s__IrukaFuumaShuriken_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                set enemy_x=GetUnitX(bj_lastCreatedUnit)
                set enemy_y=GetUnitY(bj_lastCreatedUnit)
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( enemy_x )*1.0), (( enemy_y)*1.0))) // INLINED!!
		if GetHeroLevel(s__IrukaFuumaShuriken_u) >= 35 then
			call UnitDamageTarget(s__IrukaFuumaShuriken_u, bj_lastCreatedUnit, GetUnitAbilityLevel(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID) / 2.0 * GetHeroAgi(s__IrukaFuumaShuriken_u, true), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		else
			call UnitDamageTarget(s__IrukaFuumaShuriken_u, bj_lastCreatedUnit, GetUnitAbilityLevel(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID) / 2.0 * GetHeroAgi(s__IrukaFuumaShuriken_u, true), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
		endif
		call GroupAddUnit(s__IrukaFuumaShuriken_damaged[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__IrukaFuumaShuriken_count[this]=s__IrukaFuumaShuriken_count[this] - 1
        call SetUnitX(s__IrukaFuumaShuriken_shuriken[this], new_x)
        call SetUnitY(s__IrukaFuumaShuriken_shuriken[this], new_y)
	if GetDistance(new_x , new_y , GetUnitX(s__IrukaFuumaShuriken_u) , GetUnitY(s__IrukaFuumaShuriken_u)) < 100 then
		if BlzGetUnitAbilityCooldownRemaining(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID) > 0 then
			if GetHeroLevel(s__IrukaFuumaShuriken_u) >= 35 then
				call BlzStartUnitAbilityCooldown(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID, RMaxBJ(1, BlzGetUnitAbilityCooldownRemaining(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID) - 5))
			else
				call BlzStartUnitAbilityCooldown(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID, RMaxBJ(1, BlzGetUnitAbilityCooldownRemaining(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID) - 3))
			endif
			call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl" ), (( GetUnitX(s__IrukaFuumaShuriken_u) )*1.0), (( GetUnitY(s__IrukaFuumaShuriken_u))*1.0))) // INLINED!!
		endif
		set s__IrukaFuumaShuriken_count[this]=0
	endif
        if s__IrukaFuumaShuriken_count[this] <= 0 then
	    call s__IrukaFuumaShuriken_destroy(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
        set u=null
    endfunction
    
    function s__IrukaFuumaShuriken_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real x= GetUnitX(s__IrukaFuumaShuriken_shuriken[this])
        local real y= GetUnitY(s__IrukaFuumaShuriken_shuriken[this])
        local real new_x= (((x )*1.0) + Cos((( s__IrukaFuumaShuriken_angle[this] )*1.0)) * (( 26)*1.0)) // INLINED!!
        local real new_y= (((y )*1.0) + Sin((( s__IrukaFuumaShuriken_angle[this] )*1.0)) * (( 26)*1.0)) // INLINED!!
        local real enemy_x
        local real enemy_y
        local unit u
        local integer maxCount
	if GetHeroLevel(s__IrukaFuumaShuriken_u) >= 50 then
		set new_x=(((x )*1.0) + Cos((( s__IrukaFuumaShuriken_angle[this] )*1.0)) * (( 54)*1.0)) // INLINED!!
		set new_y=(((y )*1.0) + Sin((( s__IrukaFuumaShuriken_angle[this] )*1.0)) * (( 54)*1.0)) // INLINED!!
	endif
        //call AddSpecialEffectEx("Abilities\\Spells\\Other\\StrongDrink\\BrewmasterMissile.mdl", x, y)
        set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, x, y, 300, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IrukaFuumaShuriken_u)) and not IsUnitInGroup(bj_lastCreatedUnit, s__IrukaFuumaShuriken_damaged[this]) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                set enemy_x=GetUnitX(bj_lastCreatedUnit)
                set enemy_y=GetUnitY(bj_lastCreatedUnit)
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\wanhuajing.mdx" ), (( enemy_x )*1.0), (( enemy_y)*1.0))) // INLINED!!
                call UnitDamageTarget(s__IrukaFuumaShuriken_u, bj_lastCreatedUnit, GetUnitAbilityLevel(s__IrukaFuumaShuriken_u, s__IrukaFuumaShuriken_SPELL_ID) * GetHeroAgi(s__IrukaFuumaShuriken_u, true) / 2.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
                call GroupAddUnit(s__IrukaFuumaShuriken_damaged[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__IrukaFuumaShuriken_count[this]=s__IrukaFuumaShuriken_count[this] + 1
        call SetUnitX(s__IrukaFuumaShuriken_shuriken[this], new_x)
        call SetUnitY(s__IrukaFuumaShuriken_shuriken[this], new_y)
        if s__IrukaFuumaShuriken_count[this] > 23 then // (GetUnitAbilityLevel(thistype.u, 'B025') > 0 and this.count > 46) or (GetUnitAbilityLevel(thistype.u, 'B025') == 0 and this.count > 23) then 
            call GroupClear(s__IrukaFuumaShuriken_damaged[this])
		if GetHeroLevel(s__IrukaFuumaShuriken_u) >= 35 then
			call TimerStart(NewTimerEx(this), 0.04, true, function s__IrukaFuumaShuriken_back)
		else
	    		call TimerStart(NewTimerEx(this), 0.03, true, function s__IrukaFuumaShuriken_back)
		endif
            call ReleaseTimer(GetExpiredTimer())
        endif
        set u=null
    endfunction
    
    function s__IrukaFuumaShuriken_start takes nothing returns nothing
 local integer this= s__IrukaFuumaShuriken_allocate()
        local real x= GetUnitX(s__IrukaFuumaShuriken_u)
        local real y= GetUnitY(s__IrukaFuumaShuriken_u)
        local real angle= Atan3(GetUnitX(s__IrukaFuumaShuriken_u) , GetUnitY(s__IrukaFuumaShuriken_u) , s__IrukaFuumaShuriken_x , s__IrukaFuumaShuriken_y)
        local integer i= 0
        set s__IrukaFuumaShuriken_building[this]=true
        set s__IrukaFuumaShuriken_damaged[this]=CreateGroup()
        set s__IrukaFuumaShuriken_angle[this]=angle
        set s__IrukaFuumaShuriken_count[this]=0
        set s__IrukaFuumaShuriken_shuriken[this]=GetDummy(GetOwningPlayer(s__IrukaFuumaShuriken_u) , "FunmaShuriken Missile.mdl" , x , y , 270)
        call SetUnitScale(s__IrukaFuumaShuriken_shuriken[this], 2.2, 2.2, 2.2)
        call SetUnitFlyHeight(s__IrukaFuumaShuriken_shuriken[this], 100, 0)
	if GetHeroLevel(s__IrukaFuumaShuriken_u) >= 35 then
		call SetUnitTimeScale(s__IrukaFuumaShuriken_shuriken[this], 2.0)
        	call TimerStartEx(NewTimerEx(this) , 0.04 , true , function s__IrukaFuumaShuriken_periodic , "FuumaShuriken_periodic")
	else
		call TimerStartEx(NewTimerEx(this) , 0.03 , true , function s__IrukaFuumaShuriken_periodic , "FuumaShuriken_periodic")
	endif
    endfunction 

    function s__IrukaFuumaShuriken_delay takes nothing returns nothing
	call s__IrukaFuumaShuriken_start()
	call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__IrukaFuumaShuriken_actions takes nothing returns nothing
        set s__IrukaFuumaShuriken_u=GetTriggerUnit()
	set s__IrukaFuumaShuriken_x=GetSpellTargetX()
        set s__IrukaFuumaShuriken_y=GetSpellTargetY()
	set s__IrukaFuumaShuriken_caster_x=GetUnitX(s__IrukaFuumaShuriken_u)
	set s__IrukaFuumaShuriken_caster_y=GetUnitY(s__IrukaFuumaShuriken_u)
        set s__IrukaFuumaShuriken_first=false
        call s__IrukaFuumaShuriken_start()
    endfunction
    
    function s__IrukaFuumaShuriken_onInit takes nothing returns nothing
        call RegisterSpellEffectEventForId(81 , s__IrukaFuumaShuriken_SPELL_ID , function s__IrukaFuumaShuriken_actions)
    endfunction 
    
//===========================================================================
// Trigger: IrukaTrap
//===========================================================================

//Implemented from module Alloc:
    
        function s__IrukaTrap_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__IrukaTrap_Alloc__recycle[(0)] == 0 ) then
                set s__IrukaTrap_Alloc__instanceCount=s__IrukaTrap_Alloc__instanceCount + 1
                set this=s__IrukaTrap_Alloc__instanceCount
            else
                set this=s__IrukaTrap_Alloc__recycle[(0)]
                set s__IrukaTrap_Alloc__recycle[(0)]=s__IrukaTrap_Alloc__recycle[s__IrukaTrap_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__IrukaTrap_deallocate takes integer this returns nothing
            set s__IrukaTrap_Alloc__recycle[this]=s__IrukaTrap_Alloc__recycle[(0)]
            set s__IrukaTrap_Alloc__recycle[(0)]=this
        endfunction

    function s__IrukaTrap_dealDamage takes nothing returns boolean
				if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(s__IrukaTrap_caster[s__IrukaTrap_instance])) and GetWidgetLife(GetFilterUnit()) > 0.405 then
					if GetUnitAbilityLevel(s__IrukaTrap_caster[s__IrukaTrap_instance], 'B035') > 0 then
					call UnitDamageTarget(s__IrukaTrap_caster[s__IrukaTrap_instance], GetFilterUnit(), ( 65 + GetHeroAgi(s__IrukaTrap_caster[s__IrukaTrap_instance], true) / 3 ) * GetUnitAbilityLevel(s__IrukaTrap_caster[s__IrukaTrap_instance], s__IrukaTrap_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					else
					call UnitDamageTarget(s__IrukaTrap_caster[s__IrukaTrap_instance], GetFilterUnit(), ( 65 + GetHeroAgi(s__IrukaTrap_caster[s__IrukaTrap_instance], true) / 3 ) * GetUnitAbilityLevel(s__IrukaTrap_caster[s__IrukaTrap_instance], s__IrukaTrap_SPELL_ID), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
					endif
				endif
	    return false
 endfunction


 function s__IrukaTrap_destroy takes integer this returns nothing
		call DestroyGroup(s__IrukaTrap_damaged[this])
		call KillUnit(s__IrukaTrap_trap[this])
		call ShowUnit(s__IrukaTrap_trap[this], false)
		set s__IrukaTrap_trap[this]=null
		set s__IrukaTrap_damaged[this]=null
 endfunction 

 function s__IrukaTrap_periodic2 takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer i
		set bj_lastCreatedGroup=CreateGroup()
		call GroupAddGroup(s__IrukaTrap_damaged[this], bj_lastCreatedGroup)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			call SetUnitAnimation(bj_lastCreatedUnit, "death")
			//call UnitDamageTarget(this.caster, bj_lastCreatedUnit, (65 + GetHeroAgi(this.caster, true) / 3) * GetUnitAbilityLevel(this.caster, SPELL_ID) / 66.0, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
			if ModuloInteger(s__IrukaTrap_c[this], 3) == 0 then
				call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl" ), (( GetUnitX(bj_lastCreatedUnit) )*1.0), (( GetUnitY(bj_lastCreatedUnit))*1.0))) // INLINED!!
			endif
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
		set s__IrukaTrap_c[this]=s__IrukaTrap_c[this] + 1
		if s__IrukaTrap_c[this] > 33 then
            		call DestroyEffect(AddSpecialEffect(("war3mapImported\\FlameBomb.mdx" ), (( GetUnitX(s__IrukaTrap_trap[this]) )*1.0), (( GetUnitY(s__IrukaTrap_trap[this]))*1.0))) // INLINED!!
            		call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" ), (( GetUnitX(s__IrukaTrap_trap[this]) )*1.0), (( GetUnitY(s__IrukaTrap_trap[this]))*1.0))) // INLINED!!
			set bj_lastCreatedGroup=CreateGroup()
			set s__IrukaTrap_instance=this
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__IrukaTrap_trap[this]), GetUnitY(s__IrukaTrap_trap[this]), 150, Filter(function s__IrukaTrap_dealDamage))
			call DestroyGroup(bj_lastCreatedGroup)
			set i=1
            		loop
                		exitwhen i > 30
                		call GenerateRandomCircle(GetUnitX(s__IrukaTrap_trap[this]) , GetUnitY(s__IrukaTrap_trap[this]) , 100)
                		//set bj_lastCreatedUnit = GetUnit(GetOwningPlayer(this.caster), 'n02R', GetRandomX(), GetRandomY(), GetRandomReal(0, 360))
                		//call SetUnitTimeScale(bj_lastCreatedUnit, 0.3)
                		//call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0, 120), 0)
                		//call SetUnitScale(bj_lastCreatedUnit, 2.0, 0, 0)
                		//call KillUnit(bj_lastCreatedUnit)
				call DestroyEffect(AddSpecialEffect(("Boom.mdx" ), (( GetRandomX() )*1.0), (( GetRandomY())*1.0))) // INLINED!!
                		set i=i + 1
            		endloop
			loop
				set bj_lastCreatedUnit=FirstOfGroup(s__IrukaTrap_damaged[this])
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(s__IrukaTrap_damaged[this], bj_lastCreatedUnit)
				call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 255)
				call PauseUnit(bj_lastCreatedUnit, false)
			endloop
			call s__IrukaTrap_destroy(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__IrukaTrap_periodic takes nothing returns nothing
  local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local integer count= 0
		if GetWidgetLife(s__IrukaTrap_trap[this]) > 0.405 then
			set bj_lastCreatedGroup=CreateGroup()
			call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__IrukaTrap_trap[this]), GetUnitY(s__IrukaTrap_trap[this]), 150, null)
			loop
				set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
				exitwhen bj_lastCreatedUnit == null
				call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__IrukaTrap_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_STRUCTURE) == false and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
					call PauseUnit(bj_lastCreatedUnit, true)
					call SetUnitVertexColor(bj_lastCreatedUnit, 100, 100, 100, 255)
					call GroupAddUnit(s__IrukaTrap_damaged[this], bj_lastCreatedUnit)
					set count=count + 1
				endif
			endloop
			call DestroyGroup(bj_lastCreatedGroup)
			if count > 0 then
				//set bj_lastCreatedUnit = CreateAbilityDummy(this.caster, 'A0SQ')
				//call SetUnitFlyHeight(bj_lastCreatedUnit, 60, 0)
				//call IssuePointOrder(bj_lastCreatedUnit, "summonfactory", GetUnitX(this.trap), GetUnitY(this.trap))
				call TimerStart(NewTimerEx(this), 0.03, true, function s__IrukaTrap_periodic2)
				call ReleaseTimer(GetExpiredTimer())
			endif
		else
			call s__IrukaTrap_destroy(this)
			call ReleaseTimer(GetExpiredTimer())
		endif
 endfunction 

 function s__IrukaTrap_actions takes nothing returns nothing
  local integer this= s__IrukaTrap_allocate()
		set s__IrukaTrap_caster[this]=GetTriggerUnit()
		set s__IrukaTrap_trap[this]=CreateUnit(GetTriggerPlayer(), 'e03B', GetSpellTargetX(), GetSpellTargetY(), 270)
		set s__IrukaTrap_damaged[this]=CreateGroup()
		set s__IrukaTrap_c[this]=0
		if GetUnitAbilityLevel(s__IrukaTrap_caster[this], 'B035') > 0 then
			call UnitApplyTimedLife(s__IrukaTrap_trap[this], 'BTLF', 60.0)
		else
			call UnitApplyTimedLife(s__IrukaTrap_trap[this], 'BTLF', 30.0)
		endif
		call TimerStart(NewTimerEx(this), 0.1, true, function s__IrukaTrap_periodic)
 endfunction 

 function s__IrukaTrap_onInit takes nothing returns nothing
		call RegisterSpellEffectEventForId(81 , s__IrukaTrap_SPELL_ID , function s__IrukaTrap_actions)
 endfunction 

//===========================================================================
// Trigger: KisameSameodoriLOOP
//===========================================================================
function Trig_KisameSameodoriLOOP_Func001Func001C takes nothing returns boolean
    if ( not ( IsUnitPausedBJ(udg_SAMEODORI_Caster) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_KisameSameodoriLOOP_Func001Func012C takes nothing returns boolean
    if ( ( IsUnitDeadBJ(udg_SAMEODORI_Caster) == true ) ) then
        return true
    endif
    if ( ( IsUnitDeadBJ(udg_SAMEODORI_Dummy) == true ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_SAMEODORI_Caster) != 'U00E' ) ) then
        return true
    endif
    return false
endfunction

function Trig_KisameSameodoriLOOP_Func001C takes nothing returns boolean
    if ( not Trig_KisameSameodoriLOOP_Func001Func012C() ) then
        return false
    endif
    return true
endfunction

function Trig_KisameSameodoriLOOP_Actions takes nothing returns nothing
    if ( Trig_KisameSameodoriLOOP_Func001C() ) then
        call UnitAddAbilityBJ('Arav', udg_SAMEODORI_Caster)
        call UnitRemoveAbilityBJ('Arav', udg_SAMEODORI_Caster)
        //call SetUnitFlyHeightBJ( udg_SAMEODORI_Caster, 0.00, 0.00 )
        call KillUnit(udg_SAMEODORI_Dummy)
        call UnitRemoveAbility(udg_SAMEODORI_Caster, 'A0XS')
        call SetUnitMoveSpeed(udg_SAMEODORI_Caster, GetUnitDefaultMoveSpeed(udg_SAMEODORI_Caster))
        call SetUnitTimeScale(udg_SAMEODORI_Caster, 1.0)
        call DisableTrigger(gg_trg_KisameSameodoriDMG)
        call DisableTrigger(GetTriggeringTrigger())
    else
        if ( Trig_KisameSameodoriLOOP_Func001Func001C() ) then
            call UnitAddAbilityBJ('Arav', udg_SAMEODORI_Caster)
            call UnitRemoveAbilityBJ('Arav', udg_SAMEODORI_Caster)
            //call SetUnitFlyHeightBJ( udg_SAMEODORI_Caster, 200.00, 0.00 )
            //call SetUnitAnimation(udg_SAMEODORI_Caster, "spell slam")
        else
        endif
        set udg_SAMEODORI_Point[1]=GetUnitLoc(udg_SAMEODORI_Caster)
        call SetUnitPositionLoc(udg_SAMEODORI_Dummy, udg_SAMEODORI_Point[1])
        call RemoveLocation(udg_SAMEODORI_Point[1])
    endif
endfunction

//===========================================================================
function InitTrig_KisameSameodoriLOOP takes nothing returns nothing
    set gg_trg_KisameSameodoriLOOP=CreateTrigger()
    call DisableTrigger(gg_trg_KisameSameodoriLOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_KisameSameodoriLOOP, 0.01)
    call TriggerAddAction(gg_trg_KisameSameodoriLOOP, function Trig_KisameSameodoriLOOP_Actions)
endfunction


//===========================================================================
// Trigger: KisameSameodoriDMG
//===========================================================================
function Trig_KisameSameodoriDMG_Func001002002 takes nothing returns boolean
    return ( UnitHasBuffBJ(GetFilterUnit(), 'B024') == true )
endfunction

function Trig_KisameSameodoriDMG_Func002Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_KisameSameodoriDMG_Func002A takes nothing returns nothing
    if ( Trig_KisameSameodoriDMG_Func002Func001C() ) then
        call UnitDamageTargetBJ(udg_SAMEODORI_Caster, GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetEnumUnit()) * 0.01 ), ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL)
        call SetUnitManaBJ(GetEnumUnit(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetEnumUnit()) - 50.00 ))
    else
    endif
endfunction

function Trig_KisameSameodoriDMG_Actions takes nothing returns nothing
    set udg_SAMEODORI_Group=GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_KisameSameodoriDMG_Func001002002))
    call ForGroupBJ(udg_SAMEODORI_Group, function Trig_KisameSameodoriDMG_Func002A)
    call DestroyGroup(udg_SAMEODORI_Group)
endfunction

//===========================================================================
function InitTrig_KisameSameodoriDMG takes nothing returns nothing
    set gg_trg_KisameSameodoriDMG=CreateTrigger()
    call DisableTrigger(gg_trg_KisameSameodoriDMG)
    call TriggerRegisterTimerEventPeriodic(gg_trg_KisameSameodoriDMG, 1.00)
    call TriggerAddAction(gg_trg_KisameSameodoriDMG, function Trig_KisameSameodoriDMG_Actions)
endfunction


//===========================================================================
// Trigger: KisameSharkDanceLOOP
//===========================================================================
function Trig_shark_dance_loop_Func004C takes nothing returns boolean
    if ( not ( IsTerrainPathableBJ(udg_SHADANCE_Point[4], PATHING_TYPE_WALKABILITY) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_shark_dance_loop_Func007002003001001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_shark_dance_loop_Func007002003001002 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_SHADANCE_Caster)) == true )
endfunction

function Trig_shark_dance_loop_Func007002003001 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false), (IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_SHADANCE_Caster)) == true)) // INLINED!!
endfunction

function Trig_shark_dance_loop_Func007002003002 takes nothing returns boolean
    return ( IsUnitInGroup(GetFilterUnit(), udg_SHADANCE_Group2) == false )
endfunction

function Trig_shark_dance_loop_Func007002003 takes nothing returns boolean
    return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false), (IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_SHADANCE_Caster)) == true))), (IsUnitInGroup(GetFilterUnit(), udg_SHADANCE_Group2) == false)) // INLINED!!
endfunction

function Trig_shark_dance_loop_Func008A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_SHADANCE_Caster, GetEnumUnit(), ( 5.00 * I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_SHADANCE_Caster, true)) ), ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC)
    call GroupAddUnitSimple(GetEnumUnit(), udg_SHADANCE_Group2)
endfunction

function Trig_shark_dance_loop_Func010A takes nothing returns nothing
    set udg_SHADANCE_Point[5]=GetUnitLoc(GetEnumUnit())
    set udg_SHADANCE_Point[6]=PolarProjectionBJ(udg_SHADANCE_Point[5], 30.00, udg_SHADANCE_Angle)
    call SetUnitPathing(GetEnumUnit(), false)
    call SetUnitPositionLoc(GetEnumUnit(), udg_SHADANCE_Point[6])
    call RemoveLocation(udg_SHADANCE_Point[5])
    call RemoveLocation(udg_SHADANCE_Point[6])
endfunction

function Trig_shark_dance_loop_Func011Func005A takes nothing returns nothing
    call SetUnitPathing(GetEnumUnit(), true)
endfunction

function Trig_shark_dance_loop_Func011C takes nothing returns boolean
    if ( not ( udg_SHADANCE_Count == 30 ) ) then
        return false
    endif
    return true
endfunction

function Trig_shark_dance_loop_Actions takes nothing returns nothing
    set udg_SHADANCE_Count=( udg_SHADANCE_Count + 1 )
    set udg_SHADANCE_Point[3]=GetUnitLoc(udg_SHADANCE_Caster)
    set udg_SHADANCE_Point[4]=PolarProjectionBJ(udg_SHADANCE_Point[3], 30.00, udg_SHADANCE_Angle)
    if ( Trig_shark_dance_loop_Func004C() ) then
        call SetUnitPositionLoc(udg_SHADANCE_Caster, udg_SHADANCE_Point[4])
    else
    endif
call AddSpecialEffectLocBJ((udg_SHADANCE_Point[3] ), ( "Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")) // INLINED!!
    call DestroyEffect(GetLastCreatedEffectBJ())
    set udg_SHADANCE_Group1=GetUnitsInRangeOfLocMatching(180.00, udg_SHADANCE_Point[4], Condition(function Trig_shark_dance_loop_Func007002003))
    call ForGroupBJ(udg_SHADANCE_Group1, function Trig_shark_dance_loop_Func008A)
    call DestroyGroup(udg_SHADANCE_Group1)
    call ForGroupBJ(udg_SHADANCE_Group2, function Trig_shark_dance_loop_Func010A)
    if ( Trig_shark_dance_loop_Func011C() ) then
        call RemoveLocation(udg_SHADANCE_Point[1])
        call RemoveLocation(udg_SHADANCE_Point[3])
        call RemoveLocation(udg_SHADANCE_Point[4])
        call SetUnitPathing(udg_SHADANCE_Caster, true)
        call ForGroupBJ(udg_SHADANCE_Group2, function Trig_shark_dance_loop_Func011Func005A)
        call GroupClear(udg_SHADANCE_Group2)
        call PauseUnitBJ(false, udg_SHADANCE_Caster)
        call DisableTrigger(GetTriggeringTrigger())
    else
    endif
    call RemoveLocation(udg_SHADANCE_Point[3])
    call RemoveLocation(udg_SHADANCE_Point[4])
endfunction

//===========================================================================
function InitTrig_KisameSharkDanceLOOP takes nothing returns nothing
    set gg_trg_KisameSharkDanceLOOP=CreateTrigger()
    call DisableTrigger(gg_trg_KisameSharkDanceLOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_KisameSharkDanceLOOP, 0.03)
    call TriggerAddAction(gg_trg_KisameSharkDanceLOOP, function Trig_shark_dance_loop_Actions)
endfunction


//===========================================================================
// Trigger: KisameGreatSharkDanceLOOP
//===========================================================================
function Trig_KisameGreatSharkDanceLOOP_Func002Func008002003001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false )
endfunction

function Trig_KisameGreatSharkDanceLOOP_Func002Func008002003002 takes nothing returns boolean
    return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_GSD_Caster)) == true )
endfunction

function Trig_KisameGreatSharkDanceLOOP_Func002Func008002003 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false), (IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(udg_GSD_Caster)) == true)) // INLINED!!
endfunction

function Trig_KisameGreatSharkDanceLOOP_Func002Func009A takes nothing returns nothing
    call UnitDamageTargetBJ(udg_GSD_Caster, GetEnumUnit(), ( I2R(GetHeroStatBJ(bj_HEROSTAT_STR, udg_GSD_Caster, true)) * 0.05 ) + 7, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC)
endfunction

function Trig_KisameGreatSharkDanceLOOP_Func002C takes nothing returns boolean
    if ( not ( udg_GSD_Count == 100 ) ) then
        return false
    endif
    return true
endfunction

function Trig_KisameGreatSharkDanceLOOP_Actions takes nothing returns nothing
    set udg_GSD_Count=( udg_GSD_Count + 1 )
    if ( Trig_KisameGreatSharkDanceLOOP_Func002C() ) then
        call ShowUnitShow(udg_GSD_Caster)
        call PauseUnitBJ(false, udg_GSD_Caster)
        call SetUnitInvulnerable(udg_GSD_Caster, false)
        call SelectUnitForPlayerSingle(udg_GSD_Caster, GetOwningPlayer(udg_GSD_Caster))
        call RemoveLocation(udg_GSD_Point[1])
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=5
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call KillUnit(udg_GSD_Dummies[GetForLoopIndexA()])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call DisableTrigger(GetTriggeringTrigger())
    else
	set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetLocationX(udg_GSD_Point[1]), GetLocationY(udg_GSD_Point[1]), 1200, null)
	loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(udg_GSD_Caster)) and GetWidgetLife(udg_GSD_Caster) > 0.405 then
			call UnitDamageTarget(udg_GSD_Caster, bj_lastCreatedUnit, GetHeroStr(udg_GSD_Caster, true) * 0.05 + 7, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
		endif
	endloop
	call DestroyGroup(bj_lastCreatedGroup)
        //set udg_GSD_Group = GetUnitsInRangeOfLocMatching(1200.00, udg_GSD_Point[1], Condition(function Trig_KisameGreatSharkDanceLOOP_Func002Func008002003))
        //call ForGroupBJ( udg_GSD_Group, function Trig_KisameGreatSharkDanceLOOP_Func002Func009A )
        //call DestroyGroup(udg_GSD_Group)
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=5
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            set udg_GSD_Point[2]=GetRandomLocInRect(RectFromCenterSizeBJ(udg_GSD_Point[1], 1200.00, 1200.00))
            call SetUnitPositionLocFacingBJ(udg_GSD_Dummies[GetForLoopIndexA()], udg_GSD_Point[2], GetRandomDirectionDeg())
	    if ModuloInteger(udg_GSD_Count, 4) == 0 then
	    	call CreateNUnitsAtLoc(1, 'h04H', GetOwningPlayer(udg_GSD_Dummies[GetForLoopIndexA()]), udg_GSD_Point[2], bj_UNIT_FACING)
		call SetUnitFlyHeight(bj_lastCreatedUnit, 150, 0)
	    	call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 0.5)
	    endif
            call RemoveLocation(udg_GSD_Point[2])
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    endif
endfunction

//===========================================================================
function InitTrig_KisameGreatSharkDanceLOOP takes nothing returns nothing
    set gg_trg_KisameGreatSharkDanceLOOP=CreateTrigger()
    call DisableTrigger(gg_trg_KisameGreatSharkDanceLOOP)
    call TriggerRegisterTimerEventPeriodic(gg_trg_KisameGreatSharkDanceLOOP, 0.03)
    call TriggerAddAction(gg_trg_KisameGreatSharkDanceLOOP, function Trig_KisameGreatSharkDanceLOOP_Actions)
endfunction


//===========================================================================
// Trigger: SasukeAmaterasu
//===========================================================================

//Implemented from module Alloc:
    
        function s__SasukeAmaterasu_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__SasukeAmaterasu_Alloc__recycle[(0)] == 0 ) then
                set s__SasukeAmaterasu_Alloc__instanceCount=s__SasukeAmaterasu_Alloc__instanceCount + 1
                set this=s__SasukeAmaterasu_Alloc__instanceCount
            else
                set this=s__SasukeAmaterasu_Alloc__recycle[(0)]
                set s__SasukeAmaterasu_Alloc__recycle[(0)]=s__SasukeAmaterasu_Alloc__recycle[s__SasukeAmaterasu_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__SasukeAmaterasu_deallocate takes integer this returns nothing
            set s__SasukeAmaterasu_Alloc__recycle[this]=s__SasukeAmaterasu_Alloc__recycle[(0)]
            set s__SasukeAmaterasu_Alloc__recycle[(0)]=this
        endfunction

     function s__SasukeAmaterasu_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i
        call UnitRemoveBuffBJ('B00M', s__SasukeAmaterasu_caster[this])
        set i=1
        loop
            exitwhen i > 24
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__s__SasukeAmaterasu_amaterasu[i]), GetUnitY(s__s__SasukeAmaterasu_amaterasu[i]), 220.0, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                if GetWidgetLife(bj_lastCreatedUnit) > 0.405 and GetOwningPlayer(bj_lastCreatedUnit) != GetOwningPlayer(s__SasukeAmaterasu_caster[this]) and not IsUnitInGroup(bj_lastCreatedUnit, s__SasukeAmaterasu_damaged[this]) then
                    call GroupAddUnit(s__SasukeAmaterasu_damaged[this], bj_lastCreatedUnit)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set i=i + 1
        endloop
        set bj_lastCreatedGroup=CreateGroup()
        call GroupAddGroup(s__SasukeAmaterasu_damaged[this], bj_lastCreatedGroup)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            if IsUnitAlly(bj_lastCreatedUnit, GetOwningPlayer(s__SasukeAmaterasu_caster[this])) then
                call UnitDamageTarget(s__SasukeAmaterasu_caster[this], bj_lastCreatedUnit, ( ( 0.05 * GetHeroAgi(s__SasukeAmaterasu_caster[this], true) ) + 5 ) / 2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            else
                call UnitDamageTarget(s__SasukeAmaterasu_caster[this], bj_lastCreatedUnit, ( ( 0.05 * GetHeroAgi(s__SasukeAmaterasu_caster[this], true) ) + 5 ) / 2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
            endif
            if GetWidgetLife(bj_lastCreatedUnit) < 0.405 then
                call GroupRemoveUnit(s__SasukeAmaterasu_damaged[this], bj_lastCreatedUnit)
            endif
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set s__SasukeAmaterasu_count[this]=s__SasukeAmaterasu_count[this] + 1
        if s__SasukeAmaterasu_count[this] >= 200 then
            call UnitRemoveAbility(s__SasukeAmaterasu_caster[this], 'A0TS')
            call SetPlayerAbilityAvailable(GetOwningPlayer(s__SasukeAmaterasu_caster[this]), 'A0A8', true)
            set s__SasukeAmaterasu_controlling=false
            set i=0
            loop
                set i=i + 1
                exitwhen i > 24
                    call KillUnit(s__s__SasukeAmaterasu_amaterasu[i])
                    call ShowUnit(s__s__SasukeAmaterasu_amaterasu[i], false)
                    set s__s__SasukeAmaterasu_amaterasu[i]= null
            endloop
            call DestroyGroup(s__SasukeAmaterasu_damaged[this])
            set s__SasukeAmaterasu_damaged[this]=null
            set s__SasukeAmaterasu_caster[this]=null
            call s__SasukeAmaterasu_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
	endif
    endfunction


      function s__SasukeAmaterasu_delay takes nothing returns nothing
 local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i
 local real angle1
 local real x1
 local real y1
 local real dist
        set i=0
        loop
            set i=i + 1
            exitwhen i > 24
                set dist=200
                set angle1=15 * i
                set x1=(((s__SasukeAmaterasu_target_x[this] )*1.0) + Cos((( angle1 )*1.0)) * (( dist)*1.0)) // INLINED!!
                set y1=(((s__SasukeAmaterasu_target_y[this] )*1.0) + Sin((( angle1 )*1.0)) * (( dist)*1.0)) // INLINED!!
                set s__s__SasukeAmaterasu_amaterasu[i]= CreateUnit(GetOwningPlayer(s__SasukeAmaterasu_caster[this]), 'h00Z', x1, y1, 270)
        endloop
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__SasukeAmaterasu_target_x[this], s__SasukeAmaterasu_target_y[this], 400, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
                if bj_lastCreatedUnit != s__SasukeAmaterasu_caster[this] and IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__SasukeAmaterasu_caster[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__SasukeAmaterasu_caster[this], bj_lastCreatedUnit, 400 * GetUnitAbilityLevel(s__SasukeAmaterasu_caster[this], s__SasukeAmaterasu_SPELL_ID), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        call SetPlayerAbilityAvailable(GetOwningPlayer(s__SasukeAmaterasu_caster[this]), 'A0A8', false)
        call UnitAddAbility(s__SasukeAmaterasu_caster[this], 'A0TS')
        set s__SasukeAmaterasu_controlling=true
        call PauseUnit(s__SasukeAmaterasu_caster[this], false)
        call TimerStart(NewTimerEx(this), 0.03, true, function s__SasukeAmaterasu_periodic)
        call ReleaseTimer(GetExpiredTimer())
      endfunction

      function s__SasukeAmaterasu_actions takes nothing returns nothing
 local integer this= s__SasukeAmaterasu_allocate()
        if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
            call PlaySoundOnUnitBJ(gg_snd_Sasuke_R_Amaterasu, 100, GetTriggerUnit())
        endif
	set s__SasukeAmaterasu_caster[this]=GetTriggerUnit()
	set s__SasukeAmaterasu_target_x[this]=GetSpellTargetX()
	set s__SasukeAmaterasu_target_y[this]=GetSpellTargetY()
    	set s__SasukeAmaterasu_damaged[this]=CreateGroup()
        set s__SasukeAmaterasu_count[this]=0
        set bj_lastCreatedEffect=AddSpecialEffect("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTarget.mdl", s__SasukeAmaterasu_target_x[this], s__SasukeAmaterasu_target_y[this])
        call s__EffectUtils___EffectTimer_create((bj_lastCreatedEffect ) , (( 0.25)*1.0) , false) // INLINED!!
        call IssueImmediateOrder(s__SasukeAmaterasu_caster[this], "stop")
        call SetUnitAnimation(s__SasukeAmaterasu_caster[this], "stand")
        call PauseUnit(s__SasukeAmaterasu_caster[this], true)
	call TimerStart(NewTimerEx(this), 0.25, false, function s__SasukeAmaterasu_delay)
      endfunction 

    function s__SasukeAmaterasu_release takes nothing returns nothing
        set s__SasukeAmaterasu_controlling=false
        call UnitRemoveAbility(GetTriggerUnit(), 'A0TS')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A0A8', true)
    endfunction

    function s__SasukeAmaterasu_order takes nothing returns nothing
      local integer i= 1
      if GetUnitTypeId(GetTriggerUnit()) == 'U00J' and s__SasukeAmaterasu_controlling then
        loop
          exitwhen i > 24
            call IssuePointOrder(s__s__SasukeAmaterasu_amaterasu[i], "move", GetUnitX(GetOrderTargetUnit()), GetUnitY(GetOrderTargetUnit()))
            set i=i + 1
        endloop
      endif
    endfunction

    function s__SasukeAmaterasu_onInit takes nothing returns nothing
      call RegisterSpellEffectEvent2((s__SasukeAmaterasu_SPELL_ID ) , Filter(( function s__SasukeAmaterasu_actions))) // INLINED!!
      call RegisterSpellEffectEvent2(('A0TS' ) , Filter(( function s__SasukeAmaterasu_release))) // INLINED!!
      call RegisterPlayerUnitEventForId(26 , EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER , function s__SasukeAmaterasu_order)
    endfunction 

//===========================================================================
// Trigger: AntiHostAFK
//===========================================================================

    function s__AntiAFK_chooseNextPlayer takes nothing returns nothing
        call DialogDisplayBJ(false, udg_Host_Dialog, udg_Host)
        set udg_Host=sc__AntiAFK_chooseHost(GetPlayerId(udg_Host) + 1)
        call TimerStart(udg_Host_Timer, 20.0, false, function sc__AntiAFK_timeOut)
        call DialogDisplayBJ(true, udg_Host_Dialog, udg_Host)
    endfunction 
    
    function s__AntiAFK_timeOut takes nothing returns nothing
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, GetPlayerName(udg_Host) + " |cff87ceebis AFK. The next player on the queue will be chosen.|r")
        call s__AntiAFK_chooseNextPlayer()
    endfunction

    function s__AntiAFK_clickDialog takes nothing returns nothing
        if GetClickedButtonBJ() == udg_Host_Dialog_Buttons[1] then
            call PauseTimer(udg_Host_Timer)
            call DestroyTimerDialog(udg_Host_Timer_Window)
            set udg_CanSelectModes=true
        else
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, GetPlayerName(udg_Host) + " |cff87ceebrefuses to choose modes. The next player on the queue will be chosen.|r")
            call s__AntiAFK_chooseNextPlayer()
        endif
    endfunction
    
    function s__AntiAFK_createTimer takes nothing returns nothing
        call CreateTimerDialogBJ(udg_Host_Timer, "Choose modes")
        set udg_Host_Timer_Window=GetLastCreatedTimerDialogBJ()
        call TimerDialogDisplayBJ(true, udg_Host_Timer_Window)
    endfunction
    
    function s__AntiAFK_createDialog takes nothing returns nothing
        call DialogClear(udg_Host_Dialog)
        call DialogSetMessageBJ(udg_Host_Dialog, "Do you want to choose modes?")
        call DialogAddButtonBJ(udg_Host_Dialog, "Yes")
        set udg_Host_Dialog_Buttons[1]=GetLastCreatedButtonBJ()
        call DialogAddButtonBJ(udg_Host_Dialog, "No")
        set udg_Host_Dialog_Buttons[2]=GetLastCreatedButtonBJ()
    endfunction 
    
    function s__AntiAFK_chooseHost takes integer i returns player
        local integer j
        set j=i
        loop
            exitwhen j > 11
            if GetPlayerController(Player(j)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(j)) == PLAYER_SLOT_STATE_PLAYING then
                return Player(j)
            endif
            set j=j + 1
        endloop
        set j=0
        loop
            exitwhen j > 11
            if GetPlayerController(Player(j)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(j)) == PLAYER_SLOT_STATE_PLAYING then
                return Player(j)
            endif
            set j=j + 1
        endloop
        return Player(0)
    endfunction
    
    function s__AntiAFK_actions takes nothing returns nothing
        local trigger t= CreateTrigger()
        local integer hostplayer
        local integer i
        local integer length
        call TriggerRegisterDialogEventBJ(t, udg_Host_Dialog)
        call TriggerAddAction(t, function s__AntiAFK_clickDialog)
        set hostplayer=0
        set udg_Host=s__AntiAFK_chooseHost(hostplayer)
        call s__AntiAFK_createDialog()
        call s__AntiAFK_createTimer()
        call TimerStart(udg_Host_Timer, 20.0, false, function s__AntiAFK_timeOut)
        call DialogDisplayBJ(true, udg_Host_Dialog, udg_Host)
        call ReleaseTimer(GetExpiredTimer())
    endfunction
    
    function s__AntiAFK_onInit takes nothing returns nothing
        set udg_Host=Player(0)
        call TimerStartEx((NewTimerEx(0)) , 1.0 , false , function s__AntiAFK_actions , "AntiHostAFK_actions") // INLINED!!
    endfunction
        
//===========================================================================
// Trigger: DisplayModes
//===========================================================================
function Trig_DisplayModes_Func002001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_DisplayModes_Actions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_DisplayModes_Func002001001)), udg_ModeS)
endfunction

//===========================================================================
function InitTrig_DisplayModes takes nothing returns nothing
    local integer i= 0
    set gg_trg_DisplayModes=CreateTrigger()
    loop
        exitwhen i > 11
        call TriggerRegisterPlayerChatEvent(gg_trg_DisplayModes, Player(i), "-modes", true)
        set i=i + 1
    endloop
    call TriggerAddAction(gg_trg_DisplayModes, function Trig_DisplayModes_Actions)
endfunction


//===========================================================================
// Trigger: IncreaseBounty
//===========================================================================

    function s__ModeMinutesGold_actions takes nothing returns nothing
        local integer gold
        if GetOwningPlayer(GetTriggerUnit()) == Player(3) or GetOwningPlayer(GetTriggerUnit()) == Player(7) or GetOwningPlayer(GetTriggerUnit()) == Player(11) then
            set gold=GetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD)
            if udg_Mode30Min then
                call SetPlayerState(GetOwningPlayer(GetKillingUnit()), PLAYER_STATE_RESOURCE_GOLD, gold + 20)
            endif
        endif
    endfunction
    
    function s__ModeMinutesGold_onInit takes nothing returns nothing
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__ModeMinutesGold_actions))) // INLINED!!
    endfunction
    
//===========================================================================
// Trigger: BasesInvulMode
//===========================================================================
function Trig_BasesInvul_Actions takes nothing returns nothing
    
    	call EnableTrigger(gg_trg_TeamDuelMode)
	call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_BasesInvulMode takes nothing returns nothing
    set gg_trg_BasesInvulMode=CreateTrigger()
    call DisableTrigger(gg_trg_BasesInvulMode)
    call TriggerRegisterTimerEventPeriodic(gg_trg_BasesInvulMode, 0.03)
    call TriggerAddAction(gg_trg_BasesInvulMode, function Trig_BasesInvul_Actions)
endfunction


//===========================================================================
// Trigger: BasesInvulModeClicked
//===========================================================================
function Trig_BasesInvulModeClicked_Func001Func001C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_Base_Safe_Mode_Buttons[2] ) ) then
        return false
    endif
    return true
endfunction

function Trig_BasesInvulModeClicked_Func001C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_Base_Safe_Mode_Buttons[1] ) ) then
        return false
    endif
    return true
endfunction

function Trig_BasesInvulModeClicked_Actions takes nothing returns nothing
    if ( Trig_BasesInvulModeClicked_Func001C() ) then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebBase safe mode enabled!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_BaseSafeModeActions)
        call EnableTrigger(gg_trg_TeamDuelMode)
        //call EnableTrigger(gg_trg_MissionsMode)
        set udg_ModeS=udg_ModeS + "| Base safe on"
    else
        if ( Trig_BasesInvulModeClicked_Func001Func001C() ) then
            call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebBase safe mode disabled!|r" ))
            call PolledWait(1.00)
            call EnableTrigger(gg_trg_TeamDuelMode)
            //call EnableTrigger(gg_trg_MissionsMode)
            set udg_ModeS=udg_ModeS + "| Base safe off"
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_BasesInvulModeClicked takes nothing returns nothing
    set gg_trg_BasesInvulModeClicked=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_BasesInvulModeClicked, udg_Base_Safe_Mode_Dialog)
    call TriggerAddAction(gg_trg_BasesInvulModeClicked, function Trig_BasesInvulModeClicked_Actions)
endfunction


//===========================================================================
// Trigger: BaseSafeModeActions
//===========================================================================
function Trig_BaseSafeModeActions_Actions takes nothing returns nothing
    call SetUnitLifePercentBJ(udg_unit35, 100.0)
    call SetUnitLifePercentBJ(udg_unit40, 100.0)
    call SetUnitLifePercentBJ(udg_unit54, 100.0)
endfunction

//===========================================================================
function InitTrig_BaseSafeModeActions takes nothing returns nothing
    set gg_trg_BaseSafeModeActions=CreateTrigger()
    call DisableTrigger(gg_trg_BaseSafeModeActions)
    call TriggerRegisterTimerEventPeriodic(gg_trg_BaseSafeModeActions, 0.05)
    call TriggerAddAction(gg_trg_BaseSafeModeActions, function Trig_BaseSafeModeActions_Actions)
endfunction


//===========================================================================
// Trigger: PointMode
//===========================================================================
function Trig_PointMode_Actions takes nothing returns nothing
    call DialogClear(udg_Point_Mode_Dialog)
    call DialogSetMessageBJ(udg_Point_Mode_Dialog, "Max number of points")
    call DialogAddButtonBJ(udg_Point_Mode_Dialog, "300")
    set udg_Point_Mode_Buttons[1]=GetLastCreatedButtonBJ()
    call DialogAddButtonBJ(udg_Point_Mode_Dialog, "400")
    set udg_Point_Mode_Buttons[2]=GetLastCreatedButtonBJ()
    call DialogAddButtonBJ(udg_Point_Mode_Dialog, "500")
    set udg_Point_Mode_Buttons[3]=GetLastCreatedButtonBJ()
    call DialogDisplayBJ(true, udg_Point_Mode_Dialog, udg_Host)
    call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( "Now let " + ( GetPlayerName(udg_Host) + " define the maximum number of points to win." ) ))
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_PointMode takes nothing returns nothing
    set gg_trg_PointMode=CreateTrigger()
    call DisableTrigger(gg_trg_PointMode)
    call TriggerRegisterTimerEventPeriodic(gg_trg_PointMode, 0.03)
    call TriggerAddAction(gg_trg_PointMode, function Trig_PointMode_Actions)
endfunction


//===========================================================================
// Trigger: PointModeClicked
//===========================================================================

function Trig_PointModeClicked_Actions takes nothing returns nothing
    if GetClickedButtonBJ() == udg_Point_Mode_Buttons[1] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceeb300 points!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_BasesInvulMode)
        set udg_ModeS=udg_ModeS + "| 300 points"
        set udg_PointModeLimit=300
        set udg_PointModeEnabled=true
        call LeaderboardSetLabelBJ(udg_Leaderbox, "Team points (Max 300)")
    elseif GetClickedButtonBJ() == udg_Point_Mode_Buttons[2] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceeb400 points!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_BasesInvulMode)
        set udg_ModeS=udg_ModeS + "| 400 points"
        set udg_PointModeLimit=400
        set udg_PointModeEnabled=true
        call LeaderboardSetLabelBJ(udg_Leaderbox, "Team points (Max 400)")
    elseif GetClickedButtonBJ() == udg_Point_Mode_Buttons[3] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceeb500 points!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_BasesInvulMode)
        set udg_ModeS=udg_ModeS + "| 500 points"
        set udg_PointModeLimit=500
        set udg_PointModeEnabled=true
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=12
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call SetPlayerHandicapXP(Player(- 1 + ( bj_forLoopAIndex )), 2.0)
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call LeaderboardSetLabelBJ(udg_Leaderbox, "Team points (Max 500)")
    endif
endfunction

//===========================================================================
function InitTrig_PointModeClicked takes nothing returns nothing
    set gg_trg_PointModeClicked=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_PointModeClicked, udg_Point_Mode_Dialog)
    call TriggerAddAction(gg_trg_PointModeClicked, function Trig_PointModeClicked_Actions)
endfunction


//===========================================================================
// Trigger: TeamDuelMode
//===========================================================================
function Trig_TeamDuelMode_Actions takes nothing returns nothing
    call DialogClear(udg_Team_Duel_Mode_Dialog)
    call DialogSetMessageBJ(udg_Team_Duel_Mode_Dialog, "Team duel")
    call DialogAddButtonBJ(udg_Team_Duel_Mode_Dialog, "Disabled")
    set udg_Team_Duel_Mode_Buttons[2]=GetLastCreatedButtonBJ()
    call DialogAddButtonBJ(udg_Team_Duel_Mode_Dialog, "Enabled")
    set udg_Team_Duel_Mode_Buttons[1]=GetLastCreatedButtonBJ()
    call DialogDisplayBJ(true, udg_Team_Duel_Mode_Dialog, udg_Host)
    call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( "Now let " + ( GetPlayerName(udg_Host) + " define the team duel mode." ) ))
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_TeamDuelMode takes nothing returns nothing
    set gg_trg_TeamDuelMode=CreateTrigger()
    call DisableTrigger(gg_trg_TeamDuelMode)
    call TriggerRegisterTimerEventPeriodic(gg_trg_TeamDuelMode, 0.03)
    call TriggerAddAction(gg_trg_TeamDuelMode, function Trig_TeamDuelMode_Actions)
endfunction


//===========================================================================
// Trigger: TeamDuelModeClicked
//===========================================================================
function Trig_TeamDuelModeClicked_Func001Func001C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_Team_Duel_Mode_Buttons[2] ) ) then
        return false
    endif
    return true
endfunction

function Trig_TeamDuelModeClicked_Func001C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_Team_Duel_Mode_Buttons[1] ) ) then
        return false
    endif
    return true
endfunction

function Trig_TeamDuelModeClicked_Actions takes nothing returns nothing
 local integer i
    if ( Trig_TeamDuelModeClicked_Func001C() ) then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebTeam Duel enabled!|r" ))
        call StartTimerBJ(udg_TeamDuelTimer, false, 660.00)
        call CreateTimerDialogBJ(GetLastCreatedTimerBJ(), "TRIGSTR_15042")
        call PolledWait(1.00)
        set udg_TeamDuelEnabled=true
        call EnableTrigger(gg_trg_MissionsMode)
        set udg_ModeS=udg_ModeS + "| Team duel enabled"
    else
        if ( Trig_TeamDuelModeClicked_Func001Func001C() ) then
		
	    //set i = 0 
		//loop 
		//    exitwhen i > 15 
		//	call SetCameraBoundsToRectForPlayerBJ( Player(i), gg_rct_Camera1 )
		//	set i = i + 1 
		//endloop 
            call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebTeam Duel disabled!|r" ))
            call PolledWait(1.00)
            call EnableTrigger(gg_trg_MissionsMode)
            set udg_ModeS=udg_ModeS + "| Team duel disabled"
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_TeamDuelModeClicked takes nothing returns nothing
    set gg_trg_TeamDuelModeClicked=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_TeamDuelModeClicked, udg_Team_Duel_Mode_Dialog)
    call TriggerAddAction(gg_trg_TeamDuelModeClicked, function Trig_TeamDuelModeClicked_Actions)
endfunction


//===========================================================================
// Trigger: TeamDuelTimerExpired
//===========================================================================
function Trig_TeamDuelTimerExpired_FinishTeamDuel takes nothing returns nothing
 local integer i
 local real x
 local real y
	set udg_TeamDuelOn=false
	call DestroyTimerDialogBJ(udg_TeamDuelExpirationTimerWindow)
	set i=0
	loop
		if i != 3 and i != 7 and i != 11 then
			if IsPlayerSlotState(Player(i), PLAYER_SLOT_STATE_PLAYING) then
				if IsPlayerAlly(Player(i), Player(3)) then
					set x=GetRectCenterX(gg_rct_fonte_konoha)
					set y=GetRectCenterY(gg_rct_fonte_konoha)
				elseif IsPlayerAlly(Player(i), Player(7)) then
					set x=GetRectCenterX(gg_rct_fonte_evil)
					set y=GetRectCenterY(gg_rct_fonte_evil)
				elseif IsPlayerAlly(Player(i), Player(11)) then
					set x=GetRectCenterX(gg_rct_fonte_akt)
					set y=GetRectCenterY(gg_rct_fonte_akt)
				endif
				if IsPlayerInForce(Player(i), udg_TeamDuelPlayers) then
					call SetUnitPosition(udg_units33[i + 1], x, y)
				endif
				call PauseUnit(udg_units33[i + 1], false)
				call SetUnitInvulnerable(udg_units33[i + 1], false)
				call SetPlayerAbilityAvailableBJ(true, 'ANcl', Player(i))
			endif
		endif
		set i=i + 1
		exitwhen i > 11
	endloop
	call ForceClear(udg_TeamDuelPlayers)
endfunction 

function Trig_TeamDuelTimerExpired_CheckIfTeamDuelIsOver takes nothing returns nothing
 local boolean konoha= false
 local boolean oto= false
 local boolean akatsuki= false
 local integer i
	set i=0
	loop
		if IsPlayerInForce(Player(i), udg_TeamDuelPlayers) then
			if IsPlayerAlly(Player(i), Player(3)) then
				set konoha=true
			elseif IsPlayerAlly(Player(i), Player(7)) then
				set oto=true
			elseif IsPlayerAlly(Player(i), Player(11)) then
				set akatsuki=true
			endif
		endif
		set i=i + 1
		exitwhen i > 11
	endloop
	if konoha and not oto and not akatsuki then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Konohagakure won the team duel!|r")
	elseif oto and not konoha and not akatsuki then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Otogakure won the team duel!|r")
	elseif akatsuki and not konoha and not akatsuki then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Akatsuki won the team duel!|r")
	else
		return
	endif
	set i=0
	loop
		if IsPlayerInForce(Player(i), udg_TeamDuelPlayers) then
			call PauseUnit(udg_units33[i + 1], true)
			call SetUnitInvulnerable(udg_units33[i + 1], true)
		endif
		set i=i + 1
		exitwhen i > 11
	endloop
	call TriggerSleepAction(5.0)
	call Trig_TeamDuelTimerExpired_FinishTeamDuel()
endfunction 

function Trig_TeamDuelTimerExpired_Leave takes nothing returns nothing
    if IsPlayerInForce(GetTriggerPlayer(), udg_TeamDuelPlayers) then
        call ForceRemovePlayer(udg_TeamDuelPlayers, GetTriggerPlayer())
        call Trig_TeamDuelTimerExpired_CheckIfTeamDuelIsOver()
    endif
endfunction 

function Trig_TeamDuelTimerExpired_FinishTeamDuel2 takes nothing returns nothing
 local integer i
 local real x
 local real y
    if udg_PointMode then
        call ResumeTimer(udg_timer02)
    endif
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000The team duel was a draw!|r")
	set udg_TeamDuelOn=false
	call DestroyTimerDialogBJ(udg_TeamDuelExpirationTimerWindow)
	set i=0
	loop
		if i != 3 and i != 7 and i != 11 then
			if IsPlayerSlotState(Player(i), PLAYER_SLOT_STATE_PLAYING) and GetPlayerController(Player(i)) == MAP_CONTROL_USER and GetWidgetLife(udg_units33[i + 1]) > 0.405 then
				if IsPlayerAlly(Player(i), Player(3)) then
                    set x=GetRectCenterX(gg_rct_fonte_konoha)
                    set y=GetRectCenterY(gg_rct_fonte_konoha)
                elseif IsPlayerAlly(Player(i), Player(7)) then
                    set x=GetRectCenterX(gg_rct_fonte_evil)
                    set y=GetRectCenterY(gg_rct_fonte_evil)
                elseif IsPlayerAlly(Player(i), Player(11)) then
                    set x=GetRectCenterX(gg_rct_fonte_akt)
                    set y=GetRectCenterY(gg_rct_fonte_akt)
                endif
                if IsPlayerInForce(Player(i), udg_TeamDuelPlayers) then
					call SetUnitPosition(udg_units33[i + 1], x, y)
				endif
                if GetWidgetLife(udg_units33[i + 1]) < 0.405 then
					call ReviveHero(udg_units33[i + 1], x, y, false)
				endif
				call PauseUnit(udg_units33[i + 1], false)
				call SetUnitInvulnerable(udg_units33[i + 1], false)
			endif
            call SetPlayerAbilityAvailableBJ(true, 'ANcl', Player(i))
		endif
		set i=i + 1
		exitwhen i > 11
	endloop
	call ForceClear(udg_TeamDuelPlayers)
endfunction 

function Trig_TeamDuelTimerExpired_Actions takes nothing returns nothing
    local integer i
    local real x
    local real y
    local integer count_konoha= 0
    local integer count_oto= 0
    local integer count_akat= 0
    local integer min
    local location l
    set i=0
    loop
        if i != 3 and i != 7 and i != 11 then
            if IsPlayerSlotState(Player(i), PLAYER_SLOT_STATE_PLAYING) then
                if IsPlayerAlly(Player(i), Player(3)) then
                    set count_konoha=count_konoha + 1
                elseif IsPlayerAlly(Player(i), Player(7)) then
                    set count_oto=count_oto + 1
                elseif IsPlayerAlly(Player(i), Player(11)) then
                    set count_akat=count_akat + 1
                endif
            endif
        endif
        set udg_HeroDied[i]=false
        exitwhen i > 11
        set i=i + 1
    endloop
    if count_konoha == 0 then
        if count_oto <= count_akat then
            set min=count_oto
        else
            set min=count_akat
        endif
    elseif count_oto == 0 then
        if count_konoha <= count_akat then
            set min=count_konoha
        else
            set min=count_akat
        endif
    elseif count_akat == 0 then
        if count_konoha <= count_oto then
            set min=count_konoha
        else
            set min=count_akat
        endif
    else
        if count_konoha <= count_oto and count_konoha <= count_akat then
            set min=count_konoha
        elseif count_oto <= count_konoha and count_oto <= count_akat then
            set min=count_oto
        else
            set min=count_akat
        endif
    endif
    set count_konoha=0
    set count_oto=0
    set count_akat=0
    set udg_TeamDuelOn=true
    set udg_TeamDuelStarted=false
    if udg_PointMode then
        call PauseTimer(udg_timer02)
    endif
    set i=0
    loop
        if i != 3 and i != 7 and i != 11 then
            if IsPlayerSlotState(Player(i), PLAYER_SLOT_STATE_PLAYING) and udg_units33[i + 1] != null then
                if IsPlayerAlly(Player(i), Player(3)) then
                    set x=GetRectCenterX(gg_rct_fonte_konoha)
                    set y=GetRectCenterY(gg_rct_fonte_konoha)
                elseif IsPlayerAlly(Player(i), Player(7)) then
                    set x=GetRectCenterX(gg_rct_fonte_evil)
                    set y=GetRectCenterY(gg_rct_fonte_evil)
                elseif IsPlayerAlly(Player(i), Player(11)) then
                    set x=GetRectCenterX(gg_rct_fonte_akt)
                    set y=GetRectCenterY(gg_rct_fonte_akt)
                endif
                if GetWidgetLife(udg_units33[i + 1]) < 0.405 then
                    call ReviveHero(udg_units33[i + 1], x, y, false)
                endif
                call PauseUnit(udg_units33[i + 1], true)
                call SetUnitInvulnerable(udg_units33[i + 1], true)
                call SetPlayerAbilityAvailableBJ(false, 'ANcl', Player(i))
                //if (IsPlayerAlly(Player(i), Player(3)) and count_konoha < min) or (IsPlayerAlly(Player(i), Player(7)) and count_oto < min) or (IsPlayerAlly(Player(i), Player(11)) and count_akat < min) then 
                    call SetUnitState(udg_units33[i + 1], UNIT_STATE_LIFE, GetUnitState(udg_units33[i + 1], UNIT_STATE_MAX_LIFE))
                    call SetUnitState(udg_units33[i + 1], UNIT_STATE_MANA, GetUnitState(udg_units33[i + 1], UNIT_STATE_MAX_MANA))
                    call UnitResetCooldown(udg_units33[i + 1])
                    call UnitRemoveBuffs(udg_units33[i + 1], true, true)
                    call ForceAddPlayer(udg_TeamDuelPlayers, Player(i))
                    
                //endif 
            endif
        endif
        exitwhen i > 11
        set i=i + 1
    endloop
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Team duel will start in five seconds.|r")
    call TriggerSleepAction(5.0)
    set i=0
    loop
        if IsPlayerInForce(Player(i), udg_TeamDuelPlayers) then
            set l=GetRandomLocInRect(gg_rct_DeathForest)
            set x=GetLocationX(l)
            set y=GetLocationY(l)
            call RemoveLocation(l)
            set l=null
            
            call PanCameraToTimedForPlayer(Player(i), x, y, 0)
            //if GetWidgetLife(udg_units33[i + 1]) <= 0.405 then 
                call ReviveHero(udg_units33[i + 1], x, y, false)
            //endif
            call PauseUnit(udg_units33[i + 1], false)
            call SetUnitInvulnerable(udg_units33[i + 1], false)
            call SetUnitPosition(udg_units33[i + 1], x, y)
            call SetUnitFacing(udg_units33[i + 1], 270.0)
        endif
        exitwhen i > 11
        set i=i + 1
    endloop
    call StartTimerBJ(udg_TeamDuelExpirationTimer, false, 120.00)
    call CreateTimerDialogBJ(GetLastCreatedTimerBJ(), "TRIGSTR_15314")
    set udg_TeamDuelExpirationTimerWindow=GetLastCreatedTimerDialogBJ()
    set udg_TeamDuelStarted=true
    call PolledWait(120.0)
    if udg_TeamDuelOn then
        call Trig_TeamDuelTimerExpired_FinishTeamDuel2()
        if udg_PointMode then
            call ResumeTimer(udg_timer02)
        endif
        call StartTimerBJ(udg_TeamDuelTimer, false, 660.00)
    endif
endfunction

//===========================================================================
function InitTrig_TeamDuelTimerExpired takes nothing returns nothing
    local integer i= 0
    local trigger t= CreateTrigger()
    loop
        call TriggerRegisterPlayerEventLeave(t, Player(i))
        set i=i + 1
        exitwhen i > 11
    endloop
    call TriggerAddAction(t, function Trig_TeamDuelTimerExpired_Leave)
    set gg_trg_TeamDuelTimerExpired=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_TeamDuelTimerExpired, udg_TeamDuelTimer)
    call TriggerAddAction(gg_trg_TeamDuelTimerExpired, function Trig_TeamDuelTimerExpired_Actions)
endfunction


//===========================================================================
// Trigger: TeamDuelDontLeaveArena
//===========================================================================
function Trig_TeamDuelDontLeaveArena_Conditions takes nothing returns boolean
    if ( not ( udg_TeamDuelOn == true ) ) then
        return false
    endif
    if ( not ( IsPlayerInForce(GetTriggerPlayer(), udg_TeamDuelPlayers) == true ) ) then
        return false
    endif
    return false
endfunction

function Trig_TeamDuelDontLeaveArena_Actions takes nothing returns nothing
    call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_DeathForest), GetRectCenterY(gg_rct_DeathForest))
endfunction

//===========================================================================
function InitTrig_TeamDuelDontLeaveArena takes nothing returns nothing
    set gg_trg_TeamDuelDontLeaveArena=CreateTrigger()
    call TriggerRegisterLeaveRectSimple(gg_trg_TeamDuelDontLeaveArena, gg_rct_DeathForest)
    call TriggerAddCondition(gg_trg_TeamDuelDontLeaveArena, Condition(function Trig_TeamDuelDontLeaveArena_Conditions))
    call TriggerAddAction(gg_trg_TeamDuelDontLeaveArena, function Trig_TeamDuelDontLeaveArena_Actions)
endfunction


//===========================================================================
// Trigger: FixTeamDuelLocations
//===========================================================================

    function s__FixTeamDuelLocations_check takes nothing returns nothing
        local integer i= 0
        local real x
        local real y
        local location l
        if udg_TeamDuelOn then
            if udg_TeamDuelStarted then
                loop
                    set i=i + 1
                    if udg_units33[i] != null and not RectContainsUnit(gg_rct_DeathForest, udg_units33[i]) and not udg_HeroDied[i - 1] then
                        
                        set l=GetRandomLocInRect(gg_rct_DeathForest)
                        call SetUnitPositionLoc(udg_units33[i], l)
                        call RemoveLocation(l)
                        set l=null
                        //call SetUnitPosition(udg_units33[i], GetRectCenterX(gg_rct_DeathForest), GetRectCenterY(gg_rct_DeathForest))
                    endif
                    exitwhen i >= 12
                endloop
            endif
        elseif not udg_BattleRoyal and not s__TeamDuel_STARTED then
            loop
                set i=i + 1
                if udg_units33[i] != null and RectContainsUnit(gg_rct_DeathForest, udg_units33[i]) then
                    if IsPlayerAlly(Player(i - 1), Player(3)) then
                        set x=GetRectCenterX(gg_rct_fonte_konoha)
                        set y=GetRectCenterY(gg_rct_fonte_konoha)
                    elseif IsPlayerAlly(Player(i - 1), Player(7)) then
                        set x=GetRectCenterX(gg_rct_fonte_evil)
                        set y=GetRectCenterY(gg_rct_fonte_evil)
                    else
                        set x=GetRectCenterX(gg_rct_fonte_akt)
                        set y=GetRectCenterY(gg_rct_fonte_akt)
                    endif
                    call SetUnitPosition(udg_units33[i], x, y)
                endif
                exitwhen i >= 12
            endloop
        endif
    endfunction 
    
    function s__FixTeamDuelLocations_onInit takes nothing returns nothing
        call TimerStart((NewTimerEx(0)), 0.5, true, function s__FixTeamDuelLocations_check) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: KillMode
//===========================================================================
function Trig_KillMode_Actions takes nothing returns nothing
    call DialogClear(udg_Kill_Mode_Dialog)
    call DialogSetMessageBJ(udg_Kill_Mode_Dialog, "Max number of kills")
    call DialogAddButtonBJ(udg_Kill_Mode_Dialog, "30")
    set udg_Kill_Mode_Buttons[1]=GetLastCreatedButtonBJ()
    call DialogAddButtonBJ(udg_Kill_Mode_Dialog, "50")
    set udg_Kill_Mode_Buttons[2]=GetLastCreatedButtonBJ()
    call DialogAddButtonBJ(udg_Kill_Mode_Dialog, "70")
    set udg_Kill_Mode_Buttons[3]=GetLastCreatedButtonBJ()
    call DialogDisplayBJ(true, udg_Kill_Mode_Dialog, udg_Host)
    call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( "Now let " + ( GetPlayerName(udg_Host) + " define the maximum number of kills to win." ) ))
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_KillMode takes nothing returns nothing
    set gg_trg_KillMode=CreateTrigger()
    call DisableTrigger(gg_trg_KillMode)
    call TriggerRegisterTimerEventPeriodic(gg_trg_KillMode, 0.03)
    call TriggerAddAction(gg_trg_KillMode, function Trig_KillMode_Actions)
endfunction


//===========================================================================
// Trigger: KillModeClicked
//===========================================================================
function Trig_KillModeClicked_Actions takes nothing returns nothing
    if GetClickedButtonBJ() == udg_Kill_Mode_Buttons[1] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceeb30 Kills!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_BasesInvulMode)
        set udg_ModeS=udg_ModeS + "| 30 Kills"
        set udg_KillModeLimit=30
        set udg_KillModeEnabled=true
        call LeaderboardSetLabelBJ(udg_Leaderbox, "Team kills (Max 30)")
    elseif GetClickedButtonBJ() == udg_Kill_Mode_Buttons[2] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceeb50 Kills!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_BasesInvulMode)
        set udg_ModeS=udg_ModeS + "| 50 Kills"
        set udg_KillModeLimit=50
        set udg_KillModeEnabled=true
        call LeaderboardSetLabelBJ(udg_Leaderbox, "Team kills (Max 50)")
    elseif GetClickedButtonBJ() == udg_Kill_Mode_Buttons[3] then
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=12
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            call SetPlayerHandicapXP(Player(- 1 + ( bj_forLoopAIndex )), 2.0)
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceeb70 Kills!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_BasesInvulMode)
        set udg_ModeS=udg_ModeS + "| 70 Kills"
        set udg_KillModeLimit=70
        set udg_KillModeEnabled=true
        call LeaderboardSetLabelBJ(udg_Leaderbox, "Team kills (Max 70)")
    endif
endfunction

//===========================================================================
function InitTrig_KillModeClicked takes nothing returns nothing
    set gg_trg_KillModeClicked=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_KillModeClicked, udg_Kill_Mode_Dialog)
    call TriggerAddAction(gg_trg_KillModeClicked, function Trig_KillModeClicked_Actions)
endfunction


//===========================================================================
// Trigger: MissionsMode
//===========================================================================
function Trig_MissionsMode_Actions takes nothing returns nothing
    call DialogClear(udg_Missions_Mode_Dialog)
    call DialogSetMessageBJ(udg_Missions_Mode_Dialog, "Missions")
    call DialogAddButtonBJ(udg_Missions_Mode_Dialog, "Enabled")
    set udg_Missions_Mode_Buttons[1]=GetLastCreatedButtonBJ()
    call DialogAddButtonBJ(udg_Missions_Mode_Dialog, "Disabled")
    set udg_Missions_Mode_Buttons[2]=GetLastCreatedButtonBJ()
    call DialogDisplayBJ(true, udg_Missions_Mode_Dialog, udg_Host)
    call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( "Now let " + ( GetPlayerName(udg_Host) + " define the missions mode." ) ))
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_MissionsMode takes nothing returns nothing
    set gg_trg_MissionsMode=CreateTrigger()
    call DisableTrigger(gg_trg_MissionsMode)
    call TriggerRegisterTimerEventPeriodic(gg_trg_MissionsMode, 0.03)
    call TriggerAddAction(gg_trg_MissionsMode, function Trig_MissionsMode_Actions)
endfunction


//===========================================================================
// Trigger: MissionsModeClicked
//===========================================================================

function Trig_MissionsModeClicked_Actions takes nothing returns nothing
    if GetClickedButtonBJ() == udg_Missions_Mode_Buttons[1] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebMission enabled|r!" ))
        call PolledWait(1.00)
        set udg_MissionsEnabled=true
        call EnableTrigger(gg_trg_BanTotsukaMode)
        set udg_ModeS=udg_ModeS + "| Missions enabled"
    else
        if GetClickedButtonBJ() == udg_Missions_Mode_Buttons[2] then
            call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebMissions disabled|r!" ))
            call PolledWait(1.00)
            call EnableTrigger(gg_trg_BanTotsukaMode)
            set udg_ModeS=udg_ModeS + "| Missions disabled"
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_MissionsModeClicked takes nothing returns nothing
    set gg_trg_MissionsModeClicked=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_MissionsModeClicked, udg_Missions_Mode_Dialog)
    call TriggerAddAction(gg_trg_MissionsModeClicked, function Trig_MissionsModeClicked_Actions)
endfunction


//===========================================================================
// Trigger: MissionBRank
//===========================================================================

function Trig_MissionBRank_EnterRect takes nothing returns nothing
    if udg_MissionBUnit == null or ( GetOwningPlayer(GetEnteringUnit()) != GetOwningPlayer(udg_MissionBUnit) and IsUnitType(GetEnteringUnit(), UNIT_TYPE_HERO) == true ) then
        //call SetUnitPosition(GetEnteringUnit(), 0, 0)
	call KillUnit(GetEnteringUnit())
    endif
endfunction 

function Trig_MissionBRank_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'I05B' ) ) then
        return false
    endif
    return true
endfunction

function Trig_MissionBRank_Actions takes nothing returns nothing
    local integer team
    local boolean haspoints
    if not udg_MissionsEnabled then
        return
    endif
    if IsPlayerAlly(GetTriggerPlayer(), Player(3)) then
        set team=0
        set haspoints=( GetTeamPoints(7) - GetTeamPoints(3) ) >= 80 or ( GetTeamPoints(11) - GetTeamPoints(3) >= 80 )
    elseif IsPlayerAlly(GetTriggerPlayer(), Player(7)) then
        set team=1
        set haspoints=( GetTeamPoints(3) - GetTeamPoints(7) ) >= 80 or ( GetTeamPoints(11) - GetTeamPoints(7) >= 80 )
    else
        set team=2
        set haspoints=( GetTeamPoints(3) - GetTeamPoints(11) ) >= 80 or ( GetTeamPoints(7) - GetTeamPoints(11) >= 80 )
    endif
    if not udg_MissionBRankActive then
        if not udg_MissionBRankTeamCompleted[team] then
            if haspoints then
		if true then // not IsUnitInGroup(udg_units33[GetPlayerId(GetTriggerPlayer())+1], udg_MissionComplete) then
                	set udg_MissionBRankActive=true
                	set udg_MissionBRankTeams[team]=true
                	set udg_MissionBUnit=udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
                	set udg_MissionBCount=0
                	//if GetWidgetLife(gg_unit_U00R_0077) < 0.405 then 
                    	call ReviveHero(gg_unit_U00R_0077, 6654, 41, false)
                	//endif
				call ShowUnit(gg_unit_U00R_0077, true)
                	call SetUnitPosition(gg_unit_U00R_0077, 6654, 41)
                	call SetUnitLifePercentBJ(gg_unit_U00R_0077, 100.0)
                	call SetUnitManaPercentBJ(gg_unit_U00R_0077, 100.0)
                	//if GetWidgetLife(gg_unit_H09A_0076) < 0.405 then 
                    	call ReviveHero(gg_unit_H09A_0076, 6919, 349, false)
                	//endif
				call ShowUnit(gg_unit_H09A_0076, true)
                	call SetUnitPosition(gg_unit_H09A_0076, 6919, 349)
                	call SetUnitLifePercentBJ(gg_unit_H09A_0076, 100.0)
                	call SetUnitManaPercentBJ(gg_unit_H09A_0076, 100.0)
                	//if GetWidgetLife(gg_unit_U00Q_0078) < 0.405 then 
                    	call ReviveHero(gg_unit_U00Q_0078, 7174, 16, false)
                	//endif 
				call ShowUnit(gg_unit_U00Q_0078, true)
                	call SetUnitPosition(gg_unit_U00Q_0078, 7174, 16)
                	call SetUnitLifePercentBJ(gg_unit_U00Q_0078, 100.0)
                	call SetUnitManaPercentBJ(gg_unit_U00Q_0078, 100.0)
                	call SetUnitPosition(udg_MissionBUnit, GetRectCenterX(gg_rct_MissionBEntry), GetRectCenterY(gg_rct_MissionBEntry))
			call PanCameraToTimedForPlayer(GetOwningPlayer(udg_MissionBUnit), GetRectCenterX(gg_rct_MissionBEntry), GetRectCenterY(gg_rct_MissionBEntry), 0)
            	else
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You have already completed a mission. You can only do one at a time.|r")
		endif
	    else
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Your team must have 80 points below the winning team before doing this mission.|r")
            endif
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000This mission was already done by your team.|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Someone is already doing this mission at this moment.|r")
    endif
endfunction

function Trig_MissionBRank_Dies takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetTriggerPlayer(), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetTriggerPlayer(), Player(7)) then
        set team=1
    else
        set team=2
    endif
    if GetTriggerUnit() == udg_MissionBUnit then
        set udg_MissionBRankActive=false
        set udg_MissionBRankTeams[team]=false
        set udg_MissionBUnit=null
    endif
endfunction 

function Trig_MissionBRank_Count takes nothing returns nothing
    local integer i= 0
    local integer team
    if IsPlayerAlly(GetOwningPlayer(udg_MissionBUnit), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetOwningPlayer(udg_MissionBUnit), Player(7)) then
        set team=1
    else
        set team=2
    endif
    set udg_MissionBCount=udg_MissionBCount + 1
    if udg_MissionBCount >= 3 and udg_MissionBRankActive then
	set udg_MissionBRankTeamCompleted[team]=true
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(GetOwningPlayer(udg_MissionBUnit)) + 1] + GetUnitName(udg_MissionBUnit) + " |cff87ceebcompleted a B-Rank mission!|r")
        loop
            exitwhen i > 11
            if IsPlayerAlly(Player(i), GetOwningPlayer(udg_MissionBUnit)) and udg_units33[i + 1] != null then
                call SetHeroLevel(udg_units33[i + 1], GetHeroLevel(udg_units33[i + 1]) + 5, true)
            endif
            set i=i + 1
        endloop
        if IsPlayerAlly(GetOwningPlayer(udg_MissionBUnit), Player(3)) then
            call SetUnitPosition(udg_MissionBUnit, GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
        elseif IsPlayerAlly(GetOwningPlayer(udg_MissionBUnit), Player(7)) then
            call SetUnitPosition(udg_MissionBUnit, GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
        else
            call SetUnitPosition(udg_MissionBUnit, GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
        endif
	//call GroupAddUnit(udg_MissionComplete, udg_MissionBUnit)
        set udg_MissionBUnit=null
        set udg_MissionBRankActive=false
    endif
endfunction

//===========================================================================
function InitTrig_MissionBRank takes nothing returns nothing
    local trigger t2= CreateTrigger()
    local trigger t3= CreateTrigger()
    local trigger t= CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function Trig_MissionBRank_Dies)
    
    call TriggerRegisterUnitEvent(t2, gg_unit_U00R_0077, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t2, gg_unit_H09A_0076, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t2, gg_unit_U00Q_0078, EVENT_UNIT_DEATH)
    call TriggerAddAction(t2, function Trig_MissionBRank_Count)
    
    set gg_trg_MissionBRank=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_MissionBRank, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg_MissionBRank, Condition(function Trig_MissionBRank_Conditions))
    call TriggerAddAction(gg_trg_MissionBRank, function Trig_MissionBRank_Actions)
    
    call TriggerRegisterEnterRectSimple(t3, gg_rct_MissionB)
    call TriggerAddAction(t3, function Trig_MissionBRank_EnterRect)
endfunction


//===========================================================================
// Trigger: MissionBRankExit
//===========================================================================
function Trig_MissionBRankExit_Actions takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(7)) then
        set team=1
    else
        set team=2
    endif
    if GetTriggerUnit() == udg_MissionBUnit then
        set udg_MissionBRankActive=false
	set udg_MissionBRankTeams[team]=false
        set udg_MissionBUnit=null
    endif
    if IsUnitAlly(GetTriggerUnit(), Player(3)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
    elseif IsUnitAlly(GetTriggerUnit(), Player(7)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
    elseif IsUnitAlly(GetTriggerUnit(), Player(11)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
    endif
    if not udg_MissionBRankTeamCompleted[team] then
	call KillUnit(GetTriggerUnit())
    endif
endfunction

//===========================================================================
function InitTrig_MissionBRankExit takes nothing returns nothing
    set gg_trg_MissionBRankExit=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_MissionBRankExit, gg_rct_MissionBExit)
    call TriggerAddAction(gg_trg_MissionBRankExit, function Trig_MissionBRankExit_Actions)
endfunction


//===========================================================================
// Trigger: MissionARank
//===========================================================================

function Trig_MissionARank_EnterRect takes nothing returns nothing
    if udg_MissionAUnit == null or ( GetOwningPlayer(GetEnteringUnit()) != GetOwningPlayer(udg_MissionAUnit) and IsUnitType(GetEnteringUnit(), UNIT_TYPE_HERO) == true ) then
        //call SetUnitPosition(GetEnteringUnit(), 0, 0)
	call KillUnit(GetEnteringUnit())
    endif
endfunction 

function Trig_MissionARank_Conditions takes nothing returns boolean
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'I05C' ) ) then
        return false
    endif
    return true
endfunction

function Trig_MissionARank_Actions takes nothing returns nothing
    local integer team
    local boolean haspoints
    if not udg_MissionsEnabled then
        return
    endif
    if IsPlayerAlly(GetTriggerPlayer(), Player(3)) then
        set team=0
        set haspoints=( GetTeamPoints(7) - GetTeamPoints(3) ) >= 160 or ( GetTeamPoints(11) - GetTeamPoints(3) >= 160 )
    elseif IsPlayerAlly(GetTriggerPlayer(), Player(7)) then
        set team=1
        set haspoints=( GetTeamPoints(3) - GetTeamPoints(7) ) >= 160 or ( GetTeamPoints(11) - GetTeamPoints(7) >= 160 )
    else
        set team=2
        set haspoints=( GetTeamPoints(3) - GetTeamPoints(11) ) >= 160 or ( GetTeamPoints(7) - GetTeamPoints(11) >= 160 )
    endif
    if not udg_MissionARankActive then
        if not udg_MissionARankTeamCompleted[team] then
            if haspoints then
		if not IsUnitInGroup(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], udg_MissionComplete) then
                	set udg_MissionARankActive=true
                	set udg_MissionARankTeams[team]=true
                	set udg_MissionAUnit=udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
                	set udg_MissionACount=0
                	//if GetWidgetLife(gg_unit_U00S_0079) < 0.405 then 
                    	call ReviveHero(gg_unit_U00S_0079, 7920, - 7325, false)
                	//endif
			call ShowUnit(gg_unit_U00S_0079, true)
                	call SetUnitPosition(gg_unit_U00S_0079, 7920, - 7325)
                	call SetUnitLifePercentBJ(gg_unit_U00S_0079, 100.0)
                	call SetUnitManaPercentBJ(gg_unit_U00S_0079, 100.0)
                	//if GetWidgetLife(gg_unit_N01Q_0080) < 0.405 then 
                    	call ReviveHero(gg_unit_N01Q_0080, 7929, - 7538, false)
                	//endif
			call ShowUnit(gg_unit_N01Q_0080, true)
                	call SetUnitPosition(gg_unit_N01Q_0080, 7929, - 7538)
                	call SetUnitLifePercentBJ(gg_unit_N01Q_0080, 100.0)
                	call SetUnitManaPercentBJ(gg_unit_N01Q_0080, 100.0)
                	call SetUnitPosition(udg_MissionAUnit, GetRectCenterX(gg_rct_MissionAEntry), GetRectCenterY(gg_rct_MissionAEntry))
                	call PanCameraToTimedForPlayer(GetOwningPlayer(udg_MissionAUnit), GetRectCenterX(gg_rct_MissionAEntry), GetRectCenterY(gg_rct_MissionAEntry), 0)
            	else
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You have already completed a mission. You can only do one at a time.|r")
		endif
	    else
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Your team must have 160 points below the winning team before doing this mission.|r")
            endif
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000This mission was already done by your team.|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Someone is already doing this mission at this moment.|r")
    endif
endfunction

function Trig_MissionARank_Dies takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetTriggerPlayer(), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetTriggerPlayer(), Player(7)) then
        set team=1
    else
        set team=2
    endif
    if GetTriggerUnit() == udg_MissionAUnit then
        set udg_MissionARankActive=false
        set udg_MissionARankTeams[team]=false
        set udg_MissionAUnit=null
    endif
endfunction 

function Trig_MissionARank_GetBank takes nothing returns unit
    local unit bank= null
    set bj_lastCreatedGroup=CreateGroup()
    call GroupEnumUnitsOfPlayer(bj_lastCreatedGroup, GetOwningPlayer(udg_MissionAUnit), null)
    loop
        set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
        exitwhen bj_lastCreatedUnit == null
        if GetUnitTypeId(bj_lastCreatedUnit) == 'ncop' then
            set bank=bj_lastCreatedUnit
            exitwhen true
        endif
        call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
    endloop
    call DestroyGroup(bj_lastCreatedGroup)
    return bank
endfunction 

function Trig_MissionARank_InventoryFull takes nothing returns boolean
    local integer i= 0
    loop
        exitwhen i > 5
        if UnitItemInSlot(udg_MissionAUnit, i) == null then
            return false
        endif
        set i=i + 1
    endloop
    return true
endfunction 

function Trig_MissionARank_Count takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetOwningPlayer(udg_MissionAUnit), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetOwningPlayer(udg_MissionAUnit), Player(7)) then
        set team=1
    else
        set team=2
    endif
    set udg_MissionACount=udg_MissionACount + 1
    if udg_MissionACount >= 2 and udg_MissionARankActive then
	set udg_MissionARankTeamCompleted[team]=true
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(GetOwningPlayer(udg_MissionAUnit)) + 1] + GetUnitName(udg_MissionAUnit) + " |cff87ceebcompleted a A-Rank mission!|r")
        //call SetPlayerState(GetOwningPlayer(udg_MissionAUnit), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetOwningPlayer(udg_MissionAUnit), PLAYER_STATE_RESOURCE_GOLD) + 15000)
        //if Trig_MissionARank_InventoryFull() then 
            call UnitAddItemByIdSwapped('I076', Trig_MissionARank_GetBank())
        //else 
        //    call UnitAddItemByIdSwapped('I01V', udg_MissionAUnit)
        //endif 
	call GroupAddUnit(udg_MissionComplete, udg_MissionAUnit)
        if IsPlayerAlly(GetOwningPlayer(udg_MissionAUnit), Player(3)) then
            call SetUnitPosition(udg_MissionAUnit, GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
        elseif IsPlayerAlly(GetOwningPlayer(udg_MissionAUnit), Player(7)) then
            call SetUnitPosition(udg_MissionAUnit, GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
        else
            call SetUnitPosition(udg_MissionAUnit, GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
        endif
        set udg_MissionAUnit=null
        set udg_MissionARankActive=false
    endif
endfunction

//===========================================================================
function InitTrig_MissionARank takes nothing returns nothing
    local trigger t3= CreateTrigger()
    local trigger t2= CreateTrigger()
    local trigger t= CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function Trig_MissionARank_Dies)
    
    call TriggerRegisterUnitEvent(t2, gg_unit_U00S_0079, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t2, gg_unit_N01Q_0080, EVENT_UNIT_DEATH)
    call TriggerAddAction(t2, function Trig_MissionARank_Count)
    
    set gg_trg_MissionARank=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_MissionARank, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(gg_trg_MissionARank, Condition(function Trig_MissionARank_Conditions))
    call TriggerAddAction(gg_trg_MissionARank, function Trig_MissionARank_Actions)

    call TriggerRegisterEnterRectSimple(t3, gg_rct_MissionA)
    call TriggerAddAction(t3, function Trig_MissionARank_EnterRect)
endfunction


//===========================================================================
// Trigger: MissionARankExit
//===========================================================================
function Trig_MissionARankExit_Actions takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(7)) then
        set team=1
    else
        set team=2
    endif
    if GetTriggerUnit() == udg_MissionAUnit then
        set udg_MissionARankActive=false
        set udg_MissionARankTeams[team]=false
        set udg_MissionAUnit=null
    endif
    if IsUnitAlly(GetTriggerUnit(), Player(3)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
    elseif IsUnitAlly(GetTriggerUnit(), Player(7)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
    elseif IsUnitAlly(GetTriggerUnit(), Player(11)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
    endif
    if not udg_MissionARankTeamCompleted[team] then
	call KillUnit(GetTriggerUnit())
    endif
endfunction

//===========================================================================
function InitTrig_MissionARankExit takes nothing returns nothing
    set gg_trg_MissionARankExit=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_MissionARankExit, gg_rct_MissionAExit)
    call TriggerAddAction(gg_trg_MissionARankExit, function Trig_MissionARankExit_Actions)
endfunction


//===========================================================================
// Trigger: MissionARankReward
//===========================================================================

//Implemented from module Alloc:
    
        function s__MissionARankReward_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__MissionARankReward_Alloc__recycle[(0)] == 0 ) then
                set s__MissionARankReward_Alloc__instanceCount=s__MissionARankReward_Alloc__instanceCount + 1
                set this=s__MissionARankReward_Alloc__instanceCount
            else
                set this=s__MissionARankReward_Alloc__recycle[(0)]
                set s__MissionARankReward_Alloc__recycle[(0)]=s__MissionARankReward_Alloc__recycle[s__MissionARankReward_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__MissionARankReward_deallocate takes integer this returns nothing
            set s__MissionARankReward_Alloc__recycle[this]=s__MissionARankReward_Alloc__recycle[(0)]
            set s__MissionARankReward_Alloc__recycle[(0)]=this
        endfunction

 function s__MissionARankReward_pickReward takes nothing returns boolean
		if (GetClickedButton()) == s__MissionARankReward_buttonSanninCloth then // INLINED!!
            		call UnitAddItemEx(s__MissionARankReward_u , 'I01V')
        	else
			if GetHeroStr(s__MissionARankReward_u, true) >= GetHeroAgi(s__MissionARankReward_u, true) and GetHeroStr(s__MissionARankReward_u, true) >= GetHeroInt(s__MissionARankReward_u, true) then
				call UnitAddItemEx(s__MissionARankReward_u , 'I016')
			elseif GetHeroAgi(s__MissionARankReward_u, true) >= GetHeroStr(s__MissionARankReward_u, true) and GetHeroAgi(s__MissionARankReward_u, true) >= GetHeroInt(s__MissionARankReward_u, true) then
				call UnitAddItemEx(s__MissionARankReward_u , 'I01F')
			else
				call UnitAddItemEx(s__MissionARankReward_u , 'I01O')
			endif
        	endif
		call s__Dialog_destroy(s__MissionARankReward_d)
		return false
 endfunction 

 function s__MissionARankReward_actions takes nothing returns nothing
			set s__MissionARankReward_u=GetTriggerUnit()
			set s__MissionARankReward_d=s__Dialog_create()
			call s__Dialog__set_title(s__MissionARankReward_d,"Choose your reward")
			set s__MissionARankReward_buttonSanninCloth=(DialogAddButton(s__Dialog_dg[(s__MissionARankReward_d)], ("Sannin Cloth" ), ( 0))) // INLINED!!
			set s__MissionARankReward_buttonWeapon=(DialogAddButton(s__Dialog_dg[(s__MissionARankReward_d)], ("Level 5 Weapon" ), ( 1))) // INLINED!!
			call s__Dialog_display(s__MissionARankReward_d,GetTriggerPlayer() , true)
			call s__Dialog_registerClickEvent(s__MissionARankReward_d,Condition(function s__MissionARankReward_pickReward))
			call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I076'))) // INLINED!!
 endfunction 

 function s__MissionARankReward_onInit takes nothing returns nothing
		call RegisterSpellEffectEvent2(('A0NE' ) , Filter(( function s__MissionARankReward_actions))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: MissionSRank
//===========================================================================

function Trig_MissionSRank_EnterRect takes nothing returns nothing
    if udg_MissionSUnit == null or ( GetOwningPlayer(GetEnteringUnit()) != GetOwningPlayer(udg_MissionSUnit) and IsUnitType(GetEnteringUnit(), UNIT_TYPE_HERO) == true ) then
        //call SetUnitPosition(GetEnteringUnit(), 0, 0)
	call KillUnit(GetEnteringUnit())
    endif
endfunction 

function Trig_MissionSRank_Actions takes nothing returns nothing
    local integer team
    local boolean haspoints
    if GetItemTypeId(GetManipulatedItem()) != 'I05D' then
	return
    endif
    if not udg_MissionsEnabled then
        return
    endif
    if IsPlayerAlly(GetTriggerPlayer(), Player(3)) then
        set team=0
        set haspoints=( GetTeamPoints(7) - GetTeamPoints(3) ) >= 240 or ( GetTeamPoints(11) - GetTeamPoints(3) >= 240 )
    elseif IsPlayerAlly(GetTriggerPlayer(), Player(7)) then
        set team=1
        set haspoints=( GetTeamPoints(3) - GetTeamPoints(7) ) >= 240 or ( GetTeamPoints(11) - GetTeamPoints(7) >= 240 )
    else
        set team=2
        set haspoints=( GetTeamPoints(3) - GetTeamPoints(11) ) >= 240 or ( GetTeamPoints(7) - GetTeamPoints(11) >= 240 )
    endif
    if not udg_MissionSRankActive then
        if not udg_MissionSRankTeamCompleted[team] then
            if haspoints then
		if not IsUnitInGroup(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], udg_MissionComplete) then
                	set udg_MissionSRankActive=true
                	set udg_MissionSRankTeams[team]=true
                	set udg_MissionSUnit=udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
                	if GetWidgetLife(gg_unit_N01R_0081) < 0.405 then
                    	call ReviveHero(gg_unit_N01R_0081, 8439, - 4448, false)
                	endif
			call ShowUnit(gg_unit_N01R_0081, true)
                	call SetUnitPosition(gg_unit_N01R_0081, 8439, - 4448)
                	call SetUnitLifePercentBJ(gg_unit_N01R_0081, 100.0)
                	call SetUnitManaPercentBJ(gg_unit_N01R_0081, 100.0)
                	call SetUnitPosition(udg_MissionSUnit, GetRectCenterX(gg_rct_MissionSEntry), GetRectCenterY(gg_rct_MissionSEntry))
                	call PanCameraToTimedForPlayer(GetOwningPlayer(udg_MissionSUnit), GetRectCenterX(gg_rct_MissionSEntry), GetRectCenterY(gg_rct_MissionSEntry), 0)
            	else
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You have already completed a mission. You can only do one at a time.|r")
		endif
	     else
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Your team must have 240 points below the winning team before doing this mission.|r")
            endif
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000This mission was already done by your team.|r")
        endif
    else
        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Someone is already doing this mission at this moment.|r")
    endif
endfunction

function Trig_MissionSRank_Dies takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetTriggerPlayer(), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetTriggerPlayer(), Player(7)) then
        set team=1
    else
        set team=2
    endif
    if GetTriggerUnit() == udg_MissionSUnit then
        set udg_MissionSRankActive=false
        set udg_MissionSRankTeams[team]=false
        set udg_MissionSUnit=null
    endif
endfunction 

function Trig_MissionSRank_GetBank takes nothing returns unit
    local unit bank= null
    set bj_lastCreatedGroup=CreateGroup()
    call GroupEnumUnitsOfPlayer(bj_lastCreatedGroup, GetOwningPlayer(udg_MissionSUnit), null)
    loop
        set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
        exitwhen bj_lastCreatedUnit == null
        if GetUnitTypeId(bj_lastCreatedUnit) == 'ncop' then
            set bank=bj_lastCreatedUnit
            exitwhen true
        endif
        call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
    endloop
    call DestroyGroup(bj_lastCreatedGroup)
    return bank
endfunction 

function Trig_MissionSRank_InventoryFull takes nothing returns boolean
    local integer i= 0
    loop
        exitwhen i > 5
        if UnitItemInSlot(udg_MissionSUnit, i) == null then
            return false
        endif
        set i=i + 1
    endloop
    return true
endfunction 

function Trig_MissionSRank_Count takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetOwningPlayer(udg_MissionSUnit), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetOwningPlayer(udg_MissionSUnit), Player(7)) then
        set team=1
    else
        set team=2
    endif
    set udg_MissionSRankTeamCompleted[team]=true
    call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(GetOwningPlayer(udg_MissionSUnit)) + 1] + GetUnitName(udg_MissionSUnit) + " |cff87ceebcompleted a S-Rank mission!!|r")
     //if Trig_MissionSRank_InventoryFull() then 
        call UnitAddItemByIdSwapped('I05E', Trig_MissionSRank_GetBank())
    //else 
    //    call UnitAddItemByIdSwapped('I05E', udg_MissionSUnit)
    //endif 
    if IsPlayerAlly(GetOwningPlayer(udg_MissionSUnit), Player(3)) then
        call SetUnitPosition(udg_MissionSUnit, GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
    elseif IsPlayerAlly(GetOwningPlayer(udg_MissionSUnit), Player(7)) then
        call SetUnitPosition(udg_MissionSUnit, GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
    else
        call SetUnitPosition(udg_MissionSUnit, GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
    endif
	call GroupAddUnit(udg_MissionComplete, udg_MissionSUnit)
    set udg_MissionSUnit=null
    set udg_MissionSRankActive=false
endfunction

//===========================================================================
function InitTrig_MissionSRank takes nothing returns nothing
    local trigger t2
    local trigger t3= CreateTrigger()

    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_MissionSRank_Dies))) // INLINED!!
    
    set t2=CreateTrigger()
    call TriggerRegisterUnitEvent(t2, gg_unit_N01R_0081, EVENT_UNIT_DEATH)
    call TriggerAddAction(t2, function Trig_MissionSRank_Count)
    
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_MissionSRank_Actions))) // INLINED!!

    call TriggerRegisterEnterRectSimple(t3, gg_rct_MissionS)
    call TriggerAddAction(t3, function Trig_MissionSRank_EnterRect)
endfunction


//===========================================================================
// Trigger: MissionSRankExit
//===========================================================================
function Trig_MissionSRankExit_Actions takes nothing returns nothing
    local integer team
    if IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(3)) then
        set team=0
    elseif IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(7)) then
        set team=1
    else
        set team=2
    endif
    if GetTriggerUnit() == udg_MissionSUnit then
        set udg_MissionSRankActive=false
        set udg_MissionSRankTeams[team]=false
        set udg_MissionSUnit=null
    endif
    if IsUnitAlly(GetTriggerUnit(), Player(3)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
    elseif IsUnitAlly(GetTriggerUnit(), Player(7)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
    elseif IsUnitAlly(GetTriggerUnit(), Player(11)) then
        call SetUnitPosition(GetTriggerUnit(), GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
    endif
    if not udg_MissionARankTeamCompleted[team] then
	//call KillUnit(GetTriggerUnit())
    endif
endfunction

//===========================================================================
function InitTrig_MissionSRankExit takes nothing returns nothing
    set gg_trg_MissionSRankExit=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_MissionSRankExit, gg_rct_MissionSExit)
    call TriggerAddAction(gg_trg_MissionSRankExit, function Trig_MissionSRankExit_Actions)
endfunction


//===========================================================================
// Trigger: BanTotsukaMode
//===========================================================================
function Trig_BanTotsukaMode_Actions takes nothing returns nothing
    
 local integer i= 0
	loop
                exitwhen i > 11
                call SetPlayerTechResearchedSwap('R006', 1, Player(i))
                set i=i + 1
            endloop
	call EnableTrigger(gg_trg_RemoveClassificationMode)
	call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_BanTotsukaMode takes nothing returns nothing
    set gg_trg_BanTotsukaMode=CreateTrigger()
    call DisableTrigger(gg_trg_BanTotsukaMode)
    call TriggerRegisterTimerEventPeriodic(gg_trg_BanTotsukaMode, 0.03)
    call TriggerAddAction(gg_trg_BanTotsukaMode, function Trig_BanTotsukaMode_Actions)
endfunction


//===========================================================================
// Trigger: BanTotsukaModeClicked
//===========================================================================

function Trig_BanTotsukaModeClicked_Actions takes nothing returns nothing
    local integer i= 0
    if GetClickedButtonBJ() == udg_Totsuka_Mode_Buttons[1] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebBan 8 Headed Sword!|r" ))
        call PolledWait(1.00)
        call EnableTrigger(gg_trg_RemoveClassificationMode)
        set udg_ModeS=udg_ModeS + "| Ban 8 Heads"
    else
        if GetClickedButtonBJ() == udg_Totsuka_Mode_Buttons[2] then
            loop
                exitwhen i > 11
                call SetPlayerTechResearchedSwap('R006', 1, Player(i))
                set i=i + 1
            endloop
            call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebAllow 8 Headed Sword!|r" ))
            call PolledWait(1.00)
            call EnableTrigger(gg_trg_RemoveClassificationMode)
            set udg_ModeS=udg_ModeS + "| Allow 8 Heads"
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_BanTotsukaModeClicked takes nothing returns nothing
    set gg_trg_BanTotsukaModeClicked=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_BanTotsukaModeClicked, udg_Totsuka_Mode_Dialog)
    call TriggerAddAction(gg_trg_BanTotsukaModeClicked, function Trig_BanTotsukaModeClicked_Actions)
endfunction


//===========================================================================
// Trigger: RemoveClassificationMode
//===========================================================================
function Trig_RemoveClassificationMode_Actions takes nothing returns nothing
    
    set udg_ItemClassification=true
    call EnableTrigger(udg_trigger38)
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_RemoveClassificationMode takes nothing returns nothing
    set gg_trg_RemoveClassificationMode=CreateTrigger()
    call DisableTrigger(gg_trg_RemoveClassificationMode)
    call TriggerRegisterTimerEventPeriodic(gg_trg_RemoveClassificationMode, 0.03)
    call TriggerAddAction(gg_trg_RemoveClassificationMode, function Trig_RemoveClassificationMode_Actions)
endfunction


//===========================================================================
// Trigger: RemoveClassificationModeClicked
//===========================================================================

function Trig_RemoveClassificationModeClicked_Actions takes nothing returns nothing
    local integer i= 0
    if GetClickedButtonBJ() == udg_Classification_Mode_Buttons[1] then
        call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebRemove item classification!|r" ))
        call PolledWait(1.00)
        set udg_ModeS=udg_ModeS + "| Remove item classification"
        call EnableTrigger(udg_trigger38)
    else
        if GetClickedButtonBJ() == udg_Classification_Mode_Buttons[2] then
            set udg_ItemClassification=true
            call DisplayTimedTextToForce(GetPlayersAll(), 5.00, ( GetPlayerName(udg_Host) + " selected: |cff87ceebKeep item classification!|r" ))
            call PolledWait(1.00)
            call EnableTrigger(udg_trigger38)
            set udg_ModeS=udg_ModeS + "| Keep item classification"
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_RemoveClassificationModeClicked takes nothing returns nothing
    set gg_trg_RemoveClassificationModeClicked=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_RemoveClassificationModeClicked, udg_Classification_Mode_Dialog)
    call TriggerAddAction(gg_trg_RemoveClassificationModeClicked, function Trig_RemoveClassificationModeClicked_Actions)
endfunction


//===========================================================================
// Trigger: Duel invite actions
//===========================================================================
function Trig_Duel_invite_actions_Func005C takes nothing returns boolean
    if ( ( GetTriggerPlayer() == Player(0) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(1) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(2) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(4) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(5) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(6) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(8) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(9) ) ) then
        return true
    endif
    if ( ( GetTriggerPlayer() == Player(10) ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_invite_actions_Conditions takes nothing returns boolean
    if ( not ( udg_Victory_On == false ) ) then
        return false
    endif
    if ( not Trig_Duel_invite_actions_Func005C() ) then
        return false
    endif
    if ( not ( GetTriggerPlayer() != Player(PLAYER_NEUTRAL_PASSIVE) ) ) then
        return false
    endif
    if ( not ( GetTriggerPlayer() != ConvertedPlayer(13) ) ) then
        return false
    endif
    if ( not ( GetTriggerPlayer() != ConvertedPlayer(14) ) ) then
        return false
    endif
    if ( not ( GetTriggerPlayer() != ConvertedPlayer(15) ) ) then
        return false
    endif
    if ( not ( GetTriggerPlayer() != ConvertedPlayer(16) ) ) then
        return false
    endif
    if ( not ( udg_Duel_ON == false ) ) then
        return false
    endif
    if ( not ( udg_Switch == false ) ) then
        return false
    endif
    if ( not ( udg_Duel_TRUE_ON == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_invite_actions_Func002Func003A takes nothing returns nothing
    call DialogDisplayBJ(false, udg_Duel_Dialog1, GetEnumPlayer())
    call DialogDisplayBJ(false, udg_Duel_Dialog2, GetEnumPlayer())
endfunction

function Trig_Duel_invite_actions_Func002Func004C takes nothing returns boolean
    if ( ( udg_Duel_ON == false ) ) then
        return true
    endif
    if ( ( CountUnitsInGroup(GetUnitsInRectAll(gg_rct_duel_area)) == 0 ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_invite_actions_Func002Func008001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Duel_invite_actions_Func002Func010002001001001 takes nothing returns boolean
    return ( GetPlayerController(GetFilterPlayer()) == MAP_CONTROL_USER )
endfunction

function Trig_Duel_invite_actions_Func002Func010002001001002 takes nothing returns boolean
    return ( GetPlayerSlotState(GetFilterPlayer()) == PLAYER_SLOT_STATE_PLAYING )
endfunction

function Trig_Duel_invite_actions_Func002Func010002001001 takes nothing returns boolean
    return GetBooleanAnd((GetPlayerController(GetFilterPlayer()) == MAP_CONTROL_USER), (GetPlayerSlotState(GetFilterPlayer()) == PLAYER_SLOT_STATE_PLAYING)) // INLINED!!
endfunction

function Trig_Duel_invite_actions_Func002Func010002001002 takes nothing returns boolean
    return ( GetFilterPlayer() != GetTriggerPlayer() )
endfunction

function Trig_Duel_invite_actions_Func002Func010002001 takes nothing returns boolean
    return GetBooleanAnd((GetBooleanAnd((GetPlayerController(GetFilterPlayer()) == MAP_CONTROL_USER), (GetPlayerSlotState(GetFilterPlayer()) == PLAYER_SLOT_STATE_PLAYING))), (GetFilterPlayer() != GetTriggerPlayer())) // INLINED!!
endfunction

function Trig_Duel_invite_actions_Func002Func011Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Duel_invite_actions_Func002Func011Func007A takes nothing returns nothing
    call DialogAddButtonBJ(udg_Duel_Dialog1, GetPlayerName(GetEnumPlayer()))
    set udg_Duel_Dialog1Buttons[GetConvertedPlayerId(GetEnumPlayer())]=GetLastCreatedButtonBJ()
endfunction

function Trig_Duel_invite_actions_Func002Func011C takes nothing returns boolean
    if ( not ( CountPlayersInForceBJ(udg_Duel_Players) > 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_invite_actions_Func002C takes nothing returns boolean
    if ( not Trig_Duel_invite_actions_Func002Func004C() ) then
        return false
    endif
    if ( not ( udg_Duel_TRUE_ON == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_invite_actions_Actions takes nothing returns nothing
    set udg_Duel_Inviter=GetTriggerPlayer()
    if ( Trig_Duel_invite_actions_Func002C() ) then
        call DialogClear(udg_Duel_Dialog1)
        call DialogClear(udg_Duel_Dialog2)
        call ForForce(GetPlayersAll(), function Trig_Duel_invite_actions_Func002Func003A)
        set udg_DUEL_ALLY_ON=false
        set udg_Duel_ON=true
        set udg_Duel_Players=GetPlayersMatching(Condition(function Trig_Duel_invite_actions_Func002Func010002001))
        if ( Trig_Duel_invite_actions_Func002Func011C() ) then
            call DialogClear(udg_Duel_Dialog1)
            call DialogSetMessageBJ(udg_Duel_Dialog1, "TRIGSTR_3111")
            call ForForce(udg_Duel_Players, function Trig_Duel_invite_actions_Func002Func011Func007A)
            call DialogAddButtonBJ(udg_Duel_Dialog1, "TRIGSTR_3112")
            set udg_Duel_Dialog1Buttons[13]=GetLastCreatedButtonBJ()
            call DialogDisplayBJ(true, udg_Duel_Dialog1, GetTriggerPlayer())
            call DestroyForce(udg_Duel_Players)
        else
            call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_invite_actions_Func002Func011Func001001001)), "TRIGSTR_3110")
            call DestroyForce(udg_Duel_Players)
            set udg_Duel_ON=false
            set udg_Duel_Inviter=null
        endif
    else
        set udg_Duel_Inviter=null
        call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_invite_actions_Func002Func008001001)), "TRIGSTR_3109")
    endif
endfunction

//===========================================================================
function InitTrig_Duel_invite_actions takes nothing returns nothing
	set gg_trg_Duel_invite_actions=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(0), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(1), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(2), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(4), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(5), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(6), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(8), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(9), "-duel", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_invite_actions, Player(10), "-duel", true)
    call TriggerAddCondition(gg_trg_Duel_invite_actions, Condition(function Trig_Duel_invite_actions_Conditions))
    call TriggerAddAction(gg_trg_Duel_invite_actions, function Trig_Duel_invite_actions_Actions)
endfunction


//===========================================================================
// Trigger: Duel inviter chose
//===========================================================================
function Trig_Duel_inviter_chose_Func001Func001C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_Duel_Dialog1Buttons[GetForLoopIndexA()] ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_inviter_chose_Func002Func001Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == udg_Duel_Inviter )
endfunction

function Trig_Duel_inviter_chose_Func002Func001Func006001001 takes nothing returns boolean
    return ( GetFilterPlayer() == udg_Duel_Receiver )
endfunction

function Trig_Duel_inviter_chose_Func002Func001C takes nothing returns boolean
    if ( not ( IsUnitDeadBJ(udg_units33[GetConvertedPlayerId(udg_Duel_Receiver)]) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_inviter_chose_Func002Func002C takes nothing returns boolean
    if ( ( udg_Duel_Receiver == ConvertedPlayer(13) ) ) then
        return true
    endif
    if ( ( udg_Duel_Receiver == ConvertedPlayer(14) ) ) then
        return true
    endif
    if ( ( udg_Duel_Receiver == ConvertedPlayer(15) ) ) then
        return true
    endif
    if ( ( udg_Duel_Receiver == ConvertedPlayer(16) ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_inviter_chose_Func002C takes nothing returns boolean
    if ( not Trig_Duel_inviter_chose_Func002Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_inviter_chose_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=16
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_Duel_inviter_chose_Func001Func001C() ) then
            set udg_Duel_Receiver=ConvertedPlayer(GetForLoopIndexA())
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    if ( Trig_Duel_inviter_chose_Func002C() ) then
        set udg_Duel_Inviter=null
        set udg_Duel_Receiver=null
        set udg_Duel_ON=false
        return
    else
        if ( Trig_Duel_inviter_chose_Func002Func001C() ) then
            call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_inviter_chose_Func002Func001Func001001001)), "TRIGSTR_8626")
            set udg_Duel_Inviter=null
            set udg_Duel_Receiver=null
            set udg_Duel_ON=false
        else
            call DisplayTextToForce(GetPlayersAll(), ( GetPlayerName(udg_Duel_Inviter) + ( " invites " + ( GetPlayerName(udg_Duel_Receiver) + " to a duel!" ) ) ))
            call DisplayTimedTextToForce(GetPlayersMatching(Condition(function Trig_Duel_inviter_chose_Func002Func001Func006001001)), 60.00, ( GetPlayerName(udg_Duel_Inviter) + " invites you to a duel. Do you accept? (Type '-yes' to accept and '-no' to refuse)" ))
            call StartTimerBJ(udg_DUEL_TIMER, false, 60.00)
            call CreateTimerDialogBJ(udg_DUEL_TIMER, "TRIGSTR_8625")
            set udg_DUEL_TIMERDIALLOG=GetLastCreatedTimerDialogBJ()
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Duel_inviter_chose takes nothing returns nothing
    set gg_trg_Duel_inviter_chose=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_Duel_inviter_chose, udg_Duel_Dialog1)
    call TriggerAddAction(gg_trg_Duel_inviter_chose, function Trig_Duel_inviter_chose_Actions)
endfunction


//===========================================================================
// Trigger: Duel invite timer expires
//===========================================================================
function Trig_Duel_invite_timer_expires_Func002Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == udg_Duel_Inviter )
endfunction

function Trig_Duel_invite_timer_expires_Func002C takes nothing returns boolean
    if ( not ( udg_Duel_ON == true ) ) then
        return false
    endif
    if ( not ( udg_Duel_TRUE_ON == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_invite_timer_expires_Actions takes nothing returns nothing
    if ( Trig_Duel_invite_timer_expires_Func002C() ) then
        call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_invite_timer_expires_Func002Func001001001)), ( GetPlayerName(udg_Duel_Receiver) + " |cffff0000did not answer your invite.|r" ))
        call DestroyTimerDialog(udg_DUEL_TIMERDIALLOG)
        set udg_Duel_Inviter=null
        set udg_Duel_Receiver=null
        set udg_Duel_ON=false
    else
    endif
endfunction

//===========================================================================
function InitTrig_Duel_invite_timer_expires takes nothing returns nothing
    set gg_trg_Duel_invite_timer_expires=CreateTrigger()
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Duel_invite_timer_expires, udg_DUEL_TIMER)
    call TriggerAddAction(gg_trg_Duel_invite_timer_expires, function Trig_Duel_invite_timer_expires_Actions)
endfunction


//===========================================================================
// Trigger: Duel receiver answer Copy
//===========================================================================
function Trig_Duel_receiver_answer_Copy_Conditions takes nothing returns boolean
    if ( not ( GetTriggerPlayer() == udg_Duel_Receiver ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == udg_Duel_Inviter )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'H04L' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'U000' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'H05O' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'Hjai' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'U009' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002002002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'Huth' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit()) == true), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')))))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == udg_Duel_Inviter), (GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit()) == true), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')))))))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func003002002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true), (GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == udg_Duel_Inviter), (GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit()) == true), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U009'), (GetUnitTypeId(GetFilterUnit()) != 'Huth')))))))))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == udg_Duel_Receiver )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002001 takes nothing returns boolean
    return ( IsUnitAliveBJ(GetFilterUnit()) == true )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'H04L' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'U000' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'H05O' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'Hjai' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002002002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002002002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002002 takes nothing returns boolean
    return GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit()) == true), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))))))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == udg_Duel_Receiver), (GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit()) == true), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))))))))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func004002002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true), (GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) == udg_Duel_Receiver), (GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit()) == true), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H04L'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'U000'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'H05O'), (GetBooleanAnd((GetUnitTypeId(GetFilterUnit()) != 'Hjai'), (GetBooleanAnd((( GetUnitTypeId(GetFilterUnit()) != 'U009' ) and ( GetUnitTypeId(GetFilterUnit()) != 'H02O' )), (( GetUnitTypeId(GetFilterUnit()) != 'Huth' ) and ( GetUnitTypeId(GetFilterUnit()) != 'E04B' ))))))))))))))))) // INLINED!!
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func001C takes nothing returns boolean
    if ( not ( IsPlayerAlly(udg_Duel_Inviter, udg_Duel_Receiver) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == udg_Duel_Inviter )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func002001001 takes nothing returns boolean
    return ( GetFilterPlayer() == udg_Duel_Receiver )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func007C takes nothing returns boolean
    if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_units33[GetConvertedPlayerId(udg_Duel_Inviter)]) < ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_units33[GetConvertedPlayerId(udg_Duel_Inviter)]) * 0.70 ) ) ) then
        return true
    endif
    if ( ( GetUnitStateSwap(UNIT_STATE_LIFE, udg_units33[GetConvertedPlayerId(udg_Duel_Receiver)]) < ( GetUnitStateSwap(UNIT_STATE_MAX_LIFE, udg_units33[GetConvertedPlayerId(udg_Duel_Receiver)]) * 0.70 ) ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001C takes nothing returns boolean
    if ( not Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func002C takes nothing returns boolean
    if ( not ( udg_DUEL_ALLY_ON == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func004C takes nothing returns boolean
    if ( not ( udg_DUEL_ALLY_ON == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func009001001 takes nothing returns boolean
    return ( GetFilterPlayer() == udg_Duel_Inviter )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func010001001 takes nothing returns boolean
    return ( GetFilterPlayer() == udg_Duel_Receiver )
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func020Func001Func004C takes nothing returns boolean
    if ( not ( udg_DUEL_ALLY_ON == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func020Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'U000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H04L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'Hjai' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'Huth' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'U009' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H05O' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'E04B' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H02O' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func020A takes nothing returns nothing
    if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func020Func001C() ) then
        call SetUnitPositionLocFacingLocBJ(GetEnumUnit(), udg_Duel2_Point[1], udg_Duel2_Point[2])
        call SetUnitLifePercentBJ(GetEnumUnit(), 100)
        call SetUnitManaPercentBJ(GetEnumUnit(), 100)
        if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func020Func001Func004C() ) then
            call UnitResetCooldown(GetEnumUnit())
        else
        endif
        call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL, GetEnumUnit())
        call SetUnitInvulnerable(GetEnumUnit(), true)
        call PauseUnitBJ(true, GetEnumUnit())
    else
    endif
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func023Func001Func011C takes nothing returns boolean
    if ( not ( udg_DUEL_ALLY_ON == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func023Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'U000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H04L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'Hjai' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'Huth' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'U009' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H05O' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'E04B' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H02O' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func023A takes nothing returns nothing
    if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func023Func001C() ) then
        call SetUnitPositionLocFacingLocBJ(GetEnumUnit(), udg_Duel2_Point[2], udg_Duel2_Point[1])
        call SetUnitLifePercentBJ(GetEnumUnit(), 100)
        call SetUnitManaPercentBJ(GetEnumUnit(), 100)
        if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func023Func001Func011C() ) then
            call UnitResetCooldown(GetEnumUnit())
        else
        endif
        call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL, GetEnumUnit())
        call SetUnitInvulnerable(GetEnumUnit(), true)
        call PauseUnitBJ(true, GetEnumUnit())
    else
    endif
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func038A takes nothing returns nothing
    call PauseUnitBJ(false, GetEnumUnit())
    call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005Func042C takes nothing returns boolean
    if ( ( CountUnitsInGroup(udg_Duel2_Group) == 0 ) ) then
        return true
    endif
    if ( ( CountUnitsInGroup(udg_Duel2_Group2) == 0 ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_receiver_answer_Copy_Func001Func005C takes nothing returns boolean
    if ( not Trig_Duel_receiver_answer_Copy_Func001Func005Func042C() ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Func001C takes nothing returns boolean
    if ( not ( StringCase(GetEventPlayerChatString(), false) == "-yes" ) ) then
        return false
    endif
    if ( not ( udg_Duel_TRUE_ON == false ) ) then
        return false
    endif
    return not udg_TeamDuelOn
endfunction

function Trig_Duel_receiver_answer_Copy_Func002C takes nothing returns boolean
    if ( not ( StringCase(GetEventPlayerChatString(), false) == "-no" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_receiver_answer_Copy_Actions takes nothing returns nothing
    if ( Trig_Duel_receiver_answer_Copy_Func001C() ) then
        call PauseTimerBJ(true, udg_DUEL_TIMER)
        if udg_TeamDuelEnabled then
            call PauseTimer(udg_TeamDuelTimer)
        endif
        call DestroyTimerDialog(udg_DUEL_TIMERDIALLOG)
        set udg_Duel2_Group=GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Duel_receiver_answer_Copy_Func001Func003002002))
        set udg_Duel2_Group2=GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Duel_receiver_answer_Copy_Func001Func004002002))
        if ( Trig_Duel_receiver_answer_Copy_Func001Func005C() ) then
            call DestroyGroup(udg_Duel2_Group)
            call DestroyGroup(udg_Duel2_Group2)
            call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_receiver_answer_Copy_Func001Func005Func009001001)), "TRIGSTR_5743")
            call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_receiver_answer_Copy_Func001Func005Func010001001)), "TRIGSTR_5744")
            set udg_Duel_Inviter=null
            set udg_Duel_Receiver=null
            set udg_Duel_ON=false
        else
            if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func001C() ) then
                set udg_DUEL_ALLY_ON=true
            else
            endif
            if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func002C() ) then
                if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001C() ) then
                    call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func001001001)), "TRIGSTR_5741")
                    call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func002001001)), "TRIGSTR_5742")
                    set udg_Duel_Inviter=null
                    set udg_Duel_Receiver=null
                    set udg_Duel_ON=false
                    return
                else
                endif
            else
		 if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001C() ) then
                    call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func001001001)), "TRIGSTR_5741")
                    call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Duel_receiver_answer_Copy_Func001Func005Func002Func001Func002001001)), "TRIGSTR_5742")
                    set udg_Duel_Inviter=null
                    set udg_Duel_Receiver=null
                    set udg_Duel_ON=false
                    return
		 endif
            endif
            set udg_Duel_TRUE_ON=true
            if ( Trig_Duel_receiver_answer_Copy_Func001Func005Func004C() ) then
                call SetPlayerAllianceBJ(udg_Duel_Inviter, ALLIANCE_PASSIVE, false, udg_Duel_Receiver)
                call SetPlayerAllianceBJ(udg_Duel_Receiver, ALLIANCE_PASSIVE, false, udg_Duel_Inviter)
            else
            endif
            call DestroyGroup(udg_Duel2_Group)
            call DestroyGroup(udg_Duel2_Group2)
            call DisplayTextToForce(GetPlayersAll(), ( ( GetPlayerName(udg_Duel_Inviter) + ( " and " + GetPlayerName(udg_Duel_Receiver) ) ) + " started a duel!" ))
            set udg_Duel2_Point[1]=GetRectCenter(gg_rct_Region_007)
            set udg_Duel2_Point[2]=GetRectCenter(gg_rct_Region_007_Copy)
            set udg_Duel2_Point[3]=GetRectCenter(gg_rct_Region_009)
            set udg_Duel_Area=gg_rct_duel_area
            set bj_wantDestroyGroup=true
            call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), udg_Duel_Inviter), function Trig_Duel_receiver_answer_Copy_Func001Func005Func020A)
            //call CreateNUnitsAtLocFacingLocBJ( 5, 'hhes', udg_Duel_Inviter, udg_Duel2_Point[1], udg_Duel2_Point[2] )
            set bj_wantDestroyGroup=true
            call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), udg_Duel_Receiver), function Trig_Duel_receiver_answer_Copy_Func001Func005Func023A)
            call PlaySoundBJ(gg_snd_Duel_Accept)
            //call CreateNUnitsAtLocFacingLocBJ( 5, 'hhes', udg_Duel_Receiver, udg_Duel2_Point[2], udg_Duel2_Point[1] )
            call PanCameraToTimedLocForPlayer(udg_Duel_Inviter, udg_Duel2_Point[3], 1.00)
            call PanCameraToTimedLocForPlayer(udg_Duel_Receiver, udg_Duel2_Point[3], 1.00)
            call PolledWait(1.00)
            call CreateNUnitsAtLoc(1, 'h04K', Player(0), udg_Duel2_Point[3], 0.00)
            call UnitApplyTimedLifeBJ(2.00, 'BTLF', GetLastCreatedUnit())
            set udg_Duel_Img=bj_lastCreatedUnit
            call PolledWait(2.00)
            call ShowUnit(udg_Duel_Img, false)
            call CreateNUnitsAtLoc(1, 'h030', Player(0), udg_Duel2_Point[3], 0.00)
            call UnitApplyTimedLifeBJ(2.00, 'BTLF', GetLastCreatedUnit())
            call PolledWait(1.00)
            call PanCameraToTimedLocForPlayer(udg_Duel_Inviter, udg_Duel2_Point[1], 1.00)
            call PanCameraToTimedLocForPlayer(udg_Duel_Receiver, udg_Duel2_Point[2], 1.00)
            set bj_wantDestroyGroup=true
            call ForGroupBJ(GetUnitsInRectAll(udg_Duel_Area), function Trig_Duel_receiver_answer_Copy_Func001Func005Func038A)
            call RemoveLocation(udg_Duel2_Point[1])
            call RemoveLocation(udg_Duel2_Point[2])
            call RemoveLocation(udg_Duel2_Point[3])
        endif
    else
    endif
    if ( Trig_Duel_receiver_answer_Copy_Func002C() ) then
        call PauseTimerBJ(true, udg_DUEL_TIMER)
        call DestroyTimerDialog(udg_DUEL_TIMERDIALLOG)
        call DisplayTextToForce(GetPlayersAll(), ( GetPlayerName(udg_Duel_Receiver) + " refused the duel invite." ))
        set udg_Duel_Inviter=null
        set udg_Duel_Receiver=null
        set udg_Duel_ON=false
    else
    endif
endfunction

//===========================================================================
function InitTrig_Duel_receiver_answer_Copy takes nothing returns nothing
    set gg_trg_Duel_receiver_answer_Copy=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(0), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(1), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(2), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(4), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(5), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(6), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(8), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(9), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Duel_receiver_answer_Copy, Player(10), "-", false)
    call TriggerAddCondition(gg_trg_Duel_receiver_answer_Copy, Condition(function Trig_Duel_receiver_answer_Copy_Conditions))
    call TriggerAddAction(gg_trg_Duel_receiver_answer_Copy, function Trig_Duel_receiver_answer_Copy_Actions)
endfunction


//===========================================================================
// Trigger: Duel winner
//===========================================================================
function Trig_Duel_winner_Func025C takes nothing returns boolean
    if ( ( GetOwningPlayer(GetTriggerUnit()) == udg_Duel_Inviter ) ) then
        return true
    endif
    if ( ( GetOwningPlayer(GetTriggerUnit()) == udg_Duel_Receiver ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_winner_Conditions takes nothing returns boolean
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not ( udg_Duel_TRUE_ON == true ) ) then
        return false
    endif
    if ( not Trig_Duel_winner_Func025C() ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'U000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'H04L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'Hjai' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'Huth' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'U009' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'H05O' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'H09Y' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'N01Y' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'O00E' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'N00Q' ) ) then
        return false
    endif
    
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'O00B' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetTriggerUnit()) != 'E04B' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func001C takes nothing returns boolean
    if ( not ( GetTriggerPlayer() == udg_Duel_Inviter ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func002C takes nothing returns boolean
    if ( not ( udg_DUEL_ALLY_ON == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func005Func001C takes nothing returns boolean
    if ( not ( IsUnitAliveBJ(GetEnumUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func005A takes nothing returns nothing
    if ( Trig_Duel_winner_Func005Func001C() ) then
        call PauseUnitBJ(true, GetEnumUnit())
        call SetUnitInvulnerable(GetEnumUnit(), true)
    else
    endif
endfunction

function Trig_Duel_winner_Func013Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func013A takes nothing returns nothing
    if ( Trig_Duel_winner_Func013Func001C() ) then
        call PauseUnitBJ(false, GetEnumUnit())
        call SetUnitInvulnerable(GetEnumUnit(), false)
    else
        call RemoveUnit(GetEnumUnit())
    endif
endfunction

function Trig_Duel_winner_Func014Func001Func001Func002C takes nothing returns boolean
    if ( ( IsPlayerAlly(udg_Duel_Winner, Player(11)) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_winner_Func014Func001Func001C takes nothing returns boolean
    if ( not Trig_Duel_winner_Func014Func001Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func014Func001Func003C takes nothing returns boolean
    if ( ( IsPlayerAlly(udg_Duel_Winner, Player(7)) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_winner_Func014Func001C takes nothing returns boolean
    if ( not Trig_Duel_winner_Func014Func001Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func014Func003C takes nothing returns boolean
    if ( ( IsPlayerAlly(udg_Duel_Winner, Player(3)) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Duel_winner_Func014C takes nothing returns boolean
    if ( not Trig_Duel_winner_Func014Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Duel_winner_Func016A takes nothing returns nothing
    call SetUnitPositionLoc(GetEnumUnit(), udg_Duel2_Point[3])
endfunction

function Trig_Duel_winner_Actions takes nothing returns nothing
    if not Trig_Duel_winner_Conditions() then
	return
    endif
    if ( Trig_Duel_winner_Func001C() ) then
        set udg_Duel_Winner=udg_Duel_Receiver
    else
        set udg_Duel_Winner=udg_Duel_Inviter
    endif
    if ( Trig_Duel_winner_Func002C() ) then
        call SetPlayerAllianceBJ(udg_Duel_Inviter, ALLIANCE_PASSIVE, true, udg_Duel_Receiver)
        call SetPlayerAllianceBJ(udg_Duel_Receiver, ALLIANCE_PASSIVE, true, udg_Duel_Inviter)
        call DisplayTextToForce(GetPlayersAll(), ( GetPlayerName(udg_Duel_Winner) + " won the duel!" ))
    else
        call DisplayTextToForce(GetPlayersAll(), ( GetPlayerName(udg_Duel_Winner) + " won the duel!" ))
        //call AdjustPlayerStateBJ( 1000, udg_Duel_Winner, PLAYER_STATE_RESOURCE_GOLD )
    endif
    if udg_TeamDuelEnabled then
        call ResumeTimer(udg_TeamDuelTimer)
    endif
    set udg_Duel2_Point[4]=GetRectCenter(gg_rct_duel_area)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_duel_area), function Trig_Duel_winner_Func005A)
    call PanCameraToTimedLocForPlayer(udg_Duel_Inviter, udg_Duel2_Point[4], 1.00)
    call PanCameraToTimedLocForPlayer(udg_Duel_Receiver, udg_Duel2_Point[4], 1.00)
    call PolledWait(1.00)
    call CreateNUnitsAtLoc(1, 'h04M', Player(0), udg_Duel2_Point[4], 0.00)
    call UnitApplyTimedLifeBJ(3.00, 'BTLF', GetLastCreatedUnit())
    call PolledWait(5.00)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectAll(gg_rct_duel_area), function Trig_Duel_winner_Func013A)
    if ( Trig_Duel_winner_Func014C() ) then
        set udg_Duel2_Point[3]=GetRectCenter(gg_rct_fonte_konoha)
    else
        if ( Trig_Duel_winner_Func014Func001C() ) then
            set udg_Duel2_Point[3]=GetRectCenter(gg_rct_fonte_evil)
        else
            if ( Trig_Duel_winner_Func014Func001Func001C() ) then
                set udg_Duel2_Point[3]=GetRectCenter(gg_rct_fonte_akt)
            else
            endif
        endif
    endif
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_duel_area, udg_Duel_Winner), function Trig_Duel_winner_Func016A)
    call RemoveLocation(udg_Duel2_Point[3])
    set udg_Duel_Winner=null
    set udg_Duel_Inviter=null
    set udg_Duel_Receiver=null
    set udg_Duel_ON=false
    set udg_Duel_TRUE_ON=false
endfunction

//===========================================================================
function InitTrig_Duel_winner takes nothing returns nothing
    set gg_trg_Duel_winner=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_Duel_winner, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(gg_trg_Duel_winner, Condition(function Trig_Duel_winner_Conditions))
    call TriggerAddAction(gg_trg_Duel_winner, function Trig_Duel_winner_Actions)
endfunction


//===========================================================================
// Trigger: Enter duel
//===========================================================================
function Trig_Enter_duel_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnteringUnit()) != udg_Duel_Inviter ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetEnteringUnit()) != udg_Duel_Receiver ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h030' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h04K' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h04M' ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetEnteringUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Enter_duel_Func001Func002C takes nothing returns boolean
    if ( ( GetOwningPlayer(GetEnteringUnit()) == Player(PLAYER_NEUTRAL_PASSIVE) ) ) then
        return true
    endif
    if ( ( GetOwningPlayer(GetEnteringUnit()) == ConvertedPlayer(16) ) ) then
        return true
    endif
    return false
endfunction

function Trig_Enter_duel_Func001C takes nothing returns boolean
    if ( not Trig_Enter_duel_Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Enter_duel_Actions takes nothing returns nothing
    if ( Trig_Enter_duel_Func001C() ) then
        call RemoveUnit(GetEnteringUnit())
    else
        call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnteringUnit(), 'I02F'))
        call KillUnit(GetEnteringUnit())
    endif
endfunction

//===========================================================================
function InitTrig_Enter_duel takes nothing returns nothing
    set gg_trg_Enter_duel=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_Enter_duel, gg_rct_duel_area)
    call TriggerAddCondition(gg_trg_Enter_duel, Condition(function Trig_Enter_duel_Conditions))
    call TriggerAddAction(gg_trg_Enter_duel, function Trig_Enter_duel_Actions)
endfunction


//===========================================================================
// Trigger: Left duel
//===========================================================================
function Trig_Left_duel_Func005C takes nothing returns boolean
    if ( ( GetOwningPlayer(GetLeavingUnit()) == udg_Duel_Inviter ) ) then
        return true
    endif
    if ( ( GetOwningPlayer(GetLeavingUnit()) == udg_Duel_Receiver ) ) then
        return true
    endif
    return false
endfunction

function Trig_Left_duel_Conditions takes nothing returns boolean
    if ( not Trig_Left_duel_Func005C() ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetLeavingUnit()) != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetLeavingUnit()) != Player(bj_PLAYER_NEUTRAL_VICTIM) ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetLeavingUnit()) != Player(bj_PLAYER_NEUTRAL_EXTRA) ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetLeavingUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetLeavingUnit()) != ConvertedPlayer(16) ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetLeavingUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Left_duel_Actions takes nothing returns nothing
    set udg_Duel_Point=GetRectCenter(gg_rct_duel_area)
    call SetUnitX(GetLeavingUnit(), GetLocationX(udg_Duel_Point))
    call SetUnitY(GetLeavingUnit(), GetLocationY(udg_Duel_Point))
    call RemoveLocation(udg_Duel_Point)
endfunction

//===========================================================================
function InitTrig_Left_duel takes nothing returns nothing
    set gg_trg_Left_duel=CreateTrigger()
    call TriggerRegisterLeaveRectSimple(gg_trg_Left_duel, gg_rct_duel_area)
    call TriggerAddCondition(gg_trg_Left_duel, Condition(function Trig_Left_duel_Conditions))
    call TriggerAddAction(gg_trg_Left_duel, function Trig_Left_duel_Actions)
endfunction


//===========================================================================
// Trigger: TeamDuel
//===========================================================================

    // 0 = not participating
    // 1 = participating as inviter
    // 2 = participating as receiver 

    function s__TeamDuel_containsCharacter takes string chat,string s returns boolean
        local integer i= 0
        loop
            exitwhen i == StringLength(chat)
            if SubString(chat, i, i + 1) == s then
                return true
            endif
            set i=i + 1
        endloop
        return false
    endfunction 

    function s__TeamDuel_actions takes nothing returns nothing
        local string chat= SubString(GetEventPlayerChatString(), 6, 999)
        local integer state= 1
        local integer id
        local integer i
        local string s= ""
        local string t1= ""
        local string t2= ""
        local integer count_enemies= 0

        if udg_Duel_ON or udg_Switch or udg_Duel_TRUE_ON or udg_TeamDuelOn then
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You cannot perform this action at this time.|r")
            return
        endif

        set i=0
        loop
            exitwhen i == 11
            set s__s__TeamDuel_PLAYER_STATE[i]= 0
            set s__s__TeamDuel_PLAYER_ACCEPTED[i]= false
            set s__s__TeamDuel_PLAYER_DEATH[i]= false
            set i=i + 1
        endloop

        set s__s__TeamDuel_PLAYER_STATE[GetPlayerId(GetTriggerPlayer())]= 1
        set s__s__TeamDuel_PLAYER_ACCEPTED[GetPlayerId(GetTriggerPlayer())]= true

        if not s__TeamDuel_containsCharacter(chat , " ") then
            set state=2
        endif

        set i=0
        loop
            exitwhen i >= StringLength(chat)
            if SubString(chat, i, i + 1) == " " or SubString(chat, i, i + 1) == "," then
                if s != "" then
                    set id=S2I(s)
                    set s__s__TeamDuel_PLAYER_STATE[id - 1]= state
                    set s=""
                endif
            else
                set s=s + SubString(chat, i, i + 1)
            endif
            if SubString(chat, i, i + 1) == " " then
                if state == 1 then
                    set state=state + 1
                endif
            endif
            set i=i + 1
        endloop

        if s != "" then
            set id=S2I(s)
            set s__s__TeamDuel_PLAYER_STATE[id - 1]= state
            set s=""
        endif

        set i=0
        loop
            exitwhen i == 11
            if i != GetPlayerId(GetTriggerPlayer()) and s__s__TeamDuel_PLAYER_STATE[i] == 2 then
                set count_enemies=count_enemies + 1
            endif
            if s__s__TeamDuel_PLAYER_STATE[i] != 0 and udg_units33[i + 1] == null then
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You cannot invite computer players.|r")
                return
            endif

            if GetWidgetLife(udg_units33[i + 1]) < 0.405 then
            	call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000One or both of the duelists are dead|r")
                return
            endif
            set i=i + 1
        endloop
        if count_enemies == 0 then
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You did not invite any enemy.|r")
            return
        endif

        set udg_Duel_ON=true
        set s__TeamDuel_ENABLED=true
        set s__TeamDuel_STARTED=false
        call StartTimerBJ(s__TeamDuel_DUEL_INVITE_TIMER, false, 60.0)
        set s__TeamDuel_DUEL_INVITE_TIMER_DIALOG=CreateTimerDialogBJ(s__TeamDuel_DUEL_INVITE_TIMER, "Team duel invite")

        set t1=""
        set i=0
        loop
            exitwhen i == 11
            if s__s__TeamDuel_PLAYER_STATE[i] == 1 then
                if t1 != "" then
                    set t1=t1 + ", "
                endif
                set t1=t1 + GetPlayerName(Player(i))
            elseif s__s__TeamDuel_PLAYER_STATE[i] == 2 then
                if t2 != "" then
                    set t2=t2 + ", "
                endif
                set t2=t2 + GetPlayerName(Player(i))
            endif
            set i=i + 1
        endloop

        set i=0
        loop
            exitwhen i == 11
            if s__s__TeamDuel_PLAYER_STATE[i] != 0 and i != GetPlayerId(GetTriggerPlayer()) then
                call DisplayTextToPlayer(Player(i), 0, 0, GetPlayerName(GetTriggerPlayer()) + " |cff87ceebinvited you to a team duel.|r")
                call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebTeam 1: |r" + t1 + ".")
                call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebTeam 2: |r" + t2 + ".")
                call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebType -yes to accept or -no to refuse.|r")
            elseif i == GetPlayerId(GetTriggerPlayer()) then
                call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebTeam 1: |r" + t1 + ".")
                call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebTeam 2: |r" + t2 + ".")
            else
                call DisplayTextToPlayer(Player(i), 0, 0, GetPlayerName(GetTriggerPlayer()) + " |cff87ceebcreate a team duel invite.")
                call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebTeam 1: |r" + t1 + ".")
                call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebTeam 2: |r" + t2 + ".")
            endif
            set i=i + 1
        endloop
    endfunction 

    function s__TeamDuel_inviteExpires takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i == 11
            call DisplayTextToPlayer(Player(i), 0, 0, "|cffff0000Team duel timer expired.|r")
            set i=i + 1
        endloop
        set udg_Duel_ON=false
        set s__TeamDuel_ENABLED=false
        call DestroyTimerDialog(s__TeamDuel_DUEL_INVITE_TIMER_DIALOG)
    endfunction 

    function s__TeamDuel_refuse takes nothing returns nothing
        local integer i= 0
        if s__TeamDuel_ENABLED and not s__TeamDuel_STARTED then
            if s__s__TeamDuel_PLAYER_STATE[GetPlayerId(GetTriggerPlayer())] != 0 then
                loop
                    exitwhen i == 11
                    call DisplayTextToPlayer(Player(i), 0, 0, GetPlayerName(GetTriggerPlayer()) + " |cffff0000refused the team duel.|r")
                    set i=i + 1
                endloop
                call PauseTimer(s__TeamDuel_DUEL_INVITE_TIMER)
                set udg_Duel_ON=false
                set s__TeamDuel_ENABLED=false
                call DestroyTimerDialog(s__TeamDuel_DUEL_INVITE_TIMER_DIALOG)
            endif
        endif
    endfunction 

    function s__TeamDuel_startDuel takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i == 11
            if s__s__TeamDuel_PLAYER_STATE[i] != 0 then
                call PauseUnit(udg_units33[i + 1], false)
                call SetUnitInvulnerable(udg_units33[i + 1], false)
            endif
            set i=i + 1
        endloop
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'h030', GetRectCenterX(gg_rct_DeathForest), GetRectCenterY(gg_rct_DeathForest), 0)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
        call StartTimerBJ(s__TeamDuel_DUEL_TIMER, false, 120.0)
        set s__TeamDuel_DUEL_TIMER_DIALOG=CreateTimerDialogBJ(s__TeamDuel_DUEL_TIMER, "Team duel")
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__TeamDuel_accept takes nothing returns nothing
        local integer i= 0
        local integer j= 0
        local boolean all_accepted= true
        if s__TeamDuel_ENABLED and not s__TeamDuel_STARTED then
            if udg_units33[GetPlayerId(GetTriggerPlayer()) + 1] == null then
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You cannot perform this action right now.|r")
                return
            endif
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, GetPlayerName(GetTriggerPlayer()) + " |cff87ceebaccepted the team duel.|r")
            set s__s__TeamDuel_PLAYER_ACCEPTED[GetPlayerId(GetTriggerPlayer())]= true
            set i=0
            loop
                exitwhen i == 11
                if s__s__TeamDuel_PLAYER_STATE[i] != 0 and not s__s__TeamDuel_PLAYER_ACCEPTED[i] then
                    set all_accepted=false
                endif
                set i=i + 1
            endloop
            if all_accepted then
                set s__TeamDuel_STARTED=true
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebTeam duel has started!!|r")
                set i=0
                loop
                    exitwhen i == 11
                    if s__s__TeamDuel_PLAYER_STATE[i] == 1 or s__s__TeamDuel_PLAYER_STATE[i] == 2 then
                        if GetWidgetLife(udg_units33[i + 1]) < 0.405 then
                            call ReviveHero(udg_units33[i + 1], 0, 0, false)
                        endif
                        call SetUnitState(udg_units33[i + 1], UNIT_STATE_LIFE, GetUnitState(udg_units33[i + 1], UNIT_STATE_MAX_LIFE))
                        call SetUnitState(udg_units33[i + 1], UNIT_STATE_MANA, GetUnitState(udg_units33[i + 1], UNIT_STATE_MAX_MANA))
                        call PauseUnit(udg_units33[i + 1], true)
                        call SetUnitInvulnerable(udg_units33[i + 1], true)
                        call UnitResetCooldown(udg_units33[i + 1])
                    endif
                    if s__s__TeamDuel_PLAYER_STATE[i] == 1 then
                        call SetUnitPosition(udg_units33[i + 1], GetRectCenterX(gg_rct_DeathForestT1Spot), GetRectCenterY(gg_rct_DeathForestT1Spot))
                        call PanCameraToTimedForPlayer(Player(i), GetUnitX(udg_units33[i + 1]), GetUnitY(udg_units33[i + 1]), 0)
                    elseif s__s__TeamDuel_PLAYER_STATE[i] == 2 then
                        call SetUnitPosition(udg_units33[i + 1], GetRectCenterX(gg_rct_DeathForestT3Spot), GetRectCenterY(gg_rct_DeathForestT3Spot))
                        call PanCameraToTimedForPlayer(Player(i), GetUnitX(udg_units33[i + 1]), GetUnitY(udg_units33[i + 1]), 0)
                    endif
                    if s__s__TeamDuel_PLAYER_STATE[i] != 0 then
                        set j=0
                        loop
                            exitwhen j == 11
                            if i != j and s__s__TeamDuel_PLAYER_STATE[j] != 0 then
                                if s__s__TeamDuel_PLAYER_STATE[i] == s__s__TeamDuel_PLAYER_STATE[j] then
                                    call SetPlayerAllianceBJ(Player(i), ALLIANCE_PASSIVE, true, Player(j))
                                    call SetPlayerAllianceBJ(Player(j), ALLIANCE_PASSIVE, true, Player(i))
                                else
                                    call SetPlayerAllianceBJ(Player(i), ALLIANCE_PASSIVE, false, Player(j))
                                    call SetPlayerAllianceBJ(Player(j), ALLIANCE_PASSIVE, false, Player(i))
                                endif
                            endif
                            set j=j + 1
                        endloop
                    endif
                    set i=i + 1
                endloop
                call PauseTimer(s__TeamDuel_DUEL_INVITE_TIMER)
                call DestroyTimerDialog(s__TeamDuel_DUEL_INVITE_TIMER_DIALOG)
                set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'h04K', GetRectCenterX(gg_rct_DeathForest), GetRectCenterY(gg_rct_DeathForest), 0)
                call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 2.0)
                call TimerStart((NewTimerEx(0)), 2.0, false, function s__TeamDuel_startDuel) // INLINED!!
            endif
        endif
    endfunction 

    function s__TeamDuel_moveUnits takes nothing returns nothing
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRect(bj_lastCreatedGroup, gg_rct_DeathForest, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            if GetOwningPlayer(bj_lastCreatedUnit) != Player(PLAYER_NEUTRAL_PASSIVE) then
                call PauseUnit(bj_lastCreatedUnit, false)
                call SetUnitInvulnerable(bj_lastCreatedUnit, false)
                if IsUnitAlly(bj_lastCreatedUnit, Player(3)) then
                    call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
                elseif IsUnitAlly(bj_lastCreatedUnit, Player(7)) then
                    call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
                elseif IsUnitAlly(bj_lastCreatedUnit, Player(11)) then
                    call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
                endif
            endif
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set udg_Duel_ON=false
        set s__TeamDuel_ENABLED=false
        set s__TeamDuel_STARTED=false
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__TeamDuel_finishDuel takes nothing returns nothing
        local integer i= 0
        local integer j= 0
        loop
            exitwhen i == 11
            if s__s__TeamDuel_PLAYER_STATE[i] != 0 then
                set j=0
                loop
                    exitwhen j == 11
                    if i != j and s__s__TeamDuel_PLAYER_STATE[j] != 0 then
                        if ( IsPlayerAlly(Player(i), Player(3)) and IsPlayerAlly(Player(j), Player(3)) ) or ( IsPlayerAlly(Player(i), Player(7)) and IsPlayerAlly(Player(j), Player(7)) ) or ( IsPlayerAlly(Player(i), Player(11)) and IsPlayerAlly(Player(j), Player(11)) ) then
                            call SetPlayerAllianceBJ(Player(i), ALLIANCE_PASSIVE, true, Player(j))
                            call SetPlayerAllianceBJ(Player(j), ALLIANCE_PASSIVE, true, Player(i))
                        else
                            call SetPlayerAllianceBJ(Player(i), ALLIANCE_PASSIVE, false, Player(j))
                            call SetPlayerAllianceBJ(Player(j), ALLIANCE_PASSIVE, false, Player(i))
                        endif
                    endif
                    set j=j + 1
                endloop
            endif
            set i=i + 1
        endloop
        call PauseTimer(s__TeamDuel_DUEL_TIMER)
        call DestroyTimerDialog(s__TeamDuel_DUEL_TIMER_DIALOG)
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRect(bj_lastCreatedGroup, gg_rct_DeathForest, null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            call PauseUnit(bj_lastCreatedUnit, true)
            call SetUnitInvulnerable(bj_lastCreatedUnit, true)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'h04M', GetRectCenterX(gg_rct_DeathForest), GetRectCenterY(gg_rct_DeathForest), 0)
        call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
        call TimerStart((NewTimerEx(0)), 3.0, false, function s__TeamDuel_moveUnits) // INLINED!!
    endfunction 

    function s__TeamDuel_duelExpires takes nothing returns nothing
        local integer i= 0
        loop
            exitwhen i == 11
            call DisplayTextToPlayer(Player(i), 0, 0, "|cffff0000Team duel finished in a draw.|r")
            set i=i + 1
        endloop
        call s__TeamDuel_finishDuel()
    endfunction 

    function s__TeamDuel_death takes nothing returns nothing
        local boolean t1_alive= false
        local boolean t2_alive= false
        local integer i
        if s__TeamDuel_ENABLED and s__TeamDuel_STARTED then
            //if GetUnitTypeId(GetTriggerUnit()) == 'U000' or GetUnitTypeId(GetTriggerUnit()) == 'H04L' or GetUnitTypeId(GetTriggerUnit()) == 'Hjai' or GetUnitTypeId(GetTriggerUnit()) == 'Huth' or GetUnitTypeId(GetTriggerUnit()) == 'U009' or GetUnitTypeId(GetTriggerUnit()) == 'H05O' or GetUnitTypeId(GetTriggerUnit()) == 'H09Y' or GetUnitTypeId(GetTriggerUnit()) == 'N01Y' or GetUnitTypeId(GetTriggerUnit()) == 'O00E' or GetUnitTypeId(GetTriggerUnit()) == 'N00Q' or GetUnitTypeId(GetTriggerUnit()) == 'O00B' or GetUnitTypeId(GetTriggerUnit()) == 'E04B' then 
            //    return 
            //endif 
            if GetTriggerUnit() == udg_units33[GetPlayerId(GetTriggerPlayer()) + 1] and s__s__TeamDuel_PLAYER_STATE[GetPlayerId(GetTriggerPlayer())] != 0 then
                set s__s__TeamDuel_PLAYER_DEATH[GetPlayerId(GetTriggerPlayer())]= true
            else
                return
            endif
            set i=0
            loop
                exitwhen i == 11
                if s__s__TeamDuel_PLAYER_STATE[i] == 1 and not s__s__TeamDuel_PLAYER_DEATH[i] then
                    set t1_alive=true
                elseif s__s__TeamDuel_PLAYER_STATE[i] == 2 and not s__s__TeamDuel_PLAYER_DEATH[i] then
                    set t2_alive=true
                endif
                set i=i + 1
            endloop
            if t1_alive and not t2_alive then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebTeam 1 won the team duel!!|r")
                call s__TeamDuel_finishDuel()
            elseif t2_alive and not t1_alive then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebTeam 2 won the team duel!!|r")
                call s__TeamDuel_finishDuel()
            endif
        endif
    endfunction 

    function s__TeamDuel_leave takes nothing returns nothing
        if s__TeamDuel_STARTED and GetLeavingUnit() == udg_units33[GetPlayerId(GetOwningPlayer(GetLeavingUnit())) + 1] and s__s__TeamDuel_PLAYER_STATE[GetPlayerId(GetOwningPlayer(GetLeavingUnit()))] != 0 and not s__s__TeamDuel_PLAYER_DEATH[GetPlayerId(GetOwningPlayer(GetLeavingUnit()))] then
            call SetUnitPosition(GetLeavingUnit(), GetRectCenterX(gg_rct_DeathForest), GetRectCenterY(gg_rct_DeathForest))
        endif
    endfunction 

    function s__TeamDuel_onInit takes nothing returns nothing
        local integer i= 0
        local trigger t= CreateTrigger()
        local trigger t2= CreateTrigger()
        local trigger t3= CreateTrigger()
        local trigger t4= CreateTrigger()
        local trigger t5= CreateTrigger()
        local trigger t6= CreateTrigger()
        loop
            exitwhen i > 11
            set s__s__TeamDuel_PLAYER_STATE[i]= 0
            call TriggerRegisterPlayerChatEvent(t, Player(i), "-duel", false)
            call TriggerRegisterPlayerChatEvent(t3, Player(i), "-yes", true)
            call TriggerRegisterPlayerChatEvent(t4, Player(i), "-no", true)
            set i=i + 1
        endloop
        call TriggerAddAction(t, function s__TeamDuel_actions)
        call TriggerAddAction(t3, function s__TeamDuel_accept)
        call TriggerAddAction(t4, function s__TeamDuel_refuse)
        set s__TeamDuel_DUEL_INVITE_TIMER=CreateTimer()
        set s__TeamDuel_DUEL_TIMER=CreateTimer()
        set s__TeamDuel_ENABLED=false
        set s__TeamDuel_STARTED=false
        call TriggerRegisterTimerExpireEventBJ(t2, s__TeamDuel_DUEL_INVITE_TIMER)
        call TriggerAddAction(t2, function s__TeamDuel_inviteExpires)
        call TriggerRegisterTimerExpireEventBJ(t5, s__TeamDuel_DUEL_TIMER)
        call TriggerAddAction(t5, function s__TeamDuel_duelExpires)
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__TeamDuel_death))) // INLINED!!
        call TriggerRegisterLeaveRectSimple(t6, gg_rct_DeathForest)
        call TriggerAddAction(t6, function s__TeamDuel_leave)
    endfunction 

//===========================================================================
// Trigger: Smart Bank Add
//===========================================================================
function Trig_Smart_Bank_Add_Func007C takes nothing returns boolean
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "1" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "2" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "3" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "4" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "5" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "6" ) ) then
        return true
    endif
    return false
endfunction

function Trig_Smart_Bank_Add_Conditions takes nothing returns boolean
    if udg_BattleRoyal then
        return false
    endif
    if ( not Trig_Smart_Bank_Add_Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Func004Func001Func002C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not ( IsUnitIllusionBJ(GetEnumUnit()) == false ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H04L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H05O' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'U000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'N01T' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'O00A' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'O00B' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Func004Func001C takes nothing returns boolean
    if ( not Trig_Smart_Bank_Add_Func004Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Func004A takes nothing returns nothing
    if ( Trig_Smart_Bank_Add_Func004Func001C() ) then
        set udg_SmartBank_Hero=GetEnumUnit()
    else
    endif
endfunction

function Trig_Smart_Bank_Add_Func005Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Smart_Bank_Add_Func005Func003Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Smart_Bank_Add_Func005Func003Func004Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnumUnit()) == 'ncop' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Func005Func003Func004A takes nothing returns nothing
    if ( Trig_Smart_Bank_Add_Func005Func003Func004Func001C() ) then
        set udg_SmartBank_Bank=GetEnumUnit()
    else
    endif
endfunction

function Trig_Smart_Bank_Add_Func005Func003Func005Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Smart_Bank_Add_Func005Func003Func005C takes nothing returns boolean
    if ( not ( udg_SmartBank_Bank != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Func005Func003Func007C takes nothing returns boolean
    if ( not ( GetItemTypeId(udg_SmartBank_Item) != 'I02F' ) ) then
        return false
    endif
    if ( not ( GetItemTypeId(udg_SmartBank_Item) != 'I03T' ) ) then
        return false
    endif
    if ( not ( GetItemTypeId(udg_SmartBank_Item) != 'I03J' ) ) then
        return false
    endif
    if ( not ( GetItemTypeId(udg_SmartBank_Item) != 'srbd' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Func005Func003C takes nothing returns boolean
    if ( not ( udg_SmartBank_Item != null ) ) then
        return false
    endif
    if ( not Trig_Smart_Bank_Add_Func005Func003Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Func005C takes nothing returns boolean
    if ( not ( udg_SmartBank_Hero != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Add_Actions_Actions takes integer slot returns nothing
    set udg_SmartBank_Active=true
    set udg_SmartBank_Hero=null
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), GetTriggerPlayer()), function Trig_Smart_Bank_Add_Func004A)
    if ( Trig_Smart_Bank_Add_Func005C() ) then
        set udg_SmartBank_Item=UnitItemInSlotBJ(udg_SmartBank_Hero, slot)
        if ( Trig_Smart_Bank_Add_Func005Func003C() ) then
            set udg_SmartBank_Bank=null
            set bj_wantDestroyGroup=true
            call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), GetTriggerPlayer()), function Trig_Smart_Bank_Add_Func005Func003Func004A)
            if ( Trig_Smart_Bank_Add_Func005Func003Func005C() ) then
                call UnitRemoveItemSwapped(udg_SmartBank_Item, udg_SmartBank_Hero)
                call UnitAddItemSwapped(udg_SmartBank_Item, udg_SmartBank_Bank)
            else
                call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Smart_Bank_Add_Func005Func003Func005Func001001001)), "TRIGSTR_3082")
            endif
        else
            call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Smart_Bank_Add_Func005Func003Func001001001)), "TRIGSTR_3076")
        endif
    else
        call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Smart_Bank_Add_Func005Func001001001)), "TRIGSTR_3075")
    endif
    set udg_SmartBank_Active=false
endfunction

function Trig_Smart_Bank_Add_Actions takes nothing returns nothing
    call Trig_Smart_Bank_Add_Actions_Actions(S2I(SubStringBJ(GetEventPlayerChatString(), 4, 5)))
endfunction

//===========================================================================
function Trig_Smart_Bank_Remove_Func005C takes nothing returns boolean
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "1" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "2" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "3" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "4" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "5" ) ) then
        return true
    endif
    if ( ( SubStringBJ(GetEventPlayerChatString(), 4, 5) == "6" ) ) then
        return true
    endif
    return false
endfunction

function Trig_Smart_Bank_Remove_Conditions takes nothing returns boolean
    if udg_BattleRoyal then
        return false
    endif
    if ( not Trig_Smart_Bank_Remove_Func005C() ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Remove_Func003Func001Func002C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not ( IsUnitIllusionBJ(GetEnumUnit()) == false ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H04L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H05O' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'U000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'N01T' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'O00A' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'O00B' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Remove_Func003Func001C takes nothing returns boolean
    if ( not Trig_Smart_Bank_Remove_Func003Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Remove_Func003A takes nothing returns nothing
    if ( Trig_Smart_Bank_Remove_Func003Func001C() ) then
        set udg_SmartBank_Hero=GetEnumUnit()
    else
    endif
endfunction

function Trig_Smart_Bank_Remove_Func004Func003Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnumUnit()) == 'ncop' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Remove_Func004Func003A takes nothing returns nothing
    if ( Trig_Smart_Bank_Remove_Func004Func003Func001C() ) then
        set udg_SmartBank_Bank=GetEnumUnit()
    else
    endif
endfunction

function Trig_Smart_Bank_Remove_Func004Func004Func002Func003001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Smart_Bank_Remove_Func004Func004Func002C takes nothing returns boolean
    if ( not ( udg_SmartBank_Item != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Remove_Func004Func004Func003001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Smart_Bank_Remove_Func004Func004C takes nothing returns boolean
    if ( not ( udg_SmartBank_Bank != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Remove_Func004Func005001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Smart_Bank_Remove_Func004C takes nothing returns boolean
    if ( not ( udg_SmartBank_Hero != null ) ) then
        return false
    endif
    return true
endfunction

function Trig_Smart_Bank_Remove_Actions_Actions takes integer slot returns nothing
    set udg_SmartBank_Hero=null
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), GetTriggerPlayer()), function Trig_Smart_Bank_Remove_Func003A)
    if ( Trig_Smart_Bank_Remove_Func004C() ) then
        set udg_SmartBank_Bank=null
        set bj_wantDestroyGroup=true
        call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), GetTriggerPlayer()), function Trig_Smart_Bank_Remove_Func004Func003A)
        if ( Trig_Smart_Bank_Remove_Func004Func004C() ) then
            set udg_SmartBank_Item=UnitItemInSlotBJ(udg_SmartBank_Bank, slot)
            if ( Trig_Smart_Bank_Remove_Func004Func004Func002C() ) then
                call UnitRemoveItemSwapped(udg_SmartBank_Item, udg_SmartBank_Bank)
                call UnitAddItemSwapped(udg_SmartBank_Item, udg_SmartBank_Hero)
            else
                call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Smart_Bank_Remove_Func004Func004Func002Func003001001)), "TRIGSTR_3104")
            endif
        else
            call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Smart_Bank_Remove_Func004Func004Func003001001)), "TRIGSTR_3103")
        endif
    else
        call DisplayTextToForce(GetPlayersMatching(Condition(function Trig_Smart_Bank_Remove_Func004Func005001001)), "TRIGSTR_3091")
    endif
endfunction

function Trig_Smart_Bank_Remove_Actions takes nothing returns nothing
    call Trig_Smart_Bank_Remove_Actions_Actions(S2I(SubStringBJ(GetEventPlayerChatString(), 4, 5)))
endfunction

//===========================================================================
function Trig_Smart_Bank_Exc_Conditions takes nothing returns boolean
    local string s1= SubStringBJ(GetEventPlayerChatString(), 4, 4)
    local string s2= SubStringBJ(GetEventPlayerChatString(), 6, 6)
    if udg_BattleRoyal then
        return false
    endif
    if ( s1 == "1" or s1 == "2" or s1 == "3" or s1 == "4" or s1 == "5" or s1 == "6" ) and ( s2 == "1" or s2 == "2" or s2 == "3" or s2 == "4" or s2 == "5" or s2 == "6" ) then
        return true
    endif
    return false
endfunction

function Trig_Smart_Bank_Exc_Actions takes nothing returns nothing
    local integer inv_slot= S2I(SubStringBJ(GetEventPlayerChatString(), 4, 4))
    local integer bank_slot= S2I(SubStringBJ(GetEventPlayerChatString(), 6, 6))
    call Trig_Smart_Bank_Add_Actions_Actions(inv_slot)
    call Trig_Smart_Bank_Remove_Actions_Actions(bank_slot)
endfunction 

//===========================================================================

function InitTrig_Smart_Bank_Add takes nothing returns nothing
    local trigger t1
    local trigger t2
    local trigger t3
    set t1=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t1, Player(0), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(1), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(2), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(4), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(5), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(6), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(8), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(9), "-b", false)
    call TriggerRegisterPlayerChatEvent(t1, Player(10), "-b", false)
    call TriggerAddCondition(t1, Condition(function Trig_Smart_Bank_Add_Conditions))
    call TriggerAddAction(t1, function Trig_Smart_Bank_Add_Actions)
    set t2=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t2, Player(0), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(1), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(2), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(4), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(5), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(6), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(8), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(9), "-r", false)
    call TriggerRegisterPlayerChatEvent(t2, Player(10), "-r", false)
    call TriggerAddCondition(t2, Condition(function Trig_Smart_Bank_Remove_Conditions))
    call TriggerAddAction(t2, function Trig_Smart_Bank_Remove_Actions)
    set t3=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t3, Player(0), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(1), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(2), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(4), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(5), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(6), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(8), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(9), "-e", false)
    call TriggerRegisterPlayerChatEvent(t3, Player(10), "-e", false)
    call TriggerAddCondition(t3, Condition(function Trig_Smart_Bank_Exc_Conditions))
    call TriggerAddAction(t3, function Trig_Smart_Bank_Exc_Actions)
endfunction


//===========================================================================
// Trigger: CircleCreation
//===========================================================================
function Trig_CircleCreation_Actions takes nothing returns nothing
    // Circulos
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0017)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0018)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0019)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0020)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0021)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0022)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0023)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0024)
    call UnitAddAbilityBJ('AInv', gg_unit_ncop_0025)
endfunction

//===========================================================================
function InitTrig_CircleCreation takes nothing returns nothing
    set gg_trg_CircleCreation=CreateTrigger()
    call TriggerAddAction(gg_trg_CircleCreation, function Trig_CircleCreation_Actions)
endfunction


//===========================================================================
// Trigger: CircleStoraging
//===========================================================================
function Trig_CircleStoraging_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetManipulatingUnit()) == 'ncop' ) ) then
        return false
    endif
    return true
endfunction

function Trig_CircleStoraging_Func003Func001Func002C takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnumUnit()) == GetTriggerPlayer() ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    if ( not ( IsUnitIllusionBJ(GetEnumUnit()) == false ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H04L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'H05O' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) != 'U000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_CircleStoraging_Func003Func001C takes nothing returns boolean
    if ( not Trig_CircleStoraging_Func003Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_CircleStoraging_Func003A takes nothing returns nothing
    if ( Trig_CircleStoraging_Func003Func001C() ) then
        set udg_Storage_Hero=GetEnumUnit()
    else
    endif
endfunction

function Trig_CircleStoraging_Func005Func004C takes nothing returns boolean
    if ( ( udg_SmartBank_Active == true ) ) then
        return true
    endif
    if ( ( udg_Storage_Hero != null ) ) then
        return true
    endif
    if ( ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_CHARGED ) ) then
        return true
    endif
    return false
endfunction

function Trig_CircleStoraging_Func005C takes nothing returns boolean
    if ( not Trig_CircleStoraging_Func005Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_CircleStoraging_Actions takes nothing returns nothing
    if not Trig_CircleStoraging_Conditions() then
	return
    endif
    set udg_Storage_Position=GetUnitLoc(GetTriggerUnit())
    set udg_Storage_Hero=null
    call ForGroupBJ(GetUnitsInRectAll(RectFromCenterSizeBJ(udg_Storage_Position, 500.00, 500.00)), function Trig_CircleStoraging_Func003A)
    call RemoveLocation(udg_Storage_Position)
    if ( Trig_CircleStoraging_Func005C() ) then
        call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), ( GetItemName(GetManipulatedItem()) + "|cffff0000 was kept in your bank.|r" ))
    else
        call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetManipulatingUnit())), "TRIGSTR_3098")
        call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
    endif
endfunction

//===========================================================================
function InitTrig_CircleStoraging takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_CircleStoraging_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: Colour String
//===========================================================================
function Trig_Colour_String_Actions takes nothing returns nothing
    call DialogSetMessageBJ(udg_DialogMenu_VoteKick, "TRIGSTR_5878")
    call DialogSetMessageBJ(udg_Dialog_Kicked, "TRIGSTR_5879")
    set udg_Colours[1]="|c00FF0303"
    set udg_Colours[2]="|c000042FF"
    set udg_Colours[3]="|c001CE6B9"
    set udg_Colours[4]="|c00540081"
    set udg_Colours[5]="|c00FFFC01"
    set udg_Colours[6]="|c00FEBA0E"
    set udg_Colours[7]="|c0020C000"
    set udg_Colours[8]="|c00E55BB0"
    set udg_Colours[9]="|c00959697"
    set udg_Colours[10]="|c007EBFF1"
    set udg_Colours[11]="|c00106246"
    set udg_Colours[12]="|c004E2A04"
    set udg_Colours[13]="|c00000000"
    set udg_Colour_Array[1]=PLAYER_COLOR_RED
    set udg_Colour_Array[2]=PLAYER_COLOR_BLUE
    set udg_Colour_Array[3]=PLAYER_COLOR_CYAN
    set udg_Colour_Array[4]=PLAYER_COLOR_PURPLE
    set udg_Colour_Array[5]=PLAYER_COLOR_YELLOW
    set udg_Colour_Array[6]=PLAYER_COLOR_ORANGE
    set udg_Colour_Array[7]=PLAYER_COLOR_GREEN
    set udg_Colour_Array[8]=PLAYER_COLOR_PINK
    set udg_Colour_Array[9]=PLAYER_COLOR_LIGHT_GRAY
    set udg_Colour_Array[10]=PLAYER_COLOR_LIGHT_BLUE
    set udg_Colour_Array[11]=PLAYER_COLOR_AQUA
    set udg_Colour_Array[12]=PLAYER_COLOR_BROWN
    set udg_Colour_Array[13]=ConvertPlayerColor(12)
endfunction

//===========================================================================
function InitTrig_Colour_String takes nothing returns nothing
    set gg_trg_Colour_String=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_Colour_String, 0.00)
    call TriggerAddAction(gg_trg_Colour_String, function Trig_Colour_String_Actions)
endfunction


//===========================================================================
// Trigger: Show VoteKick Menu
//===========================================================================
function Trig_Show_VoteKick_Menu_Func001Func001Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Show_VoteKick_Menu_Func001Func001Func006Func001C takes nothing returns boolean
    if ( not ( udg_Viewing_VoteKick[GetForLoopIndexA()] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Show_VoteKick_Menu_Func001Func001C takes nothing returns boolean
    if ( not ( IsPlayerInForce(GetTriggerPlayer(), udg_VoteKick_Bug) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Show_VoteKick_Menu_Func001C takes nothing returns boolean
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 4) == "-afk" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Show_VoteKick_Menu_Actions takes nothing returns nothing
    if ( Trig_Show_VoteKick_Menu_Func001C() ) then
        if ( Trig_Show_VoteKick_Menu_Func001Func001C() ) then
            set udg_Viewing_VoteKick[GetConvertedPlayerId(GetTriggerPlayer())]=true
            call DialogClear(udg_DialogMenu_VoteKick)
            call TriggerExecute(gg_trg_Colour_Refresh)
            call TriggerExecute(gg_trg_VoteKick_Menu)
            set bj_forLoopAIndex=1
            set bj_forLoopAIndexEnd=12
            loop
                exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
                if ( Trig_Show_VoteKick_Menu_Func001Func001Func006Func001C() ) then
                    call DialogDisplayBJ(true, udg_DialogMenu_VoteKick, ConvertedPlayer(GetForLoopIndexA()))
                else
                endif
                set bj_forLoopAIndex=bj_forLoopAIndex + 1
            endloop
        else
            call DisplayTimedTextToForce(GetPlayersMatching(Condition(function Trig_Show_VoteKick_Menu_Func001Func001Func001001001)), 5.00, "TRIGSTR_5880")
        endif
    else
    endif
endfunction

//===========================================================================
function InitTrig_Show_VoteKick_Menu takes nothing returns nothing
    set gg_trg_Show_VoteKick_Menu=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(0), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(1), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(2), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(3), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(4), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(5), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(6), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(7), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(8), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(9), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(10), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Show_VoteKick_Menu, Player(11), "-", false)
    call TriggerAddAction(gg_trg_Show_VoteKick_Menu, function Trig_Show_VoteKick_Menu_Actions)
endfunction


//===========================================================================
// Trigger: VoteKick System
//
// How to change players: Notice the "1 to 12" in the Loop Integer A action? Changes those values to get what you want. 
// For example, if you wanted only players 4 to 10, you would make it "4 to 10"
// In the Votes_Against part you can modify how many votes it takes to boot people. Right now at least half of the players in your party must vote to boot someone before they will be booted. When booted, three different methods of pawning that bk run so they should have no way of escaping being kicked. They will have to close Warcraft III >:D.
// ((PN - 1)12) + A 
// (( GetConvertedPlayerId(GetTriggerPlayer()) - 1) * 12) * GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()) )
//===========================================================================
function Trig_VoteKick_System_Func002Func001Func005C takes nothing returns boolean
    if ( not ( udg_Votes_Against[GetForLoopIndexA()] >= 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_VoteKick_System_Func002Func001C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_DialogMenu_VoteKick_Button[GetForLoopIndexA()] ) ) then
        return false
    endif
    if ( not ( GetTriggerPlayer() != ConvertedPlayer(GetForLoopIndexA()) ) ) then
        return false
    endif
    return true
endfunction

function Trig_VoteKick_System_Actions takes nothing returns nothing
    set udg_Viewing_VoteKick[GetConvertedPlayerId(GetTriggerPlayer())]=false
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_VoteKick_System_Func002Func001C() ) then
            call ForceAddPlayerSimple(GetTriggerPlayer(), udg_VoteKick_Bug)
            call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( udg_Colours[udg_Player_Colour[GetConvertedPlayerId(GetTriggerPlayer())]] + ( GetPlayerName(GetTriggerPlayer()) + ( "|c008FECFC has voted to kick " + ( udg_Colours[udg_Player_Colour[GetForLoopIndexA()]] + GetPlayerName(ConvertedPlayer(GetForLoopIndexA())) ) ) ) ))
            call StartSound(bj_questUpdatedSound)
            set udg_Votes_Against[GetForLoopIndexA()]=( udg_Votes_Against[GetForLoopIndexA()] + 1 )
            if ( Trig_VoteKick_System_Func002Func001Func005C() ) then
                set udg_Votekick_Timer=CreateTimer()
                call StartTimerBJ(udg_Votekick_Timer, false, 30.00)
                set udg_Votekick_TimerDialog=CreateTimerDialogBJ(udg_Votekick_Timer, "AFK System")
                set udg_Votekick_KickedPlayer=ConvertedPlayer(GetForLoopIndexA())
                call DialogClear(udg_Votekick_AFK_Dialog)
                call DialogSetMessageBJ(udg_Votekick_AFK_Dialog, "TRIGSTR_5881")
                call DialogAddButtonBJ(udg_Votekick_AFK_Dialog, "TRIGSTR_5882")
                set udg_Votekick_AFK_DialogButton=GetLastCreatedButtonBJ()
                call DialogDisplayBJ(true, udg_Votekick_AFK_Dialog, udg_Votekick_KickedPlayer)
                call EnableTrigger(gg_trg_Votekick_Kicked)
            else
            endif
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_VoteKick_System takes nothing returns nothing
    set gg_trg_VoteKick_System=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_VoteKick_System, udg_DialogMenu_VoteKick)
    call TriggerAddAction(gg_trg_VoteKick_System, function Trig_VoteKick_System_Actions)
endfunction


//===========================================================================
// Trigger: Votekick Cancel
//===========================================================================
function Trig_Votekick_Cancel_Conditions takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_Votekick_AFK_DialogButton ) ) then
        return false
    endif
    return true
endfunction

function Trig_Votekick_Cancel_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Votes_Against[GetForLoopIndexA()]=0
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call ForceClear(udg_VoteKick_Bug)
    call PauseTimerBJ(true, udg_Votekick_Timer)
    call DestroyTimerDialog(udg_Votekick_TimerDialog)
    call DestroyTimer(udg_Votekick_Timer)
    call DisableTrigger(gg_trg_Votekick_Kicked)
endfunction

//===========================================================================
function InitTrig_Votekick_Cancel takes nothing returns nothing
    set gg_trg_Votekick_Cancel=CreateTrigger()
    call TriggerRegisterDialogEventBJ(gg_trg_Votekick_Cancel, udg_Votekick_AFK_Dialog)
    call TriggerAddCondition(gg_trg_Votekick_Cancel, Condition(function Trig_Votekick_Cancel_Conditions))
    call TriggerAddAction(gg_trg_Votekick_Cancel, function Trig_Votekick_Cancel_Actions)
endfunction


//===========================================================================
// Trigger: Votekick Kicked
//===========================================================================
function Trig_Votekick_Kicked_Conditions takes nothing returns boolean
    if ( not ( TimerGetRemaining(udg_Votekick_Timer) <= 1.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Votekick_Kicked_Func005Func001Func002Func001C takes nothing returns boolean
    if ( not ( GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(), GetForLoopIndexA())) != 'I02F' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Votekick_Kicked_Func005Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Votekick_Kicked_Func005A takes nothing returns nothing
    if ( Trig_Votekick_Kicked_Func005Func001C() ) then
        call GroupRemoveUnit(hideheroes, GetEnumUnit())
        set bj_forLoopAIndex=1
        set bj_forLoopAIndexEnd=6
        loop
            exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
            if ( Trig_Votekick_Kicked_Func005Func001Func002Func001C() ) then
                call UnitRemoveItemFromSlotSwapped(GetForLoopIndexA(), GetEnumUnit())
            else
            endif
            set bj_forLoopAIndex=bj_forLoopAIndex + 1
        endloop
    else
    endif
    call RemoveUnit(GetEnumUnit())
endfunction

function Trig_Votekick_Kicked_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Votes_Against[GetForLoopIndexA()]=0
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
    call ForceClear(udg_VoteKick_Bug)
    call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), udg_Votekick_KickedPlayer), function Trig_Votekick_Kicked_Func005A)
    call PauseTimerBJ(true, udg_Votekick_Timer)
    call DestroyTimerDialog(udg_Votekick_TimerDialog)
    call DestroyTimer(udg_Votekick_Timer)
    call StartSound(bj_questFailedSound)
    call DialogDisplayBJ(false, udg_Votekick_AFK_Dialog, udg_Votekick_KickedPlayer)
    call CustomDefeatBJ(udg_Votekick_KickedPlayer, "TRIGSTR_5883")
    call ShowInterfaceForceOff(GetForceOfPlayer(udg_Votekick_KickedPlayer), 1.00)
    call DialogDisplayBJ(true, udg_Dialog_Kicked, udg_Votekick_KickedPlayer)
    call DisableTrigger(GetTriggeringTrigger())
endfunction

//===========================================================================
function InitTrig_Votekick_Kicked takes nothing returns nothing
    set gg_trg_Votekick_Kicked=CreateTrigger()
    call DisableTrigger(gg_trg_Votekick_Kicked)
    call TriggerRegisterTimerEventPeriodic(gg_trg_Votekick_Kicked, 1.00)
    call TriggerRegisterTimerExpireEventBJ(gg_trg_Votekick_Kicked, udg_Votekick_Timer)
    call TriggerAddCondition(gg_trg_Votekick_Kicked, Condition(function Trig_Votekick_Kicked_Conditions))
    call TriggerAddAction(gg_trg_Votekick_Kicked, function Trig_Votekick_Kicked_Actions)
endfunction


//===========================================================================
// Trigger: VoteKick Menu
//
// How to change players: Notice the "1 to 12" in the Loop Integer A action? Changes those values to get what you want. 
// For example, if you wanted only players 4 to 10, you would make it "4 to 10"
// Note: It automatically filters out unused slots and computer player slots.
//===========================================================================
function Trig_VoteKick_Menu_Func001Func001C takes nothing returns boolean
    if ( not ( GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA())) != PLAYER_SLOT_STATE_EMPTY ) ) then
        return false
    endif
    if ( not ( GetPlayerController(ConvertedPlayer(GetForLoopIndexA())) != MAP_CONTROL_COMPUTER ) ) then
        return false
    endif
    return true
endfunction

function Trig_VoteKick_Menu_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_VoteKick_Menu_Func001Func001C() ) then
            call DialogAddButtonBJ(udg_DialogMenu_VoteKick, ( udg_Colours[udg_Player_Colour[GetForLoopIndexA()]] + ( GetPlayerName(ConvertedPlayer(GetForLoopIndexA())) + ( " |c00D91327(" + ( I2S(udg_Votes_Against[GetConvertedPlayerId(ConvertedPlayer(GetForLoopIndexA()))]) + ")" ) ) ) ))
            set udg_DialogMenu_VoteKick_Button[GetForLoopIndexA()]=GetLastCreatedButtonBJ()
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_VoteKick_Menu takes nothing returns nothing
    set gg_trg_VoteKick_Menu=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_VoteKick_Menu, 0.00)
    call TriggerAddAction(gg_trg_VoteKick_Menu, function Trig_VoteKick_Menu_Actions)
endfunction


//===========================================================================
// Trigger: Colour Refresh
//===========================================================================
function Trig_Colour_Refresh_Func001Func001Func001C takes nothing returns boolean
    if ( not ( GetPlayerColor(GetEnumPlayer()) == udg_Colour_Array[GetForLoopIndexA()] ) ) then
        return false
    endif
    return true
endfunction

function Trig_Colour_Refresh_Func001A takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=13
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        if ( Trig_Colour_Refresh_Func001Func001Func001C() ) then
            set udg_Player_Colour[GetConvertedPlayerId(GetEnumPlayer())]=GetForLoopIndexA()
        else
        endif
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

function Trig_Colour_Refresh_Actions takes nothing returns nothing
    call ForForce(GetPlayersAll(), function Trig_Colour_Refresh_Func001A)
endfunction

//===========================================================================
function InitTrig_Colour_Refresh takes nothing returns nothing
    set gg_trg_Colour_Refresh=CreateTrigger()
    call TriggerAddAction(gg_trg_Colour_Refresh, function Trig_Colour_Refresh_Actions)
endfunction


//===========================================================================
// Trigger: CleanMessages
//===========================================================================
function Trig_CleanMessages_Actions2 takes nothing returns nothing
	call ClearTextMessages()
endfunction

function Trig_CleanMessages_Actions takes nothing returns nothing
 local trigger t= CreateTrigger()
 local integer i= 0

	loop
		exitwhen i > 23
		call TriggerRegisterPlayerEventEndCinematic(t, Player(i))
		set i=i + 1
	endloop
	call TriggerAddAction(t, function Trig_CleanMessages_Actions2)
endfunction

//===========================================================================
function InitTrig_CleanMessages takes nothing returns nothing
    	set gg_trg_CleanMessages=CreateTrigger()
	call DisableTrigger(gg_trg_CleanMessages)
	call TriggerAddAction(gg_trg_CleanMessages, function Trig_CleanMessages_Actions)
endfunction


//===========================================================================
// Trigger: ZoomSystem
//===========================================================================
function Trig_Zoom_System_Actions takes nothing returns nothing
    local real zoom= S2R(SubStringBJ(GetEventPlayerChatString(), 4, 7))
    if zoom < 1000 then
        set zoom=1000
    elseif zoom > 4000 then
        set zoom=4000
    endif
    set udg_zoom_v[GetConvertedPlayerId(GetTriggerPlayer())]=zoom
endfunction

function Trig_StartingZoom_Periodic takes nothing returns nothing
    local integer i= 0
    loop
        exitwhen i > 16
        call SetCameraFieldForPlayer(Player(i), CAMERA_FIELD_TARGET_DISTANCE, udg_zoom_v[i + 1], 0.00)
        set i=i + 1
    endloop
endfunction 

function Trig_StartingZoom_Delay takes nothing returns nothing
    call TimerStartEx((NewTimerEx(0)) , 1.0 , true , function Trig_StartingZoom_Periodic , "Trig_StartingZoom_Periodic") // INLINED!!
    call ReleaseTimer(GetExpiredTimer())
endfunction

function Trig_StartingZoom_Actions takes nothing returns nothing
    local trigger t= CreateTrigger()
    local integer i= 0
    loop
        exitwhen i > 16
        set udg_zoom_v[i + 1]=2300.00
        call SetCameraFieldForPlayer(Player(i), CAMERA_FIELD_TARGET_DISTANCE, 2300.00, 1.00)
        call TriggerRegisterPlayerChatEvent(t, Player(i), "-z", false)
        set i=i + 1
    endloop
    call TriggerAddAction(t, function Trig_Zoom_System_Actions)
    call TimerStartEx((NewTimerEx(0)) , 2.0 , false , function Trig_StartingZoom_Delay , "Trig_StartingZoom_Delay") // INLINED!!
endfunction

//===========================================================================
function InitTrig_ZoomSystem takes nothing returns nothing
    set gg_trg_ZoomSystem=CreateTrigger()
    call DisableTrigger(gg_trg_ZoomSystem)
    call TriggerAddAction(gg_trg_ZoomSystem, function Trig_StartingZoom_Actions)
endfunction


//===========================================================================
// Trigger: QuickCast
//===========================================================================

function Trig_QuickCast_Off takes nothing returns nothing
	set udg_quickcast[GetPlayerId(GetTriggerPlayer())]=true
endfunction

function Trig_QuickCast_On takes nothing returns nothing
	set udg_quickcast[GetPlayerId(GetTriggerPlayer())]=false
endfunction

//===========================================================================
function InitTrig_QuickCast takes nothing returns nothing
    local trigger t1= CreateTrigger()
    local trigger t2= CreateTrigger()
    local integer i= 0
    loop
        exitwhen i > 16
        call TriggerRegisterPlayerChatEvent(t1, Player(i), "-quickcastoff", false)
        call TriggerRegisterPlayerChatEvent(t2, Player(i), "-quickcaston", false)
        set i=i + 1
    endloop
    call TriggerAddAction(t1, function Trig_QuickCast_Off)
    call TriggerAddAction(t2, function Trig_QuickCast_On)
endfunction


//===========================================================================
// Trigger: SendGoldCrystal
//===========================================================================
// scope SendGoldAndCystal begins


    
    function s__SendGoldAndCystal__Command_receiveCrystal takes nothing returns nothing
        local integer id= 0
        local integer i
        loop
            exitwhen id > 11
            if GetClickedDialog() == s__SendGoldAndCystal__cd[id] then
                set i=0
                loop
                    exitwhen i > 11
                    if GetClickedButton() == s__SendGoldAndCystal__cb[(id)*(12)+i] then
                        if s__SendGoldAndCystal__c[id] > GetPlayerState(Player(id), PLAYER_STATE_RESOURCE_LUMBER) then
                            set s__SendGoldAndCystal__c[id]= GetPlayerState(Player(id), PLAYER_STATE_RESOURCE_LUMBER)
                        endif
                        call SetPlayerState(Player(id), PLAYER_STATE_RESOURCE_LUMBER, GetPlayerState(Player(id), PLAYER_STATE_RESOURCE_LUMBER) - s__SendGoldAndCystal__c[id])
                        call SetPlayerState(Player(i), PLAYER_STATE_RESOURCE_LUMBER, GetPlayerState(Player(i), PLAYER_STATE_RESOURCE_LUMBER) + s__SendGoldAndCystal__c[id])
                        call DisplayTextToPlayer(Player(i), 0, 0, GetPlayerName(Player(id)) + " |cff87ceebsent you |r|cffffcc00" + I2S(s__SendGoldAndCystal__c[id]) + "|r|cff87ceeb crystal.|r")
                    endif
                    set i=i + 1
                endloop
            endif
            set id=id + 1
        endloop
    endfunction 
    
    function s__SendGoldAndCystal__Command_receiveGold takes nothing returns nothing
        local integer id= 0
        local integer i
        loop
            exitwhen id > 11
            if GetClickedDialog() == s__SendGoldAndCystal__gd[id] then
                set i=0
                loop
                    exitwhen i > 11
                    if GetClickedButton() == s__SendGoldAndCystal__gb[(id)*(12)+i] then
                        if s__SendGoldAndCystal__g[id] > GetPlayerState(Player(id), PLAYER_STATE_RESOURCE_GOLD) then
                            set s__SendGoldAndCystal__g[id]= GetPlayerState(Player(id), PLAYER_STATE_RESOURCE_GOLD)
                        endif
			if s__SendGoldAndCystal__given[id] + s__SendGoldAndCystal__g[id] > 5000 then
				set s__SendGoldAndCystal__g[id]= 5000 - s__SendGoldAndCystal__given[id]
			endif
                        call SetPlayerState(Player(id), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(id), PLAYER_STATE_RESOURCE_GOLD) - s__SendGoldAndCystal__g[id])
                        call SetPlayerState(Player(i), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(i), PLAYER_STATE_RESOURCE_GOLD) + s__SendGoldAndCystal__g[id])
                        call DisplayTextToPlayer(Player(i), 0, 0, GetPlayerName(Player(id)) + " |cff87ceebsent you |r|cffffcc00" + I2S(s__SendGoldAndCystal__g[id]) + "|r|cff87ceeb gold.|r")
			set s__SendGoldAndCystal__given[id]= s__SendGoldAndCystal__given[id] + s__SendGoldAndCystal__g[id]
                    endif
                    set i=i + 1
                endloop
            endif
            set id=id + 1
        endloop
    endfunction 
    
    function s__SendGoldAndCystal__Command_sendCrystal takes nothing returns nothing
        local integer amount= S2I(SubStringBJ(GetEventPlayerChatString(), 4, 10))
        local integer id= GetPlayerId(GetTriggerPlayer())
        local integer i= 0
        local integer count= 0
        set s__SendGoldAndCystal__c[id]= amount
        call DialogClear(s__SendGoldAndCystal__cd[id])
        call DialogSetMessage(s__SendGoldAndCystal__cd[id], "Choose a player to send crystal")
        loop
            exitwhen i > 11
            if i != 3 and i != 7 and i != 11 and GetPlayerController(Player(i)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING and IsPlayerAlly(Player(i), GetTriggerPlayer()) and i != id then
                set s__SendGoldAndCystal__cb[(id)*(12)+i]= DialogAddButton(s__SendGoldAndCystal__cd[id], GetPlayerName(Player(i)), 0)
                set count=count + 1
            endif
            set i=i + 1
        endloop
        if count == 0 then
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have any ally to send crystal to.|r")
        else
            call DialogDisplay(GetTriggerPlayer(), s__SendGoldAndCystal__cd[id], true)
        endif
    endfunction 
    
    function s__SendGoldAndCystal__Command_sendGold takes nothing returns nothing
        local integer amount= S2I(SubStringBJ(GetEventPlayerChatString(), 4, 10))
        local integer id= GetPlayerId(GetTriggerPlayer())
        local integer i= 0
        local integer count= 0
	if SubStringBJ(GetEventPlayerChatString(), 1, 4) == "-gen" then
		return
	endif
        set s__SendGoldAndCystal__g[id]= amount
        call DialogClear(s__SendGoldAndCystal__gd[id])
        call DialogSetMessage(s__SendGoldAndCystal__gd[id], "Choose a player to send gold")
        loop
            exitwhen i > 11
            if i != 3 and i != 7 and i != 11 and GetPlayerController(Player(i)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING and IsPlayerAlly(Player(i), GetTriggerPlayer()) and i != id then
                set s__SendGoldAndCystal__gb[(id)*(12)+i]= DialogAddButton(s__SendGoldAndCystal__gd[id], GetPlayerName(Player(i)), 0)
                set count=count + 1
            endif
            set i=i + 1
        endloop
        if count == 0 then
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have any ally to send gold to.|r")
        else
            call DialogDisplay(GetTriggerPlayer(), s__SendGoldAndCystal__gd[id], true)
        endif
    endfunction 
    
    function s__SendGoldAndCystal__Command_onInit takes nothing returns nothing
        local trigger t1= CreateTrigger()
        local trigger t2= CreateTrigger()
        local trigger t3= CreateTrigger()
        local trigger t4= CreateTrigger()
 local integer j
        local integer i= 0
        loop
            exitwhen i > 11
            if i != 3 and i != 7 and i != 11 then
                call TriggerRegisterPlayerChatEvent(t1, Player(i), "-g", false)
                call TriggerRegisterPlayerChatEvent(t2, Player(i), "-c", false)
                set s__SendGoldAndCystal__gd[i]= DialogCreate()
                set s__SendGoldAndCystal__cd[i]= DialogCreate()
                call TriggerRegisterDialogEventBJ(t3, s__SendGoldAndCystal__gd[i])
                call TriggerRegisterDialogEventBJ(t4, s__SendGoldAndCystal__cd[i])
            endif
	    set s__SendGoldAndCystal__given[i]= 0
            set i=i + 1
        endloop
        call TriggerAddAction(t1, function s__SendGoldAndCystal__Command_sendGold)
        call TriggerAddAction(t2, function s__SendGoldAndCystal__Command_sendCrystal)
        call TriggerAddAction(t3, function s__SendGoldAndCystal__Command_receiveGold)
        call TriggerAddAction(t4, function s__SendGoldAndCystal__Command_receiveCrystal)
    endfunction 
    

// scope SendGoldAndCystal ends
//===========================================================================
// Trigger: BuyAttributes
//===========================================================================

    
 function s__BuyAttributes_findHero takes player p returns nothing
  local unit hero= null
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRect(bj_lastCreatedGroup, GetPlayableMapRect(), null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			if GetOwningPlayer(bj_lastCreatedUnit) == p and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true and not IsUnitIllusion(bj_lastCreatedUnit) and ( hero == null or GetHeroStr(bj_lastCreatedUnit, true) > GetHeroStr(hero, true) ) then
				set hero=bj_lastCreatedUnit
			endif
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		endloop
		if hero != null then
			set udg_units33[GetPlayerId(p) + 1]=hero
		endif
 endfunction 
	
    function s__BuyAttributes_buyTai takes nothing returns nothing
        local integer amount= S2I(SubStringBJ(GetEventPlayerChatString(), 6, 10))
		if GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) < amount then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have enough crystals.|r")
			return
		endif
		if amount < 0 then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Amount cannot be negative.|r")
			return
		endif
		call s__BuyAttributes_findHero(GetTriggerPlayer())

		if not RectContainsUnit(gg_rct_KONOHA, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_EVIL, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_AKATSUKI, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000This command can only be used inside your base.|r")
			return
		endif
		call SetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER, GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) - amount)
		call SetHeroStr(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], GetHeroStr(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], false) + amount * 2, true)
    endfunction 
    
    function s__BuyAttributes_buyNin takes nothing returns nothing
        local integer amount= S2I(SubStringBJ(GetEventPlayerChatString(), 6, 10))
		if GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) < amount then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have enough crystals.|r")
			return
		endif
		if amount < 0 then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Amount cannot be negative.|r")
			return
		endif
		call s__BuyAttributes_findHero(GetTriggerPlayer())

		if not RectContainsUnit(gg_rct_KONOHA, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_EVIL, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_AKATSUKI, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000This command can only be used inside your base.|r")
			return
		endif
		call SetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER, GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) - amount)
		call SetHeroAgi(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], GetHeroAgi(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], false) + amount * 2, true)
    endfunction 
    
    function s__BuyAttributes_buyGen takes nothing returns nothing
        local integer amount= S2I(SubStringBJ(GetEventPlayerChatString(), 6, 10))
		if GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) < amount then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have enough crystals.|r")
			return
		endif
		if amount < 0 then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Amount cannot be negative.|r")
			return
		endif
		call s__BuyAttributes_findHero(GetTriggerPlayer())

		if not RectContainsUnit(gg_rct_KONOHA, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_EVIL, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_AKATSUKI, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000This command can only be used inside your base.|r")
			return
		endif
		call SetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER, GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_LUMBER) - amount)
		call SetHeroInt(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], GetHeroInt(udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], false) + amount * 2, true)
    endfunction 
    
    function s__BuyAttributes_buyXP takes nothing returns nothing
        local integer amount= S2I(SubStringBJ(GetEventPlayerChatString(), 5, 9))
		if GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) < 500 * amount then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have enough gold.|r")
			return
		endif
		if amount < 0 then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Amount cannot be negative.|r")
			return
		endif
		call s__BuyAttributes_findHero(GetTriggerPlayer())
		if not RectContainsUnit(gg_rct_fonte_konoha, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_fonte_evil, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_fonte_akt, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) and not RectContainsUnit(gg_rct_fonte_akt_start, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]) then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000This command can only be used besides your fountain.|r")
			return
		endif
		call SetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) - 500 * amount)
        call AddHeroXPSwapped(800 * amount, udg_units33[GetPlayerId(GetTriggerPlayer()) + 1], true)
    endfunction 
    
    function s__BuyAttributes_onInit takes nothing returns nothing
        local trigger t1= CreateTrigger()
        local trigger t2= CreateTrigger()
        local trigger t3= CreateTrigger()
        local trigger t4= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 11
            if i != 3 and i != 7 and i != 11 then
                call TriggerRegisterPlayerChatEvent(t1, Player(i), "-tai", false)
                call TriggerRegisterPlayerChatEvent(t2, Player(i), "-nin", false)
				call TriggerRegisterPlayerChatEvent(t3, Player(i), "-gen", false)
                call TriggerRegisterPlayerChatEvent(t4, Player(i), "-xp", false)
            endif
            set i=i + 1
        endloop
        call TriggerAddAction(t1, function s__BuyAttributes_buyTai)
        call TriggerAddAction(t2, function s__BuyAttributes_buyNin)
        call TriggerAddAction(t3, function s__BuyAttributes_buyGen)
        call TriggerAddAction(t4, function s__BuyAttributes_buyXP)
    endfunction 
    

//===========================================================================
// Trigger: KillMe
//===========================================================================

//Implemented from module Alloc:
    
        function s__Killme_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__Killme_Alloc__recycle[(0)] == 0 ) then
                set s__Killme_Alloc__instanceCount=s__Killme_Alloc__instanceCount + 1
                set this=s__Killme_Alloc__instanceCount
            else
                set this=s__Killme_Alloc__recycle[(0)]
                set s__Killme_Alloc__recycle[(0)]=s__Killme_Alloc__recycle[s__Killme_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__Killme_deallocate takes integer this returns nothing
            set s__Killme_Alloc__recycle[this]=s__Killme_Alloc__recycle[(0)]
            set s__Killme_Alloc__recycle[(0)]=this
        endfunction
    
    function s__Killme_periodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__Killme_count[this] > 0 then
            call DisplayTextToPlayer(Player(s__Killme_id[this]), 0, 0, "|cffff0000" + I2S(s__Killme_count[this]) + " second remaining!")
        endif
        set s__Killme_count[this]=s__Killme_count[this] - 1
        if s__Killme_count[this] < 0 then
            call DisplayTextToPlayer(Player(s__Killme_id[this]), 0, 0, "|cffff0000BOOM!|r")
            call SetUnitPosition(udg_units33[s__Killme_id[this] + 1], 0, 0)
            call SetUnitInvulnerable(udg_units33[s__Killme_id[this] + 1], false)
            call UnitRemoveAbility(udg_units33[s__Killme_id[this] + 1], 'Avul')
            call UnitRemoveBuffs(udg_units33[s__Killme_id[this] + 1], true, true)
            call UnitDamageTarget(udg_units33[s__Killme_id[this] + 1], udg_units33[s__Killme_id[this] + 1], 9999999.0, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_UNIVERSAL, null)
            call KillUnit(udg_units33[s__Killme_id[this] + 1])
            call PauseUnit(udg_units33[s__Killme_id[this] + 1], false)
            call ShowUnit(udg_units33[s__Killme_id[this] + 1], true)
            call SetUnitFlyHeight(udg_units33[s__Killme_id[this] + 1], 0, 0)
            call SetUnitVertexColor(udg_units33[s__Killme_id[this] + 1], 255, 255, 255, 255)
            call s__Killme_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 
    
    function s__Killme_killActions takes nothing returns nothing
        local integer this
	if s__s__Killme_uses[GetPlayerId(GetTriggerPlayer())] >= 3 then
		call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You can only use -killme three times in a game!")
	else
		set s__s__Killme_uses[GetPlayerId(GetTriggerPlayer())]= s__s__Killme_uses[GetPlayerId(GetTriggerPlayer())] + 1
		set this=s__Killme_allocate()
        	set s__Killme_id[this]=GetPlayerId(GetTriggerPlayer())
        	set s__Killme_count[this]=15
        	call TimerStartEx(NewTimerEx(this) , 1.0 , true , function s__Killme_periodic , "Kill_Me_Periodic")
	endif
    endfunction 
    
    function s__Killme_onInit takes nothing returns nothing
        local trigger t= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 11
            set s__s__Killme_uses[i]= 0
            if i != 3 and i != 7 and i != 11 then
                call TriggerRegisterPlayerChatEvent(t, Player(i), "-killme", true)
                call TriggerRegisterPlayerChatEvent(t, Player(i), "-suicide", true)
            endif
            set i=i + 1
        endloop
        call TriggerAddAction(t, function s__Killme_killActions)
    endfunction 

//===========================================================================
// Trigger: Tips
//===========================================================================
function Trig_Tips_Conditions takes nothing returns boolean
    if ( not ( StringCase(GetEventPlayerChatString(), false) == "-tip" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Tips_Actions takes nothing returns nothing
    local integer i= GetRandomInt(0, 24)
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, udg_Tips[i])
endfunction

//===========================================================================
function InitTrig_Tips takes nothing returns nothing
    set gg_trg_Tips=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(0), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(1), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(2), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(3), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(4), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(5), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(6), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(7), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(8), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(9), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(10), "-", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Tips, Player(11), "-", false)
    call TriggerAddCondition(gg_trg_Tips, Condition(function Trig_Tips_Conditions))
    call TriggerAddAction(gg_trg_Tips, function Trig_Tips_Actions)
    set udg_Tips[0]="|cff87ceebTip #1: Oil (Ninja weapons shop) and Bomb (Small Merchant) are two very effective items to farm.|r"
    set udg_Tips[1]="|cff87ceebTip #2: The key to win is to stay near your teammates. A cooperative team can outmatch any overfarmed hero.|r"
    set udg_Tips[2]="|cff87ceebTip #3: Upgraded Kusanagi Sword and Banshosen are very effective against buildings.|r"
    set udg_Tips[3]="|cff87ceebTip #4: Mirror of Heaven (Legendary Items Shop) and Jade of Susano'o (Recipe shop) are two items that provide good resistence to your hero. The choice between them two relies on the situation.|r"
    set udg_Tips[4]="|cff87ceebTip #5: In point mode, it's very important you buy a weapon before any support item. Killing is a priority.|r"
    set udg_Tips[5]="|cff87ceebTip #6: Don't initiate fights alone except if you are fed. There's a high probability you'll be dead before you have the chance to tell the history.|r"
    set udg_Tips[6]="|cff87ceebTip #7: Farming has always a higher priority than killing.|r"
    set udg_Tips[7]="|cff87ceebTip #8: If the range of your skills is outmatched by the range of your enemies, it's important you buy Smoke Bomb or Inivisiblity Stone (Support Items Shop) to gain initiative.|r"
    set udg_Tips[8]="|cff87ceebTip #9: Bunshin Stone (Support Items Shop) is very effective for heroes who have passives that boost their normal attacks, i.e, Temari, Tenten and Gaara.|r"
    set udg_Tips[9]="|cff87ceebTip #10: Don't understimate Body-Replacing Doll (Support Items Shop). If played cleverly, it provides great strategic advantage.|r"
    set udg_Tips[10]="|cff87ceebTip #11: Medical Sphere (Medical Division) is a must-have item for Survival and Battle Royal mode.|r"
    set udg_Tips[11]="|cff87ceebTip #12: Explosive Tag Package (Ninja Weapons Shop) can serve as invisible wards, providing great visibility advantage.|r"
    set udg_Tips[12]="|cff87ceebTip #13: Poison Pills (Ninja Weapons Shop) are great if you hero can hold your enemies at a determined location for a long period of time, i.e, Shikamaru, Kakuzu and Yamato.|r"
    set udg_Tips[13]="|cff87ceebTip #14: Buy Sword of Totsuka (Legendary Items Shop) wherenver your hero have a silence skill, i.e., Itachi and Neji. So you silence them for a even longer period of time.|r"
    set udg_Tips[14]="|cff87ceebTip #15: Fireworks (Small Merchant) can open a fog at long distance.|r"
    set udg_Tips[15]="|cff87ceebTip #16: Pay attention to the respawn of the creeps. Don't farm a lane before you have sure another wave is not coming.|r"
    set udg_Tips[16]="|cff87ceebTip #17: Substituion Wood (Support Items Shop) can dispel all negative buffs and provides a short time of invulnerability. Use it wisely.|r"
    set udg_Tips[17]="|cff87ceebTip #18: If you have a chance, try to pick a hero thinking on team balance, not on your own preferences, for example, picking a Ninjutsu hero when the other two mates are also Ninjutsu.|r"
    set udg_Tips[18]="|cff87ceebTip #19: Don't leave a game, specially if you are losing. Defeat is a great opportunity to learn.|r"
    set udg_Tips[19]="|cff87ceebTip #20: Try to buy shoes (Basic Equipment Shop) and upgrade it (Spirit and Upgrade Shop) as fast as possible. You can never run fast enough.|r"
    set udg_Tips[20]="|cff87ceebTip #21: Chakra Sweets (Small merchant) are great at early game. It prevents you to go back to base to recover chakra.|r"
    set udg_Tips[21]="|cff87ceebTip #22: Pay attention to signal of fights between the two enemy teams. Text messages, screen color changes and screen shakes are a great signalizer.|r"
    set udg_Tips[22]="|cff87ceebTip #23: Some heroes gain special effects when handling some weapons. See Help Menu (F9) for more information about it.|r"
    set udg_Tips[23]="|cff87ceebTip #24: Be kind, always. The main point of the game is to have fun. Win is just a detail.|r"
    set udg_Tips[24]="|cff87ceebTip #25: Don't target taijutsu heroes if you have the opportunity to target ninjutsu or genjutsu heroes. Ninjutsu heroes specially, since most of them offer great danger when fed.|r"
endfunction


//===========================================================================
// Trigger: Ms
//===========================================================================
function Trig_MovementSpeed_Conditions takes nothing returns boolean
    if ( not ( null != udg_units33[GetConvertedPlayerId(GetTriggerPlayer())] ) ) then
        return false
    endif
    return true
endfunction

function Trig_MovementSpeed_Actions takes nothing returns nothing
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebMovement Speed:|r " + I2S(R2I(GetUnitMoveSpeed(udg_units33[GetConvertedPlayerId(GetTriggerPlayer())]))))
endfunction

//===========================================================================
function InitTrig_Ms takes nothing returns nothing
    set gg_trg_Ms=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(0), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(1), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(2), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(4), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(5), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(6), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(8), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(9), "-ms", true)
    call TriggerRegisterPlayerChatEvent(gg_trg_Ms, Player(10), "-ms", true)
    call TriggerAddCondition(gg_trg_Ms, Condition(function Trig_MovementSpeed_Conditions))
    call TriggerAddAction(gg_trg_Ms, function Trig_MovementSpeed_Actions)
endfunction


//===========================================================================
// Trigger: ResetMs
//===========================================================================
	

 function s__MoveSpeedBug_resetMs takes nothing returns nothing
  local integer id= GetPlayerId(GetTriggerPlayer())
		if udg_units33[id + 1] != null then
			if s__s__MoveSpeedBug_ms[GetUnitPointValue(udg_units33[id + 1])] > 0 then
				call SetUnitMoveSpeed(udg_units33[id + 1], s__s__MoveSpeedBug_ms[GetUnitPointValue(udg_units33[id + 1])])
				call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebMove speed reseted.|r")
			else
				call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Cannot use this command. Please, report this bug!|r " + GetUnitName(udg_units33[id + 1]))
			endif
		else
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have a hero.|r")
		endif
 endfunction

 function s__MoveSpeedBug_leave takes nothing returns nothing
		set s__s__MoveSpeedBug_ms[GetUnitPointValue(GetLeavingUnit())]= GetUnitDefaultMoveSpeed(GetLeavingUnit())
 endfunction 

 function s__MoveSpeedBug_onInit takes nothing returns nothing
      local trigger tg= CreateTrigger()
      local integer i= 0
    		loop
        		exitwhen i > 16
        		call TriggerRegisterPlayerChatEvent(tg, Player(i), "-resetms", false)
        		set i=i + 1
    		endloop
    		call TriggerAddAction(tg, function s__MoveSpeedBug_resetMs)
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__MoveSpeedBug_leave))) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: Window
//===========================================================================

 function s__WindowCommand_leave takes nothing returns nothing
		set udg_HeroWindow[GetUnitPointValue(GetLeavingUnit())]=GetUnitPropWindow(GetLeavingUnit())
 endfunction

 function s__WindowCommand_actions takes nothing returns nothing
		if udg_units33[GetPlayerId(GetTriggerPlayer()) + 1] != null then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebProp window:|r " + I2S(R2I(GetUnitPropWindow(udg_units33[GetConvertedPlayerId(GetTriggerPlayer())]))))
		endif
 endfunction

 function s__WindowCommand_onInit takes nothing returns nothing
  local integer i= 0
  local trigger t= CreateTrigger()
		loop
			exitwhen i > 11
    			call TriggerRegisterPlayerChatEvent(t, Player(i), "-window", true)
			set i=i + 1
		endloop
    		call TriggerAddAction(t, function s__WindowCommand_actions)
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__WindowCommand_leave))) // INLINED!!
 endfunction 


//===========================================================================
// Trigger: Range
//===========================================================================

    
    function s__RangeCommand_finish takes integer id returns nothing
        local integer i
        local integer uid
        if s__s__RangeCommand_uu[id] != null then
            set i=0
            loop
                exitwhen i > 23
                call KillUnit(s__s__RangeCommand_glow[(id)*(24)+i])
                call ShowUnit(s__s__RangeCommand_glow[(id)*(24)+i], false)
                set s__s__RangeCommand_glow[(id)*(24)+i]= null
                set i=i + 1
            endloop
            set s__s__RangeCommand_uu[id]= null
            call ReleaseTimer(s__s__RangeCommand_tt[id])
            set s__s__RangeCommand_tt[id]= null
        endif
    endfunction
    
    function s__RangeCommand_getUnit takes integer id returns unit
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsInRect(bj_lastCreatedGroup, GetPlayableMapRect(), null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null or IsUnitSelected(bj_lastCreatedUnit, Player(id))
            call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
        return bj_lastCreatedUnit
    endfunction
    
    function s__RangeCommand_periodic takes nothing returns nothing
        local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local integer i= 0
        local real x= GetUnitX(s__s__RangeCommand_uu[id])
        local real y= GetUnitY(s__s__RangeCommand_uu[id])
        local real new_x
        local real new_y
        loop
            exitwhen i > 23
            set new_x=(((x )*1.0) + Cos((( Deg2Rad(360 / 24 * i) )*1.0)) * (( s__s__RangeCommand_rr[id])*1.0)) // INLINED!!
            set new_y=(((y )*1.0) + Sin((( Deg2Rad(360 / 24 * i) )*1.0)) * (( s__s__RangeCommand_rr[id])*1.0)) // INLINED!!
            call SetUnitX(s__s__RangeCommand_glow[(id)*(24)+i], new_x)
            call SetUnitY(s__s__RangeCommand_glow[(id)*(24)+i], new_y)
            set i=i + 1
        endloop
        if not IsUnitVisible(s__s__RangeCommand_uu[id], Player(id)) or GetWidgetLife(s__s__RangeCommand_uu[id]) < 0.405 then
            call s__RangeCommand_finish(id)
        endif
    endfunction
    
    function s__RangeCommand_start takes integer id,unit u,real range returns nothing
        local integer i
        local real x= GetUnitX(u)
        local real y= GetUnitY(u)
        local real new_x
        local real new_y
        if range == 0 then
            call s__RangeCommand_finish(id)
        else
            set s__s__RangeCommand_uu[id]= u
            set s__s__RangeCommand_tt[id]= NewTimerEx(id)
            set s__s__RangeCommand_rr[id]= range
            set i=0
            loop
                exitwhen i > 23
                set new_x=(((x )*1.0) + Cos((( Deg2Rad(360 / 24 * i) )*1.0)) * (( s__s__RangeCommand_rr[id])*1.0)) // INLINED!!
                set new_y=(((y )*1.0) + Sin((( Deg2Rad(360 / 24 * i) )*1.0)) * (( s__s__RangeCommand_rr[id])*1.0)) // INLINED!!
                set bj_lastCreatedUnit=CreateUnit(Player(id), 'e02Q', new_x, new_y, 270.0)
                if GetLocalPlayer() != Player(id) then
                    call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 0)
                endif
                set s__s__RangeCommand_glow[(id)*(24)+i]= bj_lastCreatedUnit
                set i=i + 1
            endloop
            call TimerStartEx(s__s__RangeCommand_tt[id] , 0.05 , true , function s__RangeCommand_periodic , "Range_periodic")
        endif
    endfunction
    
    function s__RangeCommand_actions takes nothing returns nothing
        local integer id= GetPlayerId(GetTriggerPlayer())
        local real range= S2R(SubString(GetEventPlayerChatString(), 7, 11))
        local unit u
        call s__RangeCommand_finish(id)
        set u=s__RangeCommand_getUnit(id)
        if u != null then
            call s__RangeCommand_start(id , u , range)
        endif
        set u=null
    endfunction
    
    function s__RangeCommand_end takes nothing returns nothing
        call s__RangeCommand_finish(GetPlayerId(GetTriggerPlayer()))
    endfunction
    
    function s__RangeCommand_onInit takes nothing returns nothing
        local trigger t= CreateTrigger()
        local trigger t2= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 11
            call TriggerRegisterPlayerChatEvent(t, Player(i), "-range", false)
            call TriggerRegisterPlayerChatEvent(t2, Player(i), "-rangeoff", false)
            set i=i + 1
        endloop
        call TriggerAddAction(t, function s__RangeCommand_actions)
        call TriggerAddAction(t2, function s__RangeCommand_end)
    endfunction

//===========================================================================
// Trigger: Switch
//===========================================================================

    
    function s__SwitchCommand_switch takes nothing returns nothing
        local group g1= CreateGroup()
        local group g2= CreateGroup()
        local integer t1
        local integer t2
        local integer i
        local integer points
        local playercolor color
        local unit b1
        local unit b2
        local real x
        local real y
        if IsPlayerAlly(s__SwitchCommand_inviter, Player(3)) then
            set t1=3
        elseif IsPlayerAlly(s__SwitchCommand_inviter, Player(7)) then
            set t1=7
        elseif IsPlayerAlly(s__SwitchCommand_inviter, Player(11)) then
            set t1=11
        endif
        if IsPlayerAlly(Player(s__SwitchCommand_slot), Player(3)) then
            set t2=3
        elseif IsPlayerAlly(Player(s__SwitchCommand_slot), Player(7)) then
            set t2=7
        elseif IsPlayerAlly(Player(s__SwitchCommand_slot), Player(11)) then
            set t2=11
        endif
        set i=0
        loop
            exitwhen i > 11
            if IsPlayerAlly(Player(i), Player(t2)) and i != s__SwitchCommand_slot then
                call SetPlayerAllianceStateBJ(Player(i), s__SwitchCommand_inviter, bj_ALLIANCE_ALLIED_VISION)
                call SetPlayerAllianceStateBJ(s__SwitchCommand_inviter, Player(i), bj_ALLIANCE_ALLIED_VISION)
                call SetPlayerAllianceStateBJ(Player(i), Player(s__SwitchCommand_slot), bj_ALLIANCE_UNALLIED)
                call SetPlayerAllianceStateBJ(Player(s__SwitchCommand_slot), Player(i), bj_ALLIANCE_UNALLIED)
            endif
            set i=i + 1
        endloop
        set i=0
        loop
            exitwhen i > 11
            if IsPlayerAlly(Player(i), Player(t1)) and i != GetPlayerId(s__SwitchCommand_inviter) then
                call SetPlayerAllianceStateBJ(Player(i), Player(s__SwitchCommand_slot), bj_ALLIANCE_ALLIED_VISION)
                call SetPlayerAllianceStateBJ(Player(s__SwitchCommand_slot), Player(i), bj_ALLIANCE_ALLIED_VISION)
                call SetPlayerAllianceStateBJ(Player(i), s__SwitchCommand_inviter, bj_ALLIANCE_UNALLIED)
                call SetPlayerAllianceStateBJ(s__SwitchCommand_inviter, Player(i), bj_ALLIANCE_UNALLIED)
            endif
            set i=i + 1
        endloop
        set color=GetPlayerColor(s__SwitchCommand_inviter)
        call SetPlayerColorBJ(s__SwitchCommand_inviter, GetPlayerColor(Player(s__SwitchCommand_slot)), true)
        call SetPlayerColorBJ(Player(s__SwitchCommand_slot), color, true)
        call GroupEnumUnitsOfPlayer(g1, s__SwitchCommand_inviter, null)
        if GetPlayerSlotState(Player(s__SwitchCommand_slot)) != PLAYER_SLOT_STATE_EMPTY and GetPlayerSlotState(Player(s__SwitchCommand_slot)) != PLAYER_SLOT_STATE_LEFT then
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10.0, "|cff32cd32The players |r" + GetPlayerName(s__SwitchCommand_inviter) + " |r|cff32cd32and|r " + GetPlayerName(Player(s__SwitchCommand_slot)) + " |cff32cd32switched from position.|r")
            call GroupEnumUnitsOfPlayer(g2, Player(s__SwitchCommand_slot), null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(g1)
                exitwhen bj_lastCreatedUnit == null
                //call SetUnitOwner(bj_lastCreatedUnit, Player(slot), false) 
                //call SetUnitColor(bj_lastCreatedUnit, GetPlayerColor(inviter)) 
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    if t2 == 3 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
                    elseif t2 == 7 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
                    elseif t2 == 11 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
                    endif
                elseif GetUnitTypeId(bj_lastCreatedUnit) == 'ncop' then
                    set b1=bj_lastCreatedUnit
                endif
                call GroupRemoveUnit(g1, bj_lastCreatedUnit)
            endloop
            loop
                set bj_lastCreatedUnit=FirstOfGroup(g2)
                exitwhen bj_lastCreatedUnit == null
                //call SetUnitOwner(bj_lastCreatedUnit, inviter, false) 
                //call SetUnitColor(bj_lastCreatedUnit, GetPlayerColor(Player(slot))) 
                if IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true then
                    if t1 == 3 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
                    elseif t1 == 7 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
                    elseif t1 == 11 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
                    endif
                elseif GetUnitTypeId(bj_lastCreatedUnit) == 'ncop' then
                    set b2=bj_lastCreatedUnit
                endif
                call GroupRemoveUnit(g2, bj_lastCreatedUnit)
            endloop
            set x=GetUnitX(b1)
            set y=GetUnitY(b1)
            call SetUnitX(b1, GetUnitX(b2))
            call SetUnitY(b1, GetUnitY(b2))
            call SetUnitX(b2, x)
            call SetUnitY(b2, y)
            call SetPlayerName(s__SwitchCommand_inviter, udg_strings02[s__SwitchCommand_slot + 1] + udg_Repick_Names[GetPlayerId(s__SwitchCommand_inviter) + 1] + "|r[" + GetUnitName(udg_units33[GetPlayerId(s__SwitchCommand_inviter) + 1]) + "][Switched]")
            call SetPlayerName(Player(s__SwitchCommand_slot), udg_strings02[GetPlayerId(s__SwitchCommand_inviter) + 1] + udg_Repick_Names[s__SwitchCommand_slot + 1] + "|r[" + GetUnitName(udg_units33[s__SwitchCommand_slot + 1]) + "][Switched]")
            //set bj_lastCreatedUnit = udg_units33[slot+1]
            //set udg_units33[slot+1] = udg_units33[GetPlayerId(inviter)+1]
            //set udg_units33[GetPlayerId(inviter)+1] = bj_lastCreatedUnit 
            call MultiboardSetItemIconBJ(udg_multiboard01, 1, GetPlayerId(s__SwitchCommand_inviter) + 4, udg_strings01[GetUnitPointValue(udg_units33[s__SwitchCommand_slot + 1])])
            call MultiboardSetItemValueBJ(udg_multiboard01, 1, GetPlayerId(s__SwitchCommand_inviter) + 4, GetPlayerName(Player(s__SwitchCommand_slot)))
            call MultiboardSetItemIconBJ(udg_multiboard01, 1, s__SwitchCommand_slot + 4, udg_strings01[GetUnitPointValue(udg_units33[GetPlayerId(s__SwitchCommand_inviter) + 1])])
            call MultiboardSetItemValueBJ(udg_multiboard01, 1, s__SwitchCommand_slot + 4, GetPlayerName(s__SwitchCommand_inviter))
        else
            call SetPlayerName(s__SwitchCommand_inviter, udg_strings02[s__SwitchCommand_slot + 1] + udg_Repick_Names[GetPlayerId(s__SwitchCommand_inviter) + 1] + "|r[" + GetUnitName(udg_units33[GetPlayerId(s__SwitchCommand_inviter) + 1]) + "][Switched]")
            call MultiboardSetItemIconBJ(udg_multiboard01, 1, s__SwitchCommand_slot + 4, udg_strings01[GetUnitPointValue(udg_units33[GetPlayerId(s__SwitchCommand_inviter) + 1])])
            call MultiboardSetItemValueBJ(udg_multiboard01, 1, s__SwitchCommand_slot + 4, GetPlayerName(s__SwitchCommand_inviter))
            call MultiboardSetItemIconBJ(udg_multiboard01, 1, GetPlayerId(s__SwitchCommand_inviter) + 4, "")
            call MultiboardSetItemValueBJ(udg_multiboard01, 1, GetPlayerId(s__SwitchCommand_inviter) + 4, GetPlayerName(Player(s__SwitchCommand_slot)))
            loop
                set bj_lastCreatedUnit=FirstOfGroup(g1)
                exitwhen bj_lastCreatedUnit == null
                call SetUnitColor(bj_lastCreatedUnit, GetPlayerColor(Player(s__SwitchCommand_slot)))
                if GetUnitTypeId(bj_lastCreatedUnit) == 'ncop' then
                    if t2 == 3 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
                    elseif t2 == 7 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_evil), GetRectCenterY(gg_rct_fonte_evil))
                    elseif t2 == 11 then
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX(gg_rct_fonte_akt), GetRectCenterY(gg_rct_fonte_akt))
                    endif
                endif
                call GroupRemoveUnit(g1, bj_lastCreatedUnit)
            endloop
          //  set udg_players01[slot+1] = inviter
          //  set udg_players01[GetPlayerId(inviter)+1] = Player(slot) 
        endif
        set udg_players01[s__SwitchCommand_slot]=s__SwitchCommand_inviter
        set udg_players01[GetPlayerId(s__SwitchCommand_inviter)]=Player(s__SwitchCommand_slot)
        set points=udg_integers11[s__SwitchCommand_slot + 1]
        set udg_integers11[s__SwitchCommand_slot + 1]=udg_integers11[GetPlayerId(s__SwitchCommand_inviter) + 1]
        set udg_integers11[GetPlayerId(s__SwitchCommand_inviter) + 1]=points
        call UpdateMultiboard()
        call DestroyGroup(g1)
        call DestroyGroup(g2)
        set s__s__SwitchCommand_blocked[GetPlayerId(s__SwitchCommand_inviter)]= true
        set s__s__SwitchCommand_blocked[s__SwitchCommand_slot]= true
        call TriggerEvaluate(st__SwitchCommand_finish) // INLINED!!
        set color=null
        set b1=null
        set b2=null
    endfunction
    
    function s__SwitchCommand_response takes nothing returns nothing
        local integer i= 0
        if udg_Switch and s__s__SwitchCommand_elegible[GetPlayerId(GetTriggerPlayer())] then
            if GetEventPlayerChatString() == "-yes" then
                set s__SwitchCommand_count=s__SwitchCommand_count + 1
                set i=0
                loop
                    exitwhen i > 11
                    if IsPlayerAlly(s__SwitchCommand_inviter, Player(i)) or IsPlayerAlly(Player(s__SwitchCommand_slot), Player(i)) then
                        call DisplayTimedTextToPlayer(Player(i), 0, 0, 10.0, "|cff87ceebThe player |r" + GetPlayerName(GetTriggerPlayer()) + " |cff87ceebaccepted the switch request (" + I2S(s__SwitchCommand_count) + "/" + I2S(s__SwitchCommand_total) + ").|r")
                    endif
                    set i=i + 1
                endloop
                if s__SwitchCommand_count == s__SwitchCommand_total then
                    call s__SwitchCommand_switch()
                endif
                set s__s__SwitchCommand_elegible[GetPlayerId(GetTriggerPlayer())]= false
            elseif GetEventPlayerChatString() == "-no" then
                set i=0
                loop
                    exitwhen i > 11
                    if IsPlayerAlly(s__SwitchCommand_inviter, Player(i)) or IsPlayerAlly(Player(s__SwitchCommand_slot), Player(i)) then
                        call DisplayTimedTextToPlayer(Player(i), 0, 0, 10.0, "|cffff0000The player |r" + GetPlayerName(GetTriggerPlayer()) + " |cff87ceebrefused the switch request.|r")
                    endif
                    set i=i + 1
                endloop
                call TriggerEvaluate(st__SwitchCommand_finish) // INLINED!!
            endif
        endif
    endfunction
    
    function s__SwitchCommand_clickDialog takes nothing returns nothing
        local integer i= 0
        if GetClickedButton() == s__s__SwitchCommand_pickbutton[12] then
            call TriggerEvaluate(st__SwitchCommand_finish) // INLINED!!
            return
        endif
        loop
            exitwhen i > 11
            if GetClickedButton() == s__s__SwitchCommand_pickbutton[i] then
                set s__SwitchCommand_slot=i
            endif
            set i=i + 1
        endloop
        set s__SwitchCommand_total=0
        set i=0
        loop
            exitwhen i > 11
            if i != s__SwitchCommand_slot and i != GetPlayerId(s__SwitchCommand_inviter) and GetPlayerController(Player(i)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING and ( IsPlayerAlly(Player(i), s__SwitchCommand_inviter) or IsPlayerAlly(Player(i), Player(s__SwitchCommand_slot)) ) then
                call DisplayTimedTextToPlayer(Player(i), 0, 0, 30.0, GetPlayerName(s__SwitchCommand_inviter) + " |cff87ceebwants to switch with |r" + GetPlayerName(Player(s__SwitchCommand_slot)) + " |cff87ceeb. Do you accept?\nType '-yes' to accept and '-no' to refuse.|r")
                set s__s__SwitchCommand_elegible[i]= true
                set s__SwitchCommand_total=s__SwitchCommand_total + 1
            else
                set s__s__SwitchCommand_elegible[i]= false
            endif
            set i=i + 1
        endloop
        if GetPlayerController(Player(s__SwitchCommand_slot)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(s__SwitchCommand_slot)) == PLAYER_SLOT_STATE_PLAYING then
            set s__SwitchCommand_total=s__SwitchCommand_total + 1
            set s__s__SwitchCommand_elegible[s__SwitchCommand_slot]= true
        endif
        call DisplayTimedTextToPlayer(s__SwitchCommand_inviter, 0, 0, 30.0, "|cff87ceebRequest sent. Waiting for other players response.|r")
        call DisplayTimedTextToPlayer(Player(s__SwitchCommand_slot), 0, 0, 30.0, GetPlayerName(s__SwitchCommand_inviter) + " |cff87ceebwants to switch with you. Do you accept?\nType '-yes' to accept and '-no' to refuse.|r")
        call TimerDialogDisplayBJ(false, s__SwitchCommand_timerwindow1)
        call DestroyTimerDialog(s__SwitchCommand_timerwindow1)
        set s__SwitchCommand_timerwindow1=null
        call PauseTimer(s__SwitchCommand_timer1)
        call ReleaseTimer(s__SwitchCommand_timer1)
        set s__SwitchCommand_timer1=null
        set s__SwitchCommand_timer2=(NewTimerEx(0)) // INLINED!!
        call CreateTimerDialogBJ(s__SwitchCommand_timer2, "Switch command")
        set s__SwitchCommand_timerwindow2=GetLastCreatedTimerDialogBJ()
        call TimerDialogDisplayBJ(true, s__SwitchCommand_timerwindow2)
        call TimerStart(s__SwitchCommand_timer2, 120.0, false, function sc__SwitchCommand_finish)
    endfunction 
    
    function s__SwitchCommand_finish takes nothing returns nothing
        set udg_Switch=false
        call DialogDisplayBJ(false, s__SwitchCommand_pick, s__SwitchCommand_inviter)
        call DialogClear(s__SwitchCommand_pick)
        if s__SwitchCommand_timer1 != null then
            call TimerDialogDisplayBJ(false, s__SwitchCommand_timerwindow1)
            call DestroyTimerDialog(s__SwitchCommand_timerwindow1)
            set s__SwitchCommand_timerwindow1=null
            call ReleaseTimer(s__SwitchCommand_timer1)
            set s__SwitchCommand_timer1=null
        endif
        if s__SwitchCommand_timer2 != null then
            call TimerDialogDisplayBJ(false, s__SwitchCommand_timerwindow2)
            call DestroyTimerDialog(s__SwitchCommand_timerwindow2)
            set s__SwitchCommand_timerwindow2=null
            call ReleaseTimer(s__SwitchCommand_timer2)
            set s__SwitchCommand_timer2=null
        endif
        set s__SwitchCommand_inviter=null
    endfunction
    
    function s__SwitchCommand_actions takes nothing returns nothing
        local integer i
        if udg_SwitchDisabled then
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Error: You can only use -switch during the first 25 minutes of the game.|r")
            return
        endif
        if not s__s__SwitchCommand_blocked[GetPlayerId(GetTriggerPlayer())] then
            if udg_Switch or udg_Duel_ON then
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Error: Command is already being used. Please, wait.|r")
            else
                if udg_Switch2 then
                    if udg_FiveMinutes then
                        if udg_units33[GetPlayerId(GetTriggerPlayer()) + 1] != null then
                            call DialogClear(s__SwitchCommand_pick)
                            call DialogSetMessageBJ(s__SwitchCommand_pick, "Pick the slot you wish to switch")
                            set i=0
                            loop
                                exitwhen i > 11
                                if i != 3 and i != 7 and i != 11 and not IsPlayerAlly(Player(i), GetTriggerPlayer()) and not s__s__SwitchCommand_blocked[i] then
                                    call DialogAddButtonBJ(s__SwitchCommand_pick, GetPlayerName(Player(i)))
                                    set s__s__SwitchCommand_pickbutton[i]= GetLastCreatedButtonBJ()
                                endif
                                set i=i + 1
                            endloop
                            call DialogAddButtonBJ(s__SwitchCommand_pick, "XXX CANCEL XXX")
                            set s__s__SwitchCommand_pickbutton[12]= GetLastCreatedButtonBJ()
                            call DialogDisplayBJ(true, s__SwitchCommand_pick, GetTriggerPlayer())
                            set s__SwitchCommand_timer1=(NewTimerEx(0)) // INLINED!!
                            call CreateTimerDialogBJ(s__SwitchCommand_timer1, "Pick a slot")
                            set s__SwitchCommand_timerwindow1=GetLastCreatedTimerDialogBJ()
                            call TimerDialogDisplayBJ(true, s__SwitchCommand_timerwindow1)
                            call TimerStart(s__SwitchCommand_timer1, 30.0, false, function s__SwitchCommand_finish)
                            set s__SwitchCommand_inviter=GetTriggerPlayer()
                            set udg_Switch=true
                            set s__SwitchCommand_count=0
                            set s__SwitchCommand_total=0
                        else
                            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Error: You don't own a hero.|r")
                        endif
                    else
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Error: It's too early to use this command.|r")
                    endif
                else
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Error: This command is only available on Normal or Time Mode.|r")
                endif
            endif
        else
            call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Error: You cannot use switch command twice.|r")
        endif
    endfunction
    
    function s__SwitchCommand_disableSwitch takes nothing returns nothing
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "TRIGSTR_14388")
        set udg_SwitchDisabled=true
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__SwitchCommand_enableSwitch takes nothing returns nothing
	set udg_SwitchDisabled=false
    endfunction

    function s__SwitchCommand_onInit takes nothing returns nothing
        local trigger t= CreateTrigger()
        local trigger t2= CreateTrigger()
        local trigger t3= CreateTrigger()
        local integer i= 0
        set s__SwitchCommand_pick=DialogCreate()
        call TriggerRegisterDialogEventBJ(t2, s__SwitchCommand_pick)
        call TriggerAddAction(t2, function s__SwitchCommand_clickDialog)
        loop
            exitwhen i > 11
            call TriggerRegisterPlayerChatEvent(t, Player(i), "-switch", true)
            call TriggerRegisterPlayerChatEvent(t3, Player(i), "-", false)
            set i=i + 1
        endloop
        call TriggerAddAction(t3, function s__SwitchCommand_response)
        call TriggerAddAction(t, function s__SwitchCommand_actions)
	call TimerStartEx((NewTimerEx(0)) , 10.0 , false , function s__SwitchCommand_enableSwitch , "SwitchCommand.enableSwitch") // INLINED!!
        call TimerStartEx((NewTimerEx(0)) , 1500.0 , false , function s__SwitchCommand_disableSwitch , "SwitchCommand.disableSwitch") // INLINED!!
    endfunction

//===========================================================================
// Trigger: LockCamera
//===========================================================================
	
    
    function s__LockCamera_periodic takes nothing returns nothing
  local integer i= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__s__LockCamera_targets[i] != null then
			call PanCameraToTimedForPlayer(Player(i), GetUnitX(s__s__LockCamera_targets[i]), GetUnitY(s__s__LockCamera_targets[i]), 0)
		endif
    endfunction 
    
    function s__LockCamera_lock takes nothing returns nothing
        set bj_lastCreatedGroup=CreateGroup()
        call GroupEnumUnitsSelected(bj_lastCreatedGroup, GetTriggerPlayer(), null)
        loop
            set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
            exitwhen bj_lastCreatedUnit == null
            set s__s__LockCamera_targets[GetPlayerId(GetTriggerPlayer())]= bj_lastCreatedUnit
            exitwhen true
        endloop
        call DestroyGroup(bj_lastCreatedGroup)
		if s__s__LockCamera_t[GetPlayerId(GetTriggerPlayer())] == null then
			set s__s__LockCamera_t[GetPlayerId(GetTriggerPlayer())]= NewTimerEx(GetPlayerId(GetTriggerPlayer()))
			call TimerStartEx(s__s__LockCamera_t[GetPlayerId(GetTriggerPlayer())] , 0.03 , true , function s__LockCamera_periodic , "LockCamera_periodic")
		endif
    endfunction 
    
    function s__LockCamera_unlock takes nothing returns nothing
        set s__s__LockCamera_targets[GetPlayerId(GetTriggerPlayer())]= null
		if s__s__LockCamera_t[GetPlayerId(GetTriggerPlayer())] != null then
			call ReleaseTimer(s__s__LockCamera_t[GetPlayerId(GetTriggerPlayer())])
			set s__s__LockCamera_t[GetPlayerId(GetTriggerPlayer())]= null
		endif
    endfunction 
    
    function s__LockCamera_onInit takes nothing returns nothing
        local trigger t1= CreateTrigger()
        local trigger t2= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 16
            call TriggerRegisterPlayerChatEvent(t1, Player(i), "-lock", true)
            call TriggerRegisterPlayerChatEvent(t2, Player(i), "-unlock", true)
            set i=i + 1
        endloop
        call TriggerAddAction(t1, function s__LockCamera_lock)
        call TriggerAddAction(t2, function s__LockCamera_unlock)
    endfunction 
    
//===========================================================================
// Trigger: NewAutoBuy
//===========================================================================
//===========================================================================
// Trigger: StreamCommand
//===========================================================================


 function s__StreamCommand_getMaxDamageDealt takes nothing returns integer
  local integer max= 0
  local integer i= 0
		loop
			exitwhen i > 11
			if i != 3 and i != 7 and i != 11 and udg_units33[i + 1] != null and GetWidgetLife(udg_units33[i + 1]) > 0.405 and udg_DamageDealt[i] > udg_DamageDealt[max] then
				set max=i
			endif
			set i=i + 1
		endloop
		return max
 endfunction 

 function s__StreamCommand_getRandom takes nothing returns integer
  local integer count= 0
  local integer i= 0
		loop
			exitwhen i > 11
			if udg_units33[i + 1] != null and GetWidgetLife(udg_units33[i + 1]) > 0.405 then
				set count=count + 1
			endif
			set i=i + 1
		endloop
		if count == 0 then
			return 0
		endif
		loop
			set i=GetRandomInt(0, 11)
			exitwhen udg_units33[i + 1] != null and GetWidgetLife(udg_units33[i + 1]) > 0.405
		endloop
		return i
 endfunction 

 function s__StreamCommand_periodic takes nothing returns nothing
  local integer i= 0
  local integer max
		loop
			exitwhen i > 16
			if s__s__StreamCommand_enabled[i] then
				set max=s__StreamCommand_getMaxDamageDealt()
				if udg_DamageDealt[max] == 0 then
					set s__s__StreamCommand_targets[i]= udg_units33[s__StreamCommand_getRandom() + 1]
				else
					set s__s__StreamCommand_targets[i]= udg_units33[max + 1]
				endif
				if s__s__StreamCommand_targets[i] == null then
					set s__s__StreamCommand_targets[i]= udg_units33[s__StreamCommand_getRandom() + 1]
				endif
			endif
			set i=i + 1
		endloop
		set i=0
		loop
			exitwhen i > 11
			set udg_DamageDealt[i]=0
			set i=i + 1
		endloop
 endfunction 


 function s__StreamCommand_camera takes nothing returns nothing
  local integer i= 0
  local integer max
		loop
			exitwhen i > 16
			if s__s__StreamCommand_enabled[i] and s__s__StreamCommand_targets[i] != null then
				call PanCameraToTimedForPlayer(Player(i), GetUnitX(s__s__StreamCommand_targets[i]), GetUnitY(s__s__StreamCommand_targets[i]), 0)
				call SelectUnitForPlayerSingle(s__s__StreamCommand_targets[i], Player(i))
				if GetWidgetLife(s__s__StreamCommand_targets[i]) < 0.405 then
					set max=s__StreamCommand_getMaxDamageDealt()
                    if udg_DamageDealt[max] == 0 then
                        set s__s__StreamCommand_targets[i]= udg_units33[s__StreamCommand_getRandom() + 1]
                    else
                        set s__s__StreamCommand_targets[i]= udg_units33[max + 1]
                    endif
                    if s__s__StreamCommand_targets[i] == null then
                        set s__s__StreamCommand_targets[i]= udg_units33[s__StreamCommand_getRandom() + 1]
                    endif
				endif
			endif
			set i=i + 1
		endloop
 endfunction 

 function s__StreamCommand_enable takes nothing returns nothing
		if s__s__StreamCommand_enabled[GetPlayerId(GetTriggerPlayer())] then
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebStream mode disabled.|r")
			set s__s__StreamCommand_enabled[GetPlayerId(GetTriggerPlayer())]= false
		else
			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebStream mode enabled.|r")
			set s__s__StreamCommand_enabled[GetPlayerId(GetTriggerPlayer())]= true
		endif
 endfunction 

 function s__StreamCommand_stream takes nothing returns nothing
  local integer i= 0
		loop
			exitwhen i > 16
			if i > 11 and not s__s__StreamCommand_enabled[i] then
				call DisplayTextToPlayer(Player(i), 0, 0, "|cff87ceebAre you streaming? Type -stream to enable automatic camera mode.|r")
			endif
			set i=i + 1
		endloop
 endfunction

 function s__StreamCommand_onInit takes nothing returns nothing
  local integer i= 0
  local trigger t= CreateTrigger()
		loop
			exitwhen i > 16
			if i > 11 then
				call TriggerRegisterPlayerChatEvent(t, Player(i), "-stream", true)
			endif
			set s__s__StreamCommand_enabled[i]= false
			set i=i + 1
		endloop
		call TriggerAddAction(t, function s__StreamCommand_enable)
		//if GetPlayerController(Player(13)) == PLAYER_SLOT_STATE_PLAYING or GetPlayerController(Player(14)) == PLAYER_SLOT_STATE_PLAYING then 
			call TimerStart((NewTimerEx(0)), 10.0, true, function s__StreamCommand_periodic) // INLINED!!
			call TimerStart((NewTimerEx(0)), 0.03, true, function s__StreamCommand_camera) // INLINED!!
			call TimerStart((NewTimerEx(0)), 300.0, true, function s__StreamCommand_stream) // INLINED!!
		//endif
 endfunction  

//===========================================================================
// Trigger: CodeCommand
//===========================================================================
function Trig_CodeCommand_Actions takes nothing returns nothing
    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "The code is: " + GetCode())
endfunction

//===========================================================================
function InitTrig_CodeCommand takes nothing returns nothing
    local integer i= 0
    set gg_trg_CodeCommand=CreateTrigger()
    loop
        exitwhen i > 11
        call TriggerRegisterPlayerChatEvent(gg_trg_CodeCommand, Player(i), "-code", true)
        set i=i + 1
    endloop
    call TriggerAddAction(gg_trg_CodeCommand, function Trig_CodeCommand_Actions)
endfunction


//===========================================================================
// Trigger: ShowTimers
//===========================================================================


    function s__ShowTimers_actions takes nothing returns nothing
 local integer count= 0
        local integer size= 0
 local integer i= 0
	loop
		exitwhen i >= 8090
		if s__runningTimersString[i] != "" then
			set count=count + 1
		endif
		set i=i + 1
	endloop
	call BJDebugMsg("Running timers: " + I2S(count))
	set count=0
	set i=0
	loop
		exitwhen i >= 8090
		if s__runningTimersString[i] != "" then
			set count=count + 1
			if count >= s__ShowTimers_begin then
				set size=size + 1
				if size < 30 then
					call BJDebugMsg(s__runningTimersString[i])
					set s__ShowTimers_begin=s__ShowTimers_begin + 1
                                else
					exitwhen true
				endif
			endif
		endif
		set i=i + 1
	endloop
	if s__ShowTimers_begin >= count then
		set s__ShowTimers_begin=0
	endif
    endfunction
    
    function s__ShowTimers_onInit takes nothing returns nothing
        local trigger t= CreateTrigger()
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-debug", true)
        call TriggerAddAction(t, function s__ShowTimers_actions)
        set s__ShowTimers_begin=0
    endfunction 

//===========================================================================
// Trigger: CreateMultiboard
//===========================================================================

function s__CreateMultiboard_actions takes nothing returns nothing
 local integer looper=1
	set udg_multiboard01=CreateMultiboardBJ(8, 14, "Naruto Ninpou Reforged")
	//call MultiboardDisplayBJ( false, udg_multiboard01)
	call MultiboardSetTitleTextColorBJ(udg_multiboard01, 100, 0.00, 100.00, 0)
	loop
		exitwhen looper > 15
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 0), 0.09)
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 1), 0.02)
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 2), 0.02)
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 3), 0.02)
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 4), 0.02)
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 5), 0.02)
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 6), 0.02)
		call MultiboardSetItemWidth(MultiboardGetItem(udg_multiboard01, looper, 7), 0.04)
		set looper=looper + 1
	endloop
	set looper=0
	loop
		exitwhen looper > 7
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 0, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 1, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 2, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 3, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 4, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 5, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 6, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 7, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 8, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 9, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 10, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 11, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 12, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 13, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 14, looper), true, false)
		call MultiboardSetItemStyle(MultiboardGetItem(udg_multiboard01, 15, looper), true, false)
		set looper=looper + 1
	endloop
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 0, 3), "|cffffff00Score|r")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 1, 1), "K")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 1, 2), "D")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 1, 3), "A")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 1, 4), "P")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 1, 5), "L")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 1, 6), "B")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 1, 7), "GPM")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 2, 0), "|cffff0000Shinobi|r (0)")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 6, 0), "|cffff0000Otogakure|r (0)")
	call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, 10, 0), "|cffff0000Akatsuki|r (0)")
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=11
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		if bj_forLoopAIndex != 4 and bj_forLoopAIndex != 8 then
			if ( ( GetBooleanAnd(( GetPlayerController(Player(- 1 + ( bj_forLoopAIndex ))) == MAP_CONTROL_USER ), ( GetPlayerSlotState(Player(- 1 + ( bj_forLoopAIndex ))) == PLAYER_SLOT_STATE_PLAYING )) ) ) then
				call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, ( bj_forLoopAIndex + 2 ), 0), SubString(GetPlayerName(Player(- 1 + ( bj_forLoopAIndex ))), 0, 10))
			else
				call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, ( bj_forLoopAIndex + 2 ), 0), ( "|cffffff00_|r|cffdfff00_|r" + ( ( "|cffbfff00" + ( I2S(bj_forLoopAIndex) + "|r" ) ) + "|cff9fff00_|r|cff80ff00_|r|cff60ff00_|r|cff40ff00_|r|cff20ff00_|r|cff00ff00_|r" ) ))
			endif
		endif
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	set looper=3
	loop
		exitwhen looper > 5
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 1), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 2), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 3), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 4), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 5), "1")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 6), "0")
		set looper=looper + 1
	endloop
	set looper=7
	loop
		exitwhen looper > 9
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 1), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 2), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 3), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 4), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 5), "1")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 6), "0")
		set looper=looper + 1
	endloop
	set looper=11
	loop
		exitwhen looper > 13
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 1), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 2), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 3), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 4), "0")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 5), "1")
		call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, looper, 6), "0")
		set looper=looper + 1
	endloop
	set bj_forLoopAIndex=3
	set bj_forLoopAIndexEnd=14
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		call MultiboardSetItemStyleBJ(udg_multiboard01, 1, bj_forLoopAIndex, true, true)
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call MultiboardSetItemIconBJ(udg_multiboard01, 1, 3, "ReplaceableTextures\\CommandButtons\\Base_Icon_Konohagakure.blp")
	call MultiboardSetItemIconBJ(udg_multiboard01, 1, 7, "ReplaceableTextures\\CommandButtons\\Base_Icon_Otogakure.blp")
	call MultiboardSetItemIconBJ(udg_multiboard01, 1, 11, "ReplaceableTextures\\CommandButtons\\Base_Icon_Akatsuki.blp")
	
    	call MultiboardDisplayBJ(false, udg_multiboard01)
endfunction 

function s__CreateMultiboard_onInit takes nothing returns nothing
	call TimerStart((NewTimerEx(0)), 0.1, false, function s__CreateMultiboard_actions) // INLINED!!
endfunction

//===========================================================================
// Trigger: MultiboardPlayerLeave
//===========================================================================

function Trig_MultiboardPlayerLeave_Actions takes nothing returns nothing
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=11
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		if bj_forLoopAIndex != 4 and bj_forLoopAIndex != 8 then
			if not ( ( GetBooleanAnd(( GetPlayerController(Player(- 1 + ( bj_forLoopAIndex ))) == MAP_CONTROL_USER ), ( GetPlayerSlotState(Player(- 1 + ( bj_forLoopAIndex ))) == PLAYER_SLOT_STATE_PLAYING )) ) ) then
				call MultiboardSetItemValue(MultiboardGetItem(udg_multiboard01, ( bj_forLoopAIndex + 2 ), 0), "|cffff0000[LEFT]|r" + SubString(udg_Repick_Names[bj_forLoopAIndex], 0, 7))
			endif
		endif
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
endfunction

//===========================================================================
function InitTrig_MultiboardPlayerLeave takes nothing returns nothing
    	set gg_trg_MultiboardPlayerLeave=CreateTrigger()
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(0))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(1))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(2))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(4))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(5))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(6))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(8))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(9))
	call TriggerRegisterPlayerEventLeave(gg_trg_MultiboardPlayerLeave, Player(10))
	call TriggerAddAction(gg_trg_MultiboardPlayerLeave, function Trig_MultiboardPlayerLeave_Actions)
endfunction


//===========================================================================
// Trigger: GPMMultiboard
//===========================================================================

	
 function s__GPMMultiboard_countMinutes takes nothing returns nothing
		set udg_TIME_ELAPSED_SEC=( udg_TIME_ELAPSED_SEC + 1 )
		call UpdateMultiboard()
 endfunction 
	
 function s__GPMMultiboard_countGold takes nothing returns nothing
  local integer i= 0
  local integer gold
		loop
			exitwhen i > 11
			set gold=GetPlayerState(Player(i), PLAYER_STATE_RESOURCE_GOLD)
			if gold > udg_Farm_previous[i + 1] then
				set udg_Farm[i + 1]=udg_Farm[i + 1] + gold - udg_Farm_previous[i + 1]
			endif
			set udg_Farm_previous[i + 1]=gold
			set i=i + 1
		endloop
 endfunction 
	
 function s__GPMMultiboard_onInit takes nothing returns nothing
		call TimerStart(CreateTimer(), 1.0, true, function s__GPMMultiboard_countGold)
		call TimerStart(CreateTimer(), 60.0, true, function s__GPMMultiboard_countMinutes)
 endfunction 
	

//===========================================================================
// Trigger: TeamPointLeaderbox
//===========================================================================
function Trig_TeamPointLeaderbox_Actions takes nothing returns nothing
    call CreateLeaderboardBJ(GetPlayersAll(), "TRIGSTR_16841")
    call LeaderboardAddItemBJ(Player(3), GetLastCreatedLeaderboard(), GetPlayerName(Player(3)), 0)
    call LeaderboardAddItemBJ(Player(7), GetLastCreatedLeaderboard(), GetPlayerName(Player(7)), 0)
    call LeaderboardAddItemBJ(Player(11), GetLastCreatedLeaderboard(), GetPlayerName(Player(11)), 0)
    call LeaderboardDisplayBJ(false, GetLastCreatedLeaderboard())
    set udg_Leaderbox=GetLastCreatedLeaderboard()
endfunction

//===========================================================================
function InitTrig_TeamPointLeaderbox takes nothing returns nothing
    set gg_trg_TeamPointLeaderbox=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_TeamPointLeaderbox, 1.00)
    call TriggerAddAction(gg_trg_TeamPointLeaderbox, function Trig_TeamPointLeaderbox_Actions)
endfunction


//===========================================================================
// Trigger: Fire
//===========================================================================
function Trig_Fire_Actions takes nothing returns nothing
    call SetDoodadAnimationBJ("Stand Alternate", 'D02N', 300.00, GetRectCenter(gg_rct_Cave))
endfunction

//===========================================================================
function InitTrig_Fire takes nothing returns nothing
    set gg_trg_Fire=CreateTrigger()
    call TriggerAddAction(gg_trg_Fire, function Trig_Fire_Actions)
endfunction

//===========================================================================
// Trigger: UndergroundEnter1
//===========================================================================

function Trig_UndergroundEnter1_IsLosingByFar takes player p returns boolean
 local integer t1= 0
 local integer t2= 0
 local integer t3= 0
 local integer i= 0
	loop
		exitwhen i > 11
		if IsPlayerAlly(Player(i), Player(3)) then
			set t1=t1 + udg_integers11[i + 1]
		elseif IsPlayerAlly(Player(i), Player(7)) then
			set t2=t2 + udg_integers11[i + 1]
		else
			set t3=t3 + udg_integers11[i + 1]
		endif
		set i=i + 1
	endloop
	if IsPlayerAlly(p, Player(3)) then
		return t1 < t2 - 100 or t1 < t3 - 100
	elseif IsPlayerAlly(p, Player(7)) then
		return t2 < t1 - 100 or t2 < t3 - 100
	else
		return t3 < t1 - 100 or t3 < t2 - 100
	endif
endfunction

function Trig_UndergroundEnter1_Conditions takes nothing returns boolean
    if ( not ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundEnter1_Func002C takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_UndergroundEnter1, GetTriggerUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundEnter1_Actions takes nothing returns nothing
    call TriggerSleepAction(1.00)
    if ( Trig_UndergroundEnter1_Func002C() ) and ( udg_DEBUG_INT <= 1 or Trig_UndergroundEnter1_IsLosingByFar(GetOwningPlayer(GetTriggerUnit())) ) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
        call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(gg_rct_Undergound1))
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
    elseif ( Trig_UndergroundEnter1_Func002C() ) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000You need to be losing by more than 100 points to enter the cave.|r")
    endif
endfunction

//===========================================================================
function InitTrig_UndergroundEnter1 takes nothing returns nothing
    set gg_trg_UndergroundEnter1=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_UndergroundEnter1, gg_rct_UndergroundEnter1)
    call TriggerAddCondition(gg_trg_UndergroundEnter1, Condition(function Trig_UndergroundEnter1_Conditions))
    call TriggerAddAction(gg_trg_UndergroundEnter1, function Trig_UndergroundEnter1_Actions)
endfunction


//===========================================================================
// Trigger: UndergroundExit1
//===========================================================================
function Trig_UndergroundExit1_Conditions takes nothing returns boolean
    if ( not ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundExit1_Actions takes nothing returns nothing
 if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
    call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(gg_rct_Region_088))
    call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
 endif
endfunction

//===========================================================================
function InitTrig_UndergroundExit1 takes nothing returns nothing
    set gg_trg_UndergroundExit1=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_UndergroundExit1, gg_rct_UndergroundExit1)
    call TriggerAddCondition(gg_trg_UndergroundExit1, Condition(function Trig_UndergroundExit1_Conditions))
    call TriggerAddAction(gg_trg_UndergroundExit1, function Trig_UndergroundExit1_Actions)
endfunction


//===========================================================================
// Trigger: UndergroundEnter2
//===========================================================================
function Trig_UndergroundEnter2_Conditions takes nothing returns boolean
    if ( not ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundEnter2_Func002C takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_UndergroundEnter2, GetTriggerUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundEnter2_Actions takes nothing returns nothing
    call TriggerSleepAction(1.00)
    if ( Trig_UndergroundEnter2_Func002C() ) and ( udg_DEBUG_INT <= 1 or Trig_UndergroundEnter1_IsLosingByFar(GetOwningPlayer(GetTriggerUnit())) ) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
        call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(gg_rct_Underground2))
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
    elseif ( Trig_UndergroundEnter2_Func002C() ) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000You need to be losing by more than 100 points to enter the cave.|r")
    endif
endfunction

//===========================================================================
function InitTrig_UndergroundEnter2 takes nothing returns nothing
    set gg_trg_UndergroundEnter2=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_UndergroundEnter2, gg_rct_UndergroundEnter2)
    call TriggerAddCondition(gg_trg_UndergroundEnter2, Condition(function Trig_UndergroundEnter2_Conditions))
    call TriggerAddAction(gg_trg_UndergroundEnter2, function Trig_UndergroundEnter2_Actions)
endfunction


//===========================================================================
// Trigger: UndergroundExit2
//===========================================================================
function Trig_UndergroundExit2_Conditions takes nothing returns boolean
    if ( not ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundExit2_Actions takes nothing returns nothing
   if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
    call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(gg_rct_Region_089))
    call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
   endif
endfunction

//===========================================================================
function InitTrig_UndergroundExit2 takes nothing returns nothing
    set gg_trg_UndergroundExit2=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_UndergroundExit2, gg_rct_UndergroundExit2)
    call TriggerAddCondition(gg_trg_UndergroundExit2, Condition(function Trig_UndergroundExit2_Conditions))
    call TriggerAddAction(gg_trg_UndergroundExit2, function Trig_UndergroundExit2_Actions)
endfunction


//===========================================================================
// Trigger: UndergroundEnter3
//===========================================================================
function Trig_UndergroundEnter3_Conditions takes nothing returns boolean
    if ( not ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundEnter3_Func002C takes nothing returns boolean
    if ( not ( RectContainsUnit(gg_rct_UndergroundEnter3, GetTriggerUnit()) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundEnter3_Actions takes nothing returns nothing
    call TriggerSleepAction(1.00)
    if ( Trig_UndergroundEnter3_Func002C() ) and ( udg_DEBUG_INT <= 1 or Trig_UndergroundEnter1_IsLosingByFar(GetOwningPlayer(GetTriggerUnit())) ) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
        call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(gg_rct_Underground3))
        call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
    elseif ( Trig_UndergroundEnter3_Func002C() ) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
	call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "|cffff0000You need to be losing by more than 100 points to enter the cave.|r")
    endif
endfunction

//===========================================================================
function InitTrig_UndergroundEnter3 takes nothing returns nothing
    set gg_trg_UndergroundEnter3=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_UndergroundEnter3, gg_rct_UndergroundEnter3)
    call TriggerAddCondition(gg_trg_UndergroundEnter3, Condition(function Trig_UndergroundEnter3_Conditions))
    call TriggerAddAction(gg_trg_UndergroundEnter3, function Trig_UndergroundEnter3_Actions)
endfunction


//===========================================================================
// Trigger: UndergroundExit3
//===========================================================================
function Trig_UndergroundExit3_Conditions takes nothing returns boolean
    if ( not ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_USER ) ) then
        return false
    endif
    return true
endfunction

function Trig_UndergroundExit3_Actions takes nothing returns nothing
  if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
    call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(gg_rct_Region_090))
    call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
  endif
endfunction

//===========================================================================
function InitTrig_UndergroundExit3 takes nothing returns nothing
    set gg_trg_UndergroundExit3=CreateTrigger()
    call TriggerRegisterEnterRectSimple(gg_trg_UndergroundExit3, gg_rct_UndergroundExit3)
    call TriggerAddCondition(gg_trg_UndergroundExit3, Condition(function Trig_UndergroundExit3_Conditions))
    call TriggerAddAction(gg_trg_UndergroundExit3, function Trig_UndergroundExit3_Actions)
endfunction


//===========================================================================
// Trigger: UndergroundDrainMana
//===========================================================================

 function s__UndergroundDrainMana_periodic takes nothing returns nothing
		set bj_lastCreatedGroup=CreateGroup()
		call GroupEnumUnitsInRect(bj_lastCreatedGroup, gg_rct_Cave, null)
		loop
			set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
			exitwhen bj_lastCreatedUnit == null
			call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
			call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA) - GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_MANA) * 0.01)
		endloop
		call DestroyGroup(bj_lastCreatedGroup)
 endfunction 

 function s__UndergroundDrainMana_onInit takes nothing returns nothing
		call TimerStart((NewTimerEx(0)), 1.0, true, function s__UndergroundDrainMana_periodic) // INLINED!!
 endfunction 

//===========================================================================
// Trigger: CustomizedColors
//===========================================================================
function Trig_CustomizedColors_Actions takes nothing returns nothing
    local integer i= 0
    loop
        exitwhen i > 11
        set udg_DonatorHeroes[i + 1]=0
    if StringCase(GetPlayerName(Player(i)), false) == "randomgod|r" then
            set udg_strings02[i + 1]="|cff0669f2"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Randomgod|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "uchiha.sasuke|r" then
            set udg_strings02[i + 1]="|cff000000[Motherfucker]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Uchiha.Sasuke|cff87ceeb for donating!|r")
	elseif StringCase(GetPlayerName(Player(i)), false) == "custel1nha#1693|r" or StringCase(GetPlayerName(Player(i)), false) == "kilua|r" then
            set udg_strings02[i + 1]="|cff36FF33[The True |cffFFFE33Brazillian]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cff36FF33Ki|cffFFFE33lua|cff87ceeb for donating!|r")
	elseif StringCase(GetPlayerName(Player(i)), false) == "meliodas#22827|r" or StringCase(GetPlayerName(Player(i)), false) == "meliodas|r" then
            set udg_strings02[i + 1]="|cff00bbff[Demon King]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cff00bbffMelodias|cff87ceeb for donating!|r")
	elseif StringCase(GetPlayerName(Player(i)), false) == "natman02#2115|r" or StringCase(GetPlayerName(Player(i)), false) == "matman02|r" then
            set udg_strings02[i + 1]="|cff1b1b1b[The Dark Knight]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Natman|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "morpheus#23637|r" or StringCase(GetPlayerName(Player(i)), false) == "morpheus|r" then
	    set udg_strings02[i + 1]="|cff11806a[The God Of Dreams]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Morpheus|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "foisey#1834|r" or StringCase(GetPlayerName(Player(i)), false) == "fadedboner#1666|r" then
            set udg_strings02[i + 1]="|cff000000[Hidden Kage]"
        //call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000ICYTWAT|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "tiny#11318|r" or StringCase(GetPlayerName(Player(i)), false) == "tiny|r" then
            set udg_strings02[i + 1]="|cff9370DB[Book Worm]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Tiny|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "razze#2735|r" or StringCase(GetPlayerName(Player(i)), false) == "razze|r" then
        set udg_strings02[i + 1]="|cff135718[Sengoku]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cff135718Razze|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "tarmobrad#1723|r" or StringCase(GetPlayerName(Player(i)), false) == "tarmobrad|r" then
        set udg_strings02[i + 1]="|cff48b7f6[Non-Toxic]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Tarmobrad|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "jamerican612#1370|r" or StringCase(GetPlayerName(Player(i)), false) == "jamerican|r" then
        set udg_strings02[i + 1]="|cff33000b[The Equalizer]"
        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Jamerican|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "mercédes#2331|r" or StringCase(GetPlayerName(Player(i)), false) == "mercédes|r" then
	    set udg_strings02[i + 1]="|cff72a955[Ethical Codes]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Mercedes|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "suzaku#21671|r" or StringCase(GetPlayerName(Player(i)), false) == "suzaku|r" then
	    set udg_strings02[i + 1]="|cff4682B4[Twilight Assassin]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Suzaku|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "metalfoxxer#2412|r" or StringCase(GetPlayerName(Player(i)), false) == "metalfoxxer#241|r" or StringCase(GetPlayerName(Player(i)), false) == "metalfoxxer|r" then
        set udg_strings02[i + 1]="|cff404245[Cursed Player]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cff404245MetalfOxXer|cff87ceeb for donating!|r")
	elseif StringCase(GetPlayerName(Player(i)), false) == "ethopfen#2395|r" or StringCase(GetPlayerName(Player(i)), false) == "ethopfen|r" then
        set udg_strings02[i + 1]="|cffD69DFF[Hokage]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000EthopfeN|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "random#13111|r" or StringCase(GetPlayerName(Player(i)), false) == "random|r" then
        set udg_strings02[i + 1]="|cffff00ff"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff00ffRandom|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "kirito-kun|r" or StringCase(GetPlayerName(Player(i)), false) == "swede|r" then
        set udg_strings02[i + 1]="|cff404245[Solo Player]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000" + GetPlayerName(Player(i)) + "|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "mym#2330|r" or StringCase(GetPlayerName(Player(i)), false) == "mym|r" then
        set udg_strings02[i + 1]="|cff0066ff[Horsin'Around]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000MYM|cff87ceeb for donating!|r")
	elseif StringCase(GetPlayerName(Player(i)), false) == "monkéydluffy#2249|r" or StringCase(GetPlayerName(Player(i)), false) == "monkéydluffy|r" then
        set udg_strings02[i + 1]="|cff871D07[Pirate King]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Ruffy|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "fexter#2815|r" or StringCase(GetPlayerName(Player(i)), false) == "fexter|r" then
        set udg_strings02[i + 1]="|cffffff00[The Player Slayer]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Boruto's_Dad|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "lycan|r" or StringCase(GetPlayerName(Player(i)), false) == "ryusei|r" then
        set udg_strings02[i + 1]="|cfff7f929[FeedMePls]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Ryusei|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "dev4nt#2239|r" or StringCase(GetPlayerName(Player(i)), false) == "dev4nt|r" then
        set udg_strings02[i + 1]="|cff760606[Darth]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Revan|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "black-belt|r" then
        set udg_strings02[i + 1]="|cff000000[Ninja]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000" + GetPlayerName(Player(i)) + "|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "barchus#2798|r" or StringCase(GetPlayerName(Player(i)), false) == "barchus|r" then
        set udg_strings02[i + 1]="|cfffcc5f3[Suiken]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Barchus|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "teo#2111|r" then
        set udg_strings02[i + 1]="|cff9966ff[The Biggest Faggot]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Teo|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "waxgamer#2975|r" or StringCase(GetPlayerName(Player(i)), false) == "waxgamer#1975|r" or StringCase(GetPlayerName(Player(i)), false) == "waxgamer|r" then
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000WaxGamer|cff87ceeb for donating!|r")
	elseif StringCase(GetPlayerName(Player(i)), false) == "yato|r" then
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000" + GetPlayerName(Player(i)) + "|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "crimson#22743|r" or StringCase(GetPlayerName(Player(i)), false) == "crimson|r" then
        set udg_strings02[i + 1]="|cffDC143C[Pervy Sage]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffDC143CCrimson|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "kamex#21359|r" or StringCase(GetPlayerName(Player(i)), false) == "kamex|r" then
        set udg_strings02[i + 1]="|cff0000c2[Shadow Killer]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cff0000c2Kamex|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "tff#11641|r" or StringCase(GetPlayerName(Player(i)), false) == "tff|r" then
	    set udg_strings02[i + 1]="|cffff1a1a[Noob Hunter|r / |cffde14b9Weeb Degenerate]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000TFF|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "seven#1530|r" or StringCase(GetPlayerName(Player(i)), false) == "seven|r" then
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Seven|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "cosmos#2891|r" or StringCase(GetPlayerName(Player(i)), false) == "cosmos|r" then
	    set udg_strings02[i + 1]="|cff00FFFF[Another Toxic Swede]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Cosmos|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "redxmaveric#1916|r" or StringCase(GetPlayerName(Player(i)), false) == "redxmaveric|r" then
	    set udg_strings02[i + 1]="|cff990000[SevenBladed]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Redxmaveric|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "ace#28982|r" or StringCase(GetPlayerName(Player(i)), false) == "e1ias|r" then
	    set udg_strings02[i + 1]="|cffFF1B17[Insignificant Side-Character]"
            call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebThank you |cffff0000Ace|cff87ceeb for donating!|r")
    elseif StringCase(GetPlayerName(Player(i)), false) == "dannebox#2301|r" or StringCase(GetPlayerName(Player(i)), false) == "dannebox#2301|r" or StringCase(GetPlayerName(Player(i)), false) == "metalfoxxer|r" then
        set udg_strings02[i + 1]="|cff405275[Ryu]"
    elseif StringCase(GetPlayerName(Player(i)), false) == "lichking#22278|r" or StringCase(GetPlayerName(Player(i)), false) == "lichking|r" then
        set udg_strings02[i + 1]="|cffffffff"
    endif
        set i=i + 1
    endloop
endfunction

function Trig_CustomizedColors_Actions2 takes nothing returns nothing
    local integer i= 0
    loop
        exitwhen i > 11
        call SetPlayerName(Player(i), GetPlayerName(Player(i)) + "|r")
        set i=i + 1
    endloop
endfunction

//===========================================================================
function InitTrig_CustomizedColors takes nothing returns nothing
    local trigger t1= CreateTrigger()
    call TriggerRegisterTimerEventSingle(t1, 0.01)
    call TriggerAddAction(t1, function Trig_CustomizedColors_Actions2)
    set gg_trg_CustomizedColors=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_CustomizedColors, 5.00)
    call TriggerAddAction(gg_trg_CustomizedColors, function Trig_CustomizedColors_Actions)
endfunction


//===========================================================================
// Trigger: Music
//===========================================================================

    

    function s__MusicS_playSong takes nothing returns nothing
        local integer i= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        if s__s__MusicS_intervals[i] <= 0 then
            if GetLocalPlayer() == Player(i) then
                call ClearMapMusicBJ()
                call StopMusic(true)
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff87ceebTip: Press N to skip to the next music.|r")
            endif
            if s__s__MusicS_count[i] == 0 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music01BeautifulWildGreenBeast, 5.00, 5.00)
                endif
                set s__s__MusicS_intervals[i]= 120
				
            elseif s__s__MusicS_count[i] == 1 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music01Fang, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 66

            elseif s__s__MusicS_count[i] == 2 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music01RisingDragon, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 143
				
			elseif s__s__MusicS_count[i] == 3 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music01Shippuden, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 125
				
            elseif s__s__MusicS_count[i] == 4 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music01Suspicion, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 261
				
            elseif s__s__MusicS_count[i] == 5 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music02CriticalPoint, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 137
				
            elseif s__s__MusicS_count[i] == 6 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music02FlyingLight, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 161
				
            elseif s__s__MusicS_count[i] == 7 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music02HeavenShakingEvent, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 183
				
            elseif s__s__MusicS_count[i] == 8 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music03Confrontment, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 117
				
            elseif s__s__MusicS_count[i] == 9 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music03Crushing, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 201
				
            elseif s__s__MusicS_count[i] == 10 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music03Fake, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 145
				
            elseif s__s__MusicS_count[i] == 11 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music03Invasion, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 216
				
            elseif s__s__MusicS_count[i] == 12 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music03NightAttack, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 239
				
            elseif s__s__MusicS_count[i] == 13 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music03Suddenly, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 100
				
            elseif s__s__MusicS_count[i] == 14 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music04ACrisisAfterAnother, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 103
				
            elseif s__s__MusicS_count[i] == 15 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music04ChojuGiga, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 118
				
            elseif s__s__MusicS_count[i] == 16 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music04Evil, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 164
				
            elseif s__s__MusicS_count[i] == 17 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music04Houzukijo, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 140
				
            elseif s__s__MusicS_count[i] == 18 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music05LightningSpeed, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 136
				
            elseif s__s__MusicS_count[i] == 19 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music05Orochi, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 67
				
            elseif s__s__MusicS_count[i] == 20 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music05Rogue, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 121
				
            elseif s__s__MusicS_count[i] == 21 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music05TheProphet, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 98
				
            elseif s__s__MusicS_count[i] == 22 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music06Dance, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 141
				
            elseif s__s__MusicS_count[i] == 23 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music06Hidan, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 91
				
            elseif s__s__MusicS_count[i] == 24 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music07Kakuzu, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 109
				
            elseif s__s__MusicS_count[i] == 25 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music07TheRisingFightingSpirit, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 96
				
            elseif s__s__MusicS_count[i] == 26 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music07UltimateSecrets, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 126
				
            elseif s__s__MusicS_count[i] == 27 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music08CrimsonFlames, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 150
				
            elseif s__s__MusicS_count[i] == 28 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music08DeparturetotheFrontLines, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 129
				
            elseif s__s__MusicS_count[i] == 29 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music08Howl, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 54
				
            elseif s__s__MusicS_count[i] == 30 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music08Hummingbird, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 42
				
            elseif s__s__MusicS_count[i] == 31 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music09Anger, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 174
				
            elseif s__s__MusicS_count[i] == 32 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music09Silhouette, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 54
				
            elseif s__s__MusicS_count[i] == 33 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music09UnkemptHair, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 138
				
            elseif s__s__MusicS_count[i] == 34 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music10Akatsuki, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 122
				
            elseif s__s__MusicS_count[i] == 35 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music10Avenger, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 124
				
            elseif s__s__MusicS_count[i] == 36 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music10Rage, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 244
				
            elseif s__s__MusicS_count[i] == 37 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music11HeavyViolence, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 192
				
            elseif s__s__MusicS_count[i] == 38 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music12Blaze, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 76
				
            elseif s__s__MusicS_count[i] == 39 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music12DestructionJutsu, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 75
				
            elseif s__s__MusicS_count[i] == 40 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music12GoldbrocadedDamask, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 120
				
            elseif s__s__MusicS_count[i] == 41 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music12Jinchuuriki, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 121
				
            elseif s__s__MusicS_count[i] == 42 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music12Sarutobi, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 163
				
            elseif s__s__MusicS_count[i] == 43 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music12WindsandClouds, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 195
				
            elseif s__s__MusicS_count[i] == 44 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music13Impregnable, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 137
				
            elseif s__s__MusicS_count[i] == 45 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music13OrochimarusTheme, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 153
				
            elseif s__s__MusicS_count[i] == 46 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music13WaterAboveCut, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 113
				
            elseif s__s__MusicS_count[i] == 47 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music14Avenger, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 161
				
            elseif s__s__MusicS_count[i] == 48 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music14ForebodingSkies, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 116
				
            elseif s__s__MusicS_count[i] == 49 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music14ViolentFluctuation, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 138
				
            elseif s__s__MusicS_count[i] == 50 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music15HiddenWilltoFight, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 115
				
            elseif s__s__MusicS_count[i] == 51 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music15Jiraiya, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 163
				
            elseif s__s__MusicS_count[i] == 52 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music15OrochimarusFight, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 145
				
            elseif s__s__MusicS_count[i] == 53 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music15Trial, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 91
				
            elseif s__s__MusicS_count[i] == 54 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music16Mukade, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 102
				
            elseif s__s__MusicS_count[i] == 55 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music16NeedtoBeStrong, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 186
				
            elseif s__s__MusicS_count[i] == 56 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music16NightStroll, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 80
				
            elseif s__s__MusicS_count[i] == 57 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music16Raikiri, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 115
				
            elseif s__s__MusicS_count[i] == 58 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music16Ripple, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 118
				
            elseif s__s__MusicS_count[i] == 59 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music16Shennong, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 264
				
            elseif s__s__MusicS_count[i] == 60 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music17Game, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 25
				
            elseif s__s__MusicS_count[i] == 61 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music17SasukesDestiny, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 136
				
            elseif s__s__MusicS_count[i] == 62 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music17VeritablePandemonium, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 140
				
            elseif s__s__MusicS_count[i] == 63 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18BigandSuddenChange, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 128
				
            elseif s__s__MusicS_count[i] == 64 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18BlackSpot, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 136
				
            elseif s__s__MusicS_count[i] == 65 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18Bunta, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 164
				
            elseif s__s__MusicS_count[i] == 66 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18EmergenceofTalents, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 133
				
            elseif s__s__MusicS_count[i] == 67 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18GAMA, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 41
				
            elseif s__s__MusicS_count[i] == 68 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18SceneofViolence, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 78
				
            elseif s__s__MusicS_count[i] == 69 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18StrongandStrike, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 127
				
            elseif s__s__MusicS_count[i] == 70 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music18VergeofDeath, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 111
				
            elseif s__s__MusicS_count[i] == 71 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music19BeastofPrey, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 105
				
            elseif s__s__MusicS_count[i] == 72 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music19FlyingDragon, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 53
				
            elseif s__s__MusicS_count[i] == 73 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music19MiddleAgeAttack, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 174
				
            elseif s__s__MusicS_count[i] == 74 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music19TheMagicFlute, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 47
				
            elseif s__s__MusicS_count[i] == 75 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music19TheScarletLetter, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 153
				
            elseif s__s__MusicS_count[i] == 76 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music20Courtesy, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 134
				
            elseif s__s__MusicS_count[i] == 77 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music20SneakingNightmare, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 71
				
            elseif s__s__MusicS_count[i] == 78 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music20Supremacy, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 119
				
            elseif s__s__MusicS_count[i] == 79 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music20Thunderstorm, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 24
				
            elseif s__s__MusicS_count[i] == 80 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music21NARUTOMainTheme, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 266
				
            elseif s__s__MusicS_count[i] == 81 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music21RedRose, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 121
				
            elseif s__s__MusicS_count[i] == 82 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music21Stalemate, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 153
				
            elseif s__s__MusicS_count[i] == 83 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music22ArabesqueChaos, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 49
				
            elseif s__s__MusicS_count[i] == 84 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music22Hero, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 281
				
            elseif s__s__MusicS_count[i] == 85 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music22Tragic, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 150
				
            elseif s__s__MusicS_count[i] == 86 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music22Vicissitude, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 76
				
            elseif s__s__MusicS_count[i] == 87 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music22WarParticipation, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 66
				
            elseif s__s__MusicS_count[i] == 88 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music23Confronting, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 124
				
            elseif s__s__MusicS_count[i] == 89 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music23ManyNights, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 129
				
            elseif s__s__MusicS_count[i] == 90 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music23PhosphorescentLight, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 179
				
            elseif s__s__MusicS_count[i] == 91 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music24MuddyStream, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 50
				
            elseif s__s__MusicS_count[i] == 92 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music24Strangeness, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 158
				
            elseif s__s__MusicS_count[i] == 93 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music25DecisiveBattle, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 129
				
            elseif s__s__MusicS_count[i] == 94 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music25Infinite, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 112
				
            elseif s__s__MusicS_count[i] == 95 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music25RiskingitAll, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 138
				
            elseif s__s__MusicS_count[i] == 96 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music25ROADTONINJA, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 271
				
            elseif s__s__MusicS_count[i] == 97 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music25Thunder, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 126
				
            elseif s__s__MusicS_count[i] == 98 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music25Warrior, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 160
				
            elseif s__s__MusicS_count[i] == 99 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music26BurnedDown, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 174
				
            elseif s__s__MusicS_count[i] == 100 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music26Flight, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 133
				
            elseif s__s__MusicS_count[i] == 101 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music26IWish, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 63
				
            elseif s__s__MusicS_count[i] == 102 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music26JetBlack, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 74
				
            elseif s__s__MusicS_count[i] == 103 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music26ReverseSituation, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 240
				
            elseif s__s__MusicS_count[i] == 104 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music27AllKindsofSpiritsandGoblins, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 130
				
            elseif s__s__MusicS_count[i] == 105 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music27AntiHeaven, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 42
				
            elseif s__s__MusicS_count[i] == 106 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music27TheCryingGod, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 161
				
            elseif s__s__MusicS_count[i] == 107 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music28Breakdown, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 145
				
            elseif s__s__MusicS_count[i] == 108 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music29BreezefromtheFlappingofWings, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 101
				
            elseif s__s__MusicS_count[i] == 109 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music31BlindAnimal, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 174
				
            elseif s__s__MusicS_count[i] == 110 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music32GodofWar, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 133
				
            elseif s__s__MusicS_count[i] == 111 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music32HeavenshakingEvent, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 130
				
            elseif s__s__MusicS_count[i] == 112 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music32MADARAvsNARUTO, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 125
				
            elseif s__s__MusicS_count[i] == 113 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music33Flames, 5.00, 5.00)
                endif
				set s__s__MusicS_intervals[i]= 92
				
            elseif s__s__MusicS_count[i] == 114 then
                if GetLocalPlayer() == Player(i) then
                    call PlayMusicExBJ(gg_snd_Music33MyName, 5.00, 5.00)
                endif
                set s__s__MusicS_intervals[i]= 138
				
            endif
            //set intervals[i] = interval
            if s__s__MusicS_count[i] == 0 then
                set s__s__MusicS_count[i]= s__MusicS_offset
            else
                if s__s__MusicS_previous[i] then
                    set s__s__MusicS_previous[i]= false
                    set s__s__MusicS_count[i]= s__s__MusicS_count[i] - 1
                else
                    set s__s__MusicS_count[i]= s__s__MusicS_count[i] + 1
                endif
            endif
            if s__s__MusicS_count[i] < 1 then
                set s__s__MusicS_count[i]= 114
            endif
            if s__s__MusicS_count[i] > 114 then
                set s__s__MusicS_count[i]= 1
            endif
        else
            set s__s__MusicS_intervals[i]= s__s__MusicS_intervals[i] - 1
        endif
    endfunction 
    
    function s__MusicS_onInit takes nothing returns nothing
        local integer i= 0
	    set s__MusicS_offset=GetRandomInt(1, 114)
        loop
            exitwhen i > 18
            set s__s__MusicS_count[i]= 0
            set s__s__MusicS_intervals[i]= 60
            call TimerStartEx(NewTimerEx(i) , 1.0 , true , function s__MusicS_playSong , "MusicS.playSong")
            set i=i + 1
        endloop
	    call ClearMapMusicBJ()
        call StopMusic(false)
    endfunction 
    
//===========================================================================
// Trigger: UI
//===========================================================================
// scope NinpouUIS begins

        
//Implemented from module Alloc:
    
        function s__HeroIcon_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HeroIcon_Alloc__recycle[(0)] == 0 ) then
                set s__HeroIcon_Alloc__instanceCount=s__HeroIcon_Alloc__instanceCount + 1
                set this=s__HeroIcon_Alloc__instanceCount
            else
                set this=s__HeroIcon_Alloc__recycle[(0)]
                set s__HeroIcon_Alloc__recycle[(0)]=s__HeroIcon_Alloc__recycle[s__HeroIcon_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HeroIcon_deallocate takes integer this returns nothing
            set s__HeroIcon_Alloc__recycle[this]=s__HeroIcon_Alloc__recycle[(0)]
            set s__HeroIcon_Alloc__recycle[(0)]=this
        endfunction
            
   function s__HeroIcon_periodic takes nothing returns nothing
    local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
				set s__HeroIcon_count[this]=s__HeroIcon_count[this] + 1
				call BlzFrameSetAlpha(s__HeroIcon_mainbutton[this], R2I(255 - 7.72 * s__HeroIcon_count[this]))
				//set this.y = this.y - 0.002
				call BlzFrameSetAbsPoint(s__HeroIcon_mainbutton[this], FRAMEPOINT_CENTER, s__HeroIcon_x[this], s__HeroIcon_y[this]) //positionate button on the screen
				if s__HeroIcon_count[this] >= 33 then
                    call BlzFrameSetVisible(s__HeroIcon_mainbutton[this], false)
					call ReleaseTimer(GetExpiredTimer())
				endif
   endfunction 

   function s__HeroIcon_delay takes nothing returns nothing
    local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
				set s__HeroIcon_count[this]=0
				call TimerStart(NewTimerEx(this), 0.03, true, function s__HeroIcon_periodic)
				call ReleaseTimer(GetExpiredTimer())
   endfunction 

            function s__HeroIcon_start takes integer this,unit caster,string icon returns nothing
                set s__HeroIcon_caster[this]=caster
                set s__HeroIcon_icon[this]=icon
                set s__HeroIcon_x[this]=s__HeroIcon_original_x[this]
                set s__HeroIcon_y[this]=s__HeroIcon_original_y[this]
                call BlzFrameSetAbsPoint(s__HeroIcon_mainbutton[this], FRAMEPOINT_CENTER, s__HeroIcon_x[this], s__HeroIcon_y[this]) //positionate button on the screen
                call BlzFrameSetTexture(s__HeroIcon_imgFrame[this], icon, 0, true) //set the image of the imgFrame, with 0 the texture is streched with 1 the frame is filled with that texture.
				call BlzFrameSetAlpha(s__HeroIcon_mainbutton[this], 255)
                if s__HeroIcon_fade[this] then
                    call TimerStart(NewTimerEx(this), 2.0, false, function s__HeroIcon_delay)
                    if not IsUnitVisible(caster, GetLocalPlayer()) then
                        call BlzFrameSetVisible(s__HeroIcon_mainbutton[this], false)
                    else
                        call BlzFrameSetVisible(s__HeroIcon_mainbutton[this], true)
                    endif
                endif
            endfunction 
            
            function s__HeroIcon_create takes real x,real y,real scale,integer index returns integer
                local integer this= s__HeroIcon_allocate()
                set index=0
                set s__HeroIcon_mainbutton[this]=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, index)
                set s__HeroIcon_imgFrame[this]=s__HeroIcon_mainbutton[this]
                call BlzFrameSetSize(s__HeroIcon_mainbutton[this], scale, scale)
                call BlzFrameSetVisible(s__HeroIcon_mainbutton[this], false)
                set s__HeroIcon_x[this]=x
                set s__HeroIcon_y[this]=y
                set s__HeroIcon_original_x[this]=x
                set s__HeroIcon_original_y[this]=y
                set s__HeroIcon_scale[this]=scale
                set s__HeroIcon_index[this]=index
                set s__HeroIcon_fade[this]=true
                return this
            endfunction 
            
        
        
//Implemented from module Alloc:
    
        function s__HeroMessage_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HeroMessage_Alloc__recycle[(0)] == 0 ) then
                set s__HeroMessage_Alloc__instanceCount=s__HeroMessage_Alloc__instanceCount + 1
                set this=s__HeroMessage_Alloc__instanceCount
            else
                set this=s__HeroMessage_Alloc__recycle[(0)]
                set s__HeroMessage_Alloc__recycle[(0)]=s__HeroMessage_Alloc__recycle[s__HeroMessage_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HeroMessage_deallocate takes integer this returns nothing
            set s__HeroMessage_Alloc__recycle[this]=s__HeroMessage_Alloc__recycle[(0)]
            set s__HeroMessage_Alloc__recycle[(0)]=this
        endfunction
            
   function s__HeroMessage_periodic takes nothing returns nothing
    local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
				set s__HeroMessage_count[this]=s__HeroMessage_count[this] + 1
				//set this.y = this.y - 0.002 
				call BlzFrameSetAlpha(s__HeroMessage_imgFrame[this], R2I(255 - 7.72 * s__HeroMessage_count[this]))
				call BlzFrameSetAbsPoint(s__HeroMessage_imgFrame[this], FRAMEPOINT_CENTER, s__HeroMessage_x[this], s__HeroMessage_y[this]) //positionate button on the screen
				if s__HeroMessage_count[this] >= 33 then
                    call BlzFrameSetVisible(s__HeroMessage_imgFrame[this], false)
					call ReleaseTimer(GetExpiredTimer())
				endif
   endfunction 

   function s__HeroMessage_delay takes nothing returns nothing
    local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
				set s__HeroMessage_count[this]=0
				call TimerStart(NewTimerEx(this), 0.03, true, function s__HeroMessage_periodic)
				call ReleaseTimer(GetExpiredTimer())
   endfunction 

            function s__HeroMessage_start takes integer this,unit caster,string icon returns nothing
                set s__HeroMessage_icon[this]=icon
                set s__HeroMessage_caster[this]=caster
                set s__HeroMessage_x[this]=s__HeroMessage_original_x[this]
                set s__HeroMessage_y[this]=s__HeroMessage_original_y[this]
                call BlzFrameSetAbsPoint(s__HeroMessage_imgFrame[this], FRAMEPOINT_CENTER, s__HeroMessage_x[this], s__HeroMessage_y[this]) //positionate button on the screen
                call BlzFrameSetTexture(s__HeroMessage_imgFrame[this], icon, 0, true) //set the image of the imgFrame, with 0 the texture is streched with 1 the frame is filled with that texture.
                call TimerStart(NewTimerEx(this), 2.0, false, function s__HeroMessage_delay)
				call BlzFrameSetAlpha(s__HeroMessage_imgFrame[this], 255)
                if not IsUnitVisible(caster, GetLocalPlayer()) then
                    call BlzFrameSetVisible(s__HeroMessage_imgFrame[this], false)
                else
                    call BlzFrameSetVisible(s__HeroMessage_imgFrame[this], true)
                endif
            endfunction 

            function s__HeroMessage_create takes real x,real y,integer index returns integer
                local integer this= s__HeroMessage_allocate()
                set index=0
                set s__HeroMessage_imgFrame[this]=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, index)
                set s__HeroMessage_x[this]=x
                set s__HeroMessage_y[this]=y
                set s__HeroMessage_original_x[this]=x
                set s__HeroMessage_original_y[this]=y
                call BlzFrameSetSize(s__HeroMessage_imgFrame[this], 0.05, 0.05)
                call BlzFrameSetVisible(s__HeroMessage_imgFrame[this], false)
                return this
            endfunction 



//Implemented from module Alloc:
    
        function s__HeroUIMessage_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__HeroUIMessage_Alloc__recycle[(0)] == 0 ) then
                set s__HeroUIMessage_Alloc__instanceCount=s__HeroUIMessage_Alloc__instanceCount + 1
                set this=s__HeroUIMessage_Alloc__instanceCount
            else
                set this=s__HeroUIMessage_Alloc__recycle[(0)]
                set s__HeroUIMessage_Alloc__recycle[(0)]=s__HeroUIMessage_Alloc__recycle[s__HeroUIMessage_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__HeroUIMessage_deallocate takes integer this returns nothing
            set s__HeroUIMessage_Alloc__recycle[this]=s__HeroUIMessage_Alloc__recycle[(0)]
            set s__HeroUIMessage_Alloc__recycle[(0)]=this
        endfunction

            function s__HeroUIMessage_disable takes nothing returns nothing
                set s__HeroUIMessage_enabled=false
                call ReleaseTimer(GetExpiredTimer())
            endfunction 

            function s__HeroUIMessage_periodic takes nothing returns nothing
                local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
                if not s__HeroUIMessage_enabled then
                    set s__HeroUIMessage_enabled=true
                    call s__HeroIcon_start(s__HeroUIMessage_iconKiller[s__HeroUIMessage_instance],s__HeroUIMessage_killer[this] , s__s__AHSS_Configurations_PLAYER_ICONS[GetPlayerId(GetOwningPlayer(s__HeroUIMessage_killer[this]))])
                    call s__HeroIcon_start(s__HeroUIMessage_iconDeath[s__HeroUIMessage_instance],s__HeroUIMessage_death[this] , s__s__AHSS_Configurations_PLAYER_ICONS[GetPlayerId(GetOwningPlayer(s__HeroUIMessage_death[this]))])
                    if s__HeroUIMessage_assist1[this] != null then
                        call s__HeroIcon_start(s__HeroUIMessage_iconAssist1[s__HeroUIMessage_instance],s__HeroUIMessage_assist1[this] , s__s__AHSS_Configurations_PLAYER_ICONS[GetPlayerId(GetOwningPlayer(s__HeroUIMessage_assist1[this]))])
                    endif
                    if s__HeroUIMessage_assist2[this] != null then
                        call s__HeroIcon_start(s__HeroUIMessage_iconAssist2[s__HeroUIMessage_instance],s__HeroUIMessage_assist2[this] , s__s__AHSS_Configurations_PLAYER_ICONS[GetPlayerId(GetOwningPlayer(s__HeroUIMessage_assist2[this]))])
                    endif
                    call s__HeroMessage_start(s__HeroUIMessage_message[s__HeroUIMessage_instance],s__HeroUIMessage_death[this] , "DeathMessageKilled.blp")
                    call TimerStart((NewTimerEx(0)), 3.5, false, function s__HeroUIMessage_disable) // INLINED!!
                    call s__HeroUIMessage_deallocate(this)
                    call ReleaseTimer(GetExpiredTimer())
                endif
            endfunction 

            function s__HeroUIMessage_start takes unit killer,unit death,unit assist1,unit assist2 returns nothing
                local integer this= s__HeroUIMessage_allocate()
                set s__HeroUIMessage_killer[this]=killer
                set s__HeroUIMessage_death[this]=death
                set s__HeroUIMessage_assist1[this]=assist1
                set s__HeroUIMessage_assist2[this]=assist2
                call TimerStart(NewTimerEx(this), 0.1, true, function s__HeroUIMessage_periodic)
            endfunction 

            function s__HeroUIMessage_create takes nothing returns integer
                local integer this= s__HeroUIMessage_allocate()
                set s__HeroUIMessage_iconAssist2[this]=s__HeroIcon_create(0.02 , 0.55 , 0.02 , 3)
                set s__HeroUIMessage_iconAssist1[this]=s__HeroIcon_create(0.04 , 0.55 , 0.02 , 2)
                set s__HeroUIMessage_iconKiller[this]=s__HeroIcon_create(0.08 , 0.55 , 0.04 , 0)
                set s__HeroUIMessage_message[this]=s__HeroMessage_create(0.14 , 0.55 , 0)
                set s__HeroUIMessage_iconDeath[this]=s__HeroIcon_create(0.18 , 0.55 , 0.04 , 1)
                return this
            endfunction 

            function s__HeroUIMessage_delay takes nothing returns nothing
                set s__HeroUIMessage_instance=s__HeroUIMessage_create()
                call ReleaseTimer(GetExpiredTimer())
            endfunction 

            function s__HeroUIMessage_onInit takes nothing returns nothing
                set s__HeroUIMessage_enabled=false
                call TimerStart((NewTimerEx(0)), 5.0, false, function s__HeroUIMessage_delay) // INLINED!!
            endfunction 

        
        
            
            function s__ShopButton_create takes framehandle parent,integer index returns integer
                local integer this= s__ShopButton__allocate()
                set s__ShopButton_index[this]=index
                set s__ShopButton_mainbutton[this]=BlzCreateFrame("ScoreScreenBottomButtonTemplate", parent, 0, 0)
                set s__ShopButton_imgFrame[this]=BlzGetFrameByName("ScoreScreenButtonBackdrop", 0)
                set s__ShopButton_tooltipBox[this]=BlzCreateFrame("ListBoxWar3", s__ShopButton_mainbutton[this], 0, 0)
                set s__ShopButton_tooltip[this]=BlzCreateFrameByType("TEXT", "StandardInfoTextTemplate", s__ShopButton_tooltipBox[this], "StandardInfoTextTemplate", 0)
                call BlzFrameSetSize(s__ShopButton_mainbutton[this], 0.047, 0.048)
                call BlzFrameSetSize(s__ShopButton_tooltipBox[this], 0.3, 0.20)
                call BlzFrameSetSize(s__ShopButton_tooltip[this], 0.28, 0.18) //tooltip-Text is smaller than the box, so it wont touch the border.
                call BlzFrameSetPoint(s__ShopButton_mainbutton[this], FRAMEPOINT_TOPLEFT, parent, FRAMEPOINT_TOPLEFT, - 0.003, 0.003) //positionate button on the screen
                call BlzFrameSetPoint(s__ShopButton_tooltip[this], FRAMEPOINT_CENTER, s__ShopButton_tooltipBox[this], FRAMEPOINT_CENTER, 0.0, 0.0) //place tooltip into tooltipBox
                call BlzFrameSetPoint(s__ShopButton_tooltipBox[this], FRAMEPOINT_BOTTOM, s__ShopButton_mainbutton[this], FRAMEPOINT_TOP, 0.0, 0.0) //place tooltipBox with its bottom to the mainButtons TOP. tooltipBox will be over the mainbutton
                call BlzFrameSetTooltip(s__ShopButton_mainbutton[this], s__ShopButton_tooltipBox[this]) //show tooltipBox only when mainbutton is hovered with the mouse.
                call BlzFrameSetVisible(s__ShopButton_mainbutton[this], false)
                return this
            endfunction 
            
        
            
            
            function s__NinpouItem_getFileName takes string s returns string
                local integer i= 0
                loop
                    exitwhen i > StringLength(s) - 4
                    if SubString(s, i, i + 3) == "BTN" then
                        return SubString(s, i + 3, StringLength(s))
                    endif
                    set i=i + 1
                endloop
                return ""
            endfunction 
            
            function s__NinpouItem_setResearch takes integer this,integer r,integer l returns nothing
                set s__NinpouItem_research[this]=r
                set s__NinpouItem_level[this]=l
            endfunction 
            
            function s__NinpouItem_create takes string shopname,integer itemid,integer gold,integer lumber,boolean unique returns integer
                local integer this= s__NinpouItem__allocate()
                local item it= CreateItem(itemid, 0, 0)
                local integer i= 0
                loop
                    exitwhen i > 23
                    set s___NinpouItem_enabled[s__NinpouItem_enabled[this]+i]=true
                    set i=i + 1
                endloop
                set s__NinpouItem_shop[this]=shopname
                set s__NinpouItem_id[this]=itemid
                set s__NinpouItem_path[this]=BlzGetItemIconPath(it)
                set s__NinpouItem_disabledpath[this]="ReplaceableTextures\\CommandButtonsDisabled\\DISBTN" + s__NinpouItem_getFileName(s__NinpouItem_path[this])
                set s__NinpouItem_name[this]=GetItemName(it)
                set s__NinpouItem_description[this]=BlzGetItemDescription(it)
                set s__NinpouItem_gold[this]=gold
                set s__NinpouItem_lumber[this]=lumber
                set s__NinpouItem_unique[this]=unique
                set s__NinpouItem_research[this]=- 1
                call RemoveItem(it)
                set it=null
                return this
            endfunction 
            

            
            function s__NinpouShop_getHotkey takes integer index returns string
                if index == 0 then
                    return " - [|cffffcc00Q|r]"
                elseif index == 1 then
                    return " - [|cffffcc00W|r]"
                elseif index == 2 then
                    return " - [|cffffcc00E|r]"
                elseif index == 3 then
                    return " - [|cffffcc00R|r]"
                elseif index == 4 then
                    return " - [|cffffcc00A|r]"
                elseif index == 5 then
                    return " - [|cffffcc00S|r]"
                elseif index == 6 then
                    return " - [|cffffcc00D|r]"
                elseif index == 7 then
                    return " - [|cffffcc00F|r]"
                elseif index == 8 then
                    return " - [|cffffcc00Z|r]"
                elseif index == 9 then
                    return " - [|cffffcc00X|r]"
                elseif index == 10 then
                    return " - [|cffffcc00C|r]"
                elseif index == 11 then
                    return " - [|cffffcc00V|r]"
                else
                    return ""
                endif
            endfunction 
            
            function s__NinpouShop_setShopButton takes integer b,integer it,integer index returns nothing
                local string s
                call BlzFrameSetVisible(s__ShopButton_mainbutton[b], true)
                if s___NinpouItem_enabled[s__NinpouItem_enabled[it]+index] then
                    call BlzFrameSetEnable(s__ShopButton_mainbutton[b], true)
                    call BlzFrameSetTexture(s__ShopButton_imgFrame[b], s__NinpouItem_path[it], 0, true) //set the image of the imgFrame, with 0 the texture is streched with 1 the frame is filled with that texture.
                else
                    call BlzFrameSetEnable(s__ShopButton_mainbutton[b], false)
                    call BlzFrameSetTexture(s__ShopButton_imgFrame[b], s__NinpouItem_disabledpath[it], 0, true) //set the image of the imgFrame, with 0 the texture is streched with 1 the frame is filled with that texture.
                endif
                set s=s__NinpouItem_name[it] + s__NinpouShop_getHotkey(s__ShopButton_index[b]) + "|n|n" + s__NinpouItem_description[it] + "|n|nGold: " + I2S(s__NinpouItem_gold[it]) + " Crystal: " + I2S(s__NinpouItem_lumber[it])
                if s__NinpouItem_unique[it] then
                    set s=s + "|n|nUNIQUE"
                endif
                if s__NinpouItem_research[it] == 'Rhst' and s__NinpouItem_level[it] == 1 then
                    set s=s + "|n|nWAIT 5 MINUTES"
                endif
                if s__NinpouItem_research[it] == 'Rhst' and s__NinpouItem_level[it] == 2 then
                    set s=s + "|n|nWAIT 7 MINUTES"
                endif
                call BlzFrameSetText(s__ShopButton_tooltip[b], s) //text of the tooltip
                
            endfunction 
            
            function s__NinpouShop_selectItemsByShopName takes integer this,string shopname returns nothing
                local integer i= 0
                local integer it
                loop
                    exitwhen i > 11
                    call BlzFrameSetVisible(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]], false)
                    set i=i + 1
                endloop
                set s__NinpouShop_count_selected_items[this]=0
                set i=0
                loop
                    exitwhen i >= s__NinpouShop_count_items
                    set it=s__s__NinpouShop_all_items[i]
                    if s__NinpouItem_shop[it] == shopname and s__NinpouShop_count_selected_items[this] < 16 then
                        set s___NinpouShop_selected_shop_items[s__NinpouShop_selected_shop_items[this]+s__NinpouShop_count_selected_items[this]]=it
                        call s__NinpouShop_setShopButton(s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+s__NinpouShop_count_selected_items[this]] , it , s__NinpouShop_id[this])
                        set s__NinpouShop_count_selected_items[this]=s__NinpouShop_count_selected_items[this] + 1
                    endif
                    set i=i + 1
                endloop
            endfunction 
            
            function s__NinpouShop_selectItemsByName takes integer this,string name returns nothing
                local integer i= 0
                local integer j
                local integer it
                loop
                    exitwhen i > 11
                    call BlzFrameSetVisible(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]], false)
                    set i=i + 1
                endloop
                set s__NinpouShop_count_selected_items[this]=0
                set i=0
                loop
                    exitwhen i >= s__NinpouShop_count_items
                    set it=s__s__NinpouShop_all_items[i]
                    set j=0
                    loop
                        exitwhen j > StringLength(s__NinpouItem_name[it])
                        if StringCase(SubString(s__NinpouItem_name[it], j, j + StringLength(name)), false) == StringCase(name, false) and s__NinpouShop_count_selected_items[this] < 16 then
                            set s___NinpouShop_selected_shop_items[s__NinpouShop_selected_shop_items[this]+s__NinpouShop_count_selected_items[this]]=it
                            call s__NinpouShop_setShopButton(s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+s__NinpouShop_count_selected_items[this]] , it , s__NinpouShop_id[this])
                            set s__NinpouShop_count_selected_items[this]=s__NinpouShop_count_selected_items[this] + 1
                            exitwhen true
                        endif
                        set j=j + 1
                    endloop
                    set i=i + 1
                endloop
            endfunction 
            
            function s__NinpouShop_shopSearch takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                call s__NinpouShop_selectItemsByName(this,BlzGetTriggerFrameText())
            endfunction 
            
            function s__NinpouShop_shopSearchEnter takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                call sc__NinpouShop_resetFocus(this)
            endfunction 
            
            function s__NinpouShop_shopButtonClick takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                call sc__NinpouShop_resetFocus(this)
                call s__NinpouShop_selectItemsByShopName(this,BlzFrameGetText(BlzGetTriggerFrame()))
                call TriggerSleepAction(0.01)
                if GetLocalPlayer() == GetTriggerPlayer() then
                    call BlzFrameSetVisible(BlzGetTriggerFrame(), false)
                    call BlzFrameSetEnable(BlzGetTriggerFrame(), false)
                endif
                call TriggerSleepAction(0.01)
                if GetLocalPlayer() == GetTriggerPlayer() then
                    call BlzFrameSetVisible(BlzGetTriggerFrame(), true)
                    call BlzFrameSetEnable(BlzGetTriggerFrame(), true)
                endif
            endfunction 
            
            function s__NinpouShop_getButtonIndex takes integer this,framehandle bt returns integer
                local integer i= 0
                loop
                    exitwhen i >= s__NinpouShop_count_selected_items[this]
                    if bt == s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]] then
                        return i
                    endif
                    set i=i + 1
                endloop
                return - 1
            endfunction 
            
            function s__NinpouShop_setGoldAndLumber takes integer this returns nothing
                if s__NinpouShop_total_gold[this] > GetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_GOLD) then
                    call BlzFrameSetText(s__NinpouShop_item_price_gold[this], "|cffff0000" + I2S(s__NinpouShop_total_gold[this]) + "|r")
                else
                    call BlzFrameSetText(s__NinpouShop_item_price_gold[this], I2S(s__NinpouShop_total_gold[this]))
                endif
                if s__NinpouShop_total_lumber[this] > GetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_LUMBER) then
                    call BlzFrameSetText(s__NinpouShop_item_price_lumber[this], "|cffff0000" + I2S(s__NinpouShop_total_lumber[this]) + "|r")
                else
                    call BlzFrameSetText(s__NinpouShop_item_price_lumber[this], I2S(s__NinpouShop_total_lumber[this]))
                endif
            endfunction 
            
            function s__NinpouShop_setItemResearch takes integer this returns nothing
                local integer i= 0
                local integer j
                loop
                    exitwhen i > 23
                    set j=0
                    loop
                        exitwhen j >= s__NinpouShop_count_items
                        if s__NinpouItem_research[s__s__NinpouShop_all_items[j]] > 0 then
                            if GetPlayerTechCount(Player(i), s__NinpouItem_research[s__s__NinpouShop_all_items[j]], false) >= s__NinpouItem_level[s__s__NinpouShop_all_items[j]] then
                                set s___NinpouItem_enabled[s__NinpouItem_enabled[s__s__NinpouShop_all_items[j]]+i]=true
                            else
                                set s___NinpouItem_enabled[s__NinpouItem_enabled[s__s__NinpouShop_all_items[j]]+i]=false
                            endif
                        endif
                        set j=j + 1
                    endloop
                    set i=i + 1
                endloop
            endfunction 
            
            function s__NinpouShop_shopItemsClick takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                local integer buttonIndex= s__NinpouShop_getButtonIndex(this,BlzGetTriggerFrame())
                call sc__NinpouShop_resetFocus(this)
                if s__NinpouShop_count_bough_items[this] >= 12 then
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000Inventory is full.|r")
                    return
                endif
                if buttonIndex >= 0 and s___NinpouItem_enabled[s__NinpouItem_enabled[s___NinpouShop_selected_shop_items[s__NinpouShop_selected_shop_items[this]+buttonIndex]]+s__NinpouShop_id[this]] then
                    set s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+s__NinpouShop_count_bough_items[this]]=s___NinpouShop_selected_shop_items[s__NinpouShop_selected_shop_items[this]+buttonIndex]
                    call s__NinpouShop_setShopButton(s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+s__NinpouShop_count_bough_items[this]] , s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+s__NinpouShop_count_bough_items[this]] , s__NinpouShop_id[this])
                    set s__NinpouShop_count_bough_items[this]=s__NinpouShop_count_bough_items[this] + 1
                    set s__NinpouShop_total_gold[this]=s__NinpouShop_total_gold[this] + s__NinpouItem_gold[s___NinpouShop_selected_shop_items[s__NinpouShop_selected_shop_items[this]+buttonIndex]]
                    set s__NinpouShop_total_lumber[this]=s__NinpouShop_total_lumber[this] + s__NinpouItem_lumber[s___NinpouShop_selected_shop_items[s__NinpouShop_selected_shop_items[this]+buttonIndex]]
                    call s__NinpouShop_setGoldAndLumber(this)
                endif
                call TriggerSleepAction(0.0)
                if GetLocalPlayer() == GetTriggerPlayer() then
                    call BlzFrameSetVisible(BlzGetTriggerFrame(), false)
                    call BlzFrameSetEnable(BlzGetTriggerFrame(), false)
                endif
                call TriggerSleepAction(0.0)
                if GetLocalPlayer() == GetTriggerPlayer() then
                    call BlzFrameSetVisible(BlzGetTriggerFrame(), true)
                    call BlzFrameSetEnable(BlzGetTriggerFrame(), true)
                endif
            endfunction 
            
            function s__NinpouShop_getBuyButtonIndex takes integer this,framehandle bt returns integer
                local integer i= 0
                loop
                    exitwhen i >= s__NinpouShop_count_bough_items[this]
                    if bt == s__ShopButton_mainbutton[s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+i]] then
                        return i
                    endif
                    set i=i + 1
                endloop
                return - 1
            endfunction 
            
            function s__NinpouShop_buyItemsClick takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                local integer buttonIndex= s__NinpouShop_getBuyButtonIndex(this,BlzGetTriggerFrame())
                call sc__NinpouShop_resetFocus(this)
                if buttonIndex >= 0 and s___NinpouItem_enabled[s__NinpouItem_enabled[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+buttonIndex]]+s__NinpouShop_id[this]] then
                    set s__NinpouShop_total_gold[this]=s__NinpouShop_total_gold[this] - s__NinpouItem_gold[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+buttonIndex]]
                    set s__NinpouShop_total_lumber[this]=s__NinpouShop_total_lumber[this] - s__NinpouItem_lumber[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+buttonIndex]]
                    call s__NinpouShop_setGoldAndLumber(this)
                    loop
                        exitwhen buttonIndex >= s__NinpouShop_count_bough_items[this] - 1
                        set s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+buttonIndex]=s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+buttonIndex + 1]
                        call s__NinpouShop_setShopButton(s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+buttonIndex] , s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+buttonIndex] , s__NinpouShop_id[this])
                        set buttonIndex=buttonIndex + 1
                    endloop
                    call BlzFrameSetVisible(s__ShopButton_mainbutton[s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+s__NinpouShop_count_bough_items[this] - 1]], false)
                    set s__NinpouShop_count_bough_items[this]=s__NinpouShop_count_bough_items[this] - 1
                endif
            endfunction 

            function s__NinpouShop_shiftItems takes integer this,unit un returns nothing
                local item it
                local integer i
                set i=0
                loop
                    exitwhen i > 5
                    set it=UnitItemInSlot(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], i)
                    if it != null then
                        call UnitRemoveItem(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], it)
                        call UnitAddItem(un, it)
                        exitwhen true
                    endif
                    set i=i + 1
                endloop
                set i=0
                loop
                    exitwhen i > 5
                    set it=UnitItemInSlot(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], i)
                    call UnitRemoveItem(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], it)
                    call UnitAddItem(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], it)
                    set i=i + 1
                endloop
            endfunction 
            
            function s__NinpouShop_resetFocus takes integer this returns nothing
                local integer i= 0
                if GetLocalPlayer() == Player(s__NinpouShop_id[this]) then
                    call BlzFrameSetFocus(s__NinpouShop_box[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_search[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop1[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop2[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop3[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop4[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop5[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop6[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop7[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop8[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop9[this], false)
                    loop
                        exitwhen i > 11
                        call BlzFrameSetFocus(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]], false)
                        call BlzFrameSetFocus(s__ShopButton_mainbutton[s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+i]], false)
                        call BlzFrameSetFocus(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i], false)
                        call BlzFrameSetFocus(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i], false)
                        set i=i + 1
                    endloop
                endif
            endfunction 
            
            function s__NinpouShop_buyItemsForPlayer takes integer this,unit un returns nothing
                local integer i
                local integer j
                local integer count_items= 0
                local item it
                if un == null or GetWidgetLife(un) < 0.405 then
                    return
                endif
                call TriggerSleepAction(0.01)
                call SetUnitX(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], GetUnitX(un))
                call SetUnitY(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], GetUnitY(un))
                set i=0
                loop
                    exitwhen i > 5
                    set it=UnitItemInSlot(un, i)
                    if it != null then
                        call UnitRemoveItem(un, it)
                        call UnitAddItem(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], it)
                        set count_items=count_items + 1
                    endif
                    set i=i + 1
                endloop
                loop
                    exitwhen s__NinpouShop_count_bough_items[this] == 0 or s__NinpouItem_gold[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]] > GetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_GOLD) or s__NinpouItem_lumber[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]] > GetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_LUMBER)
                    call SetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_GOLD) - s__NinpouItem_gold[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]])
                    call SetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_LUMBER, GetPlayerState(Player(s__NinpouShop_id[this]), PLAYER_STATE_RESOURCE_LUMBER) - s__NinpouItem_lumber[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]])
                    set s__NinpouShop_total_gold[this]=s__NinpouShop_total_gold[this] - s__NinpouItem_gold[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]]
                    set s__NinpouShop_total_lumber[this]=s__NinpouShop_total_lumber[this] - s__NinpouItem_lumber[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]]
                    if count_items == 6 then
                        call s__NinpouShop_shiftItems(this,un)
                        set count_items=count_items - 1
                    endif
                    call UnitAddItemById(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], s__NinpouItem_id[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]])
                    set count_items=count_items + 1
                    if s__NinpouItem_unique[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]] then
                        set j=0
                        loop
                            exitwhen j > 23
                            if IsPlayerAlly(Player(j), Player(s__NinpouShop_id[this])) then
                                set s___NinpouItem_enabled[s__NinpouItem_enabled[s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]]]+j]=false
                            endif
                            set j=j + 1
                        endloop
                    endif
                    set j=0
                    loop
                        exitwhen j >= s__NinpouShop_count_bough_items[this] - 1
                        set s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+j]=s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+j + 1]
                        call s__NinpouShop_setShopButton(s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+j] , s___NinpouShop_bought_shop_items[s__NinpouShop_bought_shop_items[this]+j] , s__NinpouShop_id[this])
                        set j=j + 1
                    endloop
                    call BlzFrameSetVisible(s__ShopButton_mainbutton[s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+s__NinpouShop_count_bough_items[this] - 1]], false)
                    set s__NinpouShop_count_bough_items[this]=s__NinpouShop_count_bough_items[this] - 1
                    call TriggerSleepAction(0.01)
                endloop
                set i=0
                loop
                    exitwhen i > 5
                    set it=UnitItemInSlot(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], i)
                    if it != null then
                        call UnitRemoveItem(s__s__NinpouShop_dummy_bank[s__NinpouShop_id[this]], it)
                        call UnitAddItem(un, it)
                    endif
                    set i=i + 1
                endloop
            endfunction 
            
            function s__NinpouShop_exit takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                if not s__NinpouShop_enabled[this] then
                    return
                endif
                call BlzFrameSetVisible(s__NinpouShop_box[this], false)
                call s__NinpouShop_resetFocus(this)
                set s__NinpouShop_visible[this]=false
                if s__NinpouShop_u[this] != null then
                    if GetLocalPlayer() == Player(s__NinpouShop_id[this]) then
                        //call SelectUnit(u, true)
                    endif
                endif
            endfunction 
            
            function s__NinpouShop_buyItems takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                if not s__NinpouShop_enabled[this] then
                    return
                endif
                call BlzFrameSetVisible(s__NinpouShop_box[this], false)
                call s__NinpouShop_resetFocus(this)
                set s__NinpouShop_visible[this]=false
                loop
                    exitwhen s__NinpouShop_u[this] == null or GetWidgetLife(s__NinpouShop_u[this]) > 0.405
                    call TriggerSleepAction(0.1)
                endloop
                if s__NinpouShop_u[this] != null then
                    if GetLocalPlayer() == Player(s__NinpouShop_id[this]) then
                        //call SelectUnit(u, true)
                    endif
                    call s__NinpouShop_buyItemsForPlayer(this,s__NinpouShop_u[this])
                endif
            endfunction 

            function s__NinpouShop_show takes integer this returns nothing
                local unit localUnit
                if not s__NinpouShop_enabled[this] then
                    return
                endif
                call s__NinpouShop_setItemResearch(this)
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsSelected(bj_lastCreatedGroup, Player(s__NinpouShop_id[this]), null)
                loop
                    set localUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen localUnit == null
                    set s__NinpouShop_u[this]=localUnit
                    call GroupRemoveUnit(bj_lastCreatedGroup, localUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
                if s__NinpouShop_u[this] == null or IsUnitType(s__NinpouShop_u[this], UNIT_TYPE_HERO) == false or GetOwningPlayer(s__NinpouShop_u[this]) != Player(s__NinpouShop_id[this]) then
                    set s__NinpouShop_u[this]=udg_units33[s__NinpouShop_id[this] + 1]
                endif
                if GetLocalPlayer() == Player(s__NinpouShop_id[this]) then
                    call BlzFrameSetVisible(s__NinpouShop_box[this], true)
                    //call BlzFrameClick(shop1)
                    call BlzFrameSetFocus(s__NinpouShop_box[this], true)
                    //call ClearSelection()
                endif
                call s__NinpouShop_setGoldAndLumber(this)
                call TriggerSleepAction(0.1)
                set s__NinpouShop_visible[this]=true
            endfunction
            
            function s__NinpouShop_autobuyOn takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                set s__NinpouShop_autobuy[this]=true
            endfunction 
            
            function s__NinpouShop_autobuyOff takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                set s__NinpouShop_autobuy[this]=false
            endfunction 
            
            function s__NinpouShop_create takes integer index returns integer
                local integer this= s__NinpouShop__allocate()
                local framehandle boxTitle
                local framehandle boxBottomText
                local framehandle mainButton
                local framehandle buttonText
                local framehandle autobuyText
                local framehandle buttonBuy
                
                local trigger searchTrigger
                local trigger searchEnterTrigger
                local trigger shopButtonTrigger
                local trigger shopItemsTrigger
                local trigger shopBuyItemsTrigger
                local trigger buyItemsTrigger
                local trigger autobuyTriggerOn
                local trigger autobuyTriggerOff
                local trigger buyTrigger
                
                local integer i

                set s__NinpouShop_id[this]=index
                
                set s__NinpouShop_box[this]=BlzCreateFrame("SuspendDialog", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)
                call BlzFrameSetSize(s__NinpouShop_box[this], 0.475, 0.4) //has a default size but one can overwrite it.
                call BlzFrameSetAbsPoint(s__NinpouShop_box[this], FRAMEPOINT_CENTER, 0.4, 0.3)
                set boxTitle=BlzGetFrameByName("SuspendTitleText", 0)
                call BlzFrameSetText(boxTitle, "Shop")
                set boxBottomText=BlzGetFrameByName("SuspendTimerText", 0)
                set mainButton=BlzGetFrameByName("SuspendDropPlayersButton", 0)
                set buttonText=BlzGetFrameByName("SuspendDropPlayersButtonText", 0) //Get The buttons textChild
                call BlzFrameSetText(buttonText, "Exit (ESC)")
                set buyItemsTrigger=CreateTrigger()
                call BlzTriggerRegisterFrameEvent(buyItemsTrigger, mainButton, FRAMEEVENT_CONTROL_CLICK)
                call TriggerAddAction(buyItemsTrigger, function s__NinpouShop_exit)
                
                set s__NinpouShop_shop1[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop2[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop3[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop4[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop5[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop6[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop7[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop8[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                set s__NinpouShop_shop9[this]=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)

                set shopButtonTrigger=CreateTrigger()
                set shopItemsTrigger=CreateTrigger()
                set shopBuyItemsTrigger=CreateTrigger()
                
                set s__NinpouShop_search[this]=BlzCreateFrame("EscMenuEditBoxTemplate", s__NinpouShop_box[this], 0, 0)
                set searchTrigger=CreateTrigger()
                set searchEnterTrigger=CreateTrigger()
                call BlzFrameSetSize(s__NinpouShop_search[this], 0.435, 0.03)
                call BlzFrameSetPoint(s__NinpouShop_search[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_box[this], FRAMEPOINT_TOPLEFT, 0.02, - 0.05)
                call TriggerAddAction(searchTrigger, function s__NinpouShop_shopSearch)
                call BlzTriggerRegisterFrameEvent(searchTrigger, s__NinpouShop_search[this], FRAMEEVENT_EDITBOX_TEXT_CHANGED)
                call TriggerAddAction(searchEnterTrigger, function s__NinpouShop_shopSearchEnter)
                call BlzTriggerRegisterFrameEvent(searchEnterTrigger, s__NinpouShop_search[this], FRAMEEVENT_EDITBOX_ENTER)

                call BlzFrameSetSize(s__NinpouShop_shop1[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop1[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_search[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop1[this], s__NinpouShop_SHOP_SCROLLS)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop1[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop2[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop2[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop1[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop2[this], s__NinpouShop_SHOP_NINJA_TOOLS)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop2[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop3[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop3[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop2[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop3[this], s__NinpouShop_SHOP_NINJA_WEAPONS)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop3[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop4[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop4[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop3[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop4[this], s__NinpouShop_SHOP_BASIC_EQUIPMENT)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop4[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop5[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop5[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop4[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop5[this], s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop5[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop6[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop6[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop5[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop6[this], s__NinpouShop_SHOP_SOUL)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop6[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop7[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop7[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop6[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop7[this], s__NinpouShop_SHOP_UPGRADES)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop7[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop8[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop8[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop7[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop8[this], s__NinpouShop_SHOP_LOW_LEVEL_COMBINE)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop8[this], FRAMEEVENT_CONTROL_CLICK)

                call BlzFrameSetSize(s__NinpouShop_shop9[this], 0.17, 0.027)
                call BlzFrameSetPoint(s__NinpouShop_shop9[this], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop8[this], FRAMEPOINT_BOTTOMLEFT, 0.0, 0.0)
                call BlzFrameSetText(s__NinpouShop_shop9[this], s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE)
                call BlzTriggerRegisterFrameEvent(shopButtonTrigger, s__NinpouShop_shop9[this], FRAMEEVENT_CONTROL_CLICK)

                call TriggerAddAction(shopButtonTrigger, function s__NinpouShop_shopButtonClick)

                set i=0
                loop
                    exitwhen i > 11
                    set s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i]=BlzCreateFrame("Tile1", s__NinpouShop_box[this], 0, 0)
                    call BlzFrameSetTexture(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i], "Item_Background.blp", 0, true)
                    call BlzFrameSetSize(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i], 0.04, 0.04)
                    if i > 0 then
                        call BlzFrameSetPoint(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i], FRAMEPOINT_TOPLEFT, s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i - 1], FRAMEPOINT_TOPRIGHT, 0.0, 0)
                    endif
                    set s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]=s__ShopButton_create(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i] , i)
                    call BlzTriggerRegisterFrameEvent(shopItemsTrigger, s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]], FRAMEEVENT_CONTROL_CLICK)
                    set i=i + 1
                endloop
                call BlzFrameSetPoint(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]], FRAMEPOINT_TOPLEFT, s__NinpouShop_shop1[this], FRAMEPOINT_TOPRIGHT, 0.01, 0)
                call BlzFrameSetPoint(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+4], FRAMEPOINT_TOPLEFT, s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]], FRAMEPOINT_BOTTOMLEFT, 0.0, 0)
                call BlzFrameSetPoint(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+8], FRAMEPOINT_TOPLEFT, s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+4], FRAMEPOINT_BOTTOMLEFT, 0.0, 0)
                call TriggerAddAction(shopItemsTrigger, function s__NinpouShop_shopItemsClick)
                
                set i=0
                loop
                    exitwhen i > 11
                    set s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i]=BlzCreateFrame("Tile1", s__NinpouShop_box[this], 0, 0)
                    call BlzFrameSetTexture(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i], "Item_Background.blp", 0, true)
                    call BlzFrameSetSize(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i], 0.04, 0.04)
                    if i > 0 then
                        call BlzFrameSetPoint(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i], FRAMEPOINT_TOPLEFT, s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i - 1], FRAMEPOINT_TOPRIGHT, 0.0, 0)
                    endif
                    set s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+i]=s__ShopButton_create(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i] , - ( i + 1 ))
                    call BlzTriggerRegisterFrameEvent(shopBuyItemsTrigger, s__ShopButton_mainbutton[s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+i]], FRAMEEVENT_CONTROL_CLICK)
                    set i=i + 1
                endloop
                call BlzFrameSetPoint(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]], FRAMEPOINT_TOPLEFT, s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+8], FRAMEPOINT_BOTTOMLEFT, 0.0, - 0.015)
                call BlzFrameSetPoint(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+6], FRAMEPOINT_TOPLEFT, s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]], FRAMEPOINT_BOTTOMLEFT, 0.0, 0)
                call TriggerAddAction(shopBuyItemsTrigger, function s__NinpouShop_buyItemsClick)
                
                set s__NinpouShop_item_price[this]=BlzCreateFrame("Tile1", s__NinpouShop_box[this], 0, 0)
                call BlzFrameSetTexture(s__NinpouShop_item_price[this], "Item_Price.blp", 0, true)
                call BlzFrameSetSize(s__NinpouShop_item_price[this], 0.08, 0.04)
                call BlzFrameSetPoint(s__NinpouShop_item_price[this], FRAMEPOINT_TOPLEFT, s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+11], FRAMEPOINT_TOPRIGHT, 0.005, 0)
                set s__NinpouShop_item_price_gold[this]=BlzCreateFrameByType("TEXT", "FaceFrameTooltip", s__NinpouShop_box[this], "", 0)
                call BlzFrameSetText(s__NinpouShop_item_price_gold[this], "0")
                call BlzFrameSetPoint(s__NinpouShop_item_price_gold[this], FRAMEPOINT_TOPRIGHT, s__NinpouShop_item_price[this], FRAMEPOINT_TOPRIGHT, - 0.02, - 0.007)
                set s__NinpouShop_item_price_lumber[this]=BlzCreateFrameByType("TEXT", "FaceFrameTooltip", s__NinpouShop_box[this], "", 1)
                call BlzFrameSetText(s__NinpouShop_item_price_lumber[this], "0")
                call BlzFrameSetPoint(s__NinpouShop_item_price_lumber[this], FRAMEPOINT_TOPRIGHT, s__NinpouShop_item_price_gold[this], FRAMEPOINT_BOTTOMRIGHT, 0, - 0.009)

                set autobuyTriggerOn=CreateTrigger()
                set autobuyTriggerOff=CreateTrigger()
                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouShop_autobuy_box[i]= BlzCreateFrame("QuestCheckBox", s__NinpouShop_box[this], 0, 0)
                    call BlzFrameSetPoint(s__s__NinpouShop_autobuy_box[i], FRAMEPOINT_TOPLEFT, s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+6], FRAMEPOINT_BOTTOMLEFT, 0, - 0.01)
                    call BlzTriggerRegisterFrameEvent(autobuyTriggerOn, s__s__NinpouShop_autobuy_box[i], FRAMEEVENT_CHECKBOX_CHECKED)
                    call BlzTriggerRegisterFrameEvent(autobuyTriggerOff, s__s__NinpouShop_autobuy_box[i], FRAMEEVENT_CHECKBOX_UNCHECKED)
                    if GetLocalPlayer() != Player(i) then
                        call BlzFrameSetVisible(s__s__NinpouShop_autobuy_box[i], false)
                    endif
                    set i=i + 1
                endloop
                set s__NinpouShop_autobuy[this]=false
                set autobuyText=BlzCreateFrameByType("TEXT", "FaceFrameTooltip", s__NinpouShop_box[this], "", 2)
                call BlzFrameSetText(autobuyText, "Autobuy")
                call BlzFrameSetPoint(autobuyText, FRAMEPOINT_BOTTOMLEFT, s__s__NinpouShop_autobuy_box[0], FRAMEPOINT_BOTTOMRIGHT, 0, 0.01)
                call TriggerAddAction(autobuyTriggerOn, function s__NinpouShop_autobuyOn)
                call TriggerAddAction(autobuyTriggerOff, function s__NinpouShop_autobuyOff)
                
                set buyTrigger=CreateTrigger()
                set buttonBuy=BlzCreateFrame("ScriptDialogButton", s__NinpouShop_box[this], 0, 0)
                call BlzFrameSetText(BlzGetFrameByName("ScriptDialogButtonText", 0), "(B)uy")
                call BlzTriggerRegisterFrameEvent(buyTrigger, buttonBuy, FRAMEEVENT_CONTROL_CLICK)
                call BlzFrameClearAllPoints(buttonBuy)
                call BlzFrameSetPoint(buttonBuy, FRAMEPOINT_BOTTOMLEFT, autobuyText, FRAMEPOINT_BOTTOMRIGHT, 0.06, - 0.01)
                call BlzFrameSetSize(buttonBuy, 0.12, 0.03)
                call TriggerAddAction(buyTrigger, function s__NinpouShop_buyItems)
                
                set s__NinpouShop_count_selected_items[this]=0
                set s__NinpouShop_count_bough_items[this]=0
                set s__NinpouShop_visible[this]=false
                set s__NinpouShop_total_gold[this]=0
                set s__NinpouShop_total_lumber[this]=0
                
                call s__NinpouShop_selectItemsByShopName(this,s__NinpouShop_SHOP_SCROLLS)
                
                call BlzFrameSetVisible(s__NinpouShop_box[this], false)
                
                return this
            endfunction 
        
            function s__NinpouShop_createItem takes string shopname,integer itemid,integer gold,integer lumber,boolean unique returns nothing
                set s__s__NinpouShop_all_items[s__NinpouShop_count_items]= s__NinpouItem_create(shopname , itemid , gold , lumber , unique)
                set s__NinpouShop_count_items=s__NinpouShop_count_items + 1
            endfunction 

            function s__NinpouShop_createItemFive takes string shopname,integer itemid,integer gold,integer lumber,boolean unique returns nothing
                set s__s__NinpouShop_all_items[s__NinpouShop_count_items]= s__NinpouItem_create(shopname , itemid , gold , lumber , unique)
                call s__NinpouItem_setResearch(s__s__NinpouShop_all_items[s__NinpouShop_count_items],'Rhst' , 1)
                set s__NinpouShop_count_items=s__NinpouShop_count_items + 1
            endfunction 

            function s__NinpouShop_createItemSeven takes string shopname,integer itemid,integer gold,integer lumber,boolean unique returns nothing
                set s__s__NinpouShop_all_items[s__NinpouShop_count_items]= s__NinpouItem_create(shopname , itemid , gold , lumber , unique)
                call s__NinpouItem_setResearch(s__s__NinpouShop_all_items[s__NinpouShop_count_items],'Rhst' , 2)
                set s__NinpouShop_count_items=s__NinpouShop_count_items + 1
            endfunction 

            function s__NinpouShop_onInit takes nothing returns nothing
                set s__NinpouShop_count_items=0
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'shas' , 200 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'sror' , 200 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'sand' , 200 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'I060' , 200 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'arsc' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'sreg' , 200 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'sman' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'shea' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'whwd' , 2250 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'I05G' , 1000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SCROLLS , 'I05H' , 5000 , 0 , false)
                
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'pinv' , 2250 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'I00W' , 2250 , 0 , false)
                call s__NinpouShop_createItemFive(s__NinpouShop_SHOP_NINJA_TOOLS , 'pomn' , 2800 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'I033' , 2250 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'stel' , 3500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'ckng' , 3500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'ratf' , 3500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'I03I' , 2250 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'I03X' , 2250 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_NINJA_TOOLS , 'I05S' , 2250 , 0 , false)
                
                call s__NinpouShop_createItemFive(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I020' , 2250 , 0 , false)
                call s__NinpouShop_createItemFive(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I00X' , 2250 , 0 , false)
                call s__NinpouShop_createItemFive(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I02R' , 1800 , 0 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I013' , 2250 , 0 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I011' , 3000 , 0 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I012' , 3000 , 0 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I001' , 3000 , 0 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I02Q' , 1000 , 1 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I06P' , 3000 , 0 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I06O' , 3000 , 0 , false)
                call s__NinpouShop_createItemSeven(s__NinpouShop_SHOP_NINJA_WEAPONS , 'I05L' , 3000 , 0 , false)
                
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'I037' , 4000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'pmna' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'hbth' , 1500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'frgd' , 1500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'fwss' , 800 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'I00Y' , 3000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'I00J' , 3000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'I01L' , 3000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'I004' , 3700 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'I00R' , 800 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_BASIC_EQUIPMENT , 'I00D' , 800 , 0 , false)
                
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'modt' , 2000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'clsd' , 4000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'mcou' , 4000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'I00L' , 16000 , 6 , true)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'I007' , 6000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'srbd' , 9000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'I057' , 8000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'I03J' , 8000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'I06N' , 25000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'shar' , 4000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LEGENDARY_EQUIPMENT , 'I06H' , 4000 , 0 , false)
                
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'gsou' , 1000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'oli2' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'ofro' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'oven' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'ofir' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'I036' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'odef' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_SOUL , 'I061' , 5000 , 0 , false)
                
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_UPGRADES , 'I044' , 2700 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_UPGRADES , 'I00P' , 900 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_UPGRADES , 'I009' , 3300 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_UPGRADES , 'I008' , 2500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_UPGRADES , 'I053' , 1500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_UPGRADES , 'I056' , 3300 , 0 , false)
                
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I039' , 8000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I000' , 3000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I03U' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I02E' , 2000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I03D' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I00O' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I02I' , 2500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I02M' , 2000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I04N' , 500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I05J' , 7000 , 0 , true)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_LOW_LEVEL_COMBINE , 'I06I' , 6000 , 0 , false)
                
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I03Q' , 2500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I02V' , 3000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I04U' , 2000 , 0 , true)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I02X' , 6000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I02N' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I02L' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I02K' , 5000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I02O' , 20000 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I05R' , 2500 , 0 , false)
                call s__NinpouShop_createItem(s__NinpouShop_SHOP_HIGH_LEVEL_COMBINE , 'I06M' , 1000 , 0 , true)
            endfunction 
            
        


            function s__NinpouUI_resetCommandButtons takes integer id returns nothing
                local integer i
                if not s__s__NinpouUI_command_hero_building[id] then
                    return
                endif
                set s__s__NinpouUI_command_hero_building[id]= false
                set i=0
                loop
                    exitwhen i > 11
                    call BlzFrameClearAllPoints(BlzGetFrameByName("CommandButton_" + I2S(i), 0))
                    if i < 4 or i == 5 then
                        call BlzFrameSetAbsPoint(BlzGetFrameByName("CommandButton_" + I2S(i), 0), FRAMEPOINT_TOPLEFT, - 1, - 1)
                    endif
                    set i=i + 1
                endloop
                // 0.256, 0.185
                call BlzFrameSetAbsPoint(BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd_buttons_x[id] + 0.256 + 0.06 - 0.196 - 0.128 + 0.086, s__s__NinpouUI_cmd_buttons_y[id] + 0.0365) //  + 0.082
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_9", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_10", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_9", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_11", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_10", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_7", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_11", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_6", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_7", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_4", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_6", 0), FRAMEPOINT_RIGHT, 0, 0)
            
                call BlzFrameSetPoint(s__NinpouUI_hero_level_bar, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                call BlzFrameSetPoint(s__NinpouUI_hero_progress_indicator, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                
                call BlzFrameSetTexture(s__s__NinpouUI_cmd1[id], "UI_Command_1.blp", 0, true)
                call BlzFrameSetTexture(s__s__NinpouUI_cmd2[id], "UI_Command_2.blp", 0, true)
                call BlzFrameSetSize(s__s__NinpouUI_cmd1[id], 0.256, 0.17)
                call BlzFrameSetSize(s__s__NinpouUI_hpbar[id], 0.267, 0.012)
                call BlzFrameSetSize(s__s__NinpouUI_manabar[id], 0.267, 0.012)
                call BlzFrameSetSize(s__NinpouUI_hero_level_bar, 0.265, 0.012)
                call BlzFrameSetSize(s__NinpouUI_hero_progress_indicator, 0.267, 0.015)
                
                call BlzFrameSetAbsPoint(s__s__NinpouUI_cmd1[id], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd_buttons_x[id], s__s__NinpouUI_cmd_buttons_y[id])
            endfunction 
            
            function s__NinpouUI_resetCommandButtonsBuilding takes integer id returns nothing
                local integer i= 0
                if s__s__NinpouUI_command_hero_building[id] then
                    return
                endif
                set s__s__NinpouUI_command_hero_building[id]= true
                set i=0
                loop
                    exitwhen i > 11
                    call BlzFrameClearAllPoints(BlzGetFrameByName("CommandButton_" + I2S(i), 0))
                    set i=i + 1
                endloop
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd1[id], FRAMEPOINT_BOTTOMLEFT, 0.082, 0.0365)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_9", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_10", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_9", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_11", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_10", 0), FRAMEPOINT_RIGHT, 0, 0)
                
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_4", 0), FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_5", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_4", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_6", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_5", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_7", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_6", 0), FRAMEPOINT_RIGHT, 0, 0)
                
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_0", 0), FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_4", 0), FRAMEPOINT_TOPLEFT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_1", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_0", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_2", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_1", 0), FRAMEPOINT_RIGHT, 0, 0)
                call BlzFrameSetPoint(BlzGetFrameByName("CommandButton_3", 0), FRAMEPOINT_LEFT, BlzGetFrameByName("CommandButton_2", 0), FRAMEPOINT_RIGHT, 0, 0)
                
                call BlzFrameSetPoint(s__NinpouUI_hero_level_bar, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_0", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                call BlzFrameSetPoint(s__NinpouUI_hero_progress_indicator, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_0", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                
                call BlzFrameSetTexture(s__s__NinpouUI_cmd1[id], "UI_Command_Shop.blp", 0, true)
                call BlzFrameSetTexture(s__s__NinpouUI_cmd2[id], "blank.blp", 0, true)
                call BlzFrameSetSize(s__s__NinpouUI_cmd1[id], 0.256, 0.185)
                call BlzFrameSetSize(s__s__NinpouUI_hpbar[id], 0.155, 0.012)
                call BlzFrameSetSize(s__s__NinpouUI_manabar[id], 0.155, 0.012)
                call BlzFrameSetSize(s__NinpouUI_hero_level_bar, 0.155, 0.012)
                call BlzFrameSetSize(s__NinpouUI_hero_progress_indicator, 0.155, 0.015)
                
                call BlzFrameSetAbsPoint(s__s__NinpouUI_cmd1[id], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd_buttons_x[id] + 0.06, s__s__NinpouUI_cmd_buttons_y[id])
            endfunction 

            function s__NinpouUI_periodic takes nothing returns nothing
                local integer i= 0
                local integer j
                local item it
                local string s1
                local string s2
                local unit u
                local framehandle fh
                local unit localUnit
                set i=0
                loop
                    exitwhen i > 23
                    if s__s__NinpouUI_new_ui_enabled[i] and GetPlayerController(Player(i)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
                        set u=null
                        set bj_lastCreatedGroup=CreateGroup()
                        call GroupEnumUnitsSelected(bj_lastCreatedGroup, Player(i), null)
                        loop
                            set localUnit=FirstOfGroup(bj_lastCreatedGroup)
                            exitwhen localUnit == null
                            set u=localUnit
                            exitwhen true
                        endloop
                        call DestroyGroup(bj_lastCreatedGroup)
                        if u != null then
                            set s1="|cffffffff" + I2S(R2I(GetUnitState(u, UNIT_STATE_LIFE))) + "/" + I2S(R2I(GetUnitState(u, UNIT_STATE_MAX_LIFE))) + "|r"
                            set s2="|cffffffff" + I2S(R2I(GetUnitState(u, UNIT_STATE_MANA))) + "/" + I2S(R2I(GetUnitState(u, UNIT_STATE_MAX_MANA))) + "|r"
                            call BlzFrameSetText(BlzGetFrameByName("MyStatusBarText", i), s1)
                            call BlzFrameSetValue(s__s__NinpouUI_hpbar[i], GetUnitState(u, UNIT_STATE_LIFE) / GetUnitState(u, UNIT_STATE_MAX_LIFE) * 100)
                            call BlzFrameSetText(BlzGetFrameByName("MyStatusBarText", 24 + i), s2)
                            if GetUnitState(u, UNIT_STATE_MAX_MANA) == 0 then
                                call BlzFrameSetValue(s__s__NinpouUI_manabar[i], 100)
                            else
                                call BlzFrameSetValue(s__s__NinpouUI_manabar[i], GetUnitState(u, UNIT_STATE_MANA) / GetUnitState(u, UNIT_STATE_MAX_MANA) * 100)
                            endif
                        endif
                        
                        if u != s__s__NinpouUI_selected_unit[i] and GetLocalPlayer() == Player(i) then
                            if u != null then
                                if u != gg_unit_N01R_0081 and not s__NinpouUI_initialized then
                                    set s__NinpouUI_initialized=true
                                    call sc__NinpouUI_resetElements(i)
                                endif
                                if IsUnitType(u, UNIT_TYPE_HERO) == true then
                                    set j=4
                                    loop
                                        exitwhen j > 10
                                        call BlzFrameSetVisible(s__s__NinpouUI_indicators[(i)*(12)+j], true)
                                        set j=j + 1
                                    endloop
                                else
                                    set j=4
                                    loop
                                        exitwhen j > 10
                                        call BlzFrameSetVisible(s__s__NinpouUI_indicators[(i)*(12)+j], false)
                                        set j=j + 1
                                    endloop
                                endif
                                call BlzFrameSetVisible(s__s__NinpouUI_cmd1[i], true)
                                call BlzFrameSetVisible(s__s__NinpouUI_cmd2[i], true)
                                call BlzFrameSetVisible(s__s__NinpouUI_hpbar[i], true)
                                call BlzFrameSetVisible(s__s__NinpouUI_manabar[i], true)
                                call BlzFrameSetVisible(s__s__NinpouUI_move_cmd_buttons[i], false)
                                if IsUnitType(u, UNIT_TYPE_STRUCTURE) == true then
                                    call s__NinpouUI_resetCommandButtonsBuilding(i)
                                else
                                    call s__NinpouUI_resetCommandButtons(i)
                                endif
                            else
                                set j=4
                                loop
                                    exitwhen j > 10
                                    call BlzFrameSetVisible(s__s__NinpouUI_indicators[(i)*(12)+j], false)
                                    set j=j + 1
                                endloop
                                call BlzFrameSetVisible(s__s__NinpouUI_cmd1[i], false)
                                call BlzFrameSetVisible(s__s__NinpouUI_cmd2[i], false)
                                call BlzFrameSetVisible(s__s__NinpouUI_hpbar[i], false)
                                call BlzFrameSetVisible(s__s__NinpouUI_manabar[i], false)
                                call BlzFrameSetVisible(s__s__NinpouUI_move_cmd_buttons[i], false)
                            endif
                        endif
                        
                        set s__s__NinpouUI_selected_unit[i]= u
                        
                        if u == null then
                            set u=udg_units33[i + 1]
                        endif
                        
                        if u != null then
                            if IsUnitType(u, UNIT_TYPE_HERO) == true and GetOwningPlayer(u) == Player(i) and ( ( IsPlayerAlly(Player(i), Player(3)) and RectContainsUnit(gg_rct_KONOHA, u) ) or ( IsPlayerAlly(Player(i), Player(7)) and RectContainsUnit(gg_rct_EVIL, u) ) or ( IsPlayerAlly(Player(i), Player(11)) and RectContainsUnit(gg_rct_AKATSUKI, u) ) or GetWidgetLife(u) < 0.405 ) then
                                if not s__NinpouShop_enabled[s__s__NinpouShop_shops[i]] and GetLocalPlayer() == Player(i) then
                                    call BlzFrameSetEnable(s__NinpouUI_shop_button, true)
                                endif
                                set s__NinpouShop_enabled[s__s__NinpouShop_shops[i]]=true
                            else
                                if s__NinpouShop_enabled[s__s__NinpouShop_shops[i]] and GetLocalPlayer() == Player(i) then
                                    call BlzFrameSetEnable(s__NinpouUI_shop_button, false)
                                endif
                                set s__NinpouShop_enabled[s__s__NinpouShop_shops[i]]=false
                            endif
                        endif
                        //if NinpouShop.shops[i].enabled and GetLocalPlayer() == Player(i) then 
                        //	call BlzFrameSetEnable(shop_button, false)
                        //endif 
                        //set NinpouShop.shops[i].enabled = false 
                        
                        // Bank buttons 
                        if s__s__NinpouUI_bank_unit[i] != null then
                            set j=0
                            loop
                                exitwhen j > 5
                                set it=UnitItemInSlot(s__s__NinpouUI_bank_unit[i], j)
                                if it == null then
                                    if GetLocalPlayer() == Player(i) then
                                        call BlzFrameSetTexture(s__s__NinpouUI_bank_buttons[j], "ReplaceableTextures\\CommandButtons\\BTNblank.blp", 0, true)
                                    endif
                                else
                                    if GetLocalPlayer() == Player(i) then
                                        call BlzFrameSetTexture(s__s__NinpouUI_bank_buttons[j], BlzGetItemIconPath(it), 0, true)
                                    endif
                                endif
                                set j=j + 1
                            endloop
                        endif
                    endif
                    
                    set i=i + 1
                endloop
            endfunction 
            
            function s__NinpouUI_hideStatsForPlayer takes integer id returns nothing
                if not s__NinpouUI_initialized then
                    return
                endif
                set s__s__NinpouUI_stats_hidden[id]= not s__s__NinpouUI_stats_hidden[id]
                if s__s__NinpouUI_stats_hidden[id] then
                    if GetLocalPlayer() == Player(id) then
                        call BlzFrameSetVisible(s__NinpouUI_tile1, false)
                        call BlzFrameSetVisible(s__NinpouUI_tile2, false)
                        call BlzFrameSetAbsPoint(s__NinpouUI_unit_attack, FRAMEPOINT_BOTTOMLEFT, - 1, - 1)
                        call BlzFrameSetAbsPoint(s__NinpouUI_unit_armor, FRAMEPOINT_BOTTOMLEFT, - 1, - 1)
                        call BlzFrameSetAbsPoint(s__NinpouUI_unit_food, FRAMEPOINT_BOTTOM, - 1, - 1)
                        call BlzFrameSetAbsPoint(s__NinpouUI_hero_attributes, FRAMEPOINT_BOTTOMLEFT, - 1, - 1)
                        //call BlzFrameSetVisible(unit_attack, false)
                        //call BlzFrameSetVisible(unit_armor, false)
                        //call BlzFrameSetVisible(unit_food, false)
                        //call BlzFrameSetVisible(hero_attributes, false)
                    endif
                else
                    if GetLocalPlayer() == Player(id) then
                        call BlzFrameSetVisible(s__NinpouUI_tile1, true)
                        call BlzFrameSetVisible(s__NinpouUI_tile2, true)
                        call BlzFrameSetPoint(s__NinpouUI_unit_attack, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.005, 0.03)
                        call BlzFrameSetPoint(s__NinpouUI_unit_armor, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.005, 0.0)
                        call BlzFrameSetPoint(s__NinpouUI_unit_food, FRAMEPOINT_BOTTOM, BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), FRAMEPOINT_BOTTOM, - 1, - 1)
                        call BlzFrameSetPoint(s__NinpouUI_hero_attributes, FRAMEPOINT_BOTTOMLEFT, s__NinpouUI_unit_attack, FRAMEPOINT_TOPLEFT, - 0.0027, 0.011)
                        //call BlzFrameSetVisible(unit_attack, true)
                        //call BlzFrameSetVisible(unit_armor, true)
                        //call BlzFrameSetVisible(unit_food, true)
                        //call BlzFrameSetVisible(hero_attributes, true)
                    endif
                endif
            endfunction 
            
            function s__NinpouUI_hideStats takes nothing returns nothing
                local integer id= GetPlayerId(GetTriggerPlayer())
                if not s__s__NinpouUI_new_ui_enabled[id] then
                    return
                endif
                call s__NinpouUI_hideStatsForPlayer(id)
            endfunction 
            
            function s__NinpouUI_mouseCmdDown takes nothing returns nothing
                local integer id= GetPlayerId(GetTriggerPlayer())
                if not s__s__NinpouUI_new_ui_enabled[id] then
                    return
                endif
                if not s__s__NinpouUI_mouse_cmd_down[id] then
                    set s__s__NinpouUI_mouse_cmd_down[id]= true
                    set s__s__NinpouUI_prev_mouse_x[id]= - 1
                    set s__s__NinpouUI_prev_mouse_y[id]= - 1
                else
                    set s__s__NinpouUI_mouse_cmd_down[id]= false
                endif
            endfunction 
            
            function s__NinpouUI_mouseItemDown takes nothing returns nothing
                local integer id= GetPlayerId(GetTriggerPlayer())
                if not s__s__NinpouUI_new_ui_enabled[id] then
                    return
                endif
                if not s__s__NinpouUI_mouse_item_down[id] then
                    set s__s__NinpouUI_mouse_item_down[id]= true
                    set s__s__NinpouUI_prev_mouse_x[id]= - 1
                    set s__s__NinpouUI_prev_mouse_y[id]= - 1
                else
                    set s__s__NinpouUI_mouse_item_down[id]= false
                endif
            endfunction 
            
            function s__NinpouUI_mouseBankDown takes nothing returns nothing
                local integer id= GetPlayerId(GetTriggerPlayer())
                if not s__s__NinpouUI_new_ui_enabled[id] then
                    return
                endif
                if not s__s__NinpouUI_mouse_bank_down[id] then
                    set s__s__NinpouUI_mouse_bank_down[id]= true
                    set s__s__NinpouUI_prev_mouse_x[id]= - 1
                    set s__s__NinpouUI_prev_mouse_y[id]= - 1
                else
                    set s__s__NinpouUI_mouse_bank_down[id]= false
                endif
            endfunction 
            
            function s__NinpouUI_mouseMove takes nothing returns nothing
                local integer id= GetPlayerId(GetTriggerPlayer())
                local real x= BlzGetTriggerPlayerMouseX()
                local real y= BlzGetTriggerPlayerMouseY()
                local location l
                local real z
                local integer v
                set s__s__NinpouUI_mouse_world_x[id]= x
                set s__s__NinpouUI_mouse_world_y[id]= y
                if not s__s__NinpouUI_new_ui_enabled[id] then
                    return
                endif
                if s__s__NinpouUI_mouse_cmd_down[id] or s__s__NinpouUI_mouse_item_down[id] or s__s__NinpouUI_mouse_bank_down[id] then
                    set l=Location(x, y)
                    set z=GetLocationZ(l)
                    call s__Camera_setEyeAndAt(s__NinpouUI_cam,GetCameraEyePositionX() , GetCameraEyePositionY() , GetCameraEyePositionZ() , GetCameraTargetPositionX() , GetCameraTargetPositionY() , GetCameraTargetPositionZ())
                    set v=s__Camera_world2Win(s__NinpouUI_cam,x , y , z)
                    set s__s__NinpouUI_mouse_x[id]= s__VECTOR3_x[v]
                    set s__s__NinpouUI_mouse_y[id]= s__VECTOR3_y[v]
                    if s__s__NinpouUI_prev_mouse_x[id] == - 1 then
                        set s__s__NinpouUI_prev_mouse_x[id]= s__s__NinpouUI_mouse_x[id]
                        set s__s__NinpouUI_prev_mouse_y[id]= s__s__NinpouUI_mouse_y[id]
                    endif
                    call RemoveLocation(l)
                    set l=null
                    if s__s__NinpouUI_mouse_cmd_down[id] then
                        set s__s__NinpouUI_cmd_buttons_x[id]= s__s__NinpouUI_cmd_buttons_x[id] + ( s__s__NinpouUI_mouse_x[id] - s__s__NinpouUI_prev_mouse_x[id] ) / 2 * 0.8
                        set s__s__NinpouUI_cmd_buttons_y[id]= s__s__NinpouUI_cmd_buttons_y[id] + ( s__s__NinpouUI_mouse_y[id] - s__s__NinpouUI_prev_mouse_y[id] ) / 2 * 0.6
                        if s__s__NinpouUI_cmd_buttons_x[id] > 0 and s__s__NinpouUI_cmd_buttons_x[id] < 0.35 and s__s__NinpouUI_cmd_buttons_y[id] > 0 and s__s__NinpouUI_cmd_buttons_y[id] < 0.4 then
                            call BlzFrameSetAbsPoint(s__s__NinpouUI_cmd1[id], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd_buttons_x[id], s__s__NinpouUI_cmd_buttons_y[id])
                        endif
                    elseif s__s__NinpouUI_mouse_item_down[id] then
                        set s__s__NinpouUI_items_button_x[id]= s__s__NinpouUI_items_button_x[id] + ( s__s__NinpouUI_mouse_x[id] - s__s__NinpouUI_prev_mouse_x[id] ) / 2 * 0.8
                        set s__s__NinpouUI_items_button_y[id]= s__s__NinpouUI_items_button_y[id] + ( s__s__NinpouUI_mouse_y[id] - s__s__NinpouUI_prev_mouse_y[id] ) / 2 * 0.6
                        if s__s__NinpouUI_items_button_x[id] > 0.25 and s__s__NinpouUI_items_button_x[id] < 0.8 and s__s__NinpouUI_items_button_y[id] > 0 and s__s__NinpouUI_items_button_y[id] < 0.4 then
                            if GetLocalPlayer() == Player(id) then
                                call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_items_button_x[id], s__s__NinpouUI_items_button_y[id])
                            endif
                        endif
                    elseif s__s__NinpouUI_mouse_bank_down[id] then
                        set s__s__NinpouUI_bank_button_x[id]= s__s__NinpouUI_bank_button_x[id] + ( s__s__NinpouUI_mouse_x[id] - s__s__NinpouUI_prev_mouse_x[id] ) / 2 * 0.8
                        set s__s__NinpouUI_bank_button_y[id]= s__s__NinpouUI_bank_button_y[id] + ( s__s__NinpouUI_mouse_y[id] - s__s__NinpouUI_prev_mouse_y[id] ) / 2 * 0.6
                        if s__s__NinpouUI_bank_button_x[id] > 0.25 and s__s__NinpouUI_bank_button_x[id] < 0.8 and s__s__NinpouUI_bank_button_y[id] > 0 and s__s__NinpouUI_bank_button_y[id] < 0.4 then
                            if GetLocalPlayer() == Player(id) then
                                call BlzFrameSetAbsPoint(s__s__NinpouUI_bank_buttons[2], FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_bank_button_x[id], s__s__NinpouUI_bank_button_y[id])
                            endif
                        endif
                    endif
                    set s__s__NinpouUI_prev_mouse_x[id]= s__s__NinpouUI_mouse_x[id]
                    set s__s__NinpouUI_prev_mouse_y[id]= s__s__NinpouUI_mouse_y[id]
                endif
            endfunction 
            
            function s__NinpouUI_mouseUp takes nothing returns nothing
                local integer id= GetPlayerId(GetTriggerPlayer())
                if s__s__NinpouUI_mouse_cmd_down[id] then
                    set s__s__NinpouUI_mouse_cmd_down[id]= false
                elseif s__s__NinpouUI_mouse_item_down[id] then
                    set s__s__NinpouUI_mouse_item_down[id]= false
                elseif s__s__NinpouUI_mouse_bank_down[id] then
                    set s__s__NinpouUI_mouse_bank_down[id]= false
                endif
            endfunction 
            
            function s__NinpouUI_useItem takes integer id,integer i returns nothing
                local unit u
                local unit u2
                local item it
                local integer g
                local unit localUnit
                set u=null
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsSelected(bj_lastCreatedGroup, Player(id), null)
                loop
                    set localUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen localUnit == null
                    set u=localUnit
                    exitwhen true
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
                if GetOwningPlayer(u) != Player(id) then
                    set u=udg_units33[id + 1]
                endif
                if BlzGetTriggerPlayerMetaKey() == 1 and IsUnitPaused(u) == false and IsUnitHidden(u) == false then
                    set udg_SmartBank_Active=true
                    set it=UnitItemInSlot(u, i - 1)
                    if it != null then
                        call UnitRemoveItem(u, it)
                        call UnitAddItem(s__s__NinpouUI_bank_unit[id], it)
                    endif
                    set udg_SmartBank_Active=false
                elseif BlzGetTriggerPlayerMetaKey() == 2 and IsUnitPaused(u) == false and IsUnitHidden(u) == false then
                    set udg_SmartBank_Active=true
                    set it=UnitItemInSlot(s__s__NinpouUI_bank_unit[id], i - 1)
                    if it != null then
                        call UnitRemoveItem(s__s__NinpouUI_bank_unit[id], it)
                        call UnitAddItem(u, it)
                    endif
                    set udg_SmartBank_Active=false
                elseif not udg_quickcast[id] and IsUnitPaused(u) == false and IsUnitHidden(u) == false then
                    set it=UnitItemInSlotBJ(u, i)
                    set u2=null
                    call UnitUseItem(u, it)
                    if not UnitUseItemPoint(u, it, s__s__NinpouUI_mouse_world_x[id], s__s__NinpouUI_mouse_world_y[id]) then
                        set bj_lastCreatedGroup=CreateGroup()
                        call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__s__NinpouUI_mouse_world_x[id], s__s__NinpouUI_mouse_world_y[id], 200, null)
                        loop
                            set localUnit=FirstOfGroup(bj_lastCreatedGroup)
                            exitwhen localUnit == null
                            if GetWidgetLife(localUnit) > 0.405 and ( u2 == null or GetDistance(GetUnitX(localUnit) , GetUnitY(localUnit) , s__s__NinpouUI_mouse_world_x[id] , s__s__NinpouUI_mouse_world_y[id]) < GetDistance(GetUnitX(u2) , GetUnitY(u2) , s__s__NinpouUI_mouse_world_x[id] , s__s__NinpouUI_mouse_world_y[id]) ) then
                                set u2=localUnit
                            endif
                            call GroupRemoveUnit(bj_lastCreatedGroup, localUnit)
                        endloop
                        call DestroyGroup(bj_lastCreatedGroup)
                        if u2 != null then
                            call UnitUseItemTarget(u, it, u2)
                        endif
                    endif
                    set u2=null
                endif
            endfunction 
            
            function s__NinpouUI_reset takes nothing returns nothing
                local integer id= GetPlayerId(GetTriggerPlayer())
                if not s__s__NinpouUI_new_ui_enabled[id] then
                    return
                endif
                set s__s__NinpouUI_cmd_buttons_x[id]= 0.196
                set s__s__NinpouUI_cmd_buttons_y[id]= 0.0
                set s__s__NinpouUI_items_button_x[id]= 0.665
                set s__s__NinpouUI_items_button_y[id]= 0.007
				set s__s__NinpouUI_bank_button_x[id]= 0.782 //0.665
				set s__s__NinpouUI_bank_button_y[id]= 0.036 //0.142
                call sc__NinpouUI_resetElements(id)
            endfunction 
            
            function s__NinpouUI_enableAutobuyClicked takes nothing returns boolean
                local integer id= GetPlayerId(GetTriggerPlayer())
                local button b= (GetClickedButton()) // INLINED!!
                local integer i= 1
                if b != s__s__NinpouUI_autobuy_buttons[(id)*(6)+0] then
                    loop
                        exitwhen i > 5
                        if b == s__s__NinpouUI_autobuy_buttons[(id)*(6)+i] then
                            set s__s__NinpouUI_autobuy_count[id]= s__s__NinpouUI_autobuy_count[id] + 1
                            set s__s__NinpouUI_autobuy_enabled[id]= not s__s__NinpouUI_autobuy_enabled[id]
                            if GetLocalPlayer() == GetTriggerPlayer() then
                                call BlzFrameSetText(s__NinpouUI_autobuy_button_text, "Off")
                            endif
                            call autobuyCmdBuild(i)
                        endif
                        set i=i + 1
                    endloop
                endif
                call s__Dialog_destroy(s__s__NinpouUI_autobuy_dialogs[id])
                return false
            endfunction 

            function s__NinpouUI_enableAutobuy takes nothing returns nothing
                local integer d
                local integer id= GetPlayerId(GetTriggerPlayer())
                if not s__s__NinpouUI_autobuy_enabled[GetPlayerId(GetTriggerPlayer())] then
                    if s__s__NinpouUI_autobuy_count[GetPlayerId(GetTriggerPlayer())] == 0 then
                        set d=s__Dialog_create()
                        call s__Dialog__set_title(d,"Choose your build")
                        set s__s__NinpouUI_autobuy_buttons[(id)*(6)+1]= (DialogAddButton(s__Dialog_dg[(d)], ("Defensive build (recommended)" ), ( 1))) // INLINED!!
                        set s__s__NinpouUI_autobuy_buttons[(id)*(6)+2]= (DialogAddButton(s__Dialog_dg[(d)], ("Offensive build" ), ( 2))) // INLINED!!
                        set s__s__NinpouUI_autobuy_buttons[(id)*(6)+3]= (DialogAddButton(s__Dialog_dg[(d)], ("Anti-stun build" ), ( 3))) // INLINED!!
                        set s__s__NinpouUI_autobuy_buttons[(id)*(6)+4]= (DialogAddButton(s__Dialog_dg[(d)], ("Anti-debuff build" ), ( 4))) // INLINED!!
                        set s__s__NinpouUI_autobuy_buttons[(id)*(6)+5]= (DialogAddButton(s__Dialog_dg[(d)], ("Auto-attack build" ), ( 5))) // INLINED!!
                        set s__s__NinpouUI_autobuy_buttons[(id)*(6)+0]= (DialogAddButton(s__Dialog_dg[(d)], ("XXX CANCEL XXX" ), ( 0))) // INLINED!!
                        call s__Dialog_display(d,GetTriggerPlayer() , true)
                        call s__Dialog_registerClickEvent(d,Condition(function s__NinpouUI_enableAutobuyClicked))
                        set s__s__NinpouUI_autobuy_dialogs[GetPlayerId(GetTriggerPlayer())]= d
                    else
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebAutobuy enabled. |cffff0000DO NOT BUY ANYTHING MANUALLY!|r")
                        call autoBuyCmdEnable(true)
                        if GetLocalPlayer() == GetTriggerPlayer() then
					        call BlzFrameSetText(s__NinpouUI_autobuy_button_text, "Off")
                        endif
                        set s__s__NinpouUI_autobuy_enabled[GetPlayerId(GetTriggerPlayer())]= not s__s__NinpouUI_autobuy_enabled[GetPlayerId(GetTriggerPlayer())]
                    endif
                else
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cff87ceebAutobuy disabled.|r")
                    if GetLocalPlayer() == GetTriggerPlayer() then
					    call BlzFrameSetText(s__NinpouUI_autobuy_button_text, "Auto")
                    endif
                    call autoBuyCmdEnable(false)
                    set s__s__NinpouUI_autobuy_enabled[GetPlayerId(GetTriggerPlayer())]= not s__s__NinpouUI_autobuy_enabled[GetPlayerId(GetTriggerPlayer())]
                endif
            endfunction 

   function s__NinpouUI_disableHotkey takes nothing returns nothing
    local integer i= 0
				set s__s__NinpouUI_hotkeys_enabled[GetPlayerId(GetTriggerPlayer())]= not s__s__NinpouUI_hotkeys_enabled[GetPlayerId(GetTriggerPlayer())]
				if GetLocalPlayer() == GetTriggerPlayer() then
					if s__s__NinpouUI_hotkeys_enabled[GetPlayerId(GetTriggerPlayer())] then
						loop
							exitwhen i > 5
                    		call BlzFrameSetVisible(s__s__NinpouUI_indicator_bank_buttons[i], true)
                    		call BlzFrameSetVisible(s__s__NinpouUI_indicator_items[i], true)
							set i=i + 1
						endloop
						call BlzFrameSetText(s__NinpouUI_hotkey_button_text, "Hotkeys ON")
					else
						loop
							exitwhen i > 5
                    		call BlzFrameSetVisible(s__s__NinpouUI_indicator_bank_buttons[i], false)
                    		call BlzFrameSetVisible(s__s__NinpouUI_indicator_items[i], false)
							set i=i + 1
						endloop
						call BlzFrameSetText(s__NinpouUI_hotkey_button_text, "Hotkeys OFF")
					endif
				endif
   endfunction 

            function s__NinpouUI_hotkey takes nothing returns nothing
                local integer this= s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]
                local integer id= GetPlayerId(GetTriggerPlayer())
                local integer i= 0
                local unit u
                if id < 11 and ( not s__s__NinpouUI_new_ui_enabled[GetPlayerId(GetTriggerPlayer())] or not s__s__NinpouUI_hotkeys_enabled[GetPlayerId(GetTriggerPlayer())] ) then
                    return
                endif
                if s__NinpouShop_visible[this] and s__NinpouShop_enabled[this] then
                    if BlzGetTriggerPlayerKey() == OSKEY_ESCAPE then
                        if GetLocalPlayer() == Player(s__NinpouShop_id[this]) and s__NinpouShop_u[this] != null and GetWidgetLife(s__NinpouShop_u[this]) > 0.405 then
                            //call SelectUnit(this.u, true)
                        endif
                        call BlzFrameSetVisible(s__NinpouShop_box[this], false)
                        set s__NinpouShop_visible[this]=false
                    elseif BlzGetTriggerPlayerKey() == OSKEY_1 then
                        call BlzFrameClick(s__NinpouShop_shop1[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop1[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_2 then
                        call BlzFrameClick(s__NinpouShop_shop2[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop2[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_3 then
                        call BlzFrameClick(s__NinpouShop_shop3[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop3[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_4 then
                        call BlzFrameClick(s__NinpouShop_shop4[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop4[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_5 then
                        call BlzFrameClick(s__NinpouShop_shop5[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop5[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_6 then
                        call BlzFrameClick(s__NinpouShop_shop6[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop6[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_7 then
                        call BlzFrameClick(s__NinpouShop_shop7[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop7[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_8 then
                        call BlzFrameClick(s__NinpouShop_shop8[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop8[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_9 then
                        call BlzFrameClick(s__NinpouShop_shop9[this])
                        call BlzFrameSetFocus(s__NinpouShop_shop9[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_Q then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_W then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+1]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_E then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+2]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_R then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+3]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_A then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+4]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_S then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+5]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_D then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+6]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_F then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+7]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_Z then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+8]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_X then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+9]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_C then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+10]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_V then
                        call BlzFrameClick(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+11]])
                    elseif BlzGetTriggerPlayerKey() == OSKEY_TAB then
                        call BlzFrameSetFocus(s__NinpouShop_search[this], true)
                    elseif BlzGetTriggerPlayerKey() == OSKEY_B then
                        call s__NinpouShop_buyItems()
                    endif
                elseif ( not s__NinpouShop_visible[this] and udg_units33[s__NinpouShop_id[this] + 1] != null ) or id > 11 then
                    if BlzGetTriggerPlayerMetaKey() == 4 then
                        if BlzGetTriggerPlayerKey() == OSKEY_1 then
                            loop
                                exitwhen i > 11
                                if IsPlayerAlly(Player(i), GetTriggerPlayer()) then
                                    call DisplayTextToPlayer(Player(i), 0, 0, "|cffffff00" + GetUnitName(udg_units33[id + 1]) + ": Help me!|r")
                                    if GetLocalPlayer() == Player(i) then
                                        call PingMinimapEx(GetUnitX(udg_units33[id + 1]), GetUnitY(udg_units33[id + 1]), 5.0, 255, 255, 0, true)
                                    endif
                                endif
                                set i=i + 1
                            endloop
                        elseif BlzGetTriggerPlayerKey() == OSKEY_2 then
                            set u=null
                            set bj_lastCreatedGroup=CreateGroup()
                            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__s__NinpouUI_mouse_world_x[id], s__s__NinpouUI_mouse_world_y[id], 1000, null)
                            loop
                                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                                exitwhen bj_lastCreatedUnit == null
                                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                                if IsUnitEnemy(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitVisible(bj_lastCreatedUnit, GetTriggerPlayer()) and ( u == null or GetDistance(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , s__s__NinpouUI_mouse_world_x[id] , s__s__NinpouUI_mouse_world_y[id]) < GetDistance(GetUnitX(u) , GetUnitY(u) , s__s__NinpouUI_mouse_world_x[id] , s__s__NinpouUI_mouse_world_y[id]) ) then
                                    set u=bj_lastCreatedUnit
                                endif
                            endloop
                            call DestroyGroup(bj_lastCreatedGroup)
                            if u != null then
                                loop
                                    exitwhen i > 11
                                    if IsPlayerAlly(Player(i), GetTriggerPlayer()) then
                                        call DisplayTextToPlayer(Player(i), 0, 0, "|cffffff00" + GetUnitName(udg_units33[id + 1]) + ": Focus |cffff0000" + GetUnitName(u) + "|cffffff00!|r")
                                        if GetLocalPlayer() == Player(i) then
                                            call PingMinimapEx(GetUnitX(u), GetUnitY(u), 5.0, 255, 255, 0, true)
                                        endif
                                    endif
                                    set i=i + 1
                                endloop
                            endif
                        elseif BlzGetTriggerPlayerKey() == OSKEY_3 then
                            set u=null
                            set bj_lastCreatedGroup=CreateGroup()
                            call GroupEnumUnitsInRange(bj_lastCreatedGroup, s__s__NinpouUI_mouse_world_x[id], s__s__NinpouUI_mouse_world_y[id], 1000, null)
                            loop
                                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                                exitwhen bj_lastCreatedUnit == null
                                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                                if IsUnitAlly(bj_lastCreatedUnit, GetTriggerPlayer()) and IsUnitType(bj_lastCreatedUnit, UNIT_TYPE_HERO) == true and GetWidgetLife(bj_lastCreatedUnit) > 0.405 and IsUnitVisible(bj_lastCreatedUnit, GetTriggerPlayer()) and ( u == null or GetDistance(GetUnitX(bj_lastCreatedUnit) , GetUnitY(bj_lastCreatedUnit) , s__s__NinpouUI_mouse_world_x[id] , s__s__NinpouUI_mouse_world_y[id]) < GetDistance(GetUnitX(u) , GetUnitY(u) , s__s__NinpouUI_mouse_world_x[id] , s__s__NinpouUI_mouse_world_y[id]) ) then
                                    set u=bj_lastCreatedUnit
                                endif
                            endloop
                            call DestroyGroup(bj_lastCreatedGroup)
                            if u != null then
                                loop
                                    exitwhen i > 11
                                    if IsPlayerAlly(Player(i), GetTriggerPlayer()) then
                                        if u == udg_units33[i + 1] then
                                            call DisplayTextToPlayer(Player(i), 0, 0, "|cffffff00" + GetUnitName(udg_units33[id + 1]) + ": I'm retreating!|r")
                                            if GetLocalPlayer() == Player(i) then
                                               call PingMinimapEx(GetUnitX(u), GetUnitY(u), 5.0, 255, 255, 0, true)
                                            endif
                                        else
                                            call DisplayTextToPlayer(Player(i), 0, 0, "|cffffff00" + GetUnitName(udg_units33[id + 1]) + ": Retreat, |cffff0000" + GetUnitName(u) + "|cffffff00!|r")
                                            if GetLocalPlayer() == Player(i) then
                                                call PingMinimapEx(GetUnitX(u), GetUnitY(u), 5.0, 255, 255, 0, true)
                                            endif
                                        endif
                                    endif
                                    set i=i + 1
                                endloop
                            endif
                        elseif BlzGetTriggerPlayerKey() == OSKEY_4 then
			    loop
                                exitwhen i > 11
                                if IsPlayerAlly(Player(i), GetTriggerPlayer()) then
                            		call DisplayTextToPlayer(Player(i), 0, 0, "|cffffff00" + GetUnitName(udg_units33[id + 1]) + ": Engage!|r")
					if GetLocalPlayer() == Player(i) then
                            		call PingMinimapEx(s__s__NinpouUI_mouse_world_x[id], s__s__NinpouUI_mouse_world_y[id], 5.0, 255, 255, 0, true)
					endif
				endif
                                set i=i + 1
                            endloop
                        elseif BlzGetTriggerPlayerKey() == OSKEY_5 then
			    loop
                                exitwhen i > 11
                                if IsPlayerAlly(Player(i), GetTriggerPlayer()) then
                                    if GetLocalPlayer() == Player(i) then
                            		call DisplayTextToPlayer(Player(i), 0, 0, "|cffffff00" + GetUnitName(udg_units33[id + 1]) + ": I'm on cooldown!|r")
                                        call PingMinimapEx(GetUnitX(udg_units33[id + 1]), GetUnitY(udg_units33[id + 1]), 5.0, 255, 255, 0, true)
                                    endif
                                endif
                                set i=i + 1
                            endloop
                        elseif BlzGetTriggerPlayerKey() == OSKEY_6 then
			    loop
                                exitwhen i > 11
                                if IsPlayerAlly(Player(i), GetTriggerPlayer()) then
                            	    call DisplayTextToPlayer(Player(i), 0, 0, "|cffffff00" + GetUnitName(udg_units33[id + 1]) + ": Ultimate is ready!|r")
                                    if GetLocalPlayer() == Player(i) then
                                        call PingMinimapEx(GetUnitX(udg_units33[id + 1]), GetUnitY(udg_units33[id + 1]), 5.0, 255, 255, 0, true)
                                    endif
                                endif
                                set i=i + 1
                            endloop
                        endif
                    else
                        if BlzGetTriggerPlayerKey() == OSKEY_O then
                            //if NinpouShop.shops[this.id].enabled then 
                            //    call this.show()
                           // endif 
                        elseif BlzGetTriggerPlayerKey() == OSKEY_1 then
                            call s__NinpouUI_useItem(s__NinpouShop_id[this] , 1)
                        elseif BlzGetTriggerPlayerKey() == OSKEY_2 then
                            call s__NinpouUI_useItem(s__NinpouShop_id[this] , 2)
                        elseif BlzGetTriggerPlayerKey() == OSKEY_3 then
                            call s__NinpouUI_useItem(s__NinpouShop_id[this] , 3)
                        elseif BlzGetTriggerPlayerKey() == OSKEY_4 then
                            call s__NinpouUI_useItem(s__NinpouShop_id[this] , 4)
                        elseif BlzGetTriggerPlayerKey() == OSKEY_5 then
                            call s__NinpouUI_useItem(s__NinpouShop_id[this] , 5)
                        elseif BlzGetTriggerPlayerKey() == OSKEY_6 then
                            call s__NinpouUI_useItem(s__NinpouShop_id[this] , 6)
                        elseif BlzGetTriggerPlayerKey() == OSKEY_TAB then
                            if BlzGetTriggerPlayerMetaKey() == 1 then
                                if GetLocalPlayer() == Player(s__NinpouShop_id[this]) then
                                    if IsMultiboardMinimized(udg_multiboard01) then
                                        call MultiboardMinimize(udg_multiboard01, false)
                                    else
                                        call MultiboardMinimize(udg_multiboard01, true)
                                    endif
                                endif
                            //else 
                            //    call thistype.hideStatsForPlayer(this.id)
                            endif
                        elseif BlzGetTriggerPlayerKey() == OSKEY_N then
                            set s__s__MusicS_intervals[GetPlayerId(GetTriggerPlayer())]= 0
                        elseif BlzGetTriggerPlayerKey() == OSKEY_P then
                        set s__s__MusicS_previous[GetPlayerId(GetTriggerPlayer())]= true
                            set s__s__MusicS_intervals[GetPlayerId(GetTriggerPlayer())]= 0
                        endif

                    endif
                endif
            endfunction 
            
            function s__NinpouUI_showShop takes nothing returns nothing
                if s__s__NinpouUI_new_ui_enabled[GetPlayerId(GetTriggerPlayer())] and not s__NinpouShop_visible[s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]] and s__NinpouShop_enabled[s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())]] then
                    call s__NinpouShop_show(s__s__NinpouShop_shops[GetPlayerId(GetTriggerPlayer())])
                    call TriggerSleepAction(0.0)
                    if GetLocalPlayer() == GetTriggerPlayer() then
                        call BlzFrameSetVisible(s__NinpouUI_shop_button, false)
                        call BlzFrameSetEnable(s__NinpouUI_shop_button, false)
                    endif
                    call TriggerSleepAction(0.0)
                    if GetLocalPlayer() == GetTriggerPlayer() then
                        call BlzFrameSetVisible(s__NinpouUI_shop_button, true)
                        call BlzFrameSetEnable(s__NinpouUI_shop_button, true)
                    endif
                endif
            endfunction 
            
            function s__NinpouUI_autobuyEnter takes nothing returns nothing
                if IsUnitType(GetEnteringUnit(), UNIT_TYPE_HERO) == true and GetEnteringUnit() == udg_units33[GetPlayerId(GetOwningPlayer(GetEnteringUnit())) + 1] and s__NinpouShop_autobuy[s__s__NinpouShop_shops[GetPlayerId(GetOwningPlayer(GetEnteringUnit()))]] then
                    call s__NinpouShop_buyItemsForPlayer(s__s__NinpouShop_shops[GetPlayerId(GetOwningPlayer(GetEnteringUnit()))],GetEnteringUnit())
                endif
            endfunction 
            
            function s__NinpouUI_resetElements takes integer id returns nothing
                local integer i= 0
                local integer j= 0
                local integer index= id
                
                if GetLocalPlayer() == Player(id) then
                    call BlzFrameSetAbsPoint(s__s__NinpouUI_cmd1[id], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd_buttons_x[id], s__s__NinpouUI_cmd_buttons_y[id])
                    call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_items_button_x[id], s__s__NinpouUI_items_button_y[id])
                    //call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMLEFT, 0.019, 0.013)
                    
                    // Hero skills 
                    set s__s__NinpouUI_command_hero_building[id]= true
                    call s__NinpouUI_resetCommandButtons(id)
                    
                    // HP and MP bar
                    set i=index
                    call BlzFrameSetPoint(s__s__NinpouUI_hpbar[i], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_BOTTOMLEFT, 0, - 0.0025)
                    call BlzFrameSetPoint(s__s__NinpouUI_manabar[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_hpbar[i], FRAMEPOINT_BOTTOMLEFT, 0, - 0.0025)
                    call BlzFrameSetPoint(s__s__NinpouUI_move_cmd_buttons[i], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_manabar[i], FRAMEPOINT_BOTTOMRIGHT, 0, 0)
                    
                    // Items 
                    set i=index
                    call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_items_button_x[i], s__s__NinpouUI_items_button_y[i])
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 4), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 3), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 4), FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 2), FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_TOPLEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 1), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 2), FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 0), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 1), FRAMEPOINT_LEFT, 0, 0)
                    
                    // Bank 
                    call BlzFrameSetAbsPoint(s__s__NinpouUI_bank_buttons[2], FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_bank_button_x[i], s__s__NinpouUI_bank_button_y[i])
                
                    // Lumber/gold 
                    call BlzFrameSetPoint(s__NinpouUI_resource_lumber, FRAMEPOINT_BOTTOMRIGHT, s__NinpouUI_shop_button, FRAMEPOINT_BOTTOMLEFT, - 0.005, - 0.0023)
                    call BlzFrameSetPoint(s__NinpouUI_resource_gold, FRAMEPOINT_BOTTOMRIGHT, s__NinpouUI_resource_lumber, FRAMEPOINT_TOPRIGHT, 0, 0)
                    call BlzFrameSetAbsPoint(s__NinpouUI_resource_food, FRAMEPOINT_TOP, 0, 0)
                    
                    // Menu buttons 
                    call BlzFrameSetSize(s__NinpouUI_chat_button, BlzFrameGetWidth(s__NinpouUI_chat_button) - 0.01, BlzFrameGetHeight(s__NinpouUI_chat_button))
                    call BlzFrameSetAbsPoint(s__NinpouUI_menu_button, FRAMEPOINT_TOPRIGHT, 0.34, 0.6)
                    call BlzFrameSetPoint(s__NinpouUI_quest_button, FRAMEPOINT_RIGHT, s__NinpouUI_menu_button, FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetAbsPoint(s__NinpouUI_allies_button, FRAMEPOINT_TOPLEFT, 0.463, 0.6)
                    call BlzFrameSetPoint(s__NinpouUI_chat_button, FRAMEPOINT_LEFT, s__NinpouUI_allies_button, FRAMEPOINT_RIGHT, 0, 0)
                    
                    // XP bar 
                    call BlzFrameSetSize(s__NinpouUI_hero_level_bar, 0.265, 0.012)
                    call BlzFrameSetSize(s__NinpouUI_hero_progress_indicator, 0.267, 0.015)
                    call BlzFrameSetPoint(s__NinpouUI_hero_level_bar, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                    call BlzFrameSetPoint(s__NinpouUI_hero_progress_indicator, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                    call BlzFrameSetPoint(s__NinpouUI_hero_name, FRAMEPOINT_CENTER, s__NinpouUI_hero_level_bar, FRAMEPOINT_CENTER, 0, 0.016)
                    
                    // Stats panel
                    

                    // Hero portrait 
                    //call BlzFrameClearAllPoints(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0))
                    //call BlzFrameSetVisible(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0), true)
                    //call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0), FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0, 0)
                    //call BlzFrameSetSize(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0), 0.12, 0.135)
                
                    // Unit stats 
                    call BlzFrameSetPoint(s__NinpouUI_unit_attack, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.005, 0.03)
                    call BlzFrameSetPoint(s__NinpouUI_unit_armor, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.005, 0.0)
                    call BlzFrameSetPoint(s__NinpouUI_unit_food, FRAMEPOINT_BOTTOM, BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), FRAMEPOINT_BOTTOM, - 1, - 1)
                    call BlzFrameSetPoint(s__NinpouUI_hero_attributes, FRAMEPOINT_BOTTOMLEFT, s__NinpouUI_unit_attack, FRAMEPOINT_TOPLEFT, - 0.0027, 0.011)
                    
                    // Tooltip
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_UBERTOOLTIP, 0), FRAMEPOINT_BOTTOMLEFT, s__NinpouUI_hero_level_bar, FRAMEPOINT_TOPLEFT, 0, 0.02)
                    
                    // Move stats button 
                    call BlzFrameSetPoint(s__NinpouUI_hide_stats_button, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.1, 0)
                    call BlzFrameSetSize(s__NinpouUI_hide_stats_button, 0.02, 0.02)
                endif
            endfunction 
            
            function s__NinpouUI_clearElements takes player p returns nothing
                local integer i= 0
                local integer j= 0
                local integer index= GetPlayerId(p)
            
                // UI tiles 
                call BlzFrameSetTexture(s__NinpouUI_tile1, "UI_Tile_1.blp", 0, true)
                call BlzFrameSetSize(s__NinpouUI_tile1, 0.256, 0.17)
                call BlzFrameSetTexture(s__NinpouUI_tile2, "UI_Tile_2.blp", 0, true)
                call BlzFrameSetSize(s__NinpouUI_tile2, 0.256, 0.17)
                call BlzFrameSetTexture(s__NinpouUI_tile3, "UI_Tile_3.blp", 0, true)
                call BlzFrameSetSize(s__NinpouUI_tile3, 0.256, 0.17)
                call BlzFrameSetTexture(s__NinpouUI_tile4, "UI_Tile_4.blp", 0, true)
                call BlzFrameSetSize(s__NinpouUI_tile4, 0.032, 0.17)
                call BlzFrameSetTexture(s__NinpouUI_tile5, "UI_Bank.blp", 0, true)
                call BlzFrameSetSize(s__NinpouUI_tile5, 0.118, 0.08)
                call BlzFrameClearAllPoints(s__NinpouUI_tile1)
                call BlzFrameClearAllPoints(s__NinpouUI_tile2)
                call BlzFrameClearAllPoints(s__NinpouUI_tile3)
                call BlzFrameClearAllPoints(s__NinpouUI_tile4)
                call BlzFrameSetPoint(s__NinpouUI_tile1, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMLEFT, - 0.019, - 0.013)
                call BlzFrameSetPoint(s__NinpouUI_tile2, FRAMEPOINT_BOTTOMLEFT, s__NinpouUI_tile1, FRAMEPOINT_BOTTOMRIGHT, 0, 0)
                call BlzFrameSetPoint(s__NinpouUI_tile4, FRAMEPOINT_BOTTOMRIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_BOTTOMRIGHT, 0.015, - 0.007)
                call BlzFrameSetPoint(s__NinpouUI_tile3, FRAMEPOINT_BOTTOMRIGHT, s__NinpouUI_tile4, FRAMEPOINT_BOTTOMLEFT, 0, 0)

                set i=index
                call BlzFrameSetAbsPoint(s__s__NinpouUI_cmd1[i], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd_buttons_x[i], s__s__NinpouUI_cmd_buttons_y[i])
                call BlzFrameSetPoint(s__s__NinpouUI_cmd2[i], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd1[i], FRAMEPOINT_BOTTOMRIGHT, 0, 0)
                call BlzFrameSetTexture(s__s__NinpouUI_cmd1[i], "UI_Command_1.blp", 0, true)
                call BlzFrameSetSize(s__s__NinpouUI_cmd1[i], 0.256, 0.17)
                call BlzFrameSetTexture(s__s__NinpouUI_cmd2[i], "UI_Command_2.blp", 0, true)
                call BlzFrameSetSize(s__s__NinpouUI_cmd2[i], 0.256, 0.17)
                
                // Buff bar 
                call BlzFrameClearAllPoints(BlzGetOriginFrame(ORIGIN_FRAME_UNIT_PANEL_BUFF_BAR, 0))
                call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_UNIT_PANEL_BUFF_BAR, 0), FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0.03, 0.025)
                
                // Hotkey indicators 
                set i=index
                set j=4
                loop
                    exitwhen j > 10
                    if j == 4 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicators[(i)*(12)+j], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_4", 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 5 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicators[(i)*(12)+j], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_6", 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 6 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicators[(i)*(12)+j], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 7 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicators[(i)*(12)+j], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_9", 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 8 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicators[(i)*(12)+j], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_10", 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 9 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicators[(i)*(12)+j], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_11", 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 10 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicators[(i)*(12)+j], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_7", 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    endif
                    call BlzFrameSetSize(s__s__NinpouUI_indicators[(i)*(12)+j], 0.013, 0.013)
                    set j=j + 1
                endloop
                
                // XP bar 
                set s__NinpouUI_hero_level_bar=BlzGetFrameByName("SimpleHeroLevelBar", 0)
                set s__NinpouUI_hero_progress_indicator=BlzGetFrameByName("SimpleProgressIndicator", 0)
                set s__NinpouUI_hero_name=BlzGetFrameByName("SimpleNameValue", 0)
                call BlzFrameClearAllPoints(s__NinpouUI_hero_level_bar)
                call BlzFrameClearAllPoints(s__NinpouUI_hero_progress_indicator)
                call BlzFrameClearAllPoints(s__NinpouUI_hero_name)
                
                // Unit stats 
                set s__NinpouUI_unit_attack=BlzGetFrameByName("InfoPanelIconBackdrop", 0)
                set s__NinpouUI_unit_armor=BlzGetFrameByName("InfoPanelIconBackdrop", 2)
                set s__NinpouUI_unit_food=BlzGetFrameByName("InfoPanelIconBackdrop", 4)
                set s__NinpouUI_hero_attributes=BlzGetFrameByName("SimpleInfoPanelIconHero", 6)
                call BlzFrameClearAllPoints(s__NinpouUI_unit_attack)
                call BlzFrameClearAllPoints(s__NinpouUI_unit_armor)
                call BlzFrameClearAllPoints(s__NinpouUI_unit_food)
                call BlzFrameClearAllPoints(s__NinpouUI_hero_attributes)
                
                // Stats panel 
                //set stats_panel = BlzGetFrameByName("SimpleUnitStatsPanel", 0)
                //call BlzFrameClearAllPoints(stats_panel)
                    
                // Tooltip 
                call BlzFrameClearAllPoints(BlzGetOriginFrame(ORIGIN_FRAME_UBERTOOLTIP, 0))
                    
                // HP and MP bar
                set i=0
                loop
                    exitwhen i > 23
                    call BlzFrameSetSize(s__s__NinpouUI_hpbar[i], 0.267, 0.012)
                    call BlzFrameSetSize(s__s__NinpouUI_manabar[i], 0.267, 0.012)
                    call BlzFrameSetSize(s__s__NinpouUI_move_cmd_buttons[i], 0.02, 0.02)
                    set i=i + 1
                endloop
                
                // Hotkey indicators for items 
                set j=0
                loop
                    exitwhen j > 5
                    call BlzFrameSetSize(s__s__NinpouUI_indicator_items[j], 0.013, 0.013)
                    if j == 0 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_items[j], FRAMEPOINT_TOPLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 1 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_items[j], FRAMEPOINT_TOPLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 4), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 2 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_items[j], FRAMEPOINT_TOPLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 3), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 3 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_items[j], FRAMEPOINT_TOPLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 2), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 4 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_items[j], FRAMEPOINT_TOPLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 1), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif j == 5 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_items[j], FRAMEPOINT_TOPLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 0), FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    endif
                    set j=j + 1
                endloop
                
                // Shop button
                call BlzFrameSetSize(s__NinpouUI_shop_button, 0.05, 0.035)
                call BlzFrameSetPoint(s__NinpouUI_shop_button, FRAMEPOINT_BOTTOMRIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 2), FRAMEPOINT_TOPRIGHT, 0.01, 0)
                
                // Autobuy button 
                call BlzFrameSetSize(s__NinpouUI_autobuy_button, 0.05, 0.035)
                call BlzFrameSetPoint(s__NinpouUI_autobuy_button, FRAMEPOINT_BOTTOMRIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 2), FRAMEPOINT_TOPRIGHT, 0.01, 0)
                //call BlzFrameSetPoint(autobuy_button, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 0), FRAMEPOINT_TOPLEFT, -0.01, 0.038)

                // Move inventory button 
                call BlzFrameSetPoint(s__NinpouUI_move_items_button, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_BOTTOMRIGHT, 0, 0)
                call BlzFrameSetSize(s__NinpouUI_move_items_button, 0.02, 0.02)

                // Bank buttons 
                set i=0
                loop
                    exitwhen i > 5
                    call BlzFrameSetSize(s__s__NinpouUI_bank_buttons[i], 0.03, 0.03)
                    set i=i + 1
                endloop
                set i=index
                //call BlzFrameSetAbsPoint(bank_buttons[2], FRAMEPOINT_BOTTOMRIGHT, bank_button_x[i], bank_button_y[i])
                call BlzFrameSetPoint(s__s__NinpouUI_bank_buttons[1], FRAMEPOINT_RIGHT, s__s__NinpouUI_bank_buttons[2], FRAMEPOINT_LEFT, 0, 0)
                call BlzFrameSetPoint(s__s__NinpouUI_bank_buttons[0], FRAMEPOINT_RIGHT, s__s__NinpouUI_bank_buttons[1], FRAMEPOINT_LEFT, 0, 0)
                call BlzFrameSetPoint(s__s__NinpouUI_bank_buttons[5], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[2], FRAMEPOINT_BOTTOMLEFT, 0, 0)
                call BlzFrameSetPoint(s__s__NinpouUI_bank_buttons[4], FRAMEPOINT_RIGHT, s__s__NinpouUI_bank_buttons[5], FRAMEPOINT_LEFT, 0, 0)
                call BlzFrameSetPoint(s__s__NinpouUI_bank_buttons[3], FRAMEPOINT_RIGHT, s__s__NinpouUI_bank_buttons[4], FRAMEPOINT_LEFT, 0, 0)
                call BlzFrameSetPoint(s__NinpouUI_tile5, FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[0], FRAMEPOINT_TOPLEFT, - 0.0135, 0.014)
                
                // Hotkey button
                call BlzFrameSetSize(s__NinpouUI_hotkey_button, 0.1, 0.035)
                call BlzFrameSetPoint(s__NinpouUI_hotkey_button, FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_bank_buttons[0], FRAMEPOINT_TOPLEFT, 0, 0.01)
                
                // Move bank button 
                call BlzFrameSetPoint(s__NinpouUI_move_bank_button, FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_bank_buttons[5], FRAMEPOINT_BOTTOMRIGHT, 0, 0)
                call BlzFrameSetSize(s__NinpouUI_move_bank_button, 0.02, 0.02)
                
                // Hotkey indicators for banks 
                set i=0
                loop
                    exitwhen i > 5
                    call BlzFrameSetSize(s__s__NinpouUI_indicator_bank_buttons[i], 0.013, 0.013)
                    if i == 0 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_bank_buttons[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[5], FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif i == 1 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_bank_buttons[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[4], FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif i == 2 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_bank_buttons[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[3], FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif i == 3 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_bank_buttons[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[2], FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif i == 4 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_bank_buttons[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[1], FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    elseif i == 5 then
                        call BlzFrameSetPoint(s__s__NinpouUI_indicator_bank_buttons[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_bank_buttons[0], FRAMEPOINT_TOPLEFT, 0.002, - 0.002)
                    endif
                    set i=i + 1
                endloop
            endfunction

            function s__NinpouUI_initializeElementsForPlayer takes player p returns nothing
                local trigger moveCmdTriggerDown
                local trigger moveItemTriggerDown
                local trigger moveBankTriggerDown
                local trigger shopTrigger
                local trigger hotkeyTrigger
                local trigger mouseMoveTrigger
                local trigger mouseUpTrigger
                local trigger playerChatTrigger
                local trigger hideStatsTrigger
                local trigger autobuyTrigger
                local framehandle fh
                local framehandle shopbuttontext
                local framehandle box
                local framehandle button2
                local integer i= 0
                local integer j= 0
                local integer k= 0
                local unit localUnit

                // Minimap 
                call BlzFrameSetVisible(BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), true)

                // UI tiles 
                call BlzFrameSetVisible(s__NinpouUI_tile1, true)
                call BlzFrameSetVisible(s__NinpouUI_tile2, true)
                call BlzFrameSetVisible(s__NinpouUI_tile3, true)
                call BlzFrameSetVisible(s__NinpouUI_tile4, true)
                call BlzFrameSetVisible(s__NinpouUI_tile5, true)

                // Hide 3D Face
                call BlzFrameSetVisible(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0), false)
                
                // Skill buttons 
                set i=0
                loop
                    exitwhen i > 11
                    set button2=BlzGetFrameByName("CommandButton_" + I2S(i), 0)
                    call BlzFrameClearAllPoints(button2)
                    if i < 4 or i == 5 then
                        call BlzFrameSetAbsPoint(button2, FRAMEPOINT_TOPLEFT, - 1, - 1)
                    endif
                    set i=i + 1
                endloop
                
                // Hotkey indicators 
                set k=0
                set i=GetPlayerId(p)
                set j=4
                loop
                    exitwhen j > 10
                    call BlzFrameSetVisible(s__s__NinpouUI_indicators[(i)*(12)+j], true)
                    set j=j + 1
                    set k=k + 1
                endloop
                
                // HP and MP bar
                call BlzFrameSetVisible(s__s__NinpouUI_hpbar[i], true)
                call BlzFrameSetVisible(s__s__NinpouUI_manabar[i], true)
                call BlzFrameSetVisible(s__s__NinpouUI_move_cmd_buttons[i], false)
                
                // Items
                set i=0
                loop
                    exitwhen i > 5
                    call BlzFrameClearAllPoints(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, i))
                    set i=i + 1
                endloop
                
                // Shop button
                //call BlzFrameSetVisible(shop_button, true)
                
				// Hotkey button 
                call BlzFrameSetVisible(s__NinpouUI_hotkey_button, true)

                // Autobuy button 
                call BlzFrameSetVisible(s__NinpouUI_autobuy_button, true)

                // Lumber/gold
                set s__NinpouUI_resource_lumber=BlzGetFrameByName("ResourceBarLumberText", 0)
                set s__NinpouUI_resource_gold=BlzGetFrameByName("ResourceBarGoldText", 0)
                set s__NinpouUI_resource_food=BlzGetFrameByName("ResourceBarSupplyText", 0)
                call BlzFrameSetText(BlzGetFrameByName("ResourceBarUpkeepText", 0), "")
                call BlzFrameClearAllPoints(s__NinpouUI_resource_lumber)
                call BlzFrameClearAllPoints(s__NinpouUI_resource_gold)
                call BlzFrameClearAllPoints(s__NinpouUI_resource_food)

                // Bank 
                set i=0
                loop
                    exitwhen i > 5
                    call BlzFrameSetVisible(s__s__NinpouUI_bank_buttons[i], true)
                    set i=i + 1
                endloop
                
                // Hotkey indicators for banks 
                set i=0
                loop
                    exitwhen i > 5
                    call BlzFrameSetVisible(s__s__NinpouUI_indicator_bank_buttons[i], true)
                    call BlzFrameSetVisible(s__s__NinpouUI_indicator_items[i], true)
                    set i=i + 1
                    set k=k + 1
                endloop

                // Hide stats button 
                call BlzFrameSetVisible(s__NinpouUI_move_items_button, true)
                call BlzFrameSetVisible(s__NinpouUI_move_bank_button, true)
                call BlzFrameSetVisible(s__NinpouUI_hide_stats_button, true)
                
                // Menu buttons
                set s__NinpouUI_menu_button=BlzGetFrameByName("UpperButtonBarMenuButton", 0)
                set s__NinpouUI_quest_button=BlzGetFrameByName("UpperButtonBarQuestsButton", 0)
                set s__NinpouUI_allies_button=BlzGetFrameByName("UpperButtonBarAlliesButton", 0)
                set s__NinpouUI_chat_button=BlzGetFrameByName("UpperButtonBarChatButton", 0)
                call BlzFrameClearAllPoints(s__NinpouUI_menu_button)
                call BlzFrameClearAllPoints(s__NinpouUI_quest_button)
                call BlzFrameClearAllPoints(s__NinpouUI_allies_button)
                call BlzFrameClearAllPoints(s__NinpouUI_chat_button)

                call s__NinpouUI_clearElements(p)
            endfunction 
        
            function s__NinpouUI_initializeElements takes nothing returns nothing
                local trigger moveCmdTriggerDown
                local trigger moveItemTriggerDown
                local trigger moveBankTriggerDown
                local trigger shopTrigger
                local trigger hotkeyTrigger
                local trigger mouseMoveTrigger
                local trigger mouseUpTrigger
                local trigger playerChatTrigger
                local trigger hideStatsTrigger
                local trigger autobuyTrigger
                local trigger newuiTrigger
                local framehandle fh
                local framehandle shopbuttontext
                local framehandle box
                local framehandle button2
                local framehandle newuitext
                local integer i= 0
                local integer j= 0
                local integer k= 0
                local unit localUnit
                
                set s__NinpouUI_cam=s__Camera_create()

                // UI tiles 
                set s__NinpouUI_tile1=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, 0)
                set s__NinpouUI_tile2=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, 0)
                set s__NinpouUI_tile3=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, 0)
                set s__NinpouUI_tile4=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, 0)
                set s__NinpouUI_tile5=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, 0)
                call BlzFrameSetVisible(s__NinpouUI_tile1, false)
                call BlzFrameSetVisible(s__NinpouUI_tile2, false)
                call BlzFrameSetVisible(s__NinpouUI_tile3, false)
                call BlzFrameSetVisible(s__NinpouUI_tile4, false)
                call BlzFrameSetVisible(s__NinpouUI_tile5, false)

                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouUI_cmd1[i]= BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, i)
                    set s__s__NinpouUI_cmd2[i]= BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 0, i)
                    if GetPlayerId(GetLocalPlayer()) != i then
                        call BlzFrameSetVisible(s__s__NinpouUI_cmd1[i], false)
                        call BlzFrameSetVisible(s__s__NinpouUI_cmd2[i], false)
                    endif
                    set s__s__NinpouUI_cmd_buttons_x[i]= 0.196
                    set s__s__NinpouUI_cmd_buttons_y[i]= 0.0
                    set s__s__NinpouUI_mouse_cmd_down[i]= false
                    set i=i + 1
                endloop
                
                // Skill buttons 
                set i=0
                loop
                    exitwhen i > 11
                    set button2=BlzGetFrameByName("CommandButton_" + I2S(i), 0)
                    set i=i + 1
                endloop
                
                // XP bar 
                set s__NinpouUI_hero_level_bar=BlzGetFrameByName("SimpleHeroLevelBar", 0)
                set s__NinpouUI_hero_progress_indicator=BlzGetFrameByName("SimpleProgressIndicator", 0)
                set s__NinpouUI_hero_name=BlzGetFrameByName("SimpleNameValue", 0)
                
                // Unit stats 
                set s__NinpouUI_unit_attack=BlzGetFrameByName("InfoPanelIconBackdrop", 0)
                set s__NinpouUI_unit_armor=BlzGetFrameByName("InfoPanelIconBackdrop", 2)
                set s__NinpouUI_unit_food=BlzGetFrameByName("InfoPanelIconBackdrop", 4)
                set s__NinpouUI_hero_attributes=BlzGetFrameByName("SimpleInfoPanelIconHero", 6)
                
                // Hotkey indicators 
                set k=0
                set i=0
                loop
                    exitwhen i > 23
                    set j=4
                    loop
                        exitwhen j > 10
                        set s__s__NinpouUI_indicators[(i)*(12)+j]= BlzCreateFrame("BoxedText", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, k)
                        if j == 4 then
                            call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "X")
                        elseif j == 5 then
                            call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "D")
                        elseif j == 6 then
                            call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "Q")
                        elseif j == 7 then
                            call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "W")
                        elseif j == 8 then
                            call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "E")
                        elseif j == 9 then
                            call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "R")
                        elseif j == 10 then
                            call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "T")
                        endif
                        call BlzFrameSetVisible(s__s__NinpouUI_indicators[(i)*(12)+j], false)
                        set j=j + 1
                        set k=k + 1
                    endloop
                    set i=i + 1
                endloop
                
                // HP and MP bar
                set moveCmdTriggerDown=CreateTrigger()
                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouUI_hpbar[i]= BlzCreateSimpleFrame("MyStatusBarBordered", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), i)
                    call BlzFrameSetTexture(s__s__NinpouUI_hpbar[i], "Replaceabletextures\\Teamcolor\\Teamcolor22.blp", 0, true)
                    set s__s__NinpouUI_manabar[i]= BlzCreateSimpleFrame("MyStatusBarBordered", BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), 24 + i)
                    call BlzFrameSetTexture(s__s__NinpouUI_manabar[i], "Replaceabletextures\\Teamcolor\\Teamcolor02.blp", 0, true)

                    // Move button 
                    set s__s__NinpouUI_move_cmd_buttons[i]= BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 24 + i)
                    call BlzFrameSetText(BlzGetFrameByName("ScriptDialogButtonText", 24 + i), "x")
                    call BlzTriggerRegisterFrameEvent(moveCmdTriggerDown, s__s__NinpouUI_move_cmd_buttons[i], FRAMEEVENT_CONTROL_CLICK)
                    
                    call BlzFrameSetVisible(s__s__NinpouUI_hpbar[i], false)
                    call BlzFrameSetVisible(s__s__NinpouUI_manabar[i], false)
                    call BlzFrameSetVisible(s__s__NinpouUI_move_cmd_buttons[i], false)
                    
                    set i=i + 1
                endloop
                call TriggerAddAction(moveCmdTriggerDown, function s__NinpouUI_mouseCmdDown)
                
                // Hotkey indicators for items 
                set j=0
                loop
                    exitwhen j > 5
                    set s__s__NinpouUI_indicator_items[j]= BlzCreateFrame("BoxedText", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, k)
                    if j == 0 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "6")
                    elseif j == 1 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "5")
                    elseif j == 2 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "4")
                    elseif j == 3 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "3")
                    elseif j == 4 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "2")
                    elseif j == 5 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "1")
                    endif
                    call BlzFrameSetVisible(s__s__NinpouUI_indicator_items[j], false)
                    set k=k + 1
                    set j=j + 1
                endloop
                
                // Shop button
                set shopTrigger=CreateTrigger()
                call TriggerAddAction(shopTrigger, function s__NinpouUI_showShop)
                set s__NinpouUI_shop_button=BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)
                set shopbuttontext=BlzGetFrameByName("ScriptDialogButtonText", 0) //Get The buttons textChild
                call BlzFrameSetText(shopbuttontext, "Sh(o)p")
                call BlzTriggerRegisterFrameEvent(shopTrigger, s__NinpouUI_shop_button, FRAMEEVENT_CONTROL_CLICK)
                call BlzFrameSetVisible(s__NinpouUI_shop_button, false)
                
                // Lumber/gold
                set s__NinpouUI_resource_lumber=BlzGetFrameByName("ResourceBarLumberText", 0)
                set s__NinpouUI_resource_gold=BlzGetFrameByName("ResourceBarGoldText", 0)
                set s__NinpouUI_resource_food=BlzGetFrameByName("ResourceBarSupplyText", 0)
                call BlzFrameSetText(BlzGetFrameByName("ResourceBarUpkeepText", 0), "")

                // Bank 
                set i=0
                loop
                    exitwhen i > 5
                    set s__s__NinpouUI_bank_buttons[i]= BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)
                    call BlzFrameSetTexture(s__s__NinpouUI_bank_buttons[i], "ReplaceableTextures\\CommandButtons\\BTNblank.blp", 0, true)
                    call BlzFrameSetVisible(s__s__NinpouUI_bank_buttons[i], false)
                    set i=i + 1
                endloop
                
                // Hotkey indicators for banks 
                set i=0
                loop
                    exitwhen i > 5
                    set s__s__NinpouUI_indicator_bank_buttons[i]= BlzCreateFrame("BoxedText", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, k)
                    if i == 0 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "6")
                    elseif i == 1 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "5")
                    elseif i == 2 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "4")
                    elseif i == 3 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "3")
                    elseif i == 4 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "2")
                    elseif i == 5 then
                        call BlzFrameSetText(BlzGetFrameByName("BoxedTextTitle", k), "1")
                    endif
                    call BlzFrameSetVisible(s__s__NinpouUI_indicator_bank_buttons[i], false)
                    set i=i + 1
                    set k=k + 1
                endloop
                
                // Hotkey button 
                set hotkeyTrigger=CreateTrigger()
                call TriggerAddAction(hotkeyTrigger, function s__NinpouUI_disableHotkey)
                set s__NinpouUI_hotkey_button=BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)
                set s__NinpouUI_hotkey_button_text=BlzGetFrameByName("ScriptDialogButtonText", 0) //Get The buttons textChild
                call BlzFrameSetText(s__NinpouUI_hotkey_button_text, "Hotkeys ON")
                call BlzTriggerRegisterFrameEvent(hotkeyTrigger, s__NinpouUI_hotkey_button, FRAMEEVENT_CONTROL_CLICK)
                call BlzFrameSetVisible(s__NinpouUI_hotkey_button, false)
                
                // Autobuy button 
                set autobuyTrigger=CreateTrigger()
                call TriggerAddAction(autobuyTrigger, function s__NinpouUI_enableAutobuy)
                set s__NinpouUI_autobuy_button=BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)
                set s__NinpouUI_autobuy_button_text=BlzGetFrameByName("ScriptDialogButtonText", 0) //Get The buttons textChild
                call BlzFrameSetText(s__NinpouUI_autobuy_button_text, "Auto")
                call BlzTriggerRegisterFrameEvent(autobuyTrigger, s__NinpouUI_autobuy_button, FRAMEEVENT_CONTROL_CLICK)
                call BlzFrameSetVisible(s__NinpouUI_autobuy_button, false)
                
                // Find bank units 
                set bj_lastCreatedGroup=CreateGroup()
                call GroupEnumUnitsInRect(bj_lastCreatedGroup, GetPlayableMapRect(), null)
                loop
                    set localUnit=FirstOfGroup(bj_lastCreatedGroup)
                    exitwhen localUnit == null
                    if GetUnitTypeId(localUnit) == 'ncop' then
                        set s__s__NinpouUI_bank_unit[GetPlayerId(GetOwningPlayer(localUnit))]= localUnit
                    endif
                    call GroupRemoveUnit(bj_lastCreatedGroup, localUnit)
                endloop
                call DestroyGroup(bj_lastCreatedGroup)
                        
                // Create shops 
                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouShop_shops[i]= s__NinpouShop_create(i)
                    set s__NinpouShop_enabled[s__s__NinpouShop_shops[i]]=true
                    set s__s__NinpouShop_dummy_bank[i]= CreateUnit(Player(i), 'h01D', 5275, - 6082, 270)
                    set i=i + 1
                endloop
                
                // Move inventory button 
                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouUI_items_button_x[i]= 0.665
                    set s__s__NinpouUI_items_button_y[i]= 0.007
                    set s__s__NinpouUI_mouse_item_down[i]= false
                    set i=i + 1
                endloop
                set moveItemTriggerDown=CreateTrigger()
                set s__NinpouUI_move_items_button=BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 48)
                call BlzFrameSetText(BlzGetFrameByName("ScriptDialogButtonText", 48), "x")
                call BlzTriggerRegisterFrameEvent(moveItemTriggerDown, s__NinpouUI_move_items_button, FRAMEEVENT_CONTROL_CLICK)
                call TriggerAddAction(moveItemTriggerDown, function s__NinpouUI_mouseItemDown)
                call BlzFrameSetVisible(s__NinpouUI_move_items_button, false)
                
                // Move bank button 
                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouUI_mouse_bank_down[i]= false
                    set s__s__NinpouUI_bank_button_x[i]= 0.782 //0.665
                    set s__s__NinpouUI_bank_button_y[i]= 0.036 //0.142
                    set i=i + 1
                endloop
                set moveBankTriggerDown=CreateTrigger()
                set s__NinpouUI_move_bank_button=BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 50)
                call BlzFrameSetText(BlzGetFrameByName("ScriptDialogButtonText", 50), "x")
                call BlzTriggerRegisterFrameEvent(moveBankTriggerDown, s__NinpouUI_move_bank_button, FRAMEEVENT_CONTROL_CLICK)
                call TriggerAddAction(moveBankTriggerDown, function s__NinpouUI_mouseBankDown)
                call BlzFrameSetVisible(s__NinpouUI_move_bank_button, false)
                
                // Hide stats button 
                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouUI_stats_hidden[i]= false
                    set i=i + 1
                endloop
                set hideStatsTrigger=CreateTrigger()
                set s__NinpouUI_hide_stats_button=BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 49)
                call BlzFrameSetText(BlzGetFrameByName("ScriptDialogButtonText", 49), "↓")
                call BlzTriggerRegisterFrameEvent(hideStatsTrigger, s__NinpouUI_hide_stats_button, FRAMEEVENT_CONTROL_CLICK)
                call TriggerAddAction(hideStatsTrigger, function s__NinpouUI_hideStats)
                call BlzFrameSetVisible(s__NinpouUI_hide_stats_button, false)
                
                // Menu buttons
                set s__NinpouUI_menu_button=BlzGetFrameByName("UpperButtonBarMenuButton", 0)
                set s__NinpouUI_quest_button=BlzGetFrameByName("UpperButtonBarQuestsButton", 0)
                set s__NinpouUI_allies_button=BlzGetFrameByName("UpperButtonBarAlliesButton", 0)
                set s__NinpouUI_chat_button=BlzGetFrameByName("UpperButtonBarChatButton", 0)
                
                // Hotkey trigger 
                set hotkeyTrigger=CreateTrigger()
                set mouseMoveTrigger=CreateTrigger()
                set mouseUpTrigger=CreateTrigger()
                set playerChatTrigger=CreateTrigger()
                set autobuyTrigger=CreateTrigger()
                call TriggerRegisterEnterRectSimple(autobuyTrigger, gg_rct_KONOHA)
                call TriggerRegisterEnterRectSimple(autobuyTrigger, gg_rct_EVIL)
                call TriggerRegisterEnterRectSimple(autobuyTrigger, gg_rct_AKATSUKI)
                call TriggerAddAction(autobuyTrigger, function s__NinpouUI_autobuyEnter)
                set i=0
                loop
                    exitwhen i > 23
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_ESCAPE, 0, true)
                    set j=0
                    loop
                        exitwhen j > 4
                        call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_1, j, true)
                        call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_2, j, true)
                        call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_3, j, true)
                        call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_4, j, true)
                        call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_5, j, true)
                        call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_6, j, true)
                        set j=j + 1
                    endloop
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_7, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_8, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_9, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_Q, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_W, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_E, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_R, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_A, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_S, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_D, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_F, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_Z, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_X, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_C, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_V, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_B, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_O, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_P, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_N, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_TAB, 0, true)
                    call BlzTriggerRegisterPlayerKeyEvent(hotkeyTrigger, Player(i), OSKEY_TAB, 1, true)
                    
                    call TriggerRegisterPlayerMouseEventBJ(mouseMoveTrigger, Player(i), bj_MOUSEEVENTTYPE_MOVE)
                    call TriggerRegisterPlayerMouseEventBJ(mouseUpTrigger, Player(i), bj_MOUSEEVENTTYPE_UP)
                    call TriggerRegisterPlayerChatEvent(playerChatTrigger, Player(i), "-reset", true)
                    
                    set i=i + 1
                endloop
                call TriggerAddAction(hotkeyTrigger, function s__NinpouUI_hotkey)
                call TriggerAddAction(mouseMoveTrigger, function s__NinpouUI_mouseMove)
                call TriggerAddAction(mouseUpTrigger, function s__NinpouUI_mouseUp)
                call TriggerAddAction(playerChatTrigger, function s__NinpouUI_reset)
                
                set i=0
                loop
                    exitwhen i > 11
                    set fh=BlzGetFrameByName("CommandButton_" + I2S(i), 0)
                    call BlzFrameClearAllPoints(fh)
                    set i=i + 1
                endloop
                set i=0
                loop
                    exitwhen i > 5
                    set fh=BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, i)
                    call BlzFrameClearAllPoints(fh)
                    set i=i + 1
                endloop
            endfunction 
        
            //===========================================================================
            function s__NinpouUI_onInit takes nothing returns nothing
                local framehandle fh
                local integer i
                set fh=BlzGetOriginFrame(ORIGIN_FRAME_UNIT_MSG, 0)
                set fh=BlzGetOriginFrame(ORIGIN_FRAME_CHAT_MSG, 0)
                set fh=BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0)
                set fh=BlzGetFrameByName("ConsoleUI", 0)
                set fh=BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0)
                set fh=BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0)
                set fh=BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0)
                set fh=BlzGetOriginFrame(ORIGIN_FRAME_UNIT_PANEL_BUFF_BAR, 0)
                call BlzLoadTOCFile("war3mapimported\\mybar.toc")
                call BlzLoadTOCFile("war3mapimported\\mybackdrop.toc")
                call BlzLoadTOCFile("war3mapimported\\price.toc")
                call BlzLoadTOCFile("war3mapimported\\so.toc")
                call BlzLoadTOCFile("war3mapimported\\tooltip.toc")
                set i=0
                loop
                    exitwhen i > 11
                    set fh=BlzGetFrameByName("CommandButton_" + I2S(i), 0)
                    set i=i + 1
                endloop
                set i=0
                loop
                    exitwhen i > 5
                    set fh=BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, i)
                    set i=i + 1
                endloop
                set i=0
                loop
                    exitwhen i > 23
                    set s__s__NinpouUI_new_ui_enabled[i]= false
					set s__s__NinpouUI_hotkeys_enabled[i]= true
                    set s__s__NinpouUI_autobuy_enabled[i]= false
                    set s__s__NinpouUI_autobuy_count[i]= 0
                    set i=i + 1
                endloop
                    
                set s__NinpouUI_initialized=false

                call SelectUnit(gg_unit_N01R_0081, true)
                
                if GetPlayerSlotState(Player(12)) == PLAYER_SLOT_STATE_EMPTY then
                    // UI
                    call BlzFrameSetAllPoints(BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0))
                    if BlzGetFrameByName("ConsoleUI", 0) != null then
                        call BlzFrameSetAllPoints(BlzGetFrameByName("ConsoleUI", 0), BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0))
                        call BlzFrameSetPoint(BlzGetFrameByName("ConsoleUI", 0), FRAMEPOINT_BOTTOM, BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), FRAMEPOINT_BOTTOM, - 1, - 1)
                    else
                        call BlzFrameSetAllPoints(BlzGetFrameByName("ConsoleUIBackdrop", 0), BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0))
                        call BlzFrameSetPoint(BlzGetFrameByName("ConsoleUIBackdrop", 0), FRAMEPOINT_BOTTOM, BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), FRAMEPOINT_BOTTOM, - 1, - 1)
                    endif

                    // Minimap
                    call BlzFrameClearAllPoints(BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0))
                    call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMLEFT, 0.019, 0.013)
                    call BlzFrameSetSize(BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), 0.12, 0.135)
                    call BlzFrameSetVisible(BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), false)

                    // Chat 
                    call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_CHAT_MSG, 0), FRAMEPOINT_BOTTOMLEFT, 0.14, 0.19)
                    call BlzFrameSetSize(BlzGetOriginFrame(ORIGIN_FRAME_CHAT_MSG, 0), 0.8, 0.6 - 0.19)
                    
                    // Msg 
                    call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_UNIT_MSG, 0), FRAMEPOINT_BOTTOMLEFT, 0.05, 0.23)
                    call BlzFrameSetSize(BlzGetOriginFrame(ORIGIN_FRAME_UNIT_MSG, 0), 0.8, 0.6 - 0.23)
                endif

                call TimerStartEx((NewTimerEx(0)) , 1.0 , false , function s__NinpouUI_initializeElements , "UI_initializeElements") // INLINED!!
            endfunction


// scope NinpouUIS ends

//===========================================================================
// Trigger: PickScreen
//===========================================================================
//TESH.scrollpos=0
//TESH.alwaysfold=0

// scope AHSS begins
    //--------------------------------------------------------
    // CONFIGURATIONS
    //--------------------------------------------------------
                                                                         //Preferentially it must be isolated
                                                                         //The naming is: "gg_cam_" + Camera name, where spaces are replaced by underline (_)

        function s__AHSS_Configurations_init takes nothing returns nothing
            //-----------------------------------------------------------------
            //ATTENTION: THE ORDER OF FUNCTION CALLS MUST BE RESPECTED! 
            //I.e, you can't call "teams.addPlayer()" before "teams.createTeam()".
            
            //---------------------------------------------------------------------------------
            // TEAMS SECTION
            //---------------------------------------------------------------------------------
            //Here you configure the teams. Just insert user controller players.
            //Remember: 0 = Red, 1 = Blue, and so on. 
            call sc__AHSS_Teams_createTeam(s__AHSS_Configurations_teams,"Shinobi Alliance")
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,0)
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,1)
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,2)
            call sc__AHSS_Teams_setSpawningSpot(s__AHSS_Configurations_teams,gg_rct_fonte_konoha) //Here you define a region to where the heroes of this team will go when picked. 
                                                           //If you don't understand the naming, all regions have to have "gg_rct_" in front of 
                                                           //their name and spaces are replaced by underline (_).
            call sc__AHSS_Teams_createTeam(s__AHSS_Configurations_teams,"Otogakure")
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,4)
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,5)
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,6)
            call sc__AHSS_Teams_setSpawningSpot(s__AHSS_Configurations_teams,gg_rct_fonte_evil)
            
            call sc__AHSS_Teams_createTeam(s__AHSS_Configurations_teams,"Akatsuki")
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,8)
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,9)
            call sc__AHSS_Teams_addPlayer(s__AHSS_Configurations_teams,10)
            call sc__AHSS_Teams_setSpawningSpot(s__AHSS_Configurations_teams,gg_rct_fonte_akt_start)
            
            //---------------------------------------------------------------------------------
            // HEROES SECTION
            //---------------------------------------------------------------------------------
            //Here you add heroes to selection. Follow the template.
            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uzumaki Naruto, the Konoha Hero" , 'H07B')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Naruto_Sage" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.8)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Base destroyer (High area damage/Low single target damage)\nDifficulty: Average\n\n[D]: Senjutsu Chakra \n[Q]: Rasengan\n[W]: Kuchiyose: Yatai Kuzushi no Jutsu\n[E]: Frog Kata\n|cffff0000[R]: Fuuton: Rasenshuriken\n[T]: Six-Tails Mode|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00B') //Icons are represented by a destructable
            call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Naruto Sennin.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uzumaki Naruto, the Kurama's Jinchuuriki" , 'H07E')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Naruto_Rikudou.mdl" , 1.4)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.8)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low single target damage)\nDifficulty: Easy\n\n[D]: Kage Bunshin Jutsu\n[Q]: Truth-seeking ball\n[W]: Yang healing\n[E]: Mini-rasenshuriken\n|cffff0000[R]: Bijuu Rashenshuriken/Serial Goudodama\n[T]: Bijuu Dama|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00C') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Naruto Kyuubi Chakra.blp")

call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uzumaki Boruto, Son of Naruto" , 'H06O')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Boruto.mdl" , 1.15)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,20.0 , 1.6)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,23.0 , 2.6)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,17.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Team Fighter (High area damage/Low single target damage)\nDifficulty: Average\n\n[D]: Kama\n[Q]: Boruto Stream\n[W]: Raikyu Shuriken no Jutsu\n[E]: Kage Bunshin Rasengan\n|cffff0000[R]: Kieru Rasengan\n[T]: Oyako Rasengan|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02S') //Icons are represented by a destructable
            call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Boruto.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uchiha Sasuke, the Uchiha Avenger" , 'U00H')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Sasuke_Hebi.mdl" , 0.6)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.8)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\n\nRole: Base destroyer (High area damage/Low crowd control)\nDifficulty: Average\n\n[D]: Sharingan: Genjutsu\n[Q]: Chidori\n[W]: Chidori Nagashi\n[E]: Chidori Senbons\n|cffff0000[R]: Cursed Seal of Heaven\n[T]: Kirin|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00D') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Sasuke.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uchiha Sasuke, the Indra Reincarnation" , 'U00J')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Sasuke_Rikudou.mdl" , 0.8)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\n\nRole: Base destroyer (High area damage/Low crowd control)\nDifficulty: Average\n\n[D]: Sharingan: Genjutsu\n[Q]: Chidori\n[W]: Enton: Honoikazuchi\n[E]: Amenotejikara\n|cffff0000[R]: Amaterasu\n[T]: Susano'o/Chibaku Tensei|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00E') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Sasuke Rinnegan.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Haruno Sakura, the Tsunade's Apprentice" , 'E00V')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Sakura.mdl" , 1.3)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,23.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (Very Tough/Low area damage)\nDifficulty: Hard\n\n[D]: Chakra Enhanced Strength\n[Q]: Flying Punch\n[W]: Inner Sakura\n[E]: Shosen no Jutsu\n|cffff0000[R] Earth Splitter\n[T]: Okasho/Byakugou|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00F') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Sakura.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hatake Kakashi, the Copy Ninja" , 'H07F')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kakashi.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,17.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,22.0 , 2.9)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.9)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Average\n\n[D]: Kamui Dimension\n[Q]: Raikiri\n[W]: Doton: Tsuiga no Jutsu\n[E]: Raiton Bunshin\n|cffff0000[R]: Raiden\n[T]: Kamui/Susano'o|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00G') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kakashi.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hatake Kakashi, the ANBU" , 'H07A')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kakashi_Anbu.mdl" , 0.60)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,17.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,22.0 , 3.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.9)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High crowd control/Low area damage)\nDifficulty: Average\n\n[D]: Kuchiyose: Ninja Dog\n[Q]: Raikiri\n[W]: Doton: Doryuheki\n[E]: Doton: Shinjuu Zanshu no Jutsu\n|cffff0000[R]: Raiton: Raiju Tsuiga\n[T]: Double Raikiri|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00H') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Anbu Kakashi.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Yamato, the Mokuton User" , 'O001')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Yamato.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,23.0 , 3.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High area control/Low single-target damage)\nDifficulty: Average\n\n[D]: Mokuton: Mokujoheki \n[Q]: Shichuurou no Jutsu\n[W]: Mokuton: Naifu\n[E]: Hokage-Shiki Jijun Jutsu: Kakuan Nitten Suishu\n|cffff0000[R]: Mokuton: Hinoto Yaiba\n[T]: Mokuton: Harani|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00I') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Yamato.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Sai, the Drawing Ninja" , 'O006')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Sai.mdl" , 1.1)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,23.0 , 2.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.6)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Tracker (High single-target control/Low area damage)\nDifficulty: Average\n\n[D]: ANBU's Mark\n[Q]: Ninpou: Chouji Giga - Tigers\n[W]: Ninpou: Sumi Hebi\n[E]: Ninpou: Chouji Giga - Bird \n|cffff0000[R]: Semi Choice\n[T]: Kuchiyose: Chouji Giga - Ryuu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00J') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Sai.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Jiraiya, the Perverted Sannin" , 'U00C')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Jiraiya.mdl" , 0.71)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,21.0 , 2.8)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,19.0 , 1.9)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,14.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low single-target damage)\nDifficulty: Average\n\n[D]: Hari Jizo\n[Q]: Doton: Yomi Numa\n[W]: Katon: Gouen Rasengan\n[E]: Kuchiyose: Yatai Kuzushi no Jutsu\n|cffff0000[R]: Katon: Gamayu Endan\n[T]: Sennin Mode|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00K') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Jiraiya.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Tsunade, the Slug Princess" , 'H00H')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Tsunade.mdl" , 1.20)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,23.0 , 2.6)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,16.0 , 1.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,17.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (Very tough/Low single-target damage)\nDifficulty: Easy\n\n[D]: Kuchiyose: Katsuyu\n[Q]: Deadly Punch\n[W]: Ground Smack \n[E]: Shosen no Jutsu\n|cffff0000[R]: Tsuutenkyaku\n[T]: Byakugou/Chakra Healing Network|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00L') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Tsunade.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Shizune, the Tsunade's Assistant" , 'N02B')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Shizune.mdl" , 1.25)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High sustain/Low damage)\nDifficulty: Easy\n\n[D]: Chakra Transfer Technique\n[Q]: Poison Senbons \n[W]: Tonton Strike \n[E]: Chakra Healing Shield \n|cffff0000[R]: Poison Mist \n[T]: Chakura no Mesu: Big Cut|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00M') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Shizune.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Umino Iruka, the Ninja Tool Master" , 'H02H')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Iruka.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 1.9)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,30.0 , 3.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero Destroyer (High area damage/Low mobility)\nDifficulty: Hard\n\n[D]: Chakra Jump\n[Q]: Throw Fuuma Shuriken\n[W]: Kibaku Fuda Trap\n[E]: Katon Jutsu\n|cffff0000[R]: Focused Shot\n[T]: UPGRADE|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02G') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Iruka.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Sarutobi Hiruzen, the Third Hokage" , 'H03L')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Hiruzen.mdl" , 1.4)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.6)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,13.0 , 1.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (High damage/Multiple unit control)\nDifficulty: Hard\n\n[D]: Kage Bunshin no Jutsu\n[Q]: Katon: Karyu Endan\n[W]: Shuriken Kage Bunshin no Jutsu\n[E]: Doton: Doryu Taiga\n|cffff0000[R]: Kuchiyose: Enma\n[T]: Shiki Fuujin/Goton Dairendan no Jutsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00N') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Hiruzen.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Sarutobi Konohamaru, the Honourable Grandson" , 'H093')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Konohamaru.mdl" , 1.8)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low single-target damage)\nDifficulty: Easy\n\n[D]: Kuchiyose: Gamakichi \n[Q]: Rasengan\n[W]: Kage Bunshin no Jutsu\n[E]: Shuriken Kage Bunshin no Jutsu\n|cffff0000[R]: Katon: Haisekisho \n[T]: Oodama Rasengan|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00S') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Konohamaru.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Namikaze Minato, the Fourth Hokage" , 'H086')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Minato_Hokage.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,17.0 , 2.3)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,22.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/Low area damage)\nDifficulty: Average\n\n[D]: Kyuubi Chakra Mode\n[Q]: Rasengan\n[W]: Instant Light\n[E]: Marked Kunais Field\n|cffff0000[R]: Hiraishin no Jutsu\n[T]: Space-Time Jutsu/Shiki Fuujin|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00O') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Minato.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Namikaze Minato, the Yellow Flash" , 'H082')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Minato_Jounin.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,17.0 , 2.3)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,22.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/Low area damage)\nDifficulty: Hard\n\n[D]: Hiraishin no Jutsu\n[Q]: Jikuukan Rasengan\n[W]: Hiraishin no Jutsu\n[E]: Shunshin no Jutsu\n|cffff0000[R]: Hiraishin: Ren no Dan\n[T]: The Yellow Flash|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00P') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Jounin Minato.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Senju Hashirama, the First Hokage" , 'H033')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Hashirama.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (High area control/Low single-target damage)\nDifficulty: Average\n\n[D]: Mokuton: Kajukai Korin\n[Q]: Mokuton: Mokuryu no Jutsu\n[W]: Senpou: Myojinmon\n[E]: Mokuton: Mokujin no Jutsu\n|cffff0000[R]: Adamantine Punch\n[T]: Senpou: Mokuton: Shin Susenju/Mokuton Hijutsu: Jukai Koutan|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00Q') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Hashirama.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Senju Tobirama, the Second Hokage" , 'N00P')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Tobirama.mdl" , 0.95)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 2.6)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low single-target damage)\nDifficulty: Average\n\n[D]: Hiraishin no Jutsu\n[Q]: Hiraishingiri\n[W]: Suiton: Sujinheki\n[E]: Mizu Bunshin no Jutsu\n|cffff0000[R]: Kokuangyo no Jutsu\n[T]: Gojou Kibaku Fuda/Suiton: Suishoha|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00R') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Tobirama.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Sarutobi Asuma, the Team 10 Leader" , 'H03D')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Asuma.mdl" , 1.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,17.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,23.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/Low crowd control)\nDifficulty: Hard\n\n[D]: Chakra Blades\n[Q]: Wind Assault\n[W]: Shadow Combo\n[E]: Fuuton: Senpuuken\n|cffff0000[R]: Katon: Hiuchi Yagura/Raigo: Senjusatsu\n[T]: Hien/Katon: Haisenkisho|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00T') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Asuma.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Nara Shikamaru, the Ninja of the Shadows" , 'H00L')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Shikamaru.mdl" , - 0.05)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,14.0 , 1.4)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,30.0 , 3.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High area control/Low mobility)\nDifficulty: Average\n\n[D]: Plant Trap\n[Q]: Kagemane no Jutsu\n[W]: Kagemane Explosion no Jutsu\n[E]: Kage Nui no Jutsu\n|cffff0000[R]: Ninpou: Kage Nui Explosion no Jutsu\n[T]: Ninpou: Kage Enmaku no Jutsu/Kage–Kubishibari no Jutsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00U') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Shikamaru.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Akimichi Chouji, the Fat Ninja" , 'O000')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Chouji.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,29.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,10.0 , 1.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,14.0 , 2.2)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-end support (High crowd control/Low single-target damage)\nDifficulty: Hard\n\n[D]: Food Pills\n[Q]: Nikudan Sensha\n[W]: Baika no Jutsu\n[E]: Bubun Baika no Jutsu: Choharite\n|cffff0000[R]: Chou Baika no Jutsu\n[T]: Chou Nikudan Sensha|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00V') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Choji.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Yamanaka Ino, the Mind Controller" , 'N00J')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Ino.mdl" , - 0.05)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low crowd control)\nDifficulty: Average\n\n[D]: Mind Distraction Jutsu\n[Q]: Shinrashin no Jutsu\n[W]: Detonating Petals\n[E]: Healing Petals\n|cffff0000[R]: Ninpou: Kekka Gigi\n[T]: Chou Shinka|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00W') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Ino.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Yuuhi Kurenai, the Team 8 Leader" , 'N01M')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kurenai.mdl" , 1.05)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Average\n\n[D]: Magen: Gafiriki no Jutsu\n[Q]: Hair camouflage\n[W]: Genjutsu: Flower Petal Escape\n[E]: Anshosui\n|cffff0000[R]: Magen: Hanagasumi\n[T]: Magen: Jubaku Satsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00X') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kurenai.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Inuzuka Kiba, the Dog Ninja" , 'H00J')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kiba.mdl" , 2.0)
            call sc__AHSS_Heroes_setModelAlternate(s__AHSS_Configurations_heroes,true)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,21.0 , 1.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 3.1)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Tracker\nAdvantage/Disadvantage: High Mobility/Very fragile \nDifficulty: Average\n\n[D]: Kage Bunshin no Jutsu\n[Q]: Shikyaku no Jutsu\n[W]: Tsuuga\n[E]: Claws Combo\n|cffff0000[R]: Sojin Roga\n[T]: Gatsuuga!|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00Y') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kiba.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Aburame Shino, the Ninja of the Bugs" , 'H00Y')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Shino.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 2.3)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High area control/Low damage)\nDifficulty: Easy\n\n[D]: Mushi Kame no Jutsu\n[Q]: Kikaichuu Tsumoji no Jutsu\n[W]: Kikaichuu Yajiri no Jutsu\n[E]: Hijutsu: Mushiyose\n|cffff0000[R]: Kikaichuu Arare no Jutsu\n[T]: Dai Kikaichuu Arare no Jutsu/Kikaichuu: Mishikiu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B00Z') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Shino.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hyuuga Hinata, the Hyuuga Heiress" , 'E000')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Hinata.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,20.0 , 3.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Average \n\n[D]: Byakugan! \n[Q]: Shotei\n[W]: Shuohakke Rokujuuyon Sho\n[E]: Counter Instance\n|cffff0000[R]: Hakke: Sanjuni Sho \n[T]: Juuho Soshiken/Hakkesho Kuuten|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B010') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Hinata.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hyuuga Hanabi, Heiress of the Hyuuga Clan" , 'H06Z')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Hanabi.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,20.0 , 2.2)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High Isolated Damage)\nDifficulty: Average \n\n[D]: Juuken\n[Q]: Shotei\n[W]: Hakke: Kusho\n[E]: Counter\n|cffff0000[R]: Hakkesho Kaiten\n[T]: Hakke: Rokujuyon Sho|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02W') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Hanabi.blp")


            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Maito Gai, the Green Beast" , 'H01Y')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Gai.mdl" , 1.25)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,25.0 , 2.7)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,17.0 , 2.6)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 1.5)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Hard\n\n[D]: Eighth Gate\n[Q]: Dynamic Entry\n[W]: Omote Renge\n[E]: Youth Combustion\n|cffff0000[R]: Hachimon: Asa Kujaku\n[T]: Hirudora|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B011') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Gai.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Rock Lee, the Genius of Effort" , 'H070')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Rock_Lee.mdl" , 0.7)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,25.0 , 2.3)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,17.0 , 2.6)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,17.0 , 0.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low crowd control)\nDifficulty: Average\n\n[D]: Drunken Fist\n[Q]: Omote Renge\n[W]: Konoha Senpu\n[E]: Hachimon\n|cffff0000[R]: Seishun Furu Pawa\n[T]: Ura Renge|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B012') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Lee.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hyuuga Neji, the Hyuuga Genius" , 'H000')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Neji.mdl" , 1.1)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,20.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 3.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/Low area damage)\nDifficulty: Average\n\n[D]: Byakugan! \n[Q]: Hakke: Kusho\n[W]: Hakkesho Kaiten\n[E]: Counter Instance\n|cffff0000[R]: Hakke: Rokujuuyon Sho\n[T]: Hakke: Hasangeki/Hakke: Hyaku Nijuhassho|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B013') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Neji.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Tenten, the Weapon Master" , 'H00N')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Tenten.mdl" , 0.8)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 1.9)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target control/Low area damage)\nDifficulty: Hard\n\n[D]: Iron Dome \n[Q]: Dance of Chains\n[W]: Soshoryu\n[E]: Kunai Grenade \n|cffff0000[R]: Sogu: Fuujin Heki\n[T]: Sogu: Tensasai/Bashosen: Five waves of destruction|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B014') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Tenten.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Shimura Danzo, the Shadow Hokage" , 'N00V')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Danzo.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.9)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area control/Low single-target damage)\nDifficulty: Easy \n\n[D]: Ura Shisho Fuinjutsu\n[Q]: Mokuton Hijutsu: Jukai Koutan\n[W]: Fuuton: Shinkuuha\n[E]: Fuuton: Shinujin\n|cffff0000[R]: Fuuton: Shinkuu Taigyoku\n[T]: Izanagi|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B015') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Danzo.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Yamanaka Fuu, The Mind Controller" , 'N02N')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Fuu_Yamanaka.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 3.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero troller (High area damage/Low crowd control)\nDifficulty: Hard\n\n[D]: Konoha Shunshin no Jutsu\n[Q]: Multiple Slashes Combo\n[W]: Mind Shield\n[E]: Assassination Technique\n|cffff0000[R]: Semi Choice\n[T]: Body Swap|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02K') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Yamanaka.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Aburame Torune, the Nano-bug Ninja" , 'H0AW')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Torune.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 2.3)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Average\n\n[D]: Mushi Dome no Jutsu \n[Q]: Mushi Kame no Jutsu\n[W]: Nano-bug Mode \n[E]: Assassination Technique \n|cffff0000[R]: Dokujin no Jutsu \n[T]: Kodoku no Jutsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B016') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Torune.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uchiha Shisui, the Body Flicker Ninja" , 'U00O')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Shisui.mdl" , 0.95)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 2.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Average\n\n[D]: Shunshin no Jutsu\n[Q]: Shunshin no Jutsu: Silent Kill\n[W]: Katon: Hosenka Tsumabeni\n[E]: Genjutsu: Sharingan\n|cffff0000[R]: Kotoamatsukami\n[T]: Susano'o: Tsukumo/Perfect Susano'o'|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01J') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Shisui.blp")

	    call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Gekko Hayate, the Crescent-Moon Swordman" , 'E03U')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Hayate.mdl" , 0.65)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,20.0 , 2.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.3)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Average\n\n[D]: Kage Bunshin no Jutsu\n[Q]: Sword Strike\n[W]: Explosive Tag Kunai\n[E]: Toton Jutsu\n|cffff0000[R]: Hiken: Tsukikage\n[T]: Konoha-Ryu Mikazuki no Mai|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02H') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Hayate.blp")

	    call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Mitarashi Anko, the Orochimaru Disciple" , 'U01G')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Anko.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.4)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.9)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Average\n\n[D]: Snake skin change\n[Q]: Kuchiyose no Jutsu: Hebi\n[W]: Katon Ryuka no Jutsu\n[E]: Kori Shinchuu no Jutsu\n|cffff0000[R]: Sen'ei Tajashu\n[T]: Soujasousai no Jutsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02I') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Anko.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Gaara, the Fifth Kazekage" , 'H00C')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Gaara.mdl" , 0.25)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 2.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High area damage/Low mobility)\nDifficulty: Average\n\n[D]: Karura's Shield\n[Q]: Sabaku Kyu\n[W]: Gokusa Maiso\n[E]: Suna no Yoroi\n|cffff0000[R]: Sand cloud\n[T]: Shukaku Spear/Sabaku Sotaiso|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B017') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Gaara.blp")
			

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Gaara of the Sand" , 'H0B5')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Gaara_Kid.mdl" , 0.20)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 2.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High area damage/Low health)\nDifficulty: Hard\n\n[D]: Shukaku Shield \n[Q]: Sand Drizzle\n[W]: Shukaku Hands\n[E]: Frenzy Mode\n|cffff0000[R]: Sabaku Kyu\n[T]: Shukaku Mode|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02V') //Icons are represented by a destructable
	        call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_GaaraKid.blp")
			

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kankuro, the Puppet Master" , 'O002')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kankuro.mdl" , 1.05)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 2.1)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,25.0 , 3.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single target damage/Multiple unit control)\nDifficulty: Hard\n\n[D]: Kugutsu no Jutsu\n[Q]: Kugutsu no Jutsu: Sanshouo\n[W]: Karasu's Barbed Attack\n[E]: Poisoned Gas\n|cffff0000[R]: Kurohigi Kiki Ippatsu\n[T]: Flamethrower|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B018') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kankuro.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Temari, the Wind Master" , 'H02P')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Temari.mdl" , 1.35)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Very fragile)\nDifficulty: Easy\n\n[D]: Guarding Winds\n[Q]: Iron Fan Mastery\n[W]: Raging Storm Wall\n[E]: Kamaitachi no Jutsu\n|cffff0000[R]: Dai Kamaitachi no Jutsu\n[T]: Kuchiyose: Kiri Kiri Mai|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B019') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Temari.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Chiyo, the Puppet Master" , 'O007')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Chiyo.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 2.1)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,25.0 , 3.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High area damage/Low crowd control)\nDifficulty: Hard\n\n[D]: Control Human Puppet\n[Q]: Sealing Technique: Lion Closing Roar\n[W]: Assault Blade/Soshujin\n[E]: Souen: Hitomi Goku\n|cffff0000[R]: Kuchiyose: Father and Mother\n[T]: Sanbou Kyuukai|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01A') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Chiyo.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Mecha Naruto, The Mechanic Version of Naruto" , 'H03K')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Mecha_Naruto.mdl" , 1.5)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/None)\nDifficulty: Average\n\n[D]: Flying Mode\n[Q]: Naruto Missile\n[W]: Spinning Arms\n[E]: Naruto Beam\n|cffff0000[R]: Nine-Tails Immolation\n[T]: Nine-Tails Chakra Bomb|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02E') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_MechaNaruto.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Orochimaru, the Sannin of the Snakes" , 'U002')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Orochimaru.mdl" , 0.8)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.3)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/None)\nDifficulty: Average\n\n[D]: True form \n[Q]: Sen.ei Tajashu\n[W]: Kuchiyose: RashomonA\n[E]: Kuchiyose: Kusanagi\n|cffff0000[R]: Uwabami\n[T]: Yamata no Jutsu/Kuchiyose: Edo Tensei|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01B') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Orochimaru.blp")

            

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kabuto, the Orochimaru's Spy" , 'N02C')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kabuto_Young.mdl" , 0.7)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 3.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High Sustain/Low area damage)\nDifficulty: Average*/\n\n[D]: Chakra Scapel\n[Q]: Medical Chakra Blast \n[W]: Nehan Shouja no Jutsu \n[E]: In'yu Shometsu\n|cffff0000[R]:Chakura no Mesu: Big cut \n[T]: Temple of Nirvana|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01C') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_KabutoYoung.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kabuto, the Edo Tensei User" , 'N010')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kabuto.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 3.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low single-target damage)\nDifficulty: Average\n\n[D]: True Form\n[Q]: Sen'eijatsu\n[W]: Poison Snake\n[E]: Shikon no Jutsu\n|cffff0000[R]: Kuchiyose: Edo Tensei\n[T]: Sennin Mode|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01D') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kabuto.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hozuki Suigetsu, the Second Assassin of the Mist" , 'H06J')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Suigetsu.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,23.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,17.0 , 2.4)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-end support (Very tough/Low damage)\nDifficulty: Average\n\n[D]: Assassin Instinct\n[Q]: Suiton: Suiryuudan no Jutsu\n[W]: Drowning Technique\n[E]: Suika no Jutsu\n|cffff0000[R]: Suiton: Gosuiwan no Jutsu\n[T]: Suiton: Tate Eboshi/Suiton: Great Wave Slash|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01E') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Suigetsu.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Juugo, the Bipolar Ninja" , 'E034')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Juugo.mdl" , 0.8)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (High mobility/Low crowd control)\nDifficulty: Hard\n\n[D]: Fury\n[Q]: Cellular Regeneration/Jet Booster Jump\n[W]: Cellular Absorption/Destroying Axe Fist\n[E]: Chain/Kassokuken: Ichisiki \n|cffff0000[R]: Senninka\n[T]: Taren Fujizuho|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01F') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Juugo.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uzumaki Karin, the Tracker Ninja" , 'N00M')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Karin.mdl" , 0.85)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,24.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Tracker (Can track enemies/Low single-target damage)\nDifficulty: Hard\n\n[D]: Heal Bite \n[Q]: Perfume Spray\n[W]: Kagura Shingan\n[E]: Adamantine Chakra Transfer Chain\n|cffff0000[R]: Explosive Tag\n[T]: Chakra Chains|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01G') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Karin.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kinuta Dosu, the Sound Manipulator" , 'E072')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Dosu.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,20.0 , 2.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.3)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area crowd control/Low single target damage)\nDifficulty: Average\n\n[D]: Echo Chamber\n[Q]: Kyoumeisen\n[W]: Sound Puch\n[E]: Sound Barrier\n|cffff0000[R]: Vibrations of Destruction\n[T]: Waves of Destruction|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02P') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Dosu.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Jirobo of the South Gate" , 'H05E')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Jirobo.mdl" , 1.20)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,23.0 , 2.6)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,16.0 , 1.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,17.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (Very tough/Low single-target damage)\nDifficulty: Easy\n\n[D]: Arhat Fist\n[Q]: Doton: Doryou Dango\n[W]: Earthquake\n[E]: Headbutt\n|cffff0000[R]: Cursed Seal Mode\n[T]: Dorou Gouremu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B002') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Jirobo.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kidomaru of the East Gate" , 'H044')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kidomaru.mdl" , 1.3)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 2.6)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Easy\n\n[D]: Nenkin no Yoroi \n[Q]: Kumo Nenkin\n[W]: Kumo Mayu\n[E]: Kumomendo\n|cffff0000[R]: Cursed Seal Mode \n[T]: Kumo Senkyuu: Suzaku|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02O') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kidomaru.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kaguya Kimimaro, the Last Kaguya" , 'E021')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kimimaro.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,23.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/Low crowd control)\nDifficulty: Hard\n\n[D]: Fierceful Loyalty\n[Q]: Teshi Sendan\n[W]: Yanagi no Mai\n[E]: Karamatsu no Mai\n|cffff0000[R]: Cursed Seal of Earth\n[T]: Sawarabi no Mai|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01H') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kimimaro.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Guren, the Crystal Ninja" , 'N019')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Guren.mdl" , 1.6)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High area damage/Low crowd control)\nDifficulty: Easy\n\n[D]: Shoton: Suisho Meikyu no Jutsu\n[Q]: Shoton: Suisho Ro no Jutsu\n[W]: Shoton: Suisho Hibari no Jutsu\n[E]: Kessho no Yoroi\n|cffff0000[R]: Shoton: Isshi Komyou\n[T]: Shoton: Hasho Koryu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01I') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Guren.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Momochi Zabuza, the Assassin of the Mist" , 'H05M')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Zabuza.mdl" , 1.1)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,21.0 , 2.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.3)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-end support (High crowd control/Low damage)\nDifficulty: Hard\n\n[D]: Assassin Instinct\n[Q]: Demon Slash\n[W]: Suiton: Suiryuudan no Jutsu\n[E]: Kirigakure no Jutsu\n|cffff0000[R]: Suiton: Daibafuku no Jutsu\n[T]: Dai Kirigakure no Jutsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01K') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Zabuza.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Haku, the Ice Ninja" , 'H071')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Haku.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 1.9)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,14.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,25.0 , 2.9)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low single-target damage)\nDifficulty: Easy\n\n[D]: Hyoton: Hyogan Domu \n[Q]: Makyo Hyosho: Backslash\n[W]: Hissatsu Hyosho\n[E]: Bakusai Hyosho\n|cffff0000[R]: Messatsu Suisho\n[T]: Hijutsu: Makyo Hyosho|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01L') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Haku.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Ameyuri Ringo, the Swordman of the Mist" , 'U00K')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Ringo.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Easy\n\n[D]: Raiton: Bakurai\n[Q]: Raitou Jutsu: Rakurai\n[W]: Raiton: Raiga\n[E]: Silent Killing\n|cffff0000[R]: Raiton: Sandageto\n[T]: Rairyuu no Tatsumaki|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01M') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Ringo.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Terumi Mei, the Fifth Mizukage" , 'H008')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Mei.mdl" , 1.25)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 1.9)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 2.9)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Hard\n\n[D]: Yoton: Arijigoku no Jutsu\n[Q]: Yoton: Youkai no Jutsu\n[W]: Kirigakure no Jutsu\n[E]: Master of Kekkei Genkai\n|cffff0000[R]: Suiton: Suiryuudan no Jutsu\n[T]: Futton: Komu no Jutsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01N') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Mei.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hozuki Gengetsu, the Second Mizukage" , 'H06L')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Gengetsu.mdl" , 0.12)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 1.9)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,16.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,25.0 , 3.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Base destroyer (Very tough/Low damage)\nDifficulty: Average\n\n[D]: Mirage\n[Q]: Mizudeppou no Jutsu\n[W]: Mizu Fuusen no Jutsu\n[E]: Suika no Jutsu\n|cffff0000[R]: Shinkirou no Genjutsu\n[T]: Joki Boi|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01O') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Gengetsu.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Karatachi Yagura, the Three-tails' Jinchuuriki" , 'N01S')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Yagura.mdl" , 0.55)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,20.0 , 2.3)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High crowd control/Low damage)\nDifficulty: Average\n\n[D]: Bloody Mist \n[Q]: Coral Wave \n[W]: Fuuton: Taifuikka\n[E]: Suiton: Mizukagami no Jutsu \n|cffff0000[R]: Sangosho \n[T]: Chodan Koro|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01Y') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Yagura.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Utakata, the Six-tails' Jinchuuriki" , 'H0AZ')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Utakata.mdl" , 0.95)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,16.0 , 1.9)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,25.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 3.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Easy\n\n[D]: Bubble Dome \n[Q]: Drowing Bubble Technique \n[W]: Explosive Bubbles \n[E]: Bubble Jutsu Drift \n|cffff0000[R]: Bubble Frenezy\n[T]: Chirokyu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01P') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Utakata.blp")
			
            			
			
            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Killer Bee, the Eight-tails' Jinchuuriki" , 'H055')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Killer_Bee.mdl" , 1.1)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,25.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,17.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.6)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/Low damage)\nDifficulty: Average\n\n[D]: Throw Ink\n[Q]: Six Swords Dance\n[W]: Acrobatic Swords\n[E]: Hachibi Chakra Mode\n|cffff0000[R]: Lariat Version 2\n[T]: Bijuu Mode|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01Q') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Killer Bee.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"A, the Fourth Raikage" , 'E01C')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Raikage.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,22.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,15.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (High mobility/Low area damage)\nDifficulty: Easy\n\n[D]: Shunshin no Jutsu\n[Q]: Erubou\n[W]: Girochin Doroppu\n[E]: Raiton Yoroi\n|cffff0000[R]: Raiga Bomb\n[T]: Raitoningu Sutoreto|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01R') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Raikage.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Darui, the Ranton User" , 'E00F')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Darui.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,23.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero Destroyer (High area damage/Low single-target damage)\nDifficulty: Easy\n\n[D]: Black Lightning\n[Q]: Raiton: Kangekiha\n[W]: Suiton: Suijinheki\n[E]: Lightning Strike\n|cffff0000[R]: Ranton: Reiza Sakasu\n[T]: Raiton: Kuropansa|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01S') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Darui.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Nii Yugito, the Two-Tails' Jinchuuriki" , 'H0B2')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Yugito.mdl" , 1.4)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,17.0 , 2.3)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,22.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High mobility/Low area damage)\nDifficulty: Hard\n\n[D]: Niibi Chakra Mode\n[Q]: Cat Jump\n[W]: Claws Storm\n[E]: Claws Strike\n|cffff0000[R]: Hisou\n[T]: Byouen Houka|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01T') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Yugito.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Fuu, the Seven-Tails' Jinchuuriki" , 'H0AG')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Fuu.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,17.0 , 2.3)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,22.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,16.0 , 2.7)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High mobility/Low single-target damage)\nDifficulty: Easy\n\n[D]: Cocoon \n[Q]: Net-Shaped Prison\n[W]: Takigakure no Senpuu\n[E]: Wing Assault \n|cffff0000[R]: Hiden: Rinpungakure no Jutsu\n[T]: Rinpun Bakusai|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01U') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Fuu.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Onoki, the Third Tsuchikage" , 'N00U')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Onoki.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.9)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low area damage)\nDifficulty: Easy\n\n[D]: Levitation Technique\n[Q]: Doton: Kejuugan no Jutsu\n[W]: Doton: Goremu no Jutsu\n[E]: Doton: Chokajugan no Jutsu\n|cffff0000[R]: Jinton: Genkai Hakuri no Jutsu\n[T]: Jinton: Genkai Hakuri: Hashira|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01V') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Onooki.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Muu, the Null Man" , 'N017')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Muu.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 1.8)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.9)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Tracker (Long range/Multiple unit control)\nDifficulty: Hard\n\n[D]: Sensing Technique \n[Q]: Jinton: Genkai Hakuri no Jutsu\n[W]: Earth slam\n[E]: Mujin Meisai\n|cffff0000[R]: Jinton: Genkai Hakuri: Hashira\n[T]: Bunretsu no Jutsu/Jinton: Bunretsu Genkai Hakuri no Jutsu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01W') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Mu.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Roshi, the Four-Tails' Jinchuuriki" , 'H01M')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Roshi.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,25.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,17.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.6)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Average\n\n[D]: Yoton Chakra Mode\n[Q]: Lava Geist\n[W]: Yoton: Shakugaryuugan no Jutsu\n[E]: Yoton: Shakugaikoken\n|cffff0000[R]: Kakazan\n[T]: En'en Hokai|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02D') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Roshi.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Han, the Five-Tails' Jinchuuriki" , 'H08C')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Han.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,25.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,17.0 , 1.5)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,13.0 , 2.6)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (High mobility/Low area damage)\nDifficulty: Easy\n\n[D]: Inhuman strength \n[Q]: Fungokyaku \n[W]: Funsuiken\n[E]: Steam Punch\n|cffff0000[R]: Futton: Kairiki Muso\n[T]: Tsunoori|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01X') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Han.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Mifune, the Samurai" , 'E036')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Mifune.mdl" , 0.85)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,20.0 , 2.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 2.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Low crowd control)\nDifficulty: Easy\n\n[D]: Chakra Katana\n[Q]: Iaidou Multiple Stab\n[W]: Iaigiri Dancing Blade\n[E]: Kenjutsu Flash \n|cffff0000[R]: Iaidou Sen Himei\n[T]: Iaidou Chiratsuki Kusa|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B01Z') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Mifune.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hanzo, the Salamander" , 'N02V')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Hanzo.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.1)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 3.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 2.6)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Assassin (High single-target damage/Squishy)\nDifficulty: Average\n\n[D]: Reveal Enemies \n[Q]: Scythe Combo \n[W]: Poison Fog\n[E]: Uppercut\n|cffff0000[R]: Hagama no Mai: Rakuko no Yaiba\n[T]: Dokugiri/Kuchiyose no Jutsu: Ibuse|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02L') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Hanzo.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uchiha Itachi, the Uchiha Traitor" , 'N001')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Itachi.mdl" , 1.1)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 3.3)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High single-target control/Low mobility)\nDifficulty: Average\n\n[D]: Izanami\n[Q]: Katon: Goukakyuu no Jutsu\n[W]: Bunshin Daikahuba\n[E]: Karasu Bunshin no Jutsu\n|cffff0000[R]: Tsukuyomi!\n[T]: Susano'o/Amaterasu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B022') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Itachi.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uchiha Itachi, The Uchiha Shadow" , 'N025')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Itachi_Anbu.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 3.3)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Back-end support (High single-target control/High mobility)\nDifficulty: Average\n\n[D]: Crow Clone\n[Q]: Assassination Technique\n[W]: Katon: Housenka Tsumaben\n[E]: Karasu Bunshin no Jutsu\n|cffff0000[R]: Magen Shinkarasu\n[T]: Amaterasu|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02T') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Itachi_ANBU.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hoshigake Kisame, the Akatsuki Shark" , 'U005')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kisame.mdl" , 1.4)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,24.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,19.0 , 1.6)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,15.0 , 1.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Base destroyer (High area damage/Low single-target damage)\nDifficulty: Average\n\n[D]: Feeding Sharks\n[Q]: Suiton: Suikodan no Jutsu\n[W]: Suirou no Jutsu\n[E]: Suiton: Bakusui Shoha\n|cffff0000[R]: Suiton: Senshokukou\n[T]: Samehada Fusion/Suiton: Mugensame|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B023') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kisame.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Deidara, the Akatsuki Artist" , 'H00D')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Deidara.mdl" , 1.1)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 1.8)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,14.0 , 2.4)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 3.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Base destroyer (High area damage/Low crowd control)\nDifficulty: Easy\n\n[D]: C0\n[Q]: Beauty of Destruction\n[W]: Art of Creation\n[E]: Sky-Eagle Art\n|cffff0000[R]: Ride Clay Bird\n[T]: C4|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B020') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Deidara.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Sasori, of the red sand" , 'E01Y')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Sasori_Third_Kazekage.mdl" , 0.95)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,23.0 , 2.5)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,19.0 , 2.3)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,20.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Base destroyer (High area damage/Low mobility)\nDifficulty: Average\n\n[D]: Poisoned Attack\n[Q]: Kugutsu: Puppet Bomb\n[W]: Tail Strike\n[E]: Shikomi Kugutsu: Shinshin Happa\n|cffff0000[R]: Sandaime Kazekage Puppet\n[T]: Scorpion Puppet|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B021') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Sasori.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Hidan, the Akatsuki Reaper" , 'U004')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Hidan.mdl" , 1.05)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,24.0 , 2.6)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,16.0 , 1.9)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,20.0 , 2.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Front-line support (Very tough/Low damage)\nDifficulty: Hard\n\n[D]: Berserker\n[Q]: Take Blood\n[W]: Crazy Storm\n[E]: Throw Scyth\n|cffff0000[R]: Jujutsu: Shiji Hyoketsu\n[T]: Ritual of Sacrifice|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B024') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Hidan.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kakuzu, the Akatsuki Immortal" , 'U009')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kakuzu.mdl" , 1.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,25.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 2.3)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Base destroyer (Very tough/Multiple unit control)\nDifficulty: Hard\n\n[D]: Doton: Domu\n[Q]: Jiongu: Grab \n[W]: Domu: Iron Punch \n[E]: Release Mask \n|cffff0000[R]: Take Heart \n[T]: Masks Release/Masks: Combined Attack|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B025') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kakuzu.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Zetsu, the Akatsuki Spy" , 'H035')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Zetsu.mdl" , 0.95)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,14.0 , 1.7)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,19.0 , 3.1)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Tracker (High mobility/Low damage)\nDifficulty: Hard\n\n[D]: Devour\n[Q]: Mokuton Trap\n[W]: Mokuton: Sashiki no Jutsu\n[E]: Spore Technique\n|cffff0000[R]: Mayfly\n[T]: Underground Roots Technique|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B026') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Zetsu.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Konan, the Amegakure Angel" , 'H041')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Konan.mdl" , 1.1)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,14.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,25.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Base destroyer (High area damage/Low single-target damage)\nDifficulty: Average\n\n[D]: Paper teleport \n[Q]: Paper Chakram \n[W]: Paper Shuriken\n[E]: Paper Bunshin\n|cffff0000[R]: Tenshi Mode: Shikigami no Mai\n[T]: Kami no Shisha no Jutsu/Tenshi no Fukuin|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B027') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Konan.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uzumaki Nagato, the Akatsuki Leader" , 'H00O')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Nagato.mdl" , 0.65)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,20.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.6)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Hard\n\n[D]: Six Paths of Pain\n[Q]: Bansho Ten.in\n[W]: Shinra Tensei\n[E]: Rinnegan\n|cffff0000[R]: Shuradou\n[T]: Chibaku Tensei/Shinra Giga Tensei|r|cff80ff80")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B028') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Nagato.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Animal Path" , 'H05I')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Animal_Path.mdl" , 0.65)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,12.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,24.0 , 2.6)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,20.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Strong Team Fighter (High area damage/Support)\nDifficulty: Hard\n\n[D]: Kuchiyose no Jutsu: Giant Panda\n[Q]: Kuchiyose no Jutsu: Giant Rhino\n[W]: Kuchiyose no Jutsu: Giant Multi-Headed Dog\n[E]: Kuchiyose no Jutsu: Chameleon\n|cffff0000[R]: Kuchiyose no Jutsu: Giant Crustacean\n[T]: Kuchiyose no Jutsu: Giant Drill-Beaked Bird|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02R') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Animal_Path.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Masked Man, Tobi" , 'U00Y')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Masked_Man.mdl" , 1.3)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,16.0 , 2.4)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Hard\n\n[D]: Sharingan/Rinnegan\n[Q]: Reverse Kamui/Sen'en Gouka\n[W]: Space Time Ninjutsu/Mokuton Hijutsu: Jukai Koutan\n[E]: Kamui Dimension: Teleport Ally/Gunbai Uchiwa\n|cffff0000[R]Mazou no Kusari: Biju Dama\n[T]: Kuchiyose: Gedo Mazo|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02J') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_MaskedMan.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uchiha Obito, the Masked Man" , 'U00D')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Obito.mdl" , 0.9)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,18.0 , 2.2)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,16.0 , 2.4)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,21.0 , 2.8)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Average\n\n[D]: Kamui Dimension\n[Q]: Reverse Kamui\n[W]: Katon: Bakufu Ranbu\n[E]: Kamui Dimension: Teleport Ally\n|cffff0000[R]: Kuchiyose: Gedo Mazo\n[T]: Mugen Tsukuyomi/Juubi Mode|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B029') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Obito.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Uchiha Madara, the Uchiha Legend" , 'N011')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Madara.mdl" , 1.0)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 3.0)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (Very tough/Low damage)\nDifficulty: Easy\n\n[D]: Gunbai\n[Q]: Mokuton Hijutsu: Jukai Koutan\n[W]: Katon: Gouka Mekkyaku\n[E]: Ningendou \n|cffff0000[R]: Katon: Gouka Messhitsu\n[T]: Perfect Susano'o/Rikuudou Mode|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02A') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Madara.blp")

            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Otsutsuki Kaguya, the Root of all chakra" , 'N013')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Kaguya.mdl" , 0.2)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,19.0 , 2.0)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,18.0 , 2.8)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,24.0 , 3.3)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Hero destroyer (High area damage/Low crowd control)\nDifficulty: Average\n\n[D]: Lava Dimension\n[Q]: Amenominaka\n[W]: Yomotsu Hirasaka\n[E]: Yasogami Kugeki\n|cffff0000[R]: Tomogoroshi no Haikotsu\n[T]: Bocho Gudodama/Dimension Travel|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02B') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Kaguya.blp")



            call sc__AHSS_Heroes_addHero(s__AHSS_Configurations_heroes,"Kurosaki Ichigo, Substitute Shinigami" , 'H0A7')
            call sc__AHSS_Heroes_setModel(s__AHSS_Configurations_heroes,"Heroes\\Ichigo.mdl" , 0.79)
            call sc__AHSS_Heroes_setStr(s__AHSS_Configurations_heroes,20.0 , 2.4)
            call sc__AHSS_Heroes_setAgi(s__AHSS_Configurations_heroes,21.0 , 2.4)
            call sc__AHSS_Heroes_setInt(s__AHSS_Configurations_heroes,20.0 , 2.4)
            call sc__AHSS_Heroes_setDescription(s__AHSS_Configurations_heroes,"|cff80ff80\nRole: Number One (High Mobility/Low Crowd Control)\nDifficulty: Big Brain Required\n\n[D]: NUMBER ONE!\n[Q]: Getsuga Tensho\n[W]: Shunpo Combo\n[E]: Hollow Mask\n|cffff0000[R]: Bankai Form\n[T]: Final Getsuga Tenshou|r")
            call sc__AHSS_Heroes_setIcon(s__AHSS_Configurations_heroes,'B02U') //Icons are represented by a destructable
			call sc__AHSS_Heroes_setIconPath(s__AHSS_Configurations_heroes,"Icons\\Heroes\\BTNPreview_Ichigo.blp")

            //---------------------------------------------------------------------------------
            // OPTIONS SECTION
            //---------------------------------------------------------------------------------
            //Here you configurate severals options of the system.
            call sc__AHSS_Options_timeLimit(s__AHSS_Configurations_options,true , 600.) //If "true", the players have a limited time to pick a hero. The time is given in seconds.
            set s__AHSS_Options_bots[(s__AHSS_Configurations_options)]=(false) //Computer players pick heros too?  // INLINED!!
            
            set s__AHSS_Options_iconScale[(s__AHSS_Configurations_options)]=((1.0)*1.0) //Size of heroes icons. Not recommended to change. // INLINED!!
            set s__AHSS_Options_iconsByLine[(s__AHSS_Configurations_options)]=(12) //Set the amount of heroes icons by row // INLINED!!
            
            set s__AHSS_Options_click[(s__AHSS_Configurations_options)]=(gg_snd_MouseClick1) //This sound is played when selection changes  // INLINED!!
            set s__AHSS_Options_error[(s__AHSS_Configurations_options)]=(gg_snd_Error) //This sound is played when an invalid action is perfomed // INLINED!!
            set s__AHSS_Options_ok[(s__AHSS_Configurations_options)]=(gg_snd_BigButtonClick) //This sound is played when you confirm a hero selection // INLINED!!
            
            //---------------------------------------------------------------------------------
            // FILE PATHS SECTION
            //---------------------------------------------------------------------------------
            set s__AHSS_Paths_background[(s__AHSS_Configurations_paths)]=("war3mapImported\\AHSS_Background.blp") //Background of selection screen // INLINED!!
            set s__AHSS_Paths_selection[(s__AHSS_Configurations_paths)]=('h01L') //The selection square above hero icon. It's the single one that it's an unit. // INLINED!!
            set s__AHSS_Paths_emptyIcon[(s__AHSS_Configurations_paths)]=('B003') //Icon that is display in the absence of a hero. It's a destructable.  // INLINED!!
            set s__AHSS_Paths_randomIcon[(s__AHSS_Configurations_paths)]=('B004') //Icon for random selection.  // INLINED!!
            set s__AHSS_Paths_strength[(s__AHSS_Configurations_paths)]=('B006') //Icon to display beside the hero strength.  // INLINED!!
            set s__AHSS_Paths_agility[(s__AHSS_Configurations_paths)]=('B007') // INLINED!!
            set s__AHSS_Paths_intelligence[(s__AHSS_Configurations_paths)]=('B008') // INLINED!!
            set s__AHSS_Paths_logo[(s__AHSS_Configurations_paths)]=('B009') //This is displayed on top-center // INLINED!!
            
            //---------------------------------------------------------------------------------
            // OBJECT CREATION SECTION
            //---------------------------------------------------------------------------------
             //<------ REMOVE TWO BACKSLASHES IN THE BEGINNING OF THIS LINE WHEN READY
        endfunction
        //--------------------------------------------------------
        // END OF CONFIGURATIONS
        //--------------------------------------------------------
        function s__AHSS_Configurations_onInit takes nothing returns nothing
            set s__AHSS_Configurations_teams=sc__AHSS_Teams_create()
            set s__AHSS_Configurations_heroes=sc__AHSS_Heroes_create()
            set s__AHSS_Configurations_options=s__AHSS_Options__allocate()
            set s__AHSS_Configurations_paths=s__AHSS_Paths__allocate()
            set s__AHSS_Configurations_graphics=sc__AHSS_Graphics_create(s__AHSS_Configurations_teams , s__AHSS_Configurations_heroes , s__AHSS_Configurations_options , s__AHSS_Configurations_paths)
            set s__AHSS_Configurations_HERO_BY_ID=s__Table_create()
            call s__AHSS_Configurations_init()
        endfunction
        function s__AHSS_Configurations_start takes boolean allRandom returns nothing
            call sc__AHSS_Graphics_draw(s__AHSS_Configurations_graphics,allRandom)
        endfunction
    
    
        function s__AHSS__Team_create takes string name returns integer
            local integer this= s__AHSS__Team__allocate()
            set s__AHSS__Team_name[this]=name
            set s__AHSS__Team_count[this]=0
            return this
        endfunction 
        function s__AHSS__Team_addPlayer takes integer this,integer whichPlayer returns nothing
            set s___AHSS__Team_players[s__AHSS__Team_players[this]+s__AHSS__Team_count[this]]=whichPlayer
            set s__AHSS__Team_count[this]=s__AHSS__Team_count[this] + 1
        endfunction 
        function s__AHSS__Team_setSpawningSpot takes integer this,rect whichRect returns nothing
            set s__AHSS__Team_spawningSpot[this]=whichRect
        endfunction
        function s__AHSS__Team_getName takes integer this returns string
            return s__AHSS__Team_name[this]
        endfunction
        function s__AHSS__Team_getPlayer takes integer this,integer index returns integer
            return s___AHSS__Team_players[s__AHSS__Team_players[this]+index]
        endfunction
        function s__AHSS__Team_getSpawningSpot takes integer this returns rect
            return s__AHSS__Team_spawningSpot[this]
        endfunction
        
        function s__AHSS__Team_getSize takes integer this returns integer
            return s__AHSS__Team_count[this]
        endfunction
    
    
        function s__AHSS_Teams_create takes nothing returns integer
            local integer this= s__AHSS_Teams__allocate()
            set s__AHSS_Teams_count[this]=0
            return this
        endfunction
        
        function s__AHSS_Teams_createTeam takes integer this,string name returns nothing
            set s___AHSS_Teams_teams[s__AHSS_Teams_teams[this]+s__AHSS_Teams_count[this]]=s__AHSS__Team_create(name)
            set s__AHSS_Teams_count[this]=s__AHSS_Teams_count[this] + 1
        endfunction
        
        function s__AHSS_Teams_addPlayer takes integer this,integer whichPlayer returns nothing
            if s__AHSS_Teams_count[this] == 0 then
                return
            endif
            call s__AHSS__Team_addPlayer(s___AHSS_Teams_teams[s__AHSS_Teams_teams[this]+s__AHSS_Teams_count[this] - 1],whichPlayer)
        endfunction
        
        function s__AHSS_Teams_setSpawningSpot takes integer this,rect whichRect returns nothing
            if s__AHSS_Teams_count[this] == 0 then
                return
            endif
            set s__AHSS__Team_spawningSpot[(s___AHSS_Teams_teams[s__AHSS_Teams_teams[this]+s__AHSS_Teams_count[this] - 1])]=(whichRect) // INLINED!!
        endfunction
        
        function s__AHSS_Teams_getTeam takes integer this,integer index returns integer
            return s___AHSS_Teams_teams[s__AHSS_Teams_teams[this]+index]
        endfunction
        
        function s__AHSS_Teams_getSize takes integer this returns integer
            return s__AHSS_Teams_count[this]
        endfunction
         
        function s__AHSS_Teams_destroy takes integer this returns nothing
            local integer i= 0
            loop
                exitwhen i >= s__AHSS_Teams_count[this]
                call s__AHSS__Team_deallocate(s___AHSS_Teams_teams[s__AHSS_Teams_teams[this]+i])
                set i=i + 1
            endloop
        endfunction
    
    
        function s__AHSS__Hero_create takes string whichName,integer heroId returns integer
            local integer this= s__AHSS__Hero__allocate()
            set s__AHSS__Hero_name[this]=whichName
            set s__AHSS__Hero_description[this]=""
            set s__AHSS__Hero_heroid[this]=heroId
            set s__AHSS__Hero_icon[this]='OTip'
            set s__AHSS__Hero_modelAlternate[this]=false
            set s__AHSS__Hero_iconPath[this]=null
            return this
        endfunction
        function s__AHSS__Hero_setStr takes integer this,real initial,real lvl returns nothing
            set s__AHSS__Hero_strength[this]=initial
            set s__AHSS__Hero_strengthLvl[this]=lvl
        endfunction 
        function s__AHSS__Hero_setAgi takes integer this,real initial,real lvl returns nothing
            set s__AHSS__Hero_agility[this]=initial
            set s__AHSS__Hero_agilityLvl[this]=lvl
        endfunction
        function s__AHSS__Hero_setInt takes integer this,real initial,real lvl returns nothing
            set s__AHSS__Hero_intelligence[this]=initial
            set s__AHSS__Hero_intelligenceLvl[this]=lvl
        endfunction
        function s__AHSS__Hero_setDescription takes integer this,string whichDescription returns nothing
            set s__AHSS__Hero_description[this]=whichDescription
        endfunction
        function s__AHSS__Hero_setModel takes integer this,string path,real scale returns nothing
            set s__AHSS__Hero_modelPath[this]=path
            set s__AHSS__Hero_modelScale[this]=scale
        endfunction
        function s__AHSS__Hero_setModelAlternate takes integer this,boolean b returns nothing
            set s__AHSS__Hero_modelAlternate[this]=b
        endfunction 
        function s__AHSS__Hero_setIcon takes integer this,integer whichIcon returns nothing
            set s__AHSS__Hero_icon[this]=whichIcon
        endfunction
        function s__AHSS__Hero_setIconPath takes integer this,string path returns nothing
            set s__AHSS__Hero_iconPath[this]=path
        endfunction
        function s__AHSS__Hero_getName takes integer this returns string
            return s__AHSS__Hero_name[this]
        endfunction
        function s__AHSS__Hero_getStr takes integer this returns real
            return s__AHSS__Hero_strength[this]
        endfunction
        function s__AHSS__Hero_getStrLvl takes integer this returns real
            return s__AHSS__Hero_strengthLvl[this]
        endfunction 
        function s__AHSS__Hero_getAgi takes integer this returns real
            return s__AHSS__Hero_agility[this]
        endfunction 
        function s__AHSS__Hero_getAgiLvl takes integer this returns real
            return s__AHSS__Hero_agilityLvl[this]
        endfunction 
        function s__AHSS__Hero_getInt takes integer this returns real
            return s__AHSS__Hero_intelligence[this]
        endfunction
        function s__AHSS__Hero_getIntLvl takes integer this returns real
            return s__AHSS__Hero_intelligenceLvl[this]
        endfunction 
        function s__AHSS__Hero_getDescription takes integer this returns string
            return s__AHSS__Hero_description[this]
        endfunction
        function s__AHSS__Hero_getHeroid takes integer this returns integer
            return s__AHSS__Hero_heroid[this]
        endfunction
        function s__AHSS__Hero_getModelPath takes integer this returns string
            return s__AHSS__Hero_modelPath[this]
        endfunction
        function s__AHSS__Hero_getModelScale takes integer this returns real
            return s__AHSS__Hero_modelScale[this]
        endfunction
        function s__AHSS__Hero_isModelAlternate takes integer this returns boolean
            return s__AHSS__Hero_modelAlternate[this]
        endfunction 
        function s__AHSS__Hero_getIcon takes integer this returns integer
            return s__AHSS__Hero_icon[this]
        endfunction
    
    
        function s__AHSS_Heroes_create takes nothing returns integer
            local integer this= s__AHSS_Heroes__allocate()
            set s__AHSS_Heroes_count[this]=0
            return this
        endfunction
        
        function s__AHSS_Heroes_addHero takes integer this,string name,integer id returns nothing
            if s__AHSS_Heroes_count[this] >= s__AHSS_Configurations_MAX_SLOTS then
                return
            endif
            set s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this]]=s__AHSS__Hero_create(name , id)
            set s__s__AHSS_Configurations_HERO_NAMES[s__AHSS_Heroes_count[this]]= name
            set s__s__AHSS_Configurations_HERO_IDS[s__AHSS_Heroes_count[this]]= id
            call SaveInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (id), ( s__AHSS_Heroes_count[this])) // INLINED!!
            set s__AHSS_Heroes_count[this]=s__AHSS_Heroes_count[this] + 1
        endfunction
        
        function s__AHSS_Heroes_setStr takes integer this,real initial,real lvl returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            call s__AHSS__Hero_setStr(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],initial , lvl)
        endfunction
        function s__AHSS_Heroes_setAgi takes integer this,real initial,real lvl returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            call s__AHSS__Hero_setAgi(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],initial , lvl)
        endfunction
        function s__AHSS_Heroes_setInt takes integer this,real initial,real lvl returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            call s__AHSS__Hero_setInt(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],initial , lvl)
        endfunction
        function s__AHSS_Heroes_setDescription takes integer this,string whichDescription returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            set s__AHSS__Hero_description[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(whichDescription) // INLINED!!
        endfunction
        function s__AHSS_Heroes_setModel takes integer this,string path,real scale returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            call s__AHSS__Hero_setModel(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],path , scale)
        endfunction
        function s__AHSS_Heroes_setModelAlternate takes integer this,boolean b returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            set s__AHSS__Hero_modelAlternate[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(b) // INLINED!!
        endfunction
        function s__AHSS_Heroes_setIcon takes integer this,integer whichIcon returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            set s__AHSS__Hero_icon[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(whichIcon) // INLINED!!
        endfunction
        function s__AHSS_Heroes_setIconPath takes integer this,string path returns nothing
            if s__AHSS_Heroes_count[this] == 0 then
                return
            endif
            set s__AHSS__Hero_iconPath[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(path) // INLINED!!
            set s__s__AHSS_Configurations_HERO_ICONS[s__AHSS_Heroes_count[this] - 1]= path
        endfunction
        
        function s__AHSS_Heroes_getHero takes integer this,integer index returns integer
            return s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+index]
        endfunction 
        
        function s__AHSS_Heroes_getSize takes integer this returns integer
            return s__AHSS_Heroes_count[this]
        endfunction
        
        function s__AHSS_Heroes_destroy takes integer this returns nothing
            local integer i= 0
            loop
                exitwhen i >= s__AHSS_Heroes_count[this]
                call s__AHSS__Hero_deallocate(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+i])
                set i=i + 1
            endloop
        endfunction
    
        function s__AHSS_Options_timeLimit takes integer this,boolean timeLimitActived,real whichTime returns nothing
            set s__AHSS_Options_timeLimit_actived[this]=timeLimitActived
            set s__AHSS_Options_timeLimit_time[this]=whichTime
        endfunction
        function s__AHSS_Options_isTimeLimited takes integer this returns boolean
            return s__AHSS_Options_timeLimit_actived[this]
        endfunction
        function s__AHSS_Options_setIconScale takes integer this,real whichScale returns nothing
            set s__AHSS_Options_iconScale[this]=whichScale
        endfunction 
        function s__AHSS_Options_setIconsByLine takes integer this,integer howMany returns nothing
            set s__AHSS_Options_iconsByLine[this]=howMany
        endfunction
        function s__AHSS_Options_setSoundClick takes integer this,sound whichSound returns nothing
            set s__AHSS_Options_click[this]=whichSound
        endfunction 
        function s__AHSS_Options_setSoundError takes integer this,sound whichSound returns nothing
            set s__AHSS_Options_error[this]=whichSound
        endfunction
        function s__AHSS_Options_setSoundOk takes integer this,sound whichSound returns nothing
            set s__AHSS_Options_ok[this]=whichSound
        endfunction
        function s__AHSS_Options_botsPick takes integer this,boolean b returns nothing
            set s__AHSS_Options_bots[this]=b
        endfunction
        function s__AHSS_Options_getTimeLimit takes integer this returns real
            return s__AHSS_Options_timeLimit_time[this]
        endfunction
        function s__AHSS_Options_getIconScale takes integer this returns real
            return s__AHSS_Options_iconScale[this]
        endfunction 
        function s__AHSS_Options_getIconsByLine takes integer this returns integer
            return s__AHSS_Options_iconsByLine[this]
        endfunction
        function s__AHSS_Options_getSoundClick takes integer this returns sound
            return s__AHSS_Options_click[this]
        endfunction 
        function s__AHSS_Options_getSoundError takes integer this returns sound
            return s__AHSS_Options_error[this]
        endfunction
        function s__AHSS_Options_getSoundOk takes integer this returns sound
            return s__AHSS_Options_ok[this]
        endfunction
        function s__AHSS_Options_doesBotsPick takes integer this returns boolean
            return s__AHSS_Options_bots[this]
        endfunction
    
    
        function s__AHSS_Paths_setBackground takes integer this,string whichPath returns nothing
            set s__AHSS_Paths_background[this]=whichPath
        endfunction
        function s__AHSS_Paths_setLogo takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_logo[this]=whichid
        endfunction 
        function s__AHSS_Paths_setEmptyIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_emptyIcon[this]=whichid
        endfunction 
        function s__AHSS_Paths_setRandomIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_randomIcon[this]=whichid
        endfunction
        function s__AHSS_Paths_setSelection takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_selection[this]=whichid
        endfunction 
        function s__AHSS_Paths_setStrIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_strength[this]=whichid
        endfunction
        function s__AHSS_Paths_setAgiIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_agility[this]=whichid
        endfunction 
        function s__AHSS_Paths_setIntIcon takes integer this,integer whichid returns nothing
            set s__AHSS_Paths_intelligence[this]=whichid
        endfunction
        function s__AHSS_Paths_getBackground takes integer this returns string
            return s__AHSS_Paths_background[this]
        endfunction
        function s__AHSS_Paths_getLogo takes integer this returns integer
            return s__AHSS_Paths_logo[this]
        endfunction
        function s__AHSS_Paths_getEmptyIcon takes integer this returns integer
            return s__AHSS_Paths_emptyIcon[this]
        endfunction
        function s__AHSS_Paths_getRandomIcon takes integer this returns integer
            return s__AHSS_Paths_randomIcon[this]
        endfunction
        function s__AHSS_Paths_getSelection takes integer this returns integer
            return s__AHSS_Paths_selection[this]
        endfunction
        function s__AHSS_Paths_getStrIcon takes integer this returns integer
            return s__AHSS_Paths_strength[this]
        endfunction 
        function s__AHSS_Paths_getAgiIcon takes integer this returns integer
            return s__AHSS_Paths_agility[this]
        endfunction 
        function s__AHSS_Paths_getIntIcon takes integer this returns integer
            return s__AHSS_Paths_intelligence[this]
        endfunction
    
    
    
        function s__AHSS__TeamIcon_destroy takes integer this returns nothing
            local integer i= 0
            loop
                exitwhen i > 11
                if s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[this]+i] != null then
                    call RemoveDestructable(s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[this]+i])
                    set s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[this]+i]=null
                endif
                set i=i + 1
            endloop
        endfunction 
    
        function s__AHSS__PlayerSelection_create takes integer whichPlayer,integer unitid,real x,real y,real red,real green,real blue returns integer
            local integer this= s__AHSS__PlayerSelection__allocate()
            set s__AHSS__PlayerSelection_whichPlayer[this]=whichPlayer
            set s__AHSS__PlayerSelection_selectionBox[this]=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), unitid, x, y, 270)
            call h__SetUnitVertexColorBJ(s__AHSS__PlayerSelection_selectionBox[this], R2I(red * 100), R2I(green * 100), R2I(blue * 100), 0)
            call UnitAddAbility(s__AHSS__PlayerSelection_selectionBox[this], 'Arav')
            call UnitRemoveAbility(s__AHSS__PlayerSelection_selectionBox[this], 'Arav')
            call SetUnitFlyHeight(s__AHSS__PlayerSelection_selectionBox[this], 500 + 12 - whichPlayer, 0)
            call SetUnitX(s__AHSS__PlayerSelection_selectionBox[this], x)
            call SetUnitY(s__AHSS__PlayerSelection_selectionBox[this], y)
            set s__AHSS__PlayerSelection_row[this]=0
            set s__AHSS__PlayerSelection_column[this]=0
            return this
        endfunction
        function s__AHSS__PlayerSelection_setRow takes integer this,integer whichRow returns nothing
            set s__AHSS__PlayerSelection_row[this]=whichRow
        endfunction 
        function s__AHSS__PlayerSelection_setColumn takes integer this,integer whichColumn returns nothing
            set s__AHSS__PlayerSelection_column[this]=whichColumn
        endfunction
        function s__AHSS__PlayerSelection_setPos takes integer this,real x,real y returns nothing
            call SetUnitPosition(s__AHSS__PlayerSelection_selectionBox[this], x, y)
        endfunction
        function s__AHSS__PlayerSelection_setX takes integer this,real x returns nothing
            call SetUnitX(s__AHSS__PlayerSelection_selectionBox[this], x)
        endfunction 
        function s__AHSS__PlayerSelection_setY takes integer this,real y returns nothing
            call SetUnitY(s__AHSS__PlayerSelection_selectionBox[this], y)
        endfunction
        function s__AHSS__PlayerSelection_getRow takes integer this returns integer
            return s__AHSS__PlayerSelection_row[this]
        endfunction 
        function s__AHSS__PlayerSelection_getColumn takes integer this returns integer
            return s__AHSS__PlayerSelection_column[this]
        endfunction
        function s__AHSS__PlayerSelection_getUnit takes integer this returns unit
            return s__AHSS__PlayerSelection_selectionBox[this]
        endfunction
        function s__AHSS__PlayerSelection_destroy takes integer this returns nothing
            call RemoveUnit(s__AHSS__PlayerSelection_selectionBox[this])
            set s__AHSS__PlayerSelection_selectionBox[this]=null
        endfunction 
    
//textmacro instance: CREATE_ATT_STAT("str")
//end of: CREATE_ATT_STAT("str")
//textmacro instance: CREATE_ATT_STAT("agi")
//end of: CREATE_ATT_STAT("agi")
//textmacro instance: CREATE_ATT_STAT("int")
//end of: CREATE_ATT_STAT("int")
        
 function s__AHSS_Graphics_delay takes nothing returns nothing
    		call sc__AHSS_Graphics_draw(s__AHSS_Configurations_graphics,(false)) // INLINED!!
		call ReleaseTimer(GetExpiredTimer())
 endfunction
        function s__AHSS_Graphics_onInit takes nothing returns nothing
            local trigger t= CreateTrigger()
            local integer i= 0
            loop
                exitwhen i > 11
                call TriggerRegisterPlayerEventEndCinematic(t, Player(i))
                set i=i + 1
            endloop
            set i=0
            loop
                exitwhen i > s__AHSS_Configurations_MAX_SLOTS
                set s__s__AHSS_Graphics_availableHeroes[i]= false
                set i=i + 1
            endloop
            set s__s__AHSS_Graphics_playersAttribute[0]= GetRandomInt(0, 2)
            set s__s__AHSS_Graphics_playersAttribute[1]= ModuloInteger(s__s__AHSS_Graphics_playersAttribute[0] + 1, 3)
            set s__s__AHSS_Graphics_playersAttribute[2]= ModuloInteger(s__s__AHSS_Graphics_playersAttribute[0] + 2, 3)

            set s__s__AHSS_Graphics_playersAttribute[4]= GetRandomInt(0, 2)
            set s__s__AHSS_Graphics_playersAttribute[5]= ModuloInteger(s__s__AHSS_Graphics_playersAttribute[4] + 1, 3)
            set s__s__AHSS_Graphics_playersAttribute[6]= ModuloInteger(s__s__AHSS_Graphics_playersAttribute[4] + 2, 3)

            set s__s__AHSS_Graphics_playersAttribute[8]= GetRandomInt(0, 2)
            set s__s__AHSS_Graphics_playersAttribute[9]= ModuloInteger(s__s__AHSS_Graphics_playersAttribute[8] + 1, 3)
            set s__s__AHSS_Graphics_playersAttribute[10]= ModuloInteger(s__s__AHSS_Graphics_playersAttribute[8] + 2, 3)

            call TriggerAddCondition(t, Condition(function sc__AHSS_Graphics_pressEsc))
            set t=null
            call s__ArrowKey_registerEvent((function sc__AHSS_Graphics_pressKey)) // INLINED!!
	        call TimerStart((NewTimerEx(0)), 0.01, false, function s__AHSS_Graphics_delay) // INLINED!!
        endfunction
        function s__AHSS_Graphics_create takes integer teams,integer heroes,integer options,integer paths returns integer
            local integer this= 1
            local integer i= 0
            loop
                exitwhen i > 11
                set s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+i]=false
                set s___AHSS_Graphics_draftUsed[s__AHSS_Graphics_draftUsed[this]+i]=false
                set s___AHSS_Graphics_isHidden[s__AHSS_Graphics_isHidden[this]+i]=false
                set i=i + 1
            endloop
            if s__AHSS_Graphics_dummy[this] != null then
                call sc__AHSS_Graphics_destroy(this)
            endif
            set this=s__AHSS_Graphics__allocate()
            set s__AHSS_Graphics_teams[this]=teams
            set s__AHSS_Graphics_heroes[this]=heroes
            set s__AHSS_Graphics_options[this]=options
            set s__AHSS_Graphics_paths[this]=paths
            set s__AHSS_Graphics_allowPick[this]=false
            set s__AHSS_Graphics_allowRandom[this]=false
            set s__AHSS_Graphics_draftPick[this]=false
            set s__AHSS_Graphics_iconsCreated[this]=false
            set s__AHSS_Graphics_countBanned[this]=0
            return this
        endfunction
        //------------------------------------------------------------------
        //------------------------------------------------------------------
        function s__AHSS_Graphics_finishPickingHeroes takes integer this returns nothing
            local integer i
            local integer j
            local integer id
            set i=0
            set udg_SpawnCreeps=true
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                    if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING and ( GetPlayerController(Player(id)) == MAP_CONTROL_USER or ( GetPlayerController(Player(id)) == MAP_CONTROL_COMPUTER and (s__AHSS_Options_bots[(s__AHSS_Graphics_options[this])]) ) ) then // INLINED!!
                        if not s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+id] then
                            call sc__AHSS_Graphics_selectHeroRandom(this , id)
                        endif
                    endif
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
        endfunction 
        function s__AHSS_Graphics_start takes nothing returns nothing
            local integer this= 1
            local integer i
            local integer j
            local integer id
            local integer k
            local boolean pickDonator
            local integer index
         local boolean mecha= false
            local boolean shinobi= false
            call s__AHSS_Graphics_finishPickingHeroes(this)
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                    if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING and ( GetPlayerController(Player(id)) == MAP_CONTROL_USER or ( GetPlayerController(Player(id)) == MAP_CONTROL_COMPUTER and (s__AHSS_Options_bots[(s__AHSS_Graphics_options[this])]) ) ) then // INLINED!!
                        set index=(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) // INLINED!!
                        set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]=CreateDestructableZ((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                        call RemoveDestructable(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index])
                        set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]=null
                        set pickDonator=false
                        if udg_DonatorHeroesEnabled[id + 1] and udg_DonatorHeroes[id + 1] > 0 then
                            set k=0
                            loop
                                exitwhen k > ( (s__AHSS_Heroes_count[(s__AHSS_Graphics_heroes[this])]) - 1 ) // INLINED!!
                                if udg_BaseHeroes[id + 1] == 0 or ( s__s__AHSS_Graphics_availableHeroesId[k] == udg_BaseHeroes[id + 1] and s__s__AHSS_Graphics_availableHeroes[k] ) then
                                    set pickDonator=true
                                endif
                                set k=k + 1
                            endloop
                            if pickDonator then
                                set s__s__AHSS_Graphics_availableHeroesId[index]= udg_DonatorHeroes[id + 1]
                            endif

                        elseif s__s__AHSS_Graphics_availableHeroesId[index] == 'H06U' and ( StringCase(GetPlayerName(Player(id)), false) == "tff#11641|r" or StringCase(GetPlayerName(Player(id)), false) == "tff|r" or StringCase(GetPlayerName(Player(id)), false) == "wl9pa#2260|r" or StringCase(GetPlayerName(Player(id)), false) == "wl9pa|r" ) then
                            set s__s__AHSS_Graphics_availableHeroesId[index]= 'E01C'
							
					    elseif s__s__AHSS_Graphics_availableHeroesId[index] == 'U00U' and ( StringCase(GetPlayerName(Player(id)), false) == "metalfoxxer#2412|r" or StringCase(GetPlayerName(Player(id)), false) == "metalfoxxer#241|r" or StringCase(GetPlayerName(Player(id)), false) == "metalfoxxer|r" ) then
                            set s__s__AHSS_Graphics_availableHeroesId[index]= 'N010'
                        endif
                        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), s__s__AHSS_Graphics_availableHeroesId[index], GetRectCenterX(gg_rct_fonte), GetRectCenterY(gg_rct_fonte), 270)
                        call SetUnitPosition(bj_lastCreatedUnit, GetRectCenterX((s__AHSS__Team_spawningSpot[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))])), GetRectCenterY((s__AHSS__Team_spawningSpot[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]))) // INLINED!!
                        call ResetToGameCameraForPlayer(Player(id), 0)
                        call PanCameraToTimedForPlayer(Player(id), GetRectCenterX((s__AHSS__Team_spawningSpot[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))])), GetRectCenterY((s__AHSS__Team_spawningSpot[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))])), 0) // INLINED!!
                        call SelectUnitForPlayerSingle(bj_lastCreatedUnit, Player(id))
                        call SetUnitOwner(bj_lastCreatedUnit, Player(id), true)
		                call ForceAddPlayer(udg_forces01[1], Player(id))
                        call GroupAddUnit(hideheroes, bj_lastCreatedUnit)
                        call SetPlayerName(Player(id), ( ( udg_strings02[( 1 + GetPlayerId(Player(id)) )] + udg_DonatorNames[( 1 + GetPlayerId(Player(id)) )] + ( GetPlayerName(GetOwningPlayer(bj_lastCreatedUnit)) + "|r" ) ) + ( "[" + ( GetUnitName(bj_lastCreatedUnit) + "]" ) ) ))
                        if GetUnitTypeId(bj_lastCreatedUnit) == 'H00J' then
                            call MultiboardSetItemIconBJ(udg_multiboard01, 1, id + 4, "Icons\\Heroes\\BTNPreview_Kiba.blp")
                        else
                            call MultiboardSetItemIconBJ(udg_multiboard01, 1, id + 4, s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(bj_lastCreatedUnit))))]) // INLINED!!
                        endif
                        set udg_units33[id + 1]=bj_lastCreatedUnit
                        set udg_UnitUsed[GetUnitPointValue(bj_lastCreatedUnit)]=true
						set s__s__AHSS_Configurations_PLAYER_ICONS[id]= s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(bj_lastCreatedUnit))))] // INLINED!!
                        set s__s__AHSS_Graphics_availableHeroes[index]= false
                    endif
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
            call sc__AHSS_Graphics_destroy(this)
        endfunction
        //------------------------------------------------------------------
        //------------------------------------------------------------------
        function s__AHSS_Graphics_hideSelection takes integer this,integer playerid returns nothing
            local integer i= playerid
            call SetUnitScale((s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]), 0, 0, 0) // INLINED!!
            set s___AHSS_Graphics_isHidden[s__AHSS_Graphics_isHidden[this]+playerid]=true
//textmacro instance: DESTROY_MODELS()
            if s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i] != null then
                call BlzSetSpecialEffectX(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectY(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectScale(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call DestroyEffect(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i])
                set s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i]=null
            endif
            if s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i])
                set s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i]=null
            endif
            if s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i])
                set s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i]=null
            endif
//end of: DESTROY_MODELS()
//textmacro instance: DESTROY_STAT("str", "Str") 
            if s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i])
                set s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i])
                set s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i]=null
            endif
//end of: DESTROY_STAT("str", "Str") 
//textmacro instance: DESTROY_STAT("agi", "Agi")
            if s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i])
                set s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i])
                set s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i]=null
            endif
//end of: DESTROY_STAT("agi", "Agi")
//textmacro instance: DESTROY_STAT("int", "Int")
            if s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i])
                set s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i])
                set s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i]=null
            endif
//end of: DESTROY_STAT("int", "Int")
        endfunction 
        function s__AHSS_Graphics_showSelection takes integer this,integer playerid returns nothing
            call SetUnitScale((s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]), 0.66, 0.66, 0.66) // INLINED!!
            set s___AHSS_Graphics_isHidden[s__AHSS_Graphics_isHidden[this]+playerid]=false
        endfunction
        function s__AHSS_Graphics_createTeamIcon takes integer this,integer playerid,integer index,boolean remove returns nothing
            local integer i
            local integer j
            local real x
            local real y
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    if (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == playerid then // INLINED!!
                        set x=GetDestructableX(s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j])
                        set y=GetDestructableY(s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j])
                        call RemoveDestructable(s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j])
                        if remove then
                            set s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j]=CreateDestructable((s__AHSS__Hero_icon[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                            set s___AHSS__TeamIcon_iconsId[s__AHSS__TeamIcon_iconsId[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j]=(s__AHSS__Hero_icon[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) // INLINED!!
                        else
                            set s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j]=CreateDestructable((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                            set s___AHSS__TeamIcon_iconsId[s__AHSS__TeamIcon_iconsId[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j]=(s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]) // INLINED!!
                        endif
                        return
                    endif
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
        endfunction
        function s__AHSS_Graphics_destroyAllButTeams takes integer this returns nothing
            local integer i
            local trigger t1
            local trigger t2
            set i=0
            loop
                exitwhen i > s__AHSS_Configurations_MAX_SLOTS
                if s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i] != null then
                    call RemoveDestructable(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i])
                    set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i]=null
                endif
                if s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+i] != null then
                    call RemoveDestructable(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+i])
                    set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+i]=null
                endif
                set i=i + 1
            endloop
            if s__AHSS_Graphics_randomIcon[this] != null then
                call RemoveDestructable(s__AHSS_Graphics_randomIcon[this])
                set s__AHSS_Graphics_randomIcon[this]=null
            endif
            set i=0
            loop
                exitwhen i >= 9
                if s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+i] != null then
                    call RemoveDestructable(s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+i])
                    set s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+i]=null
                endif
                if s___AHSS_Graphics_bannedHeroIcons[s__AHSS_Graphics_bannedHeroIcons[this]+i] != null then
                    call RemoveDestructable(s___AHSS_Graphics_bannedHeroIcons[s__AHSS_Graphics_bannedHeroIcons[this]+i])
                    set s___AHSS_Graphics_bannedHeroIcons[s__AHSS_Graphics_bannedHeroIcons[this]+i]=null
                endif
                set i=i + 1
            endloop
            if s__AHSS_Graphics_bannedText[this] != null then
                call DestroyTextTag(s__AHSS_Graphics_bannedText[this])
                set s__AHSS_Graphics_bannedText[this]=null
            endif
            set i=0
            loop
                exitwhen i > 11
                if s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+i] != 0 then
                    call s__AHSS__PlayerSelection_destroy(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+i])
                endif
                if s___AHSS_Graphics_modifier[s__AHSS_Graphics_modifier[this]+i] != null then
                    call FogModifierStop(s___AHSS_Graphics_modifier[s__AHSS_Graphics_modifier[this]+i])
                    call DestroyFogModifier(s___AHSS_Graphics_modifier[s__AHSS_Graphics_modifier[this]+i])
                    set s___AHSS_Graphics_modifier[s__AHSS_Graphics_modifier[this]+i]=null
                endif
//textmacro instance: DESTROY_MODELS()
            if s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i] != null then
                call BlzSetSpecialEffectX(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectY(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectScale(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call DestroyEffect(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i])
                set s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i]=null
            endif
            if s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i])
                set s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i]=null
            endif
            if s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i])
                set s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i]=null
            endif
//end of: DESTROY_MODELS()
//textmacro instance: DESTROY_STAT("str", "Str") 
            if s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i])
                set s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i])
                set s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i]=null
            endif
//end of: DESTROY_STAT("str", "Str") 
//textmacro instance: DESTROY_STAT("agi", "Agi")
            if s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i])
                set s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i])
                set s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i]=null
            endif
//end of: DESTROY_STAT("agi", "Agi")
//textmacro instance: DESTROY_STAT("int", "Int")
            if s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i])
                set s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i])
                set s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i]=null
            endif
//end of: DESTROY_STAT("int", "Int")
                set i=i + 1
            endloop
            if s__AHSS_Graphics_pressEscText[this] != null then
                call DestroyTextTag(s__AHSS_Graphics_pressEscText[this])
                set s__AHSS_Graphics_pressEscText[this]=null
            endif
        endfunction 
        function s__AHSS_Graphics_createVersus takes integer this returns nothing
            local real iconSize= s__AHSS_Graphics_ICON_SIZE * ( (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) ) // INLINED!!
            local real x
            local real y= GetUnitY(s__AHSS_Graphics_dummy[this]) + 300
            local integer i
            local integer j
            local integer count
            local destructable d
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set y=y - ( s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) * 4 ) - iconSize // INLINED!!
                set x=GetUnitX(s__AHSS_Graphics_dummy[this]) - 100
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    call RemoveDestructable(s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j])
                    set s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j]=CreateDestructable(s___AHSS__TeamIcon_iconsId[s__AHSS__TeamIcon_iconsId[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j], x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) * 2, 1) // INLINED!!
                    set x=x + iconSize * 2
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
            set x=GetUnitX(s__AHSS_Graphics_dummy[this]) - 200
            set y=GetUnitY(s__AHSS_Graphics_dummy[this]) + 400
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set y=y - ( 128 * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) * 2.8 ) - iconSize + 100 // INLINED!!
                call SetTextTagPos(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i], x, y, 0)
                set i=i + 1
            endloop
            set s__AHSS_Graphics_versus1[this]=CreateDestructable('B02C', GetUnitX(s__AHSS_Graphics_dummy[this]) + 50, GetUnitY(s__AHSS_Graphics_dummy[this]) - 180, 270, 2.5, 1)
            set s__AHSS_Graphics_versus2[this]=CreateDestructable('B02C', GetUnitX(s__AHSS_Graphics_dummy[this]) + 50, GetUnitY(s__AHSS_Graphics_dummy[this]) - 495, 270, 2.5, 1)
        endfunction 
        function s__AHSS_Graphics_loopMethodAllPick takes integer this returns nothing
            set s__AHSS_Graphics_allowPick[this]=true
            call SetImageColor(s__AHSS_Graphics_backgroundImg[this], 255, 255, 255, 255)
            set s__AHSS_Graphics_timeLimitTimer[this]=NewTimerEx(this)
            call TimerStart(s__AHSS_Graphics_timeLimitTimer[this], 60.0, false, function s__AHSS_Graphics_start)
            set s__AHSS_Graphics_timeLimitTimerDialog[this]=CreateTimerDialogBJ(s__AHSS_Graphics_timeLimitTimer[this], "Time to pick")
            call TimerDialogDisplay(s__AHSS_Graphics_timeLimitTimerDialog[this], true)
        endfunction 
        function s__AHSS_Graphics_loopMethodAllRandom takes integer this returns nothing
            set s__AHSS_Graphics_allowRandom[this]=true
            call s__AHSS_Graphics_finishPickingHeroes(this)
            set s__AHSS_Graphics_gameStarted[this]=true
            set s__AHSS_Graphics_gameStartedTimer[this]=NewTimerEx(this)
            call TimerStart(s__AHSS_Graphics_gameStartedTimer[this], 5.0, false, function s__AHSS_Graphics_start)
            set s__AHSS_Graphics_gameStartedTimerDialog[this]=CreateTimerDialogBJ(s__AHSS_Graphics_gameStartedTimer[this], "Game Starting...")
            call TimerDialogDisplayBJ(true, s__AHSS_Graphics_gameStartedTimerDialog[this])
            //call SetImageColor(backgroundImg, 100, 100, 100, 255)
            call s__AHSS_Graphics_destroyAllButTeams(this)
            call s__AHSS_Graphics_createVersus(this)
        endfunction 
        function s__AHSS_Graphics_loopMethodEndDraft takes nothing returns nothing
            local integer this= 1
            local integer i
            local integer j
            local integer id
            local integer mode= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            call TimerDialogDisplay(s__AHSS_Graphics_draftTimerDialog[this], false)
            set s__AHSS_Graphics_draftPick[this]=false
            if mode == 2 then
                set i=0
                loop
                    exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                    set j=0
                    loop
                        exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                        set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                        if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING and GetPlayerController(Player(id)) == MAP_CONTROL_USER then
                            call s__AHSS_Graphics_showSelection(this , id)
                        endif
                        set j=j + 1
                    endloop
                    set i=i + 1
                endloop
                //call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFFFF0000GOGO!|r Now you can choose your hero!")
                call s__AHSS_Graphics_loopMethodAllPick(this)
            elseif mode == 3 then
                call s__AHSS_Graphics_loopMethodAllRandom(this)
            endif
        endfunction 
        function s__AHSS_Graphics_loopMethodDraftPick takes integer this,integer mode,real duration returns nothing
            set s__AHSS_Graphics_draftPick[this]=true
            call SetImageColor(s__AHSS_Graphics_backgroundImg[this], 255, 255, 255, 255)
            set s__AHSS_Graphics_draftTimer[this]=NewTimerEx(mode)
            call TimerStart(s__AHSS_Graphics_draftTimer[this], duration, false, function s__AHSS_Graphics_loopMethodEndDraft)
            set s__AHSS_Graphics_draftTimerDialog[this]=CreateTimerDialogBJ(s__AHSS_Graphics_draftTimer[this], "Time to ban heroes")
            call TimerDialogDisplay(s__AHSS_Graphics_draftTimerDialog[this], true)
        endfunction 
        function s__AHSS_Graphics_loopMethod takes integer mode returns nothing
            local integer this= 1
            call sc__AHSS_Graphics_createIcons(this)
            if mode == 0 then
                call s__AHSS_Graphics_loopMethodDraftPick(this,2 , 0.0)
            elseif mode == 1 then
                call s__AHSS_Graphics_loopMethodDraftPick(this,3 , 0.0)
            elseif mode == 2 or mode == 3 then
                call s__AHSS_Graphics_loopMethodDraftPick(this,mode , 15.0)
            endif
        endfunction 
        function s__AHSS_Graphics_allReady takes integer this returns boolean
            local integer i
            local integer j
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    if GetPlayerController(Player((s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]))) == MAP_CONTROL_USER and GetPlayerSlotState(Player((s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]))) == PLAYER_SLOT_STATE_PLAYING then // INLINED!!
                        if not s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])] then // INLINED!!
                            return false
                        endif
                    endif
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
            return true
        endfunction
        function s__AHSS_Graphics_allReadyDraft takes integer this returns boolean
            local integer i
            local integer j
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    if GetPlayerController(Player((s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]))) == MAP_CONTROL_USER and GetPlayerSlotState(Player((s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]))) == PLAYER_SLOT_STATE_PLAYING then // INLINED!!
                        if not s___AHSS_Graphics_draftUsed[s__AHSS_Graphics_draftUsed[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])] then // INLINED!!
                            return false
                        endif
                    endif
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
            return true
        endfunction
        function s__AHSS_Graphics_verifyStart takes integer this returns nothing
            if s__AHSS_Graphics_allReady(this) and not s__AHSS_Graphics_gameStarted[this] then
                call PauseTimer(s__AHSS_Graphics_timeLimitTimer[this])
                call TimerDialogDisplay(s__AHSS_Graphics_timeLimitTimerDialog[this], false)
                set s__AHSS_Graphics_gameStarted[this]=true
                set s__AHSS_Graphics_gameStartedTimer[this]=NewTimerEx(this)
                call TimerStart(s__AHSS_Graphics_gameStartedTimer[this], 5.0, false, function s__AHSS_Graphics_start)
                set s__AHSS_Graphics_gameStartedTimerDialog[this]=CreateTimerDialogBJ(s__AHSS_Graphics_gameStartedTimer[this], "Game Starting...")
                call TimerDialogDisplayBJ(true, s__AHSS_Graphics_gameStartedTimerDialog[this])
                //call SetImageColor(backgroundImg, 100, 100, 100, 255)
                call s__AHSS_Graphics_destroyAllButTeams(this)
                call s__AHSS_Graphics_createVersus(this)
            endif
        endfunction
        function s__AHSS_Graphics_verifyEndDraft takes integer this returns nothing
            if s__AHSS_Graphics_allReadyDraft(this) then
                call PauseTimer(s__AHSS_Graphics_draftTimer[this])
                call TimerStart(s__AHSS_Graphics_draftTimer[this], 1.0, false, function s__AHSS_Graphics_loopMethodEndDraft)
            endif
        endfunction
        function s__AHSS_Graphics_selectHeroRandom takes integer this,integer id returns nothing
            local integer random
            local integer count= 0
            set random=0
            loop
                exitwhen random > ( s__AHSS_Configurations_MAX_SLOTS - 1 )
                if s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+random] != null then
                    set count=count + 1
                endif
                set random=random + 1
            endloop
            if count > 0 then
                loop
                    set random=GetRandomInt(0, s__AHSS_Configurations_MAX_SLOTS - 1)
                    exitwhen s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+random] != null and s__s__AHSS_Graphics_availableHeroesAttribute[random] == s__s__AHSS_Graphics_playersAttribute[id]
                endloop
                call sc__AHSS_Graphics_showHero(this , id , random)
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]=(random / (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])])) // INLINED!!
                loop
                    exitwhen random < (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) // INLINED!!
                    set random=random - (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) // INLINED!!
                endloop
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]=(random) // INLINED!!
                call sc__AHSS_Graphics_updateCursor(this , id)
                call sc__AHSS_Graphics_pressEscActions(this , id)
            endif
        endfunction
        function s__AHSS_Graphics_pressEscActions takes integer this,integer id returns boolean
            local integer index
            if not s__AHSS_Graphics_gameStarted[this] then
                if s__AHSS_Graphics_dummy[this] != null and IsPlayerInForce(Player(id), s__AHSS_Graphics_cameraForce) then
                    if (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) == - 1 then // INLINED!!
                        if s__AHSS_Graphics_allowPick[this] then
                            call s__AHSS_Graphics_selectHeroRandom(this , id)
                        endif
                    else
                        set index=(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) // INLINED!!
                        if s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index] == null then
                            if GetLocalPlayer() == GetTriggerPlayer() then
                                call PlaySoundBJ((s__AHSS_Options_error[(s__AHSS_Graphics_options[this])])) // INLINED!!
                            endif
                            return false
                        endif
                        if s__AHSS_Graphics_allowPick[this] or s__AHSS_Graphics_allowRandom[this] then
                            if not s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+id] then
                                if GetLocalPlayer() == GetTriggerPlayer() then
                                    call PlaySoundBJ((s__AHSS_Options_ok[(s__AHSS_Graphics_options[this])])) // INLINED!!
                                endif
                                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]=CreateDestructableZ((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index])
                                set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]=null
                                set s__s__AHSS_Graphics_availableHeroes[index]= false
                                set s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+id]=true
                                call s__AHSS_Graphics_hideSelection(this , id)
                                call s__AHSS_Graphics_createTeamIcon(this , id , index , true)
                            else
                                if GetLocalPlayer() == GetTriggerPlayer() then
                                    call PlaySoundBJ((s__AHSS_Options_ok[(s__AHSS_Graphics_options[this])])) // INLINED!!
                                endif
                                call s__AHSS_Graphics_showSelection(this , id)
                                call s__AHSS_Graphics_createTeamIcon(this , id , index , false)
                                set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]=CreateDestructableZ((s__AHSS__Hero_icon[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), GetDestructableX(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]), GetDestructableY(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index])
                                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]=null
                                set s__s__AHSS_Graphics_availableHeroes[index]= true
                                call sc__AHSS_Graphics_showHero(this , id , index)
                                set s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+id]=false
                            endif
                        elseif s__AHSS_Graphics_draftPick[this] then
                            if not s___AHSS_Graphics_draftUsed[s__AHSS_Graphics_draftUsed[this]+id] then
                                if GetLocalPlayer() == GetTriggerPlayer() then
                                    call PlaySoundBJ((s__AHSS_Options_ok[(s__AHSS_Graphics_options[this])])) // INLINED!!
                                endif
                                set s___AHSS_Graphics_draftUsed[s__AHSS_Graphics_draftUsed[this]+id]=true
                                
                                set s___AHSS_Graphics_bannedHeroIcons[s__AHSS_Graphics_bannedHeroIcons[this]+s__AHSS_Graphics_countBanned[this]]=CreateDestructable((s__AHSS__Hero_icon[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), GetDestructableX(s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]]), GetDestructableY(s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]]), 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]])
                                set s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]]=null
                                set s__AHSS_Graphics_countBanned[this]=s__AHSS_Graphics_countBanned[this] + 1

                                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]=CreateDestructableZ((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index])
                                set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]=null
                                set s__s__AHSS_Graphics_availableHeroes[index]= false
                                call s__AHSS_Graphics_hideSelection(this , id)
                            endif
                        endif
                    endif
                    if s__AHSS_Graphics_allowPick[this] then
                        call s__AHSS_Graphics_verifyStart(this)
                    elseif s__AHSS_Graphics_draftPick[this] then
                        call s__AHSS_Graphics_verifyEndDraft(this)
                    endif
                endif
            endif
            return false
        endfunction
        function s__AHSS_Graphics_pressEsc takes nothing returns boolean
            local integer this= 1
            local integer index
            local integer id= GetPlayerId(GetTriggerPlayer())
            call s__AHSS_Graphics_pressEscActions(this , id)
            return false
        endfunction
        function s__AHSS_Graphics_pressKey takes nothing returns nothing
            local integer this= 1
            local integer playerid= (s__ArrowKey_eventPlayerId) // INLINED!!
            local integer index
            if s__AHSS_Graphics_dummy[this] != null and s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid] != 0 and IsPlayerInForce(Player(playerid), s__AHSS_Graphics_cameraForce) and (s__ArrowKey_eventKeyPressed) and not s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+playerid] then // INLINED!!
                call sc__AHSS_Graphics_moveCursor(this , playerid)
                set index=(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) // INLINED!!
                call sc__AHSS_Graphics_showHero(this , playerid , index)
            endif
        endfunction 
        
        function s__AHSS_Graphics_moveLeft takes integer this,integer playerid,integer index returns nothing
            local integer i
            if (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) == 0 then // INLINED!!
                set i=0
                loop
                    exitwhen i >= ( (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) - 1 ) or ( s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index + i] == null and s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index + i] == null ) // INLINED!!
                    set i=i + 1
                endloop
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(i) // INLINED!!
            else
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=((s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) - 1) // INLINED!!
            endif
        endfunction
        
        function s__AHSS_Graphics_moveRight takes integer this,integer playerid,integer index returns nothing
            local integer i
            if (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) >= ( (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) - 1 ) or ( s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index + 1] == null and s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index + 1] == null ) then // INLINED!!
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(0) // INLINED!!
            else
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=((s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) + 1) // INLINED!!
            endif
        endfunction
        
        function s__AHSS_Graphics_moveDown takes integer this,integer playerid,integer index returns nothing
            local integer i
            if (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) == - 1 then // INLINED!!
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(0) // INLINED!!
                set i=0
                loop
                    exitwhen i >= (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) or ( s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+i] == null and s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i] == null ) // INLINED!!
                    set i=i + 1
                endloop
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(( i - 1 ) / 2) // INLINED!!
            elseif s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index + (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])])] == null and s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index + (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])])] == null then // INLINED!!
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(- 1) // INLINED!!
            else
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=((s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) + 1) // INLINED!!
            endif
        endfunction
        
        function s__AHSS_Graphics_moveUp takes integer this,integer playerid,integer index returns nothing
            local integer i
            if (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) == 0 then // INLINED!!
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(- 1) // INLINED!!
            elseif (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) == - 1 then // INLINED!!
                set i=0
                loop
                    exitwhen s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])])] == null and s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+i * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])])] == null // INLINED!!
                    set i=i + 1
                endloop
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(i - 1) // INLINED!!
                set i=0
                loop
                    exitwhen s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + i] == null and s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + i] == null // INLINED!!
                    set i=i + 1
                endloop
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=(( i - 1 ) / 2) // INLINED!!
            else
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]=((s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) - 1) // INLINED!!
            endif
        endfunction
        
        function s__AHSS_Graphics_updateCursor takes integer this,integer playerid returns nothing
            local integer index= (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) // INLINED!!
            local integer i
            if (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) == - 1 then // INLINED!!
                call SetUnitPosition(s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])], ((GetDestructableX(s__AHSS_Graphics_randomIcon[this]) )*1.0), (( GetDestructableY(s__AHSS_Graphics_randomIcon[this]))*1.0)) // INLINED!!
            else
                if s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index] != null then
                    call SetUnitPosition(s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])], ((GetDestructableX(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]) )*1.0), (( GetDestructableY(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]))*1.0)) // INLINED!!
                else
                    call SetUnitPosition(s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])], ((GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]) )*1.0), (( GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]))*1.0)) // INLINED!!
                endif
            endif
            if GetLocalPlayer() == Player(playerid) then
                call PlaySoundBJ((s__AHSS_Options_click[(s__AHSS_Graphics_options[this])])) // INLINED!!
            endif
        endfunction 
        
        function s__AHSS_Graphics_moveCursor takes integer this,integer playerid returns nothing
            local integer index
            local integer i
            if s___AHSS_Graphics_isHidden[s__AHSS_Graphics_isHidden[this]+playerid] or ( not s__AHSS_Graphics_allowPick[this] and not s__AHSS_Graphics_draftPick[this] ) then
                return
            endif
            set index=(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) // INLINED!!
            if (s__ArrowKey_eventKey) == 0 then // INLINED!!
                call s__AHSS_Graphics_moveLeft(this , playerid , index)
            elseif (s__ArrowKey_eventKey) == 1 then // INLINED!!
                call s__AHSS_Graphics_moveRight(this , playerid , index)
            elseif (s__ArrowKey_eventKey) == 2 then // INLINED!!
                call s__AHSS_Graphics_moveDown(this , playerid , index)
            else
                call s__AHSS_Graphics_moveUp(this , playerid , index)
            endif
            call s__AHSS_Graphics_updateCursor(this , playerid)
        endfunction 
        function s__AHSS_Graphics_countLines takes string s returns integer
            local integer count= 0
            local integer i= 0
            loop
                exitwhen i > StringLength(s) - 2
                if SubString(s, i, i + 1) == "\n" then
                    set count=count + 1
                endif
                set i=i + 1
            endloop
            return count
        endfunction 
        
        function s__AHSS_Graphics_showHero takes integer this,integer playerid,integer index returns nothing
            local real x
            local real y
            local integer i= playerid
            local string s
            //-------------------------------------------------------------------
            //-------------------------------------------------------------------
//textmacro instance: DESTROY_MODELS()
            if s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i] != null then
                call BlzSetSpecialEffectX(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectY(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectScale(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call DestroyEffect(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i])
                set s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i]=null
            endif
            if s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i])
                set s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i]=null
            endif
            if s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i])
                set s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i]=null
            endif
//end of: DESTROY_MODELS()
//textmacro instance: DESTROY_STAT("str", "Str") 
            if s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i])
                set s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i])
                set s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i]=null
            endif
//end of: DESTROY_STAT("str", "Str") 
//textmacro instance: DESTROY_STAT("agi", "Agi")
            if s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i])
                set s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i])
                set s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i]=null
            endif
//end of: DESTROY_STAT("agi", "Agi")
//textmacro instance: DESTROY_STAT("int", "Int")
            if s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i])
                set s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i])
                set s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i]=null
            endif
//end of: DESTROY_STAT("int", "Int")
            if s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index] != null then
                //CREATE THE UNIT
                set x=GetUnitX(s__AHSS_Graphics_dummy[this]) + 100
                set y=GetUnitY(s__AHSS_Graphics_dummy[this]) - 400
                if GetLocalPlayer() != Player(playerid) then
                    set s=""
                else
                    set s=(s__AHSS__Hero_modelPath[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) // INLINED!!
                endif
                set s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid]=AddSpecialEffect(s, x - 100, y)
                call BlzSetSpecialEffectHeight(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], 100)
                call BlzSetSpecialEffectPitch(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], Deg2Rad(- 90))
                call BlzSetSpecialEffectYaw(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], Deg2Rad(270))
                call BlzSetSpecialEffectScale(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], 2.0 + (s__AHSS__Hero_modelScale[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])) // INLINED!!
                //call BlzPlaySpecialEffect(this.heroesModels[playerid], ANIM_TYPE_SPELL)
                if (s__AHSS__Hero_modelAlternate[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                    call BlzSpecialEffectAddSubAnimation(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], SUBANIM_TYPE_ALTERNATE_EX)
                    call BlzPlaySpecialEffect(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], ANIM_TYPE_STAND)
                endif
                //CREATE HERO NAME
                set x=x + 600
                set y=y + 500
                set s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid]=CreateTextTag()
                call SetTextTagText(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], (s__AHSS__Hero_name[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), TextTagSize2Height(16)) // INLINED!!
                call SetTextTagPos(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], x, y, 0)
                call SetTextTagColor(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], 255, 255, 255, 255)
                //CREATE STATS INFO
                set y=y - 100
                set s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid]=CreateDestructable((s__AHSS_Paths_strength[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                set y=y - s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) - 10 // INLINED!!
                set s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid]=CreateDestructable((s__AHSS_Paths_agility[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                set y=y - s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) - 10 // INLINED!!
                set s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid]=CreateDestructable((s__AHSS_Paths_intelligence[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
//textmacro instance: STAT_TEXT("str", "Str")
            set x=GetDestructableX(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid]) + 50
            set y=GetDestructableY(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid]) - 15
            set s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid]=CreateTextTag()
            call SetTextTagText(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], I2S(R2I((s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]))) + " + " + SubString(R2S((s__AHSS__Hero_strengthLvl[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])), 0, 3) + " x lvl", TextTagSize2Height(13)) // INLINED!!
            call SetTextTagPos(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], x, y, 0)
            if (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                call SetTextTagColor(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], 255, 0, 0, 255)
            else
                call SetTextTagColor(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], 255, 255, 255, 255)
            endif
            if GetLocalPlayer() != Player(playerid) then
                if s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid] != null then
                    call SetTextTagVisibility(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], false)
                endif
                if s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid] != null then
                    call ShowDestructable(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid], false)
                endif
            endif
//end of: STAT_TEXT("str", "Str")
//textmacro instance: STAT_TEXT("agi", "Agi")
            set x=GetDestructableX(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid]) + 50
            set y=GetDestructableY(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid]) - 15
            set s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid]=CreateTextTag()
            call SetTextTagText(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], I2S(R2I((s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]))) + " + " + SubString(R2S((s__AHSS__Hero_agilityLvl[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])), 0, 3) + " x lvl", TextTagSize2Height(13)) // INLINED!!
            call SetTextTagPos(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], x, y, 0)
            if (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                call SetTextTagColor(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], 255, 0, 0, 255)
            else
                call SetTextTagColor(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], 255, 255, 255, 255)
            endif
            if GetLocalPlayer() != Player(playerid) then
                if s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid] != null then
                    call SetTextTagVisibility(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], false)
                endif
                if s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid] != null then
                    call ShowDestructable(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid], false)
                endif
            endif
//end of: STAT_TEXT("agi", "Agi")
//textmacro instance: STAT_TEXT("int", "Int")
            set x=GetDestructableX(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid]) + 50
            set y=GetDestructableY(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid]) - 15
            set s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid]=CreateTextTag()
            call SetTextTagText(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], I2S(R2I((s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]))) + " + " + SubString(R2S((s__AHSS__Hero_intelligenceLvl[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])), 0, 3) + " x lvl", TextTagSize2Height(13)) // INLINED!!
            call SetTextTagPos(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], x, y, 0)
            if (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                call SetTextTagColor(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], 255, 0, 0, 255)
            else
                call SetTextTagColor(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], 255, 255, 255, 255)
            endif
            if GetLocalPlayer() != Player(playerid) then
                if s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid] != null then
                    call SetTextTagVisibility(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], false)
                endif
                if s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid] != null then
                    call ShowDestructable(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid], false)
                endif
            endif
//end of: STAT_TEXT("int", "Int")
                //CREATE HERO INFO 
                set x=x - 100
                set y=y - 200 - ( 20 * s__AHSS_Graphics_countLines((s__AHSS__Hero_description[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])) ) // INLINED!!
                set s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid]=CreateTextTag()
                call SetTextTagText(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], (s__AHSS__Hero_description[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), TextTagSize2Height(9)) // INLINED!!
                call SetTextTagPos(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], x, y, 0)
                call SetTextTagColor(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], 255, 255, 255, 255)
                //HIDE INFO FROM OTHER PLAYERS
                if GetLocalPlayer() != Player(playerid) then
                    if s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid] != null then
                        call SetTextTagVisibility(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], false)
                    endif
                    if s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid] != null then
                        call SetTextTagVisibility(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], false)
                    endif
                endif
            endif
        endfunction
        //"Lock" the camera so the player can't avoid it :)
        function s__AHSS_Graphics_loopCamera takes nothing returns nothing
            local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            local integer c= s__AHSS_Configurations__allocate()
            local integer i= 0
            loop
                exitwhen i > 11
                if IsPlayerInForce(Player(i), s__AHSS_Graphics_cameraForce) then
                    call CameraSetupApplyForceDuration(s__AHSS_Configurations_CAMERA[c], true, 0)
                    call SetCameraTargetController(s__AHSS_Graphics_dummy[this], 0, 0, false)
                endif
                set i=i + 1
            endloop
            call s__AHSS_Configurations_deallocate(c)
        endfunction
        function s__AHSS_Graphics_createCamera takes integer this returns nothing
            local integer i= 0
            local integer c= s__AHSS_Configurations__allocate()
            call PanCameraToTimed(GetRectCenterX(s__AHSS_Configurations_INITIAL_AREA[c]), GetRectCenterY(s__AHSS_Configurations_INITIAL_AREA[c]), 0)
            if s__AHSS_Graphics_dummy[this] == null then
                set s__AHSS_Graphics_dummy[this]=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), s__AHSS_Configurations_DUMMY_ID, GetRectCenterX(s__AHSS_Configurations_INITIAL_AREA[c]), GetRectCenterY(s__AHSS_Configurations_INITIAL_AREA[c]), 0)
            endif
            set s__AHSS_Graphics_cameraForce=CreateForce()
            set i=0
            loop
                exitwhen i > 11
                call ForceAddPlayer(s__AHSS_Graphics_cameraForce, Player(i))
                set s___AHSS_Graphics_modifier[s__AHSS_Graphics_modifier[this]+i]=CreateFogModifierRectBJ(true, Player(i), FOG_OF_WAR_VISIBLE, gg_rct_NewSelection)
                set i=i + 1
            endloop
            set s__AHSS_Graphics_cameraTimer[this]=NewTimerEx(this)
            call TimerStart(s__AHSS_Graphics_cameraTimer[this], 0.01, true, function s__AHSS_Graphics_loopCamera)
            call s__AHSS_Configurations_deallocate(c)
        endfunction
        function s__AHSS_Graphics_createHeroesIcon takes integer this returns nothing
            local integer i
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Heroes_count[(s__AHSS_Graphics_heroes[this])]) - 1 ) // INLINED!!
                set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+i]=CreateDestructableZ((s__AHSS__Hero_icon[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]), GetDestructableX(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i]), GetDestructableY(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                call RemoveDestructable(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i])
                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+i]=null
                set s__s__AHSS_Graphics_availableHeroes[i]= true
                set s__s__AHSS_Graphics_availableHeroesId[i]= (s__AHSS__Hero_heroid[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) // INLINED!!
                if (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) >= (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) and (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) then // INLINED!!
                    set s__s__AHSS_Graphics_availableHeroesAttribute[i]= 0
                elseif (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) >= (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) and (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(i)]))]) then // INLINED!!
                    set s__s__AHSS_Graphics_availableHeroesAttribute[i]= 1
                else
                    set s__s__AHSS_Graphics_availableHeroesAttribute[i]= 2
                endif
                set i=i + 1
            endloop
            set s__AHSS_Graphics_pressEscText[this]=CreateTextTag()
            call SetTextTagText(s__AHSS_Graphics_pressEscText[this], "Press ESC to select hero", TextTagSize2Height(10))
            call SetTextTagPos(s__AHSS_Graphics_pressEscText[this], GetUnitX(s__AHSS_Graphics_dummy[this]) - 150, GetUnitY(s__AHSS_Graphics_dummy[this]) - 100, 0)
        endfunction 
        function s__AHSS_Graphics_createTeamsIcon takes integer this returns nothing
            local real iconSize= s__AHSS_Graphics_ICON_SIZE * ( (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) ) // INLINED!!
            local real x
            local real y= GetUnitY(s__AHSS_Graphics_dummy[this]) + 200
            local integer i
            local integer j
            local integer count
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]=s__AHSS__TeamIcon__allocate()
                set y=y - ( s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) ) - iconSize // INLINED!!
                set x=GetUnitX(s__AHSS_Graphics_dummy[this]) - 950
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    set s___AHSS__TeamIcon_icons[s__AHSS__TeamIcon_icons[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j]=CreateDestructable((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                    set s___AHSS__TeamIcon_iconsId[s__AHSS__TeamIcon_iconsId[s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i]]+j]=(s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]) // INLINED!!
                    set x=x + iconSize
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
            set y=y - 295 - iconSize + s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) * 2 // INLINED!!
            set i=0
            set count=0
            loop
                exitwhen i > 2
                set j=0
                set x=GetUnitX(s__AHSS_Graphics_dummy[this]) - 950
                set y=y - s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) // INLINED!!
                loop
                    exitwhen j > 2
                    set s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+count]=CreateDestructable((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                    set count=count + 1
                    set x=x + iconSize
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
        endfunction
        function s__AHSS_Graphics_createEmptyIcons takes integer this returns nothing
            local integer count= s__AHSS_Configurations_MAX_SLOTS
            local integer iconsByLine= (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) // INLINED!!
            local real iconSize= s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) // INLINED!!
            local real x
            local real y= GetUnitY(s__AHSS_Graphics_dummy[this]) - 100
            local integer row= 0
            local integer i
            local real scale= (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) // INLINED!!
            loop
                exitwhen count < iconsByLine
                set x=GetUnitX(s__AHSS_Graphics_dummy[this]) - ( ( iconSize * iconsByLine ) / 2 )
                set i=0
                loop
                    exitwhen i > ( iconsByLine - 1 )
                    set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+row * iconsByLine + i]=CreateDestructableZ((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), x, y, 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                    set x=x + iconSize
                    set i=i + 1
                endloop
                set y=y - iconSize
                set row=row + 1
                set count=count - iconsByLine
            endloop
            set x=GetUnitX(s__AHSS_Graphics_dummy[this]) - ( ( iconSize * count ) / 2 )
            set i=0
            loop
                exitwhen i > ( count - 1 )
                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+row * iconsByLine + i]=CreateDestructableZ((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), x, y, 500, 270, scale, 1) // INLINED!!
                set x=x + iconSize
                set i=i + 1
            endloop
            if count > 0 then
                set y=y - iconSize
            endif
            set x=GetUnitX(s__AHSS_Graphics_dummy[this]) - ( iconSize / 2 )
            set s__AHSS_Graphics_randomIcon[this]=CreateDestructableZ((s__AHSS_Paths_randomIcon[(s__AHSS_Graphics_paths[this])]), x, y, 500, 270, scale, 1) // INLINED!!
        endfunction 
        function s__AHSS_Graphics_CreateImageEx takes integer this,string imagePath,real size,real x,real y,real z,boolean showImage returns image
            local image i= CreateImage(imagePath, size, size, 0, x - ( size / 2 ), y - ( size / 2 ), z, 0, 0, 0, 2)
            call SetImageRenderAlways(i, true)
            call ShowImage(i, showImage)
            return i
        endfunction
        function s__AHSS_Graphics_createImages takes integer this returns nothing
            if s__AHSS_Graphics_backgroundImg[this] == null then
                set s__AHSS_Graphics_backgroundImg[this]=s__AHSS_Graphics_CreateImageEx(this,(s__AHSS_Paths_background[(s__AHSS_Graphics_paths[this])]) , 2500 , GetUnitX(s__AHSS_Graphics_dummy[this]) , GetUnitY(s__AHSS_Graphics_dummy[this]) , 400 , true) // INLINED!!
                call SetImageColor(s__AHSS_Graphics_backgroundImg[this], 100, 100, 100, 255)
            endif
            if s__AHSS_Graphics_logoImg[this] == null then
                set s__AHSS_Graphics_logoImg[this]=CreateDestructable((s__AHSS_Paths_logo[(s__AHSS_Graphics_paths[this])]), GetUnitX(s__AHSS_Graphics_dummy[this]), GetUnitY(s__AHSS_Graphics_dummy[this]) + 75, 270, 6.0, 1) // INLINED!!
            endif
        endfunction
        function s__AHSS_Graphics_createIcons takes integer this returns nothing
            local integer i
            local integer j
            local integer id
            if not s__AHSS_Graphics_iconsCreated[this] then
                call s__AHSS_Graphics_createEmptyIcons(this)
                call s__AHSS_Graphics_createTeamsIcon(this)
                call s__AHSS_Graphics_createHeroesIcon(this)
                call sc__AHSS_Graphics_createTexts(this)
                call sc__AHSS_Graphics_createSelections(this)
                set i=0
                loop
                    exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                    set j=0
                    loop
                        exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                        set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                        if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING and GetPlayerController(Player(id)) == MAP_CONTROL_USER then
                            call s__AHSS_Graphics_showHero(this , i , 0)
                        endif
                        set j=j + 1
                    endloop
                    set i=i + 1
                endloop
            endif
        endfunction 
        function s__AHSS_Graphics_createTexts takes integer this returns nothing
            local real x= GetUnitX(s__AHSS_Graphics_dummy[this]) - 1000
            local real y= GetUnitY(s__AHSS_Graphics_dummy[this]) + 270
            local integer i= 0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set y=y - ( 128 * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) ) - 10 // INLINED!!
                set s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i]=CreateTextTag()
                call SetTextTagText(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i], (s__AHSS__Team_name[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]), TextTagSize2Height(12)) // INLINED!!
                call SetTextTagPos(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i], x, y, 0)
                call SetTextTagColor(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i], 255, 255, 255, 255)
                set i=i + 1
            endloop
            set s__AHSS_Graphics_bannedText[this]=CreateTextTag()
            call SetTextTagText(s__AHSS_Graphics_bannedText[this], "Banned heroes", TextTagSize2Height(12))
            call SetTextTagPos(s__AHSS_Graphics_bannedText[this], x, y - 290, 0)
            call SetTextTagColor(s__AHSS_Graphics_bannedText[this], 255, 255, 255, 255)
        endfunction
        function s__AHSS_Graphics_createSelections takes integer this returns nothing
            local integer i
            local integer j
            local real x
            local real y
            local integer count= 0
            local integer id
            if s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]] != null then
                set x=GetDestructableX(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]])
                set y=GetDestructableY(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]])
            else
                set x=GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]])
                set y=GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]])
            endif
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                    if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING then
                        if GetPlayerController(Player(id)) == MAP_CONTROL_USER or ( GetPlayerController(Player(id)) == MAP_CONTROL_COMPUTER and (s__AHSS_Options_bots[(s__AHSS_Graphics_options[this])]) ) then // INLINED!!
                            if (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 0 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(0 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 1.00 , 0.01 , 0.01) // INLINED!!
//textmacro instance: COND("1", "0.00","0.25","1.00")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 1 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(1 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.00 , 0.25 , 1.00) // INLINED!!
//end of: COND("1", "0.00","0.25","1.00")
//textmacro instance: COND("2", "0.09","0.90","0.70")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 2 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(2 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.09 , 0.90 , 0.70) // INLINED!!
//end of: COND("2", "0.09","0.90","0.70")
//textmacro instance: COND("3", "0.32","0.00","0.50")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 3 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(3 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.32 , 0.00 , 0.50) // INLINED!!
//end of: COND("3", "0.32","0.00","0.50")
//textmacro instance: COND("4", "1.00","0.98","0.40")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 4 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(4 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 1.00 , 0.98 , 0.40) // INLINED!!
//end of: COND("4", "1.00","0.98","0.40")
//textmacro instance: COND("5", "0.99","0.72","0.05")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 5 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(5 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.99 , 0.72 , 0.05) // INLINED!!
//end of: COND("5", "0.99","0.72","0.05")
//textmacro instance: COND("6", "0.12","0.75","0.00")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 6 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(6 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.12 , 0.75 , 0.00) // INLINED!!
//end of: COND("6", "0.12","0.75","0.00")
//textmacro instance: COND("7", "0.89","0.35","0.69")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 7 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(7 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.89 , 0.35 , 0.69) // INLINED!!
//end of: COND("7", "0.89","0.35","0.69")
//textmacro instance: COND("8", "0.58","0.58","0.58")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 8 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(8 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.58 , 0.58 , 0.58) // INLINED!!
//end of: COND("8", "0.58","0.58","0.58")
//textmacro instance: COND("9", "0.49","0.74","0.94")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 9 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(9 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.49 , 0.74 , 0.94) // INLINED!!
//end of: COND("9", "0.49","0.74","0.94")
//textmacro instance: COND("10","0.06","0.38","0.27")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 10 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(10 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.06 , 0.38 , 0.27) // INLINED!!
//end of: COND("10","0.06","0.38","0.27")
//textmacro instance: COND("11","0.30","0.16","0.01")
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 11 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(11 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.30 , 0.16 , 0.01) // INLINED!!
//end of: COND("11","0.30","0.16","0.01")
                            endif
                        endif
                    endif
                    set count=count + 1
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
        endfunction
        function s__AHSS_Graphics_draw takes integer this,boolean allRandom returns nothing
            local integer i
            local integer j
            local integer id
            call s__AHSS_Graphics_createCamera(this)
            call s__AHSS_Graphics_createImages(this)
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                    if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING then
                        if GetPlayerController(Player(id)) == MAP_CONTROL_USER then
                            if allRandom then
                                call s__AHSS_Graphics_selectHeroRandom(this , id)
                            else
                                call s__AHSS_Graphics_showHero(this , i , 0)
                            endif
                        else
                            if (s__AHSS_Options_bots[(s__AHSS_Graphics_options[this])]) then // INLINED!!
                                call s__AHSS_Graphics_selectHeroRandom(this , id)
                            endif
                        endif
                    endif
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
        endfunction
        function s__AHSS_Graphics_destroy takes integer this returns nothing
            local integer i
            local trigger t1
            local trigger t2
            call s__AHSS_Graphics_destroyAllButTeams(this)
            if s__AHSS_Graphics_dummy[this] != null then
                call RemoveUnit(s__AHSS_Graphics_dummy[this])
                set s__AHSS_Graphics_dummy[this]=null
            endif
            //if backgroundImg != null then 
                call ShowImage(s__AHSS_Graphics_backgroundImg[this], false)
                call DestroyImage(s__AHSS_Graphics_backgroundImg[this])
            //endif
            if s__AHSS_Graphics_versus1[this] != null then
                call RemoveDestructable(s__AHSS_Graphics_versus1[this])
                set s__AHSS_Graphics_versus1[this]=null
            endif
            if s__AHSS_Graphics_versus2[this] != null then
                call RemoveDestructable(s__AHSS_Graphics_versus2[this])
                set s__AHSS_Graphics_versus2[this]=null
            endif
            if s__AHSS_Graphics_logoImg[this] != null then
                call RemoveDestructable(s__AHSS_Graphics_logoImg[this])
                set s__AHSS_Graphics_logoImg[this]=null
            endif
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                call s__AHSS__TeamIcon_destroy(s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i])
                call DestroyTextTag(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i])
                set s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i]=null
                set i=i + 1
            endloop
            if s__AHSS_Graphics_cameraTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_cameraTimer[this])
                call DestroyTimer(s__AHSS_Graphics_cameraTimer[this])
            endif
            if s__AHSS_Graphics_gameStartedTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_gameStartedTimer[this])
                call DestroyTimer(s__AHSS_Graphics_gameStartedTimer[this])
                set s__AHSS_Graphics_gameStartedTimer[this]=null
            endif
            if s__AHSS_Graphics_gameStartedTimerDialog[this] != null then
                call TimerDialogDisplay(s__AHSS_Graphics_gameStartedTimerDialog[this], false)
                call DestroyTimerDialog(s__AHSS_Graphics_gameStartedTimerDialog[this])
                set s__AHSS_Graphics_gameStartedTimerDialog[this]=null
            endif
            if s__AHSS_Graphics_timeLimitTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_timeLimitTimer[this])
                call DestroyTimer(s__AHSS_Graphics_timeLimitTimer[this])
                set s__AHSS_Graphics_timeLimitTimer[this]=null
            endif
            if s__AHSS_Graphics_timeLimitTimerDialog[this] != null then
                call TimerDialogDisplay(s__AHSS_Graphics_timeLimitTimerDialog[this], false)
                call DestroyTimerDialog(s__AHSS_Graphics_timeLimitTimerDialog[this])
                set s__AHSS_Graphics_timeLimitTimerDialog[this]=null
            endif
            if s__AHSS_Graphics_draftTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_draftTimer[this])
                call DestroyTimer(s__AHSS_Graphics_draftTimer[this])
                set s__AHSS_Graphics_draftTimer[this]=null
            endif
            if s__AHSS_Graphics_draftTimerDialog[this] != null then
                call TimerDialogDisplay(s__AHSS_Graphics_draftTimerDialog[this], false)
                call DestroyTimerDialog(s__AHSS_Graphics_draftTimerDialog[this])
                set s__AHSS_Graphics_draftTimerDialog[this]=null
            endif
            call DestroyForce(s__AHSS_Graphics_cameraForce)
            call s__AHSS_Teams_destroy(s__AHSS_Graphics_teams[this])
            call s__AHSS_Heroes_destroy(s__AHSS_Graphics_heroes[this])
            call s__AHSS_Options_deallocate(s__AHSS_Graphics_options[this])
            call s__AHSS_Paths_deallocate(s__AHSS_Graphics_paths[this])
            set s__AHSS_Graphics_cameraTimer[this]=null
            set s__AHSS_Graphics_cameraForce=null

            // Initialize UI
            set i=0
            loop
                exitwhen i > 23
                set s__s__NinpouUI_new_ui_enabled[i]= GetPlayerSlotState(Player(12)) == PLAYER_SLOT_STATE_EMPTY
                if s__s__NinpouUI_new_ui_enabled[i] and Player(i) == GetLocalPlayer() then
                    call s__NinpouUI_initializeElementsForPlayer(GetLocalPlayer())
                endif
                set i=i + 1
            endloop

            if GetPlayerSlotState(Player(12)) == PLAYER_SLOT_STATE_EMPTY then
                call TimerStartEx((NewTimerEx(0)) , 0.1 , true , function s__NinpouUI_periodic , "UI_periodic") // INLINED!!
            endif

            set t1=CreateTrigger()
            set i=0
            loop
                exitwhen i > 23
                call TriggerRegisterPlayerEventEndCinematic(t1, Player(i))
                set i=i + 1
            endloop
            call TriggerAddAction(t1, function Trig_CleanMessages_Actions2)
            
            set t2=CreateTrigger()
            set i=0
            loop
                exitwhen i > 16
                set udg_zoom_v[i + 1]=2300.00
                call SetCameraFieldForPlayer(Player(i), CAMERA_FIELD_TARGET_DISTANCE, 2300.00, 1.00)
                call TriggerRegisterPlayerChatEvent(t2, Player(i), "-z", false)
                set i=i + 1
            endloop
            call TriggerAddAction(t2, function Trig_Zoom_System_Actions)
            call TimerStartEx((NewTimerEx(0)) , 2.0 , false , function Trig_StartingZoom_Delay , "Trig_StartingZoom_Delay") // INLINED!!

            call MultiboardDisplayBJ(true, udg_multiboard01)
            call MultiboardMinimizeBJ(true, udg_multiboard01)

            call LeaderboardDisplayBJ(true, udg_Leaderbox)

            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, "|cFF80FF80For help, press F9!\n            Tip:\n            If your hero gets bugged, type: “-SUICIDE” or “-KILLME“\n\n            Press “ESC” to clean your screen|r\n            --------------------------")

            if udg_Mode45Min then
                call StartTimerBJ(udg_timer02, false, 2700.00)
                call CreateTimerDialogBJ(udg_timer02, "45 min")
            elseif udg_Mode30Min then
                call StartTimerBJ(udg_timer02, false, 1800.00)
                call CreateTimerDialogBJ(udg_timer02, "30 min")
            elseif udg_Mode60Min then
                call StartTimerBJ(udg_timer02, false, 3600.00)
                call CreateTimerDialogBJ(udg_timer02, "60 min")
            endif
	    call CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'e051', - 490, - 7963, 180)
        endfunction
    
// scope AHSS ends
//===========================================================================
// Trigger: RemoveTrashyIcon
//===========================================================================
function Trig_RemoveTrashyIcon_Func002Func001C takes nothing returns boolean
    if ( not ( GetDestructableTypeId(GetEnumDestructable()) == 'B003' ) ) then
        return false
    endif
    return true
endfunction

function Trig_RemoveTrashyIcon_Func002A takes nothing returns nothing
    if ( Trig_RemoveTrashyIcon_Func002Func001C() ) then
        call RemoveDestructable(GetEnumDestructable())
    else
    endif
endfunction

function Trig_RemoveTrashyIcon_Actions takes nothing returns nothing
    call EnumDestructablesInRectAll(RectFromCenterSizeBJ(GetUnitLoc(gg_unit_n008_0031), 800.00, 800.00), function Trig_RemoveTrashyIcon_Func002A)
endfunction

//===========================================================================
function InitTrig_RemoveTrashyIcon takes nothing returns nothing
    set gg_trg_RemoveTrashyIcon=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_RemoveTrashyIcon, 80.00)
    call TriggerAddAction(gg_trg_RemoveTrashyIcon, function Trig_RemoveTrashyIcon_Actions)
endfunction

//===========================================================================
// Trigger: TowerDestructionEffect
//===========================================================================


 function s__TowerDestruction_death takes nothing returns nothing
		if IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true then
			set bj_lastCreatedEffect=AddSpecialEffect("Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()))
			call BlzSetSpecialEffectScale(bj_lastCreatedEffect, 2.0)
			call DestroyEffect(bj_lastCreatedEffect)
			call ShowUnit(GetTriggerUnit(), false)
		endif
 endfunction 
	
 function s__TowerDestruction_onInit takes nothing returns nothing
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__TowerDestruction_death))) // INLINED!!
 endfunction 
	
//===========================================================================
// Trigger: HideUnitsDeathAnimation
//===========================================================================

function Trig_HideUnitsDeathAnimation_Func003C takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'njgb' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'n027' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nskg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nvdg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'zhyd' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ucs3' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nwgs' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'edes' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'uktg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'hgry' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ntrh' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'hwat' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'noga' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndrn' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndsa' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ncen' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ncim' ) )
endfunction

function Trig_HideUnitsDeathAnimation_Conditions takes nothing returns boolean
	return ( ( ( ( GetUnitTypeId(GetTriggerUnit()) == 'njgb' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'n027' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nskg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nvdg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'zhyd' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ucs3' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nwgs' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'edes' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'uktg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'hgry' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ntrh' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'hwat' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'noga' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndrn' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndsa' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ncen' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ncim' ) ) ) )
endfunction

function Trig_HideUnitsDeathAnimation_Actions takes nothing returns nothing
	if (( ( GetUnitTypeId(GetTriggerUnit()) == 'njgb' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'n027' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nskg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nvdg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'zhyd' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ucs3' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'nwgs' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'edes' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'uktg' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'hgry' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ntrh' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'hwat' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'noga' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndrn' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ndsa' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ncen' ) ) or ( ( GetUnitTypeId(GetTriggerUnit()) == 'ncim' ) )) then // INLINED!!
		call RemoveLocation(GetUnitLoc(GetTriggerUnit()))
		call RemoveUnit(GetTriggerUnit())
	endif
endfunction

//===========================================================================
function InitTrig_HideUnitsDeathAnimation takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_HideUnitsDeathAnimation_Actions))) // INLINED!!
endfunction
//===========================================================================
// Trigger: TipMessage
//===========================================================================
function Trig_TipMessage_Actions takes nothing returns nothing
    call DisplayTextToForce(GetPlayersAll(), "TRIGSTR_14640")
endfunction

//===========================================================================
function InitTrig_TipMessage takes nothing returns nothing
    set gg_trg_TipMessage=CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(gg_trg_TipMessage, 600.00)
    call TriggerAddAction(gg_trg_TipMessage, function Trig_TipMessage_Actions)
endfunction

//===========================================================================
// Trigger: Credits
//===========================================================================
function Trig_Credits_Actions takes nothing returns nothing
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_15021", "TRIGSTR_15022", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_15023", "TRIGSTR_15024", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_15025", "TRIGSTR_15026", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_15027", "TRIGSTR_15028", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_15029", "TRIGSTR_15030", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_15031", "TRIGSTR_15032", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_4993", "TRIGSTR_5418", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_6963", "TRIGSTR_7017", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_7308", "TRIGSTR_7325", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_7850", "TRIGSTR_8080", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_15017", "TRIGSTR_15018", "ReplaceableTextures\\CommandButtons\\BTNEngineeringUpgrade.blp")
    call FlashQuestDialogButtonBJ()
endfunction

//===========================================================================
function InitTrig_Credits takes nothing returns nothing
    set gg_trg_Credits=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_Credits, 5)
    call TriggerAddAction(gg_trg_Credits, function Trig_Credits_Actions)
endfunction

//===========================================================================
// Trigger: RepickName
//===========================================================================
function Trig_repick_name_Actions takes nothing returns nothing
    set bj_forLoopAIndex=1
    set bj_forLoopAIndexEnd=12
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_Repick_Names[GetForLoopIndexA()]=GetPlayerName(ConvertedPlayer(GetForLoopIndexA())) + "|r"
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_RepickName takes nothing returns nothing
    set gg_trg_RepickName=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_RepickName, 1.00)
    call TriggerAddAction(gg_trg_RepickName, function Trig_repick_name_Actions)
endfunction


//===========================================================================
// Trigger: NewRepick
//===========================================================================


    //udg_UnitUsed

    function s__NewRepick_pickUnit takes player p returns unit
        local integer i= 0
        local unit u
        loop
            set i=GetRandomInt(0, s__AHSS_Configurations_MAX_SLOTS - 1)
            exitwhen s__s__AHSS_Graphics_availableHeroes[i] and s__s__AHSS_Graphics_availableHeroesAttribute[i] == s__s__AHSS_Graphics_playersAttribute[GetPlayerId(p)]
        endloop
        if s__s__AHSS_Graphics_availableHeroesId[i] == 'H06U' and ( StringCase(GetPlayerName(p), false) == "tff#11641|r" or StringCase(GetPlayerName(p), false) == "tff|r" or StringCase(GetPlayerName(p), false) == "wl9pa#2260|r" or StringCase(GetPlayerName(p), false) == "wl9pa|r" ) then
            set s__s__AHSS_Graphics_availableHeroesId[i]= 'E01C'
	    elseif s__s__AHSS_Graphics_availableHeroesId[i] == 'U00U' and ( StringCase(GetPlayerName(p), false) == "metalfoxxer#2412|r" or StringCase(GetPlayerName(p), false) == "metalfoxxer#241|r" or StringCase(GetPlayerName(p), false) == "metalfoxxer|r" ) then
            set s__s__AHSS_Graphics_availableHeroesId[i]= 'N010'
        endif
        set u=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), s__s__AHSS_Graphics_availableHeroesId[i], GetRectCenterX(gg_rct_fonte), GetRectCenterY(gg_rct_fonte), 270)
        return u
    endfunction  
    
    function s__NewRepick_leave takes nothing returns nothing
 local integer id= GetPlayerId(GetOwningPlayer(GetLeavingUnit()))
	set udg_LeftBase[id]=true
    endfunction 

    function s__NewRepick_actions takes nothing returns nothing
        local integer id= GetPlayerId(GetTriggerPlayer())
        local unit u
        local integer i
        if not udg_FiveMinutes then
	if not udg_LeftBase[id] then
            if not udg_UsedRepick[id] then
                if udg_units33[id + 1] != null then
                    if not RectContainsUnit(gg_rct_duel_area, udg_units33[id + 1]) then
            	        if RectContainsUnit(gg_rct_KONOHA, udg_units33[id + 1]) or RectContainsUnit(gg_rct_EVIL, udg_units33[id + 1]) or RectContainsUnit(gg_rct_AKATSUKI, udg_units33[id + 1]) then
                        set u=null
                        loop
                            set u=s__NewRepick_pickUnit(GetTriggerPlayer())
                            exitwhen u != null and IsUnitType(u, UNIT_TYPE_HERO) == true and GetOwningPlayer(u) == Player(PLAYER_NEUTRAL_PASSIVE) and not udg_UnitUsed[GetUnitPointValue(u)] and not IsUnitInGroup(u, hideheroes)
                        endloop
                        set udg_UnitUsed[GetUnitPointValue(u)]=true
                        call GroupAddUnit(hideheroes, u)
                        call SetUnitOwner(u, GetTriggerPlayer(), true)
                        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, GetPlayerName(GetTriggerPlayer()) + " used repick command and its new hero is: " + GetUnitName(u))
                        call SetHeroXP(u, GetHeroXP(udg_units33[id + 1]), false)
                        set i=0
                        loop
                            exitwhen i > 5
                            if UnitItemInSlot(udg_units33[id + 1], i) != null then
                                call UnitAddItemEx(u , GetItemTypeId(UnitItemInSlot(udg_units33[id + 1], i)))
                            endif
                            set i=i + 1
                        endloop
                        call RemoveUnit(udg_units33[id + 1])
                        set udg_units33[id + 1]=u
			set s__s__AHSS_Configurations_PLAYER_ICONS[id]= s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(udg_units33[id + 1]))))] // INLINED!!
                        set udg_UsedRepick[id]=true
                        if IsPlayerAlly(GetTriggerPlayer(), Player(3)) then
                            call SetUnitPositionLoc(u, GetRectCenter(gg_rct_fonte_konoha))
                        elseif IsPlayerAlly(GetTriggerPlayer(), Player(7)) then
                            call SetUnitPositionLoc(u, GetRectCenter(gg_rct_fonte_evil))
                        elseif IsPlayerAlly(GetTriggerPlayer(), Player(11)) then
                            call SetUnitPositionLoc(u, GetRectCenter(gg_rct_fonte_akt_start))
                        endif
                        call PanCameraToTimedLocForPlayer(GetTriggerPlayer(), GetUnitLoc(u), 0)
                        //call UnitAddItemByIdSwapped( 'I02F', u )
                        call ForceAddPlayerSimple(GetTriggerPlayer(), udg_forces01[1])
                        call SetPlayerName(GetTriggerPlayer(), udg_strings02[GetConvertedPlayerId(GetTriggerPlayer())] + udg_DonatorNames[GetConvertedPlayerId(GetTriggerPlayer())] + udg_Repick_Names[GetConvertedPlayerId(GetTriggerPlayer())] + "|r[" + GetUnitName(u) + "]")
                        call MultiboardSetItemIconBJ(udg_multiboard01, 1, ( ( 1 + GetPlayerId(GetTriggerPlayer()) ) + 3 ), s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(u))))]) // INLINED!!
                        //call MultiboardSetItemValueBJ(udg_multiboard01,1,((1+GetPlayerId(GetTriggerPlayer()))+3),GetPlayerName(GetTriggerPlayer()))
                        else
            			call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You can only repick from your base.|r")
                        endif
                    else
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You can use that command on duel.|r")
                    endif
                else
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You must pick a hero first.|r")
                endif
            else
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You can only repick once.|r")
            endif
		else
                	call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You cannot repick after you left your base.|r")
		endif
        endif
    endfunction 
    
    function s__NewRepick_onInit takes nothing returns nothing
        local trigger t1= CreateTrigger()
 local trigger t2= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 11
            call TriggerRegisterPlayerChatEvent(t1, Player(i), "-repick", true)
            set udg_UsedRepick[i]=false
            set i=i + 1
        endloop
    	call TriggerRegisterLeaveRectSimple(t2, gg_rct_KONOHA)
    	call TriggerRegisterLeaveRectSimple(t2, gg_rct_EVIL)
    	call TriggerRegisterLeaveRectSimple(t2, gg_rct_AKATSUKI)
    	call TriggerAddAction(t2, function s__NewRepick_leave)
        call TriggerAddAction(t1, function s__NewRepick_actions)
    endfunction 
    

//===========================================================================
// Trigger: NewSwap
//===========================================================================

    
    function s__NewSwap_isPlayerAvailable takes player p1,player p2 returns boolean
        return p1 != p2 and IsPlayerAlly(p1, p2) and GetPlayerController(p2) == MAP_CONTROL_USER and GetPlayerSlotState(p2) == PLAYER_SLOT_STATE_PLAYING and udg_units33[GetPlayerId(p2) + 1] != null and not s__s__NewSwap_usingSwap[GetPlayerId(p2)]
    endfunction 
    
    function s__NewSwap_countAvailablePlayers takes player p returns integer
        local integer count= 0
        local integer i= 0
        loop
            exitwhen i > 11
            if s__NewSwap_isPlayerAvailable(p , Player(i)) then
                set count=count + 1
            endif
            set i=i + 1
        endloop
        return count
    endfunction 
    
    function s__NewSwap_setUnitOwner takes player p,unit u returns nothing
        local real str
        local real agi
        local real int
        call SetUnitOwner(u, p, true)
        call SelectUnitForPlayerSingle(u, p)
        call PanCameraToTimedForPlayer(p, GetUnitX(u), GetUnitY(u), 0)
        set str=GetHeroStr(u, false)
        set agi=GetHeroAgi(u, false)
        set int=GetHeroInt(u, false)
        if str >= agi and str >= int then
            set s__s__AHSS_Graphics_playersAttribute[GetPlayerId(p)]= 0
        elseif agi >= str and agi >= int then
            set s__s__AHSS_Graphics_playersAttribute[GetPlayerId(p)]= 1
        else
            set s__s__AHSS_Graphics_playersAttribute[GetPlayerId(p)]= 2
        endif
        call SetPlayerName(p, udg_strings02[GetConvertedPlayerId(p)] + udg_DonatorNames[GetConvertedPlayerId(p)] + udg_Repick_Names[GetConvertedPlayerId(p)] + "|r[" + GetUnitName(u) + "]")
        //if udg_Survival_Bool then
            call MultiboardSetItemIconBJ(udg_Survival_Multiboard, 1, ( ( 1 + GetPlayerId(p) ) + 2 ), s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(u))))]) // INLINED!!
        //    call MultiboardSetItemValueBJ(udg_Survival_Multiboard,1,((1+GetPlayerId(p))+2),SubString(udg_Repick_Names[GetPlayerId(p) + 1],0,10))
        //else
        //endif
        call MultiboardSetItemIconBJ(udg_multiboard01, 1, ( ( 1 + GetPlayerId(p) ) + 3 ), s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(u))))]) // INLINED!!
        //call MultiboardSetItemValueBJ(udg_multiboard01,1,((1+GetPlayerId(p))+3),udg_Repick_Names[GetPlayerId(p) + 1])
    endfunction 
    
    function s__NewSwap_receiveResponse takes nothing returns nothing
        local integer id= GetPlayerId(GetTriggerPlayer())
        local integer id1
        local integer id2
        local integer i
        local player p1
        local player p2
        local unit u
        if GetClickedButton() == s__s__NewSwap_receiveButtons[(id)*(2)+0] then
            set p1=Player(s__s__NewSwap_receivePlayers[id])
            set p2=GetTriggerPlayer()
            set id1=GetPlayerId(p1)
            set id2=GetPlayerId(p2)
            call DisplayTextToPlayer(p1, 0, 0, GetPlayerName(p2) + " accepted your swap invite.|r")
            if GetWidgetLife(udg_units33[id1 + 1]) > 0.405 and GetWidgetLife(udg_units33[id2 + 1]) > 0.405 then
                call s__NewSwap_setUnitOwner(p1 , udg_units33[id2 + 1])
                call s__NewSwap_setUnitOwner(p2 , udg_units33[id1 + 1])
                set u=udg_units33[id1 + 1]
                set udg_units33[id1 + 1]=udg_units33[id2 + 1]
                set udg_units33[id2 + 1]=u
		
		set s__s__AHSS_Configurations_PLAYER_ICONS[id1]= s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(udg_units33[id1 + 1]))))] // INLINED!!
		set s__s__AHSS_Configurations_PLAYER_ICONS[id2]= s__s__AHSS_Configurations_HERO_ICONS[(LoadInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (GetUnitTypeId(udg_units33[id2 + 1]))))] // INLINED!!

                //set usedSwap[id1] = true 
                //set usedSwap[id2] = true 
            else
                call DisplayTextToPlayer(p1, 0, 0, "|cffff0000Both heroes must be alive.|r")
                call DisplayTextToPlayer(p2, 0, 0, "|cffff0000Both heroes must be alive.|r")
            endif
        else
            call DisplayTextToPlayer(Player(s__s__NewSwap_receivePlayers[id]), 0, 0, GetPlayerName(GetTriggerPlayer()) + " refused your swap invite.")
        endif
        set i=0
        loop
            exitwhen i > 11
            if IsPlayerAlly(Player(i), Player(id)) and s__s__NewSwap_usingSwap[i] then
                set s__s__NewSwap_usingSwap[i]= false
            endif
            set i=i + 1
        endloop
    endfunction 
    
    function s__NewSwap_inviteResponse takes nothing returns nothing
        local integer id= GetPlayerId(GetTriggerPlayer())
        local integer i= 0
        local dialog d
        local trigger t
        loop
            exitwhen i > 11
            if GetClickedButton() == s__s__NewSwap_inviteButtons[i] then
                set s__s__NewSwap_receivePlayers[i]= id
                set d=DialogCreate()
                call DialogClear(d)
                call DialogSetMessage(d, GetPlayerName(GetTriggerPlayer()) + " wants to swap with you. Do you accept?")
                set s__s__NewSwap_receiveButtons[(i)*(2)+1]= DialogAddButton(d, "No", 0)
                set s__s__NewSwap_receiveButtons[(i)*(2)+0]= DialogAddButton(d, "Yes", 1)
                set t=CreateTrigger()
                call TriggerRegisterDialogEventBJ(t, d)
                call TriggerAddAction(t, function s__NewSwap_receiveResponse)
                call DialogDisplay(Player(i), d, true)
            endif
            set i=i + 1
        endloop
    endfunction 
    
    function s__NewSwap_inviteActions takes nothing returns nothing
        local integer id= GetPlayerId(GetTriggerPlayer())
        local integer i
        local dialog d
        local trigger t
        if not udg_FiveMinutes then
            if not s__s__NewSwap_usedSwap[id] and not s__s__NewSwap_usingSwap[id] and not udg_UsedSwap[id + 1] then
                if udg_units33[id + 1] != null then
                    if s__NewSwap_countAvailablePlayers(GetTriggerPlayer()) > 0 then
                        set s__s__NewSwap_usingSwap[id]= true
                        set d=DialogCreate()
                        call DialogClear(d)
                        call DialogSetMessage(d, "Pick a player to swap with")
                        set i=0
                        loop
                            exitwhen i > 11
                            if s__NewSwap_isPlayerAvailable(GetTriggerPlayer() , Player(i)) then
                                set s__s__NewSwap_inviteButtons[i]= DialogAddButton(d, GetPlayerName(Player(i)), 0)
                                set s__s__NewSwap_usingSwap[i]= true
                            endif
                            set i=i + 1
                        endloop
                        set t=CreateTrigger()
                        call TriggerRegisterDialogEventBJ(t, d)
                        call TriggerAddAction(t, function s__NewSwap_inviteResponse)
                        call DialogDisplay(GetTriggerPlayer(), d, true)
                    else
                        call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000There is not any ally to swap with.|r")
                    endif
                else
                    call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You don't have a hero to swap.|r")
                endif
            else
                call DisplayTextToPlayer(GetTriggerPlayer(), 0, 0, "|cffff0000You already used the swap command.|r")
            endif
        endif
    endfunction 
    
    function s__NewSwap_onInit takes nothing returns nothing
        local trigger t1= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 11
            call TriggerRegisterPlayerChatEvent(t1, Player(i), "-swap", true)
            set s__s__NewSwap_usedSwap[i]= false
            set s__s__NewSwap_usingSwap[i]= false
            set i=i + 1
        endloop
        call TriggerAddAction(t1, function s__NewSwap_inviteActions)
    endfunction 
    
//===========================================================================
// Trigger: HeroDeath
//===========================================================================


function Trig_HeroDeath_Conditions takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'Huth' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U009' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H09A' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01T' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H09Y' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01Y' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U00R' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U00Q' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U000' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U00S' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01Q' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01R' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'Hjai' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H05O' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H04L' ) ) and ( ( IsUnitInGroup(GetTriggerUnit(), udg_groups01[200]) == false ) ) and ( GetUnitTypeId(GetTriggerUnit()) != 'H002' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'H009' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'H00P' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'O00B' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'O00E' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'H02O' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'N00Q' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'O00A' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'E04B' ) and ( GetUnitTypeId(GetTriggerUnit()) != 'H06D' )
endfunction

   function Trig_HeroDeath_Func007Func001Func001C takes nothing returns boolean
	return ( ( GetKillingUnit() == GetTriggerUnit() ) ) or ( ( GetKillingUnit() == null ) )
   endfunction

   function Trig_HeroDeath_Func007Func001C takes nothing returns boolean
	return ( ( ( ( GetKillingUnit() == GetTriggerUnit() ) ) or ( ( GetKillingUnit() == null ) ) ) )
   endfunction

   function Trig_HeroDeath_Func007Func004001001001 takes nothing returns boolean
	return ( IsPlayerAlly(GetFilterPlayer(), GetOwningPlayer(GetKillingUnit())) )
   endfunction

   function Trig_HeroDeath_Func007Func004001001002 takes nothing returns boolean
	return ( GetOwningPlayer(GetKillingUnit()) == GetFilterPlayer() )
   endfunction

   function Trig_HeroDeath_Func007Func004001001 takes nothing returns boolean
	return GetBooleanOr(( IsPlayerAlly(GetFilterPlayer(), GetOwningPlayer(GetKillingUnit())) ), ( GetOwningPlayer(GetKillingUnit()) == GetFilterPlayer() ))
   endfunction

   function Trig_HeroDeath_Func007Func004A takes nothing returns nothing
	if udg_BattleRoyal then
		call AdjustPlayerStateBJ(( 400 + ( 20 * GetHeroLevel(GetTriggerUnit()) ) ), GetEnumPlayer(), PLAYER_STATE_RESOURCE_GOLD)
	else
		call AdjustPlayerStateBJ(200, GetEnumPlayer(), PLAYER_STATE_RESOURCE_GOLD)
	endif
   endfunction

   function Trig_HeroDeath_Func007C takes nothing returns boolean
	return ( ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) ) )
   endfunction

   function Trig_HeroDeath_Func012Func001Func003C takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(0) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(1) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(2) ) )
   endfunction

   function Trig_HeroDeath_Func012Func001C takes nothing returns boolean
	return ( ( ( ( GetOwningPlayer(GetTriggerUnit()) == Player(0) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(1) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(2) ) ) ) )
   endfunction

   function Trig_HeroDeath_Func012Func013C takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(5) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(4) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(6) ) )
   endfunction

   function Trig_HeroDeath_Func012C takes nothing returns boolean
	return ( ( ( ( GetOwningPlayer(GetTriggerUnit()) == Player(5) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(4) ) ) or ( ( GetOwningPlayer(GetTriggerUnit()) == Player(6) ) ) ) )
   endfunction

   function Trig_HeroDeath_FinishTeamDuel takes nothing returns nothing
 local integer i
 local real x
 local real y
	set udg_TeamDuelOn=false
	call DestroyTimerDialogBJ(udg_TeamDuelExpirationTimerWindow)
	set i=0
	loop
		if i != 3 and i != 7 and i != 11 then
			if IsPlayerSlotState(Player(i), PLAYER_SLOT_STATE_PLAYING) then
				if IsPlayerAlly(Player(i), Player(3)) then
					set x=GetRectCenterX(gg_rct_fonte_konoha)
					set y=GetRectCenterY(gg_rct_fonte_konoha)
				elseif IsPlayerAlly(Player(i), Player(7)) then
					set x=GetRectCenterX(gg_rct_fonte_evil)
					set y=GetRectCenterY(gg_rct_fonte_evil)
				elseif IsPlayerAlly(Player(i), Player(11)) then
					set x=GetRectCenterX(gg_rct_fonte_akt)
					set y=GetRectCenterY(gg_rct_fonte_akt)
				endif
				if GetWidgetLife(udg_units33[i + 1]) < 0.405 then
					call ReviveHero(udg_units33[i + 1], x, y, false)
				endif
				if IsPlayerInForce(Player(i), udg_TeamDuelPlayers) then
					call SetUnitPosition(udg_units33[i + 1], x, y)
				endif
				call PauseUnit(udg_units33[i + 1], false)
				call SetUnitInvulnerable(udg_units33[i + 1], false)
				call SetPlayerAbilityAvailableBJ(true, 'ANcl', Player(i))
				call UnitResetCooldown(udg_units33[i + 1])
			endif
		endif
		set i=i + 1
		exitwhen i > 11
	endloop
	call ForceClear(udg_TeamDuelPlayers)
   endfunction 

   function Trig_HeroDeath_CheckIfTeamDuelIsOver takes nothing returns nothing
 local boolean konoha= false
 local boolean oto= false
 local boolean akatsuki= false
 local integer i= 0
	loop
		if udg_units33[i + 1] != null and not udg_HeroDied[i] and IsPlayerSlotState(Player(i), PLAYER_SLOT_STATE_PLAYING) and GetPlayerController(Player(i)) == MAP_CONTROL_USER then
			if IsPlayerAlly(Player(i), Player(3)) then
				set konoha=true
			elseif IsPlayerAlly(Player(i), Player(7)) then
				set oto=true
			elseif IsPlayerAlly(Player(i), Player(11)) then
				set akatsuki=true
			endif
		endif
		set i=i + 1
		exitwhen i > 11
	endloop
	if konoha and not oto and not akatsuki then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Konohagakure won the team duel!|r")
		 
	elseif oto and not konoha and not akatsuki then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Otogakure won the team duel!|r")
		
	elseif akatsuki and not konoha and not oto then
		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffff0000Akatsuki won the team duel!|r")
		 
	else
		return
	endif
	set i=0
	loop
		if IsPlayerInForce(Player(i), udg_TeamDuelPlayers) then
			call PauseUnit(udg_units33[i + 1], true)
			call SetUnitInvulnerable(udg_units33[i + 1], true)
		endif
		set i=i + 1
		exitwhen i > 11
	endloop
	call TriggerSleepAction(5.0)
	call Trig_HeroDeath_FinishTeamDuel()
	if udg_PointMode then
		call ResumeTimer(udg_timer02)
	endif
	call StartTimerBJ(udg_TeamDuelTimer, false, 660.00)
   endfunction 

   function Trig_HeroDeath_GetHeroName takes player pk returns string
	if udg_units33[GetPlayerId(pk) + 1] == null then
		return GetPlayerName(pk)
	else
		return udg_strings02[GetPlayerId(pk) + 1] + GetUnitName(udg_units33[GetPlayerId(pk) + 1])
	endif
   endfunction 

   function Trig_HeroDeath_Actions takes nothing returns nothing
 local player pd= GetOwningPlayer(GetTriggerUnit())
 local player pk= GetOwningPlayer(GetKillingUnit())
 local integer assis1= - 1
 local integer assis2= - 1
 local integer id= (GetUnitUserData((GetTriggerUnit()))) // INLINED!!
 local integer i
 local integer bounty
 local integer previous_bounty
 local boolean exists
 local integer sum
 local unit true_random
 local string pkname= Trig_HeroDeath_GetHeroName(pk)
	if GetWidgetLife(GetTriggerUnit()) > 0.405 and GetUnitTypeId(GetTriggerUnit()) == 'N01M' then
		return
	endif
	set udg_HeroDied[GetPlayerId(GetTriggerPlayer())]=true
	set previous_bounty=udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]

	if IsUnitInGroup(GetTriggerUnit(), udg_BloodMist) then
		set pk=GetOwningPlayer(udg_Yagura)
	endif
	if GetKillingUnit() == udg_InoMindControlTarget then
		//set pk = GetOwningPlayer(udg_InoMindControl)
		//call AdjustPlayerStateBJ(1000,GetOwningPlayer(udg_InoMindControl),PLAYER_STATE_RESOURCE_GOLD)
	endif
	if GetKillingUnit() == udg_Ino and GetTriggerUnit() == udg_InoMindControlTarget then
		call AdjustPlayerStateBJ(500, GetOwningPlayer(udg_Ino), PLAYER_STATE_RESOURCE_GOLD)
	endif

	if GetKillingUnit() != null and IsUnitEnemy(GetTriggerUnit(), pk) then
        	if GetUnitTypeId(GetKillingUnit()) == 'H01Y' then
            		set udg_GaiKills=udg_GaiKills + 1
        	endif
		if not udg_TeamDuelOn then
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and sg__assisted_get((id)*(12)+i + 1) > 0 and IsPlayerAlly(Player(i), pk) and Player(i) != pk then
					if assis1 == - 1 then
						set assis1=i
					else
						set assis2=i
					endif
				endif
				set i=i + 1
			endloop
			call AdjustPlayerStateBJ(1, pk, PLAYER_STATE_RESOURCE_LUMBER)
			if UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I05E') then
				//call AdjustPlayerStateBJ(1500,pd,PLAYER_STATE_RESOURCE_GOLD)
			endif
		endif
        	set i=0
        	loop
            		exitwhen i > 11
            		if udg_units33[i + 1] != null and Player(i) == GetOwningPlayer(GetTriggerUnit()) and ( (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'rwiz'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07C'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07A'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07F'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07G'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07E'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07D'))) or (UnitHasItemOfTypeBJ((udg_units33[i + 1] ), ( 'I07B'))) ) then // INLINED!!
                		if udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1] != null then
                    			set udg_ANBUTarget[i]=udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1]
                    			call DisplayTimedTextToPlayer(Player(i), 0, 0, 60.0, "|cffff0000ANBU Mask: Your target is:|r |cffff0000" + GetUnitName(udg_units33[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1]) + "|r")
                    			if GetLocalPlayer() == Player(i) then
                        			call PingMinimap(GetUnitX(udg_ANBUTarget[i]), GetUnitY(udg_ANBUTarget[i]), 5.0)
                    			endif
                		endif
            		endif
            		set i=i + 1
        	endloop
		if udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] <= 0 then
			if udg_TeamDuelOn or ( s__TeamDuel_STARTED and s__s__TeamDuel_PLAYER_STATE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] != 0 ) then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					//call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, pkname + "|r pawned " + udg_strings02[GetPlayerId(pd)+1] + GetUnitName(GetTriggerUnit()) + "|r's head but without penalty!")
				endif
			else
				if udg_BattleRoyal then
					set bounty=IMaxBJ(200, 400 + 20 * GetHeroLevel(GetTriggerUnit()) + 100 * 5 * udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1])
					if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) and udg_ANBUTarget[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] == GetTriggerUnit() then
						call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
                        			if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') then
                            				call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
			                		call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
			                		call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
                            			endif
                        			if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') then
                            				call DestroyEffect(AddSpecialEffect(("AnimeFireEffectJiraiya.mdx" ), (( GetUnitX(GetKillingUnit()) )*1.0), (( GetUnitY(GetKillingUnit()))*1.0))) // INLINED!!
                            				call SetUnitState(GetKillingUnit(), UNIT_STATE_LIFE, GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE) + 10000)
                       	 			endif
					endif
					if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) then
						call AdjustPlayerStateBJ(300, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if (UnitHasItemOfTypeBJ((GetKillingUnit() ), ( 'I010'))) then // INLINED!!
						call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if ( GetUnitTypeId(GetKillingUnit()) == 'H0A7' or GetUnitTypeId(GetKillingUnit()) == 'U00A' or GetUnitTypeId(GetKillingUnit()) == 'U00G' ) and udg_assists[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1] >= 15 then
						call AdjustPlayerStateBJ(500, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
						call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, pkname + "|r pawned " + udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) + "|r's head for " + I2S(R2I(bounty)) + "g")
					endif
					call AdjustPlayerStateBJ(bounty, pk, PLAYER_STATE_RESOURCE_GOLD)
				else
					set bounty=IMaxBJ(200, 200 + 10 * GetHeroLevel(GetTriggerUnit()) + 50 * 5 * udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1])
					if GetOwningPlayer(GetKillingUnit()) == Player(3) or GetOwningPlayer(GetKillingUnit()) == Player(7) or GetOwningPlayer(GetKillingUnit()) == Player(11) then
						set i=0
						loop
							exitwhen i > 11
							if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), GetOwningPlayer(GetKillingUnit())) then
								call AdjustPlayerStateBJ(bounty / 3, Player(i), PLAYER_STATE_RESOURCE_GOLD)
							endif
							set i=i + 1
						endloop
					else
						if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) and udg_ANBUTarget[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] == GetTriggerUnit() then
							call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
                            				if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') then
                                				call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
                                				call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
                                				call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
                            				endif
                            				if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') then
                                				call DestroyEffect(AddSpecialEffect(("AnimeFireEffectJiraiya.mdx" ), (( GetUnitX(GetKillingUnit()) )*1.0), (( GetUnitY(GetKillingUnit()))*1.0))) // INLINED!!
                                				call SetUnitState(GetKillingUnit(), UNIT_STATE_LIFE, GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE) + 10000)
                            				endif
						endif
						if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) then
							call AdjustPlayerStateBJ(300, pk, PLAYER_STATE_RESOURCE_GOLD)
						endif
						if (UnitHasItemOfTypeBJ((GetKillingUnit() ), ( 'I010'))) then // INLINED!!
							call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
						endif
						if ( GetUnitTypeId(GetKillingUnit()) == 'H0A7' or GetUnitTypeId(GetKillingUnit()) == 'U00A' or GetUnitTypeId(GetKillingUnit()) == 'U00G' ) and udg_assists[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1] >= 15 then
							call AdjustPlayerStateBJ(500, pk, PLAYER_STATE_RESOURCE_GOLD)
						endif
						call AdjustPlayerStateBJ(bounty, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
						call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, pkname + "|r pawned " + udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) + "|r's head for " + I2S(R2I(bounty)) + "g")
					endif
				endif
				set udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]=udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] - 2
			endif
		else
			if udg_TeamDuelOn or ( s__TeamDuel_STARTED and s__s__TeamDuel_PLAYER_STATE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] != 0 ) then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					//call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, pkname + "|r pawned " + udg_strings02[GetPlayerId(pd)+1] + GetUnitName(GetTriggerUnit()) + "|r's head but without penalty!")
				endif
			else
				if udg_BattleRoyal then
					set bounty=400 + 20 * GetHeroLevel(GetTriggerUnit()) + 400 * udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]
					if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) and udg_ANBUTarget[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] == GetTriggerUnit() then
						call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
                        			if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') then
                            				call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
			                		call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
			                		call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
                            			endif
                        			if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') then
                            				call DestroyEffect(AddSpecialEffect(("AnimeFireEffectJiraiya.mdx" ), (( GetUnitX(GetKillingUnit()) )*1.0), (( GetUnitY(GetKillingUnit()))*1.0))) // INLINED!!
                            				call SetUnitState(GetKillingUnit(), UNIT_STATE_LIFE, GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE) + 10000)
                        			endif
					endif
					if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) then
						call AdjustPlayerStateBJ(300, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if (UnitHasItemOfTypeBJ((GetKillingUnit() ), ( 'I010'))) then // INLINED!!
						call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if ( GetUnitTypeId(GetKillingUnit()) == 'H0A7' or GetUnitTypeId(GetKillingUnit()) == 'U00A' or GetUnitTypeId(GetKillingUnit()) == 'U00G' ) and udg_assists[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1] >= 15 then
						call AdjustPlayerStateBJ(500, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
						call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, pkname + "|r pawned " + udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) + "|r's head for " + I2S(bounty) + "g")
					endif
					call AdjustPlayerStateBJ(bounty, pk, PLAYER_STATE_RESOURCE_GOLD)
				else
					set bounty=200 + 10 * GetHeroLevel(GetTriggerUnit()) + 200 * udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]
					if GetOwningPlayer(GetKillingUnit()) == Player(3) or GetOwningPlayer(GetKillingUnit()) == Player(7) or GetOwningPlayer(GetKillingUnit()) == Player(11) then
						set i=0
						loop
							exitwhen i > 11
							if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), GetOwningPlayer(GetKillingUnit())) then
								call AdjustPlayerStateBJ(bounty, Player(i), PLAYER_STATE_RESOURCE_GOLD)
							endif
							set i=i + 1
						endloop
					else
						if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) and udg_ANBUTarget[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] == GetTriggerUnit() then
							call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
                            				if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') then
                                				call ModifyHeroStat(bj_HEROSTAT_STR, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
                                				call ModifyHeroStat(bj_HEROSTAT_AGI, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
                                				call ModifyHeroStat(bj_HEROSTAT_INT, GetKillingUnit(), bj_MODIFYMETHOD_ADD, 2)
			    				endif
                            				if UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') then
                                				call DestroyEffect(AddSpecialEffect(("AnimeFireEffectJiraiya.mdx" ), (( GetUnitX(GetKillingUnit()) )*1.0), (( GetUnitY(GetKillingUnit()))*1.0))) // INLINED!!
                                				call SetUnitState(GetKillingUnit(), UNIT_STATE_LIFE, GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE) + 10000)
                            				endif
						endif
						if ( UnitHasItemOfTypeBJ(GetKillingUnit(), 'rwiz') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07C') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07A') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07F') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07G') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07E') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07D') or UnitHasItemOfTypeBJ(GetKillingUnit(), 'I07B') ) then
							call AdjustPlayerStateBJ(300, pk, PLAYER_STATE_RESOURCE_GOLD)
						endif
						if (UnitHasItemOfTypeBJ((GetKillingUnit() ), ( 'I010'))) then // INLINED!!
							call AdjustPlayerStateBJ(1000, pk, PLAYER_STATE_RESOURCE_GOLD)
						endif
						if ( GetUnitTypeId(GetKillingUnit()) == 'H0A7' or GetUnitTypeId(GetKillingUnit()) == 'U00A' or GetUnitTypeId(GetKillingUnit()) == 'U00G' ) and udg_assists[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1] >= 15 then
							call AdjustPlayerStateBJ(500, pk, PLAYER_STATE_RESOURCE_GOLD)
						endif
						call AdjustPlayerStateBJ(bounty, pk, PLAYER_STATE_RESOURCE_GOLD)
					endif
					if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
						call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, pkname + "|r pawned " + udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) + "|r's head for " + I2S(bounty) + "g")
					endif
				endif
				set udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]=0
				set udg_BountyKills[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]=0
			endif
		endif
		if not udg_TeamDuelOn then
			if udg_Bounty[GetPlayerId(pk) + 1] <= 0 then
				call AdjustPlayerStateBJ(- 200 * udg_Bounty[GetPlayerId(pk) + 1], pk, PLAYER_STATE_RESOURCE_GOLD)
				set udg_Bounty[GetPlayerId(pk) + 1]=1
			else
				set udg_Bounty[GetPlayerId(pk) + 1]=udg_Bounty[GetPlayerId(pk) + 1] + 1
			endif
			if not udg_FirstBlood then
				call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, pkname + "|r just drew a |cff87ceebfirst blood|r for 500g!")
				call AdjustPlayerStateBJ(500, pk, PLAYER_STATE_RESOURCE_GOLD)
				set udg_FirstBlood=true
			endif
			set udg_Streak[GetPlayerId(pk) + 1]=udg_Streak[GetPlayerId(pk) + 1] + 1
			set udg_StreakTime[GetPlayerId(pk) + 1]=15
            		set udg_BountyKills[GetPlayerId(pk) + 1]=udg_BountyKills[GetPlayerId(pk) + 1] + 1
			if udg_Streak[GetPlayerId(pk) + 1] == 2 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(pk) + 1] + GetUnitName(udg_units33[GetPlayerId(pk) + 1]) + "|r just got a |cff87ceebdouble kill|r!")
				endif
				set udg_Bounty[GetPlayerId(pk) + 1]=udg_Bounty[GetPlayerId(pk) + 1] + 1
			elseif udg_Streak[GetPlayerId(pk) + 1] == 3 then
			
				if ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H03K' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H03O' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Mecha_Naruto_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMecha Naruto: HAHAHA!! MECHA-NARUTO IS NUMBER ONE!!|r")

                               				
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H07E' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Rikudou_Naruto_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffNaruto: We won't lose! Isn't that right, Kurama!|r")

                                				
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N02V' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Hanzo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHanzo: Witness the power of the legendary Hanzo of the Salamander!|r")

                                				
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H02H' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Iruka_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffIruka: So, you want to start from the bottom of the ninja academy again?!|r")

                                					
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N013' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Kaguya_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKaguya: Rest at ease. I've won.|r")

                                																
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U005' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00E' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Kisame_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKisame: Resistance is pointless. At least it is when you're up against me... Heh heh.|r")

                                			
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00O' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Shisui_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffShisui: Whether this is a genjutsu or reality doesn't make any difference. You've already lost.|r")

                                			
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H033' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Hashirama_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHashirama: Gahahahaha!! That was pretty fun!|r")

                                			
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H06L' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Gengetsu_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffGengetsu: See, you idiot! This is what happens when you overexert yourself...!|r")

                                								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00H' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Tsunade_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffTsunade: You better stop fooling around... I'll smash you to bits.|r")

                                										
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N00V' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Danzo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffDanzo: You are a necessary sacrifice for me to become Hokage.|r")

                                									
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N00V' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Danzo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffDanzo: You are a necessary sacrifice for me to become Hokage.|r")

                                								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00D' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H01H' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Deidara_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffDeidara: Good! Good! Good! Now that's what I call a masterpiece!|r")

                                											
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N001' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N025' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Itachi_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffItachi: Your defeat... That is my reality...|r")

                                							
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N017' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N01T' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Muu_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMuu: Come on. Did you really think you could beat me with that?|r")

                                							
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E01Y' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E02E' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E02F' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Sasori_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffSasori: I'll add you to my collection of puppets.|r")

                                						
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00O' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Nagato_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffNagato: You don't have a ghost of a chance. Give up.|r")

                                						
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H05M' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Zabuza_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffZabuza: You should be honored I'm sending you to hell personally.|r")
                                			
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H041' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H048' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Konan_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKonan: Human lives are frail and fleeting...|r")
                                			
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'O006' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'O008' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Sai_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffSai: Will you hate me if I don't hold back...?|r")
                                			
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N011' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N01J' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Madara_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMadara: Victory is out of the question for you.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00C' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U001' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Jiraiya_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffJiraiya: Lord Jiraiya, Toad Sage of Mount Myoboku! That's me!|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00H' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00I' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Curse_Sasuke_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffSasuke: If you interfere with my revenge, I'll crush you. That's all!|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U002' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00P' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Orochimaru_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffOrochimaru: No one can oppose me...|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N02C' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Young_Kabuto_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKabuto: You have zero ability as a ninja...|r")
                                			
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N010' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N018' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Sage_Kabuto_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKabuto: I am perfection. and I never lose.|r")
                                	

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U009' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Kakuzu_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKakuzu: It's the collection office for you!|r")
                                								

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U004' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00B' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Hidan_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHidan: Oh, yes... That's it... That's the stuff...|r")
                                	
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00Y' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U010' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Tobi_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffTobi: Already, you have lost hope. All you have... is despair.|r")
                                	
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E021' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E022' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Kimimaro_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKimimaro: Weakling... Drown in the dance of the Kaguya.|r")
                                	
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E00F' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Darui_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffDarui: I'll finish you off real quick! ...Even though it's a drag.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H07F' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Jounin_Kakashi_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKakashi: You can't beat me! I've copied a thousand Jutsu!|r")
                                	

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H01Y' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Gai_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffGai: Spraying sweat is the glory of youth!!|r")
                                								
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'O001' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Yamato_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffYamato: I'll give you a taste of the terror of Wood Style.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N00P' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Tobirama_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffTobirama: A Hokage needs to have a hard heart.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H03L' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Hiruzen_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHiruzen: I'll show you just how outmatched you are!|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H082' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Jounin_Minato_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMinato: You may be my enemy... but, I like you.|r")
                               		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H086' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H072' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Hokage_Minato_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMinato: I can't lose this... Not while I'm Hokage.|r")
                                	
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E01C' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E07G' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Raikage_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffRaikage: I am the Fourth Raikage! Second to NONE!|r")
                                	
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E036' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Mifune_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMifune: Getting close to me is the last thing you'll do. I'll slash you with Kurosawa.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H0B2' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H0B4' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Yugito_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffYugito: You don't even realize your lack of ability, do you?|r")
                                	
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H06J' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Suigetsu_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffSuigetsu: Y'know... I just love how it feels when I slice stuff in two!|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N00M' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Karin_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKarin: That was just ugly. Weaklings shouldn't go picking fights.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E034' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E035' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Juugo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffJuugo: Destruction rules the world! Geh ha ha ha haaah!|r")
                                	

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00N' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Tenten_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffTenten: I won. I won! A huge victory for Tenten the great!|r")
                                		

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H07A' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Anbu_Kakashi_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKakashi: I won't let you harm my comrades!|r")
                                			

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00C' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H0A1' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Gaara_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffGaara: Kazekage is not just an empty title.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H071' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Haku_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHaku: When sparks land on you, you must brush them off...|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H0AZ' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Utakata_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffUtakata: I'm not hosting the Six Tails just for show!|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H0AG' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Fuu_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffFuu: You're goin' out with a BANG! That's how Fuu gets it done!|r")
                                		
																
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H08C' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Han_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHan: I can smash through any crisis with my Herculean strength!|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H01M' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Roshi_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffRoshi: My path is that of hell. I shall go forward with the Four Tails.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N01S' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Yagura_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffYagura: The burdens you and I bear are completely different!|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H05E' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H05F' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Jirobo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffJirobo: Heh heh... My thanks...|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H044' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H053' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Kidomaru_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKidomaru: Tch... That wasn't fun at all.|r")
                                		
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'O000' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Chouji_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffChouji: I've got barbecue waiting for me after this battle!!|r")
                                		

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N00J' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Ino_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffIno: Beautiful flowers sometimes have thorns. you know!|r")
                                										
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H000' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Neji_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffNeji: No matter what sort of ninja you are, you can't escape my Byakugan.|r")
                                			

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H070' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Lee_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffLee: The sweat of effort makes victory shine!|r")
                                			

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00J' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00B' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Kiba_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKiba: Akamaru and I are an unstoppable team!|r")
                                			

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00Y' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Shino_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffShino: This is how the Aburame clan fights.|r")
                                											
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E000' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Hinata_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHinata: Behold! The Hyuga is the greatest in all the Leaf!|r")
                                		

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H03D' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Asuma_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffAsuma: Protecting the King is my job.|r")
                                								

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H093' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Konohamaru_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKonohamaru: My name is Konohamaru Sarutobi! I'm going to be the next Hokage!|r")
                                		

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E00V' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Sakura_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffSakura: I am Sakura Haruno! Pupil of Lady Tsunade, one of the Sannin! Don't underestimate me!|r")
                                			

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H008' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Mei_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMei: I hate to break it to you, but women aren't always soft.|r")
                                			

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H02P' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Temari_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffTemari: It took guts to challenge me. I'll give you that much.|r")
                                							

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'O00L' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Kankuro_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKankuro: Now THAT'S a Secret Black Move! Nobody can copy that!|r")
                                				

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'O007' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Chiyo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffChiyo: I haven't gotten this worked up in ages.|r")
                                						

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N00U' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N01C' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Ohnoki_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffOhnoki: I am Ohnoki, the Great Fence Sitter! Take a good, long look!|r")
                                			

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H00L' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Shikamaru_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffShikamaru: You've been playing into my hands...the whole time.|r")
                                		

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H07B' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H01N' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Sage_Naruto_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffNaruto: I'll inherit my master's will!|r")
                                											
								
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00J' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Rikudou_Sasuke_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffSasuke: There's nothing you can do now.|r")
                                		

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H055' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H056' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H09O' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Bee_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffBee: The shocking Lariat! Wheeeeee!|r")

                                	
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00D' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00N' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Obito_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffObito: There is no such thing as hope in this world...!|r")


				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00U' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N031' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Mitsuki_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffMitsuki: Alright, this battle's over.|r")


				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H06O' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Boruto_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffBoruto: I won't give up 'till the end! Victory is mine!|r")


				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00K' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Ringo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffRingo: How boring... Not a single soul to give me a thrill.|r")


				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U01G' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Anko_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffAnko: You sure are energetic. Boys like you die the fastest.|r")


				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H0A7' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00A' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'U00G' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Ichigo_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffIchigo: It's meaningless to just live, and it's meaningless to just fight. I want to win.|r")
					if udg_integers13[( 1 + GetPlayerId(pk) )] >= 100 then
						set udg_integers11[( 1 + GetPlayerId(pk) )]=udg_integers11[( 1 + GetPlayerId(pk) )] + 15
					endif


				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H06Z' ) then
                                        call PlaySoundOnUnitBJ(gg_snd_Hanabi_Kill, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHanabi: Heheheh! Unfortunately, it looks like this is the end!|r")


				// Triple Kills Without Sounds

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H06U' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E07Q' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Kinkaku_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKinkaku: You can fight as hard as you want, but a weakling is a weakling! You'll never make up that difference!|r")

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E072' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Dosu_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffDosu: Lord Orochimaru, or rather Orochimaru, now do you see? I'm more than a mere puppet|r")
						
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'E03U' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Hayate_Triple_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffHayate: With the moon as our witness... I swear to you, and you swear to me.. That we will love each other above all else, and will protect each other|r")
																									
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N019' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Guren_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffGuren: A place where someone still thinks about you is a place you can call home.|r")
						
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N01M' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Kurenai_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffKurenai: It's useless, you can't escape this genjutsu.|r")
						
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N02B' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Shizune_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffShizune: Let's go Tonton!|r")

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'N02N' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Fuu_Yamanaka_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffFuu Yamanaka: I will not fail Lord Danzo|r")
						
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H0AW' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Torune_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffTorune: I will not fail Lord Danzo|r")

				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H05I' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Ajisai_Animal_Path_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffAnimal Path (Ajisai): Feel the Stampede.|r")
						
				elseif ( GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H035' or GetUnitTypeId(udg_units33[GetPlayerId(pk) + 1]) == 'H001' ) then
                                        //call PlaySoundOnUnitBJ(gg_snd_Zetsu_Kill_Fake, 175.0, GetTriggerUnit())
                        		call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cffdf80ffZetsu: When you're sad and alone... The only one you can count on is yourself.|r")

                                endif
			
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(pk) + 1] + GetUnitName(udg_units33[GetPlayerId(pk) + 1]) + "|r just got a |cff87ceebtriple kill|r!")
				endif
				set udg_Bounty[GetPlayerId(pk) + 1]=udg_Bounty[GetPlayerId(pk) + 1] + 2
			elseif udg_Streak[GetPlayerId(pk) + 1] == 4 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(pk) + 1] + GetUnitName(udg_units33[GetPlayerId(pk) + 1]) + "|r just got a |cffff0000quadra kill|r!")
				endif
				set udg_Bounty[GetPlayerId(pk) + 1]=udg_Bounty[GetPlayerId(pk) + 1] + 3
			elseif udg_Streak[GetPlayerId(pk) + 1] == 5 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(pk) + 1] + GetUnitName(udg_units33[GetPlayerId(pk) + 1]) + "|r just got a |cffff0000penta kill|r!!")
				endif
				set udg_Bounty[GetPlayerId(pk) + 1]=udg_Bounty[GetPlayerId(pk) + 1] + 4
			elseif udg_Streak[GetPlayerId(pk) + 1] == 6 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(pk) + 1] + GetUnitName(udg_units33[GetPlayerId(pk) + 1]) + "|r just got a |cffff0000hexa kill|r!!")
				endif
				set udg_Bounty[GetPlayerId(pk) + 1]=udg_Bounty[GetPlayerId(pk) + 1] + 5
			elseif udg_Bounty[GetPlayerId(pk) + 1] >= 7 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, udg_strings02[GetPlayerId(pk) + 1] + GetUnitName(udg_units33[GetPlayerId(pk) + 1]) + "|r is |cffff0000DOMINATING|r (x|r" + I2S(udg_BountyKills[GetPlayerId(pk) + 1]) + ")!!!")
				endif
				set udg_Bounty[GetPlayerId(pk) + 1]=udg_Bounty[GetPlayerId(pk) + 1] + 2
			endif
			if assis1 != - 1 and assis2 != - 1 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					//call DisplayTextToPlayer(GetLocalPlayer(), 0, 0,(((("Assisted by "+udg_strings02[assis1+1]+GetUnitName(udg_units33[assis1+1])+("|r and "+(udg_strings02[assis2+1]+GetUnitName(udg_units33[assis2+1])+("|r! "))))) )))
				endif
				set udg_assists[assis1 + 1]=udg_assists[assis1 + 1] + 1
				set udg_integers11[assis1 + 1]=udg_integers11[assis1 + 1] + 2
				set udg_assists[assis2 + 1]=udg_assists[assis2 + 1] + 1
				set udg_integers11[assis2 + 1]=udg_integers11[assis2 + 1] + 2

				call AdjustPlayerStateBJ(200, GetOwningPlayer(udg_units33[assis1 + 1]), PLAYER_STATE_RESOURCE_GOLD)
				call AdjustPlayerStateBJ(200, GetOwningPlayer(udg_units33[assis2 + 1]), PLAYER_STATE_RESOURCE_GOLD)

				// UI
                		call s__HeroUIMessage_start(udg_units33[GetPlayerId(pk) + 1] , udg_units33[GetPlayerId(pd) + 1] , udg_units33[assis1 + 1] , udg_units33[assis2 + 1])

                		//call HeroIcon.create(GetTriggerUnit(), AHSS_Configurations.PLAYER_ICONS[assis2], 0.245, 0.5, 0.025, 3)
                		//call HeroIcon.create(GetTriggerUnit(), AHSS_Configurations.PLAYER_ICONS[assis1], 0.27, 0.5, 0.025, 2)
                		//call HeroIcon.create(GetTriggerUnit(), AHSS_Configurations.PLAYER_ICONS[GetPlayerId(pk)], 0.32, 0.5, 0.05, 0)
                		//call HeroMessage.create(GetTriggerUnit(), "DeathMessageKilled.blp", 0.4, 0.5)
               			//call HeroIcon.create(GetTriggerUnit(), AHSS_Configurations.PLAYER_ICONS[GetPlayerId(pd)], 0.48, 0.5, 0.05, 1)
			elseif assis1 != - 1 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					//call DisplayTextToPlayer(GetLocalPlayer(), 0, 0,"Assisted by "+udg_strings02[assis1+1]+GetUnitName(udg_units33[assis1+1])+"|r|cff1ce6b9|r! ")
				endif
				set udg_assists[assis1 + 1]=udg_assists[assis1 + 1] + 1
				set udg_integers11[assis1 + 1]=udg_integers11[assis1 + 1] + 2

				call AdjustPlayerStateBJ(200, GetOwningPlayer(udg_units33[assis1 + 1]), PLAYER_STATE_RESOURCE_GOLD)

				// UI
               			 call s__HeroUIMessage_start(GetKillingUnit() , GetTriggerUnit() , udg_units33[assis1 + 1] , null)
		        elseif assis2 != - 1 then
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					//call DisplayTextToPlayer(GetLocalPlayer(), 0, 0,"Assisted by "+udg_strings02[assis2+1]+GetUnitName(udg_units33[assis2+1])+"|r|cff1ce6b9|r! ")
				endif
				set udg_assists[assis2 + 1]=udg_assists[assis2 + 1] + 1
				set udg_integers11[assis2 + 1]=udg_integers11[assis2 + 1] + 2

				call AdjustPlayerStateBJ(200, GetOwningPlayer(udg_units33[assis2 + 1]), PLAYER_STATE_RESOURCE_GOLD)

				// UI
                		call s__HeroUIMessage_start(GetKillingUnit() , GetTriggerUnit() , udg_units33[assis2 + 1] , null)
			else
				// UI
                		call s__HeroUIMessage_start(GetKillingUnit() , GetTriggerUnit() , null , null)
			endif
			//call UpdateMultiboard()
			//call ForForce(GetPlayersMatching(Condition(function Trig_HeroDeath_Func007Func004001001)),function Trig_HeroDeath_Func007Func004A)
		endif
	else
		if ( ( ( ( GetKillingUnit() == GetTriggerUnit() ) ) or ( ( GetKillingUnit() == null ) ) ) ) then
			if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
				call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, ( ( ( ( "|cff1ce6b9" + udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) ) + "|r have commited suicide! |r" ) ) ))
			endif
			call AdjustPlayerStateBJ(- 1, pk, PLAYER_STATE_RESOURCE_LUMBER)
		else
			if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
				call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, ( ( ( ( "|cff1ce6b9" + udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) ) + "|r was killed by an ally! |r" ) ) ))
			endif
		endif
	endif
	if UnitAddAbility(GetTriggerUnit(), 'Amrf') then
		call UnitRemoveAbility(GetTriggerUnit(), 'Amrf')
	endif
	if udg_BattleRoyal then
		if udg_FFA then
			if udg_integers13[GetPlayerId(pk) + 1] >= udg_Survival_Limit then
				set i=0
				loop
					exitwhen i > 11
					if i != GetPlayerId(pk) then
						call TimedDefeat(Player(i))
					endif
					set i=i + 1
				endloop
				call TimedVictory(pk)
			endif
		else
			set i=0
			set sum=0
			loop
				exitwhen i > 11
				if IsPlayerAlly(Player(i), pk) then
					set sum=sum + udg_integers13[i + 1]
				endif
				set i=i + 1
			endloop
			if sum >= udg_Survival_Limit then
				set i=0
				loop
					exitwhen i > 11
					if IsPlayerAlly(Player(i), pk) then
						call TimedVictory(Player(i))
					else
						call TimedDefeat(Player(i))
					endif
					set i=i + 1
				endloop
			endif
		endif
	endif
	call SetUnitFlyHeight(GetTriggerUnit(), 0.00, 0.00)
	if udg_TeamDuelOn then
		call ForceRemovePlayer(udg_TeamDuelPlayers, GetTriggerPlayer())
		call Trig_HeroDeath_CheckIfTeamDuelIsOver()
	endif
	if udg_BattleRoyal then
		call StartTimerBJ(udg_timers01[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], false, 10.00)
	else
		if udg_ZombieCombo and ( GetUnitTypeId(GetTriggerUnit()) == 'U004' or GetUnitTypeId(GetTriggerUnit()) == 'U009' ) then
			call StartTimerBJ(udg_timers01[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], false, 20.00)
		else
			if udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] < 0 then
				call StartTimerBJ(udg_timers01[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], false, IMinBJ(10 + udg_Minutes, 30))
			else
				call StartTimerBJ(udg_timers01[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], false, IMinBJ(10 + udg_Minutes, 30))
			endif
		endif
	endif
	set udg_timerdialogs01[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )]=CreateTimerDialogBJ(bj_lastStartedTimer, GetUnitName(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]))
	if not IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
		call TimerDialogDisplay(udg_timerdialogs01[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], false)
	endif
	if udg_BattleRoyal then
		call TriggerSleepAction(10.00)
	elseif udg_ZombieCombo and ( GetUnitTypeId(GetTriggerUnit()) == 'U004' or GetUnitTypeId(GetTriggerUnit()) == 'U009' ) then
		call TriggerSleepAction(20.0)
	else
		if UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I05E') then
			call TriggerSleepAction(20.00)
		elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00M'))) then // INLINED!!
			call TriggerSleepAction(IMinBJ(( udg_Minutes - 5 ), 30 - 15))
		elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00M'))) and UnitHasItemOfTypeBJ(GetTriggerUnit(), 'I05E') then // INLINED!!
			call TriggerSleepAction(5.00)
		elseif ( GetUnitTypeId(GetTriggerUnit()) == 'U00A' or GetUnitTypeId(GetTriggerUnit()) == 'U00G' or GetUnitTypeId(GetTriggerUnit()) == 'H0A7' ) and udg_integers14[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] >= 10 then
			call TriggerSleepAction(IMinBJ(( 10 + udg_Minutes ) * 2 / 3, 30))
		else
			if udg_Bounty[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1] < 0 then
				call TriggerSleepAction(IMinBJ(10 + udg_Minutes, 30))
			else
				call TriggerSleepAction(IMinBJ(10 + udg_Minutes, 30))
			endif
		endif
	endif
	call DestroyTimerDialog(udg_timerdialogs01[( 1 + GetPlayerId(GetTriggerPlayer()) )])
	if GetTriggerUnit() != null then
		if udg_BattleRoyal then
			call ReviveHeroLoc(GetTriggerUnit(), GetRectCenter(gg_rct_ArenaInvulArea), false)
			call SetUnitState(GetTriggerUnit(), UNIT_STATE_MANA, 999999.0)
			call PlaySoundBJ(udg_sound03)
			call CreateNUnitsAtLoc(1, 'n006', GetTriggerPlayer(), GetRectCenter(gg_rct_ArenaInvulArea), bj_UNIT_FACING)
			call StopSoundBJ(udg_sound03, true)
		else
			if IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(7)) then
				call ReviveHeroLoc(GetTriggerUnit(), GetRectCenter(udg_rect04), false)
				if not IsPlayerInForce(GetTriggerPlayer(), udg_TeamDuelPlayers) then
					call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetRectCenter(udg_rect04), 0.20)
				endif
				call PlaySoundBJ(udg_sound03)
				call CreateNUnitsAtLoc(1, 'n006', GetTriggerPlayer(), GetRectCenter(udg_rect04), bj_UNIT_FACING)
				call StopSoundBJ(udg_sound03, true)
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, ( udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) + "|r was revived for Otogakure." ))
				endif
			elseif IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), Player(3)) then
				call ReviveHeroLoc(GetTriggerUnit(), GetRectCenter(udg_rect03), false)
				if not IsPlayerInForce(GetTriggerPlayer(), udg_TeamDuelPlayers) then
					call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetRectCenter(udg_rect03), 0.20)
				endif
				call PlaySoundBJ(udg_sound03)
				call CreateNUnitsAtLoc(1, 'n006', GetTriggerPlayer(), GetRectCenter(udg_rect03), bj_UNIT_FACING)
				call StopSoundBJ(udg_sound03, true)
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, ( udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) + "|r was revived for Shinobi Alliance." ))
				endif
			else
				call ReviveHeroLoc(GetTriggerUnit(), GetRectCenter(udg_rect05), false)
				if not IsPlayerInForce(GetTriggerPlayer(), udg_TeamDuelPlayers) then
					call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetRectCenter(udg_rect05), 0.20)
				endif
				call PlaySoundBJ(udg_sound03)
				call CreateNUnitsAtLoc(1, 'n006', GetTriggerPlayer(), GetRectCenter(udg_rect05), bj_UNIT_FACING)
				call StopSoundBJ(udg_sound03, true)
				if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
					call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, ( udg_strings02[GetPlayerId(pd) + 1] + GetUnitName(GetTriggerUnit()) + "|r was revived for Akatsuki." ))
				endif
			endif
		endif
        	set udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1]=GetTriggerUnit()
        	call ShowUnit(GetTriggerUnit(), true)
        	call PauseUnit(GetTriggerUnit(), false)
        	call SetUnitVertexColor((GetTriggerUnit() ), ( 255 ), ( 255 ), ( 255 ), ( 255)) // INLINED!!
        	call SetUnitInvulnerable(GetTriggerUnit(), false)
        	call UnitRemoveAbility(GetTriggerUnit(), 'Avul')
        	call UnitRemoveAbility(GetTriggerUnit(), 'Bvul')
        	call SetUnitManaPercentBJ(GetTriggerUnit(), 100.0)
        	call SetUnitTimeScale(GetTriggerUnit(), 1.0)
        	call SetUnitFlyHeight(GetTriggerUnit(), 0.00, 0.00)
		if udg_HeroWindow[GetUnitPointValue(GetTriggerUnit())] > 0 then
			call SetUnitPropWindow(GetTriggerUnit(), udg_HeroWindow[GetUnitPointValue(GetTriggerUnit())])
		endif
		if udg_TeamDuelOn and not IsPlayerInForce(GetTriggerPlayer(), udg_TeamDuelPlayers) then
			call PauseUnit(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1], true)
			call SetUnitInvulnerable(udg_units33[GetPlayerId(GetOwningPlayer(GetTriggerUnit())) + 1], true)
		endif
	endif
   endfunction

//===========================================================================
   function InitTrig_HeroDeath takes nothing returns nothing
    	set gg_trg_HeroDeath=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(gg_trg_HeroDeath, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(gg_trg_HeroDeath, Condition(function Trig_HeroDeath_Conditions))
	call TriggerAddAction(gg_trg_HeroDeath, function Trig_HeroDeath_Actions)
   endfunction


//===========================================================================
// Trigger: HeroLevelRestriction
//===========================================================================

function Trig_Level1_Actions takes nothing returns nothing
    if GetHeroLevel(GetTriggerUnit()) >= 50 then
        call SetPlayerTechResearchedSwap('R003', 4, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R004', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R005', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R002', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R007', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R008', 1, GetTriggerPlayer())
    elseif GetHeroLevel(GetTriggerUnit()) >= 40 then
        call SetPlayerTechResearchedSwap('R003', 3, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R004', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R005', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R007', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R008', 1, GetTriggerPlayer())
    elseif GetHeroLevel(GetTriggerUnit()) >= 35 then
        call SetPlayerTechResearchedSwap('R003', 2, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R004', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R007', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R008', 1, GetTriggerPlayer())
    elseif GetHeroLevel(GetTriggerUnit()) >= 30 then
        call SetPlayerTechResearchedSwap('R003', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R007', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R008', 1, GetTriggerPlayer())
    elseif GetHeroLevel(GetTriggerUnit()) >= 15 then
        call SetPlayerTechResearchedSwap('R003', 1, GetTriggerPlayer())
        call SetPlayerTechResearchedSwap('R008', 1, GetTriggerPlayer())
    elseif GetHeroLevel(GetTriggerUnit()) >= 10 then
        call SetPlayerTechResearchedSwap('R003', 1, GetTriggerPlayer())
    endif
endfunction

//===========================================================================
function InitTrig_HeroLevelRestriction takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_LEVEL ) , Filter(( function Trig_Level1_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: ChakraJump
//===========================================================================

    function s__ChakraJump_jump takes nothing returns nothing
        local real angle
        local real distance
        local real x
        local real y
        local integer i
        if not IsTerrainPathable(GetSpellTargetX(), GetSpellTargetY(), PATHING_TYPE_WALKABILITY) then
            // minato special effect 
            if GetUnitTypeId(GetTriggerUnit()) == 'H086' or GetUnitTypeId(GetTriggerUnit()) == 'H082' or GetUnitTypeId(GetTriggerUnit()) == 'H072' then
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Yellow Blink.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
			else
			// itachi special effect
			if GetUnitTypeId(GetTriggerUnit()) == 'N001' or GetUnitTypeId(GetTriggerUnit()) == 'N025' then
                call DestroyEffect(AddSpecialEffect(("ItachiE.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            else
                call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            endif
	endif
            call SetUnitX(GetTriggerUnit(), GetSpellTargetX())
            call SetUnitY(GetTriggerUnit(), GetSpellTargetY())
            // minato special effect 
            if GetUnitTypeId(GetTriggerUnit()) == 'H086' or GetUnitTypeId(GetTriggerUnit()) == 'H082' or GetUnitTypeId(GetTriggerUnit()) == 'H072' then
                call DestroyEffect(AddSpecialEffect(("war3mapImported\\Yellow Blink.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
			else
			// itachi special effect
			if GetUnitTypeId(GetTriggerUnit()) == 'N001' or GetUnitTypeId(GetTriggerUnit()) == 'N025' then
                call DestroyEffect(AddSpecialEffect(("ItachiE.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            else
                call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
            endif
	endif
        else
            set angle=Atan3(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
            set distance=GetDistance(GetUnitX(GetTriggerUnit()) , GetUnitY(GetTriggerUnit()) , GetSpellTargetX() , GetSpellTargetY())
            loop
                exitwhen distance <= 0
                set distance=distance - 50
                set x=(((GetUnitX(GetTriggerUnit()) )*1.0) + Cos((( angle )*1.0)) * (( distance)*1.0)) // INLINED!!
                set y=(((GetUnitY(GetTriggerUnit()) )*1.0) + Sin((( angle )*1.0)) * (( distance)*1.0)) // INLINED!!
                if not IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) then
                    // minato special effect 
                    if GetUnitTypeId(GetTriggerUnit()) == 'H086' or GetUnitTypeId(GetTriggerUnit()) == 'H082' or GetUnitTypeId(GetTriggerUnit()) == 'H072' then
                        call DestroyEffect(AddSpecialEffect(("war3mapImported\\Yellow Blink.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
					else
				// itachi special effect
					if GetUnitTypeId(GetTriggerUnit()) == 'N001' or GetUnitTypeId(GetTriggerUnit()) == 'N025' then
						call DestroyEffect(AddSpecialEffect(("ItachiE.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
                    else
                        call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
                    endif
			endif
                    call SetUnitX(GetTriggerUnit(), x)
                    call SetUnitY(GetTriggerUnit(), y)
                    // minato special effect 
                    if GetUnitTypeId(GetTriggerUnit()) == 'H086' or GetUnitTypeId(GetTriggerUnit()) == 'H082' or GetUnitTypeId(GetTriggerUnit()) == 'H072' then
                        call DestroyEffect(AddSpecialEffect(("war3mapImported\\Yellow Blink.mdx" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
                    else
                        call DestroyEffect(AddSpecialEffect(("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
                    endif
                    exitwhen true
                endif
            endloop
        endif
    endfunction 

    function s__ChakraJump_onInit takes nothing returns nothing
        call RegisterSpellEffectEvent2(('ANcl' ) , Filter(( function s__ChakraJump_jump))) // INLINED!!
        endfunction 

//===========================================================================
// Trigger: FixTransformations
//===========================================================================
    
//Implemented from module Alloc:
    
        function s__FixTransformations_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__FixTransformations_Alloc__recycle[(0)] == 0 ) then
                set s__FixTransformations_Alloc__instanceCount=s__FixTransformations_Alloc__instanceCount + 1
                set this=s__FixTransformations_Alloc__instanceCount
            else
                set this=s__FixTransformations_Alloc__recycle[(0)]
                set s__FixTransformations_Alloc__recycle[(0)]=s__FixTransformations_Alloc__recycle[s__FixTransformations_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__FixTransformations_deallocate takes integer this returns nothing
            set s__FixTransformations_Alloc__recycle[this]=s__FixTransformations_Alloc__recycle[(0)]
            set s__FixTransformations_Alloc__recycle[(0)]=this
        endfunction
    
    function s__FixTransformations_unpause takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call PauseUnit(s__FixTransformations_caster[this], false)
        call s__FixTransformations_deallocate(this)
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__FixTransformations_removeInvul takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        call UnitMakeAbilityPermanent(s__FixTransformations_caster[this], false, 'Avul')
        call UnitRemoveAbility(s__FixTransformations_caster[this], 'Avul')
        call UnitRemoveBuffs(s__FixTransformations_caster[this], false, true)
        call SetUnitInvulnerable(s__FixTransformations_caster[this], false)
        call PauseUnit(s__FixTransformations_caster[this], true)
        call TimerStartEx(NewTimerEx(this) , 0.1 , false , function s__FixTransformations_unpause , "FixTransformations.unpause")
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__FixTransformations_actions takes nothing returns nothing
        local integer this= s__FixTransformations_allocate()
        set s__FixTransformations_caster[this]=GetTriggerUnit()
        call UnitRemoveBuffs(GetTriggerUnit(), false, true)
        call UnitAddAbility(GetTriggerUnit(), 'Avul')
        call UnitMakeAbilityPermanent(GetTriggerUnit(), true, 'Avul')
        call PauseUnit(s__FixTransformations_caster[this], true)
        if GetSpellAbilityId() == 'A0O5' or GetSpellAbilityId() == 'ANg2' then
            call TimerStartEx(NewTimerEx(this) , 0.01 , false , function s__FixTransformations_removeInvul , "FixTransformations.removeInvul")
        else
            call TimerStartEx(NewTimerEx(this) , 1.0 , false , function s__FixTransformations_removeInvul , "FixTransformations.removeInvul")
        endif
    endfunction 
    
    function s__FixTransformations_onInit takes nothing returns nothing
        //call RegisterSpellEffectEvent('A0QU', function thistype.actions)
        call RegisterSpellEffectEvent2(('A0FJ' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0B6' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0KF' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0E3' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('ANg2' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0D2' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0WQ' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A03G' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0EA' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0B8' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0LB' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0O5' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0UV' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A054' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0P3' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0PL' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A19X' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A04Y' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A1AO' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A1BA' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A0I2' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A1DS' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
        call RegisterSpellEffectEvent2(('A1DT' ) , Filter(( function s__FixTransformations_actions))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: RivalsSystem
//===========================================================================

function Trig_RivalsSystem_Copy_Actions takes nothing returns nothing
    local unit killer= GetKillingUnit()
    local unit killed= GetTriggerUnit()
    local integer killerId
    local integer killedId
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetTriggerUnit()) and IsUnitEnemy(killer, GetOwningPlayer(killed)) then
		set killerId=GetUnitTypeId(killer)
		set killedId=GetUnitTypeId(killed)
        set udg_Is_Rival=false
        if ( killerId == 'H07E' or killerId == 'H07B' or killerId == 'H01N' ) and ( killedId == 'U00J' or killedId == 'U00H' or killedId == 'U00I' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Naruto: Sasuke, I will bear the burden of your hate, and I'll die with you!|r")
            endif
            set udg_Is_Rival=true
        elseif ( killerId == 'U00J' or killerId == 'U00H' or killerId == 'U00I' ) and ( killedId == 'H07E' or killedId == 'H07B' or killedId == 'H01N' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sasuke: Naruto, you crack me up... you got no parents, no brothers, you were alone to begin with! What can you know about me?!|r")
            endif
            set udg_Is_Rival=true
	    elseif ( killerId == 'N001' or killerId == 'N025' ) and ( killedId == 'U00H' or killedId == 'U00I' or killedId == 'U00J' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Itachi: Sasuke, you're still too weak... you don't have enough hate|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'U00J' and killedId == 'N001' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sasuke: Itachi, I can forgive you, but I can never forgive Konoha|r")
            endif
            set udg_Is_Rival=true
	    elseif killerId == 'U00H' and ( killedId == 'N001' or killedId == 'N025' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sasuke: Itachi, I'll use my hatred to turn fantasy into reality and your reality... is death|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'H033' and ( killedId == 'N011' or killedId == 'N01J' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Hashirama: Madara, I shall not tolerate anyone who seeks to harm the village, be they friend, brother or even my very own child|r")
            endif
            set udg_Is_Rival=true
        elseif ( killerId == 'N011' or killerId == 'N01J' ) and killedId == 'H033' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Madara: Hashirama, you just can't see it... what's even further ahead... dreams of the far future|r")
            endif
	    set udg_Is_Rival=true
        elseif ( killerId == 'H07F' or killerId == 'H07A' ) and killedId == 'H01Y' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kakashi: Gai, it seems like I won again...|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'H01Y' and ( killedId == 'H07F' or killedId == 'H07A' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Gai: Kakashi, the springtime of youth has yet to fade away!|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'N00V' and killedId == 'H03L' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Danzo: Hiruzen, I always knew you were weak...|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'H03L' and killedId == 'N00V' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Hiruzen: Danzo, I can't ignore your actions anymore.|r")
            endif
            set udg_Is_Rival=true
        elseif ( killerId == 'H07F' or killerId == 'H07A' ) and killedId == 'U00D' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kakashi: Obito, I may be garbage as a shinobi but I've still learned a thing or two. The hole in one's heart gets filled by others around you!|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'U00D' and ( killedId == 'H07F' or killedId == 'H07A' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Obito: Kakashi, What would I gain from criticizing this absurd reality? I have no interest in the affairs of a world that shall soon cease to exist!|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'H000' and killedId == 'H070' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Neji: Lee, losers will always be losers. It is the way of the world.|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'H070' and killedId == 'H000' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Rock Lee: Neji, so you call yourself a genius, huh? It doesn't matter how genius you are if you don't have determination!|r")
            endif
	    set udg_Is_Rival=true
        elseif killerId == 'N00J' and killedId == 'E00V' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Ino: Eat dust, you billboard brow!|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'E00V' and killedId == 'N00J' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sakura: It seems that you're having a hard time, huh, Ino-pig!|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'N017' and killedId == 'H06L' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Muu: Shut up, Gengetsu. You talk too much.|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'H06L' and killedId == 'N017' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Gengetsu: Muu! You're just a mummy left out to die!! I'm the strongest one!!!|r")
            endif
            set udg_Is_Rival=true
        elseif killerId == 'H093' and ( killedId == 'H07E' or killedId == 'H07B' or killedId == 'H01N' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Konohamaru: Naruto-oniichan, forget it, I am the one who will become the next hokage!!|r")
            endif
            set udg_Is_Rival=true
        elseif killedId == 'H093' and ( killerId == 'H07E' or killerId == 'H07B' or killerId == 'H01N' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Naruto: You still have a lot to learn, Konohamaru-chan!!|r")
            endif
            set udg_Is_Rival=true
        elseif killedId == 'E01C' and killerId == 'H082' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Minato: Next time we meet I will put the title of 'Hokage' on the line!!|r")
            endif
            set udg_Is_Rival=true
	elseif killedId == 'H082' and killerId == 'E01C' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9A: So that is the Konoha Yellow Flash? I am not impressed at all!!|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'E000' and killedId == 'H000' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Hinata: I am not going back on my word! That is my ninja way!!|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'H000' and killedId == 'E000' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Neji: As I thought, this is the extent of the main branch's power!|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'N025' and killedId == 'N00V' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Itachi: I witnessed everything Danzo!!|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'N00V' and killedId == 'N025' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Danzo: The Uchiha are a threat to be wiped out!!|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'H044' or killerId == 'H053' ) and killedId == 'H000' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kidomaru: As I thought, your visual jutsu isn't perfect!|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'H000' and ( killedId == 'H044' or killedId == 'H053' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Neji: Substance with Chakra base... are meaningless against the Gentle Fist!!|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'H00L' and ( killedId == 'U004' or killedId == 'U00B' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Shikamaru: When You Curse Someone, You Dig Your Own Grave|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'U00B' or killerId == 'U004' ) and killedId == 'H00L' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Hidan: You failed just like your sensei|r")
            endif
			set udg_Is_Rival=true
	elseif ( killerId == 'U00B' or killerId == 'U004' ) and killedId == 'H03D' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Hidan: Does Konoha bury their dead? Cause it will be a pain to retrieve that bounty for Kakuzu|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'H03D' and ( killedId == 'U004' or killedId == 'U00B' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Asuma: I will not die here, my will of fire has yet to be extinguished|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'H05E' or killerId == 'H05F' ) and killedId == 'O000' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Jirobo: This is what happens to weaklings!|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'O000' and ( killedId == 'H05E' or killedId == 'H05F' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Chouji: That blow just now... was for eating the last piece of my potato chips!|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'H00D' or killerId == 'H01H' ) and ( killedId == 'H00C' or killedId == 'H0A1' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Deidara: The Jinchuriki of the One Tails is now captured!|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'H00C' or killerId == 'H0A1' ) and ( killedId == 'H00D' or killedId == 'H01H' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Gaara: I will bury you under the sand for hurting my village|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'O007' and ( killedId == 'E01Y' or killedId == 'E02E' or killedId == 'E02F' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Chiyo: Sasori, It seems you have still not surpassed me!|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'E01Y' or killerId == 'E02E' or killerId == 'E02F' ) and killedId == 'O007' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sasori: You're just an old bag, I'm surprised you haven't keeled over|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'E00V' and ( killedId == 'E01Y' or killedId == 'E02E' or killedId == 'E02F' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sakura: Don't you dare underestimate a kunoichi!|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'E01Y' or killerId == 'E02E' or killerId == 'E02F' ) and killedId == 'E00V' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sasori: You'll be immortalized as one of my puppets forever little girl|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'N02B' and killedId == 'N02C' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Shizune: Get out of my way|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'N02C' and killedId == 'N02B' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kabuto: This is what you get for your master not healing Lord Orochimaru |r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'H00N' and killedId == 'H02P' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Tenten: Temari, this time I won, seems like you were wrong, weapons are superior|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'H02P' and killedId == 'H00N' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Temari: You can never beat me with your weapon mastery|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'U005' or killerId == 'U00E' ) and killedId == 'H01Y' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kisame: I will drown your power of youth under the waves|r")
            endif
            set udg_Is_Rival=true
	elseif killerId == 'H01Y' and ( killedId == 'U005' or killedId == 'U00E' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Gai: Hoshigake Kisame, I will remember your name for the rest of my life!|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'U005' or killerId == 'U00E' ) and ( killedId == 'H055' or killedId == 'H09O' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kisame: With Samehada, I'll show you what a real Beast is like|r")
            endif
            set udg_Is_Rival=true
	elseif ( killerId == 'H055' or killerId == 'H09O' ) and ( killedId == 'U005' or killedId == 'U00E' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Killer Bee: I'm gonna make you weep! You sharky creep!|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'N001' and killedId == 'N01M' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Itachi: Genjutsu on that level doesn't work against me.|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'N01M' and killedId == 'N001' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kurenai: I will not allow a rogue ninja to step inside the village!|r")
            endif
			set udg_Is_Rival=true
	elseif ( killerId == 'H00D' or killerId == 'H01H' ) and ( killedId == 'E01Y' or killedId == 'E02E' or killedId == 'E02F' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Deidara: Art is a fleeting moment of beauty thats vanishes gloriously!|r")
                endif
                        set udg_Is_Rival=true
	elseif ( killerId == 'E01Y' or killerId == 'E02E' or killerId == 'E02F' ) and ( killedId == 'H00D' or killedId == 'H01H' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Sasori: Eternal beauty is the true art!|r")
                endif
			set udg_Is_Rival=true
	elseif killerId == 'O000' and killedId == 'E072' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Chouji: My ears are closed, your soundwaves wont reach me!|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'E072' and killedId == 'O000' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Dosu: My soundwaves can be used to destroy you in more ways then with just your ears!|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'H07F' and killedId == 'H05M' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kakashi: Zabuza, your death won't come from a copied jutsu, no. it will come from my own unique jutsu!|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'H05M' and killedId == 'H07F' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Zabuza: I'm impressed you could last this long, Kakashi the copy ninja, but in the end it seems like the Demon won.|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'H00Y' and killedId == 'H0AW' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Shino: Natural talent can't be beaten by effort alone!|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'H0AW' and killedId == 'H00Y' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Torune: I worked my entire life to catch up to you, and in the end it seems like it payed off!|r")
            endif
			set udg_Is_Rival=true
	elseif ( killerId == 'U00C' or killerId == 'U001' ) and killedId == 'U002' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Jiraiya: Today there is one less Sannin in the world.|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'U002' and ( killedId == 'U00C' or killedId == 'U001' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Orochimaru: Jiraiya, you never learned, the strength of a true shinobi is the number of jutsus he's mastered!|r")
            endif
			set udg_Is_Rival=true
	elseif ( killerId == 'H00C' or killedId == 'H0A1' ) and ( killedId == 'E021' or killedId == 'E022' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Gaara: Brainwashed by Orochimaru, I pity you.|r")
            endif
            set udg_Is_Rival=true
				elseif ( killerId == 'E021' or killedId == 'E022' ) and ( killedId == 'H00C' or killedId == 'H0A1' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Kimimaro: Orochimaru saved me, I was not brainwashed, you trash!|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'E036' and killedId == 'N02V' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Mifune: Hanzo have you failed your own test? Have you truly lost your faith?|r")
            endif
			set udg_Is_Rival=true
	elseif killerId == 'N02V' and killedId == 'E036' then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Hanzo: You're a skilled opponent but ultimately I am superior!|r")
            endif
			set udg_Is_Rival=true
				elseif ( killerId == 'N02V' ) and ( killedId == 'U00C' or killedId == 'U001' or killedId == 'U002' or killedId == 'H00H' ) then
            if IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Hanzo: From this day on you're no longer the legendary sannin, you're the dead sannin from the leaf|r")
            endif
			set udg_Is_Rival=true
				elseif ( killerId == 'U00C' or killerId == 'U001' or killerId == 'U002' or killerId == 'H00H' ) and ( killedId == 'N02V' ) then
            if ( IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) and killerId == 'U00C' or killerId == 'U00C' ) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Jiraiya: You used to be great, but now you're just a shadow of the man you were.|r")
				endif
		    if ( IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) and killerId == 'U002' ) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Orochimaru: You used to be great, but now you're just a shadow of the man you were.|r")
				endif
		    if ( IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) and killerId == 'H00H' ) then
                call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "|cff1ce6b9Tsunade: You used to be great, but now you're just a shadow of the man you were.|r")
				endif
            set udg_Is_Rival=true
        endif
        if udg_Is_Rival then
            call AdjustPlayerStateBJ(400, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD)
            set udg_integers11[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1]=udg_integers11[GetPlayerId(GetOwningPlayer(GetKillingUnit())) + 1] + 1
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_RivalsSystem takes nothing returns nothing
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_RivalsSystem_Copy_Actions))) // INLINED!!
endfunction
//===========================================================================
// Trigger: SetUnitVariables
//===========================================================================

 function s__SetUnitVariables_leave takes nothing returns nothing
		if GetUnitTypeId(GetLeavingUnit()) == 'H00J' then
			set udg_unit44=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'H00Y' then
			set udg_unit78=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'E000' then
			set udg_unit68=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'H03D' then
			set udg_unit80=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'O000' then
			set udg_unit86=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'H00L' then
			set udg_unit47=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'H00N' then
			set udg_unit57=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'H000' then
			set udg_unit75=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'H01Y' then
			set udg_unit77=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'E01Y' then
			set udg_unit43=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'N001' then
			set udg_unit62=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'H00D' then
			set udg_unit66=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'U009' then
			set udg_unit69=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'U004' then
			set udg_unit67=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'O002' then
			set udg_unit52=GetLeavingUnit()
		elseif GetUnitTypeId(GetLeavingUnit()) == 'N00U' then
			//call SetUnitPathing(GetLeavingUnit(), false)
		endif
 endfunction

 function s__SetUnitVariables_onInit takes nothing returns nothing
		call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__SetUnitVariables_leave))) // INLINED!!
 endfunction

//===========================================================================
// Trigger: ShowUI
//===========================================================================
function Trig_ShowUI_Actions takes nothing returns nothing
call s__HeroUIMessage_start(udg_units33[1] , udg_units33[1] , udg_units33[1] , udg_units33[1])
endfunction

//===========================================================================
function InitTrig_ShowUI takes nothing returns nothing
    set gg_trg_ShowUI=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_ShowUI, Player(0), "-ttt", true)
    call TriggerAddAction(gg_trg_ShowUI, function Trig_ShowUI_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions 001
//===========================================================================
function Trig_Cheats_Actions_001_Func001Func001C takes nothing returns boolean
    if ( not ( GetPlayerController(GetEnumPlayer()) == MAP_CONTROL_USER ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_001_Func001A takes nothing returns nothing
    if ( Trig_Cheats_Actions_001_Func001Func001C() ) then
        set udg_DEBUG_INT=( udg_DEBUG_INT + 1 )
    else
    endif
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_List, GetEnumPlayer(), "-cheats", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_CD, GetEnumPlayer(), "resetcd", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Mommy, GetEnumPlayer(), "whosyourmommy", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Level, GetEnumPlayer(), "setherolevel", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Items, GetEnumPlayer(), "gimmeallitems", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Stats, GetEnumPlayer(), "setstat", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Test, GetEnumPlayer(), "test", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Pick, GetEnumPlayer(), "pick", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_DisableCD, GetEnumPlayer(), "disablecd", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Mission_B, GetEnumPlayer(), "missionb", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Mission_A, GetEnumPlayer(), "missiona", false)
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_Mission_S, GetEnumPlayer(), "missions", false)
endfunction

function Trig_Cheats_Actions_001_Actions takes nothing returns nothing
    call ForForce(GetPlayersAll(), function Trig_Cheats_Actions_001_Func001A)
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_001 takes nothing returns nothing
    set gg_trg_Cheats_Actions_001=CreateTrigger()
    call TriggerAddAction(gg_trg_Cheats_Actions_001, function Trig_Cheats_Actions_001_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions 002
//===========================================================================
function Trig_Cheats_Actions_002_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_002_Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "TRIGSTR_5876")
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_002 takes nothing returns nothing
    set gg_trg_Cheats_Actions_002=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_Cheats_Actions_002, 1.00)
    call TriggerAddCondition(gg_trg_Cheats_Actions_002, Condition(function Trig_Cheats_Actions_002_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_002, function Trig_Cheats_Actions_002_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions List
//===========================================================================
function Trig_Cheats_Actions_List_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 7) == "-cheats" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_List_Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "TRIGSTR_5760")
    call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "|cffffcc00test:|r Move your hero to a test location")
    call DisplayTimedTextToForce(GetPlayersAll(), 30.00, "|cffffcc00disablecd:|r Disable ninja weapons cooldown")
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_List takes nothing returns nothing
    set gg_trg_Cheats_Actions_List=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_Cheats_Actions_List, Player(11), "-cheatlist", true)
    call TriggerAddCondition(gg_trg_Cheats_Actions_List, Condition(function Trig_Cheats_Actions_List_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_List, function Trig_Cheats_Actions_List_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions CD
//===========================================================================
function Trig_Cheats_Actions_CD_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 7) == "resetcd" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_CD_Func002A takes nothing returns nothing
    call UnitResetCooldown(GetEnumUnit())
endfunction

function Trig_Cheats_Actions_CD_Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()), function Trig_Cheats_Actions_CD_Func002A)
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_CD takes nothing returns nothing
    set gg_trg_Cheats_Actions_CD=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_CD, Condition(function Trig_Cheats_Actions_CD_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_CD, function Trig_Cheats_Actions_CD_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions Mommy
//===========================================================================
function Trig_Cheats_Actions_Mommy_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 13) == "whosyourmommy" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Mommy_Func002A takes nothing returns nothing
    call SetUnitInvulnerable(GetEnumUnit(), true)
endfunction

function Trig_Cheats_Actions_Mommy_Func003Func001A takes nothing returns nothing
    call SetUnitInvulnerable(GetEnumUnit(), false)
endfunction

function Trig_Cheats_Actions_Mommy_Func003C takes nothing returns boolean
    if ( not ( udg_CHEAT_MOMMYSWITCH == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Mommy_Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), GetTriggerPlayer()), function Trig_Cheats_Actions_Mommy_Func002A)
    if ( Trig_Cheats_Actions_Mommy_Func003C() ) then
        set udg_CHEAT_MOMMYSWITCH=true
    else
        call ForGroupBJ(GetUnitsInRectOfPlayer(GetPlayableMapRect(), GetTriggerPlayer()), function Trig_Cheats_Actions_Mommy_Func003Func001A)
        set udg_CHEAT_MOMMYSWITCH=false
    endif
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Mommy takes nothing returns nothing
    set gg_trg_Cheats_Actions_Mommy=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Mommy, Condition(function Trig_Cheats_Actions_Mommy_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Mommy, function Trig_Cheats_Actions_Mommy_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions DisableCD
//===========================================================================
function Trig_Cheats_Actions_DisableCD_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 9) == "disablecd" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_DisableCD_Actions takes nothing returns nothing
    local integer i= 0
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    loop
	exitwhen i > 12
    	call SetPlayerTechResearchedSwap('Rhst', 2, Player(i))
	set i=i + 1
	endloop
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_DisableCD takes nothing returns nothing
    set gg_trg_Cheats_Actions_DisableCD=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_DisableCD, Condition(function Trig_Cheats_Actions_DisableCD_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_DisableCD, function Trig_Cheats_Actions_DisableCD_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions Level
//===========================================================================
function Trig_Cheats_Actions_Level_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 12) == "setherolevel" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Level_Func002001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true )
endfunction

function Trig_Cheats_Actions_Level_Func002001002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction

function Trig_Cheats_Actions_Level_Func002001002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true), (GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE))) // INLINED!!
endfunction

function Trig_Cheats_Actions_Level_Func002A takes nothing returns nothing
    set bj_forLoopAIndex=GetHeroLevel(GetEnumUnit())
    set bj_forLoopAIndexEnd=S2I(SubStringBJ(GetEventPlayerChatString(), 13, 15))
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call SetHeroLevelBJ(GetEnumUnit(), GetForLoopIndexA(), false)
        set bj_forLoopAIndex=bj_forLoopAIndex + 1
    endloop
endfunction

function Trig_Cheats_Actions_Level_Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Cheats_Actions_Level_Func002001002)), function Trig_Cheats_Actions_Level_Func002A)
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Level takes nothing returns nothing
    set gg_trg_Cheats_Actions_Level=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Level, Condition(function Trig_Cheats_Actions_Level_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Level, function Trig_Cheats_Actions_Level_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions Items
//===========================================================================
function Trig_Cheats_Actions_Items_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 13) == "gimmeallitems" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Items_Func002001002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction

function Trig_Cheats_Actions_Items_Func002001002002 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true )
endfunction

function Trig_Cheats_Actions_Items_Func002001002 takes nothing returns boolean
    return GetBooleanAnd((GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE)), (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true)) // INLINED!!
endfunction

function Trig_Cheats_Actions_Items_Func002Func005Func001C takes nothing returns boolean
    if ( not ( GetHeroStatBJ(bj_HEROSTAT_STR, GetEnumUnit(), false) > GetHeroStatBJ(bj_HEROSTAT_INT, GetEnumUnit(), false) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Items_Func002Func005C takes nothing returns boolean
    if ( not ( GetHeroStatBJ(bj_HEROSTAT_STR, GetEnumUnit(), false) > GetHeroStatBJ(bj_HEROSTAT_AGI, GetEnumUnit(), false) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Items_Func002Func006Func001C takes nothing returns boolean
    if ( not ( GetHeroStatBJ(bj_HEROSTAT_AGI, GetEnumUnit(), false) > GetHeroStatBJ(bj_HEROSTAT_INT, GetEnumUnit(), false) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Items_Func002Func006C takes nothing returns boolean
    if ( not ( GetHeroStatBJ(bj_HEROSTAT_AGI, GetEnumUnit(), false) > GetHeroStatBJ(bj_HEROSTAT_STR, GetEnumUnit(), false) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Items_Func002Func007Func001C takes nothing returns boolean
    if ( not ( GetHeroStatBJ(bj_HEROSTAT_INT, GetEnumUnit(), false) > GetHeroStatBJ(bj_HEROSTAT_AGI, GetEnumUnit(), false) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Items_Func002Func007C takes nothing returns boolean
    if ( not ( GetHeroStatBJ(bj_HEROSTAT_INT, GetEnumUnit(), false) > GetHeroStatBJ(bj_HEROSTAT_STR, GetEnumUnit(), false) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Items_Func002A takes nothing returns nothing
    call UnitAddItemByIdSwapped('rde4', GetEnumUnit())
    call UnitAddItemByIdSwapped('I00C', GetEnumUnit())
    call UnitAddItemByIdSwapped('pinv', GetEnumUnit())
    call UnitAddItemByIdSwapped('I038', GetEnumUnit())
    if ( Trig_Cheats_Actions_Items_Func002Func005C() ) then
        if ( Trig_Cheats_Actions_Items_Func002Func005Func001C() ) then
            call UnitAddItemByIdSwapped('ratc', GetEnumUnit())
            call UnitAddItemByIdSwapped('I011', GetEnumUnit())
        else
        endif
    else
    endif
    if ( Trig_Cheats_Actions_Items_Func002Func006C() ) then
        if ( Trig_Cheats_Actions_Items_Func002Func006Func001C() ) then
            call UnitAddItemByIdSwapped('rat6', GetEnumUnit())
            call UnitAddItemByIdSwapped('I012', GetEnumUnit())
        else
        endif
    else
    endif
    if ( Trig_Cheats_Actions_Items_Func002Func007C() ) then
        if ( Trig_Cheats_Actions_Items_Func002Func007Func001C() ) then
            call UnitAddItemByIdSwapped('rat9', GetEnumUnit())
            call UnitAddItemByIdSwapped('I001', GetEnumUnit())
        else
        endif
    else
    endif
endfunction

function Trig_Cheats_Actions_Items_Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Cheats_Actions_Items_Func002001002)), function Trig_Cheats_Actions_Items_Func002A)
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Items takes nothing returns nothing
    set gg_trg_Cheats_Actions_Items=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Items, Condition(function Trig_Cheats_Actions_Items_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Items, function Trig_Cheats_Actions_Items_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions Stats
//===========================================================================
function Trig_Cheats_Actions_Stats_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 1, 7) == "setstat" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Stats_Func002Func001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true )
endfunction

function Trig_Cheats_Actions_Stats_Func002Func001001002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction

function Trig_Cheats_Actions_Stats_Func002Func001001002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true), (GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE))) // INLINED!!
endfunction

function Trig_Cheats_Actions_Stats_Func002Func001Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Stats_Func002Func001A takes nothing returns nothing
    if ( Trig_Cheats_Actions_Stats_Func002Func001Func001C() ) then
        call ModifyHeroStat(bj_HEROSTAT_STR, GetEnumUnit(), bj_MODIFYMETHOD_SET, S2I(SubStringBJ(GetEventPlayerChatString(), 13, 15)))
    else
    endif
endfunction

function Trig_Cheats_Actions_Stats_Func002C takes nothing returns boolean
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 9, 11) == "str" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Stats_Func003Func001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true )
endfunction

function Trig_Cheats_Actions_Stats_Func003Func001001002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction

function Trig_Cheats_Actions_Stats_Func003Func001001002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true), (GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE))) // INLINED!!
endfunction

function Trig_Cheats_Actions_Stats_Func003Func001Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Stats_Func003Func001A takes nothing returns nothing
    if ( Trig_Cheats_Actions_Stats_Func003Func001Func001C() ) then
        call ModifyHeroStat(bj_HEROSTAT_AGI, GetEnumUnit(), bj_MODIFYMETHOD_SET, S2I(SubStringBJ(GetEventPlayerChatString(), 13, 15)))
    else
    endif
endfunction

function Trig_Cheats_Actions_Stats_Func003C takes nothing returns boolean
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 9, 11) == "agi" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Stats_Func004Func001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true )
endfunction

function Trig_Cheats_Actions_Stats_Func004Func001001002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) )
endfunction

function Trig_Cheats_Actions_Stats_Func004Func001001002 takes nothing returns boolean
    return GetBooleanAnd((IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true), (GetOwningPlayer(GetFilterUnit()) != Player(PLAYER_NEUTRAL_PASSIVE))) // INLINED!!
endfunction

function Trig_Cheats_Actions_Stats_Func004Func001Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Stats_Func004Func001A takes nothing returns nothing
    if ( Trig_Cheats_Actions_Stats_Func004Func001Func001C() ) then
        call ModifyHeroStat(bj_HEROSTAT_INT, GetEnumUnit(), bj_MODIFYMETHOD_SET, S2I(SubStringBJ(GetEventPlayerChatString(), 13, 15)))
    else
    endif
endfunction

function Trig_Cheats_Actions_Stats_Func004C takes nothing returns boolean
    if ( not ( SubStringBJ(GetEventPlayerChatString(), 9, 11) == "int" ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Stats_Actions takes nothing returns nothing
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    if ( Trig_Cheats_Actions_Stats_Func002C() ) then
        call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Cheats_Actions_Stats_Func002Func001001002)), function Trig_Cheats_Actions_Stats_Func002Func001A)
    else
    endif
    if ( Trig_Cheats_Actions_Stats_Func003C() ) then
        call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Cheats_Actions_Stats_Func003Func001001002)), function Trig_Cheats_Actions_Stats_Func003Func001A)
    else
    endif
    if ( Trig_Cheats_Actions_Stats_Func004C() ) then
        call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Cheats_Actions_Stats_Func004Func001001002)), function Trig_Cheats_Actions_Stats_Func004Func001A)
    else
    endif
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Stats takes nothing returns nothing
    set gg_trg_Cheats_Actions_Stats=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Stats, Condition(function Trig_Cheats_Actions_Stats_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Stats, function Trig_Cheats_Actions_Stats_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions Test
//===========================================================================
function Trig_Cheats_Actions_Test_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Test_Actions takes nothing returns nothing
    local unit u= udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    if RectContainsUnit(gg_rct_TestArea, u) then
        if IsUnitAlly(u, Player(3)) then
            call SetUnitPosition(u, - 5733, 762)
        elseif IsUnitAlly(u, Player(7)) then
            call SetUnitPosition(u, 3944, 6291)
        else
            call SetUnitPosition(u, 3035, - 6059)
        endif
    else
        call SetUnitLifePercentBJ(gg_unit_H0A9_0068, 100)
        call SetUnitPosition(gg_unit_H0A9_0068, - 5680, - 8300)
        call SetUnitPosition(u, - 6790, - 8300)
        call SetUnitFacing(u, 0)
    endif
    call PanCameraToTimedForPlayer(GetTriggerPlayer(), GetUnitX(u), GetUnitY(u), 0)
    set u=null
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Test takes nothing returns nothing
    set gg_trg_Cheats_Actions_Test=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Test, Condition(function Trig_Cheats_Actions_Test_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Test, function Trig_Cheats_Actions_Test_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Actions Mission B
//===========================================================================
function Trig_Cheats_Actions_Mission_B_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Mission_B_Actions takes nothing returns nothing
    local unit u= udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    set udg_MissionBUnit=u
    if RectContainsUnit(gg_rct_MissionB, u) then
        if IsUnitAlly(u, Player(3)) then
            call SetUnitPosition(u, - 5733, 762)
        elseif IsUnitAlly(u, Player(7)) then
            call SetUnitPosition(u, 3944, 6291)
        else
            call SetUnitPosition(u, 3035, - 6059)
        endif
    else
        call SetUnitPosition(u, 6915, - 2120)
        call SetUnitFacing(u, 90)
    endif
    call PanCameraToTimedForPlayer(GetTriggerPlayer(), GetUnitX(u), GetUnitY(u), 0)
    set u=null
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Mission_B takes nothing returns nothing
    set gg_trg_Cheats_Actions_Mission_B=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Mission_B, Condition(function Trig_Cheats_Actions_Mission_B_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Mission_B, function Trig_Cheats_Actions_Mission_B_Actions)
endfunction

//===========================================================================
// Trigger: Cheats Actions Mission A
//===========================================================================
function Trig_Cheats_Actions_Mission_A_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Mission_A_Actions takes nothing returns nothing
    local unit u= udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    set udg_MissionAUnit=u
    if RectContainsUnit(gg_rct_MissionA, u) then
        if IsUnitAlly(u, Player(3)) then
            call SetUnitPosition(u, - 5733, 762)
        elseif IsUnitAlly(u, Player(7)) then
            call SetUnitPosition(u, 3944, 6291)
        else
            call SetUnitPosition(u, 3035, - 6059)
        endif
    else
        call SetUnitPosition(u, 7167, - 7503)
        call SetUnitFacing(u, 0)
    endif
    call PanCameraToTimedForPlayer(GetTriggerPlayer(), GetUnitX(u), GetUnitY(u), 0)
    set u=null
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Mission_A takes nothing returns nothing
    set gg_trg_Cheats_Actions_Mission_A=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Mission_A, Condition(function Trig_Cheats_Actions_Mission_A_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Mission_A, function Trig_Cheats_Actions_Mission_A_Actions)
endfunction

//===========================================================================
// Trigger: Cheats Actions Mission S
//===========================================================================
function Trig_Cheats_Actions_Mission_S_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Mission_S_Actions takes nothing returns nothing
    local unit u= udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, ( GetPlayerName(GetTriggerPlayer()) + ": WWW.NARUTONINPOU.COM" ))
    set udg_MissionSUnit=u
    if RectContainsUnit(gg_rct_MissionS, u) then
        if IsUnitAlly(u, Player(3)) then
            call SetUnitPosition(u, - 5733, 762)
        elseif IsUnitAlly(u, Player(7)) then
            call SetUnitPosition(u, 3944, 6291)
        else
            call SetUnitPosition(u, 3035, - 6059)
        endif
    else
        call SetUnitPosition(u, 8448, - 3617)
        call SetUnitFacing(u, 270)
    endif
    call PanCameraToTimedForPlayer(GetTriggerPlayer(), GetUnitX(u), GetUnitY(u), 0)
    set u=null
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Mission_S takes nothing returns nothing
    set gg_trg_Cheats_Actions_Mission_S=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Mission_S, Condition(function Trig_Cheats_Actions_Mission_S_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Mission_S, function Trig_Cheats_Actions_Mission_S_Actions)
endfunction

//===========================================================================
// Trigger: Cheats Actions Pick
//===========================================================================
function Trig_Cheats_Actions_Pick_Conditions takes nothing returns boolean
    if ( not ( udg_DEBUG_INT <= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cheats_Actions_Pick_Actions takes nothing returns nothing
    //call AHSS_Configurations.start(false)
    //call AHSS_Graphics.loopMethod(0)
endfunction

//===========================================================================
function InitTrig_Cheats_Actions_Pick takes nothing returns nothing
    set gg_trg_Cheats_Actions_Pick=CreateTrigger()
    call TriggerAddCondition(gg_trg_Cheats_Actions_Pick, Condition(function Trig_Cheats_Actions_Pick_Conditions))
    call TriggerAddAction(gg_trg_Cheats_Actions_Pick, function Trig_Cheats_Actions_Pick_Actions)
endfunction


//===========================================================================
// Trigger: Cheats Press ESCAPE
//===========================================================================
function Trig_Cheats_Press_ESCAPE_Actions takes nothing returns nothing
	if udg_DEBUG_INT <= 1 then
		call SetHeroLevelBJ(udg_units33[1], 50, false)
		call SetUnitState(udg_units33[1], UNIT_STATE_LIFE, GetUnitState(udg_units33[1], UNIT_STATE_MAX_LIFE))
		call SetUnitState(udg_units33[1], UNIT_STATE_MANA, GetUnitState(udg_units33[1], UNIT_STATE_MAX_MANA))
		call SetUnitState(gg_unit_H0A9_0068, UNIT_STATE_LIFE, GetUnitState(gg_unit_H0A9_0068, UNIT_STATE_MAX_LIFE))
		call SetUnitX(gg_unit_H0A9_0068, - 5709)
		call SetUnitY(gg_unit_H0A9_0068, - 8258)
		call UnitResetCooldown(udg_units33[1])
	endif
endfunction

//===========================================================================
function InitTrig_Cheats_Press_ESCAPE takes nothing returns nothing
    set gg_trg_Cheats_Press_ESCAPE=CreateTrigger()
    call TriggerRegisterPlayerEventEndCinematic(gg_trg_Cheats_Press_ESCAPE, Player(0))
    call TriggerAddAction(gg_trg_Cheats_Press_ESCAPE, function Trig_Cheats_Press_ESCAPE_Actions)
endfunction


//===========================================================================
// Trigger: PickHeroByName
//===========================================================================
function Trig_PickHeroByName_Actions takes nothing returns nothing
    local string name
    local string iname
    local integer i= 0
    local integer j= 0
    if udg_DEBUG_INT <= 1 then
        set name=SubString(GetEventPlayerChatString(), 1, 999999)
        loop
            exitwhen i == s__AHSS_Configurations_MAX_SLOTS
            set j=0
            loop
                exitwhen j == StringLength(s__s__AHSS_Configurations_HERO_NAMES[i]) or SubString(s__s__AHSS_Configurations_HERO_NAMES[i], j, j + 1) == ","
                set j=j + 1
            endloop
            set iname=SubString(s__s__AHSS_Configurations_HERO_NAMES[i], 0, j)
            if StringCase(iname, false) == StringCase(name, false) then
                set udg_units33[1]=CreateUnit(GetTriggerPlayer(), s__s__AHSS_Configurations_HERO_IDS[i], GetRectCenterX(gg_rct_fonte), GetRectCenterY(gg_rct_fonte), 270)
                call SetUnitPosition(udg_units33[1], GetRectCenterX(gg_rct_fonte_konoha), GetRectCenterY(gg_rct_fonte_konoha))
            endif
            set i=i + 1
        endloop
    endif
endfunction

//===========================================================================
function InitTrig_PickHeroByName takes nothing returns nothing
    set gg_trg_PickHeroByName=CreateTrigger()
    call TriggerRegisterPlayerChatEvent(gg_trg_PickHeroByName, Player(0), "-", false)
    call TriggerAddAction(gg_trg_PickHeroByName, function Trig_PickHeroByName_Actions)
endfunction
//===========================================================================
// Trigger: PointSystem
//===========================================================================

function Trig_UpdatePoints_Func035Func001C takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) or ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) ) )
endfunction

function Trig_PointSystem_Conditions takes nothing returns boolean
	return ( ( ( ( ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) or ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) ) ) ) ) and ( ( IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) ) ) and ( ( GetOwningPlayer(GetTriggerUnit()) != GetOwningPlayer(GetKillingUnit()) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'Hjai' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U009' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'O00A' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U00S' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01Q' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01R' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H09A' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01T' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H09Y' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N01Y' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U00R' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U00Q' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'U000' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H04L' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H05O' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'Huth' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'O00B' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'O00E' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H02O' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'H06D' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'E04B' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'N00Q' ) ) and ( ( IsUnitInGroup(GetTriggerUnit(), udg_groups01[200]) == false ) ) and ( ( IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()), udg_forces01[1]) ) ) ) )
endfunction

function Trig_UpdatePoints_Func006C takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) ) )
endfunction

function Trig_PointSystem_Actions takes nothing returns nothing
 local unit death=GetDyingUnit()
 local unit killunit=GetKillingUnit()
 local integer looper
 local player dp=GetOwningPlayer(death)
 local player ku=GetOwningPlayer(killunit)
 local integer points
 local integer i
 local integer id= (GetUnitUserData((death))) // INLINED!!
	if GetUnitTypeId(GetTriggerUnit()) == 'N01M' and GetWidgetLife(GetTriggerUnit()) > 0.405 then
		return
	endif
	if IsUnitInGroup(GetTriggerUnit(), udg_BloodMist) then
		set killunit=udg_Yagura
		set ku=GetOwningPlayer(udg_Yagura)
	endif
	if ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) ) ) then
		if killunit != null and not IsPlayerAlly(ku, dp) then
			set udg_integers11[( 1 + GetPlayerId(ku) )]=udg_integers11[( 1 + GetPlayerId(ku) )] + 2
		endif
	else
		if not udg_TeamDuelOn then
            if s__TeamDuel_STARTED and s__s__TeamDuel_PLAYER_STATE[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] != 0 then

            else
                if ku == Player(3) or ku == Player(7) or ku == Player(11) then
                    set i=0
                    loop
                        exitwhen i > 11
                        if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), ku) then
                            set udg_integers11[( 1 + i )]=udg_integers11[( 1 + i )] + R2I(IMinBJ(35, 25 + GetHeroLevel(death)) / 35.0 * 10) / 3
                        endif
                        set i=i + 1
                    endloop
                    set udg_integers14[( 1 + GetPlayerId(dp) )]=udg_integers14[( 1 + GetPlayerId(dp) )] + 1
                    set udg_integers11[( 1 + GetPlayerId(dp) )]=udg_integers11[( 1 + GetPlayerId(dp) )] - R2I(IMinBJ(35, 13 + GetHeroLevel(death)) / 35.0 * 5)
                else
                    set udg_integers13[( 1 + GetPlayerId(ku) )]=udg_integers13[( 1 + GetPlayerId(ku) )] + 1
                    set udg_integers14[( 1 + GetPlayerId(dp) )]=udg_integers14[( 1 + GetPlayerId(dp) )] + 1
                    set udg_integers11[( 1 + GetPlayerId(ku) )]=udg_integers11[( 1 + GetPlayerId(ku) )] + R2I(IMinBJ(35, 13 + GetHeroLevel(death)) / 35.0 * 10)
                    set udg_integers11[( 1 + GetPlayerId(dp) )]=udg_integers11[( 1 + GetPlayerId(dp) )] - R2I(IMinBJ(35, 13 + GetHeroLevel(death)) / 35.0 * 5)
                endif
            endif
		endif
	endif
	set points=udg_integers11[1] + udg_integers11[2] + udg_integers11[3]
	set points=udg_integers11[5] + udg_integers11[6] + udg_integers11[7]
	set points=udg_integers11[9] + udg_integers11[10] + udg_integers11[11]
	set death=null
	set killunit=null
	set dp=null
	set ku=null
endfunction

//===========================================================================
function InitTrig_PointSystem takes nothing returns nothing
	set gg_trg_PointSystem=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(gg_trg_PointSystem, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(gg_trg_PointSystem, Condition(function Trig_PointSystem_Conditions))
	call TriggerAddAction(gg_trg_PointSystem, function Trig_PointSystem_Actions)
endfunction


//===========================================================================
// Trigger: AssistSystemAndDamageReduction
//===========================================================================
// scope AssistSystem begins

    
    
        
        function s__AssistSystem__System_periodic takes nothing returns nothing
            local integer i
            local integer id
            if s__AssistSystem__System_count_active == 0 then
                return
            endif
            set bj_lastCreatedGroup=CreateGroup()
            call GroupAddGroup(udg_AssistHeroes, bj_lastCreatedGroup)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                set id=(GetUnitUserData((bj_lastCreatedUnit))) // INLINED!!
                set i=1
                loop
                    exitwhen i > 12
                    if sg__assisted_get((id)*(12)+i) > 0 then
                        call sg__assisted_set((id)*(12)+i,sg__assisted_get((id)*(12)+i) - 1)
                        if sg__assisted_get((id)*(12)+i) == 0 then
                            set s__AssistSystem__System_count_active=s__AssistSystem__System_count_active - 1
                        endif
                    endif
                    set i=i + 1
                    endloop
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            set i=1
            loop
                exitwhen i > 12
                if udg_StreakTime[i] > 0 then
                    set udg_StreakTime[i]=udg_StreakTime[i] - 1
                    if udg_StreakTime[i] == 0 then
                        set udg_Streak[i]=0
                    endif
                endif
                set i=i + 1
            endloop
        endfunction
        
        function s__AssistSystem__System_removeSai takes nothing returns nothing
            local integer uid= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
            set s__AssistSystem__sai[uid]= false
            call ReleaseTimer(GetExpiredTimer())
        endfunction
        
        function s__AssistSystem__System_removeInvul takes nothing returns nothing
            call SetUnitInvulnerable((s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]), false) // INLINED!!
            call UnitRemoveAbility((s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]), 'B039') // INLINED!!
	        call UnitRemoveAbility((s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]), 'B000') // INLINED!!
            call ReleaseTimer(GetExpiredTimer())
        endfunction 
        
        function s__AssistSystem__System_actions takes nothing returns nothing
            // Guren passive
            local integer id
            local real damage= GetEventDamage()
            local real original_damage= GetEventDamage()
            local texttag tt
            local integer count
            // Rikuudou Sword 
	        if IsUnitInGroup(GetTriggerUnit(), udg_Shichiseiken) != IsUnitInGroup(GetEventDamageSource(), udg_Shichiseiken) then
                    call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + GetEventDamage())
                    return
            endif
			if GetEventDamage() >= 10 then
				set id=GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
				// Sai mark
				if GetUnitAbilityLevel(GetTriggerUnit(), 'B03E') > 0 and ( GetUnitTypeId(udg_units33[id + 1]) == 'O006' or GetUnitTypeId(udg_units33[id + 1]) == 'O008' ) and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.1, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif

				// Dragon blade
				if (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I06N'))) or (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I07U'))) or (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I07T'))) or (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I07V'))) or (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I07W'))) or (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I07Z'))) or (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I07Y'))) and GetRandomInt(0, 100) < ( ( 4000 - RMinBJ(4000, damage) ) / 150 ) and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					call CreateTextTagUnitBJ("Critical!", GetEventDamageSource(), 0, 12.00, 100, 0.00, 0.00, 0)
					call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
                    			call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
                    			call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
                    			call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
                    			call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
		   			if not IsUnitVisible(GetEventDamageSource(), GetLocalPlayer()) then
        					call SetTextTagVisibility(GetLastCreatedTextTag(), false)
    		   			endif
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif


				// Wind Dragon blade
				if (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I07X'))) and GetRandomInt(0, 100) < ( ( 6000 - RMinBJ(6000, damage) ) / 150 ) and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					call CreateTextTagUnitBJ("Critical!", GetEventDamageSource(), 0, 12.00, 100, 0.00, 0.00, 0)
					call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
                    			call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
                    			call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
                    			call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
                    			call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
		   			if not IsUnitVisible(GetEventDamageSource(), GetLocalPlayer()) then
        					call SetTextTagVisibility(GetLastCreatedTextTag(), false)
    		   			endif
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif


				// Kazekage Robe 
				if (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I03O'))) and GetRandomInt(0, 100) < 10 and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					call CreateTextTagUnitBJ("Critical!", GetEventDamageSource(), 0, 12.00, 100, 0.00, 0.00, 0)
					call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
                    			call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
                    			call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
                   			call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
                    			call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
		   			if not IsUnitVisible(GetEventDamageSource(), GetLocalPlayer()) then
        					call SetTextTagVisibility(GetLastCreatedTextTag(), false)
    		   			endif
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.2, true, false, ATTACK_TYPE_MAGIC, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif

				// Deidara Ring
				if (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I00Q'))) and GetRandomInt(0, 100) < 20 and damage < 4000 and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					call CreateTextTagUnitBJ("Explosion!", GetEventDamageSource(), 0, 12.00, 100, 0.00, 0.00, 0)
					call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
                    			call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
                    			call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
                   			call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
                    			call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
		   			if not IsUnitVisible(GetEventDamageSource(), GetLocalPlayer()) then
        					call SetTextTagVisibility(GetLastCreatedTextTag(), false)
    		   			endif
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call UnitDamageTarget(GetEventDamageSource(), GetEventDamageSource(), damage * 0.2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif

				// Shisui sharingan
				if GetTriggerUnit() == udg_ShisuiE and GetUnitTypeId(GetEventDamageSource()) == 'U00O' and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					if GetHeroLevel(GetEventDamageSource()) >= 35 then
						call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					else
						call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * ( 0.020 * GetUnitAbilityLevel(GetEventDamageSource(), 'A10Z') ), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					endif
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.01, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif

				//Mei Lava D
				if GetTriggerUnit() == udg_MeiLava and GetUnitTypeId(GetEventDamageSource()) == 'H008' and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.1, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.01, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif

				// Zabuza T
				if GetUnitAbilityLevel(GetTriggerUnit(), 'B012') > 0 and GetUnitTypeId(GetEventDamageSource()) == 'H05M' and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.01, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif

				// Pain's Ring
				if (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'I01X'))) and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.10, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.01, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif

				// Ichigo D
				if ( GetUnitTypeId(GetEventDamageSource()) == 'H0A7' or GetUnitTypeId(GetEventDamageSource()) == 'U00G' or GetUnitTypeId(GetEventDamageSource()) == 'U00A' ) and udg_Farm[GetPlayerId(GetOwningPlayer(GetEventDamageSource())) + 1] >= 2400 and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] then // INLINED!!
					set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
					call UnitDamageTarget(GetEventDamageSource(), GetTriggerUnit(), damage * 0.10, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
					call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.01, false, function s__AssistSystem__System_removeSai) // INLINED!!
				endif


                // Rikuudou Sword anti-army 
                
				if GetEventDamageSource() != null and GetPlayerController(GetOwningPlayer(GetEventDamageSource())) == MAP_CONTROL_USER and udg_units33[GetPlayerId(GetOwningPlayer(GetEventDamageSource())) + 1] != null and not s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))] and GetEventDamage() < 20000 then // INLINED!!
					// Yagura Mirror 
					if GetUnitAbilityLevel(GetTriggerUnit(), 'B046') > 0 then
						set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
						call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage * 0.05 * GetUnitAbilityLevel(GetTriggerUnit(), 'A0IQ'), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
                    			// Defense Pills  
					elseif GetUnitAbilityLevel(GetTriggerUnit(), 'B070') > 0 then
						set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
						call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage * 0.2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
					// Guren E 
					elseif GetUnitAbilityLevel(GetTriggerUnit(), 'B02O') > 0 then
						set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
						call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage * 0.01 * GetUnitAbilityLevel(GetTriggerUnit(), 'B02O'), true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
					// Sanbi's shell 
					elseif GetUnitAbilityLevel(GetTriggerUnit(), 'B038') > 0 and damage < 10000 then
						set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
						call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage * 0.5, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
					// Juubi's aura
					elseif GetUnitAbilityLevel(GetTriggerUnit(), 'B00B') > 0 and damage < 10000 then
						set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
						call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage * 0.25, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!

					// Hidan's Ring
					elseif (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I01W'))) then // INLINED!!
						set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
						call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage * 0.20, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!

					// Isobu aura
					elseif GetUnitAbilityLevel(GetTriggerUnit(), 'B01L') > 0 and damage < 10000 then
						set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
						call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage * 0.25, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
						call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
                    			// Yata Mirror (Itachi)
                    			elseif udg_YataMirror == GetTriggerUnit() then
                        			set s__AssistSystem__sai[(GetUnitUserData((GetTriggerUnit())))]= true // INLINED!!
                        			call UnitDamageTarget(GetTriggerUnit(), GetEventDamageSource(), damage, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                        			call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeSai) // INLINED!!
                    			endif
				endif
				// Kisame unleash samehada
				if GetUnitAbilityLevel(GetEventDamageSource(), 'B04A') > 0 then
					if GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) > 0 then
						call SetUnitState(GetTriggerUnit(), UNIT_STATE_MANA, GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) - damage * 0.3)
						call SetUnitState(GetEventDamageSource(), UNIT_STATE_MANA, GetUnitState(GetEventDamageSource(), UNIT_STATE_MANA) + damage * 0.3)
					endif
				endif
                if GetUnitAbilityLevel(GetTriggerUnit(), 'B039') == 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'B000') == 0 and not BlzIsUnitInvulnerable(GetTriggerUnit()) then
                    // Shukaku Aura 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B01H') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.2)
                        set damage=damage - damage * 0.2
                    endif
                    // Tsunade chakra transfer  / Scroll of Protection
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B049') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05I') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.2)
                        set damage=damage - damage * 0.2
                    endif
                    // Tsunade healing network
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B04W') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.5)
                        set damage=damage - damage * 0.5
                    endif
                    // Rinnegan damage reduction 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B00Z') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.1)
                        set damage=damage - damage * 0.1
                    endif
                    // Chiyo buff 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B03A') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.02 * GetUnitAbilityLevel(GetTriggerUnit(), 'B03A'))
                        set damage=damage - damage * 0.02 * GetUnitAbilityLevel(GetTriggerUnit(), 'B03A')
                    endif
                    // Sennin mode damage reduction 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B05S') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.02 * GetUnitAbilityLevel(GetTriggerUnit(), 'A12Q'))
                        set damage=damage - damage * 0.02 * GetUnitAbilityLevel(GetTriggerUnit(), 'A12Q')
                    endif
                    // Metal Rinnegan damage reduction 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B05D') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.2)
                        set damage=damage - damage * 0.2
                    endif
                    // Susanoo bones damage reduction 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0NQ') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'A0NS') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'A0NU') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.2)
                        set damage=damage - damage * 0.2
                    endif
                    // Chakra Healing Blessing 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B055') > 0 and GetRandomInt(1, 100) <= 30 and damage > 500 then
                        call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Human\\Heal\\HealTarget.mdl" ), (( GetUnitX(GetTriggerUnit()) )*1.0), (( GetUnitY(GetTriggerUnit()))*1.0))) // INLINED!!
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 20 * GetUnitAbilityLevel(GetTriggerUnit(), 'B055'))
                        set damage=damage - 20 * GetUnitAbilityLevel(GetTriggerUnit(), 'B055')
                    endif
                    // Chakra Healing Shield
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B059') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.01 * GetUnitAbilityLevel(GetTriggerUnit(), 'B059'))
                        set damage=damage - damage * 0.01 * GetUnitAbilityLevel(GetTriggerUnit(), 'B059')
                    endif
                    // Defense Food Pills
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B05I') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.2)
                        set damage=damage - damage * 0.2
                    endif

                    // Ino's Healing Petals
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B016') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.02 * s__InoHealingPetals_FlowerLevel)
                        set damage=damage - damage * 0.02 * s__InoHealingPetals_FlowerLevel
                    endif

                    // Obito Ring
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B063') > 0 and GetRandomInt(0, 100) < 33 and ( GetUnitTypeId(GetTriggerUnit()) == 'U00D' or GetUnitTypeId(GetTriggerUnit()) == 'U00Y' or GetUnitTypeId(GetTriggerUnit()) == 'U010' or GetUnitTypeId(GetTriggerUnit()) == 'U00N' ) then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.2)
                        set damage=damage - damage * 0.2
                    endif

                    // Kidomaru Golden Armor 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B06Z') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.4)
                        set damage=damage - damage * 0.4
                    endif
                    // Earth ANBU Mask
                    if udg_ANBUTarget[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] != null and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I07D'))) and udg_ANBUTarget[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] != null then // INLINED!!
                        //call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.5)
                        //set damage = damage - damage * 0.5
                        call UnitDamageTarget(GetTriggerUnit(), udg_ANBUTarget[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], damage * 0.2, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                    endif
                    // Sage Protection 
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B00L') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.3)
                        set damage=damage - damage * 0.3
                    endif

                    // Heal Bite
                    if GetUnitAbilityLevel(GetTriggerUnit(), 'B004') > 0 then
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + damage * 0.2)
                        set damage=damage - damage * 0.2
                    endif
                    // Jade of Susano'o
                    if (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'rde4'))) or (UnitHasItemOfTypeBJ((GetEventDamageSource() ), ( 'rhth'))) then // INLINED!!
                        call SetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE, GetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE) + damage * 0.15)
                    endif
                    // Juugo passive
                    if GetUnitTypeId(GetTriggerUnit()) == 'E034' or GetUnitTypeId(GetTriggerUnit()) == 'E035' and damage < 5000 then
                        set udg_JuugoDamages[(GetUnitUserData((GetTriggerUnit())))]=RMinBJ(5000, udg_JuugoDamages[(GetUnitUserData((GetTriggerUnit())))] + damage * 0.2) // INLINED!!
                    endif
                endif
			endif
            if GetUnitAbilityLevel(GetTriggerUnit(), 'B05V') > 0 then
                call UnitRemoveAbility(GetTriggerUnit(), 'B05V')
            endif
            if id != 3 and id != 7 and id != 11 then
                if sg__assisted_get(((GetUnitUserData((GetTriggerUnit()))))*(12)+id + 1) == 0 then // INLINED!!
                    set s__AssistSystem__System_count_active=s__AssistSystem__System_count_active + 1
                endif
                call sg__assisted_set(((GetUnitUserData((GetTriggerUnit()))))*(12)+id + 1,15) // INLINED!!
            endif
            // Gunbai 
            if GetUnitAbilityLevel(GetTriggerUnit(), 'B039') > 0 and damage > 500 then
                call SetUnitInvulnerable(GetTriggerUnit(), true)
                call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeInvul) // INLINED!!
            endif
            // Pein gunbai 
            if GetUnitAbilityLevel(GetTriggerUnit(), 'B000') > 0 and damage > 500 then
                call SetUnitInvulnerable(GetTriggerUnit(), true)
                call TimerStart(NewTimerEx((GetUnitUserData((GetTriggerUnit())))), 0.1, false, function s__AssistSystem__System_removeInvul) // INLINED!!
            endif
            if damage > 100 and GetOwningPlayer(GetEventDamageSource()) != Player(3) and GetOwningPlayer(GetEventDamageSource()) != Player(7) and GetOwningPlayer(GetEventDamageSource()) != Player(11) and GetOwningPlayer(GetEventDamageSource()) != Player(PLAYER_NEUTRAL_AGGRESSIVE) then
                set udg_DamageDealt[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_DamageDealt[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + damage
                if damage >= 2000.00 then
                    if original_damage - damage > 0 then
                        set tt=CreateTextTagUnitBJ("|cffff0000" + I2S(R2I(original_damage)) + "|r - |cff32cd32" + I2S(R2I(original_damage - damage)) + "|r!!", GetTriggerUnit(), 0, 12, 100, 100, 100, 0)
                    else
                        set tt=CreateTextTagUnitBJ("|cffff0000" + I2S(R2I(damage)) + "!!|r", GetTriggerUnit(), 0, 12, 100, 0, 0, 0)
                    endif
                else
                    if original_damage - damage > 0 then
                        set tt=CreateTextTagUnitBJ(I2S(R2I(original_damage)) + " - |cff32cd32|r" + I2S(R2I(original_damage - damage)) + "|r!", GetTriggerUnit(), 0, 10, 100, 100, 100, 0)
                    else
                        set tt=CreateTextTagUnitBJ(I2S(R2I(damage)) + "!", GetTriggerUnit(), 0, 10, 100, 100, 100, 0)
                    endif
                endif
                call SetTextTagVelocityBJ(GetLastCreatedTextTag(), 128.00, 90)
                call SetTextTagPermanentBJ(GetLastCreatedTextTag(), false)
                call SetTextTagLifespanBJ(GetLastCreatedTextTag(), 2.00)
                call SetTextTagFadepointBJ(GetLastCreatedTextTag(), 1.00)
                call SetTextTagAgeBJ(GetLastCreatedTextTag(), 0)
                if not IsUnitVisible(GetTriggerUnit(), GetLocalPlayer()) then
                    call SetTextTagVisibility(GetLastCreatedTextTag(), false)
                else
                    call SetTextTagVisibility(GetLastCreatedTextTag(), true)
                endif
                set tt=null
            endif
        endfunction

        function s__AssistSystem__System_leave takes nothing returns nothing
            local integer i
            if IsUnitType(GetLeavingUnit(), UNIT_TYPE_HERO) == true and not IsUnitInGroup(GetLeavingUnit(), udg_AssistHeroes) then
                call TriggerRegisterUnitEvent(s__AssistSystem__System_assist_trigger, GetLeavingUnit(), EVENT_UNIT_DAMAGED)
                call GroupAddUnit(udg_AssistHeroes, GetLeavingUnit())
                set i=1
                loop
                    exitwhen i > 12
                    call sg__assisted_set(((GetUnitUserData((GetLeavingUnit()))))*(12)+i,0) // INLINED!!
                    set i=i + 1
                endloop
            endif
        endfunction 

        function s__AssistSystem__System_onInit takes nothing returns nothing
            local integer i
            set s__AssistSystem__System_assist_trigger=CreateTrigger()
            call TriggerRegisterUnitEvent(s__AssistSystem__System_assist_trigger, gg_unit_H0A9_0068, EVENT_UNIT_DAMAGED)
			call GroupAddUnit(udg_AssistHeroes, gg_unit_H0A9_0068)
	        call TriggerAddCondition(RegisterPlayerUnitEvent___leave_trigger, Filter((function s__AssistSystem__System_leave))) // INLINED!!
            set i=1
            loop
                exitwhen i > 12
                set udg_Streak[i]=0
                set udg_StreakTime[i]=0
                set i=i + 1
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
            call TriggerAddAction(s__AssistSystem__System_assist_trigger, function s__AssistSystem__System_actions)
            call TimerStartEx((NewTimerEx(0)) , 1.0 , true , function s__AssistSystem__System_periodic , "AssisSystem_periodic") // INLINED!!
	        set s__AssistSystem__System_count_active=0
        endfunction
        
    
// scope AssistSystem ends

//===========================================================================
// Trigger: BaseDestruction
//===========================================================================


function Trig_BaseDestruction_Conditions takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) ) )
endfunction

function Trig_DestroyBuildings_Func002Func001Func001C takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) )
endfunction

function Trig_DestroyBuildings_Func002Func001C takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) )
endfunction

function Trig_DestroyBuildings_Func002C takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) )
endfunction

function Trig_DestroyBuildings_Func003Func008Func001A takes nothing returns nothing
	call RemoveUnit(GetEnumUnit())
endfunction

function Trig_DestroyBuildings_Func003Func009A takes nothing returns nothing
	call ExplodeUnitBJ(GetEnumUnit())
endfunction

function Trig_DestroyBuildings_Func003Func011C takes nothing returns boolean
	return ( ( udg_booleans01[212] ) )
endfunction

function Trig_DestroyBuildings_Func003Func012C takes nothing returns boolean
	return ( ( udg_booleans01[213] ) )
endfunction

function Trig_DestroyBuildings_Func003C takes nothing returns boolean
	return ( ( GetTriggerUnit() == udg_unit35 ) )
endfunction

function Trig_DestroyBuildings_Func004Func008Func001A takes nothing returns nothing
	call RemoveUnit(GetEnumUnit())
endfunction

function Trig_DestroyBuildings_Func004Func009A takes nothing returns nothing
	call ExplodeUnitBJ(GetEnumUnit())
endfunction

function Trig_DestroyBuildings_Func004Func011C takes nothing returns boolean
	return ( ( udg_booleans01[211] ) )
endfunction

function Trig_DestroyBuildings_Func004Func012C takes nothing returns boolean
	return ( ( udg_booleans01[213] ) )
endfunction

function Trig_DestroyBuildings_Func004C takes nothing returns boolean
	return ( ( GetTriggerUnit() == udg_unit40 ) )
endfunction

function Trig_DestroyBuildings_Func005Func009Func001A takes nothing returns nothing
	call RemoveUnit(GetEnumUnit())
endfunction

function Trig_DestroyBuildings_Func005Func010A takes nothing returns nothing
	call ExplodeUnitBJ(GetEnumUnit())
endfunction

function Trig_DestroyBuildings_Func005Func012C takes nothing returns boolean
	return ( ( udg_booleans01[211] ) )
endfunction

function Trig_DestroyBuildings_Func005Func013C takes nothing returns boolean
	return ( ( udg_booleans01[212] ) )
endfunction

function Trig_DestroyBuildings_Func005C takes nothing returns boolean
	return ( ( GetTriggerUnit() == udg_unit54 ) )
endfunction

function Trig_BaseDestruction_Actions takes nothing returns nothing
 local integer i
	if not (IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE)) then // INLINED!!
		return
	endif
	if ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) then
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 3.00, "A Shinobi Alliance building was destroyed!")
	else
		if ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) then
			call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 3.00, "An Otogakure building was destroyed!")
		else
			if ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) ) then
				call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 3.00, "An Akatsuki building was destroyed!")
			endif
		endif
	endif
	if ( ( GetTriggerUnit() == udg_unit35 ) ) then
		set udg_booleans01[211]=true
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 3.00, "|cffff0000The Hokage's Building was destroyed!|r")
		set i=0
		loop
			exitwhen i > 11
			if IsPlayerAlly(Player(i), Player(3)) then
				if i != 3 and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					//call TimedDefeat(Player(i))
					call CreateFogModifierRectBJ(true, Player(i), FOG_OF_WAR_VISIBLE, GetPlayableMapRect())
				endif
				call ForGroupBJ(GetUnitsOfPlayerAll(Player(i)), function Trig_DestroyBuildings_Func003Func008Func001A)
			endif
			set i=i + 1
		endloop
		call DisableTrigger(udg_trigger475)
		call DisableTrigger(udg_trigger476)
		call ForGroupBJ(GetUnitsOfPlayerAll(Player(3)), function Trig_DestroyBuildings_Func003Func009A)
		call RemoveUnit(GetTriggerUnit())
		if ( ( udg_booleans01[212] ) ) then
			set udg_Winning_Team=11
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(11)) and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					call TimedVictory(Player(i))
				else
					call TimedDefeat(Player(i))
				endif
				set i=i + 1
			endloop
			
		endif
		if ( ( udg_booleans01[213] ) ) then
			set udg_Winning_Team=7
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(7)) and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					call TimedVictory(Player(i))
				else
					call TimedDefeat(Player(i))
				endif
				set i=i + 1
			endloop
			
		endif
	endif
	if ( ( GetTriggerUnit() == udg_unit40 ) ) then
		set udg_booleans01[212]=true
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 3.00, "|cffff0000The Orochimaru's Hideout was destroyed!|r")
		set i=0
		loop
			exitwhen i > 11
			if IsPlayerAlly(Player(i), Player(7)) then
				if i != 7 and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					//call TimedDefeat(Player(i))
					call CreateFogModifierRectBJ(true, Player(i), FOG_OF_WAR_VISIBLE, GetPlayableMapRect())
				endif
				call ForGroupBJ(GetUnitsOfPlayerAll(Player(i)), function Trig_DestroyBuildings_Func004Func008Func001A)
			endif
			set i=i + 1
		endloop
		call DisableTrigger(udg_trigger477)
		call DisableTrigger(udg_trigger478)
		call ForGroupBJ(GetUnitsOfPlayerAll(Player(7)), function Trig_DestroyBuildings_Func004Func009A)
		call RemoveUnit(GetTriggerUnit())
		if ( ( udg_booleans01[211] ) ) then
			set udg_Winning_Team=11
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(11)) and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					call TimedVictory(Player(i))
				else
					call TimedDefeat(Player(i))
				endif
				set i=i + 1
			endloop
			
		endif
		if ( ( udg_booleans01[213] ) ) then
			set udg_Winning_Team=3
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(3)) and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					call TimedVictory(Player(i))
				else
					call TimedDefeat(Player(i))
				endif
				set i=i + 1
			endloop
			
		endif
	endif
	if ( ( GetTriggerUnit() == udg_unit54 ) ) then
		set udg_booleans01[213]=true
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 3.00, "|cffff0000The Gedo Mazo was destroyed!|r")
		set i=0
		loop
			exitwhen i > 11
			if IsPlayerAlly(Player(i), Player(11)) then
				if i != 11 and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					//call TimedDefeat(Player(i))
					call CreateFogModifierRectBJ(true, Player(i), FOG_OF_WAR_VISIBLE, GetPlayableMapRect())
				endif
				call ForGroupBJ(GetUnitsOfPlayerAll(Player(i)), function Trig_DestroyBuildings_Func005Func009Func001A)
			endif
			set i=i + 1
		endloop
		call DisableTrigger(udg_trigger479)
		call DisableTrigger(udg_trigger480)
		call ForGroupBJ(GetUnitsOfPlayerAll(Player(11)), function Trig_DestroyBuildings_Func005Func010A)
		call RemoveUnit(GetTriggerUnit())
		if ( ( udg_booleans01[211] ) ) then
			set udg_Winning_Team=7
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(7)) and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					call TimedVictory(Player(i))
				else
					call TimedDefeat(Player(i))
				endif
				set i=i + 1
			endloop
			
		endif
		if ( ( udg_booleans01[212] ) ) then
			set udg_Winning_Team=3
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(3)) and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
					call TimedVictory(Player(i))
				else
					call TimedDefeat(Player(i))
				endif
				set i=i + 1
			endloop
			
		endif
	endif
endfunction

//===========================================================================
function InitTrig_BaseDestruction takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_BaseDestruction_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: BaseRemoveItems
//===========================================================================


 function s__BaseRemoveItems_removeItem takes nothing returns nothing
		call RemoveItem(GetEnumItem())
 endfunction

 function s__BaseRemoveItems_actions takes nothing returns nothing
		if GetTriggerUnit() == udg_unit35 or GetTriggerUnit() == udg_unit40 or GetTriggerUnit() == udg_unit54 then
			call EnumItemsInRectBJ(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()), 1500.00, 1500.00), function s__BaseRemoveItems_removeItem)
		endif
 endfunction 
	
 function s__BaseRemoveItems_onInit takes nothing returns nothing
		call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function s__BaseRemoveItems_actions))) // INLINED!!
 endfunction 
	
//===========================================================================
// Trigger: SpawnBijuus
//===========================================================================

//Implemented from module Alloc:
    
        function s__SpawnBijuus_allocate takes nothing returns integer
            local integer this
    
            //call BJDebugMsg("Alloc: " + I2S(instanceCount))
            if ( s__SpawnBijuus_Alloc__recycle[(0)] == 0 ) then
                set s__SpawnBijuus_Alloc__instanceCount=s__SpawnBijuus_Alloc__instanceCount + 1
                set this=s__SpawnBijuus_Alloc__instanceCount
            else
                set this=s__SpawnBijuus_Alloc__recycle[(0)]
                set s__SpawnBijuus_Alloc__recycle[(0)]=s__SpawnBijuus_Alloc__recycle[s__SpawnBijuus_Alloc__recycle[(0)]]
            endif

    
            return this
        endfunction
    
        function s__SpawnBijuus_deallocate takes integer this returns nothing
            set s__SpawnBijuus_Alloc__recycle[this]=s__SpawnBijuus_Alloc__recycle[(0)]
            set s__SpawnBijuus_Alloc__recycle[(0)]=this
        endfunction
 function s__SpawnBijuus_equip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I03T' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
			call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
		endif
 endfunction 

 function s__SpawnBijuus_unequip takes nothing returns nothing
		if GetItemTypeId(GetManipulatedItem()) == 'I03T' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
			call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
			call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_SUB, s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
		endif
 endfunction
    
    function s__SpawnBijuus_spawnKonoha takes nothing returns nothing
        local integer id
 local integer i
        if s__SpawnBijuus_ROTATION_KONOHA == 1 then
            set id=s__SpawnBijuus_SHUKAKU
        elseif s__SpawnBijuus_ROTATION_KONOHA == 2 then
            set id=s__SpawnBijuus_MATATABI
        elseif s__SpawnBijuus_ROTATION_KONOHA == 3 then
            set id=s__SpawnBijuus_ISOBU
        elseif s__SpawnBijuus_ROTATION_KONOHA == 4 then
            set id=s__SpawnBijuus_SON_GOKU
        elseif s__SpawnBijuus_ROTATION_KONOHA == 5 then
            set id=s__SpawnBijuus_KOKUO
        elseif s__SpawnBijuus_ROTATION_KONOHA == 6 then
            set id=s__SpawnBijuus_SAIKEN
        elseif s__SpawnBijuus_ROTATION_KONOHA == 7 then
            set id=s__SpawnBijuus_CHOMEI
        elseif s__SpawnBijuus_ROTATION_KONOHA == 8 then
            set id=s__SpawnBijuus_GYUUKI
        else
            set id=s__SpawnBijuus_KURAMA
        endif
        loop
            set s__SpawnBijuus_ROTATION_KONOHA=s__SpawnBijuus_ROTATION_KONOHA + 1
            if s__SpawnBijuus_ROTATION_KONOHA > 9 then
                set s__SpawnBijuus_ROTATION_KONOHA=1
            endif
            exitwhen s__SpawnBijuus_ROTATION_KONOHA != s__SpawnBijuus_ROTATION_OTO - 1 and s__SpawnBijuus_ROTATION_KONOHA != s__SpawnBijuus_ROTATION_AKATSUKI - 1
        endloop
        set s__SpawnBijuus_KONOHA_BIJUU_ID=id
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), id, - 1165, 6308, 270)
	    call BlzSetUnitMaxHP(bj_lastCreatedUnit, s__SpawnBijuus_KONOHA_BIJUU_HP)
	    call BlzSetUnitBaseDamage(bj_lastCreatedUnit, s__SpawnBijuus_KONOHA_BIJUU_ATTACK, 1)
	    call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_LIFE))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
        set s__SpawnBijuus_KONOHA_BIJUU=bj_lastCreatedUnit
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), s__SpawnBijuus_ANBU, - 1417, 6279, GetRandomReal(0, 360))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), s__SpawnBijuus_ANBU, - 1022, 6097, GetRandomReal(0, 360))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
	set i=0
	loop
		exitwhen i > 11
		set i=i + 1
	endloop
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__SpawnBijuus_spawnOto takes nothing returns nothing
        local integer id
 local integer i
        if s__SpawnBijuus_ROTATION_OTO == 1 then
            set id=s__SpawnBijuus_SHUKAKU
        elseif s__SpawnBijuus_ROTATION_OTO == 2 then
            set id=s__SpawnBijuus_MATATABI
        elseif s__SpawnBijuus_ROTATION_OTO == 3 then
            set id=s__SpawnBijuus_ISOBU
        elseif s__SpawnBijuus_ROTATION_OTO == 4 then
            set id=s__SpawnBijuus_SON_GOKU
        elseif s__SpawnBijuus_ROTATION_OTO == 5 then
            set id=s__SpawnBijuus_KOKUO
        elseif s__SpawnBijuus_ROTATION_OTO == 6 then
            set id=s__SpawnBijuus_SAIKEN
        elseif s__SpawnBijuus_ROTATION_OTO == 7 then
            set id=s__SpawnBijuus_CHOMEI
        elseif s__SpawnBijuus_ROTATION_OTO == 8 then
            set id=s__SpawnBijuus_GYUUKI
        else
            set id=s__SpawnBijuus_KURAMA
        endif
        loop
            set s__SpawnBijuus_ROTATION_OTO=s__SpawnBijuus_ROTATION_OTO + 1
            if s__SpawnBijuus_ROTATION_OTO > 9 then
                set s__SpawnBijuus_ROTATION_OTO=1
            endif
            exitwhen s__SpawnBijuus_ROTATION_OTO != s__SpawnBijuus_ROTATION_KONOHA - 1 and s__SpawnBijuus_ROTATION_OTO != s__SpawnBijuus_ROTATION_AKATSUKI - 1
        endloop
        set s__SpawnBijuus_OTO_BIJUU_ID=id
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), id, 5820, 2090, 220)
	    call BlzSetUnitMaxHP(bj_lastCreatedUnit, s__SpawnBijuus_OTO_BIJUU_HP)
	    call BlzSetUnitBaseDamage(bj_lastCreatedUnit, s__SpawnBijuus_OTO_BIJUU_ATTACK, 1)
	    call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_LIFE))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
        set s__SpawnBijuus_OTO_BIJUU=bj_lastCreatedUnit
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), s__SpawnBijuus_ANBU, 5420, 1970, GetRandomReal(0, 360))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), s__SpawnBijuus_ANBU, 5610, 1750, GetRandomReal(0, 360))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
	set i=0
	loop
		exitwhen i > 11
		set i=i + 1
	endloop
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__SpawnBijuus_spawnAkatsuki takes nothing returns nothing
        local integer id
 local integer i
        if s__SpawnBijuus_ROTATION_AKATSUKI == 1 then
            set id=s__SpawnBijuus_SHUKAKU
        elseif s__SpawnBijuus_ROTATION_AKATSUKI == 2 then
            set id=s__SpawnBijuus_MATATABI
        elseif s__SpawnBijuus_ROTATION_AKATSUKI == 3 then
            set id=s__SpawnBijuus_ISOBU
        elseif s__SpawnBijuus_ROTATION_AKATSUKI == 4 then
            set id=s__SpawnBijuus_SON_GOKU
        elseif s__SpawnBijuus_ROTATION_AKATSUKI == 5 then
            set id=s__SpawnBijuus_KOKUO
        elseif s__SpawnBijuus_ROTATION_AKATSUKI == 6 then
            set id=s__SpawnBijuus_SAIKEN
        elseif s__SpawnBijuus_ROTATION_AKATSUKI == 7 then
            set id=s__SpawnBijuus_CHOMEI
        elseif s__SpawnBijuus_ROTATION_AKATSUKI == 8 then
            set id=s__SpawnBijuus_GYUUKI
        else
            set id=s__SpawnBijuus_KURAMA
        endif
        loop
            set s__SpawnBijuus_ROTATION_AKATSUKI=s__SpawnBijuus_ROTATION_AKATSUKI + 1
            if s__SpawnBijuus_ROTATION_AKATSUKI > 9 then
                set s__SpawnBijuus_ROTATION_AKATSUKI=1
            endif
            exitwhen s__SpawnBijuus_ROTATION_AKATSUKI != s__SpawnBijuus_ROTATION_KONOHA - 1 and s__SpawnBijuus_ROTATION_AKATSUKI != s__SpawnBijuus_ROTATION_OTO - 1
        endloop
        set s__SpawnBijuus_AKATSUKI_BIJUU_ID=id
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), id, - 3450, - 4820, 30)
	    call BlzSetUnitMaxHP(bj_lastCreatedUnit, s__SpawnBijuus_AKATSUKI_BIJUU_HP)
	    call BlzSetUnitBaseDamage(bj_lastCreatedUnit, s__SpawnBijuus_AKATSUKI_BIJUU_ATTACK, 1)
	    call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_LIFE, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_LIFE))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
        set s__SpawnBijuus_AKATSUKI_BIJUU=bj_lastCreatedUnit
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), s__SpawnBijuus_ANBU, - 3280, - 4440, GetRandomReal(0, 360))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
        set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE), s__SpawnBijuus_ANBU, - 3090, - 4660, GetRandomReal(0, 360))
        call SetUnitAcquireRange(bj_lastCreatedUnit, 200)
	set i=0
	loop
		exitwhen i > 11
		set i=i + 1
	endloop
        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__SpawnBijuus_spawn takes nothing returns nothing
        // konoha 
        call s__SpawnBijuus_spawnKonoha()
        
        // oto 
        call s__SpawnBijuus_spawnOto()
        
        // akat 
        call s__SpawnBijuus_spawnAkatsuki()

        call ReleaseTimer(GetExpiredTimer())
    endfunction 
    
    function s__SpawnBijuus_spellPeriodic takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__SpawnBijuus_count[this]=s__SpawnBijuus_count[this] + 1
        if s__SpawnBijuus_count[this] >= 100 or GetWidgetLife(s__SpawnBijuus_u[this]) < 0.405 then
            call UnitRemoveAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_spell[this])
            call s__SpawnBijuus_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        endif
    endfunction 

    function s__SpawnBijuus_spellPeriodicSonGoku takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__SpawnBijuus_count[this]=s__SpawnBijuus_count[this] + 1
        if s__SpawnBijuus_count[this] >= 100 or GetWidgetLife(s__SpawnBijuus_u[this]) < 0.405 then
            call UnitRemoveAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_spell[this])
            call s__SpawnBijuus_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            set bj_lastCreatedGroup=CreateGroup()
            call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(s__SpawnBijuus_u[this]), GetUnitY(s__SpawnBijuus_u[this]), 300, null)
            loop
                set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
                exitwhen bj_lastCreatedUnit == null
                call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
                if IsUnitEnemy(bj_lastCreatedUnit, GetOwningPlayer(s__SpawnBijuus_u[this])) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                    call UnitDamageTarget(s__SpawnBijuus_u[this], bj_lastCreatedUnit, ( GetHeroStr(s__SpawnBijuus_u[this], true) + GetHeroAgi(s__SpawnBijuus_u[this], true) + GetHeroInt(s__SpawnBijuus_u[this], true) ) / 3, true, false, ATTACK_TYPE_CHAOS, DAMAGE_TYPE_MAGIC, null)
                endif
            endloop
            call DestroyGroup(bj_lastCreatedGroup)
        endif
    endfunction 

    function s__SpawnBijuus_spellPeriodicKokuo takes nothing returns nothing
        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        set s__SpawnBijuus_count[this]=s__SpawnBijuus_count[this] + 1
        if s__SpawnBijuus_count[this] >= 1000 or GetWidgetLife(s__SpawnBijuus_u[this]) < 0.405 then
            call UnitRemoveAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_spell[this])
            call s__SpawnBijuus_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__SpawnBijuus_u[this]), 'z001', GetUnitX(s__SpawnBijuus_u[this]), GetUnitY(s__SpawnBijuus_u[this]), 270)
            call UnitApplyTimedLife(bj_lastCreatedUnit, 'BTLF', 3.0)
            call SetUnitVertexColor(bj_lastCreatedUnit, 255, 255, 255, 50)
            call SetUnitFlyHeight(bj_lastCreatedUnit, 0, 0)
        endif
    endfunction 

    function s__SpawnBijuus_die takes nothing returns nothing
        local boolean b= false
        local integer id
        local integer this
        local integer i
        set id=GetUnitTypeId(GetTriggerUnit())
        if GetTriggerUnit() == s__SpawnBijuus_KONOHA_BIJUU then
            set b=true
	        set s__SpawnBijuus_KONOHA_BIJUU_HP=s__SpawnBijuus_KONOHA_BIJUU_HP + R2I(s__SpawnBijuus_KONOHA_BIJUU_HP * 0.33)
	        set s__SpawnBijuus_KONOHA_BIJUU_ATTACK=s__SpawnBijuus_KONOHA_BIJUU_ATTACK + R2I(s__SpawnBijuus_KONOHA_BIJUU_ATTACK * 0.33)
            if udg_DEBUG_INT <= 1 then
                call TimerStartEx((NewTimerEx(0)) , 15.0 , false , function s__SpawnBijuus_spawnKonoha , "SpawnBijuus.spawnKonoha") // INLINED!!
            else
                call TimerStartEx((NewTimerEx(0)) , GetRandomReal(240, 360) , false , function s__SpawnBijuus_spawnKonoha , "SpawnBijuus.spawnKonoha") // INLINED!!
            endif
        elseif GetTriggerUnit() == s__SpawnBijuus_OTO_BIJUU then
            set b=true
	        set s__SpawnBijuus_OTO_BIJUU_HP=s__SpawnBijuus_OTO_BIJUU_HP + R2I(s__SpawnBijuus_OTO_BIJUU_HP * 0.33)
	        set s__SpawnBijuus_OTO_BIJUU_ATTACK=s__SpawnBijuus_OTO_BIJUU_ATTACK + R2I(s__SpawnBijuus_OTO_BIJUU_ATTACK * 0.33)
            if udg_DEBUG_INT <= 1 then
                call TimerStartEx((NewTimerEx(0)) , 15.0 , false , function s__SpawnBijuus_spawnOto , "SpawnBijuus.spawnOto") // INLINED!!
            else
                call TimerStartEx((NewTimerEx(0)) , GetRandomReal(240, 360) , false , function s__SpawnBijuus_spawnOto , "SpawnBijuus.spawnOto") // INLINED!!
            endif
        elseif GetTriggerUnit() == s__SpawnBijuus_AKATSUKI_BIJUU then
            set b=true
	        set s__SpawnBijuus_AKATSUKI_BIJUU_HP=s__SpawnBijuus_AKATSUKI_BIJUU_HP + R2I(s__SpawnBijuus_AKATSUKI_BIJUU_HP * 0.33)
	        set s__SpawnBijuus_AKATSUKI_BIJUU_ATTACK=s__SpawnBijuus_AKATSUKI_BIJUU_ATTACK + R2I(s__SpawnBijuus_AKATSUKI_BIJUU_ATTACK * 0.33)
            if udg_DEBUG_INT <= 1 then
                call TimerStartEx((NewTimerEx(0)) , 15.0 , false , function s__SpawnBijuus_spawnAkatsuki , "SpawnBijuus.spawnAkatsuki") // INLINED!!
            else
                call TimerStartEx((NewTimerEx(0)) , GetRandomReal(240, 360) , false , function s__SpawnBijuus_spawnAkatsuki , "SpawnBijuus.spawnAkatsuki") // INLINED!!
            endif
        elseif id == s__SpawnBijuus_ANBU then
            call AdjustPlayerStateBJ(250, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD)
        elseif id == s__SpawnBijuus_FORESTANBU then
            call AdjustPlayerStateBJ(150, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD)
        endif
        if b then
            if id == s__SpawnBijuus_SHUKAKU then
                call CreateItemLoc('I06R', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_MATATABI then
                call CreateItemLoc('I06S', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_ISOBU then
                call CreateItemLoc('I06T', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_SON_GOKU then
                call CreateItemLoc('I06U', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_KOKUO then
                call CreateItemLoc('I06V', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_SAIKEN then
                call CreateItemLoc('I06W', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_CHOMEI then
                call CreateItemLoc('I06X', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_GYUUKI then
                call CreateItemLoc('I06Y', GetUnitLoc(GetTriggerUnit()))
            elseif id == s__SpawnBijuus_KURAMA then
                call CreateItemLoc('I06Z', GetUnitLoc(GetTriggerUnit()))
            endif
            if id == s__SpawnBijuus_KOKUO then
                call ShowUnit(GetTriggerUnit(), false)
            endif
            call AdjustPlayerStateBJ(1000, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD)
            if id == s__SpawnBijuus_SHUKAKU then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_SHUKAKU_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_SHUKAKU_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodic)
                    endif
                    set i=i + 1
                endloop
            elseif id == s__SpawnBijuus_MATATABI then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_MATATABI_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_MATATABI_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodic)
                    endif
                    set i=i + 1
                endloop
            elseif id == s__SpawnBijuus_ISOBU then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_ISOBU_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_ISOBU_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodic)
                    endif
                    set i=i + 1
                endloop
            elseif id == s__SpawnBijuus_SON_GOKU then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_SON_GOKU_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_SON_GOKU_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodicSonGoku)
                    endif
                    set i=i + 1
                endloop
            elseif id == s__SpawnBijuus_KOKUO then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_KOKUO_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_KOKUO_SPELL)
                        //call TimerStart(NewTimerEx(this), 0.1, true, function thistype.spellPeriodicKokuo)
                    endif
                    set i=i + 1
                endloop
                if IsUnitAlly(GetKillingUnit(), Player(3)) then
                    call CreateUnit(Player(3), 'e007', GetRectCenterX(gg_rct_lane_1), GetRectCenterY(gg_rct_lane_1), 270)
                    call CreateUnit(Player(3), 'e007', GetRectCenterX(gg_rct_lane_2), GetRectCenterY(gg_rct_lane_2), 270)
                    call CreateUnit(Player(3), 'e007', GetRectCenterX(gg_rct_lane_3), GetRectCenterY(gg_rct_lane_3), 270)
                elseif IsUnitAlly(GetKillingUnit(), Player(7)) then
                    call CreateUnit(Player(7), 'e007', GetRectCenterX(gg_rct_lane_1), GetRectCenterY(gg_rct_lane_1), 270)
                    call CreateUnit(Player(7), 'e007', GetRectCenterX(gg_rct_lane_2), GetRectCenterY(gg_rct_lane_2), 270)
                    call CreateUnit(Player(7), 'e007', GetRectCenterX(gg_rct_lane_3), GetRectCenterY(gg_rct_lane_3), 270)
                else
                    call CreateUnit(Player(11), 'e007', GetRectCenterX(gg_rct_lane_1), GetRectCenterY(gg_rct_lane_1), 270)
                    call CreateUnit(Player(11), 'e007', GetRectCenterX(gg_rct_lane_2), GetRectCenterY(gg_rct_lane_2), 270)
                    call CreateUnit(Player(11), 'e007', GetRectCenterX(gg_rct_lane_3), GetRectCenterY(gg_rct_lane_3), 270)
                endif
            elseif id == s__SpawnBijuus_SAIKEN then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_SAIKEN_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_SAIKEN_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodic)
                    endif
                    set i=i + 1
                endloop
            elseif id == s__SpawnBijuus_CHOMEI then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_CHOMEI_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_CHOMEI_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodic)
                    endif
                    set i=i + 1
                endloop
            elseif id == s__SpawnBijuus_GYUUKI then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_GYUUKI_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_GYUUKI_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodic)
                    endif
                    set i=i + 1
                endloop
            elseif id == s__SpawnBijuus_KURAMA then
                set i=0
                loop
                    exitwhen i > 11
                    if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(GetKillingUnit())) then
                        set this=s__SpawnBijuus_allocate()
                        set s__SpawnBijuus_u[this]=udg_units33[i + 1]
                        set s__SpawnBijuus_spell[this]=s__SpawnBijuus_KURAMA_SPELL
                        set s__SpawnBijuus_count[this]=0
                        call UnitAddAbility(s__SpawnBijuus_u[this], s__SpawnBijuus_KURAMA_SPELL)
                        call TimerStart(NewTimerEx(this), 1.0, true, function s__SpawnBijuus_spellPeriodic)
                    endif
                    set i=i + 1
                endloop
            endif
            if GetRandomInt(1, 3) == 1 then
                call CreateItemLoc('I05P', GetUnitLoc(GetTriggerUnit()))
            endif
        endif
    endfunction 

    function s__SpawnBijuus_delay takes nothing returns nothing
        if udg_DEBUG_INT <= 1 then
            call TimerStartEx((NewTimerEx(0)) , 15.0 , false , function s__SpawnBijuus_spawn , "SpawnBijuus.spawn") // INLINED!!
        else
            call TimerStartEx((NewTimerEx(0)) , 300.0 , false , function s__SpawnBijuus_spawn , "SpawnBijuus.spawn") // INLINED!!
        endif
        call ReleaseTimer(GetExpiredTimer())
    endfunction 

    function s__SpawnBijuus_attack takes nothing returns nothing
        local unit u
        if GetUnitAbilityLevel(GetAttacker(), 'B01Y') > 0 and GetWidgetLife(GetTriggerUnit()) > 0.405 and GetRandomInt(1, 100) < 10 then
            set u=CreateAbilityDummy(GetAttacker() , 'A0J6')
            call IssueTargetOrder(u, "entanglingroots", GetTriggerUnit())
            set u=null
        elseif GetUnitAbilityLevel(GetAttacker(), 'B01J') > 0 then
            call SetUnitState(GetTriggerUnit(), UNIT_STATE_MANA, GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) - GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) * 0.01)
        endif
    endfunction 

     function s__SpawnBijuus_recipe takes nothing returns nothing
        if GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06R'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	   call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06R'))) // INLINED!!
	   call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06S'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06S'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
         elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06T'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	   call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06T'))) // INLINED!!
	   call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
          elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06X'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06X'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Y'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Y'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Z'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Z'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
          elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06U'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06U'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
          elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06U'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06U'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06V'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06V'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I070' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06W'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats3[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06W'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
         endif
	if GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06U'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06U'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06V'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06V'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06W'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06W'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
         elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06X'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06X'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Y'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Y'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Z'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Z'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
         elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06R'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	   call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06R'))) // INLINED!!
	   call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06S'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06S'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
         elseif GetItemTypeId(GetManipulatedItem()) == 'I071' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06T'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats2[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	   call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06T'))) // INLINED!!
	   call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 endif
	 if GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06X'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06X'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Y'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Y'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06Z'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
		call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Z'))) // INLINED!!
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06Z'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
          elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06U'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
            endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06U'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06V'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
	    endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06V'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	 elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06W'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
 	    endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	   call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06W'))) // INLINED!!
	   call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
          elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06R'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
	    endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	   call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06R'))) // INLINED!!
	   call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06S'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
	    endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	  call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06S'))) // INLINED!!
	  call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
         elseif GetItemTypeId(GetManipulatedItem()) == 'I072' and (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I06T'))) then // INLINED!!
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I03T'))) then // INLINED!!
		set s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]= s__s__SpawnBijuus_stats1[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 4
                call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 4)
	    endif
	    if (UnitHasItemOfTypeBJ((GetTriggerUnit() ), ( 'I00N'))) then // INLINED!!
		call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
		call ModifyHeroStat(bj_HEROSTAT_AGI, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	  	call ModifyHeroStat(bj_HEROSTAT_INT, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
	    endif
	   call RemoveItem(GetItemOfTypeFromUnitBJ((GetTriggerUnit() ), ( 'I06T'))) // INLINED!!
	   call ModifyHeroStat(bj_HEROSTAT_STR, GetTriggerUnit(), bj_MODIFYMETHOD_ADD, 2)
         endif
    endfunction 
	

    function s__SpawnBijuus_onInit takes nothing returns nothing
        local trigger t= CreateTrigger()
        local integer i= 0
        loop
            exitwhen i > 11
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_SHUKAKU_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_MATATABI_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_ISOBU_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_SON_GOKU_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_KOKUO_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_SAIKEN_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_CHOMEI_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_GYUUKI_SPELL, false)
            call SetPlayerAbilityAvailable(Player(i), s__SpawnBijuus_KURAMA_SPELL, false)
            set i=i + 1
        endloop
	    call TriggerRegisterAnyUnitEventBJ(t, EVENT_PLAYER_UNIT_DEATH)
        set s__SpawnBijuus_ROTATION_KONOHA=GetRandomInt(1, 9)
        set s__SpawnBijuus_ROTATION_OTO=s__SpawnBijuus_ROTATION_KONOHA + 3
        if s__SpawnBijuus_ROTATION_OTO > 9 then
            set s__SpawnBijuus_ROTATION_OTO=s__SpawnBijuus_ROTATION_OTO - 9
        endif
        set s__SpawnBijuus_ROTATION_AKATSUKI=s__SpawnBijuus_ROTATION_KONOHA + 6
        if s__SpawnBijuus_ROTATION_AKATSUKI > 9 then
            set s__SpawnBijuus_ROTATION_AKATSUKI=s__SpawnBijuus_ROTATION_AKATSUKI - 9
        endif
        call TriggerAddAction(t, function s__SpawnBijuus_die)
        call TimerStart((NewTimerEx(0)), 1.0, false, function s__SpawnBijuus_delay) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function s__SpawnBijuus_attack))) // INLINED!!
        call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__SpawnBijuus_recipe))) // INLINED!!
	    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function s__SpawnBijuus_equip))) // INLINED!!
    	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DROP_ITEM ) , Filter(( function s__SpawnBijuus_unequip))) // INLINED!!
    endfunction 
    
//===========================================================================
// Trigger: PlayerLeave
//===========================================================================

function Trig_PlayerLeave_Func001A takes nothing returns nothing
	call AdjustPlayerStateBJ(( GetHeroLevel(udg_units33[( 1 + GetPlayerId(GetTriggerPlayer()) )]) * 300 ), GetEnumPlayer(), PLAYER_STATE_RESOURCE_GOLD)
endfunction

function Trig_PlayerLeave_Periodic takes nothing returns nothing
 local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
 local integer i= 0
 local boolean b= true
	loop
		exitwhen i > 12
		if udg_units33[i + 1] != null and IsUnitAlly(udg_units33[i + 1], GetOwningPlayer(u)) and GetHeroLevel(udg_units33[i + 1]) < 20 then
			set b=false
		endif
		set i=i + 1
	endloop
	set i=0
	if not b then
		call PauseUnit(u, true)
		call ShowUnit(u, false)
		call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_MAX_LIFE))
		if IsUnitAlly(u, Player(3)) then
			call SetUnitX(u, - 436)
			call SetUnitY(u, 1701)
		elseif IsUnitAlly(u, Player(7)) then
			call SetUnitX(u, 1704)
			call SetUnitY(u, 0)
		elseif IsUnitAlly(u, Player(11)) then
			call SetUnitX(u, - 243)
			call SetUnitY(u, - 600)
		endif
	else
		if IsUnitAlly(u, Player(3)) then
			call SetUnitX(u, GetRectCenterX(gg_rct_fonte_konoha))
			call SetUnitY(u, GetRectCenterY(gg_rct_fonte_konoha))
		elseif IsUnitAlly(u, Player(7)) then
			call SetUnitX(u, GetRectCenterX(gg_rct_fonte_evil))
			call SetUnitY(u, GetRectCenterY(gg_rct_fonte_evil))
		elseif IsUnitAlly(u, Player(11)) then
			call SetUnitX(u, GetRectCenterX(gg_rct_fonte_akt))
			call SetUnitY(u, GetRectCenterY(gg_rct_fonte_akt))
		endif
		set i=0
		loop
			exitwhen i > 5
			if GetItemTypeId(UnitItemInSlotBJ(u, i + 1)) != 'I02F' then
				call UnitRemoveItemFromSlotSwapped(i + 1, u)
			endif
			set i=i + 1
		endloop
		call RemoveUnit(u)
		call ReleaseTimer(GetExpiredTimer())
	endif
	set u=null
endfunction

function Trig_PlayerLeave_Func004A takes nothing returns nothing
 local integer i
 local integer count= 0
	set i=0
	loop
		exitwhen i > 11
		if IsPlayerAlly(Player(i), GetTriggerPlayer()) and GetPlayerController(Player(i)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING then
			set count=count + 1
		endif
		set i=i + 1
	endloop
	if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true and not IsUnitIllusion(GetEnumUnit()) then
		if GetWidgetLife(GetEnumUnit()) < 0.405 then
			call ReviveHero(GetEnumUnit(), 0, 0, false)
		endif
		if IsUnitAlly(GetEnumUnit(), Player(3)) then
			call SetUnitX(GetEnumUnit(), GetRectCenterX(gg_rct_fonte_konoha))
			call SetUnitY(GetEnumUnit(), GetRectCenterY(gg_rct_fonte_konoha))
		elseif IsUnitAlly(GetEnumUnit(), Player(7)) then
			call SetUnitX(GetEnumUnit(), GetRectCenterX(gg_rct_fonte_evil))
			call SetUnitY(GetEnumUnit(), GetRectCenterY(gg_rct_fonte_evil))
		elseif IsUnitAlly(GetEnumUnit(), Player(11)) then
			call SetUnitX(GetEnumUnit(), GetRectCenterX(gg_rct_fonte_akt))
			call SetUnitY(GetEnumUnit(), GetRectCenterY(gg_rct_fonte_akt))
		endif
		call GroupRemoveUnit(hideheroes, GetEnumUnit())
		if count > 0 and udg_PlayerLeave[GetPlayerId(GetOwningPlayer(GetEnumUnit()))] and ( ( IsPlayerAlly(GetOwningPlayer(GetEnumUnit()), Player(3)) and GetWidgetLife(udg_unit35) > 0.405 ) or ( IsPlayerAlly(GetOwningPlayer(GetEnumUnit()), Player(7)) and GetWidgetLife(udg_unit40) > 0.405 ) or ( IsPlayerAlly(GetOwningPlayer(GetEnumUnit()), Player(11)) and GetWidgetLife(udg_unit54) > 0.405 ) ) then
			call SetUnitInvulnerable(GetEnumUnit(), true)
			call SetUnitPropWindow(GetEnumUnit(), 0)
			call SetUnitScale(GetEnumUnit(), 0, 0, 0)
			set i=0
			loop
				exitwhen i > 11
				if IsPlayerAlly(Player(i), GetOwningPlayer(GetEnumUnit())) then
					call UnitShareVisionBJ(false, GetEnumUnit(), Player(i))
				endif
				set i=i + 1
			endloop
			call TimerStart(NewTimerEx((GetUnitUserData((GetEnumUnit())))), 1.0, true, function Trig_PlayerLeave_Periodic) // INLINED!!
		else
			call RemoveUnit(GetEnumUnit())
		endif
	else
		call RemoveUnit(GetEnumUnit())
	endif
endfunction

function Trig_PlayerLeave_Actions takes nothing returns nothing
	call DestroyTimerDialog(udg_timerdialogs01[( 1 + GetPlayerId(GetTriggerPlayer()) )])
	call ForForce(GetPlayersAllies(GetTriggerPlayer()), function Trig_PlayerLeave_Func001A)
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, ( GetPlayerName(GetTriggerPlayer()) + " betrayed its village!\n\nUnbalanced teams? Type '-switch' to switch players." ))
	if not udg_PlayerWin[GetPlayerId(GetTriggerPlayer())] and not udg_PlayerDefeat[GetPlayerId(GetTriggerPlayer())] and not udg_PlayerDraw[GetPlayerId(GetTriggerPlayer())] then
		set udg_PlayerLeave[GetPlayerId(GetTriggerPlayer())]=true
	endif
	call DestroyTimerDialog(udg_timerdialogs01[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )])
	call ForGroupBJ(GetUnitsOfPlayerAll(GetTriggerPlayer()), function Trig_PlayerLeave_Func004A)
	//call ConditionalTriggerExecute(udg_trigger01)
	set udg_units33[GetPlayerId(GetTriggerPlayer()) + 1]=null
endfunction

//===========================================================================
function InitTrig_PlayerLeave takes nothing returns nothing
    	set gg_trg_PlayerLeave=CreateTrigger()
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(0))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(1))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(2))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(4))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(5))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(6))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(8))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(9))
	call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeave, Player(10))
	call TriggerAddAction(gg_trg_PlayerLeave, function Trig_PlayerLeave_Actions)
endfunction


//===========================================================================
// Trigger: Spectators
//===========================================================================

 function s__Spectator_shake takes nothing returns nothing
	    	call CameraClearNoiseForPlayer(Player(12))
    		call CameraClearNoiseForPlayer(Player(13))
   		call CameraClearNoiseForPlayer(Player(14))
 endfunction

 function s__Spectator_fog takes nothing returns nothing
    		call CreateFogModifierRectBJ(true, Player(12), FOG_OF_WAR_VISIBLE, GetPlayableMapRect())
    		call CreateFogModifierRectBJ(true, Player(13), FOG_OF_WAR_VISIBLE, GetPlayableMapRect())
    		call CreateFogModifierRectBJ(true, Player(14), FOG_OF_WAR_VISIBLE, GetPlayableMapRect())
		call TimerStartEx((NewTimerEx(0)) , 2.0 , true , function s__Spectator_shake , "Spectator.shake") // INLINED!!
		call ReleaseTimer(GetExpiredTimer())
 endfunction

 function s__Spectator_onInit takes nothing returns nothing
		call TimerStart((NewTimerEx(0)), 1.0, false, function s__Spectator_fog) // INLINED!!
 endfunction 


//===========================================================================
// Trigger: PreventDeny
//===========================================================================

function Trig_PreventDeny_Conditions takes nothing returns boolean
	return ( ( ( ( GetUnitLifePercent(GetTriggerUnit()) >= 25.00 ) ) and ( ( IsPlayerAlly(GetOwningPlayer(GetAttacker()), GetOwningPlayer(GetTriggerUnit())) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'hmtm' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'h07H' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'otot' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'o009' ) ) ) )
endfunction

function Trig_PreventDeny_Actions takes nothing returns nothing
	if (( ( GetUnitLifePercent(GetTriggerUnit()) >= 25.00 ) ) and ( ( IsPlayerAlly(GetOwningPlayer(GetAttacker()), GetOwningPlayer(GetTriggerUnit())) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'hmtm' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'h07H' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'otot' ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'o009' ) )) then // INLINED!!
		call IssueTargetOrder(GetAttacker(), "attack", GetAttacker())
	endif
endfunction

//===========================================================================
function InitTrig_PreventDeny takes nothing returns nothing
	call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function Trig_PreventDeny_Actions))) // INLINED!!
endfunction


//===========================================================================
// Trigger: PeriodicActions
//===========================================================================


 function s__PeriodicActions_periodicActions takes nothing returns nothing
		set udg_Minutes=( udg_Minutes + 1 )
		if udg_Minutes == 8 then
			call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, "TRIGSTR_5856")
			set udg_FiveMinutes=true
		endif
 endfunction 
	
 function s__PeriodicActions_gold takes nothing returns nothing
  local integer i= 0
		loop
			exitwhen i > 11
			call SetPlayerState(Player(i), PLAYER_STATE_RESOURCE_GOLD, 1000)
			set i=i + 1
		endloop
 endfunction 
	
 function s__PeriodicActions_onInit takes nothing returns nothing
		call TimerStartEx((NewTimerEx(0)) , 60.0 , true , function s__PeriodicActions_periodicActions , "PeriodicActions.periodicActions") // INLINED!!
		call TimerStartEx((NewTimerEx(0)) , 5.0 , false , function s__PeriodicActions_gold , "PeriodicActions.gold") // INLINED!!
 endfunction 
	
//===========================================================================
// Trigger: Load Variables
//===========================================================================

function Trig_Load_Variables_Func004A takes nothing returns nothing
    set udg_TrueName[GetConvertedPlayerId(GetEnumPlayer())]=GetPlayerName(GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'ANfl', GetEnumPlayer())
    //call SetPlayerAbilityAvailableBJ( false, 'A0GU', GetEnumPlayer() )
    set udg_BANNED_NAME=StringLength(GetPlayerName(GetEnumPlayer()))
    //call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_waterfall )
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_Rect_040)
    call SetPlayerAbilityAvailableBJ(false, 'A0G2', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0VS', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0G7', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0EP', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0EU', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0GB', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0G8', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0G9', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0AE', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0DM', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0AC', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0KC', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0ER', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0EX', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0FA', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0FB', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0FI', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0FQ', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0FV', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0DE', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0GP', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0IX', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0JF', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0JR', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0AO', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0K2', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0JT', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0L3', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0PV', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0Q5', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0QA', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0SA', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A04O', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A05K', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0CZ', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0QS', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0ZL', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A10P', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A152', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15G', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15H', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15K', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15M', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15O', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15P', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15R', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15T', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15X', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0GT', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0H5', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A113', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0G3', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0IF', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0IW', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A164', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0H9', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A1si', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A165', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A17C', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A17P', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A1AT', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A0ZY', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A15K', GetEnumPlayer())
    call SetPlayerAbilityAvailableBJ(false, 'A10V', GetEnumPlayer())
    //call SetPlayerAbilityAvailableBJ( false, 'A12X', GetEnumPlayer() )
endfunction

function Trig_Load_Variables_Func033Func001C takes nothing returns boolean
    if ( not ( GetEnumPlayer() != Player(3) ) ) then
        return false
    endif
    if ( not ( GetEnumPlayer() != Player(7) ) ) then
        return false
    endif
    if ( not ( GetEnumPlayer() != Player(11) ) ) then
        return false
    endif
    if ( not ( GetEnumPlayer() != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Load_Variables_Func033A takes nothing returns nothing
    if ( Trig_Load_Variables_Func033Func001C() ) then
        call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY, false, GetEnumPlayer())
    else
    endif
endfunction

function Trig_Load_Variables_Actions takes nothing returns nothing
    call SetCreepCampFilterState(false)
    set udg_Mid_Game=GetRectCenter(gg_rct_game_middle)
    call ForForce(GetPlayersAll(), function Trig_Load_Variables_Func004A)
    call TriggerSleepAction(2)
    call ForForce(GetPlayersAll(), function Trig_Load_Variables_Func033A)
	set bj_lastCreatedGroup=CreateGroup()
	call GroupEnumUnitsInRect(bj_lastCreatedGroup, gg_rct_removeheroes, null)
	loop
		set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
		exitwhen bj_lastCreatedUnit == null
		call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
		call RemoveUnit(bj_lastCreatedUnit)
	endloop
	call DestroyGroup(bj_lastCreatedGroup)

endfunction

//===========================================================================
function InitTrig_Load_Variables takes nothing returns nothing
    set gg_trg_Load_Variables=CreateTrigger()
    call TriggerRegisterTimerEventSingle(gg_trg_Load_Variables, 1.00)
    call TriggerAddAction(gg_trg_Load_Variables, function Trig_Load_Variables_Actions)
endfunction


//===========================================================================
// Trigger: Main Source
//===========================================================================

function InitGlobals2 takes nothing returns nothing
 local integer i=0
	set udg_group01=CreateGroup()
	set udg_group02=CreateGroup()
	set udg_real01=0
	set udg_integer01=0
	set udg_integer02=0
	set udg_real02=0
	set udg_integer03=0
	set udg_dialog01=DialogCreate()
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_booleans01[i]=false
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers01[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers02[i]=0
		set i=i + 1
	endloop
	set udg_dialog02=DialogCreate()
	set udg_boolean01=false
	set udg_dialog03=DialogCreate()
	set udg_boolean02=false
	set udg_timer01=(NewTimerEx(0)) // INLINED!!
	set udg_integer04=0
	set udg_integer05=0
	set udg_integer06=0
	set udg_real03=0
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups01[i]=CreateGroup()
		set i=i + 1
	endloop
	set udg_boolean03=false
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals01[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers03[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups02[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers04[i]=0
		set i=i + 1
	endloop
	set udg_real04=0
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers05[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_forces01[i]=CreateForce()
		set i=i + 1
	endloop
	set udg_real05=0
	set udg_boolean04=false
	set udg_real06=0
	set udg_real07=0
	set udg_real08=0
	set udg_group03=CreateGroup()
	set udg_integer07=0
	set udg_real09=0
	set udg_integer08=0
	set udg_real10=0
	set udg_timer02=(NewTimerEx(0)) // INLINED!!
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers06[i]=0
		set i=i + 1
	endloop
	set udg_real11=0
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers07[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers08[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers09[i]=0
		set i=i + 1
	endloop
	set udg_integer09=0
	set udg_integer10=0
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers10[i]=0
		set i=i + 1
	endloop
	set udg_real12=0
	set udg_boolean05=false
	set udg_dialog04=DialogCreate()
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers11[i]=0
		set i=i + 1
	endloop
	set udg_integer11=0
	set udg_group04=CreateGroup()
	set udg_integer12=- 1
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_timers01[i]=(NewTimerEx(0)) // INLINED!!
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers12[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups03[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups04[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_booleans02[i]=false
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups05[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_booleans03[i]=false
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_booleans04[i]=false
		set i=i + 1
	endloop
	set udg_dialog05=DialogCreate()
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals02[i]=0
		set i=i + 1
	endloop
	set udg_group05=CreateGroup()
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups06[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers13[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers14[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals03[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals04[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups07[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups08[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers15[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers16[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals05[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers17[i]=0
		set i=i + 1
	endloop
	set udg_group06=CreateGroup()
	set udg_group07=CreateGroup()
	set udg_timer03=(NewTimerEx(0)) // INLINED!!
	set udg_integer13=0
	set udg_real13=0
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals06[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals07[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals08[i]=0
		set i=i + 1
	endloop
	set udg_integer14=0
	set udg_group08=CreateGroup()
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals09[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers18[i]=0
		set i=i + 1
	endloop
	set udg_group09=CreateGroup()
	set udg_integer15=0
	set udg_real14=0
	set udg_timer04=(NewTimerEx(0)) // INLINED!!
	set udg_group10=CreateGroup()
	set udg_timer05=(NewTimerEx(0)) // INLINED!!
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups09[i]=CreateGroup()
		set i=i + 1
	endloop
	set udg_timer06=(NewTimerEx(0)) // INLINED!!
	set udg_timer07=(NewTimerEx(0)) // INLINED!!
	set udg_integer16=0
	set udg_real15=0
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals10[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals11[i]=0
		set i=i + 1
	endloop
	set udg_integer17=0
	set udg_real16=0
	set udg_timer08=(NewTimerEx(0)) // INLINED!!
	set udg_timer09=(NewTimerEx(0)) // INLINED!!
	set udg_group11=CreateGroup()
	set udg_group12=CreateGroup()
	set udg_integer18=0
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_booleans05[i]=false
		set i=i + 1
	endloop
	set udg_integer19=0
	set udg_group13=CreateGroup()
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers19[i]=0
		set i=i + 1
	endloop
	set udg_timer10=(NewTimerEx(0)) // INLINED!!
	set udg_timer11=(NewTimerEx(0)) // INLINED!!
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_groups10[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_reals12[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_strings01[i]=""
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_strings02[i]=""
		set i=i + 1
	endloop
	set udg_integer20=0
	set udg_boolean06=true
	set udg_string01="zhandoukaishi.mp3"
endfunction

function Unit000001_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('gcel', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000012_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('ofro', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000026_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('ofir', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000028_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000047_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000052_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000055_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('oli2', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000058_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('I00D', 34)
		//call RandomDistAddItem('I02F',33)
		call RandomDistAddItem('I00G', 33)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000062_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('I00D', 34)
		//call RandomDistAddItem('I02F',33)
		call RandomDistAddItem('I00G', 33)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000104_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('rhth', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000106_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000107_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000132_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000134_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('I006', 40)
		call RandomDistAddItem('I00L', 40)
		call RandomDistAddItem(- 1, 20)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Unit000173_DropItems takes nothing returns nothing
 local widget trigWidget=null
 local unit trigUnit=null
 local integer itemID=0
 local boolean canDrop=true
	set trigWidget=bj_lastDyingWidget
	if ( trigWidget == null ) then
		set trigUnit=GetTriggerUnit()
	endif
	if ( trigUnit != null ) then
		set canDrop=not IsUnitHidden(trigUnit)
		if ( canDrop and GetChangingUnit() != null ) then
			set canDrop=( GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE) )
		endif
	endif
	if ( canDrop ) then
		call RandomDistReset()
		call RandomDistAddItem('I00D', 34)
		//call RandomDistAddItem('I02F',33)
		call RandomDistAddItem('I00G', 33)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
		call RandomDistReset()
		call RandomDistAddItem('gsou', 100)
		set itemID=RandomDistChoose()
		if ( trigUnit != null ) then
			call UnitDropItem(trigUnit, itemID)
		else
			call WidgetDropItem(trigWidget, itemID)
		endif
	endif
	set bj_lastDyingWidget=null
	call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Trig_DestroyEmptyTeams_Func002Func004A takes nothing returns nothing
	call ExplodeUnitBJ(GetEnumUnit())
endfunction

function Trig_DestroyEmptyTeams_Func002C takes nothing returns boolean
	return ( ( GetPlayerSlotState(Player(0)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(1)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(2)) != PLAYER_SLOT_STATE_PLAYING ) )
endfunction

function Trig_DestroyEmptyTeams_Func003Func004A takes nothing returns nothing
	call ExplodeUnitBJ(GetEnumUnit())
endfunction

function Trig_DestroyEmptyTeams_Func003C takes nothing returns boolean
	return ( ( GetPlayerSlotState(Player(4)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(5)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(6)) != PLAYER_SLOT_STATE_PLAYING ) )
endfunction

function Trig_DestroyEmptyTeams_Func004Func004A takes nothing returns nothing
	call ExplodeUnitBJ(GetEnumUnit())
endfunction

function Trig_DestroyEmptyTeams_Func004C takes nothing returns boolean
	return ( ( GetPlayerSlotState(Player(8)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(9)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(10)) != PLAYER_SLOT_STATE_PLAYING ) )
endfunction

function Trig_DestroyEmptyTeams takes nothing returns nothing
	call TriggerSleepAction(1.00)
	if udg_DEBUG_INT > 1 and ( ( ( ( GetPlayerSlotState(Player(0)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(1)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(2)) != PLAYER_SLOT_STATE_PLAYING ) ) ) ) then
		call ForceRemovePlayer(udg_forces01[1], Player(3))
		set udg_booleans01[211]=true
		call ForGroupBJ(GetUnitsOfPlayerAll(Player(3)), function Trig_DestroyEmptyTeams_Func002Func004A)
		call DisableTrigger(udg_trigger475)
		call DisableTrigger(udg_trigger476)
	else
		call ForceAddPlayer(udg_forces01[1], Player(3))
	endif
	if udg_DEBUG_INT > 1 and ( ( ( ( GetPlayerSlotState(Player(4)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(5)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(6)) != PLAYER_SLOT_STATE_PLAYING ) ) ) ) then
		call ForceRemovePlayer(udg_forces01[1], Player(7))
		set udg_booleans01[212]=true
		call ForGroupBJ(GetUnitsOfPlayerAll(Player(7)), function Trig_DestroyEmptyTeams_Func003Func004A)
		call DisableTrigger(udg_trigger477)
		call DisableTrigger(udg_trigger478)
	else
		call ForceAddPlayer(udg_forces01[1], Player(7))
	endif
	if udg_DEBUG_INT > 1 and ( ( ( ( GetPlayerSlotState(Player(8)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(9)) != PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerSlotState(Player(10)) != PLAYER_SLOT_STATE_PLAYING ) ) ) ) then
		call ForceRemovePlayer(udg_forces01[1], Player(11))
		set udg_booleans01[213]=true
		call ForGroupBJ(GetUnitsOfPlayerAll(Player(11)), function Trig_DestroyEmptyTeams_Func004Func004A)
		call DisableTrigger(udg_trigger479)
		call DisableTrigger(udg_trigger480)
	else
		call ForceAddPlayer(udg_forces01[1], Player(11))
	endif
endfunction

function Trig_ShowModeSelectionMenu_Func005Func002002003003001001001 takes nothing returns boolean
	return ( GetPlayerSlotState(GetFilterPlayer()) == PLAYER_SLOT_STATE_PLAYING )
endfunction

function Trig_ShowModeSelectionMenu_Func005A takes nothing returns nothing
	call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY, true, GetEnumPlayer())
	//call SetPlayerHandicapXPBJ(GetEnumPlayer(),(60.00+(5.00*I2R(CountPlayersInForceBJ(GetPlayersMatching(Condition(function Trig_ShowModeSelectionMenu_Func005Func002002003003001001001)))))))
	call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, udg_rect23)
	call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_duel_area)
	//call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetRectCenter(udg_rect23),0)
endfunction

function Trig_ShowModeSelectionMenu_Func010Func001C takes nothing returns boolean
	return ( ( GetPlayerSlotState(Player(0)) == PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerController(Player(0)) == MAP_CONTROL_USER ) )
endfunction

function Trig_ShowModeSelectionMenu_Func010C takes nothing returns boolean
	return ( ( ( ( GetPlayerSlotState(Player(0)) == PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerController(Player(0)) == MAP_CONTROL_USER ) ) ) )
endfunction

function Trig_ShowModeSelectionMenu takes nothing returns nothing
	//call CameraSetSmoothingFactor(0.40)
	call SetTimeOfDay(12.00)
	call SetUnitInvulnerable(udg_unit60, true)
	call CreateTextTagLocBJ("", GetRectCenter(udg_rect23), 80.00, 25.00, 100, 50.00, 50.00, 0)
	call ForForce(bj_FORCE_ALL_PLAYERS, function Trig_ShowModeSelectionMenu_Func005A)
	call TriggerSleepAction(5.00)
	//call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|cffff0000Experience Gain: "+(R2S(GetPlayerHandicapXPBJ(Player(0)))+"%!|r")))
	loop
        	exitwhen udg_CanSelectModes
        	call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL, 0.50))
    	endloop
	if ( ( ( ( GetPlayerSlotState(udg_Host) == PLAYER_SLOT_STATE_PLAYING ) ) and ( ( GetPlayerController(udg_Host) == MAP_CONTROL_USER ) ) ) ) then
		call DialogSetMessage(udg_dialog01, "|cFF00FF40Select the game mode|r")
		set udg_buttons01[2]=DialogAddButtonBJ(udg_dialog01, "Time mode")
		set udg_buttons01[1]=DialogAddButtonBJ(udg_dialog01, "Base kill mode")
		//set udg_buttons01[90]=DialogAddButtonBJ(udg_dialog01, "Point mode")
		//set udg_buttons01[91]=DialogAddButtonBJ(udg_dialog01, "Kill mode")
        //set udg_buttons01[99]=DialogAddButtonBJ(udg_dialog01, "Survival mode")
		//set udg_buttons01[98]=DialogAddButtonBJ(udg_dialog01, "Battle Royale Mode")
		//set udg_buttons01[97]=DialogAddButtonBJ(udg_dialog01, "Domination Mode")
		call DialogDisplayBJ(true, udg_dialog01, udg_Host)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( ( "The player " + GetPlayerName(udg_Host) ) + "|r is selecting the game mode." ))
		call TriggerSleepAction(5.00)
	else
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "Player red did not select any modes, then Base kill mode will automatically be started. Pick your hero in 5 seconds!")
		set udg_booleans01[1]=true
		call TriggerSleepAction(5.00)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, "|cFFFF0000You can now pick your hero. Type [-random] to select a random hero!\n		[Press |ESC| to clean your screen]|r")
        call s__AHSS_Graphics_loopMethod(0)
	endif
endfunction

function executeFunc takes code c returns nothing
 local trigger t= CreateTrigger()
	call TriggerRegisterTimerEventSingle(t, 0.00)
	call TriggerAddAction(t, c)
endfunction 

function Trig_Advertise1 takes nothing returns nothing
	call TriggerSleepAction(4.00)
endfunction

function Trig_Advertise2 takes nothing returns nothing
	call TriggerSleepAction(330.00)
endfunction

function Trig_Advertise4 takes nothing returns nothing
	call TriggerSleepAction(300.0)
	call DisplayTextToForce(GetPlayersAll(), "TRIGSTR_1860")
	call TriggerSleepAction(300.0)
	call DisplayTextToForce(GetPlayersAll(), "TRIGSTR_1931")
	call TriggerSleepAction(300.0)
	call DisplayTextToForce(GetPlayersAll(), "TRIGSTR_1933")
	call TriggerSleepAction(300.0)
	call DisplayTextToForce(GetPlayersAll(), "TRIGSTR_1934")
endfunction

function Trig_SetTeamColors takes nothing returns nothing
	set udg_strings02[1]="|c00FF0000"
	set udg_strings02[2]="|c000041FF"
	set udg_strings02[4]="|c001BE5B8"
	set udg_strings02[3]="|c00530080"
	set udg_strings02[5]="|c00FFFC00"
	set udg_strings02[6]="|c00FE890E"
	set udg_strings02[7]="|c001FBF00"
	set udg_strings02[8]="|c00E45AAF"
	set udg_strings02[9]="|c00949596"
	set udg_strings02[10]="|c007DBEF1"
	set udg_strings02[11]="|c000F6145"
	set udg_strings02[12]="|c004D2903"
endfunction

function Trig_JJWAL__JS_______u_Conditions takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) and ( ( IsUnitPaused(GetTriggerUnit()) == false ) ) and ( ( GetOwningPlayer(GetTriggerUnit()) != Player(PLAYER_NEUTRAL_PASSIVE) ) ) and ( ( GetOwningPlayer(GetTriggerUnit()) != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) )
endfunction

function Trig_JJWAL__JS_______u_Actions takes nothing returns nothing
	call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(udg_rect20))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
	set udg_boolean04=false
endfunction

function Trig_SetPlayers takes nothing returns nothing
	set udg_players01[0]=Player(0)
	set udg_players01[1]=Player(1)
	set udg_players01[2]=Player(2)
	set udg_players01[3]=Player(3)
	set udg_players01[4]=Player(4)
	set udg_players01[5]=Player(5)
	set udg_players01[6]=Player(6)
	set udg_players01[7]=Player(7)
	set udg_players01[8]=Player(8)
	set udg_players01[9]=Player(9)
	set udg_players01[10]=Player(10)
	set udg_players01[11]=Player(11)
endfunction

function Trig_DisplayVisibleAreasKonoha_Func001A takes nothing returns nothing
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_DeathForest)
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_ArenaInvulArea)
endfunction

function Trig_DisplayVisibleAreasKonoha_Func002A takes nothing returns nothing
    call CreateFogModifierRectBJ(true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, gg_rct_HokageStone)
endfunction

function Trig_DisplayVisibleAreasKonoha takes nothing returns nothing
	call ForForce(GetPlayersAll(), function Trig_DisplayVisibleAreasKonoha_Func001A)
    call ForForce(GetPlayersAllies(Player(3)), function Trig_DisplayVisibleAreasKonoha_Func002A)
endfunction 

function Trig_Advertise takes nothing returns nothing
endfunction

function Trig_UpgradeCreeps takes nothing returns nothing
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=12
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		call SetPlayerTechResearchedSwap('Rhan', ( GetPlayerTechCountSimple('Rhan', Player(- 1 + ( bj_forLoopAIndex ))) + 1 ), Player(- 1 + ( bj_forLoopAIndex )))
		call SetPlayerTechResearchedSwap('Rhra', ( GetPlayerTechCountSimple('Rhra', Player(- 1 + ( bj_forLoopAIndex ))) + 1 ), Player(- 1 + ( bj_forLoopAIndex )))
		call SetPlayerTechResearchedSwap('Rhar', ( GetPlayerTechCountSimple('Rhar', Player(- 1 + ( bj_forLoopAIndex ))) + 1 ), Player(- 1 + ( bj_forLoopAIndex )))
		call SetPlayerTechResearchedSwap('Rhme', ( GetPlayerTechCountSimple('Rhme', Player(- 1 + ( bj_forLoopAIndex ))) + 1 ), Player(- 1 + ( bj_forLoopAIndex )))
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, "|cffff0000Ninja forces were fortified!|r\n	\nPlay fair! Do not use hacks!\nType [-afk] to kick any inactive player.")
endfunction

function Trig_D_Conditions takes nothing returns boolean
	return ( ( udg_booleans01[2] ) )
endfunction

function Trig_D_Actions takes nothing returns nothing
	call DisableTrigger(GetTriggeringTrigger())
	call DialogSetMessage(udg_dialog02, "|cFF00FF48Select the game duration|r")
	set udg_buttons01[3]=DialogAddButtonBJ(udg_dialog02, "45 minutes")
	set udg_buttons01[22]=DialogAddButtonBJ(udg_dialog02, "30 minutes")
	set udg_buttons01[4]=DialogAddButtonBJ(udg_dialog02, "60 minutes")
	call DialogDisplayBJ(true, udg_dialog02, udg_Host)
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( ( "Now let  " + GetPlayerName(udg_Host) ) + "|r select the game duration" ))
endfunction

function Trig_J_Actions takes nothing returns nothing
	call DisableTrigger(GetTriggeringTrigger())
	call DialogSetMessage(udg_dialog05, "|cFF00FF48Hero pick mode|r")
	set udg_DraftPickButtonAR=DialogAddButtonBJ(udg_dialog05, "Ban + All random")
	set udg_DraftPickButton=DialogAddButtonBJ(udg_dialog05, "Ban + All pick")
	set udg_buttons01[8]=DialogAddButtonBJ(udg_dialog05, "All random")
	set udg_buttons01[7]=DialogAddButtonBJ(udg_dialog05, "All pick")
	call DialogDisplayBJ(true, udg_dialog05, udg_Host)
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( ( "Now let " + GetPlayerName(udg_Host) ) + " |r select the hero pick mode." ))
endfunction

function Trig_B_Func001Func001C takes nothing returns boolean
	return ( ( udg_buttons01[2] == GetClickedButton() ) )
endfunction

function Trig_B_Func001C takes nothing returns boolean
	return ( ( udg_buttons01[1] == GetClickedButton() ) )
endfunction

function Trig_B_Actions takes nothing returns nothing
 local integer i
	if ( ( udg_buttons01[1] == GetClickedButton() ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " |rselected: |cff7ebff1Base kill mode|r!" ))
		call TriggerSleepAction(1.00)
		//call EnableTrigger(gg_trg_TeamDuelMode)
		call EnableTrigger(gg_trg_MissionsMode)
		set udg_booleans01[1]=true
		set udg_Switch2=true
		set udg_ModeS=udg_ModeS + "Base kill mode"
	elseif ( ( udg_buttons01[2] == GetClickedButton() ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff1Time mode|r!" ))
		set udg_PointMode=true
		call EnableTrigger(udg_trigger37)
		call TriggerSleepAction(1.00)
		set udg_booleans01[2]=true
		set udg_Switch2=true
		set udg_ModeS=udg_ModeS + "Time mode"
		set udg_LeaderboxMode=0
		call LeaderboardSetLabelBJ(GetLastCreatedLeaderboard(), "Team points")
		//call LeaderboardDisplayBJ( true, udg_Leaderbox )
	elseif ( ( udg_buttons01[90] == GetClickedButton() ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff1Point mode|r!" ))
		call TriggerSleepAction(1.00)
		set udg_booleans01[2]=true
		set udg_Switch2=true
		set udg_ModeS=udg_ModeS + "Point mode"
		set udg_LeaderboxMode=0
		call LeaderboardSetLabelBJ(udg_Leaderbox, "Team points")
		//call LeaderboardDisplayBJ( true, udg_Leaderbox )
		call EnableTrigger(gg_trg_PointMode)
	elseif ( ( udg_buttons01[91] == GetClickedButton() ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff1Kill mode|r!" ))
		call TriggerSleepAction(1.00)
		set udg_booleans01[2]=true
		set udg_Switch2=true
		set udg_ModeS=udg_ModeS + "Kill mode"
		set udg_LeaderboxMode=1
		call LeaderboardSetLabelBJ(udg_Leaderbox, "Team kills")
		call LeaderboardDisplayBJ(true, udg_Leaderbox)
		call EnableTrigger(gg_trg_KillMode)
	
	endif
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=12
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		call SetPlayerHandicapXP(Player(- 1 + ( bj_forLoopAIndex )), 1.50)
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	//call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.00,"|cffff0000Experience gain was set to 150%!|r")
endfunction

function Trig_K_Func001C takes nothing returns boolean
	return ( ( udg_buttons01[7] == GetClickedButton() ) ) or ( ( udg_buttons01[8] == GetClickedButton() ) )
endfunction

function Trig_K_Conditions takes nothing returns boolean
	return true //return((((udg_buttons01[7]==GetClickedButton()))or((udg_buttons01[8]==GetClickedButton()))))or(udg_DraftPickButton==GetClickedButton())or(udg_DraftPickButtonAR==GetClickedButton())
endfunction

function Trig_K_Func002Func003001001001 takes nothing returns boolean
	return ( GetPlayerController(GetFilterPlayer()) == MAP_CONTROL_USER ) and GetPlayerId(GetFilterPlayer()) < 11
endfunction

function Trig_K_Func002Func003001001002 takes nothing returns boolean
	return ( GetPlayerSlotState(GetFilterPlayer()) == PLAYER_SLOT_STATE_PLAYING ) and GetPlayerId(GetFilterPlayer()) < 11
endfunction

function Trig_K_Func002C takes nothing returns boolean
	return ( ( udg_buttons01[7] == GetClickedButton() ) )
endfunction

function Trig_K_Actions takes nothing returns nothing
	if ( ( udg_buttons01[7] == GetClickedButton() ) ) then
		call EnableTrigger(udg_trigger17)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " |rselected: |cff7ebff1All pick|r. You can choose your hero in five seconds!" ))
		call TriggerSleepAction(5.00)
        call s__AHSS_Graphics_loopMethod(0)
		//call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFFFF0000Five seconds have elapsed! |cFFFF0000GOGO!|r Now you can choose your hero!")
		set udg_ModeS=udg_ModeS + "| All Pick"
        call ClearTextMessages()
	elseif ( ( udg_DraftPickButton == GetClickedButton() ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " |rselected: |cff7ebff1Ban + All pick|r. Wait 15 seconds until each player ban one hero!" ))
		set udg_DraftPick=true
		set udg_ModeS=udg_ModeS + "| Ban"
        call TriggerSleepAction(2.50)
        call s__AHSS_Graphics_loopMethod(2)
        call ClearTextMessages()
	elseif ( ( udg_DraftPickButtonAR == GetClickedButton() ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " |rselected: |cff7ebff1Ban + All random|r. Wait 15 seconds until each player ban one hero!" ))
		set udg_DraftPickAR=true
		set udg_ModeS=udg_ModeS + "| Ban"
        call TriggerSleepAction(2.50)
        call s__AHSS_Graphics_loopMethod(3)
        call ClearTextMessages()
	else
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " |rselected: |cff7ebff1All random|r. Your hero will be chosen shortly!" ))
		call TriggerSleepAction(1.00)
        call s__AHSS_Graphics_loopMethod(1)
        call ClearTextMessages()
		set udg_ModeS=udg_ModeS + "| All random"
	endif
endfunction

function Trig_renwuxuanze_Conditions takes nothing returns boolean
	return ( ( udg_booleans01[1] ) )
endfunction

function Trig_renwuxuanze_Actions takes nothing returns nothing
	call DisableTrigger(GetTriggeringTrigger())
	call DialogSetMessage(udg_dialog04, "|cFF00FF48Mission Mode|r")
	set udg_buttons01[5]=DialogAddButtonBJ(udg_dialog04, "Disable Missions")
//	set udg_buttons01[6]=DialogAddButtonBJ(udg_dialog04,"Enable Missions")
	call DialogDisplayBJ(true, udg_dialog04, udg_Host)
	call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( ( "Now let " + GetPlayerName(udg_Host) ) + " selects mission mode!" ))
endfunction

function Trig_E_Func001C takes nothing returns boolean
	return ( ( udg_buttons01[3] == GetClickedButton() ) ) or ( ( udg_buttons01[4] == GetClickedButton() ) )
endfunction

function Trig_E_Conditions takes nothing returns boolean
	return ( ( ( ( udg_buttons01[3] == GetClickedButton() ) ) or ( ( udg_buttons01[4] == GetClickedButton() ) ) ) ) or ( ( udg_buttons01[22] == GetClickedButton() ) )
endfunction

function Trig_E_Func002C takes nothing returns boolean
	return ( ( udg_buttons01[3] == GetClickedButton() ) )
endfunction

function Trig_E_Actions takes nothing returns nothing
	if ( ( udg_buttons01[3] == GetClickedButton() ) ) then
		set udg_Mode45Min=true
		call EnableTrigger(udg_trigger44)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff145 minutes|r!" ))
		set bj_forLoopAIndex=1
		set bj_forLoopAIndexEnd=12
		loop
			exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
			call SetPlayerHandicapXP(Player(- 1 + ( bj_forLoopAIndex )), 1.50)
			set bj_forLoopAIndex=bj_forLoopAIndex + 1
		endloop
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, "|cffff0000Experience gain was set to 150%!|r")
	elseif ( ( udg_buttons01[22] == GetClickedButton() ) ) then
		set udg_Mode30Min=true
		call EnableTrigger(udg_trigger44)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff130 minutes|r!" ))
		set bj_forLoopAIndex=1
		set bj_forLoopAIndexEnd=12
		loop
			exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
			call SetPlayerHandicapXP(Player(- 1 + ( bj_forLoopAIndex )), 2.00)
			set bj_forLoopAIndex=bj_forLoopAIndex + 1
		endloop
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, "|cffff0000Experience gain was set to 180% and gold rate was increased to 200%!|r")
	else
        set udg_Mode60Min=true
		call EnableTrigger(udg_trigger44)
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff160 minutes|r!" ))
		set bj_forLoopAIndex=1
		set bj_forLoopAIndexEnd=12
		loop
			exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
			call SetPlayerHandicapXP(Player(- 1 + ( bj_forLoopAIndex )), 1.25)
			set bj_forLoopAIndex=bj_forLoopAIndex + 1
		endloop
		call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, "|cffff0000Experience gain was set to 125%!|r")
	endif
	call TriggerSleepAction(1.00)
	call EnableTrigger(gg_trg_BasesInvulMode)
	set udg_booleans01[1]=true
endfunction

function Trig_F_Func001C takes nothing returns boolean
	return ( ( udg_buttons01[5] == GetClickedButton() ) ) or ( ( udg_buttons01[6] == GetClickedButton() ) )
endfunction

function Trig_F_Conditions takes nothing returns boolean
	return ( ( ( ( udg_buttons01[5] == GetClickedButton() ) ) or ( ( udg_buttons01[6] == GetClickedButton() ) ) ) )
endfunction

function Trig_F_Func002C takes nothing returns boolean
	return ( ( udg_buttons01[5] == GetClickedButton() ) )
endfunction

function Trig_F_Actions takes nothing returns nothing
	if ( ( udg_buttons01[5] == GetClickedButton() ) ) then
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff1Missions disabled|r!" ))
		call DisableTrigger(udg_trigger53)
		call DisableTrigger(udg_trigger56)
		call DisableTrigger(udg_trigger56)
		call DisableTrigger(udg_trigger47)
		call DisableTrigger(udg_trigger58)
		call SetUnitInvulnerable(udg_unit36, true)
		call SetUnitInvulnerable(udg_unit61, true)
		call SetUnitInvulnerable(udg_unit59, true)
		call SetUnitInvulnerable(udg_unit34, true)
		call SetUnitInvulnerable(udg_unit56, true)
		call SetUnitInvulnerable(udg_unit48, true)
		call SetUnitInvulnerable(udg_unit41, true)
		call SetUnitInvulnerable(udg_unit39, true)
	else
		call DisplayTextToForce(bj_FORCE_ALL_PLAYERS, ( GetPlayerName(udg_Host) + " selected: |cff7ebff1Missons enabled|r!" ))
	endif
	call TriggerSleepAction(1.00)
	//call EnableTrigger(gg_trg_TeamDuelMode)
	call EnableTrigger(gg_trg_MissionsMode)
endfunction

function Trig_H_Func001Func007C takes nothing returns boolean
	return GetTeamPoints(3) >= GetTeamPoints(7) and GetTeamPoints(3) >= GetTeamPoints(11)
endfunction

function Trig_H_Func001C takes nothing returns boolean
	return GetTeamPoints(3) >= GetTeamPoints(7) and GetTeamPoints(3) >= GetTeamPoints(11)
endfunction

function Trig_H_Func002Func001C takes nothing returns boolean
	return GetTeamPoints(7) >= GetTeamPoints(3) and GetTeamPoints(7) >= GetTeamPoints(11)
endfunction

function Trig_H_Func002C takes nothing returns boolean
	return GetTeamPoints(7) >= GetTeamPoints(3) and GetTeamPoints(7) >= GetTeamPoints(11)
endfunction

function Trig_H_Func003Func001C takes nothing returns boolean
	return GetTeamPoints(11) >= GetTeamPoints(3) and GetTeamPoints(11) >= GetTeamPoints(7)
endfunction

function Trig_H_Func003C takes nothing returns boolean
	return GetTeamPoints(11) >= GetTeamPoints(3) and GetTeamPoints(11) >= GetTeamPoints(7)
endfunction

function Trig_H_Actions takes nothing returns nothing
 local integer i
	if GetTeamPoints(3) != GetTeamPoints(7) and GetTeamPoints(7) != GetTeamPoints(11) then
		if GetTeamPoints(3) >= GetTeamPoints(7) and GetTeamPoints(3) >= GetTeamPoints(11) then
			set udg_Winning_Team=3
		elseif GetTeamPoints(7) >= GetTeamPoints(3) and GetTeamPoints(7) >= GetTeamPoints(11) then
			set udg_Winning_Team=7
		elseif GetTeamPoints(11) >= GetTeamPoints(3) and GetTeamPoints(11) >= GetTeamPoints(7) then
			set udg_Winning_Team=11
		endif
	endif
	if GetTeamPoints(3) >= GetTeamPoints(7) and GetTeamPoints(3) >= GetTeamPoints(11) then
		if GetTeamPoints(3) == GetTeamPoints(7) or GetTeamPoints(3) == GetTeamPoints(11) then
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(3)) then
					call TimedDraw(Player(i))
				endif
				set i=i + 1
			endloop
		else
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(3)) then
					call TimedVictory(Player(i))
				endif
				set i=i + 1
			endloop
		endif
	else
		set i=0
		loop
			exitwhen i > 11
			if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(3)) then
				call TimedDefeat(Player(i))
			endif
			set i=i + 1
		endloop
	endif
	if GetTeamPoints(7) >= GetTeamPoints(3) and GetTeamPoints(7) >= GetTeamPoints(11) then
		if GetTeamPoints(7) == GetTeamPoints(3) or GetTeamPoints(7) == GetTeamPoints(11) then
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(7)) then
					call TimedDraw(Player(i))
				endif
				set i=i + 1
			endloop
		else
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(7)) then
					call TimedVictory(Player(i))
				endif
				set i=i + 1
			endloop
		endif
	else
		set i=0
		loop
			exitwhen i > 11
			if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(7)) then
				call TimedDefeat(Player(i))
			endif
			set i=i + 1
		endloop
	endif
	if GetTeamPoints(11) >= GetTeamPoints(3) and GetTeamPoints(11) >= GetTeamPoints(7) then
		if GetTeamPoints(11) == GetTeamPoints(3) or GetTeamPoints(11) == GetTeamPoints(7) then
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(11)) then
					call TimedDraw(Player(i))
				endif
				set i=i + 1
			endloop
		else
			set i=0
			loop
				exitwhen i > 11
				if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(11)) then
					call TimedVictory(Player(i))
				endif
				set i=i + 1
			endloop
		endif
	else
		set i=0
		loop
			exitwhen i > 11
			if i != 3 and i != 7 and i != 11 and IsPlayerAlly(Player(i), Player(11)) then
				call TimedDefeat(Player(i))
			endif
			set i=i + 1
		endloop
	endif
	
endfunction

function Trig_fhshumu_Actions takes nothing returns nothing
 local destructable KPHW
	set KPHW=GetDyingDestructable()
	call TriggerSleepAction(10.00)
	set KPHW=null
	call DestructableRestoreLife(KPHW, GetDestructableMaxLife(bj_lastCreatedDestructable), true)
endfunction

function Trig_JS_4_Conditions takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) and ( ( IsUnitPaused(GetTriggerUnit()) == false ) ) and ( ( GetPlayerController(GetOwningPlayer(GetTriggerUnit())) != MAP_CONTROL_COMPUTER ) ) and ( ( IsUnitPaused(GetTriggerUnit()) == false ) )
endfunction

function Trig_JS_4_Actions takes nothing returns nothing
	call SetUnitPositionLoc(GetTriggerUnit(), GetRectCenter(udg_rect20))
	call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), 0)
	set udg_boolean03=false
endfunction

function Trig_xuanzhuan_Actions takes nothing returns nothing
	call SetUnitFacingTimed(udg_units11[1], ( GetUnitFacing(udg_units11[1]) + 45.00 ), 0)
endfunction

function Trig_HY2_Conditions takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'ugho' ) )
endfunction

function Trig_HY2_Actions takes nothing returns nothing
	call RemoveUnit(GetTriggerUnit())
endfunction

function Trig_luoxuanwanbaozhaxiaoguo_Conditions takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nbdw' ) )
endfunction

function Trig_luoxuanwanbaozhaxiaoguo_Func002C takes nothing returns boolean
	return ( ( GetUnitUserData(GetTriggerUnit()) >= 8 ) )
endfunction

function Trig_luoxuanwanbaozhaxiaoguo_Actions takes nothing returns nothing
	set udg_locations06[241]=GetUnitLoc(GetTriggerUnit())
	if ( ( GetUnitUserData(GetTriggerUnit()) >= 8 ) ) then
		set udg_locations06[242]=PolarProjectionBJ(udg_locations06[241], 50.00, GetUnitFacing(GetTriggerUnit()))
		call CreateNUnitsAtLoc(1, 'nbdw', GetOwningPlayer(GetTriggerUnit()), udg_locations06[242], GetUnitFacing(GetTriggerUnit()))
		call UnitApplyTimedLifeBJ(0.06, 'BTLF', bj_lastCreatedUnit)
		call SetUnitUserData(bj_lastCreatedUnit, ( GetUnitUserData(GetTriggerUnit()) - 1 ))
		call RemoveLocation(udg_locations06[237])
	endif
	call RemoveLocation(udg_locations06[241])
endfunction

function Trig_daojuxianzhi_Actions takes nothing returns nothing
	call TriggerSleepAction(60.00)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=12
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		call SetPlayerTechResearchedSwap('R009', 1, Player(- 1 + ( bj_forLoopAIndex )))
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call TriggerSleepAction(240.00)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=12
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		call SetPlayerTechResearchedSwap('Rhst', 1, Player(- 1 + ( bj_forLoopAIndex )))
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call TriggerSleepAction(180.00)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=12
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		call SetPlayerTechResearchedSwap('Rhst', 2, Player(- 1 + ( bj_forLoopAIndex )))
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
endfunction

function Trig_shezhiwupin_Actions takes nothing returns nothing
	set udg_integers07[1]='I00Y'
	set udg_integers07[2]='I00Z'
	set udg_integers07[3]='I014'
	set udg_integers07[4]='I015'
	set udg_integers07[5]='I016'
	set udg_integers07[6]='I017'
	set udg_integers07[7]='I018'
	set udg_integers07[8]='I019'
	set udg_integers07[9]='I01A'
	set udg_integers07[10]='I01B'
	set udg_integers08[1]='I01L'
	set udg_integers08[2]='I01C'
	set udg_integers08[3]='I01D'
	set udg_integers08[4]='I01E'
	set udg_integers08[5]='I01F'
	set udg_integers08[6]='I01G'
	set udg_integers08[7]='I01H'
	set udg_integers08[8]='I01I'
	set udg_integers08[9]='I01J'
	set udg_integers08[10]='I01K'
	set udg_integers09[1]='I00J'
	set udg_integers09[2]='I00K'
	set udg_integers09[3]='I01M'
	set udg_integers09[4]='I01N'
	set udg_integers09[5]='I01O'
	set udg_integers09[6]='I01P'
	set udg_integers09[7]='I01Q'
	set udg_integers09[8]='I01R'
	set udg_integers09[9]='I01S'
	set udg_integers09[10]='I01T'
	set udg_integers10[1]='I004'
	set udg_integers10[2]='I005'
	set udg_integers10[3]='I003'
	set udg_integers10[4]='I01U'
	set udg_integers10[5]='I01V'
	set udg_integers07[31]='I007'
	set udg_integers07[32]='I00L'
	set udg_integers07[33]='srbd'
	set udg_integers10[51]='ofro'
	set udg_integers10[52]='oven'
	set udg_integers10[53]='odef'
	set udg_integers10[54]='ofir'
	set udg_integers10[55]='oli2'
	set udg_integers07[51]='I01Y'
	set udg_integers07[52]='I022'
	set udg_integers07[53]='I023'
	set udg_integers07[54]='I01Z'
	set udg_integers07[55]='I021'
	set udg_integers08[51]='I024'
	set udg_integers08[52]='I025'
	set udg_integers08[53]='I026'
	set udg_integers08[54]='I028'
	set udg_integers08[55]='I027'
	set udg_integers09[51]='I02A'
	set udg_integers09[52]='I02B'
	set udg_integers09[53]='I02C'
	set udg_integers09[54]='I02D'
	set udg_integers09[55]='I029'
endfunction

function Trig_wupinchongfu_Conditions takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) and ( ( GetItemType(GetManipulatedItem()) != ITEM_TYPE_ARTIFACT ) ) and ( ( GetItemType(GetManipulatedItem()) != ITEM_TYPE_CHARGED ) ) and ( ( GetItemType(GetManipulatedItem()) != ITEM_TYPE_PURCHASABLE ) )
endfunction

function Trig_wupinchongfu_Func003Func001C takes nothing returns boolean
	return ( ( GetItemType(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10)) == udg_itemtype01 ) )
endfunction

function Trig_wupinchongfu_Func004C takes nothing returns boolean
	return ( ( udg_integer09 > 1 ) )
endfunction

function Trig_wupinchongfu_Actions takes nothing returns nothing
	set udg_integer09=0
	set udg_itemtype01=GetItemType(GetManipulatedItem())
	set udg_integer10=1
	loop
		exitwhen udg_integer10 > 6
		if ( ( GetItemType(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10)) == udg_itemtype01 ) ) then
			set udg_integer09=( udg_integer09 + 1 )
		endif
		set udg_integer10=udg_integer10 + 1
	endloop
	if ( ( udg_integer09 > 1 ) ) and udg_ItemClassification and GetUnitTypeId(GetTriggerUnit()) != 'h01D' then
		call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "You can only carry one item of this kind at once!")
	endif
endfunction

function Trig_wupinchongfu5_Func006C takes nothing returns boolean
 local integer id= GetItemTypeId(GetManipulatedItem())
	return id == 'I011' or id == 'I012' or id == 'I001' or id == 'I03R' or id == 'I045' or id == 'I046' or id == 'I047' or id == 'I048' or id == 'I049' or id == 'I04A' or id == 'I04B' or id == 'I04C' or id == 'I04D' or id == 'I04E' or id == 'I04F' or id == 'I04G' or id == 'I04H' or id == 'I04I' or id == 'I04J' or id == 'I04K' or id == 'I04L' or id == 'I04M'
endfunction

function Trig_wupinchongfu5_Conditions takes nothing returns boolean
 local integer id= GetItemTypeId(GetManipulatedItem())
	return IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and ( id == 'I011' or id == 'I012' or id == 'I001' or id == 'I03R' or id == 'I045' or id == 'I046' or id == 'I047' or id == 'I048' or id == 'I049' or id == 'I04A' or id == 'I04B' or id == 'I04C' or id == 'I04D' or id == 'I04E' or id == 'I04F' or id == 'I04G' or id == 'I04H' or id == 'I04I' or id == 'I04J' or id == 'I04K' or id == 'I04L' or id == 'I04M' )
endfunction

function Trig_wupinchongfu5_Func003Func001Func003C takes nothing returns boolean
 local integer id= GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10))
	return id == 'I011' or id == 'I012' or id == 'I001' or id == 'I03R' or id == 'I045' or id == 'I046' or id == 'I047' or id == 'I048' or id == 'I049' or id == 'I04A' or id == 'I04B' or id == 'I04C' or id == 'I04D' or id == 'I04E' or id == 'I04F' or id == 'I04G' or id == 'I04H' or id == 'I04I' or id == 'I04J' or id == 'I04K' or id == 'I04L' or id == 'I04M'
endfunction

function Trig_wupinchongfu5_Func003Func001C takes nothing returns boolean
 local integer id= GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10))
	return id == 'I011' or id == 'I012' or id == 'I001' or id == 'I03R' or id == 'I045' or id == 'I046' or id == 'I047' or id == 'I048' or id == 'I049' or id == 'I04A' or id == 'I04B' or id == 'I04C' or id == 'I04D' or id == 'I04E' or id == 'I04F' or id == 'I04G' or id == 'I04H' or id == 'I04I' or id == 'I04J' or id == 'I04K' or id == 'I04L' or id == 'I04M'
endfunction

function Trig_wupinchongfu5_Func004C takes nothing returns boolean
	return ( ( udg_integer09 > 1 ) )
endfunction

function Trig_wupinchongfu5_Actions takes nothing returns nothing
 local integer id
	set udg_integer09=0
	set udg_itemtype01=GetItemType(GetManipulatedItem())
	set udg_integer10=1
	loop
		exitwhen udg_integer10 > 6
		set id=GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10))
		if ( id == 'I011' or id == 'I012' or id == 'I001' or id == 'I03R' or id == 'I045' or id == 'I046' or id == 'I047' or id == 'I048' or id == 'I049' or id == 'I04A' or id == 'I04B' or id == 'I04C' or id == 'I04D' or id == 'I04E' or id == 'I04F' or id == 'I04G' or id == 'I04H' or id == 'I04I' or id == 'I04J' or id == 'I04K' or id == 'I04L' or id == 'I04M' ) then
			set udg_integer09=( udg_integer09 + 1 )
		endif
		set udg_integer10=udg_integer10 + 1
	endloop
	if GetUnitAbilityLevel(GetTriggerUnit(), 'BOae') == 10 then
		if udg_integer09 > 2 and udg_ItemClassification and GetUnitTypeId(GetTriggerUnit()) != 'h01D' then
			call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
			call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "You can only equip two ninja weapon!")
		endif
	elseif udg_integer09 > 1 and udg_ItemClassification and GetUnitTypeId(GetTriggerUnit()) != 'h01D' then
		call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "You can only equip one ninja weapon!")
	endif
endfunction

function Trig_wupinchongfu_2_Conditions takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) and ( ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_ARTIFACT ) )
endfunction

function Trig_wupinchongfu_2_Func003Func001C takes nothing returns boolean
	return ( ( GetItemType(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10)) == udg_itemtype01 ) )
endfunction

function Trig_wupinchongfu_2_Func004C takes nothing returns boolean
	return ( ( udg_integer09 > 2 ) )
endfunction

function Trig_wupinchongfu_2_Actions takes nothing returns nothing
	set udg_integer09=0
	set udg_itemtype01=GetItemType(GetManipulatedItem())
	set udg_integer10=1
	loop
		exitwhen udg_integer10 > 6
		if ( ( GetItemType(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10)) == udg_itemtype01 ) ) then
			set udg_integer09=( udg_integer09 + 1 )
		endif
		set udg_integer10=udg_integer10 + 1
	endloop
	if ( ( udg_integer09 > 2 ) ) and udg_ItemClassification and GetUnitTypeId(GetTriggerUnit()) != 'h01D' then
		call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "You can only equip two support items!")
	endif
endfunction

function Trig_wupinchongfu_3_Conditions takes nothing returns boolean
	return ( ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) ) ) and ( ( GetItemType(GetManipulatedItem()) == ITEM_TYPE_PURCHASABLE ) )
endfunction

function Trig_wupinchongfu_3_Func003Func001C takes nothing returns boolean
	return ( ( GetItemType(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10)) == udg_itemtype01 ) )
endfunction

function Trig_wupinchongfu_3_Func004C takes nothing returns boolean
	return ( ( udg_integer09 > 2 ) )
endfunction

function Trig_wupinchongfu_3_Actions takes nothing returns nothing
	set udg_integer09=0
	set udg_itemtype01=GetItemType(GetManipulatedItem())
	set udg_integer10=1
	loop
		exitwhen udg_integer10 > 6
		if ( ( GetItemType(UnitItemInSlotBJ(GetTriggerUnit(), udg_integer10)) == udg_itemtype01 ) ) then
			set udg_integer09=( udg_integer09 + 1 )
		endif
		set udg_integer10=udg_integer10 + 1
	endloop
	if ( ( udg_integer09 > 2 ) ) and udg_ItemClassification then
		call UnitRemoveItemSwapped(GetManipulatedItem(), GetTriggerUnit())
		call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, "You cannot equip more ninja weapons!")
	endif
endfunction

function Trig_BPKW_Conditions takes nothing returns boolean
	return ( ( GetUnitTypeId(GetTriggerUnit()) == 'nchr' ) )
endfunction

function Trig_BPKW_Func007001003 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) )
endfunction

function Trig_BPKW_Func007A takes nothing returns nothing
	set udg_locations03[301]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations03[301] ), ( "Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), ( 8.00 * I2R(GetHeroStatBJ(0, udg_units33[( 1 + GetPlayerId(GetOwningPlayer(GetTriggerUnit())) )], true)) ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
	call RemoveLocation(udg_locations03[301])
endfunction

function Trig_BPKW_Actions takes nothing returns nothing
	set udg_locations03[300]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ((udg_locations03[300] ), ( "war3mapImported\\FlameBomb.mdx")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((udg_locations03[300] ), ( "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	set bj_wantDestroyGroup=true
	call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.00, udg_locations03[300], Condition(function Trig_BPKW_Func007001003)), function Trig_BPKW_Func007A)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=30
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		set udg_locations06[105]=PolarProjectionBJ(udg_locations03[300], GetRandomReal(0, 180.00), GetRandomReal(0, 360))
		call CreateNUnitsAtLoc(1, 'nhef', GetOwningPlayer(GetTriggerUnit()), udg_locations06[105], GetRandomReal(0, 360))
		call KillUnit(bj_lastCreatedUnit)
		call SetUnitTimeScale(bj_lastCreatedUnit, 0.30)
		call SetUnitFlyHeight(bj_lastCreatedUnit, GetRandomReal(0.00, 120.00), 0.00)
		call RemoveLocation(udg_locations06[105])
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	call RemoveLocation(udg_locations03[300])
endfunction

function Trig_CZ2_1________2_Conditions takes nothing returns boolean
	return ( ( GetSpellAbilityId() == 'Aclf' ) )
endfunction

function Trig_CZ2_1________2_Func005Func012001003001 takes nothing returns boolean
	return ( IsUnitAliveBJ(GetFilterUnit()) )
endfunction

function Trig_CZ2_1________2_Func005Func012001003002 takes nothing returns boolean
	return ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and ( GetWidgetLife(GetFilterUnit()) > 0.405 ) )
endfunction

function Trig_CZ2_1________2_Func005Func012001003 takes nothing returns boolean
	return GetBooleanAnd(( IsUnitAliveBJ(GetFilterUnit()) ), ( IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) ))
endfunction

function Trig_CZ2_1________2_Func005Func012A takes nothing returns nothing
	call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), ( I2R(GetHeroStatBJ(1, GetTriggerUnit(), true)) * 1.50 ), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_LIGHTNING, WEAPON_TYPE_WHOKNOWS)
	set udg_locations01[4]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ((udg_locations01[4] ), ( "Abilities\\Weapons\\Bolt\\BoltImpact.mdl")) // INLINED!!
	call DestroyEffect(bj_lastCreatedEffect)
	call RemoveLocation(udg_locations01[4])
endfunction

function Trig_CZ2_1________2_Actions takes nothing returns nothing
 local integer skill_i
 local lightning lightning2
 local location P
 local location P1
 local location P2
 local location P3
	set P=GetSpellTargetLoc()
	call TriggerSleepAction(0.10)
	set bj_forLoopAIndex=1
	set bj_forLoopAIndexEnd=8
	loop
		exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
		set P1=PolarProjectionBJ(P, GetRandomReal(0, 350.00), GetRandomReal(0, 360))
		call CreateNUnitsAtLoc(1, 'hhdl', GetOwningPlayer(GetTriggerUnit()), P1, GetRandomReal(0, 360))
		call UnitApplyTimedLifeBJ(3.00, 'BTLF', bj_lastCreatedUnit)
		call RemoveLocation(P1)
		set P1=PolarProjectionBJ(P, GetRandomReal(0, 300.00), GetRandomReal(0, 360))
		call CreateNUnitsAtLoc(1, 'nhew', GetOwningPlayer(GetTriggerUnit()), P1, GetRandomReal(0, 360))
		call UnitApplyTimedLifeBJ(3.00, 'BTLF', bj_lastCreatedUnit)
		call RemoveLocation(P1)
		set bj_forLoopAIndex=bj_forLoopAIndex + 1
	endloop
	set skill_i=1
	loop
		exitwhen skill_i > 10
		set P2=PolarProjectionBJ(P, GetRandomReal(0, 350.00), GetRandomReal(0, 360))
		set P3=PolarProjectionBJ(P, GetRandomReal(0, 350.00), GetRandomReal(0, 360))
		set lightning2=AddLightningLoc("CLPB", P, P)
		call MoveLightningEx(bj_lastCreatedLightning, false, GetLocationX(P2), GetLocationY(P2), GetRandomReal(700.00, 1000.00), GetLocationX(P3), GetLocationY(P3), 0)
call AddSpecialEffectLocBJ((P3 ), ( "Abilities\\Weapons\\Bolt\\BoltImpact.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((P3 ), ( "Abilities\\Weapons\\FragDriller\\FragDriller.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ((P3 ), ( "abilities\\weapons\\catapult\\catapultmissile.mdl")) // INLINED!!
		call DestroyEffect(bj_lastCreatedEffect)
		call ForGroupBJ(GetUnitsInRangeOfLocMatching(250.00, P3, Condition(function Trig_CZ2_1________2_Func005Func012001003)), function Trig_CZ2_1________2_Func005Func012A)
		call TriggerSleepAction(0.03)
		call DestroyLightning(lightning2)
		call TriggerSleepAction(0.02)
		call RemoveLocation(P2)
		call RemoveLocation(P3)
		set skill_i=skill_i + 1
	endloop
	set lightning2=null
	set P=null
	set P1=null
	set P2=null
	set P3=null
endfunction

function Trig_bingzou_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect20), GetRectCenterY(udg_rect20))
endfunction

function Trig_bingzou0_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou0_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect07), GetRectCenterY(udg_rect07))
endfunction

function Trig_bingzou0_2_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou0_2_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect08), GetRectCenterY(udg_rect08))
endfunction

function Trig_bingzou1_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou1_Func001C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit40) ) )
endfunction

function Trig_bingzou1_Actions takes nothing returns nothing
	if ( ( IsUnitAliveBJ(udg_unit40) ) ) then
		call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect07), GetRectCenterY(udg_rect07))
	else
		call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect08), GetRectCenterY(udg_rect08))
	endif
endfunction

function Trig_bingzou2_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou2_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect08), GetRectCenterY(udg_rect08))
endfunction

function Trig_bingzou2_2_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(3) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou2_2_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect07), GetRectCenterY(udg_rect07))
endfunction

function Trig_bingzou3_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou3_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect20), GetRectCenterY(udg_rect20))
endfunction

function Trig_bingzou3_2_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou3_2_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect06), GetRectCenterY(udg_rect06))
endfunction

function Trig_bingzou3_3_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou3_3_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect08), GetRectCenterY(udg_rect08))
endfunction

function Trig_bingzou4_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou4_Func001C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit54) ) )
endfunction

function Trig_bingzou4_Actions takes nothing returns nothing
	if ( ( IsUnitAliveBJ(udg_unit54) ) ) then
		call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect08), GetRectCenterY(udg_rect08))
	else
		call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect06), GetRectCenterY(udg_rect06))
	endif
endfunction

function Trig_bingzou5_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou5_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect08), GetRectCenterY(udg_rect08))
endfunction

function Trig_bingzou5_2_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(7) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou5_2_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect06), GetRectCenterY(udg_rect06))
endfunction

function Trig_bingzou6_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou6_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect20), GetRectCenterY(udg_rect20))
endfunction

function Trig_bingzou7_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou7_Func001C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit35) ) )
endfunction

function Trig_bingzou7_Actions takes nothing returns nothing
	if ( ( IsUnitAliveBJ(udg_unit35) ) ) then
		call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect06), GetRectCenterY(udg_rect06))
	else
		call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect07), GetRectCenterY(udg_rect07))
	endif
endfunction

function Trig_bingzou8_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou8_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect07), GetRectCenterY(udg_rect07))
endfunction

function Trig_bingzou8_2_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou8_2_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect06), GetRectCenterY(udg_rect06))
endfunction

function Trig_bingzou0_3_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou0_3_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect07), GetRectCenterY(udg_rect07))
endfunction

function Trig_bingzou0_4_Conditions takes nothing returns boolean
	return ( ( GetOwningPlayer(GetTriggerUnit()) == Player(11) ) ) and ( ( GetUnitTypeId(GetTriggerUnit()) != 'espv' ) )
endfunction

function Trig_bingzou0_4_Actions takes nothing returns nothing
	call IssuePointOrder(GetTriggerUnit(), "attack", GetRectCenterX(udg_rect06), GetRectCenterY(udg_rect06))
endfunction

function Trig_CB1_1_Func001C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit45) ) )
endfunction

function Trig_CB1_1_Func002C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit51) ) )
endfunction

function Trig_CB1_1_Actions takes nothing returns nothing
 local real x1= GetRectCenterX(udg_rect11)
 local real y1= GetRectCenterY(udg_rect11)
 local real x2= GetRectCenterX(udg_rect10)
 local real y2= GetRectCenterY(udg_rect10)
 local real x3= GetRectCenterX(udg_rect06)
 local real y3= GetRectCenterY(udg_rect06)
 local integer i
	if ( ( IsUnitAliveBJ(udg_unit45) ) ) then
call CreateUnit((Player(3) ), ( 'h01A' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'h01A' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'h01A' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'e017' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'e017' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'ndth' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(3,'h01A',Player(3),GetRectCenter(udg_rect11),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(2,'e017',Player(3),GetRectCenter(udg_rect11),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(1,'ndth',Player(3),GetRectCenter(udg_rect11),bj_UNIT_FACING)
	endif
	if ( ( IsUnitAliveBJ(udg_unit51) ) ) then
call CreateUnit((Player(3) ), ( 'h01A' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'h01A' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'h01A' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'e017' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'e017' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'ndth' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(3,'h01A',Player(3),GetRectCenter(udg_rect10),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(2,'e017',Player(3),GetRectCenter(udg_rect10),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(1,'ndth',Player(3),GetRectCenter(udg_rect10),bj_UNIT_FACING)
	endif
	//call CreateNUnitsAtLoc(2,'hfoo',Player(3),GetRectCenter(udg_rect06),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(2,'h01A',Player(3),GetRectCenter(udg_rect06),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(2,'e017',Player(3),GetRectCenter(udg_rect06),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(1,'ndth',Player(3),GetRectCenter(udg_rect06),bj_UNIT_FACING)
call CreateUnit((Player(3) ), ( 'hfoo' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'hfoo' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'h01A' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'h01A' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'e017' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'e017' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
call CreateUnit((Player(3) ), ( 'ndth' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
endfunction

function Trig_CB1_2_Func002C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit45) ) )
endfunction

function Trig_CB1_2_Func003C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit51) ) )
endfunction

function Trig_CB1_2_Actions takes nothing returns nothing
 local real x1= GetRectCenterX(udg_rect11)
 local real y1= GetRectCenterY(udg_rect11)
 local real x2= GetRectCenterX(udg_rect10)
 local real y2= GetRectCenterY(udg_rect10)
 local real x3= GetRectCenterX(udg_rect06)
 local real y3= GetRectCenterY(udg_rect06)
call CreateUnit((Player(3) ), ( 'otau' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
	//call CreateNUnitsAtLoc(1,'otau',Player(3),GetRectCenter(udg_rect06),bj_UNIT_FACING)
	if ( ( IsUnitAliveBJ(udg_unit45) ) ) then
call CreateUnit((Player(3) ), ( 'otau' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(1,'otau',Player(3),GetRectCenter(udg_rect11),bj_UNIT_FACING)
	endif
	if ( ( IsUnitAliveBJ(udg_unit51) ) ) then
call CreateUnit((Player(3) ), ( 'otau' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(1,'otau',Player(3),GetRectCenter(udg_rect10),bj_UNIT_FACING)
	endif
endfunction

function Trig_CB2_1_Func005C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit42) ) )
endfunction

function Trig_CB2_1_Func006C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit37) ) )
endfunction

function Trig_CB2_1_Actions takes nothing returns nothing
 local real x1= GetRectCenterX(udg_rect07)
 local real y1= GetRectCenterY(udg_rect07)
 local real x2= GetRectCenterX(udg_rect12)
 local real y2= GetRectCenterY(udg_rect12)
 local real x3= GetRectCenterX(udg_rect13)
 local real y3= GetRectCenterY(udg_rect13)
call CreateUnit((Player(7) ), ( 'h01B' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'h01B' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'h01J' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'h01J' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'earc' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'earc' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'ndth' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
	//call CreateNUnitsAtLoc(2,'h01B',Player(7),GetRectCenter(udg_rect07),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(2,'h01J',Player(7),GetRectCenter(udg_rect07),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(2,'earc',Player(7),GetRectCenter(udg_rect07),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(1,'ndth',Player(7),GetRectCenter(udg_rect07),bj_UNIT_FACING)
	if ( ( IsUnitAliveBJ(udg_unit42) ) ) then
call CreateUnit((Player(7) ), ( 'h01J' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'h01J' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'h01J' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'earc' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'earc' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'ndth' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(2,'earc',Player(7),GetRectCenter(udg_rect12),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(1,'ndth',Player(7),GetRectCenter(udg_rect12),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(3,'h01J',Player(7),GetRectCenter(udg_rect12),bj_UNIT_FACING)
	endif
	if ( ( IsUnitAliveBJ(udg_unit37) ) ) then
call CreateUnit((Player(7) ), ( 'h01J' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'h01J' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'h01J' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'earc' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'earc' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(7) ), ( 'ndth' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(3,'h01J',Player(7),GetRectCenter(udg_rect13),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(2,'earc',Player(7),GetRectCenter(udg_rect13),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(1,'ndth',Player(7),GetRectCenter(udg_rect13),bj_UNIT_FACING)
	endif
endfunction

function Trig_CB2_2_Func002C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit42) ) )
endfunction

function Trig_CB2_2_Func003C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit37) ) )
endfunction

function Trig_CB2_2_Actions takes nothing returns nothing
 local real x1= GetRectCenterX(udg_rect07)
 local real y1= GetRectCenterY(udg_rect07)
 local real x2= GetRectCenterX(udg_rect12)
 local real y2= GetRectCenterY(udg_rect12)
 local real x3= GetRectCenterX(udg_rect13)
 local real y3= GetRectCenterY(udg_rect13)
call CreateUnit((Player(7) ), ( 'ogru' ), (( x1 )*1.0), (( y1 )*1.0), (( 270.0)*1.0)) // INLINED!!
	//call CreateNUnitsAtLoc(1,'ogru',Player(7),GetRectCenter(udg_rect07),bj_UNIT_FACING)
	if ( ( IsUnitAliveBJ(udg_unit42) ) ) then
call CreateUnit((Player(7) ), ( 'ogru' ), (( x2 )*1.0), (( y2 )*1.0), (( 270.0)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(1,'ogru',Player(7),GetRectCenter(udg_rect12),bj_UNIT_FACING)
	endif
	if ( ( IsUnitAliveBJ(udg_unit37) ) ) then
call CreateUnit((Player(7) ), ( 'ogru' ), (( x3 )*1.0), (( y3 )*1.0), (( 270.0)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(1,'ogru',Player(7),GetRectCenter(udg_rect13),bj_UNIT_FACING)
	endif
endfunction

function Trig_CB3_1_Func005C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit50) ) )
endfunction

function Trig_CB3_1_Func006C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit53) ) )
endfunction

function Trig_CB3_1_Actions takes nothing returns nothing
 local real x1= GetRectCenterX(udg_rect08)
 local real y1= GetRectCenterY(udg_rect08)
 local real x2= GetRectCenterX(udg_rect14)
 local real y2= GetRectCenterY(udg_rect14)
 local real x3= GetRectCenterX(udg_rect09)
 local real y3= GetRectCenterY(udg_rect09)
call CreateUnit((Player(11) ), ( 'h026' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'h026' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'h027' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'h027' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'e018' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'e018' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'ndth' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
	//call CreateNUnitsAtLoc(2,'h026',Player(11),GetRectCenter(udg_rect08),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(2,'h027',Player(11),GetRectCenter(udg_rect08),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(2,'e018',Player(11),GetRectCenter(udg_rect08),bj_UNIT_FACING)
	//call CreateNUnitsAtLoc(1,'ndth',Player(11),GetRectCenter(udg_rect08),bj_UNIT_FACING)
	if ( ( IsUnitAliveBJ(udg_unit50) ) ) then
call CreateUnit((Player(11) ), ( 'h027' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'h027' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'h027' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'e018' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'e018' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'ndth' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(3,'h027',Player(11),GetRectCenter(udg_rect14),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(2,'e018',Player(11),GetRectCenter(udg_rect14),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(1,'ndth',Player(11),GetRectCenter(udg_rect14),bj_UNIT_FACING)
	endif
	if ( ( IsUnitAliveBJ(udg_unit53) ) ) then
call CreateUnit((Player(11) ), ( 'h027' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'h027' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'h027' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'e018' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'e018' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
call CreateUnit((Player(11) ), ( 'ndth' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(3,'h027',Player(11),GetRectCenter(udg_rect09),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(2,'e018',Player(11),GetRectCenter(udg_rect09),bj_UNIT_FACING)
		//call CreateNUnitsAtLoc(1,'ndth',Player(11),GetRectCenter(udg_rect09),bj_UNIT_FACING)
	endif
endfunction

function Trig_CB3_2_Func002C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit50) ) )
endfunction

function Trig_CB3_2_Func003C takes nothing returns boolean
	return ( ( IsUnitAliveBJ(udg_unit53) ) )
endfunction

function Trig_CB3_2_Actions takes nothing returns nothing
 local real x1= GetRectCenterX(udg_rect08)
 local real y1= GetRectCenterY(udg_rect08)
 local real x2= GetRectCenterX(udg_rect14)
 local real y2= GetRectCenterY(udg_rect14)
 local real x3= GetRectCenterX(udg_rect09)
 local real y3= GetRectCenterY(udg_rect09)
call CreateUnit((Player(11) ), ( 'orai' ), (( x1 )*1.0), (( y1 )*1.0), (( 270)*1.0)) // INLINED!!
	//call CreateNUnitsAtLoc(1,'orai',Player(11),GetRectCenter(udg_rect08),bj_UNIT_FACING)
	if ( ( IsUnitAliveBJ(udg_unit50) ) ) then
call CreateUnit((Player(11) ), ( 'orai' ), (( x2 )*1.0), (( y2 )*1.0), (( 270)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(1,'orai',Player(11),GetRectCenter(udg_rect14),bj_UNIT_FACING)
	endif
	if ( ( IsUnitAliveBJ(udg_unit53) ) ) then
call CreateUnit((Player(11) ), ( 'orai' ), (( x3 )*1.0), (( y3 )*1.0), (( 270)*1.0)) // INLINED!!
		//call CreateNUnitsAtLoc(1,'orai',Player(11),GetRectCenter(udg_rect09),bj_UNIT_FACING)
	endif
endfunction

function Trig_SpawnCreeps takes nothing returns nothing
	call TimerStartEx((NewTimerEx(0)) , 30.0 , true , function Trig_CB1_1_Actions , "Trig_CB1_1_Actions") // INLINED!!
	call TimerStartEx((NewTimerEx(0)) , 60.0 , true , function Trig_CB1_2_Actions , "Trig_CB1_2_Actions") // INLINED!!
	call TimerStartEx((NewTimerEx(0)) , 30.0 , true , function Trig_CB2_1_Actions , "Trig_CB2_1_Actions") // INLINED!!
	call TimerStartEx((NewTimerEx(0)) , 60.0 , true , function Trig_CB2_2_Actions , "Trig_CB2_2_Actions") // INLINED!!
	call TimerStartEx((NewTimerEx(0)) , 30.0 , true , function Trig_CB3_1_Actions , "Trig_CB3_1_Actions") // INLINED!!
	call TimerStartEx((NewTimerEx(0)) , 60.0 , true , function Trig_CB3_2_Actions , "Trig_CB3_2_Actions") // INLINED!!
	call ReleaseTimer(GetExpiredTimer())
endfunction 

function main2 takes nothing returns nothing
 local weathereffect we
 local destructable d
 local trigger t
 local real life
 local player p
 local unit u
 local integer unitID
 local integer i
	call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
	call SetSoundParamsFromLabel(udg_sound01, "DeathHumanLargeBuilding")
	call SetSoundDuration(udg_sound01, 3460)
	call SetSoundParamsFromLabel(udg_sound02, "RainOfFireLoop")
	call SetSoundDuration(udg_sound02, 4000)
	call SetSoundChannel(udg_sound03, 0)
	call SetSoundVolume(udg_sound03, 127)
	call SetSoundPitch(udg_sound03, 1.0)
	set udg_rect02=Rect(7232.0, 7648.0, 7872.0, 7968.0)
	set udg_rect03=Rect(- 6048.0, 704.0, - 5856.0, 928.0)
	set udg_rect04=Rect(3936.0, 6304.0, 4128.0, 6496.0)
	set udg_rect05=Rect(3008.0, - 6240.0, 3200.0, - 6048.0)
	set udg_rect06=Rect(- 5280.0, 448.0, - 4576.0, 1184.0)
	//set we=AddWeatherEffect(udg_rect06,'LRaa')
	//call EnableWeatherEffect(we,true)
	set udg_rect07=Rect(2848.0, 5152.0, 3648.0, 5920.0)
	//set we=AddWeatherEffect(udg_rect07,'WOcw')
	//call EnableWeatherEffect(we,true)
	set udg_rect08=Rect(2368.0, - 5568.0, 3104.0, - 4768.0)
	//set we=AddWeatherEffect(udg_rect08,'RAhr')
	//call EnableWeatherEffect(we,true)
	set udg_rect09=Rect(800.0, - 4832.0, 1312.0, - 4256.0)
	set udg_rect10=Rect(- 4096.0, - 1376.0, - 3584.0, - 800.0)
	set udg_rect11=Rect(- 4096.0, 2048.0, - 3584.0, 2624.0)
	set udg_rect12=Rect(1152.0, 4896.0, 1664.0, 5472.0)
	set udg_rect13=Rect(3712.0, 3136.0, 4224.0, 3712.0)
	set udg_rect14=Rect(3360.0, - 3520.0, 3872.0, - 2944.0)
	set udg_rect15=Rect(- 6720.0, 6144.0, - 6528.0, 6368.0)
	set udg_rect16=Rect(- 4608.0, 6144.0, - 4416.0, 6368.0)
	set udg_rect17=Rect(- 6816.0, 5472.0, - 4320.0, 7040.0)
	set udg_rect18=Rect(5856.0, - 1696.0, 6272.0, - 1312.0)
	set udg_rect19=Rect(6432.0, 1952.0, 6976.0, 2368.0)
	set udg_rect20=Rect(320.0, 448.0, 992.0, 1120.0)
	set udg_rect21=Rect(5792.0, - 928.0, 5984.0, - 800.0)
	set udg_rect22=Rect(5984.0, - 928.0, 6176.0, - 800.0)
	set udg_rect23=Rect(- 6496.0, - 6688.0, - 4672.0, - 5152.0)
	//set we=AddWeatherEffect(udg_rect23,'RAlr')
	//call EnableWeatherEffect(we,true)
	set udg_rect24=Rect(5856.0, 4576.0, 6048.0, 4800.0)
	set udg_rect25=Rect(6400.0, 4448.0, 6560.0, 4608.0)
	set udg_rect26=Rect(6112.0, 6112.0, 6784.0, 6592.0)
	set udg_rect27=Rect(6304.0, 6848.0, 6560.0, 7072.0)
	set udg_rect28=Rect(5792.0, 5888.0, 7552.0, 6912.0)
	set udg_rect29=Rect(5824.0, 3424.0, 7424.0, 5248.0)
	set udg_rect30=Rect(992.0, 6784.0, 1088.0, 7040.0)
	set udg_rect31=Rect(- 3008.0, 6464.0, - 2592.0, 6656.0)
	set udg_rect32=Rect(- 480.0, 6176.0, - 160.0, 6624.0)
	set udg_rect33=Rect(- 1088.0, 6208.0, - 704.0, 6752.0)
	set udg_rect34=Rect(6240.0, 5152.0, 6784.0, 5376.0)
	set udg_rect35=Rect(6272.0, 5824.0, 6912.0, 6016.0)
	set udg_rect36=Rect(- 1472.0, 3360.0, - 576.0, 4384.0)
	set udg_rect37=Rect(- 1632.0, - 2912.0, - 736.0, - 1920.0)
	set udg_rect38=Rect(3200.0, - 320.0, 4096.0, 672.0)
	set udg_rect39=Rect(6816.0, - 6688.0, 7296.0, - 6528.0)
	set udg_rect40=Rect(5760.0, - 4544.0, 6144.0, - 4192.0)
	set udg_rect41=Rect(- 192.0, - 6880.0, 288.0, - 6368.0)
	set udg_rect42=Rect(4512.0, - 7680.0, 5984.0, - 6176.0)
	set udg_rect43=Rect(5792.0, - 6560.0, 5984.0, - 6240.0)
	set udg_rect17=Rect(- 6784.0, 5472.0, - 4320.0, 7040.0)
	call CameraSetupSetField(udg_camerasetup01, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
	call CameraSetupSetField(udg_camerasetup01, CAMERA_FIELD_ROTATION, 89.7, 0.0)
	call CameraSetupSetField(udg_camerasetup01, CAMERA_FIELD_ANGLE_OF_ATTACK, 314.3, 0.0)
	call CameraSetupSetField(udg_camerasetup01, CAMERA_FIELD_TARGET_DISTANCE, 1800.0, 0.0)
	call CameraSetupSetField(udg_camerasetup01, CAMERA_FIELD_ROLL, 0.0, 0.0)
	call CameraSetupSetField(udg_camerasetup01, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
	call CameraSetupSetField(udg_camerasetup01, CAMERA_FIELD_FARZ, 5000.0, 0.0)
	call CameraSetupSetDestPosition(udg_camerasetup01, - 5607.4, 6122.1, 0.0)
	call CameraSetupSetField(udg_camerasetup02, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
	call CameraSetupSetField(udg_camerasetup02, CAMERA_FIELD_ROTATION, 87.0, 0.0)
	call CameraSetupSetField(udg_camerasetup02, CAMERA_FIELD_ANGLE_OF_ATTACK, 321.7, 0.0)
	call CameraSetupSetField(udg_camerasetup02, CAMERA_FIELD_TARGET_DISTANCE, 1200.0, 0.0)
	call CameraSetupSetField(udg_camerasetup02, CAMERA_FIELD_ROLL, 0.0, 0.0)
	call CameraSetupSetField(udg_camerasetup02, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
	call CameraSetupSetField(udg_camerasetup02, CAMERA_FIELD_FARZ, 5000.0, 0.0)
	call CameraSetupSetDestPosition(udg_camerasetup02, 607.6, 459.3, 0.0)
	call CameraSetupSetField(udg_camerasetup03, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
	call CameraSetupSetField(udg_camerasetup03, CAMERA_FIELD_ROTATION, 81.8, 0.0)
	call CameraSetupSetField(udg_camerasetup03, CAMERA_FIELD_ANGLE_OF_ATTACK, 347.5, 0.0)
	call CameraSetupSetField(udg_camerasetup03, CAMERA_FIELD_TARGET_DISTANCE, 846.7, 0.0)
	call CameraSetupSetField(udg_camerasetup03, CAMERA_FIELD_ROLL, 0.0, 0.0)
	call CameraSetupSetField(udg_camerasetup03, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
	call CameraSetupSetField(udg_camerasetup03, CAMERA_FIELD_FARZ, 5000.0, 0.0)
	call CameraSetupSetDestPosition(udg_camerasetup03, - 5412.9, - 6106.5, 0.0)
	set udg_destructable03=CreateDestructable('B003', - 1088.0, 6336.0, 270.000, 4.000, 0)
	set p=Player(3)
	set udg_unit35=gg_unit_hcas_0193
	set udg_unit45=gg_unit_h02M_0124
	set udg_unit51=gg_unit_h02M_0125
	set udg_unit83=gg_unit_hgra_0168
	set udg_unit38=gg_unit_hbla_0169
	set p=Player(7)
	set udg_unit40=gg_unit_h00E_0194
	set udg_unit42=gg_unit_htow_0126
	set udg_unit37=gg_unit_htow_0127
	set udg_unit79=gg_unit_hbla_0170
	set udg_unit82=gg_unit_hgra_0166
	set p=Player(11)
	set udg_unit84=gg_unit_hbla_0171
	set udg_unit53=gg_unit_h02L_0123
	set udg_unit50=gg_unit_h02L_0122
	set udg_unit85=gg_unit_hgra_0167
	set udg_unit54=gg_unit_h00F_0195
	set p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
	set u=gg_unit_uabo_0116 //CreateUnit(p,'uabo',2009.8,304.5,351.890)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000028_DropItems)
	set u=gg_unit_uabo_0118 //CreateUnit(p,'uabo',2042.7,-185.3,304.080)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000132_DropItems)
	set u=gg_unit_uabo_0117 //CreateUnit(p,'uabo',2030.9,61.3,199.190)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000062_DropItems)
	set u=gg_unit_uabo_0115 //CreateUnit(p,'uabo',-763.8,-778.2,351.890)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000047_DropItems)
	set u=gg_unit_uabo_0113 //CreateUnit(p,'uabo',-374.8,-1299.5,304.080)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000052_DropItems)
	set u=gg_unit_uabo_0114 //CreateUnit(p,'uabo',-315.3,2556.9,199.190)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000173_DropItems)
	set u=gg_unit_uabo_0119 //CreateUnit(p,'uabo',165.9,2720.2,351.892)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000106_DropItems)
	set u=gg_unit_uabo_0120 //CreateUnit(p,'uabo',62.4,2602.6,304.078)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000107_DropItems)
	set u=gg_unit_uabo_0121 //CreateUnit(p,'uabo',-580.0,-949.8,274.030)
	set t=CreateTrigger()
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
	call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
	call TriggerAddAction(t, function Unit000058_DropItems)
	set p=Player(PLAYER_NEUTRAL_PASSIVE)
	//set u=CreateUnit(p,'necr',836.2,-1041.1,128.028)
	//set u=CreateUnit(p,'necr',-4534.0,-4452.3,255.000)
	set udg_unit58=CreateUnit(p, 'H007', - 5411.0, - 5595.1, 269.600)
	call SetUnitState(udg_unit58, UNIT_STATE_MANA, 270)
	//set u=CreateUnit(p,'nrac',-1561.6,-1262.2,21.820)
	//set u=CreateUnit(p,'n000',-1765.6,4113.8,326.117)
	//set u=CreateUnit(p,'n000',4248.6,827.2,201.819)
	//set u=CreateUnit(p,'n000',-1456.1,-3046.4,48.217)
	set p=Player(3)
	
	set p=Player(7)
	
	set p=Player(11)
	
	set i=0
	set udg_dialog01=DialogCreate()
	set i=0
	loop
		exitwhen ( i > 10 )
		set udg_booleans01[i]=false
		set udg_groups10[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 500 )
		set udg_integers01[i]=0
		set udg_integers02[i]=0
		set udg_groups01[i]=CreateGroup()
		set udg_reals01[i]=0
		set udg_groups05[i]=CreateGroup()
		set i=i + 1
	endloop
	set udg_dialog02=DialogCreate()
	set udg_dialog03=DialogCreate()
	set i=0
	loop
		exitwhen ( i > 1000 )
		set udg_groups02[i]=CreateGroup()
		set udg_forces01[i]=CreateForce()
		set udg_booleans02[i]=false
		set i=i + 1
	endloop
	set udg_dialog04=DialogCreate()
	set i=0
	loop
		exitwhen ( i > 12 )
		set udg_integers11[i]=0
		set udg_timers01[i]=(NewTimerEx(0)) // INLINED!!
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 1 )
		set udg_integers12[i]=0
		set udg_integers15[i]=0
		set udg_integers16[i]=0
		set udg_reals05[i]=0
		set udg_reals06[i]=0
		set udg_reals07[i]=0
		set udg_reals08[i]=0
		set udg_reals09[i]=0
		set udg_integers18[i]=0
		set udg_reals10[i]=0
		set udg_reals11[i]=0
		set udg_booleans05[i]=false
		set udg_integers19[i]=0
		set udg_reals12[i]=0
		set udg_strings01[i]=""
		set udg_strings02[i]=""
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 150 )
		set udg_groups03[i]=CreateGroup()
		set udg_groups04[i]=CreateGroup()
		set udg_groups06[i]=CreateGroup()
		set udg_groups07[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 15 )
		set udg_booleans03[i]=false
		set udg_booleans04[i]=false
		set udg_integers13[i]=0
		set udg_integers14[i]=0
		set i=i + 1
	endloop
	set udg_dialog05=DialogCreate()
	set i=0
	loop
		exitwhen ( i > 100 )
		set udg_reals02[i]=0
		set udg_reals03[i]=0
		set udg_reals04[i]=0
		set udg_groups08[i]=CreateGroup()
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 9 )
		set udg_integers17[i]=0
		set i=i + 1
	endloop
	set i=0
	loop
		exitwhen ( i > 2 )
		set udg_groups09[i]=CreateGroup()
		set i=i + 1
	endloop
	
	call executeFunc(function Trig_DestroyEmptyTeams)
	call executeFunc(function Trig_ShowModeSelectionMenu)
	call TimerStartEx((NewTimerEx(0)) , 400.0 , true , function Trig_Advertise , "Trig_Advertise") // INLINED!!
	call executeFunc(function Trig_Advertise1)
	call executeFunc(function Trig_Advertise2)
	call executeFunc(function Trig_Advertise4)
	call Trig_SetTeamColors()
	call Trig_SetPlayers()
	call Trig_DisplayVisibleAreasKonoha()
	
	//set udg_trigger09=CreateTrigger()
	//call TriggerRegisterEnterRectSimple(udg_trigger09,udg_rect43)
	//call TriggerAddCondition(udg_trigger09,Condition(function Trig_JJWAL__JS_______u_Conditions))
	//call TriggerAddAction(udg_trigger09,function Trig_JJWAL__JS_______u_Actions)
	
	set udg_trigger37=CreateTrigger()
	call DisableTrigger(udg_trigger37)
	call TriggerRegisterTimerEventPeriodic(udg_trigger37, 0.03)
	call TriggerAddCondition(udg_trigger37, Condition(function Trig_D_Conditions))
	call TriggerAddAction(udg_trigger37, function Trig_D_Actions)
	set udg_trigger38=CreateTrigger()
	call DisableTrigger(udg_trigger38)
	call TriggerRegisterTimerEventPeriodic(udg_trigger38, 0.03)
	call TriggerAddAction(udg_trigger38, function Trig_J_Actions)
	set udg_trigger39=CreateTrigger()
	call TriggerRegisterDialogEvent(udg_trigger39, udg_dialog01)
	call TriggerAddAction(udg_trigger39, function Trig_B_Actions)
	set udg_trigger40=CreateTrigger()
	call TriggerRegisterDialogEvent(udg_trigger40, udg_dialog05)
	call TriggerAddCondition(udg_trigger40, Condition(function Trig_K_Conditions))
	call TriggerAddAction(udg_trigger40, function Trig_K_Actions)
	set udg_trigger41=CreateTrigger()
	call DisableTrigger(udg_trigger41)
	call TriggerRegisterTimerEventPeriodic(udg_trigger41, 0.03)
	call TriggerAddCondition(udg_trigger41, Condition(function Trig_renwuxuanze_Conditions))
	call TriggerAddAction(udg_trigger41, function Trig_renwuxuanze_Actions)
	set udg_trigger42=CreateTrigger()
	call TriggerRegisterDialogEvent(udg_trigger42, udg_dialog02)
	call TriggerAddCondition(udg_trigger42, Condition(function Trig_E_Conditions))
	call TriggerAddAction(udg_trigger42, function Trig_E_Actions)
	set udg_trigger43=CreateTrigger()
	call TriggerRegisterDialogEvent(udg_trigger43, udg_dialog04)
	call TriggerAddCondition(udg_trigger43, Condition(function Trig_F_Conditions))
	call TriggerAddAction(udg_trigger43, function Trig_F_Actions)
	set udg_trigger44=CreateTrigger()
	call DisableTrigger(udg_trigger44)
	call TriggerRegisterTimerExpireEvent(udg_trigger44, udg_timer02)
	call TriggerAddAction(udg_trigger44, function Trig_H_Actions)
	set udg_trigger45=CreateTrigger()
	call TriggerRegisterDestDeathInRegionEvent(udg_trigger45, GetWorldBounds())
	call TriggerAddAction(udg_trigger45, function Trig_fhshumu_Actions)
	set udg_trigger57=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger57, udg_rect27)
	call TriggerAddCondition(udg_trigger57, Condition(function Trig_JS_4_Conditions))
	call TriggerAddAction(udg_trigger57, function Trig_JS_4_Actions)
	set udg_trigger86=CreateTrigger()
	call DisableTrigger(udg_trigger86)
	call TriggerRegisterTimerEventPeriodic(udg_trigger86, 0.03)
	call TriggerAddAction(udg_trigger86, function Trig_xuanzhuan_Actions)
	
	set udg_trigger141=CreateTrigger()
	call TriggerAddCondition(udg_trigger141, Condition(function Trig_HY2_Conditions))
	call TriggerAddAction(udg_trigger141, function Trig_HY2_Actions)
	set udg_trigger284=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger284, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(udg_trigger284, Condition(function Trig_luoxuanwanbaozhaxiaoguo_Conditions))
	call TriggerAddAction(udg_trigger284, function Trig_luoxuanwanbaozhaxiaoguo_Actions)
	set udg_trigger406=CreateTrigger()
	call TriggerAddAction(udg_trigger406, function Trig_daojuxianzhi_Actions)
	set udg_trigger407=CreateTrigger()
	call TriggerAddAction(udg_trigger407, function Trig_shezhiwupin_Actions)
	set udg_trigger408=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger408, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(udg_trigger408, Condition(function Trig_wupinchongfu_Conditions))
	call TriggerAddAction(udg_trigger408, function Trig_wupinchongfu_Actions)

	set udg_trigger412=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger412, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(udg_trigger412, Condition(function Trig_wupinchongfu5_Conditions))
	call TriggerAddAction(udg_trigger412, function Trig_wupinchongfu5_Actions)
	set udg_trigger413=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger413, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(udg_trigger413, Condition(function Trig_wupinchongfu_2_Conditions))
	call TriggerAddAction(udg_trigger413, function Trig_wupinchongfu_2_Actions)
	set udg_trigger414=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger414, EVENT_PLAYER_UNIT_PICKUP_ITEM)
	call TriggerAddCondition(udg_trigger414, Condition(function Trig_wupinchongfu_3_Conditions))
	call TriggerAddAction(udg_trigger414, function Trig_wupinchongfu_3_Actions)

	set udg_trigger430=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger430, EVENT_PLAYER_UNIT_DEATH)
	call TriggerAddCondition(udg_trigger430, Condition(function Trig_BPKW_Conditions))
	call TriggerAddAction(udg_trigger430, function Trig_BPKW_Actions)

	//THUNDER KUSANAGI 
	set udg_trigger452=CreateTrigger()
	call TriggerRegisterAnyUnitEventBJ(udg_trigger452, EVENT_PLAYER_UNIT_SPELL_EFFECT)
	call TriggerAddCondition(udg_trigger452, Condition(function Trig_CZ2_1________2_Conditions))
	call TriggerAddAction(udg_trigger452, function Trig_CZ2_1________2_Actions)

	//SPAWN DUMMIES
	call TimerStartEx((NewTimerEx(0)) , 1.0 , false , function Trig_SpawnCreeps , "Trig_SpawnCreeps") // INLINED!!
	call TimerStartEx((NewTimerEx(0)) , 600.0 , true , function Trig_UpgradeCreeps , "Trig_UpgradeCreeps") // INLINED!!
	//SPAWN DUMMIES
	
	//MOVE DUMIES 
	set udg_trigger481=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger481, udg_rect06)
	call TriggerAddCondition(udg_trigger481, Condition(function Trig_bingzou_Conditions))
	call TriggerAddAction(udg_trigger481, function Trig_bingzou_Actions)
	set udg_trigger482=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger482, udg_rect11)
	call TriggerAddCondition(udg_trigger482, Condition(function Trig_bingzou0_Conditions))
	call TriggerAddAction(udg_trigger482, function Trig_bingzou0_Actions)
	set udg_trigger483=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger483, udg_rect10)
	call TriggerAddCondition(udg_trigger483, Condition(function Trig_bingzou0_2_Conditions))
	call TriggerAddAction(udg_trigger483, function Trig_bingzou0_2_Actions)
	set udg_trigger484=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger484, udg_rect20)
	call TriggerAddCondition(udg_trigger484, Condition(function Trig_bingzou1_Conditions))
	call TriggerAddAction(udg_trigger484, function Trig_bingzou1_Actions)
	set udg_trigger485=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger485, udg_rect07)
	call TriggerAddCondition(udg_trigger485, Condition(function Trig_bingzou2_Conditions))
	call TriggerAddAction(udg_trigger485, function Trig_bingzou2_Actions)
	set udg_trigger486=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger486, udg_rect08)
	call TriggerAddCondition(udg_trigger486, Condition(function Trig_bingzou2_2_Conditions))
	call TriggerAddAction(udg_trigger486, function Trig_bingzou2_2_Actions)
	set udg_trigger487=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger487, udg_rect07)
	call TriggerAddCondition(udg_trigger487, Condition(function Trig_bingzou3_Conditions))
	call TriggerAddAction(udg_trigger487, function Trig_bingzou3_Actions)
	set udg_trigger488=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger488, udg_rect12)
	call TriggerAddCondition(udg_trigger488, Condition(function Trig_bingzou3_2_Conditions))
	call TriggerAddAction(udg_trigger488, function Trig_bingzou3_2_Actions)
	set udg_trigger489=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger489, udg_rect13)
	call TriggerAddCondition(udg_trigger489, Condition(function Trig_bingzou3_3_Conditions))
	call TriggerAddAction(udg_trigger489, function Trig_bingzou3_3_Actions)
	set udg_trigger490=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger490, udg_rect20)
	call TriggerAddCondition(udg_trigger490, Condition(function Trig_bingzou4_Conditions))
	call TriggerAddAction(udg_trigger490, function Trig_bingzou4_Actions)
	set udg_trigger491=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger491, udg_rect06)
	call TriggerAddCondition(udg_trigger491, Condition(function Trig_bingzou5_Conditions))
	call TriggerAddAction(udg_trigger491, function Trig_bingzou5_Actions)
	set udg_trigger492=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger492, udg_rect08)
	call TriggerAddCondition(udg_trigger492, Condition(function Trig_bingzou5_2_Conditions))
	call TriggerAddAction(udg_trigger492, function Trig_bingzou5_2_Actions)
	set udg_trigger493=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger493, udg_rect08)
	call TriggerAddCondition(udg_trigger493, Condition(function Trig_bingzou6_Conditions))
	call TriggerAddAction(udg_trigger493, function Trig_bingzou6_Actions)
	set udg_trigger494=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger494, udg_rect20)
	call TriggerAddCondition(udg_trigger494, Condition(function Trig_bingzou7_Conditions))
	call TriggerAddAction(udg_trigger494, function Trig_bingzou7_Actions)
	set udg_trigger495=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger495, udg_rect06)
	call TriggerAddCondition(udg_trigger495, Condition(function Trig_bingzou8_Conditions))
	call TriggerAddAction(udg_trigger495, function Trig_bingzou8_Actions)
	set udg_trigger496=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger496, udg_rect07)
	call TriggerAddCondition(udg_trigger496, Condition(function Trig_bingzou8_2_Conditions))
	call TriggerAddAction(udg_trigger496, function Trig_bingzou8_2_Actions)
	set udg_trigger497=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger497, udg_rect14)
	call TriggerAddCondition(udg_trigger497, Condition(function Trig_bingzou0_3_Conditions))
	call TriggerAddAction(udg_trigger497, function Trig_bingzou0_3_Actions)
	set udg_trigger498=CreateTrigger()
	call TriggerRegisterEnterRectSimple(udg_trigger498, udg_rect09)
	call TriggerAddCondition(udg_trigger498, Condition(function Trig_bingzou0_4_Conditions))
	call TriggerAddAction(udg_trigger498, function Trig_bingzou0_4_Actions)
	//ORDER DUMMIES 
	
	call ConditionalTriggerExecute(udg_trigger01)
	call ConditionalTriggerExecute(udg_trigger02)
	call ConditionalTriggerExecute(udg_trigger03)
	call ConditionalTriggerExecute(udg_trigger04)
	call ConditionalTriggerExecute(udg_trigger05)
	call ConditionalTriggerExecute(udg_trigger07)
	call ConditionalTriggerExecute(udg_trigger08)
	call ConditionalTriggerExecute(udg_trigger406)
	call ConditionalTriggerExecute(udg_trigger407)
endfunction

function InitTrig_Main_Source takes nothing returns nothing
	call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
	call InitGlobals2()
	set udg_camerasetup01=CreateCameraSetup()
	set udg_camerasetup02=CreateCameraSetup()
	set udg_camerasetup03=CreateCameraSetup()
	set udg_sound01=CreateSound("Sound\\Buildings\\Death\\BuildingDeathLargeHuman.wav", false, true, true, 10, 10, "DefaultEAXON")
	set udg_sound02=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireLoop1.wav", false, true, true, 10, 10, "SpellsEAX")
	set udg_sound03=CreateSound("clonepoff.wav", false, false, false, 10, 10, "")
	call ExecuteFunc("main2")
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    //Function not found: call InitTrig_xebasic()
    //Function not found: call InitTrig_xepreload()
    //Function not found: call InitTrig_Alloc()
    //Function not found: call InitTrig_Table()
    //Function not found: call InitTrig_TableCompatibility()
    //Function not found: call InitTrig_WorldBounds()
    //Function not found: call InitTrig_Event()
    //Function not found: call InitTrig_RegisterPlayerUnitEvent()
    //Function not found: call InitTrig_TimerUtils()
    //Function not found: call InitTrig_UnitDex()
    //Function not found: call InitTrig_Math()
    //Function not found: call InitTrig_PlayerUtils()
    //Function not found: call InitTrig_Camera()
    //Function not found: call InitTrig_UnitRecyclerDummy()
    //Function not found: call InitTrig_ArrowKeyEvent()
    //Function not found: call InitTrig_PreventSave()
    //Function not found: call InitTrig_Powerup_Sentinel()
    //Function not found: call InitTrig_BoundSentinel()
    //Function not found: call InitTrig_GetZ()
    //Function not found: call InitTrig_EffectUtils()
    //Function not found: call InitTrig_UnitUtils()
    //Function not found: call InitTrig_SetPlayerName()
    //Function not found: call InitTrig_ItemUtils()
    //Function not found: call InitTrig_Dialog()
    //Function not found: call InitTrig_Lightning()
    //Function not found: call InitTrig_GeometryLibBase()
    //Function not found: call InitTrig_String()
    //Function not found: call InitTrig_Recipe()
    //Function not found: call InitTrig_UltimateChoiceTemplate()
    //Function not found: call InitTrig_HideHeroes()
    //Function not found: call InitTrig_ItemsWithSpellbook()
    //Function not found: call InitTrig_ItemTable()
    //Function not found: call InitTrig_Recipes()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_AkatsukiRings_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_ElementalMask_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_JuubiSkinSet_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_ChakraBlades_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_UltimateWeapon_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_FixUltraBoots_Actions))) // INLINED!!
    //Function not found: call InitTrig_RecipeTreasures()
    //Function not found: call InitTrig_ANBUBadgePassive()
    //Function not found: call InitTrig_JadeOfSusanooPassive()
    //Function not found: call InitTrig_SpiritOrbs()
    call InitTrig_SuperBootsSpeedBuff()
    call InitTrig_PreventTeleportShoes()
    //Function not found: call InitTrig_SanbiSkinKillBunshin()
    //Function not found: call InitTrig_RikuudouNecklacePassive()
    //Function not found: call InitTrig_EightHeadSwordCritical()
    //Function not found: call InitTrig_ThunderKusanagiCritical()
    //Function not found: call InitTrig_EarthKusanagiCritical()
    //Function not found: call InitTrig_HeavenSwordCritical()
    //Function not found: call InitTrig_LightKusanagiCritical()
    //Function not found: call InitTrig_WindKusanagiCritical()
    //Function not found: call InitTrig_DarkKusanagiCritical()
    //Function not found: call InitTrig_FireKusanagiCritical()
    //Function not found: call InitTrig_IceKusanagiCritical()
    //Function not found: call InitTrig_BookCritical()
    //Function not found: call InitTrig_MedicalNinjaCloth()
    //Function not found: call InitTrig_SamehadaMana()
    //Function not found: call InitTrig_KyuubiImmolation()
    //Function not found: call InitTrig_AntiEnergyStones()
    //Function not found: call InitTrig_HokageRobeAura()
    //Function not found: call InitTrig_KazekageRobeAura()
    //Function not found: call InitTrig_ItachiRing()
    //Function not found: call InitTrig_KisameRing()
    //Function not found: call InitTrig_SasoriRingGold()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_RepairBase_Actions))) // INLINED!!
    //Function not found: call InitTrig_Fireworks()
    call InitTrig_Firecrackers()
    //Function not found: call InitTrig_BijuuEssence()
    //Function not found: call InitTrig_WireStrings()
    //Function not found: call InitTrig_MedicalSphere()
    //Function not found: call InitTrig_WoodOfSubstitution()
    //Function not found: call InitTrig_SmokeBomb()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_FlashBomb_Actions))) // INLINED!!
    call InitTrig_Body_Replacing_Doll()
    //Function not found: call InitTrig_YataMirror()
    //Function not found: call InitTrig_Oil()
    //Function not found: call InitTrig_PoisonPills()
    //Function not found: call InitTrig_Bomb()
    //Function not found: call InitTrig_NewChain()
    //Function not found: call InitTrig_BlastingSphere()
    //Function not found: call InitTrig_DragonBlast()
    //Function not found: call InitTrig_FuumaShuriken()
    //Function not found: call InitTrig_ExplosiveKunai()
    //Function not found: call InitTrig_SenbonsDance()
    call RegisterSpellEffectEvent2(('A0DJ' ) , Filter(( function Trig_Explosive_Tag_Skill_Actions))) // INLINED!!
    //Function not found: call InitTrig_TimedExplosiveTag()
    //Function not found: call InitTrig_ExplosiveTagExplosion()
    //Function not found: call InitTrig_NewKohakuNoJohei()
    //Function not found: call InitTrig_HiraishinKunai()
    //Function not found: call InitTrig_Bashosen()
    //Function not found: call InitTrig_Makibishi()
    //Function not found: call InitTrig_NinjaNet()
    //Function not found: call InitTrig_SanbiSkin()
    call InitTrig_AkatsukiCloth()
    //Function not found: call InitTrig_NewAkatsukiSet()
    //Function not found: call InitTrig_GreaterMedicalNinjaSphere()
    //Function not found: call InitTrig_ReverseOfAllCreation()
    //Function not found: call InitTrig_SubjugationOfEarth()
    //Function not found: call InitTrig_SubjugationOfHeaven()
    //Function not found: call InitTrig_ElementalANBUMask()
    //Function not found: call InitTrig_HeavenStone()
    //Function not found: call InitTrig_HealingShoes()
    //Function not found: call InitTrig_InvisibilityShoes()
    //Function not found: call InitTrig_ScrollOfTeleport()
    //Function not found: call InitTrig_BunshinStoneNew()
    //Function not found: call InitTrig_ItemShikiFuujin()
    call RegisterSpellEffectEvent2(('A0GV' ) , Filter(( function Trig_SuddenIceStorm_Actions))) // INLINED!!
    //Function not found: call InitTrig_HeavenSwordActive()
    //Function not found: call InitTrig_AdamantineStaffActive()
    //Function not found: call InitTrig_ExecutionBladeBuff()
    //Function not found: call InitTrig_ThunderingTotsuka()
    //Function not found: call InitTrig_NewKusanagiStrike()
    //Function not found: call InitTrig_LightKusanagi()
    //Function not found: call InitTrig_FireKusanagi()
    //Function not found: call InitTrig_IceKusanagi()
    //Function not found: call InitTrig_EarthKusanagi()
    //Function not found: call InitTrig_DarkKusanagi()
    //Function not found: call InitTrig_WindKusa()
    //Function not found: call InitTrig_Shichiseiken()
    //Function not found: call InitTrig_NewHidanScythe()
    //Function not found: call InitTrig_ZetsuRing()
    //Function not found: call InitTrig_ItachiRingActive()
    call InitTrig_TobiramaItemLegendary()
    call InitTrig_NarutoItemLegendary()
    call InitTrig_KillerBeeItem()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_UniqueYataMirror_Actions))) // INLINED!!
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_UniqueMedicalNinjaSet_Actions))) // INLINED!!
    call InitTrig_RestrictANBUMaskToOne()
    //Function not found: call InitTrig_AnkoQ()
    //Function not found: call InitTrig_AnkoW()
    //Function not found: call InitTrig_AnkoE()
    //Function not found: call InitTrig_AnkoR()
    //Function not found: call InitTrig_AnkoT()
    //Function not found: call InitTrig_AnkoD()
    //Function not found: call InitTrig_Ox()
    //Function not found: call InitTrig_Dog()
    //Function not found: call InitTrig_Chamelon()
    //Function not found: call InitTrig_Crab()
    //Function not found: call InitTrig_Bird()
    //Function not found: call InitTrig_Panda()
    //Function not found: call InitTrig_AsumaChakraBlades()
    call InitTrig_AsumaAssault()
    call InitTrig_AsumaShadowStrike()
    //Function not found: call InitTrig_AsumaWind()
    //Function not found: call InitTrig_AsumaFireR()
    call InitTrig_AsumaHien()
    call InitTrig_AsumaKatonHaisenkisho()
    //Function not found: call InitTrig_AsumaUltimateChoice()
    //Function not found: call InitTrig_AsumaChakraBladesPassive()
    //Function not found: call InitTrig_AsumaLevel()
    //Function not found: call InitTrig_Boruto_Stream()
    //Function not found: call InitTrig_BorutoFarm()
    //Function not found: call InitTrig_BorutoClone()
    //Function not found: call InitTrig_BorutoRasengan()
    //Function not found: call InitTrig_Oyako_Rasengan()
    //Function not found: call InitTrig_ChiyoTrap()
    //Function not found: call InitTrig_ChiyoFlyingKunais()
    //Function not found: call InitTrig_ChiyoAssaultBlade()
    //Function not found: call InitTrig_ChiyoChakraThreads()
    //Function not found: call InitTrig_ChiyoNewSemi()
    //Function not found: call InitTrig_ChiyoNewUltimate()
    //Function not found: call InitTrig_ChoujiNewNikudanSensha()
    call InitTrig_ChoujiBaika()
    //Function not found: call InitTrig_ChoujiChoharite()
    call InitTrig_ChoujiSemi()
    //Function not found: call InitTrig_ChoujiNewUlt()
    call InitTrig_ChoujiYummy()
    call InitTrig_DanzoMokuton()
    call InitTrig_DanzoFuuton()
    //Function not found: call InitTrig_DanzoShuriken()
    //Function not found: call InitTrig_DanzoNewSemi()
    call InitTrig_DanzoNewNewIzanagi()
    //Function not found: call InitTrig_DanzoIzanagiModel()
    //Function not found: call InitTrig_DanzoSuicide()
    //Function not found: call InitTrig_DaruiRaiton()
    //Function not found: call InitTrig_DaruiNewSuiton()
    //Function not found: call InitTrig_DaruiLightningStrike()
    //Function not found: call InitTrig_DaruiLaserCircus()
    //Function not found: call InitTrig_DaruiNewBlackPanther()
    //Function not found: call InitTrig_DaruiBlackLightning()
    call InitTrig_DeidaraC0()
    //Function not found: call InitTrig_DeidaraBeautyOfDestruction()
    call InitTrig_DeidaraArtOfCreation()
    call InitTrig_DeidaraFocusedAttack()
    call InitTrig_DeidaraEagle()
    call InitTrig_DeidaraClayBird()
    call InitTrig_DeidaraC3()
    call InitTrig_DeidaraC3LOOP()
    //Function not found: call InitTrig_DeidaraEternalExplosion()
    //Function not found: call InitTrig_DosuSoundWave()
    //Function not found: call InitTrig_DosuSoundPunch()
    //Function not found: call InitTrig_DosuSoundBarrier()
    //Function not found: call InitTrig_DosuVibrations()
    //Function not found: call InitTrig_DosuWavesOfDestruction()
    //Function not found: call InitTrig_DosuEchoChamber()
    //Function not found: call InitTrig_FuuCocoon()
    //Function not found: call InitTrig_FuuNet()
    //Function not found: call InitTrig_FuuGrab()
    //Function not found: call InitTrig_FuuAssault()
    //Function not found: call InitTrig_FuuPowder()
    //Function not found: call InitTrig_FuuUltimate()
    //Function not found: call InitTrig_GaaraSandShield()
    //Function not found: call InitTrig_GaaraNewQ()
    call InitTrig_GaaraSabakuKyuTrue()
    call InitTrig_GaaraGokusa()
    call InitTrig_GaaraPassive()
    //Function not found: call InitTrig_GaaraFly()
    //Function not found: call InitTrig_GaaraNewSemi()
    call InitTrig_Sabaku_Sotaiso_INIT()
    call InitTrig_Sabaku_Sotaiso_LOOP()
    call InitTrig_Sabaku_Sotaiso_Stop_Camera()
    //Function not found: call InitTrig_Sabaku_Sotaiso_Dies()
    //Function not found: call InitTrig_GaaraShukakuSpearGlobal()
    //Function not found: call InitTrig_GaaraUltimateChoice()
    call InitTrig_GaiDynamicEntry()
    //Function not found: call InitTrig_GaiOtomoteRenge()
    call InitTrig_GaiYouth()
    call InitTrig_Hachimon_Actions()
    //Function not found: call InitTrig_Hachimon_Life_Drain()
    call InitTrig_GaiAsaKujaku()
    call InitTrig_GaiSemiAttack()
    //Function not found: call InitTrig_GaiEightGates()
    //Function not found: call InitTrig_GaiEveningElephant()
    //Function not found: call InitTrig_GaiNightGuy()
    call InitTrig_GaiMoveSuperHighSpeed()
    call InitTrig_NidaimeMizukageMirage()
    //Function not found: call InitTrig_NidaimeMizukageWaterPistol()
    //Function not found: call InitTrig_NidaimeMizukageBubbles()
    //Function not found: call InitTrig_NidaimeMizukageSuikaNoJutsu()
    //Function not found: call InitTrig_NidaimeMizukageClamDrop()
    //Function not found: call InitTrig_NidaimeMizukageGenjutsu()
    //Function not found: call InitTrig_NidaimeMizukageJokiBoi()
    //Function not found: call InitTrig_GurenSuishoRo()
    call InitTrig_GurenSuishoHibari()
    call InitTrig_GurenSuishoHibariLOOP()
    //Function not found: call InitTrig_GurenNewSemi()
    call InitTrig_GurenHasho()
    call InitTrig_GurenHashoLOOP()
    //Function not found: call InitTrig_GurenBash()
    //Function not found: call InitTrig_GurenCrystalLabyrinth()
    //Function not found: call InitTrig_HakuNewD()
    //Function not found: call InitTrig_HakuNewBackslash()
    //Function not found: call InitTrig_HakuHissatsu()
    //Function not found: call InitTrig_HakuNewE()
    //Function not found: call InitTrig_HakuNewSemi()
    //Function not found: call InitTrig_HakuNewUltimate()
    //Function not found: call InitTrig_HanFugokyaku()
    //Function not found: call InitTrig_HanFunseiken()
    //Function not found: call InitTrig_HanJokiNoYoroi()
    //Function not found: call InitTrig_HanSemi()
    //Function not found: call InitTrig_HanNewUltimate()
    //Function not found: call InitTrig_HanInhumanStrength()
    //Function not found: call InitTrig_HanabiD()
    //Function not found: call InitTrig_HanabiQ()
    //Function not found: call InitTrig_HanabiW()
    //Function not found: call InitTrig_HanabiE()
    //Function not found: call InitTrig_HanabiR()
    //Function not found: call InitTrig_HanabiT()
    //Function not found: call InitTrig_HanzoReveal()
    //Function not found: call InitTrig_HanzoThrowScythe()
    //Function not found: call InitTrig_HanzoPoisonFog()
    //Function not found: call InitTrig_HanzoUppercut()
    //Function not found: call InitTrig_HanzoSemi()
    //Function not found: call InitTrig_HanzoMist()
    //Function not found: call InitTrig_HanzoIbuse()
    //Function not found: call InitTrig_HanzoUltimateChoice()
    //Function not found: call InitTrig_HashiramaWoodDragon()
    //Function not found: call InitTrig_HashiramaGate()
    //Function not found: call InitTrig_HashiramaWoodHuman()
    call InitTrig_HashiramaAdamantinePunch()
    call InitTrig_HashiramaAdamantinePunchLOOP1()
    call InitTrig_HashiramaAdamantinePunchLOOP2()
    call InitTrig_HashiramaAdamantinePunchACTIONS()
    //Function not found: call InitTrig_HashiramaStatue()
    //Function not found: call InitTrig_HashiramaNewKoutan()
    //Function not found: call InitTrig_HashiramaUltimateChoice()
    //Function not found: call InitTrig_HashiramaFlowers()
    call InitTrig_HashiramaFireWill()
    call InitTrig_HashiramaFireWillLOOP()
    //Function not found: call InitTrig_HashiramaEdoGate()
    //Function not found: call InitTrig_EdoTenseiHashiramaStatue()
    //Function not found: call InitTrig_HayateSwordStrike()
    //Function not found: call InitTrig_HayateExplosiveKunai()
    //Function not found: call InitTrig_HayateNewSemi()
    //Function not found: call InitTrig_HayateUltimate()
    //Function not found: call InitTrig_HayateKageBunshin()
    //Function not found: call InitTrig_HayateKageBunshinSwap()
    call InitTrig_HidanPassive()
    call InitTrig_Get_Blood()
    //Function not found: call InitTrig_HidanTakeBlood()
    //Function not found: call InitTrig_HidanNewW()
    //Function not found: call InitTrig_HidanThrowScythe()
    //Function not found: call InitTrig_HidanNewR()
    //Function not found: call InitTrig_HidanNewT()
    call InitTrig_HinataShotei()
    call InitTrig_HinataFarm()
    //Function not found: call InitTrig_HinataNewSemi()
    //Function not found: call InitTrig_HinataNewShoshiken()
    //Function not found: call InitTrig_HinataKuutenNew()
    //Function not found: call InitTrig_HinataUltimateChoice()
    //Function not found: call InitTrig_HiruzenEnma()
    //Function not found: call InitTrig_HiruzenCageNew()
    call InitTrig_EnmaGiveGold()
    //Function not found: call InitTrig_HiruzenQ()
    //Function not found: call InitTrig_HiruzenShuriken()
    //Function not found: call InitTrig_HiruzenE()
    //Function not found: call InitTrig_HiruzenKongoRohekiNew()
    //Function not found: call InitTrig_HiruzenSemiChoice()
    //Function not found: call InitTrig_HiruzenLevel()
    call InitTrig_HiruzenShikiFuujinINIT()
    call InitTrig_HiruzenShikiFuujinLOOP()
    //Function not found: call InitTrig_HiruzenNewUltimate()
    //Function not found: call InitTrig_HiruzenUltimateChoice()
    //Function not found: call InitTrig_IchigoQ()
    //Function not found: call InitTrig_IchigoDies()
    //Function not found: call InitTrig_IchigoW()
    //Function not found: call InitTrig_IchigoCero()
    call InitTrig_IchigoVastoLord()
    //Function not found: call InitTrig_IchigoE()
    call InitTrig_IchigoBankai()
    call InitTrig_IchigoMugetsu()
    //Function not found: call InitTrig_IchigoUnleash()
    //Function not found: call InitTrig_IchigoTLevel()
    //Function not found: call InitTrig_IchigoD()
    //Function not found: call InitTrig_IchigoSlash()
    //Function not found: call InitTrig_IchigoAttacks()
    //Function not found: call InitTrig_IchigoAbillities()
    //Function not found: call InitTrig_InoMindDistraction()
    //Function not found: call InitTrig_InoPetals()
    //Function not found: call InitTrig_InoHealingPetals()
    //Function not found: call InitTrig_Kekka_Giji()
    //Function not found: call InitTrig_InoNewChouShinka()
    //Function not found: call InitTrig_InoNewD()
    //Function not found: call InitTrig_IrukaMakibishi()
    //Function not found: call InitTrig_IrukaFuumaShuriken()
    //Function not found: call InitTrig_IrukaTrap()
    call InitTrig_KisameSameodoriLOOP()
    call InitTrig_KisameSameodoriDMG()
    call InitTrig_KisameSharkDanceLOOP()
    call InitTrig_KisameGreatSharkDanceLOOP()
    //Function not found: call InitTrig_SasukeAmaterasu()
    //Function not found: call InitTrig_AntiHostAFK()
    call InitTrig_DisplayModes()
    //Function not found: call InitTrig_IncreaseBounty()
    call InitTrig_BasesInvulMode()
    call InitTrig_BasesInvulModeClicked()
    call InitTrig_BaseSafeModeActions()
    call InitTrig_PointMode()
    call InitTrig_PointModeClicked()
    call InitTrig_TeamDuelMode()
    call InitTrig_TeamDuelModeClicked()
    call InitTrig_TeamDuelTimerExpired()
    call InitTrig_TeamDuelDontLeaveArena()
    //Function not found: call InitTrig_FixTeamDuelLocations()
    call InitTrig_KillMode()
    call InitTrig_KillModeClicked()
    call InitTrig_MissionsMode()
    call InitTrig_MissionsModeClicked()
    call InitTrig_MissionBRank()
    call InitTrig_MissionBRankExit()
    call InitTrig_MissionARank()
    call InitTrig_MissionARankExit()
    //Function not found: call InitTrig_MissionARankReward()
    call InitTrig_MissionSRank()
    call InitTrig_MissionSRankExit()
    call InitTrig_BanTotsukaMode()
    call InitTrig_BanTotsukaModeClicked()
    call InitTrig_RemoveClassificationMode()
    call InitTrig_RemoveClassificationModeClicked()
    call InitTrig_Duel_invite_actions()
    call InitTrig_Duel_inviter_chose()
    call InitTrig_Duel_invite_timer_expires()
    call InitTrig_Duel_receiver_answer_Copy()
    call InitTrig_Duel_winner()
    call InitTrig_Enter_duel()
    call InitTrig_Left_duel()
    //Function not found: call InitTrig_TeamDuel()
    call InitTrig_Smart_Bank_Add()
    call InitTrig_CircleCreation()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_PICKUP_ITEM ) , Filter(( function Trig_CircleStoraging_Actions))) // INLINED!!
    call InitTrig_Colour_String()
    call InitTrig_Show_VoteKick_Menu()
    call InitTrig_VoteKick_System()
    call InitTrig_Votekick_Cancel()
    call InitTrig_Votekick_Kicked()
    call InitTrig_VoteKick_Menu()
    call InitTrig_Colour_Refresh()
    call InitTrig_CleanMessages()
    call InitTrig_ZoomSystem()
    call InitTrig_QuickCast()
    //Function not found: call InitTrig_SendGoldCrystal()
    //Function not found: call InitTrig_BuyAttributes()
    //Function not found: call InitTrig_KillMe()
    call InitTrig_Tips()
    call InitTrig_Ms()
    //Function not found: call InitTrig_ResetMs()
    //Function not found: call InitTrig_Window()
    //Function not found: call InitTrig_Range()
    //Function not found: call InitTrig_Switch()
    //Function not found: call InitTrig_LockCamera()
    //Function not found: call InitTrig_NewAutoBuy()
    //Function not found: call InitTrig_StreamCommand()
    call InitTrig_CodeCommand()
    //Function not found: call InitTrig_ShowTimers()
    //Function not found: call InitTrig_CreateMultiboard()
    call InitTrig_MultiboardPlayerLeave()
    //Function not found: call InitTrig_GPMMultiboard()
    call InitTrig_TeamPointLeaderbox()
    call InitTrig_Fire()
    call InitTrig_UndergroundEnter1()
    call InitTrig_UndergroundExit1()
    call InitTrig_UndergroundEnter2()
    call InitTrig_UndergroundExit2()
    call InitTrig_UndergroundEnter3()
    call InitTrig_UndergroundExit3()
    //Function not found: call InitTrig_UndergroundDrainMana()
    call InitTrig_CustomizedColors()
    //Function not found: call InitTrig_Music()
    //Function not found: call InitTrig_UI()
    //Function not found: call InitTrig_PickScreen()
    call InitTrig_RemoveTrashyIcon()
    //Function not found: call InitTrig_TowerDestructionEffect()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_HideUnitsDeathAnimation_Actions))) // INLINED!!
    call InitTrig_TipMessage()
    call InitTrig_Credits()
    call InitTrig_RepickName()
    //Function not found: call InitTrig_NewRepick()
    //Function not found: call InitTrig_NewSwap()
    call InitTrig_HeroDeath()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_HERO_LEVEL ) , Filter(( function Trig_Level1_Actions))) // INLINED!!
    //Function not found: call InitTrig_ChakraJump()
    //Function not found: call InitTrig_FixTransformations()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_RivalsSystem_Copy_Actions))) // INLINED!!
    //Function not found: call InitTrig_SetUnitVariables()
    call InitTrig_ShowUI()
    call InitTrig_Cheats_Actions_001()
    call InitTrig_Cheats_Actions_002()
    call InitTrig_Cheats_Actions_List()
    call InitTrig_Cheats_Actions_CD()
    call InitTrig_Cheats_Actions_Mommy()
    call InitTrig_Cheats_Actions_DisableCD()
    call InitTrig_Cheats_Actions_Level()
    call InitTrig_Cheats_Actions_Items()
    call InitTrig_Cheats_Actions_Stats()
    call InitTrig_Cheats_Actions_Test()
    call InitTrig_Cheats_Actions_Mission_B()
    call InitTrig_Cheats_Actions_Mission_A()
    call InitTrig_Cheats_Actions_Mission_S()
    call InitTrig_Cheats_Actions_Pick()
    call InitTrig_Cheats_Press_ESCAPE()
    call InitTrig_PickHeroByName()
    call InitTrig_PointSystem()
    //Function not found: call InitTrig_AssistSystemAndDamageReduction()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_DEATH ) , Filter(( function Trig_BaseDestruction_Actions))) // INLINED!!
    //Function not found: call InitTrig_BaseRemoveItems()
    //Function not found: call InitTrig_SpawnBijuus()
    call InitTrig_PlayerLeave()
    //Function not found: call InitTrig_Spectators()
    call RegisterPlayerUnitEvent2((EVENT_PLAYER_UNIT_ATTACKED ) , Filter(( function Trig_PreventDeny_Actions))) // INLINED!!
    //Function not found: call InitTrig_PeriodicActions()
    call InitTrig_Load_Variables()
    call InitTrig_Main_Source()
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute(gg_trg_CircleCreation)
    call ConditionalTriggerExecute(gg_trg_Fire)
    call ConditionalTriggerExecute(gg_trg_Cheats_Actions_001)
    call ConditionalTriggerExecute(gg_trg_Spectators)
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation(Player(0), 0)
    call ForcePlayerStartLocation(Player(0), 0)
    call SetPlayerColor(Player(0), ConvertPlayerColor(0))
    call SetPlayerRacePreference(Player(0), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(0), false)
    call SetPlayerController(Player(0), MAP_CONTROL_USER)

    // Player 1
    call SetPlayerStartLocation(Player(1), 1)
    call ForcePlayerStartLocation(Player(1), 1)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_USER)

    // Player 2
    call SetPlayerStartLocation(Player(2), 2)
    call ForcePlayerStartLocation(Player(2), 2)
    call SetPlayerColor(Player(2), ConvertPlayerColor(2))
    call SetPlayerRacePreference(Player(2), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(2), false)
    call SetPlayerController(Player(2), MAP_CONTROL_USER)

    // Player 3
    call SetPlayerStartLocation(Player(3), 3)
    call ForcePlayerStartLocation(Player(3), 3)
    call SetPlayerColor(Player(3), ConvertPlayerColor(3))
    call SetPlayerRacePreference(Player(3), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(3), false)
    call SetPlayerController(Player(3), MAP_CONTROL_COMPUTER)

    // Player 4
    call SetPlayerStartLocation(Player(4), 4)
    call ForcePlayerStartLocation(Player(4), 4)
    call SetPlayerColor(Player(4), ConvertPlayerColor(4))
    call SetPlayerRacePreference(Player(4), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(4), false)
    call SetPlayerController(Player(4), MAP_CONTROL_USER)

    // Player 5
    call SetPlayerStartLocation(Player(5), 5)
    call ForcePlayerStartLocation(Player(5), 5)
    call SetPlayerColor(Player(5), ConvertPlayerColor(5))
    call SetPlayerRacePreference(Player(5), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(5), false)
    call SetPlayerController(Player(5), MAP_CONTROL_USER)

    // Player 6
    call SetPlayerStartLocation(Player(6), 6)
    call ForcePlayerStartLocation(Player(6), 6)
    call SetPlayerColor(Player(6), ConvertPlayerColor(6))
    call SetPlayerRacePreference(Player(6), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(6), false)
    call SetPlayerController(Player(6), MAP_CONTROL_USER)

    // Player 7
    call SetPlayerStartLocation(Player(7), 7)
    call ForcePlayerStartLocation(Player(7), 7)
    call SetPlayerColor(Player(7), ConvertPlayerColor(7))
    call SetPlayerRacePreference(Player(7), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(7), false)
    call SetPlayerController(Player(7), MAP_CONTROL_COMPUTER)

    // Player 8
    call SetPlayerStartLocation(Player(8), 8)
    call ForcePlayerStartLocation(Player(8), 8)
    call SetPlayerColor(Player(8), ConvertPlayerColor(8))
    call SetPlayerRacePreference(Player(8), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(8), false)
    call SetPlayerController(Player(8), MAP_CONTROL_USER)

    // Player 9
    call SetPlayerStartLocation(Player(9), 9)
    call ForcePlayerStartLocation(Player(9), 9)
    call SetPlayerColor(Player(9), ConvertPlayerColor(9))
    call SetPlayerRacePreference(Player(9), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(9), false)
    call SetPlayerController(Player(9), MAP_CONTROL_USER)

    // Player 10
    call SetPlayerStartLocation(Player(10), 10)
    call ForcePlayerStartLocation(Player(10), 10)
    call SetPlayerColor(Player(10), ConvertPlayerColor(10))
    call SetPlayerRacePreference(Player(10), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(10), false)
    call SetPlayerController(Player(10), MAP_CONTROL_USER)

    // Player 11
    call SetPlayerStartLocation(Player(11), 11)
    call ForcePlayerStartLocation(Player(11), 11)
    call SetPlayerColor(Player(11), ConvertPlayerColor(11))
    call SetPlayerRacePreference(Player(11), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(11), false)
    call SetPlayerController(Player(11), MAP_CONTROL_COMPUTER)

    // Player 13
    call SetPlayerStartLocation(Player(13), 12)
    call ForcePlayerStartLocation(Player(13), 12)
    call SetPlayerColor(Player(13), ConvertPlayerColor(13))
    call SetPlayerRacePreference(Player(13), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(13), false)
    call SetPlayerController(Player(13), MAP_CONTROL_USER)

    // Player 14
    call SetPlayerStartLocation(Player(14), 13)
    call ForcePlayerStartLocation(Player(14), 13)
    call SetPlayerColor(Player(14), ConvertPlayerColor(14))
    call SetPlayerRacePreference(Player(14), RACE_PREF_HUMAN)
    call SetPlayerRaceSelectable(Player(14), false)
    call SetPlayerController(Player(14), MAP_CONTROL_USER)

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_9759
    call SetPlayerTeam(Player(0), 0)
    call SetPlayerState(Player(0), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(1), 0)
    call SetPlayerState(Player(1), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(2), 0)
    call SetPlayerState(Player(2), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(3), 0)
    call SetPlayerState(Player(3), PLAYER_STATE_ALLIED_VICTORY, 1)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateAllyBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateAllyBJ(Player(3), Player(2), true)

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(0), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(2), true)
    call SetPlayerAllianceStateVisionBJ(Player(1), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(2), Player(3), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(0), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(1), true)
    call SetPlayerAllianceStateVisionBJ(Player(3), Player(2), true)

    // Force: TRIGSTR_9760
    call SetPlayerTeam(Player(4), 1)
    call SetPlayerState(Player(4), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(5), 1)
    call SetPlayerState(Player(5), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(6), 1)
    call SetPlayerState(Player(6), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(7), 1)
    call SetPlayerState(Player(7), PLAYER_STATE_ALLIED_VICTORY, 1)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(4), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateAllyBJ(Player(5), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(6), Player(7), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(4), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(5), true)
    call SetPlayerAllianceStateAllyBJ(Player(7), Player(6), true)

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(4), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(6), true)
    call SetPlayerAllianceStateVisionBJ(Player(5), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(6), Player(7), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(4), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(5), true)
    call SetPlayerAllianceStateVisionBJ(Player(7), Player(6), true)

    // Force: TRIGSTR_9761
    call SetPlayerTeam(Player(8), 2)
    call SetPlayerState(Player(8), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(9), 2)
    call SetPlayerState(Player(9), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(10), 2)
    call SetPlayerState(Player(10), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(11), 2)
    call SetPlayerState(Player(11), PLAYER_STATE_ALLIED_VICTORY, 1)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(10), true)
    call SetPlayerAllianceStateAllyBJ(Player(8), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(10), true)
    call SetPlayerAllianceStateAllyBJ(Player(9), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(10), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(10), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(10), Player(11), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(8), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(9), true)
    call SetPlayerAllianceStateAllyBJ(Player(11), Player(10), true)

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(10), true)
    call SetPlayerAllianceStateVisionBJ(Player(8), Player(11), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(10), true)
    call SetPlayerAllianceStateVisionBJ(Player(9), Player(11), true)
    call SetPlayerAllianceStateVisionBJ(Player(10), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(10), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(10), Player(11), true)
    call SetPlayerAllianceStateVisionBJ(Player(11), Player(8), true)
    call SetPlayerAllianceStateVisionBJ(Player(11), Player(9), true)
    call SetPlayerAllianceStateVisionBJ(Player(11), Player(10), true)

    // Force: TRIGSTR_12090
    call SetPlayerTeam(Player(13), 3)
    call SetPlayerState(Player(13), PLAYER_STATE_ALLIED_VICTORY, 1)
    call SetPlayerTeam(Player(14), 3)
    call SetPlayerState(Player(14), PLAYER_STATE_ALLIED_VICTORY, 1)

    //   Allied
    call SetPlayerAllianceStateAllyBJ(Player(13), Player(14), true)
    call SetPlayerAllianceStateAllyBJ(Player(14), Player(13), true)

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ(Player(13), Player(14), true)
    call SetPlayerAllianceStateVisionBJ(Player(14), Player(13), true)

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount(0, 2)
    call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(1, 2)
    call SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(2, 2)
    call SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(3, 4)
    call SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 3, 11, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(4, 5)
    call SetStartLocPrio(4, 0, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 1, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 2, 10, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 3, 12, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 4, 13, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(5, 5)
    call SetStartLocPrio(5, 0, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 1, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 2, 10, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 3, 12, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 4, 13, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(6, 5)
    call SetStartLocPrio(6, 0, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 1, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 2, 10, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 3, 12, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 4, 13, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(7, 3)
    call SetStartLocPrio(7, 0, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 1, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 2, 10, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(8, 9)
    call SetStartLocPrio(8, 0, 0, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 1, 1, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 2, 2, MAP_LOC_PRIO_LOW)
    call SetStartLocPrio(8, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 6, 10, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 7, 12, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 8, 13, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(9, 3)
    call SetStartLocPrio(9, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 2, 2, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(10, 5)
    call SetStartLocPrio(10, 0, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(10, 1, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(10, 2, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(10, 3, 12, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(10, 4, 13, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(11, 4)
    call SetStartLocPrio(11, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(11, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(11, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(11, 3, 3, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(12, 5)
    call SetStartLocPrio(12, 0, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(12, 1, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(12, 2, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(12, 3, 10, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(12, 4, 13, MAP_LOC_PRIO_HIGH)

    call SetStartLocPrioCount(13, 5)
    call SetStartLocPrio(13, 0, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(13, 1, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(13, 2, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(13, 3, 10, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(13, 4, 12, MAP_LOC_PRIO_HIGH)
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds(- 7168.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), - 9216.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 9216.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), - 7168.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 7168.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 9216.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 9216.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
    call NewSoundEnvironment("psychotic")
    call SetAmbientDaySound("VillageDay")
    call SetAmbientNightSound("VillageNight")
    call SetMapMusic("Music", true, 0)
    call InitSounds()
    call CreateRegions()
    call CreateCameras()
    call CreateAllUnits()
    call InitBlizzard()

call ExecuteFunc("jasshelper__initstructs1195633515")
call ExecuteFunc("BoundSentinel___init")
call ExecuteFunc("ItemTable___init")
call ExecuteFunc("PowerupSentinel___onInit")
call ExecuteFunc("PreventSave___onInit")
call ExecuteFunc("TimerUtils___init")
call ExecuteFunc("UIMath___Init")
call ExecuteFunc("AutoBuyS__init")
call ExecuteFunc("RegisterPlayerUnitEvent_init")
call ExecuteFunc("UnitUtils___init")
call GaiYagai___init()

    call InitGlobals()
    call InitCustomTriggers()
    call RunInitializationTriggers()

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName("TRIGSTR_5474")
    call SetMapDescription("TRIGSTR_5476")
    call SetPlayers(14)
    call SetTeams(14)
    call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)

    call DefineStartLocation(0, - 5440.0, - 5312.0)
    call DefineStartLocation(1, - 5440.0, - 5312.0)
    call DefineStartLocation(2, - 5440.0, - 5312.0)
    call DefineStartLocation(3, - 5440.0, - 5312.0)
    call DefineStartLocation(4, - 5504.0, - 5312.0)
    call DefineStartLocation(5, - 5504.0, - 5312.0)
    call DefineStartLocation(6, - 5504.0, - 5312.0)
    call DefineStartLocation(7, - 5504.0, - 5312.0)
    call DefineStartLocation(8, - 5504.0, - 5248.0)
    call DefineStartLocation(9, - 5376.0, - 5312.0)
    call DefineStartLocation(10, - 5504.0, - 5312.0)
    call DefineStartLocation(11, - 5440.0, - 5312.0)
    call DefineStartLocation(12, - 5504.0, - 5312.0)
    call DefineStartLocation(13, - 5504.0, - 5312.0)

    // Player setup
    call InitCustomPlayerSlots()
    call InitCustomTeams()
    call InitAllyPriorities()
endfunction




//Struct method generated initializers/callers:

//Functions for BigArrays:
function sa__AHSS_Graphics_create takes nothing returns boolean
local integer teams=f__arg_integer1
local integer heroes=f__arg_integer2
local integer options=f__arg_integer3
local integer paths=f__arg_integer4
            local integer this= 1
            local integer i= 0
            loop
                exitwhen i > 11
                set s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+i]=false
                set s___AHSS_Graphics_draftUsed[s__AHSS_Graphics_draftUsed[this]+i]=false
                set s___AHSS_Graphics_isHidden[s__AHSS_Graphics_isHidden[this]+i]=false
                set i=i + 1
            endloop
            if s__AHSS_Graphics_dummy[this] != null then
                call sc__AHSS_Graphics_destroy(this)
            endif
            set this=s__AHSS_Graphics__allocate()
            set s__AHSS_Graphics_teams[this]=teams
            set s__AHSS_Graphics_heroes[this]=heroes
            set s__AHSS_Graphics_options[this]=options
            set s__AHSS_Graphics_paths[this]=paths
            set s__AHSS_Graphics_allowPick[this]=false
            set s__AHSS_Graphics_allowRandom[this]=false
            set s__AHSS_Graphics_draftPick[this]=false
            set s__AHSS_Graphics_iconsCreated[this]=false
            set s__AHSS_Graphics_countBanned[this]=0
set f__result_integer= this
   return true
endfunction
function sa__AHSS_Graphics_selectHeroRandom takes nothing returns boolean
local integer this=f__arg_integer1
local integer id=f__arg_integer2
            local integer random
            local integer count= 0
            set random=0
            loop
                exitwhen random > ( s__AHSS_Configurations_MAX_SLOTS - 1 )
                if s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+random] != null then
                    set count=count + 1
                endif
                set random=random + 1
            endloop
            if count > 0 then
                loop
                    set random=GetRandomInt(0, s__AHSS_Configurations_MAX_SLOTS - 1)
                    exitwhen s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+random] != null and s__s__AHSS_Graphics_availableHeroesAttribute[random] == s__s__AHSS_Graphics_playersAttribute[id]
                endloop
                call sc__AHSS_Graphics_showHero(this , id , random)
                set s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]=(random / (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])])) // INLINED!!
                loop
                    exitwhen random < (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) // INLINED!!
                    set random=random - (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) // INLINED!!
                endloop
                set s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]=(random) // INLINED!!
                call sc__AHSS_Graphics_updateCursor(this , id)
                call sc__AHSS_Graphics_pressEscActions(this , id)
            endif
   return true
endfunction
function sa__AHSS_Graphics_pressEscActions takes nothing returns boolean
local integer this=f__arg_integer1
local integer id=f__arg_integer2
            local integer index
            if not s__AHSS_Graphics_gameStarted[this] then
                if s__AHSS_Graphics_dummy[this] != null and IsPlayerInForce(Player(id), s__AHSS_Graphics_cameraForce) then
                    if (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) == - 1 then // INLINED!!
                        if s__AHSS_Graphics_allowPick[this] then
                            call s__AHSS_Graphics_selectHeroRandom(this , id)
                        endif
                    else
                        set index=(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+id])]) // INLINED!!
                        if s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index] == null then
                            if GetLocalPlayer() == GetTriggerPlayer() then
                                call PlaySoundBJ((s__AHSS_Options_error[(s__AHSS_Graphics_options[this])])) // INLINED!!
                            endif
set f__result_boolean= false
return true
                        endif
                        if s__AHSS_Graphics_allowPick[this] or s__AHSS_Graphics_allowRandom[this] then
                            if not s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+id] then
                                if GetLocalPlayer() == GetTriggerPlayer() then
                                    call PlaySoundBJ((s__AHSS_Options_ok[(s__AHSS_Graphics_options[this])])) // INLINED!!
                                endif
                                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]=CreateDestructableZ((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index])
                                set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]=null
                                set s__s__AHSS_Graphics_availableHeroes[index]= false
                                set s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+id]=true
                                call s__AHSS_Graphics_hideSelection(this , id)
                                call s__AHSS_Graphics_createTeamIcon(this , id , index , true)
                            else
                                if GetLocalPlayer() == GetTriggerPlayer() then
                                    call PlaySoundBJ((s__AHSS_Options_ok[(s__AHSS_Graphics_options[this])])) // INLINED!!
                                endif
                                call s__AHSS_Graphics_showSelection(this , id)
                                call s__AHSS_Graphics_createTeamIcon(this , id , index , false)
                                set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]=CreateDestructableZ((s__AHSS__Hero_icon[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), GetDestructableX(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]), GetDestructableY(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index])
                                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]=null
                                set s__s__AHSS_Graphics_availableHeroes[index]= true
                                call sc__AHSS_Graphics_showHero(this , id , index)
                                set s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+id]=false
                            endif
                        elseif s__AHSS_Graphics_draftPick[this] then
                            if not s___AHSS_Graphics_draftUsed[s__AHSS_Graphics_draftUsed[this]+id] then
                                if GetLocalPlayer() == GetTriggerPlayer() then
                                    call PlaySoundBJ((s__AHSS_Options_ok[(s__AHSS_Graphics_options[this])])) // INLINED!!
                                endif
                                set s___AHSS_Graphics_draftUsed[s__AHSS_Graphics_draftUsed[this]+id]=true
                                set s___AHSS_Graphics_bannedHeroIcons[s__AHSS_Graphics_bannedHeroIcons[this]+s__AHSS_Graphics_countBanned[this]]=CreateDestructable((s__AHSS__Hero_icon[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), GetDestructableX(s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]]), GetDestructableY(s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]]), 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]])
                                set s___AHSS_Graphics_bannedEmptyIcons[s__AHSS_Graphics_bannedEmptyIcons[this]+s__AHSS_Graphics_countBanned[this]]=null
                                set s__AHSS_Graphics_countBanned[this]=s__AHSS_Graphics_countBanned[this] + 1
                                set s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]=CreateDestructableZ((s__AHSS_Paths_emptyIcon[(s__AHSS_Graphics_paths[this])]), GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]), 500, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                                call RemoveDestructable(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index])
                                set s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]=null
                                set s__s__AHSS_Graphics_availableHeroes[index]= false
                                call s__AHSS_Graphics_hideSelection(this , id)
                            endif
                        endif
                    endif
                    if s__AHSS_Graphics_allowPick[this] then
                        call s__AHSS_Graphics_verifyStart(this)
                    elseif s__AHSS_Graphics_draftPick[this] then
                        call s__AHSS_Graphics_verifyEndDraft(this)
                    endif
                endif
            endif
set f__result_boolean= false
   return true
endfunction
function sa__AHSS_Graphics_pressEsc takes nothing returns boolean

            local integer this= 1
            local integer index
            local integer id= GetPlayerId(GetTriggerPlayer())
            call s__AHSS_Graphics_pressEscActions(this , id)
set f__result_boolean= false
   return true
endfunction
function sa__AHSS_Graphics_pressKey takes nothing returns boolean

            local integer this= 1
            local integer playerid= (s__ArrowKey_eventPlayerId) // INLINED!!
            local integer index
            if s__AHSS_Graphics_dummy[this] != null and s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid] != 0 and IsPlayerInForce(Player(playerid), s__AHSS_Graphics_cameraForce) and (s__ArrowKey_eventKeyPressed) and not s___AHSS_Graphics_selectionUsed[s__AHSS_Graphics_selectionUsed[this]+playerid] then // INLINED!!
                call sc__AHSS_Graphics_moveCursor(this , playerid)
                set index=(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) // INLINED!!
                call sc__AHSS_Graphics_showHero(this , playerid , index)
            endif
   return true
endfunction
function sa__AHSS_Graphics_updateCursor takes nothing returns boolean
local integer this=f__arg_integer1
local integer playerid=f__arg_integer2
            local integer index= (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) // INLINED!!
            local integer i
            if (s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) == - 1 then // INLINED!!
                call SetUnitPosition(s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])], ((GetDestructableX(s__AHSS_Graphics_randomIcon[this]) )*1.0), (( GetDestructableY(s__AHSS_Graphics_randomIcon[this]))*1.0)) // INLINED!!
            else
                if s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index] != null then
                    call SetUnitPosition(s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])], ((GetDestructableX(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]) )*1.0), (( GetDestructableY(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]+index]))*1.0)) // INLINED!!
                else
                    call SetUnitPosition(s__AHSS__PlayerSelection_selectionBox[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])], ((GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]) )*1.0), (( GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index]))*1.0)) // INLINED!!
                endif
            endif
            if GetLocalPlayer() == Player(playerid) then
                call PlaySoundBJ((s__AHSS_Options_click[(s__AHSS_Graphics_options[this])])) // INLINED!!
            endif
   return true
endfunction
function sa__AHSS_Graphics_moveCursor takes nothing returns boolean
local integer this=f__arg_integer1
local integer playerid=f__arg_integer2
            local integer index
            local integer i
            if s___AHSS_Graphics_isHidden[s__AHSS_Graphics_isHidden[this]+playerid] or ( not s__AHSS_Graphics_allowPick[this] and not s__AHSS_Graphics_draftPick[this] ) then
return true
            endif
            set index=(s__AHSS__PlayerSelection_column[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) * (s__AHSS_Options_iconsByLine[(s__AHSS_Graphics_options[this])]) + (s__AHSS__PlayerSelection_row[(s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+playerid])]) // INLINED!!
            if (s__ArrowKey_eventKey) == 0 then // INLINED!!
                call s__AHSS_Graphics_moveLeft(this , playerid , index)
            elseif (s__ArrowKey_eventKey) == 1 then // INLINED!!
                call s__AHSS_Graphics_moveRight(this , playerid , index)
            elseif (s__ArrowKey_eventKey) == 2 then // INLINED!!
                call s__AHSS_Graphics_moveDown(this , playerid , index)
            else
                call s__AHSS_Graphics_moveUp(this , playerid , index)
            endif
            call s__AHSS_Graphics_updateCursor(this , playerid)
   return true
endfunction
function sa__AHSS_Graphics_showHero takes nothing returns boolean
local integer this=f__arg_integer1
local integer playerid=f__arg_integer2
local integer index=f__arg_integer3
            local real x
            local real y
            local integer i= playerid
            local string s
            if s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i] != null then
                call BlzSetSpecialEffectX(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectY(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call BlzSetSpecialEffectScale(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i], 0)
                call DestroyEffect(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i])
                set s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+i]=null
            endif
            if s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i])
                set s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+i]=null
            endif
            if s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i])
                set s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+i]=null
            endif
            if s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i])
                set s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i])
                set s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+i]=null
            endif
            if s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i])
                set s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i])
                set s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+i]=null
            endif
            if s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i] != null then
                call RemoveDestructable(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i])
                set s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+i]=null
            endif
            if s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i] != null then
                call DestroyTextTag(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i])
                set s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+i]=null
            endif
            if s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]+index] != null then
                set x=GetUnitX(s__AHSS_Graphics_dummy[this]) + 100
                set y=GetUnitY(s__AHSS_Graphics_dummy[this]) - 400
                if GetLocalPlayer() != Player(playerid) then
                    set s=""
                else
                    set s=(s__AHSS__Hero_modelPath[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) // INLINED!!
                endif
                set s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid]=AddSpecialEffect(s, x - 100, y)
                call BlzSetSpecialEffectHeight(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], 100)
                call BlzSetSpecialEffectPitch(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], Deg2Rad(- 90))
                call BlzSetSpecialEffectYaw(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], Deg2Rad(270))
                call BlzSetSpecialEffectScale(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], 2.0 + (s__AHSS__Hero_modelScale[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])) // INLINED!!
                if (s__AHSS__Hero_modelAlternate[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                    call BlzSpecialEffectAddSubAnimation(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], SUBANIM_TYPE_ALTERNATE_EX)
                    call BlzPlaySpecialEffect(s___AHSS_Graphics_heroesModels[s__AHSS_Graphics_heroesModels[this]+playerid], ANIM_TYPE_STAND)
                endif
                set x=x + 600
                set y=y + 500
                set s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid]=CreateTextTag()
                call SetTextTagText(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], (s__AHSS__Hero_name[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), TextTagSize2Height(16)) // INLINED!!
                call SetTextTagPos(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], x, y, 0)
                call SetTextTagColor(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], 255, 255, 255, 255)
                set y=y - 100
                set s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid]=CreateDestructable((s__AHSS_Paths_strength[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                set y=y - s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) - 10 // INLINED!!
                set s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid]=CreateDestructable((s__AHSS_Paths_agility[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
                set y=y - s__AHSS_Graphics_ICON_SIZE * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) - 10 // INLINED!!
                set s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid]=CreateDestructable((s__AHSS_Paths_intelligence[(s__AHSS_Graphics_paths[this])]), x, y, 270, (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]), 1) // INLINED!!
            set x=GetDestructableX(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid]) + 50
            set y=GetDestructableY(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid]) - 15
            set s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid]=CreateTextTag()
            call SetTextTagText(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], I2S(R2I((s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]))) + " + " + SubString(R2S((s__AHSS__Hero_strengthLvl[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])), 0, 3) + " x lvl", TextTagSize2Height(13)) // INLINED!!
            call SetTextTagPos(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], x, y, 0)
            if (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                call SetTextTagColor(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], 255, 0, 0, 255)
            else
                call SetTextTagColor(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], 255, 255, 255, 255)
            endif
            if GetLocalPlayer() != Player(playerid) then
                if s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid] != null then
                    call SetTextTagVisibility(s___AHSS_Graphics_strText[s__AHSS_Graphics_strText[this]+playerid], false)
                endif
                if s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid] != null then
                    call ShowDestructable(s___AHSS_Graphics_strIcon[s__AHSS_Graphics_strIcon[this]+playerid], false)
                endif
            endif
            set x=GetDestructableX(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid]) + 50
            set y=GetDestructableY(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid]) - 15
            set s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid]=CreateTextTag()
            call SetTextTagText(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], I2S(R2I((s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]))) + " + " + SubString(R2S((s__AHSS__Hero_agilityLvl[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])), 0, 3) + " x lvl", TextTagSize2Height(13)) // INLINED!!
            call SetTextTagPos(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], x, y, 0)
            if (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                call SetTextTagColor(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], 255, 0, 0, 255)
            else
                call SetTextTagColor(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], 255, 255, 255, 255)
            endif
            if GetLocalPlayer() != Player(playerid) then
                if s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid] != null then
                    call SetTextTagVisibility(s___AHSS_Graphics_agiText[s__AHSS_Graphics_agiText[this]+playerid], false)
                endif
                if s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid] != null then
                    call ShowDestructable(s___AHSS_Graphics_agiIcon[s__AHSS_Graphics_agiIcon[this]+playerid], false)
                endif
            endif
            set x=GetDestructableX(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid]) + 50
            set y=GetDestructableY(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid]) - 15
            set s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid]=CreateTextTag()
            call SetTextTagText(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], I2S(R2I((s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]))) + " + " + SubString(R2S((s__AHSS__Hero_intelligenceLvl[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])), 0, 3) + " x lvl", TextTagSize2Height(13)) // INLINED!!
            call SetTextTagPos(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], x, y, 0)
            if (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_strength[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_agility[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) and (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) >= (s__AHSS__Hero_intelligence[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]) then // INLINED!!
                call SetTextTagColor(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], 255, 0, 0, 255)
            else
                call SetTextTagColor(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], 255, 255, 255, 255)
            endif
            if GetLocalPlayer() != Player(playerid) then
                if s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid] != null then
                    call SetTextTagVisibility(s___AHSS_Graphics_intText[s__AHSS_Graphics_intText[this]+playerid], false)
                endif
                if s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid] != null then
                    call ShowDestructable(s___AHSS_Graphics_intIcon[s__AHSS_Graphics_intIcon[this]+playerid], false)
                endif
            endif
                set x=x - 100
                set y=y - 200 - ( 20 * s__AHSS_Graphics_countLines((s__AHSS__Hero_description[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))])) ) // INLINED!!
                set s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid]=CreateTextTag()
                call SetTextTagText(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], (s__AHSS__Hero_description[((s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[(s__AHSS_Graphics_heroes[this])]+(index)]))]), TextTagSize2Height(9)) // INLINED!!
                call SetTextTagPos(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], x, y, 0)
                call SetTextTagColor(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], 255, 255, 255, 255)
                if GetLocalPlayer() != Player(playerid) then
                    if s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid] != null then
                        call SetTextTagVisibility(s___AHSS_Graphics_heroesName[s__AHSS_Graphics_heroesName[this]+playerid], false)
                    endif
                    if s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid] != null then
                        call SetTextTagVisibility(s___AHSS_Graphics_descriptionText[s__AHSS_Graphics_descriptionText[this]+playerid], false)
                    endif
                endif
            endif
   return true
endfunction
function sa__AHSS_Graphics_createIcons takes nothing returns boolean
local integer this=f__arg_this
            local integer i
            local integer j
            local integer id
            if not s__AHSS_Graphics_iconsCreated[this] then
                call s__AHSS_Graphics_createEmptyIcons(this)
                call s__AHSS_Graphics_createTeamsIcon(this)
                call s__AHSS_Graphics_createHeroesIcon(this)
                call sc__AHSS_Graphics_createTexts(this)
                call sc__AHSS_Graphics_createSelections(this)
                set i=0
                loop
                    exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                    set j=0
                    loop
                        exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                        set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                        if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING and GetPlayerController(Player(id)) == MAP_CONTROL_USER then
                            call s__AHSS_Graphics_showHero(this , i , 0)
                        endif
                        set j=j + 1
                    endloop
                    set i=i + 1
                endloop
            endif
   return true
endfunction
function sa__AHSS_Graphics_createTexts takes nothing returns boolean
local integer this=f__arg_this
            local real x= GetUnitX(s__AHSS_Graphics_dummy[this]) - 1000
            local real y= GetUnitY(s__AHSS_Graphics_dummy[this]) + 270
            local integer i= 0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set y=y - ( 128 * (s__AHSS_Options_iconScale[(s__AHSS_Graphics_options[this])]) ) - 10 // INLINED!!
                set s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i]=CreateTextTag()
                call SetTextTagText(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i], (s__AHSS__Team_name[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]), TextTagSize2Height(12)) // INLINED!!
                call SetTextTagPos(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i], x, y, 0)
                call SetTextTagColor(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i], 255, 255, 255, 255)
                set i=i + 1
            endloop
            set s__AHSS_Graphics_bannedText[this]=CreateTextTag()
            call SetTextTagText(s__AHSS_Graphics_bannedText[this], "Banned heroes", TextTagSize2Height(12))
            call SetTextTagPos(s__AHSS_Graphics_bannedText[this], x, y - 290, 0)
            call SetTextTagColor(s__AHSS_Graphics_bannedText[this], 255, 255, 255, 255)
   return true
endfunction
function sa__AHSS_Graphics_createSelections takes nothing returns boolean
local integer this=f__arg_this
            local integer i
            local integer j
            local real x
            local real y
            local integer count= 0
            local integer id
            if s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]] != null then
                set x=GetDestructableX(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]])
                set y=GetDestructableY(s___AHSS_Graphics_emptyIcon[s__AHSS_Graphics_emptyIcon[this]])
            else
                set x=GetDestructableX(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]])
                set y=GetDestructableY(s___AHSS_Graphics_heroesIcon[s__AHSS_Graphics_heroesIcon[this]])
            endif
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                    if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING then
                        if GetPlayerController(Player(id)) == MAP_CONTROL_USER or ( GetPlayerController(Player(id)) == MAP_CONTROL_COMPUTER and (s__AHSS_Options_bots[(s__AHSS_Graphics_options[this])]) ) then // INLINED!!
                            if (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 0 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(0 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 1.00 , 0.01 , 0.01) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 1 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(1 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.00 , 0.25 , 1.00) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 2 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(2 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.09 , 0.90 , 0.70) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 3 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(3 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.32 , 0.00 , 0.50) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 4 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(4 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 1.00 , 0.98 , 0.40) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 5 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(5 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.99 , 0.72 , 0.05) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 6 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(6 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.12 , 0.75 , 0.00) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 7 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(7 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.89 , 0.35 , 0.69) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 8 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(8 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.58 , 0.58 , 0.58) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 9 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(9 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.49 , 0.74 , 0.94) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 10 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(10 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.06 , 0.38 , 0.27) // INLINED!!
                            elseif (s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) == 11 then // INLINED!!
                                set s___AHSS_Graphics_selections[s__AHSS_Graphics_selections[this]+(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)])]=s__AHSS__PlayerSelection_create(11 , (s__AHSS_Paths_selection[(s__AHSS_Graphics_paths[this])]) , x , y , 0.30 , 0.16 , 0.01) // INLINED!!
                            endif
                        endif
                    endif
                    set count=count + 1
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
   return true
endfunction
function sa__AHSS_Graphics_draw takes nothing returns boolean
local integer this=f__arg_this
local boolean allRandom=f__arg_boolean1
            local integer i
            local integer j
            local integer id
            call s__AHSS_Graphics_createCamera(this)
            call s__AHSS_Graphics_createImages(this)
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                set j=0
                loop
                    exitwhen j > ( (s__AHSS__Team_count[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]) - 1 ) // INLINED!!
                    set id=(s___AHSS__Team_players[s__AHSS__Team_players[((s___AHSS_Teams_teams[s__AHSS_Teams_teams[(s__AHSS_Graphics_teams[this])]+(i)]))]+(j)]) // INLINED!!
                    if GetPlayerSlotState(Player(id)) == PLAYER_SLOT_STATE_PLAYING then
                        if GetPlayerController(Player(id)) == MAP_CONTROL_USER then
                            if allRandom then
                                call s__AHSS_Graphics_selectHeroRandom(this , id)
                            else
                                call s__AHSS_Graphics_showHero(this , i , 0)
                            endif
                        else
                            if (s__AHSS_Options_bots[(s__AHSS_Graphics_options[this])]) then // INLINED!!
                                call s__AHSS_Graphics_selectHeroRandom(this , id)
                            endif
                        endif
                    endif
                    set j=j + 1
                endloop
                set i=i + 1
            endloop
   return true
endfunction
function sa__AHSS_Graphics_destroy takes nothing returns boolean
local integer this=f__arg_this
            local integer i
            local trigger t1
            local trigger t2
            call s__AHSS_Graphics_destroyAllButTeams(this)
            if s__AHSS_Graphics_dummy[this] != null then
                call RemoveUnit(s__AHSS_Graphics_dummy[this])
                set s__AHSS_Graphics_dummy[this]=null
            endif
                call ShowImage(s__AHSS_Graphics_backgroundImg[this], false)
                call DestroyImage(s__AHSS_Graphics_backgroundImg[this])
            if s__AHSS_Graphics_versus1[this] != null then
                call RemoveDestructable(s__AHSS_Graphics_versus1[this])
                set s__AHSS_Graphics_versus1[this]=null
            endif
            if s__AHSS_Graphics_versus2[this] != null then
                call RemoveDestructable(s__AHSS_Graphics_versus2[this])
                set s__AHSS_Graphics_versus2[this]=null
            endif
            if s__AHSS_Graphics_logoImg[this] != null then
                call RemoveDestructable(s__AHSS_Graphics_logoImg[this])
                set s__AHSS_Graphics_logoImg[this]=null
            endif
            set i=0
            loop
                exitwhen i > ( (s__AHSS_Teams_count[(s__AHSS_Graphics_teams[this])]) - 1 ) // INLINED!!
                call s__AHSS__TeamIcon_destroy(s___AHSS_Graphics_teamsIcon[s__AHSS_Graphics_teamsIcon[this]+i])
                call DestroyTextTag(s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i])
                set s___AHSS_Graphics_teamsText[s__AHSS_Graphics_teamsText[this]+i]=null
                set i=i + 1
            endloop
            if s__AHSS_Graphics_cameraTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_cameraTimer[this])
                call DestroyTimer(s__AHSS_Graphics_cameraTimer[this])
            endif
            if s__AHSS_Graphics_gameStartedTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_gameStartedTimer[this])
                call DestroyTimer(s__AHSS_Graphics_gameStartedTimer[this])
                set s__AHSS_Graphics_gameStartedTimer[this]=null
            endif
            if s__AHSS_Graphics_gameStartedTimerDialog[this] != null then
                call TimerDialogDisplay(s__AHSS_Graphics_gameStartedTimerDialog[this], false)
                call DestroyTimerDialog(s__AHSS_Graphics_gameStartedTimerDialog[this])
                set s__AHSS_Graphics_gameStartedTimerDialog[this]=null
            endif
            if s__AHSS_Graphics_timeLimitTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_timeLimitTimer[this])
                call DestroyTimer(s__AHSS_Graphics_timeLimitTimer[this])
                set s__AHSS_Graphics_timeLimitTimer[this]=null
            endif
            if s__AHSS_Graphics_timeLimitTimerDialog[this] != null then
                call TimerDialogDisplay(s__AHSS_Graphics_timeLimitTimerDialog[this], false)
                call DestroyTimerDialog(s__AHSS_Graphics_timeLimitTimerDialog[this])
                set s__AHSS_Graphics_timeLimitTimerDialog[this]=null
            endif
            if s__AHSS_Graphics_draftTimer[this] != null then
                call PauseTimer(s__AHSS_Graphics_draftTimer[this])
                call DestroyTimer(s__AHSS_Graphics_draftTimer[this])
                set s__AHSS_Graphics_draftTimer[this]=null
            endif
            if s__AHSS_Graphics_draftTimerDialog[this] != null then
                call TimerDialogDisplay(s__AHSS_Graphics_draftTimerDialog[this], false)
                call DestroyTimerDialog(s__AHSS_Graphics_draftTimerDialog[this])
                set s__AHSS_Graphics_draftTimerDialog[this]=null
            endif
            call DestroyForce(s__AHSS_Graphics_cameraForce)
            call s__AHSS_Teams_destroy(s__AHSS_Graphics_teams[this])
            call s__AHSS_Heroes_destroy(s__AHSS_Graphics_heroes[this])
            call s__AHSS_Options_deallocate(s__AHSS_Graphics_options[this])
            call s__AHSS_Paths_deallocate(s__AHSS_Graphics_paths[this])
            set s__AHSS_Graphics_cameraTimer[this]=null
            set s__AHSS_Graphics_cameraForce=null
            set i=0
            loop
                exitwhen i > 23
                set s__s__NinpouUI_new_ui_enabled[i]= GetPlayerSlotState(Player(12)) == PLAYER_SLOT_STATE_EMPTY
                if s__s__NinpouUI_new_ui_enabled[i] and Player(i) == GetLocalPlayer() then
                    call s__NinpouUI_initializeElementsForPlayer(GetLocalPlayer())
                endif
                set i=i + 1
            endloop
            if GetPlayerSlotState(Player(12)) == PLAYER_SLOT_STATE_EMPTY then
                call TimerStartEx((NewTimerEx(0)) , 0.1 , true , function s__NinpouUI_periodic , "UI_periodic") // INLINED!!
            endif
            set t1=CreateTrigger()
            set i=0
            loop
                exitwhen i > 23
                call TriggerRegisterPlayerEventEndCinematic(t1, Player(i))
                set i=i + 1
            endloop
            call TriggerAddAction(t1, function Trig_CleanMessages_Actions2)
            set t2=CreateTrigger()
            set i=0
            loop
                exitwhen i > 16
                set udg_zoom_v[i + 1]=2300.00
                call SetCameraFieldForPlayer(Player(i), CAMERA_FIELD_TARGET_DISTANCE, 2300.00, 1.00)
                call TriggerRegisterPlayerChatEvent(t2, Player(i), "-z", false)
                set i=i + 1
            endloop
            call TriggerAddAction(t2, function Trig_Zoom_System_Actions)
            call TimerStartEx((NewTimerEx(0)) , 2.0 , false , function Trig_StartingZoom_Delay , "Trig_StartingZoom_Delay") // INLINED!!
            call MultiboardDisplayBJ(true, udg_multiboard01)
            call MultiboardMinimizeBJ(true, udg_multiboard01)
            call LeaderboardDisplayBJ(true, udg_Leaderbox)
            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, "|cFF80FF80For help, press F9!\n            Tip:\n            If your hero gets bugged, type: “-SUICIDE” or “-KILLME“\n\n            Press “ESC” to clean your screen|r\n            --------------------------")
            if udg_Mode45Min then
                call StartTimerBJ(udg_timer02, false, 2700.00)
                call CreateTimerDialogBJ(udg_timer02, "45 min")
            elseif udg_Mode30Min then
                call StartTimerBJ(udg_timer02, false, 1800.00)
                call CreateTimerDialogBJ(udg_timer02, "30 min")
            elseif udg_Mode60Min then
                call StartTimerBJ(udg_timer02, false, 3600.00)
                call CreateTimerDialogBJ(udg_timer02, "60 min")
            endif
	    call CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'e051', - 490, - 7963, 180)
   return true
endfunction
function sa__AHSS_Paths_setBackground takes nothing returns boolean
local integer this=f__arg_this
local string whichPath=f__arg_string1
            set s__AHSS_Paths_background[this]=whichPath
   return true
endfunction
function sa__AHSS_Paths_setLogo takes nothing returns boolean
local integer this=f__arg_this
local integer whichid=f__arg_integer1
            set s__AHSS_Paths_logo[this]=whichid
   return true
endfunction
function sa__AHSS_Paths_setEmptyIcon takes nothing returns boolean
local integer this=f__arg_this
local integer whichid=f__arg_integer1
            set s__AHSS_Paths_emptyIcon[this]=whichid
   return true
endfunction
function sa__AHSS_Paths_setRandomIcon takes nothing returns boolean
local integer this=f__arg_this
local integer whichid=f__arg_integer1
            set s__AHSS_Paths_randomIcon[this]=whichid
   return true
endfunction
function sa__AHSS_Paths_setSelection takes nothing returns boolean
local integer this=f__arg_this
local integer whichid=f__arg_integer1
            set s__AHSS_Paths_selection[this]=whichid
   return true
endfunction
function sa__AHSS_Paths_setStrIcon takes nothing returns boolean
local integer this=f__arg_this
local integer whichid=f__arg_integer1
            set s__AHSS_Paths_strength[this]=whichid
   return true
endfunction
function sa__AHSS_Paths_setAgiIcon takes nothing returns boolean
local integer this=f__arg_this
local integer whichid=f__arg_integer1
            set s__AHSS_Paths_agility[this]=whichid
   return true
endfunction
function sa__AHSS_Paths_setIntIcon takes nothing returns boolean
local integer this=f__arg_this
local integer whichid=f__arg_integer1
            set s__AHSS_Paths_intelligence[this]=whichid
   return true
endfunction
function sa__AHSS_Options_timeLimit takes nothing returns boolean
local integer this=f__arg_this
local boolean timeLimitActived=f__arg_boolean1
local real whichTime=f__arg_real1
            set s__AHSS_Options_timeLimit_actived[this]=timeLimitActived
            set s__AHSS_Options_timeLimit_time[this]=whichTime
   return true
endfunction
function sa__AHSS_Options_setIconScale takes nothing returns boolean
local integer this=f__arg_this
local real whichScale=f__arg_real1
            set s__AHSS_Options_iconScale[this]=whichScale
   return true
endfunction
function sa__AHSS_Options_setIconsByLine takes nothing returns boolean
local integer this=f__arg_this
local integer howMany=f__arg_integer1
            set s__AHSS_Options_iconsByLine[this]=howMany
   return true
endfunction
function sa__AHSS_Options_setSoundClick takes nothing returns boolean
    set s__AHSS_Options_click[(f__arg_this)]=(f__arg_sound1) // INLINED!!
   return true
endfunction
function sa__AHSS_Options_setSoundError takes nothing returns boolean
    set s__AHSS_Options_error[(f__arg_this)]=(f__arg_sound1) // INLINED!!
   return true
endfunction
function sa__AHSS_Options_setSoundOk takes nothing returns boolean
    set s__AHSS_Options_ok[(f__arg_this)]=(f__arg_sound1) // INLINED!!
   return true
endfunction
function sa__AHSS_Options_botsPick takes nothing returns boolean
local integer this=f__arg_this
local boolean b=f__arg_boolean1
            set s__AHSS_Options_bots[this]=b
   return true
endfunction
function sa__AHSS_Heroes_create takes nothing returns boolean

            local integer this= s__AHSS_Heroes__allocate()
            set s__AHSS_Heroes_count[this]=0
set f__result_integer= this
   return true
endfunction
function sa__AHSS_Heroes_addHero takes nothing returns boolean
local integer this=f__arg_this
local string name=f__arg_string1
local integer id=f__arg_integer1
            if s__AHSS_Heroes_count[this] >= s__AHSS_Configurations_MAX_SLOTS then
return true
            endif
            set s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this]]=s__AHSS__Hero_create(name , id)
            set s__s__AHSS_Configurations_HERO_NAMES[s__AHSS_Heroes_count[this]]= name
            set s__s__AHSS_Configurations_HERO_IDS[s__AHSS_Heroes_count[this]]= id
            call SaveInteger(Table___ht, (s__AHSS_Configurations_HERO_BY_ID), (id), ( s__AHSS_Heroes_count[this])) // INLINED!!
            set s__AHSS_Heroes_count[this]=s__AHSS_Heroes_count[this] + 1
   return true
endfunction
function sa__AHSS_Heroes_setStr takes nothing returns boolean
local integer this=f__arg_this
local real initial=f__arg_real1
local real lvl=f__arg_real2
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            call s__AHSS__Hero_setStr(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],initial , lvl)
   return true
endfunction
function sa__AHSS_Heroes_setAgi takes nothing returns boolean
local integer this=f__arg_this
local real initial=f__arg_real1
local real lvl=f__arg_real2
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            call s__AHSS__Hero_setAgi(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],initial , lvl)
   return true
endfunction
function sa__AHSS_Heroes_setInt takes nothing returns boolean
local integer this=f__arg_this
local real initial=f__arg_real1
local real lvl=f__arg_real2
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            call s__AHSS__Hero_setInt(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],initial , lvl)
   return true
endfunction
function sa__AHSS_Heroes_setDescription takes nothing returns boolean
local integer this=f__arg_this
local string whichDescription=f__arg_string1
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            set s__AHSS__Hero_description[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(whichDescription) // INLINED!!
   return true
endfunction
function sa__AHSS_Heroes_setModel takes nothing returns boolean
local integer this=f__arg_this
local string path=f__arg_string1
local real scale=f__arg_real1
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            call s__AHSS__Hero_setModel(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1],path , scale)
   return true
endfunction
function sa__AHSS_Heroes_setModelAlternate takes nothing returns boolean
local integer this=f__arg_this
local boolean b=f__arg_boolean1
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            set s__AHSS__Hero_modelAlternate[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(b) // INLINED!!
   return true
endfunction
function sa__AHSS_Heroes_setIcon takes nothing returns boolean
local integer this=f__arg_this
local integer whichIcon=f__arg_integer1
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            set s__AHSS__Hero_icon[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(whichIcon) // INLINED!!
   return true
endfunction
function sa__AHSS_Heroes_setIconPath takes nothing returns boolean
local integer this=f__arg_this
local string path=f__arg_string1
            if s__AHSS_Heroes_count[this] == 0 then
return true
            endif
            set s__AHSS__Hero_iconPath[(s___AHSS_Heroes_heroes[s__AHSS_Heroes_heroes[this]+s__AHSS_Heroes_count[this] - 1])]=(path) // INLINED!!
            set s__s__AHSS_Configurations_HERO_ICONS[s__AHSS_Heroes_count[this] - 1]= path
   return true
endfunction
function sa__AHSS_Teams_create takes nothing returns boolean

            local integer this= s__AHSS_Teams__allocate()
            set s__AHSS_Teams_count[this]=0
set f__result_integer= this
   return true
endfunction
function sa__AHSS_Teams_createTeam takes nothing returns boolean
local integer this=f__arg_this
local string name=f__arg_string1
            set s___AHSS_Teams_teams[s__AHSS_Teams_teams[this]+s__AHSS_Teams_count[this]]=s__AHSS__Team_create(name)
            set s__AHSS_Teams_count[this]=s__AHSS_Teams_count[this] + 1
   return true
endfunction
function sa__AHSS_Teams_addPlayer takes nothing returns boolean
local integer this=f__arg_this
local integer whichPlayer=f__arg_integer1
            if s__AHSS_Teams_count[this] == 0 then
return true
            endif
            call s__AHSS__Team_addPlayer(s___AHSS_Teams_teams[s__AHSS_Teams_teams[this]+s__AHSS_Teams_count[this] - 1],whichPlayer)
   return true
endfunction
function sa__AHSS_Teams_setSpawningSpot takes nothing returns boolean
    call s__AHSS_Teams_setSpawningSpot(f__arg_this,f__arg_rect1)
   return true
endfunction
function sa__NinpouUI_resetElements takes nothing returns boolean
local integer id=f__arg_integer1
                local integer i= 0
                local integer j= 0
                local integer index= id
                if GetLocalPlayer() == Player(id) then
                    call BlzFrameSetAbsPoint(s__s__NinpouUI_cmd1[id], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_cmd_buttons_x[id], s__s__NinpouUI_cmd_buttons_y[id])
                    call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_items_button_x[id], s__s__NinpouUI_items_button_y[id])
                    set s__s__NinpouUI_command_hero_building[id]= true
                    call s__NinpouUI_resetCommandButtons(id)
                    set i=index
                    call BlzFrameSetPoint(s__s__NinpouUI_hpbar[i], FRAMEPOINT_TOPLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_BOTTOMLEFT, 0, - 0.0025)
                    call BlzFrameSetPoint(s__s__NinpouUI_manabar[i], FRAMEPOINT_TOPLEFT, s__s__NinpouUI_hpbar[i], FRAMEPOINT_BOTTOMLEFT, 0, - 0.0025)
                    call BlzFrameSetPoint(s__s__NinpouUI_move_cmd_buttons[i], FRAMEPOINT_BOTTOMLEFT, s__s__NinpouUI_manabar[i], FRAMEPOINT_BOTTOMRIGHT, 0, 0)
                    set i=index
                    call BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_items_button_x[i], s__s__NinpouUI_items_button_y[i])
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 4), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 3), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 4), FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 2), FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 5), FRAMEPOINT_TOPLEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 1), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 2), FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 0), FRAMEPOINT_RIGHT, BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 1), FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetAbsPoint(s__s__NinpouUI_bank_buttons[2], FRAMEPOINT_BOTTOMRIGHT, s__s__NinpouUI_bank_button_x[i], s__s__NinpouUI_bank_button_y[i])
                    call BlzFrameSetPoint(s__NinpouUI_resource_lumber, FRAMEPOINT_BOTTOMRIGHT, s__NinpouUI_shop_button, FRAMEPOINT_BOTTOMLEFT, - 0.005, - 0.0023)
                    call BlzFrameSetPoint(s__NinpouUI_resource_gold, FRAMEPOINT_BOTTOMRIGHT, s__NinpouUI_resource_lumber, FRAMEPOINT_TOPRIGHT, 0, 0)
                    call BlzFrameSetAbsPoint(s__NinpouUI_resource_food, FRAMEPOINT_TOP, 0, 0)
                    call BlzFrameSetSize(s__NinpouUI_chat_button, BlzFrameGetWidth(s__NinpouUI_chat_button) - 0.01, BlzFrameGetHeight(s__NinpouUI_chat_button))
                    call BlzFrameSetAbsPoint(s__NinpouUI_menu_button, FRAMEPOINT_TOPRIGHT, 0.34, 0.6)
                    call BlzFrameSetPoint(s__NinpouUI_quest_button, FRAMEPOINT_RIGHT, s__NinpouUI_menu_button, FRAMEPOINT_LEFT, 0, 0)
                    call BlzFrameSetAbsPoint(s__NinpouUI_allies_button, FRAMEPOINT_TOPLEFT, 0.463, 0.6)
                    call BlzFrameSetPoint(s__NinpouUI_chat_button, FRAMEPOINT_LEFT, s__NinpouUI_allies_button, FRAMEPOINT_RIGHT, 0, 0)
                    call BlzFrameSetSize(s__NinpouUI_hero_level_bar, 0.265, 0.012)
                    call BlzFrameSetSize(s__NinpouUI_hero_progress_indicator, 0.267, 0.015)
                    call BlzFrameSetPoint(s__NinpouUI_hero_level_bar, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                    call BlzFrameSetPoint(s__NinpouUI_hero_progress_indicator, FRAMEPOINT_BOTTOMLEFT, BlzGetFrameByName("CommandButton_8", 0), FRAMEPOINT_TOPLEFT, 0, 0.0025)
                    call BlzFrameSetPoint(s__NinpouUI_hero_name, FRAMEPOINT_CENTER, s__NinpouUI_hero_level_bar, FRAMEPOINT_CENTER, 0, 0.016)
                    call BlzFrameSetPoint(s__NinpouUI_unit_attack, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.005, 0.03)
                    call BlzFrameSetPoint(s__NinpouUI_unit_armor, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.005, 0.0)
                    call BlzFrameSetPoint(s__NinpouUI_unit_food, FRAMEPOINT_BOTTOM, BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), FRAMEPOINT_BOTTOM, - 1, - 1)
                    call BlzFrameSetPoint(s__NinpouUI_hero_attributes, FRAMEPOINT_BOTTOMLEFT, s__NinpouUI_unit_attack, FRAMEPOINT_TOPLEFT, - 0.0027, 0.011)
                    call BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_UBERTOOLTIP, 0), FRAMEPOINT_BOTTOMLEFT, s__NinpouUI_hero_level_bar, FRAMEPOINT_TOPLEFT, 0, 0.02)
                    call BlzFrameSetPoint(s__NinpouUI_hide_stats_button, FRAMEPOINT_BOTTOMLEFT, BlzGetOriginFrame(ORIGIN_FRAME_MINIMAP, 0), FRAMEPOINT_BOTTOMRIGHT, 0.1, 0)
                    call BlzFrameSetSize(s__NinpouUI_hide_stats_button, 0.02, 0.02)
                endif
   return true
endfunction
function sa__NinpouShop_resetFocus takes nothing returns boolean
local integer this=f__arg_this
                local integer i= 0
                if GetLocalPlayer() == Player(s__NinpouShop_id[this]) then
                    call BlzFrameSetFocus(s__NinpouShop_box[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_search[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop1[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop2[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop3[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop4[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop5[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop6[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop7[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop8[this], false)
                    call BlzFrameSetFocus(s__NinpouShop_shop9[this], false)
                    loop
                        exitwhen i > 11
                        call BlzFrameSetFocus(s__ShopButton_mainbutton[s___NinpouShop_shop_buttons[s__NinpouShop_shop_buttons[this]+i]], false)
                        call BlzFrameSetFocus(s__ShopButton_mainbutton[s___NinpouShop_buy_buttons[s__NinpouShop_buy_buttons[this]+i]], false)
                        call BlzFrameSetFocus(s___NinpouShop_shop_items[s__NinpouShop_shop_items[this]+i], false)
                        call BlzFrameSetFocus(s___NinpouShop_buy_items[s__NinpouShop_buy_items[this]+i], false)
                        set i=i + 1
                    endloop
                endif
   return true
endfunction
function sa__HeroIcon_start takes nothing returns boolean
    call s__HeroIcon_start(f__arg_this,f__arg_unit1,f__arg_string1)
   return true
endfunction
function sa__HeroIcon_create takes nothing returns boolean
local real x=f__arg_real1
local real y=f__arg_real2
local real scale=f__arg_real3
local integer index=f__arg_integer1
                local integer this= s__HeroIcon_allocate()
                set index=0
                set s__HeroIcon_mainbutton[this]=BlzCreateFrame("Tile1", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, index)
                set s__HeroIcon_imgFrame[this]=s__HeroIcon_mainbutton[this]
                call BlzFrameSetSize(s__HeroIcon_mainbutton[this], scale, scale)
                call BlzFrameSetVisible(s__HeroIcon_mainbutton[this], false)
                set s__HeroIcon_x[this]=x
                set s__HeroIcon_y[this]=y
                set s__HeroIcon_original_x[this]=x
                set s__HeroIcon_original_y[this]=y
                set s__HeroIcon_scale[this]=scale
                set s__HeroIcon_index[this]=index
                set s__HeroIcon_fade[this]=true
set f__result_integer= this
   return true
endfunction
function sa__SwitchCommand_finish takes nothing returns boolean

        set udg_Switch=false
        call DialogDisplayBJ(false, s__SwitchCommand_pick, s__SwitchCommand_inviter)
        call DialogClear(s__SwitchCommand_pick)
        if s__SwitchCommand_timer1 != null then
            call TimerDialogDisplayBJ(false, s__SwitchCommand_timerwindow1)
            call DestroyTimerDialog(s__SwitchCommand_timerwindow1)
            set s__SwitchCommand_timerwindow1=null
            call ReleaseTimer(s__SwitchCommand_timer1)
            set s__SwitchCommand_timer1=null
        endif
        if s__SwitchCommand_timer2 != null then
            call TimerDialogDisplayBJ(false, s__SwitchCommand_timerwindow2)
            call DestroyTimerDialog(s__SwitchCommand_timerwindow2)
            set s__SwitchCommand_timerwindow2=null
            call ReleaseTimer(s__SwitchCommand_timer2)
            set s__SwitchCommand_timer2=null
        endif
        set s__SwitchCommand_inviter=null
   return true
endfunction
function sa__AntiAFK_timeOut takes nothing returns boolean

        call DisplayTextToPlayer(GetLocalPlayer(), 0, 0, GetPlayerName(udg_Host) + " |cff87ceebis AFK. The next player on the queue will be chosen.|r")
        call s__AntiAFK_chooseNextPlayer()
   return true
endfunction
function sa__AntiAFK_chooseHost takes nothing returns boolean
local integer i=f__arg_integer1
        local integer j
        set j=i
        loop
            exitwhen j > 11
            if GetPlayerController(Player(j)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(j)) == PLAYER_SLOT_STATE_PLAYING then
set f__result_player= Player(j)
return true
            endif
            set j=j + 1
        endloop
        set j=0
        loop
            exitwhen j > 11
            if GetPlayerController(Player(j)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(j)) == PLAYER_SLOT_STATE_PLAYING then
set f__result_player= Player(j)
return true
            endif
            set j=j + 1
        endloop
set f__result_player= Player(0)
   return true
endfunction
function sa__HidanFlyingScythe_actions takes nothing returns boolean
    call s__HidanFlyingScythe_actions(f__arg_unit1,f__arg_unit2)
   return true
endfunction
function sa__HanzoSemi_periodicChains takes nothing returns boolean

        local integer this= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
        local real angle
        local real new_x
        local real new_y
        local real new_z
        local real dx
        local real dy
        local real dz
        local real height
        local real distance
     local real offset
        local integer icount= 0
        if GetWidgetLife(s__HanzoSemi_scythe[this]) < 0.405 then
            loop
                set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] - 1
                if s__HanzoSemi_count[this] < 0 then
                    exitwhen true
                else
                    call DestroyEffect(AddSpecialEffect(("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl" ), (( s__s__HanzoSemi_chains_x[(this)*(1)+s__HanzoSemi_count[this]] )*1.0), (( s__s__HanzoSemi_chains_y[(this)*(1)+s__HanzoSemi_count[this]])*1.0))) // INLINED!!
        	    call BlzSetSpecialEffectX(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 5180)
        	    call BlzSetSpecialEffectY(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], - 6940)
        	    call BlzSetSpecialEffectScale(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 0)
        	    call DestroyEffect(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]])
        	    set s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]]= null
                endif
            endloop
            call s__HanzoSemi_deallocate(this)
            call ReleaseTimer(GetExpiredTimer())
        else
            set angle=Atan3(GetUnitX(s__HanzoSemi_caster[this]) , GetUnitY(s__HanzoSemi_caster[this]) , GetUnitX(s__HanzoSemi_scythe[this]) , GetUnitY(s__HanzoSemi_scythe[this]))
            loop
                set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] - 1
                if s__HanzoSemi_count[this] < 0 then
                    exitwhen true
                else
                    call BlzSetSpecialEffectX(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 5180)
                    call BlzSetSpecialEffectY(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], - 6940)
                    call BlzSetSpecialEffectScale(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 0)
                    call DestroyEffect(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]])
                    set s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]]= null
                endif
            endloop
            set s__HanzoSemi_count[this]=0
            set distance=GetDistanceUnits(s__HanzoSemi_caster[this] , s__HanzoSemi_scythe[this])
            if distance > 1500 then
return true
	        endif
            loop
                set offset=10
                set new_x=(((GetUnitX(s__HanzoSemi_caster[this]) )*1.0) + Cos((( angle )*1.0)) * (( offset * s__HanzoSemi_count[this])*1.0)) // INLINED!!
                set new_y=(((GetUnitY(s__HanzoSemi_caster[this]) )*1.0) + Sin((( angle )*1.0)) * (( offset * s__HanzoSemi_count[this])*1.0)) // INLINED!!
                set new_z=GetUnitFlyHeight(s__HanzoSemi_scythe[this]) * ( distance - GetDistance(new_x , new_y , GetUnitX(s__HanzoSemi_scythe[this]) , GetUnitY(s__HanzoSemi_scythe[this])) ) / distance
                set dx=new_x - GetUnitX(s__HanzoSemi_scythe[this])
                set dy=new_y - GetUnitY(s__HanzoSemi_scythe[this])
                set dz=new_z - GetUnitFlyHeight(s__HanzoSemi_scythe[this])
                set icount=icount + 1
                if SquareRoot(dx * dx + dy * dy + dz * dz) < 100 or icount > 200 then
                    exitwhen true
                else
                    set s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]]= AddSpecialEffect("war3mapImported\\ChainElement.mdl", new_x, new_y)
                    call BlzSetSpecialEffectYaw(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], angle)
                    call BlzSetSpecialEffectPitch(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], Deg2Rad(- 45.0))
                    call BlzSetSpecialEffectScale(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 2.0)
                    call BlzSetSpecialEffectHeight(s__s__HanzoSemi_chains[(this)*(1)+s__HanzoSemi_count[this]], 100 + GetPointZ(new_x , new_y) + new_z)
                    set s__s__HanzoSemi_chains_x[(this)*(1)+s__HanzoSemi_count[this]]= new_x
                    set s__s__HanzoSemi_chains_y[(this)*(1)+s__HanzoSemi_count[this]]= new_y
                    set s__HanzoSemi_count[this]=s__HanzoSemi_count[this] + 1
                endif
            endloop
        endif
   return true
endfunction
function sa__HanabiT_start takes nothing returns boolean
local integer this=f__arg_this
		set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(s__HanabiT_caster[this]), 'h0B7', GetUnitX(s__HanabiT_caster[this]), GetUnitY(s__HanabiT_caster[this]), GetUnitFacing(s__HanabiT_caster[this]))
		call SetUnitTimeScale(bj_lastCreatedUnit, 3.0)
		call SetUnitAnimationWithRarity(bj_lastCreatedUnit, "attack", RARITY_FREQUENT)
		call SetUnitVertexColorBJEx(bj_lastCreatedUnit , 100 , 100 , 100 , 60.00)
		call UnitApplyTimedLifeBJ(0.2, 'BTLF', bj_lastCreatedUnit)
        	call SetUnitX(bj_lastCreatedUnit, GetUnitX(s__HanabiT_caster[this]))
        	call SetUnitY(bj_lastCreatedUnit, GetUnitY(s__HanabiT_caster[this]))
   return true
endfunction
function sa__AkatukiSet_periodic takes nothing returns boolean

  local integer id= (LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))) // INLINED!!
  local unit u= (s__UnitDex_Unit[(id)]) // INLINED!!
        local integer elapsed
		if (HaveSavedInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id))) then // INLINED!!
			set elapsed=(LoadInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id))) // INLINED!!
			if elapsed < 15000 then
				call SaveInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id), ( 100)) // INLINED!!
				call ReleaseTimer(GetExpiredTimer())
			else
				call IssueImmediateOrder(u, "stop")
				call ReleaseTimer(GetExpiredTimer())
			endif
		else
			call SaveInteger(Table___ht, (s__AkatukiSet_secondsElapsed), (id), ( 1)) // INLINED!!
		endif
		set u=null
   return true
endfunction
function sa__KisameRing_periodic takes nothing returns boolean

  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
  local integer i
		if u == null or not UnitHasItemOfTypeBJ(u, 'I00H') then
			set s__s__KisameRing_t[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]= null // INLINED!!
			call ReleaseTimer(GetExpiredTimer())
			set u=null
return true
		endif
		set i=GetPlayerId(GetOwningPlayer(u))
		if GetWidgetLife(u) > 0.405 then
				set bj_lastCreatedGroup=CreateGroup()
				call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(u), GetUnitY(u), 500, null)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					if IsUnitEnemy(bj_lastCreatedUnit, Player(i)) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
                        call SetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA, GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MANA) - GetUnitState(bj_lastCreatedUnit, UNIT_STATE_MAX_MANA) * 0.04)
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call DestroyGroup(bj_lastCreatedGroup)
		endif
		set u=null
   return true
endfunction
function sa__KyuubiImmolation_periodic takes nothing returns boolean

  local unit u= (s__UnitDex_Unit[((LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer())))))]) // INLINED!!
  local integer i
		if u == null or not UnitHasItemOfTypeBJ(u, 'I03W') then
			set s__s__KyuubiImmolation_t[(LoadInteger(TimerUtils___ht, 0, GetHandleId((GetExpiredTimer()))))]= null // INLINED!!
			call ReleaseTimer(GetExpiredTimer())
			set u=null
return true
		endif
		set i=GetPlayerId(GetOwningPlayer(u))
		if GetWidgetLife(u) > 0.405 then
				set bj_lastCreatedGroup=CreateGroup()
				call GroupEnumUnitsInRange(bj_lastCreatedGroup, GetUnitX(u), GetUnitY(u), 300, null)
				loop
					set bj_lastCreatedUnit=FirstOfGroup(bj_lastCreatedGroup)
					exitwhen bj_lastCreatedUnit == null
					if IsUnitEnemy(bj_lastCreatedUnit, Player(i)) and GetWidgetLife(bj_lastCreatedUnit) > 0.405 then
						call UnitDamageTarget(udg_units33[i + 1], bj_lastCreatedUnit, GetHeroStr(udg_units33[i + 1], true) / 2, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, null)
					endif
					call GroupRemoveUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
				endloop
				call DestroyGroup(bj_lastCreatedGroup)
		endif
		set u=null
   return true
endfunction
function sa__UnitDex_Remove takes nothing returns boolean
    set f__result_boolean=s__UnitDex_Remove(f__arg_unit1,f__arg_boolean1)
   return true
endfunction
function sa___prototype5_TimerUtils___init takes nothing returns boolean

     local integer i=0
     local integer o=- 1
     local boolean oops= false
        if ( TimerUtils___didinit ) then
    return true
        else
            set TimerUtils___didinit=true
        endif
        set i=0
        loop
        	exitwhen i >= TimerUtils___ARRAY_SIZE
		set s__runningTimersString[i]= ""
		set i=i + 1
	endloop
        set i=0
        set runningTimers=s__Table_create()
            set TimerUtils___ht=InitHashtable()
            loop
                exitwhen ( i == TimerUtils___QUANTITY )
                set s__TimerUtils___tT[i]= CreateTimer()
                call SaveInteger(TimerUtils___ht, 0, GetHandleId((s__TimerUtils___tT[i] )), ( TimerUtils___HELD)) // INLINED!!
                set i=i + 1
            endloop
            set TimerUtils___tN=TimerUtils___QUANTITY
    return true
endfunction
function sa___prototype73_SetUnitScalePercentEx takes nothing returns boolean
    call SetUnitScale(((f__arg_unit1) ), (( ((f__arg_real1)*1.0) / 100 )*1.0), (( ((f__arg_real2)*1.0) / 100 )*1.0), (( ((f__arg_real3)*1.0) / 100)*1.0)) // INLINED!!
    return true
endfunction
function sa___prototype85_SetUnitVertexColorBJEx takes nothing returns boolean
    call SetUnitVertexColorBJEx(f__arg_unit1,f__arg_real1,f__arg_real2,f__arg_real3,f__arg_real4)
    return true
endfunction

function jasshelper__initstructs1195633515 takes nothing returns nothing
    set st__AHSS_Graphics_create=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_create,Condition( function sa__AHSS_Graphics_create))
    set st__AHSS_Graphics_selectHeroRandom=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_selectHeroRandom,Condition( function sa__AHSS_Graphics_selectHeroRandom))
    set st__AHSS_Graphics_pressEscActions=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_pressEscActions,Condition( function sa__AHSS_Graphics_pressEscActions))
    set st__AHSS_Graphics_pressEsc=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_pressEsc,Condition( function sa__AHSS_Graphics_pressEsc))
    set st__AHSS_Graphics_pressKey=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_pressKey,Condition( function sa__AHSS_Graphics_pressKey))
    set st__AHSS_Graphics_updateCursor=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_updateCursor,Condition( function sa__AHSS_Graphics_updateCursor))
    set st__AHSS_Graphics_moveCursor=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_moveCursor,Condition( function sa__AHSS_Graphics_moveCursor))
    set st__AHSS_Graphics_showHero=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_showHero,Condition( function sa__AHSS_Graphics_showHero))
    set st__AHSS_Graphics_createIcons=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_createIcons,Condition( function sa__AHSS_Graphics_createIcons))
    set st__AHSS_Graphics_createTexts=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_createTexts,Condition( function sa__AHSS_Graphics_createTexts))
    set st__AHSS_Graphics_createSelections=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_createSelections,Condition( function sa__AHSS_Graphics_createSelections))
    set st__AHSS_Graphics_draw=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_draw,Condition( function sa__AHSS_Graphics_draw))
    set st__AHSS_Graphics_destroy=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Graphics_destroy,Condition( function sa__AHSS_Graphics_destroy))
    set st__AHSS_Paths_setBackground=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setBackground,Condition( function sa__AHSS_Paths_setBackground))
    set st__AHSS_Paths_setLogo=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setLogo,Condition( function sa__AHSS_Paths_setLogo))
    set st__AHSS_Paths_setEmptyIcon=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setEmptyIcon,Condition( function sa__AHSS_Paths_setEmptyIcon))
    set st__AHSS_Paths_setRandomIcon=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setRandomIcon,Condition( function sa__AHSS_Paths_setRandomIcon))
    set st__AHSS_Paths_setSelection=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setSelection,Condition( function sa__AHSS_Paths_setSelection))
    set st__AHSS_Paths_setStrIcon=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setStrIcon,Condition( function sa__AHSS_Paths_setStrIcon))
    set st__AHSS_Paths_setAgiIcon=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setAgiIcon,Condition( function sa__AHSS_Paths_setAgiIcon))
    set st__AHSS_Paths_setIntIcon=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Paths_setIntIcon,Condition( function sa__AHSS_Paths_setIntIcon))
    set st__AHSS_Options_timeLimit=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Options_timeLimit,Condition( function sa__AHSS_Options_timeLimit))
    set st__AHSS_Options_setIconScale=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Options_setIconScale,Condition( function sa__AHSS_Options_setIconScale))
    set st__AHSS_Options_setIconsByLine=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Options_setIconsByLine,Condition( function sa__AHSS_Options_setIconsByLine))
    set st__AHSS_Options_setSoundClick=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Options_setSoundClick,Condition( function sa__AHSS_Options_setSoundClick))
    set st__AHSS_Options_setSoundError=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Options_setSoundError,Condition( function sa__AHSS_Options_setSoundError))
    set st__AHSS_Options_setSoundOk=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Options_setSoundOk,Condition( function sa__AHSS_Options_setSoundOk))
    set st__AHSS_Options_botsPick=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Options_botsPick,Condition( function sa__AHSS_Options_botsPick))
    set st__AHSS_Heroes_create=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_create,Condition( function sa__AHSS_Heroes_create))
    set st__AHSS_Heroes_addHero=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_addHero,Condition( function sa__AHSS_Heroes_addHero))
    set st__AHSS_Heroes_setStr=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setStr,Condition( function sa__AHSS_Heroes_setStr))
    set st__AHSS_Heroes_setAgi=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setAgi,Condition( function sa__AHSS_Heroes_setAgi))
    set st__AHSS_Heroes_setInt=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setInt,Condition( function sa__AHSS_Heroes_setInt))
    set st__AHSS_Heroes_setDescription=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setDescription,Condition( function sa__AHSS_Heroes_setDescription))
    set st__AHSS_Heroes_setModel=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setModel,Condition( function sa__AHSS_Heroes_setModel))
    set st__AHSS_Heroes_setModelAlternate=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setModelAlternate,Condition( function sa__AHSS_Heroes_setModelAlternate))
    set st__AHSS_Heroes_setIcon=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setIcon,Condition( function sa__AHSS_Heroes_setIcon))
    set st__AHSS_Heroes_setIconPath=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Heroes_setIconPath,Condition( function sa__AHSS_Heroes_setIconPath))
    set st__AHSS_Teams_create=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Teams_create,Condition( function sa__AHSS_Teams_create))
    set st__AHSS_Teams_createTeam=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Teams_createTeam,Condition( function sa__AHSS_Teams_createTeam))
    set st__AHSS_Teams_addPlayer=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Teams_addPlayer,Condition( function sa__AHSS_Teams_addPlayer))
    set st__AHSS_Teams_setSpawningSpot=CreateTrigger()
    call TriggerAddCondition(st__AHSS_Teams_setSpawningSpot,Condition( function sa__AHSS_Teams_setSpawningSpot))
    set st__NinpouUI_resetElements=CreateTrigger()
    call TriggerAddCondition(st__NinpouUI_resetElements,Condition( function sa__NinpouUI_resetElements))
    set st__NinpouShop_resetFocus=CreateTrigger()
    call TriggerAddCondition(st__NinpouShop_resetFocus,Condition( function sa__NinpouShop_resetFocus))
    set st__HeroIcon_start=CreateTrigger()
    call TriggerAddCondition(st__HeroIcon_start,Condition( function sa__HeroIcon_start))
    set st__HeroIcon_create=CreateTrigger()
    call TriggerAddCondition(st__HeroIcon_create,Condition( function sa__HeroIcon_create))
    set st__SwitchCommand_finish=CreateTrigger()
    call TriggerAddCondition(st__SwitchCommand_finish,Condition( function sa__SwitchCommand_finish))
    set st__AntiAFK_timeOut=CreateTrigger()
    call TriggerAddCondition(st__AntiAFK_timeOut,Condition( function sa__AntiAFK_timeOut))
    set st__AntiAFK_chooseHost=CreateTrigger()
    call TriggerAddCondition(st__AntiAFK_chooseHost,Condition( function sa__AntiAFK_chooseHost))
    set st__HidanFlyingScythe_actions=CreateTrigger()
    call TriggerAddCondition(st__HidanFlyingScythe_actions,Condition( function sa__HidanFlyingScythe_actions))
    set st__HanzoSemi_periodicChains=CreateTrigger()
    call TriggerAddCondition(st__HanzoSemi_periodicChains,Condition( function sa__HanzoSemi_periodicChains))
    set st__HanabiT_start=CreateTrigger()
    call TriggerAddCondition(st__HanabiT_start,Condition( function sa__HanabiT_start))
    set st__AkatukiSet_periodic=CreateTrigger()
    call TriggerAddCondition(st__AkatukiSet_periodic,Condition( function sa__AkatukiSet_periodic))
    set st__KisameRing_periodic=CreateTrigger()
    call TriggerAddCondition(st__KisameRing_periodic,Condition( function sa__KisameRing_periodic))
    set st__KyuubiImmolation_periodic=CreateTrigger()
    call TriggerAddCondition(st__KyuubiImmolation_periodic,Condition( function sa__KyuubiImmolation_periodic))
    set st__UnitDex_Remove=CreateTrigger()
    call TriggerAddCondition(st__UnitDex_Remove,Condition( function sa__UnitDex_Remove))
    set st___prototype5[1]=CreateTrigger()
    call TriggerAddAction(st___prototype5[1],function sa___prototype5_TimerUtils___init)
    call TriggerAddCondition(st___prototype5[1],Condition(function sa___prototype5_TimerUtils___init))
    set st___prototype73[1]=CreateTrigger()
    call TriggerAddAction(st___prototype73[1],function sa___prototype73_SetUnitScalePercentEx)
    call TriggerAddCondition(st___prototype73[1],Condition(function sa___prototype73_SetUnitScalePercentEx))
    set st___prototype85[1]=CreateTrigger()
    call TriggerAddAction(st___prototype85[1],function sa___prototype85_SetUnitVertexColorBJEx)
    call TriggerAddCondition(st___prototype85[1],Condition(function sa___prototype85_SetUnitVertexColorBJEx))


























call ExecuteFunc("s__ArrowKey_ArrowKeyEvent___Init__onInit")


call ExecuteFunc("s__User_PlayerUtils___PlayerUtilsInit__onInit")






















































call ExecuteFunc("s__WorldBounds_WorldBounds___WorldBoundInit__onInit")



call ExecuteFunc("s__Camera___CamInit_Camera___CamInitModule__onInit")

call ExecuteFunc("s__Dialog_Dialog___DialogInit__onInit")


call ExecuteFunc("s__UnitDex_UnitDex___UnitDexCore__onInit")



call ExecuteFunc("s__RegisterPlayerUnitEvent___S_RegisterPlayerUnitEvent___M__onInit")















































































































































































































































































































































































    call ExecuteFunc("s__xepreload___init_onInit")
    call ExecuteFunc("s__UnitUtils___InitASCIITable_onInit")
    call ExecuteFunc("s__UnitUtils___UpdateMultiboardS_onInit")
    call ExecuteFunc("s__PlayerName_onInit")
    call ExecuteFunc("s__HealthAboveHero_onInit")
    call ExecuteFunc("s__HokageArmor_onInit")
    call ExecuteFunc("s__MizukageArmor_onInit")
    call ExecuteFunc("s__TsuchikageArmor_onInit")
    call ExecuteFunc("s__RaikageArmor_onInit")
    call ExecuteFunc("s__KazekageArmor_onInit")
    call ExecuteFunc("s__OtokageArmor_onInit")
    call ExecuteFunc("s__SageArmor_onInit")
    call ExecuteFunc("s__DarkKunaiArmor_onInit")
    call ExecuteFunc("s__DarkShurikenArmor_onInit")
    call ExecuteFunc("s__DarkSenbonsArmor_onInit")
    call ExecuteFunc("s__HeavenStoneArmor_onInit")
    call ExecuteFunc("s__KyuubiSpearArmor_onInit")
    call ExecuteFunc("s__HeavenMirrorArmor_onInit")
    call ExecuteFunc("s__JuubiSkinArmor_onInit")
    call ExecuteFunc("s__AdamantineStaffArmor_onInit")
    call ExecuteFunc("s__IronFanArmor_onInit")
    call ExecuteFunc("s__Recipes_onInit")
    call ExecuteFunc("s__RecipeBashosen_onInit")
    call ExecuteFunc("s__BadgeOfAnbu_onInit")
    call ExecuteFunc("s__JadePassive__Item_onInit")
    call ExecuteFunc("s__SpiritOrbs_onInit")
    call ExecuteFunc("s__SanbiSkinKillBunshin_onInit")
    call ExecuteFunc("s__RikuudouNecklacePassive_onInit")
    call ExecuteFunc("s__EightHeadSwordCritical_onInit")
    call ExecuteFunc("s__ThunderKusanagiCritical_onInit")
    call ExecuteFunc("s__EarthKusanagiCritical_onInit")
    call ExecuteFunc("s__HeavenSwordCritical_onInit")
    call ExecuteFunc("s__LightKusanagiCritical_onInit")
    call ExecuteFunc("s__WindKusanagiCritical_onInit")
    call ExecuteFunc("s__DarkKusanagiCritical_onInit")
    call ExecuteFunc("s__FireKusanagiCritical_onInit")
    call ExecuteFunc("s__IceKusanagiCritical_onInit")
    call ExecuteFunc("s__BookCritical_onInit")
    call ExecuteFunc("s__MedicalNinjaCloth_onInit")
    call ExecuteFunc("s__SamehadaMana_onInit")
    call ExecuteFunc("s__KyuubiImmolation_onInit")
    call ExecuteFunc("s__AntiEnergyStones_onInit")
    call ExecuteFunc("s__HokageRobeAura_onInit")
    call ExecuteFunc("s__KazekageRobeAura_onInit")
    call ExecuteFunc("s__ItachiRing_onInit")
    call ExecuteFunc("s__KisameRing_onInit")
    call ExecuteFunc("s__SasoriRingGold_onInit")
    call ExecuteFunc("s__Fireworks_onInit")
    call ExecuteFunc("s__BijuuEssence_onInit")
    call ExecuteFunc("s__WireStrings_onInit")
    call ExecuteFunc("s__MedicalSphere_onInit")
    call ExecuteFunc("s__WoodOfSubstitution_onInit")
    call ExecuteFunc("s__SmokeBomb_onInit")
    call ExecuteFunc("s__YataMirror_onInit")
    call ExecuteFunc("s__Oil_onInit")
    call ExecuteFunc("s__PoisonPill_onInit")
    call ExecuteFunc("s__Bomb_onInit")
    call ExecuteFunc("s__NewChain_onInit")
    call ExecuteFunc("s__BlastingSphere_onInit")
    call ExecuteFunc("s__DragonBlast_onInit")
    call ExecuteFunc("s__ItemFuumaShuriken_onInit")
    call ExecuteFunc("s__ItemExplosiveKunai_onInit")
    call ExecuteFunc("s__SenbonsDance_onInit")
    call ExecuteFunc("s__TimedExplosiveTag_onInit")
    call ExecuteFunc("s__ExplosiveTagExplosion_onInit")
    call ExecuteFunc("s__KohakuNoJohei_onInit")
    call ExecuteFunc("s__HiraishinKunai_onInit")
    call ExecuteFunc("s__Bashosen__Item_onInit")
    call ExecuteFunc("s__Makibishi_onInit")
    call ExecuteFunc("s__NinjaNet_onInit")
    call ExecuteFunc("s__SanbiProtection_onInit")
    call ExecuteFunc("s__AkatukiSet_onInit")
    call ExecuteFunc("s__GreaterMedicalSphere_onInit")
    call ExecuteFunc("s__ReverseOfAllCreation_onInit")
    call ExecuteFunc("s__SubjugationOfEarth_onInit")
    call ExecuteFunc("s__SubjugationOfHeaven_onInit")
    call ExecuteFunc("s__ElementalANBUMask_onInit")
    call ExecuteFunc("s__HeavenStone_onInit")
    call ExecuteFunc("s__HealingShoes_onInit")
    call ExecuteFunc("s__InvisibilityShoes_onInit")
    call ExecuteFunc("s__ScrollOfTeleport_onInit")
    call ExecuteFunc("s__BunshinStoneNew_onInit")
    call ExecuteFunc("s__ItemShikiFuujin_onInit")
    call ExecuteFunc("s__HeavenSwordActive_onInit")
    call ExecuteFunc("s__AdamantineStaffActive__Spell_onInit")
    call ExecuteFunc("s__ExecutionBlade_onInit")
    call ExecuteFunc("s__ThunderKusanagi_onInit")
    call ExecuteFunc("s__NewKusanagiStrike_onInit")
    call ExecuteFunc("s__LightKusanagi_onInit")
    call ExecuteFunc("s__FireKusanagi_onInit")
    call ExecuteFunc("s__IceKusanagi_onInit")
    call ExecuteFunc("s__EarthPierce_onInit")
    call ExecuteFunc("s__DarkKusanagi_onInit")
    call ExecuteFunc("s__WindKusa_onInit")
    call ExecuteFunc("s__Shichiseiken_onInit")
    call ExecuteFunc("s__NewHidanScythe_onInit")
    call ExecuteFunc("s__ZetsuRing_onInit")
    call ExecuteFunc("s__ItachiRingActive_onInit")
    call ExecuteFunc("s__AnkoQ_onInit")
    call ExecuteFunc("s__AnkoW_onInit")
    call ExecuteFunc("s__AnkoE_onInit")
    call ExecuteFunc("s__AnkoR_onInit")
    call ExecuteFunc("s__AnkoT_onInit")
    call ExecuteFunc("s__AnkoD_onInit")
    call ExecuteFunc("s__Ox__Spell_onInit")
    call ExecuteFunc("s__Dog_onInit")
    call ExecuteFunc("s__Cloak_onInit")
    call ExecuteFunc("s__Crab__Spell_onInit")
    call ExecuteFunc("s__Bird_onInit")
    call ExecuteFunc("s__Panda_onInit")
    call ExecuteFunc("s__AsumaChakraBlades_onInit")
    call ExecuteFunc("s__AsumaWind_onInit")
    call ExecuteFunc("s__AsumaFireR_onInit")
    call ExecuteFunc("s__AsumaUltimateChoice_onInit")
    call ExecuteFunc("s__AsumaChakraBladesPassive_onInit")
    call ExecuteFunc("s__AsumaLevel_onInit")
    call ExecuteFunc("s__BorutoStream_onInit")
    call ExecuteFunc("s__BorutoFarm_onInit")
    call ExecuteFunc("s__BorutoClone_onInit")
    call ExecuteFunc("s__BorutoRasengan_onInit")
    call ExecuteFunc("s__BorutoOyakoRasengan__Spell_onInit")
    call ExecuteFunc("s__ChiyoTrap_onInit")
    call ExecuteFunc("s__ChiyoFlyingKunais_onInit")
    call ExecuteFunc("s__ChiyoAssaultBlade_onInit")
    call ExecuteFunc("s__ChiyoChakraThreads_onInit")
    call ExecuteFunc("s__ChiyoNewSemi_onInit")
    call ExecuteFunc("s__ChiyoNewUltimate_onInit")
    call ExecuteFunc("s__ChoujiNewNikudanSensha_onInit")
    call ExecuteFunc("s__ChoujiChoharite_onInit")
    call ExecuteFunc("s__ChoujiNewUlt_onInit")
    call ExecuteFunc("s__DanzoShuriken_onInit")
    call ExecuteFunc("s__DanzoNewSemi_onInit")
    call ExecuteFunc("s__DanzoMissile_onInit")
    call ExecuteFunc("s__DanzoNewIzanagiSM__DanzoNewNewIzanagi_onInit")
    call ExecuteFunc("s__DanzoSuicide_onInit")
    call ExecuteFunc("s__DaruiRaiton_onInit")
    call ExecuteFunc("s__DaruiNewSuiton_onInit")
    call ExecuteFunc("s__DaruiLightningStrike_onInit")
    call ExecuteFunc("s__DaruiLaserCircus__Spell_onInit")
    call ExecuteFunc("s__DaruiBlackPanther_onInit")
    call ExecuteFunc("s__DaruiBlackLightning_onInit")
    call ExecuteFunc("s__DeidaraBeautyOfDestruction_onInit")
    call ExecuteFunc("s__DeidaraEternalExplosion_onInit")
    call ExecuteFunc("s__DosuQ_onInit")
    call ExecuteFunc("s__DosuSoundPunch_onInit")
    call ExecuteFunc("s__DosuSoundBarrier_onInit")
    call ExecuteFunc("s__DosuVibrations_onInit")
    call ExecuteFunc("s__DosuWavesOfDestruction_onInit")
    call ExecuteFunc("s__DosuEchoChamber_onInit")
    call ExecuteFunc("s__FuuCocoon_onInit")
    call ExecuteFunc("s__FuuNet_onInit")
    call ExecuteFunc("s__FuuGrab_onInit")
    call ExecuteFunc("s__FuuAssault_onInit")
    call ExecuteFunc("s__FuuPowder_onInit")
    call ExecuteFunc("s__FuuUltimate_onInit")
    call ExecuteFunc("s__GaaraSandShield___Spell_onInit")
    call ExecuteFunc("s__GaaraNewQ_onInit")
    call ExecuteFunc("s__GaaraFly_onInit")
    call ExecuteFunc("s__GaaraNewSemi_onInit")
    call ExecuteFunc("s__SabakuSotaisonDie_onInit")
    call ExecuteFunc("s__GaaraUltimate_onInit")
    call ExecuteFunc("s__GaaraUltimateChoice_onInit")
    call ExecuteFunc("s__GaiOmoteRenge___Spell_onInit")
    call ExecuteFunc("s__HachimonLifeDrain_onInit")
    call ExecuteFunc("s__GaiEighthGates_onInit")
    call ExecuteFunc("s__GaiEveningElephant_onInit")
    call ExecuteFunc("s__NidaimeMizukageWaterPistol___Spell_onInit")
    call ExecuteFunc("s__NidaimeMizukageBubbles___Spell_onInit")
    call ExecuteFunc("s__NidaimeMizukageSuikaNoJutsu___Spell_onInit")
    call ExecuteFunc("s__NidaimeMIzukageClamDrop_onInit")
    call ExecuteFunc("s__NidaimeMizukageGenjutsu___Spell_onInit")
    call ExecuteFunc("s__NidaimeMizukageJokiBoi___Spell_onInit")
    call ExecuteFunc("s__GureNewQ_onInit")
    call ExecuteFunc("s__GurenNewSemi_onInit")
    call ExecuteFunc("s__GurenBash_onInit")
    call ExecuteFunc("s__GurenCrystalLabyrinth_onInit")
    call ExecuteFunc("s__HakuDomo_onInit")
    call ExecuteFunc("s__HakuNewBackslash_onInit")
    call ExecuteFunc("s__HakuHissatsu_onInit")
    call ExecuteFunc("s__HakuNewE_onInit")
    call ExecuteFunc("s__HakuNewSemi_onInit")
    call ExecuteFunc("s__HakuNewUltimate_onInit")
    call ExecuteFunc("s__HanFugokyaku_onInit")
    call ExecuteFunc("s__HanFunseiken___Spell_onInit")
    call ExecuteFunc("s__HanJokiNoyoroi_onInit")
    call ExecuteFunc("s__HanSemi_onInit")
    call ExecuteFunc("s__HanNewUltimate_onInit")
    call ExecuteFunc("s__HanMoveSpeed_onInit")
    call ExecuteFunc("s__HanabiD_onInit")
    call ExecuteFunc("s__HanabiQ_onInit")
    call ExecuteFunc("s__HanabiW_onInit")
    call ExecuteFunc("s__Counter_onInit")
    call ExecuteFunc("s__HanabiR_onInit")
    call ExecuteFunc("s__HanabiT_onInit")
    call ExecuteFunc("s__HanzoReveal_onInit")
    call ExecuteFunc("s__HanzoThrowScythe_onInit")
    call ExecuteFunc("s__HanzoPoisonFog_onInit")
    call ExecuteFunc("s__HanzoUppercut_onInit")
    call ExecuteFunc("s__HanzoSemi_onInit")
    call ExecuteFunc("s__HanzoMist_onInit")
    call ExecuteFunc("s__HanzoIbsue_onInit")
    call ExecuteFunc("s__HanzoUltimateChoice_onInit")
    call ExecuteFunc("s__HashiramaWoodDragon___Spell_onInit")
    call ExecuteFunc("s__HashiramaGate___Spell_onInit")
    call ExecuteFunc("s__HashiramaWoodHuman_onInit")
    call ExecuteFunc("s__HashiramaStatue___Spell_onInit")
    call ExecuteFunc("s__HashiramaNewKoutan_onInit")
    call ExecuteFunc("s__HashiramaUltimateChoice_onInit")
    call ExecuteFunc("s__HashiramaFlowers_onInit")
    call ExecuteFunc("s__EdoHashiramaGate___Spell_onInit")
    call ExecuteFunc("s__EdoTenseiHashiramaStatue___Spell_onInit")
    call ExecuteFunc("s__HayateSwordStrike___Spell_onInit")
    call ExecuteFunc("s__HayateExplosiveKunai_onInit")
    call ExecuteFunc("s__HayateNewSemi_onInit")
    call ExecuteFunc("s__HayateUltimate_onInit")
    call ExecuteFunc("s__HayateKageBunshin_onInit")
    call ExecuteFunc("s__HayateKageBunshinSwap_onInit")
    call ExecuteFunc("s__HidanNewQ_onInit")
    call ExecuteFunc("s__HidanNewW_onInit")
    call ExecuteFunc("s__HidanThrowScythe_onInit")
    call ExecuteFunc("s__HidanNewR_onInit")
    call ExecuteFunc("s__HidanNewT_onInit")
    call ExecuteFunc("s__HinataNewSemi_onInit")
    call ExecuteFunc("s__HinataNewShoshiken_onInit")
    call ExecuteFunc("s__HinataKuutenNew_onInit")
    call ExecuteFunc("s__HinataUltimateChoice_onInit")
    call ExecuteFunc("s__HiruzenSummonEnma_onInit")
    call ExecuteFunc("s__HiruzenCageNew___Spell_onInit")
    call ExecuteFunc("s__HiruzenQ_onInit")
    call ExecuteFunc("s__HiruzenShuriken_onInit")
    call ExecuteFunc("s__HiruzenE_onInit")
    call ExecuteFunc("s__HiruzenKongoRoheki_onInit")
    call ExecuteFunc("s__HiruzenSemiUltimateChoice_onInit")
    call ExecuteFunc("s__HiruzenLevel_onInit")
    call ExecuteFunc("s__HiruzenNewUltimate_onInit")
    call ExecuteFunc("s__HiruzenUltimateChoice_onInit")
    call ExecuteFunc("s__IchigoQ_onInit")
    call ExecuteFunc("s__IchigoDies_onInit")
    call ExecuteFunc("s__IchigoW_onInit")
    call ExecuteFunc("s__IchigoCero___Spell_onInit")
    call ExecuteFunc("s__IchigoE_onInit")
    call ExecuteFunc("s__IchigoUnleash_onInit")
    call ExecuteFunc("s__IchigoTLevel_onInit")
    call ExecuteFunc("s__IchigoD_onInit")
    call ExecuteFunc("s__IchigoSlash_onInit")
    call ExecuteFunc("s__IchigoAttacks_onInit")
    call ExecuteFunc("s__IchigoAbiltiies___Spell_onInit")
    call ExecuteFunc("s__InoMindDistraction_onInit")
    call ExecuteFunc("s__InoPetals_onInit")
    call ExecuteFunc("s__InoHealingPetals_onInit")
    call ExecuteFunc("s__InoNewSemi_onInit")
    call ExecuteFunc("s__InoNewChouShinka_onInit")
    call ExecuteFunc("s__InoNewD_onInit")
    call ExecuteFunc("s__IrukaMakibishi_onInit")
    call ExecuteFunc("s__IrukaFuumaShuriken_onInit")
    call ExecuteFunc("s__IrukaTrap_onInit")
    call ExecuteFunc("s__SasukeAmaterasu_onInit")
    call ExecuteFunc("s__AntiAFK_onInit")
    call ExecuteFunc("s__ModeMinutesGold_onInit")
    call ExecuteFunc("s__FixTeamDuelLocations_onInit")
    call ExecuteFunc("s__MissionARankReward_onInit")
    call ExecuteFunc("s__TeamDuel_onInit")
    call ExecuteFunc("s__SendGoldAndCystal__Command_onInit")
    call ExecuteFunc("s__BuyAttributes_onInit")
    call ExecuteFunc("s__Killme_onInit")
    call ExecuteFunc("s__MoveSpeedBug_onInit")
    call ExecuteFunc("s__WindowCommand_onInit")
    call ExecuteFunc("s__RangeCommand_onInit")
    call ExecuteFunc("s__SwitchCommand_onInit")
    call ExecuteFunc("s__LockCamera_onInit")
    call ExecuteFunc("s__StreamCommand_onInit")
    call ExecuteFunc("s__ShowTimers_onInit")
    call ExecuteFunc("s__CreateMultiboard_onInit")
    call ExecuteFunc("s__GPMMultiboard_onInit")
    call ExecuteFunc("s__UndergroundDrainMana_onInit")
    call ExecuteFunc("s__MusicS_onInit")
    call ExecuteFunc("s__HeroUIMessage_onInit")
    call ExecuteFunc("s__NinpouShop_onInit")
    call ExecuteFunc("s__NinpouUI_onInit")
    call ExecuteFunc("s__AHSS_Configurations_onInit")
    call ExecuteFunc("s__AHSS_Graphics_onInit")
    call ExecuteFunc("s__TowerDestruction_onInit")
    call ExecuteFunc("s__NewRepick_onInit")
    call ExecuteFunc("s__NewSwap_onInit")
    call ExecuteFunc("s__ChakraJump_onInit")
    call ExecuteFunc("s__FixTransformations_onInit")
    call ExecuteFunc("s__SetUnitVariables_onInit")
    call ExecuteFunc("s__AssistSystem__System_onInit")
    call ExecuteFunc("s__BaseRemoveItems_onInit")
    call ExecuteFunc("s__SpawnBijuus_onInit")
    call ExecuteFunc("s__Spectator_onInit")
    call ExecuteFunc("s__PeriodicActions_onInit")
endfunction

